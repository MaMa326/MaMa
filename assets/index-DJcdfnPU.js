(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rx={exports:{}},nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function dD(){if($b)return nf;$b=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:s}}return nf.Fragment=e,nf.jsx=r,nf.jsxs=r,nf}var e_;function hD(){return e_||(e_=1,Rx.exports=dD()),Rx.exports}var f=hD(),kx={exports:{}},xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function gD(){if(t_)return xr;t_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),b=Symbol.iterator;function S(ie){return ie===null||typeof ie!="object"?null:(ie=b&&ie[b]||ie["@@iterator"],typeof ie=="function"?ie:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function V(ie,W,oe){this.props=ie,this.context=W,this.refs=U,this.updater=oe||R}V.prototype.isReactComponent={},V.prototype.setState=function(ie,W){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,W,"setState")},V.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function G(){}G.prototype=V.prototype;function Q(ie,W,oe){this.props=ie,this.context=W,this.refs=U,this.updater=oe||R}var J=Q.prototype=new G;J.constructor=Q,k(J,V.prototype),J.isPureReactComponent=!0;var Z=Array.isArray;function K(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function O(ie,W,oe){var ae=oe.ref;return{$$typeof:t,type:ie,key:W,ref:ae!==void 0?ae:null,props:oe}}function re(ie,W){return O(ie.type,W,ie.props)}function te(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===t}function q(ie){var W={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(oe){return W[oe]})}var X=/\/+/g;function Re(ie,W){return typeof ie=="object"&&ie!==null&&ie.key!=null?q(""+ie.key):W.toString(36)}function xe(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(K,K):(ie.status="pending",ie.then(function(W){ie.status==="pending"&&(ie.status="fulfilled",ie.value=W)},function(W){ie.status==="pending"&&(ie.status="rejected",ie.reason=W)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function me(ie,W,oe,ae,ue){var Ee=typeof ie;(Ee==="undefined"||Ee==="boolean")&&(ie=null);var qe=!1;if(ie===null)qe=!0;else switch(Ee){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(ie.$$typeof){case t:case e:qe=!0;break;case m:return qe=ie._init,me(qe(ie._payload),W,oe,ae,ue)}}if(qe)return ue=ue(ie),qe=ae===""?"."+Re(ie,0):ae,Z(ue)?(oe="",qe!=null&&(oe=qe.replace(X,"$&/")+"/"),me(ue,W,oe,"",function(Ze){return Ze})):ue!=null&&(te(ue)&&(ue=re(ue,oe+(ue.key==null||ie&&ie.key===ue.key?"":(""+ue.key).replace(X,"$&/")+"/")+qe)),W.push(ue)),1;qe=0;var Ne=ae===""?".":ae+":";if(Z(ie))for(var Me=0;Me<ie.length;Me++)ae=ie[Me],Ee=Ne+Re(ae,Me),qe+=me(ae,W,oe,Ee,ue);else if(Me=S(ie),typeof Me=="function")for(ie=Me.call(ie),Me=0;!(ae=ie.next()).done;)ae=ae.value,Ee=Ne+Re(ae,Me++),qe+=me(ae,W,oe,Ee,ue);else if(Ee==="object"){if(typeof ie.then=="function")return me(xe(ie),W,oe,ae,ue);throw W=String(ie),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return qe}function Ce(ie,W,oe){if(ie==null)return ie;var ae=[],ue=0;return me(ie,ae,"","",function(Ee){return W.call(oe,Ee,ue++)}),ae}function We(ie){if(ie._status===-1){var W=ie._result;W=W(),W.then(function(oe){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=oe)},function(oe){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=oe)}),ie._status===-1&&(ie._status=0,ie._result=W)}if(ie._status===1)return ie._result.default;throw ie._result}var be=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},Ye={map:Ce,forEach:function(ie,W,oe){Ce(ie,function(){W.apply(this,arguments)},oe)},count:function(ie){var W=0;return Ce(ie,function(){W++}),W},toArray:function(ie){return Ce(ie,function(W){return W})||[]},only:function(ie){if(!te(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return xr.Activity=C,xr.Children=Ye,xr.Component=V,xr.Fragment=r,xr.Profiler=i,xr.PureComponent=Q,xr.StrictMode=n,xr.Suspense=d,xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,xr.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return M.H.useMemoCache(ie)}},xr.cache=function(ie){return function(){return ie.apply(null,arguments)}},xr.cacheSignal=function(){return null},xr.cloneElement=function(ie,W,oe){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var ae=k({},ie.props),ue=ie.key;if(W!=null)for(Ee in W.key!==void 0&&(ue=""+W.key),W)!P.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(ae[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)ae.children=oe;else if(1<Ee){for(var qe=Array(Ee),Ne=0;Ne<Ee;Ne++)qe[Ne]=arguments[Ne+2];ae.children=qe}return O(ie.type,ue,ae)},xr.createContext=function(ie){return ie={$$typeof:o,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:s,_context:ie},ie},xr.createElement=function(ie,W,oe){var ae,ue={},Ee=null;if(W!=null)for(ae in W.key!==void 0&&(Ee=""+W.key),W)P.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=W[ae]);var qe=arguments.length-2;if(qe===1)ue.children=oe;else if(1<qe){for(var Ne=Array(qe),Me=0;Me<qe;Me++)Ne[Me]=arguments[Me+2];ue.children=Ne}if(ie&&ie.defaultProps)for(ae in qe=ie.defaultProps,qe)ue[ae]===void 0&&(ue[ae]=qe[ae]);return O(ie,Ee,ue)},xr.createRef=function(){return{current:null}},xr.forwardRef=function(ie){return{$$typeof:c,render:ie}},xr.isValidElement=te,xr.lazy=function(ie){return{$$typeof:m,_payload:{_status:-1,_result:ie},_init:We}},xr.memo=function(ie,W){return{$$typeof:h,type:ie,compare:W===void 0?null:W}},xr.startTransition=function(ie){var W=M.T,oe={};M.T=oe;try{var ae=ie(),ue=M.S;ue!==null&&ue(oe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(K,be)}catch(Ee){be(Ee)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),M.T=W}},xr.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},xr.use=function(ie){return M.H.use(ie)},xr.useActionState=function(ie,W,oe){return M.H.useActionState(ie,W,oe)},xr.useCallback=function(ie,W){return M.H.useCallback(ie,W)},xr.useContext=function(ie){return M.H.useContext(ie)},xr.useDebugValue=function(){},xr.useDeferredValue=function(ie,W){return M.H.useDeferredValue(ie,W)},xr.useEffect=function(ie,W){return M.H.useEffect(ie,W)},xr.useEffectEvent=function(ie){return M.H.useEffectEvent(ie)},xr.useId=function(){return M.H.useId()},xr.useImperativeHandle=function(ie,W,oe){return M.H.useImperativeHandle(ie,W,oe)},xr.useInsertionEffect=function(ie,W){return M.H.useInsertionEffect(ie,W)},xr.useLayoutEffect=function(ie,W){return M.H.useLayoutEffect(ie,W)},xr.useMemo=function(ie,W){return M.H.useMemo(ie,W)},xr.useOptimistic=function(ie,W){return M.H.useOptimistic(ie,W)},xr.useReducer=function(ie,W,oe){return M.H.useReducer(ie,W,oe)},xr.useRef=function(ie){return M.H.useRef(ie)},xr.useState=function(ie){return M.H.useState(ie)},xr.useSyncExternalStore=function(ie,W,oe){return M.H.useSyncExternalStore(ie,W,oe)},xr.useTransition=function(){return M.H.useTransition()},xr.version="19.2.4",xr}var r_;function sv(){return r_||(r_=1,kx.exports=gD()),kx.exports}var ye=sv();const pD=BS(ye);var Dx={exports:{}},sf={},Ux={exports:{}},Mx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function mD(){return n_||(n_=1,(function(t){function e(me,Ce){var We=me.length;me.push(Ce);e:for(;0<We;){var be=We-1>>>1,Ye=me[be];if(0<i(Ye,Ce))me[be]=Ce,me[We]=Ye,We=be;else break e}}function r(me){return me.length===0?null:me[0]}function n(me){if(me.length===0)return null;var Ce=me[0],We=me.pop();if(We!==Ce){me[0]=We;e:for(var be=0,Ye=me.length,ie=Ye>>>1;be<ie;){var W=2*(be+1)-1,oe=me[W],ae=W+1,ue=me[ae];if(0>i(oe,We))ae<Ye&&0>i(ue,oe)?(me[be]=ue,me[ae]=We,be=ae):(me[be]=oe,me[W]=We,be=W);else if(ae<Ye&&0>i(ue,We))me[be]=ue,me[ae]=We,be=ae;else break e}}return Ce}function i(me,Ce){var We=me.sortIndex-Ce.sortIndex;return We!==0?We:me.id-Ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,C=null,b=3,S=!1,R=!1,k=!1,U=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function J(me){for(var Ce=r(h);Ce!==null;){if(Ce.callback===null)n(h);else if(Ce.startTime<=me)n(h),Ce.sortIndex=Ce.expirationTime,e(d,Ce);else break;Ce=r(h)}}function Z(me){if(k=!1,J(me),!R)if(r(d)!==null)R=!0,K||(K=!0,q());else{var Ce=r(h);Ce!==null&&xe(Z,Ce.startTime-me)}}var K=!1,M=-1,P=5,O=-1;function re(){return U?!0:!(t.unstable_now()-O<P)}function te(){if(U=!1,K){var me=t.unstable_now();O=me;var Ce=!0;try{e:{R=!1,k&&(k=!1,G(M),M=-1),S=!0;var We=b;try{t:{for(J(me),C=r(d);C!==null&&!(C.expirationTime>me&&re());){var be=C.callback;if(typeof be=="function"){C.callback=null,b=C.priorityLevel;var Ye=be(C.expirationTime<=me);if(me=t.unstable_now(),typeof Ye=="function"){C.callback=Ye,J(me),Ce=!0;break t}C===r(d)&&n(d),J(me)}else n(d);C=r(d)}if(C!==null)Ce=!0;else{var ie=r(h);ie!==null&&xe(Z,ie.startTime-me),Ce=!1}}break e}finally{C=null,b=We,S=!1}Ce=void 0}}finally{Ce?q():K=!1}}}var q;if(typeof Q=="function")q=function(){Q(te)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Re=X.port2;X.port1.onmessage=te,q=function(){Re.postMessage(null)}}else q=function(){V(te,0)};function xe(me,Ce){M=V(function(){me(t.unstable_now())},Ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(me){switch(b){case 1:case 2:case 3:var Ce=3;break;default:Ce=b}var We=b;b=Ce;try{return me()}finally{b=We}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(me,Ce){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var We=b;b=me;try{return Ce()}finally{b=We}},t.unstable_scheduleCallback=function(me,Ce,We){var be=t.unstable_now();switch(typeof We=="object"&&We!==null?(We=We.delay,We=typeof We=="number"&&0<We?be+We:be):We=be,me){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=We+Ye,me={id:m++,callback:Ce,priorityLevel:me,startTime:We,expirationTime:Ye,sortIndex:-1},We>be?(me.sortIndex=We,e(h,me),r(d)===null&&me===r(h)&&(k?(G(M),M=-1):k=!0,xe(Z,We-be))):(me.sortIndex=Ye,e(d,me),R||S||(R=!0,K||(K=!0,q()))),me},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(me){var Ce=b;return function(){var We=b;b=Ce;try{return me.apply(this,arguments)}finally{b=We}}}})(Mx)),Mx}var i_;function xD(){return i_||(i_=1,Ux.exports=mD()),Ux.exports}var Ox={exports:{}},as={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function wD(){if(s_)return as;s_=1;var t=sv();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,m){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:C==null?null:""+C,children:d,containerInfo:h,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,as.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},as.flushSync=function(d){var h=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=h,n.p=m,n.d.f()}},as.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},as.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},as.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,C=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:S}):m==="script"&&n.d.X(d,{crossOrigin:C,integrity:b,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},as.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},as.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,C=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},as.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},as.requestFormReset=function(d){n.d.r(d)},as.unstable_batchedUpdates=function(d,h){return d(h)},as.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},as.useFormStatus=function(){return o.H.useHostTransitionStatus()},as.version="19.2.4",as}var a_;function vD(){if(a_)return Ox.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ox.exports=wD(),Ox.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function yD(){if(o_)return sf;o_=1;var t=xD(),e=sv(),r=vD();function n(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)A+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var A=a,p=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(p=A.return),a=A.return;while(a)}return A.tag===3?p:null}function o(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function c(a){if(a.tag===31){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(n(188))}function h(a){var A=a.alternate;if(!A){if(A=s(a),A===null)throw Error(n(188));return A!==a?null:a}for(var p=a,v=A;;){var I=p.return;if(I===null)break;var F=I.alternate;if(F===null){if(v=I.return,v!==null){p=v;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===p)return d(I),a;if(F===v)return d(I),A;F=F.sibling}throw Error(n(188))}if(p.return!==v.return)p=I,v=F;else{for(var j=!1,Ae=I.child;Ae;){if(Ae===p){j=!0,p=I,v=F;break}if(Ae===v){j=!0,v=I,p=F;break}Ae=Ae.sibling}if(!j){for(Ae=F.child;Ae;){if(Ae===p){j=!0,p=F,v=I;break}if(Ae===v){j=!0,v=F,p=I;break}Ae=Ae.sibling}if(!j)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:A}function m(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=m(a),A!==null)return A;a=a.sibling}return null}var C=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function Re(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case V:return"Profiler";case U:return"StrictMode";case Z:return"Suspense";case K:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case R:return"Portal";case Q:return a.displayName||"Context";case G:return(a._context.displayName||"Context")+".Consumer";case J:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return A=a.displayName||null,A!==null?A:Re(a.type)||"Memo";case P:A=a._payload,a=a._init;try{return Re(a(A))}catch{}}return null}var xe=Array.isArray,me=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,We={pending:!1,data:null,method:null,action:null},be=[],Ye=-1;function ie(a){return{current:a}}function W(a){0>Ye||(a.current=be[Ye],be[Ye]=null,Ye--)}function oe(a,A){Ye++,be[Ye]=a.current,a.current=A}var ae=ie(null),ue=ie(null),Ee=ie(null),qe=ie(null);function Ne(a,A){switch(oe(Ee,A),oe(ue,a),oe(ae,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?Cb(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=Cb(A),a=Eb(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(ae),oe(ae,a)}function Me(){W(ae),W(ue),W(Ee)}function Ze(a){a.memoizedState!==null&&oe(qe,a);var A=ae.current,p=Eb(A,a.type);A!==p&&(oe(ue,a),oe(ae,p))}function Tt(a){ue.current===a&&(W(ae),W(ue)),qe.current===a&&(W(qe),$0._currentValue=We)}var le,tt;function yt(a){if(le===void 0)try{throw Error()}catch(p){var A=p.stack.trim().match(/\n( *(at )?)/);le=A&&A[1]||"",tt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+tt}var kt=!1;function ct(a,A){if(!a||kt)return"";kt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(A){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(rt){var Xe=rt}Reflect.construct(a,[],dt)}else{try{dt.call()}catch(rt){Xe=rt}a.call(dt.prototype)}}else{try{throw Error()}catch(rt){Xe=rt}(dt=a())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(rt){if(rt&&Xe&&typeof rt.stack=="string")return[rt.stack,Xe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=v.DetermineComponentFrameRoot(),j=F[0],Ae=F[1];if(j&&Ae){var _e=j.split(`
`),Ge=Ae.split(`
`);for(I=v=0;v<_e.length&&!_e[v].includes("DetermineComponentFrameRoot");)v++;for(;I<Ge.length&&!Ge[I].includes("DetermineComponentFrameRoot");)I++;if(v===_e.length||I===Ge.length)for(v=_e.length-1,I=Ge.length-1;1<=v&&0<=I&&_e[v]!==Ge[I];)I--;for(;1<=v&&0<=I;v--,I--)if(_e[v]!==Ge[I]){if(v!==1||I!==1)do if(v--,I--,0>I||_e[v]!==Ge[I]){var lt=`
`+_e[v].replace(" at new "," at ");return a.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",a.displayName)),lt}while(1<=v&&0<=I);break}}}finally{kt=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?yt(p):""}function at(a,A){switch(a.tag){case 26:case 27:case 5:return yt(a.type);case 16:return yt("Lazy");case 13:return a.child!==A&&A!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return ct(a.type,!1);case 11:return ct(a.type.render,!1);case 1:return ct(a.type,!0);case 31:return yt("Activity");default:return""}}function Nt(a){try{var A="",p=null;do A+=at(a,p),p=a,a=a.return;while(a);return A}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Rt=Object.prototype.hasOwnProperty,fr=t.unstable_scheduleCallback,bt=t.unstable_cancelCallback,nn=t.unstable_shouldYield,Yr=t.unstable_requestPaint,Qe=t.unstable_now,Ue=t.unstable_getCurrentPriorityLevel,ot=t.unstable_ImmediatePriority,Dt=t.unstable_UserBlockingPriority,Zt=t.unstable_NormalPriority,ut=t.unstable_LowPriority,Bt=t.unstable_IdlePriority,Yt=t.log,Br=t.unstable_setDisableYieldValue,Gt=null,Be=null;function Lt(a){if(typeof Yt=="function"&&Br(a),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Gt,a)}catch{}}var ke=Math.clz32?Math.clz32:Rr,Mt=Math.log,dr=Math.LN2;function Rr(a){return a>>>=0,a===0?32:31-(Mt(a)/dr|0)|0}var Nn=256,ar=262144,Kn=4194304;function Vr(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function zn(a,A,p){var v=a.pendingLanes;if(v===0)return 0;var I=0,F=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var Ae=v&134217727;return Ae!==0?(v=Ae&~F,v!==0?I=Vr(v):(j&=Ae,j!==0?I=Vr(j):p||(p=Ae&~a,p!==0&&(I=Vr(p))))):(Ae=v&~F,Ae!==0?I=Vr(Ae):j!==0?I=Vr(j):p||(p=v&~a,p!==0&&(I=Vr(p)))),I===0?0:A!==0&&A!==I&&(A&F)===0&&(F=I&-I,p=A&-A,F>=p||F===32&&(p&4194048)!==0)?A:I}function yn(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function Ie(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function At(){var a=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),a}function st(a){for(var A=[],p=0;31>p;p++)A.push(a);return A}function mt(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Pt(a,A,p,v,I,F){var j=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var Ae=a.entanglements,_e=a.expirationTimes,Ge=a.hiddenUpdates;for(p=j&~p;0<p;){var lt=31-ke(p),dt=1<<lt;Ae[lt]=0,_e[lt]=-1;var Xe=Ge[lt];if(Xe!==null)for(Ge[lt]=null,lt=0;lt<Xe.length;lt++){var rt=Xe[lt];rt!==null&&(rt.lane&=-536870913)}p&=~dt}v!==0&&Wn(a,v,0),F!==0&&I===0&&a.tag!==0&&(a.suspendedLanes|=F&~(j&~A))}function Wn(a,A,p){a.pendingLanes|=A,a.suspendedLanes&=~A;var v=31-ke(A);a.entangledLanes|=A,a.entanglements[v]=a.entanglements[v]|1073741824|p&261930}function Jr(a,A){var p=a.entangledLanes|=A;for(a=a.entanglements;p;){var v=31-ke(p),I=1<<v;I&A|a[v]&A&&(a[v]|=A),p&=~I}}function Pi(a,A){var p=A&-A;return p=(p&42)!==0?1:Cn(p),(p&(a.suspendedLanes|A))!==0?0:p}function Cn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Es(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ne(){var a=Ce.p;return a!==0?a:(a=window.event,a===void 0?32:zb(a.type))}function ce(a,A){var p=Ce.p;try{return Ce.p=a,A()}finally{Ce.p=p}}var de=Math.random().toString(36).slice(2),he="__reactFiber$"+de,ge="__reactProps$"+de,ve="__reactContainer$"+de,Ve="__reactEvents$"+de,nt="__reactListeners$"+de,Le="__reactHandles$"+de,Ke="__reactResources$"+de,ze="__reactMarker$"+de;function ht(a){delete a[he],delete a[ge],delete a[Ve],delete a[nt],delete a[Le]}function xt(a){var A=a[he];if(A)return A;for(var p=a.parentNode;p;){if(A=p[ve]||p[he]){if(p=A.alternate,A.child!==null||p!==null&&p.child!==null)for(a=Nb(a);a!==null;){if(p=a[he])return p;a=Nb(a)}return A}a=p,p=a.parentNode}return null}function wt(a){if(a=a[he]||a[ve]){var A=a.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return a}return null}function Ct(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(n(33))}function It(a){var A=a[Ke];return A||(A=a[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function Ht(a){a[ze]=!0}var it=new Set,jr={};function er(a,A){Qn(a,A),Qn(a+"Capture",A)}function Qn(a,A){for(jr[a]=A,a=0;a<A.length;a++)it.add(A[a])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},hr={};function mr(a){return Rt.call(hr,a)?!0:Rt.call(Cr,a)?!1:Xa.test(a)?hr[a]=!0:(Cr[a]=!0,!1)}function qn(a,A,p){if(mr(A))if(p===null)a.removeAttribute(A);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var v=A.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+p)}}function ba(a,A,p){if(p===null)a.removeAttribute(A);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+p)}}function ns(a,A,p,v){if(v===null)a.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(A,p,""+v)}}function Lr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ia(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function C0(a,A,p){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,A);if(!a.hasOwnProperty(A)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var I=v.get,F=v.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return I.call(this)},set:function(j){p=""+j,F.call(this,j)}}),Object.defineProperty(a,A,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function hn(a){if(!a._valueTracker){var A=ia(a)?"checked":"value";a._valueTracker=C0(a,A,""+a[A])}}function Ms(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var p=A.getValue(),v="";return a&&(v=ia(a)?a.checked?"true":"false":a.value),a=v,a!==p?(A.setValue(a),!0):!1}function Dl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var is=/[\n"\\]/g;function or(a){return a.replace(is,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function Fn(a,A,p,v,I,F,j,Ae){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),A!=null?j==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+Lr(A)):a.value!==""+Lr(A)&&(a.value=""+Lr(A)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),A!=null?pe(a,j,Lr(A)):p!=null?pe(a,j,Lr(p)):v!=null&&a.removeAttribute("value"),I==null&&F!=null&&(a.defaultChecked=!!F),I!=null&&(a.checked=I&&typeof I!="function"&&typeof I!="symbol"),Ae!=null&&typeof Ae!="function"&&typeof Ae!="symbol"&&typeof Ae!="boolean"?a.name=""+Lr(Ae):a.removeAttribute("name")}function He(a,A,p,v,I,F,j,Ae){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.type=F),A!=null||p!=null){if(!(F!=="submit"&&F!=="reset"||A!=null)){hn(a);return}p=p!=null?""+Lr(p):"",A=A!=null?""+Lr(A):p,Ae||A===a.value||(a.value=A),a.defaultValue=A}v=v??I,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=Ae?a.checked:!!v,a.defaultChecked=!!v,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),hn(a)}function pe(a,A,p){A==="number"&&Dl(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function St(a,A,p,v){if(a=a.options,A){A={};for(var I=0;I<p.length;I++)A["$"+p[I]]=!0;for(p=0;p<a.length;p++)I=A.hasOwnProperty("$"+a[p].value),a[p].selected!==I&&(a[p].selected=I),I&&v&&(a[p].defaultSelected=!0)}else{for(p=""+Lr(p),A=null,I=0;I<a.length;I++){if(a[I].value===p){a[I].selected=!0,v&&(a[I].defaultSelected=!0);return}A!==null||a[I].disabled||(A=a[I])}A!==null&&(A.selected=!0)}}function Tn(a,A,p){if(A!=null&&(A=""+Lr(A),A!==a.value&&(a.value=A),p==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=p!=null?""+Lr(p):""}function ii(a,A,p,v){if(A==null){if(v!=null){if(p!=null)throw Error(n(92));if(xe(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),A=p}p=Lr(A),a.defaultValue=p,v=a.textContent,v===p&&v!==""&&v!==null&&(a.value=v),hn(a)}function Os(a,A){if(A){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=A;return}}a.textContent=A}var PA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fi(a,A,p){var v=A.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":v?a.setProperty(A,p):typeof p!="number"||p===0||PA.has(A)?A==="float"?a.cssFloat=p:a[A]=(""+p).trim():a[A]=p+"px"}function Jt(a,A,p){if(A!=null&&typeof A!="object")throw Error(n(62));if(a=a.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||A!=null&&A.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var I in A)v=A[I],A.hasOwnProperty(I)&&p[I]!==v&&Fi(a,I,v)}else for(var F in A)A.hasOwnProperty(F)&&Fi(a,F,A[F])}function An(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(a){return E0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Hn(){}var xo=null;function Ul(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gn=null,Ei=null;function sa(a){var A=wt(a);if(A&&(a=A.stateNode)){var p=a[ge]||null;e:switch(a=A.stateNode,A.type){case"input":if(Fn(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),A=p.name,p.type==="radio"&&A!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+or(""+A)+'"][type="radio"]'),A=0;A<p.length;A++){var v=p[A];if(v!==a&&v.form===a.form){var I=v[ge]||null;if(!I)throw Error(n(90));Fn(v,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(A=0;A<p.length;A++)v=p[A],v.form===a.form&&Ms(v)}break e;case"textarea":Tn(a,p.value,p.defaultValue);break e;case"select":A=p.value,A!=null&&St(a,!!p.multiple,A,!1)}}}var tr=!1;function Kc(a,A,p){if(tr)return a(A,p);tr=!0;try{var v=a(A);return v}finally{if(tr=!1,(gn!==null||Ei!==null)&&(Th(),gn&&(A=gn,a=Ei,Ei=gn=null,sa(A),a)))for(A=0;A<a.length;A++)sa(a[A])}}function rr(a,A){var p=a.stateNode;if(p===null)return null;var v=p[ge]||null;if(v===null)return null;p=v[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,A,typeof p));return p}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QA=!1;if(cn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){QA=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{QA=!1}var ss=null,Qs=null,_a=null;function Hs(){if(_a)return _a;var a,A=Qs,p=A.length,v,I="value"in ss?ss.value:ss.textContent,F=I.length;for(a=0;a<p&&A[a]===I[a];a++);var j=p-a;for(v=1;v<=j&&A[p-v]===I[F-v];v++);return _a=I.slice(a,1<v?1-v:void 0)}function aa(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function Vs(){return!0}function pn(){return!1}function Xn(a){function A(p,v,I,F,j){this._reactName=p,this._targetInst=I,this.type=v,this.nativeEvent=F,this.target=j,this.currentTarget=null;for(var Ae in a)a.hasOwnProperty(Ae)&&(p=a[Ae],this[Ae]=p?p(F):F[Ae]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Vs:pn,this.isPropagationStopped=pn,this}return C(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),A}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yn=Xn(bs),Ya=C({},bs,{view:0,detail:0}),HA=Xn(Ya),Ja,Ml,Qi,Ho=C({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qi&&(Qi&&a.type==="mousemove"?(Ja=a.screenX-Qi.screenX,Ml=a.screenY-Qi.screenY):Ml=Ja=0,Qi=a),Ja)},movementY:function(a){return"movementY"in a?a.movementY:Ml}}),Wr=Xn(Ho),wo=C({},Ho,{dataTransfer:0}),Vo=Xn(wo),js=C({},Ya,{relatedTarget:0}),vo=Xn(js),Je=C({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),cr=Xn(Je),si=C({},bs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jo=Xn(si),yo=C({},bs,{data:0}),VA=Xn(yo),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=Go[a])?!!A[a]:!1}function Ta(){return Mn}var En=C({},Ya,{key:function(a){if(a.key){var A=zc[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=aa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(a){return a.type==="keypress"?aa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?aa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ko=Xn(En),Hi=C({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=Xn(Hi),$t=C({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Wc=Xn($t),an=C({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gs=Xn(an),Jn=C({},Ho,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qc=Xn(Jn),_s=C({},bs,{newState:0,oldState:0}),Ba=Xn(_s),B=[9,13,27,32],L=cn&&"CompositionEvent"in window,z=null;cn&&"documentMode"in document&&(z=document.documentMode);var fe=cn&&"TextEvent"in window&&!z,Pe=cn&&(!L||z&&8<z&&11>=z),et=" ",Ft=!1;function Zr(a,A){switch(a){case"keyup":return B.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _r=!1;function bn(a,A){switch(a){case"compositionend":return Bn(A);case"keypress":return A.which!==32?null:(Ft=!0,et);case"textInput":return a=A.data,a===et&&Ft?null:a;default:return null}}function Vn(a,A){if(_r)return a==="compositionend"||!L&&Zr(a,A)?(a=Hs(),_a=Qs=ss=null,_r=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Pe&&A.locale!=="ko"?null:A.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!ai[a.type]:A==="textarea"}function Ri(a,A,p,v){gn?Ei?Ei.push(v):Ei=[v]:gn=v,A=kh(A,"onChange"),0<A.length&&(p=new Yn("onChange","change",null,p,v),a.push({event:p,listeners:A}))}var Za=null,zo=null;function Kp(a){pb(a,0)}function GA(a){var A=Ct(a);if(Ms(A))return a}function oa(a,A){if(a==="change")return A}var Gd=!1;if(cn){var KA;if(cn){var Wo="oninput"in document;if(!Wo){var kr=document.createElement("div");kr.setAttribute("oninput","return;"),Wo=typeof kr.oninput=="function"}KA=Wo}else KA=!1;Gd=KA&&(!document.documentMode||9<document.documentMode)}function zA(){Za&&(Za.detachEvent("onpropertychange",Y),zo=Za=null)}function Y(a){if(a.propertyName==="value"&&GA(zo)){var A=[];Ri(A,zo,a,Ul(a)),Kc(Kp,A)}}function l(a,A,p){a==="focusin"?(zA(),Za=A,zo=p,Za.attachEvent("onpropertychange",Y)):a==="focusout"&&zA()}function u(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return GA(zo)}function g(a,A){if(a==="click")return GA(A)}function x(a,A){if(a==="input"||a==="change")return GA(A)}function w(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var y=typeof Object.is=="function"?Object.is:w;function _(a,A){if(y(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var p=Object.keys(a),v=Object.keys(A);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var I=p[v];if(!Rt.call(A,I)||!y(a[I],A[I]))return!1}return!0}function N(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function D(a,A){var p=N(a);a=0;for(var v;p;){if(p.nodeType===3){if(v=a+p.textContent.length,a<=A&&v>=A)return{node:p,offset:A-a};a=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=N(p)}}function H(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?H(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function ee(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=Dl(a.document);A instanceof a.HTMLIFrameElement;){try{var p=typeof A.contentWindow.location.href=="string"}catch{p=!1}if(p)a=A.contentWindow;else break;A=Dl(a.document)}return A}function se(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var we=cn&&"documentMode"in document&&11>=document.documentMode,Te=null,Se=null,Oe=null,$e=!1;function _t(a,A,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;$e||Te==null||Te!==Dl(v)||(v=Te,"selectionStart"in v&&se(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Oe&&_(Oe,v)||(Oe=v,v=kh(Se,"onSelect"),0<v.length&&(A=new Yn("onSelect","select",null,A,p),a.push({event:A,listeners:v}),A.target=Te)))}function Et(a,A){var p={};return p[a.toLowerCase()]=A.toLowerCase(),p["Webkit"+a]="webkit"+A,p["Moz"+a]="moz"+A,p}var pt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionrun:Et("Transition","TransitionRun"),transitionstart:Et("Transition","TransitionStart"),transitioncancel:Et("Transition","TransitionCancel"),transitionend:Et("Transition","TransitionEnd")},Ir={},gr={};cn&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pt.animationend.animation,delete pt.animationiteration.animation,delete pt.animationstart.animation),"TransitionEvent"in window||delete pt.transitionend.transition);function Zn(a){if(Ir[a])return Ir[a];if(!pt[a])return a;var A=pt[a],p;for(p in A)if(A.hasOwnProperty(p)&&p in gr)return Ir[a]=A[p];return a}var Ks=Zn("animationend"),ji=Zn("animationiteration"),on=Zn("animationstart"),bi=Zn("transitionrun"),Ts=Zn("transitionstart"),Ol=Zn("transitioncancel"),qo=Zn("transitionend"),Kd=new Map,b0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b0.push("scrollEnd");function $a(a,A){Kd.set(a,A),er(A,[a])}var zd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ia=[],Xc=0,zp=0;function Wd(){for(var a=Xc,A=zp=Xc=0;A<a;){var p=Ia[A];Ia[A++]=null;var v=Ia[A];Ia[A++]=null;var I=Ia[A];Ia[A++]=null;var F=Ia[A];if(Ia[A++]=null,v!==null&&I!==null){var j=v.pending;j===null?I.next=I:(I.next=j.next,j.next=I),v.pending=I}F!==0&&Jy(p,I,F)}}function qd(a,A,p,v){Ia[Xc++]=a,Ia[Xc++]=A,Ia[Xc++]=p,Ia[Xc++]=v,zp|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function Wp(a,A,p,v){return qd(a,A,p,v),Xd(a)}function WA(a,A){return qd(a,null,null,A),Xd(a)}function Jy(a,A,p){a.lanes|=p;var v=a.alternate;v!==null&&(v.lanes|=p);for(var I=!1,F=a.return;F!==null;)F.childLanes|=p,v=F.alternate,v!==null&&(v.childLanes|=p),F.tag===22&&(a=F.stateNode,a===null||a._visibility&1||(I=!0)),a=F,F=F.return;return a.tag===3?(F=a.stateNode,I&&A!==null&&(I=31-ke(p),a=F.hiddenUpdates,v=a[I],v===null?a[I]=[A]:v.push(A),A.lane=p|536870912),F):null}function Xd(a){if(50<z0)throw z0=0,rx=null,Error(n(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var Yc={};function Yk(a,A,p,v){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(a,A,p,v){return new Yk(a,A,p,v)}function qp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xo(a,A){var p=a.alternate;return p===null?(p=la(a.tag,A,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=A,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,A=a.dependencies,p.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function Zy(a,A){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,A=p.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function Yd(a,A,p,v,I,F){var j=0;if(v=a,typeof a=="function")qp(a)&&(j=1);else if(typeof a=="string")j=tD(a,p,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=la(31,p,A,I),a.elementType=O,a.lanes=F,a;case k:return qA(p.children,I,F,A);case U:j=8,I|=24;break;case V:return a=la(12,p,A,I|2),a.elementType=V,a.lanes=F,a;case Z:return a=la(13,p,A,I),a.elementType=Z,a.lanes=F,a;case K:return a=la(19,p,A,I),a.elementType=K,a.lanes=F,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:j=10;break e;case G:j=9;break e;case J:j=11;break e;case M:j=14;break e;case P:j=16,v=null;break e}j=29,p=Error(n(130,a===null?"null":typeof a,"")),v=null}return A=la(j,p,A,I),A.elementType=a,A.type=v,A.lanes=F,A}function qA(a,A,p,v){return a=la(7,a,v,A),a.lanes=p,a}function Xp(a,A,p){return a=la(6,a,null,A),a.lanes=p,a}function $y(a){var A=la(18,null,null,0);return A.stateNode=a,A}function Yp(a,A,p){return A=la(4,a.children!==null?a.children:[],a.key,A),A.lanes=p,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var eC=new WeakMap;function Sa(a,A){if(typeof a=="object"&&a!==null){var p=eC.get(a);return p!==void 0?p:(A={value:a,source:A,stack:Nt(A)},eC.set(a,A),A)}return{value:a,source:A,stack:Nt(A)}}var Jc=[],Zc=0,Jd=null,_0=0,Na=[],Fa=0,Ll=null,Co=1,Eo="";function Yo(a,A){Jc[Zc++]=_0,Jc[Zc++]=Jd,Jd=a,_0=A}function tC(a,A,p){Na[Fa++]=Co,Na[Fa++]=Eo,Na[Fa++]=Ll,Ll=a;var v=Co;a=Eo;var I=32-ke(v)-1;v&=~(1<<I),p+=1;var F=32-ke(A)+I;if(30<F){var j=I-I%5;F=(v&(1<<j)-1).toString(32),v>>=j,I-=j,Co=1<<32-ke(A)+I|p<<I|v,Eo=F+a}else Co=1<<F|p<<I|v,Eo=a}function Jp(a){a.return!==null&&(Yo(a,1),tC(a,1,0))}function Zp(a){for(;a===Jd;)Jd=Jc[--Zc],Jc[Zc]=null,_0=Jc[--Zc],Jc[Zc]=null;for(;a===Ll;)Ll=Na[--Fa],Na[Fa]=null,Eo=Na[--Fa],Na[Fa]=null,Co=Na[--Fa],Na[Fa]=null}function rC(a,A){Na[Fa++]=Co,Na[Fa++]=Eo,Na[Fa++]=Ll,Co=A.id,Eo=A.overflow,Ll=a}var Gi=null,Rn=null,Pr=!1,Pl=null,Ra=!1,$p=Error(n(519));function Ql(a){var A=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw T0(Sa(A,a)),$p}function nC(a){var A=a.stateNode,p=a.type,v=a.memoizedProps;switch(A[he]=a,A[ge]=v,p){case"dialog":Fr("cancel",A),Fr("close",A);break;case"iframe":case"object":case"embed":Fr("load",A);break;case"video":case"audio":for(p=0;p<q0.length;p++)Fr(q0[p],A);break;case"source":Fr("error",A);break;case"img":case"image":case"link":Fr("error",A),Fr("load",A);break;case"details":Fr("toggle",A);break;case"input":Fr("invalid",A),He(A,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Fr("invalid",A);break;case"textarea":Fr("invalid",A),ii(A,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||A.textContent===""+p||v.suppressHydrationWarning===!0||vb(A.textContent,p)?(v.popover!=null&&(Fr("beforetoggle",A),Fr("toggle",A)),v.onScroll!=null&&Fr("scroll",A),v.onScrollEnd!=null&&Fr("scrollend",A),v.onClick!=null&&(A.onclick=Hn),A=!0):A=!1,A||Ql(a,!0)}function iC(a){for(Gi=a.return;Gi;)switch(Gi.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:Gi=Gi.return}}function $c(a){if(a!==Gi)return!1;if(!Pr)return iC(a),Pr=!0,!1;var A=a.tag,p;if((p=A!==3&&A!==27)&&((p=A===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||mx(a.type,a.memoizedProps)),p=!p),p&&Rn&&Ql(a),iC(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Rn=Sb(a)}else if(A===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Rn=Sb(a)}else A===27?(A=Rn,eA(a.type)?(a=Cx,Cx=null,Rn=a):Rn=A):Rn=Gi?Da(a.stateNode.nextSibling):null;return!0}function XA(){Rn=Gi=null,Pr=!1}function em(){var a=Pl;return a!==null&&(Xs===null?Xs=a:Xs.push.apply(Xs,a),Pl=null),a}function T0(a){Pl===null?Pl=[a]:Pl.push(a)}var tm=ie(null),YA=null,Jo=null;function Hl(a,A,p){oe(tm,A._currentValue),A._currentValue=p}function Zo(a){a._currentValue=tm.current,W(tm)}function rm(a,A,p){for(;a!==null;){var v=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,v!==null&&(v.childLanes|=A)):v!==null&&(v.childLanes&A)!==A&&(v.childLanes|=A),a===p)break;a=a.return}}function nm(a,A,p,v){var I=a.child;for(I!==null&&(I.return=a);I!==null;){var F=I.dependencies;if(F!==null){var j=I.child;F=F.firstContext;e:for(;F!==null;){var Ae=F;F=I;for(var _e=0;_e<A.length;_e++)if(Ae.context===A[_e]){F.lanes|=p,Ae=F.alternate,Ae!==null&&(Ae.lanes|=p),rm(F.return,p,a),v||(j=null);break e}F=Ae.next}}else if(I.tag===18){if(j=I.return,j===null)throw Error(n(341));j.lanes|=p,F=j.alternate,F!==null&&(F.lanes|=p),rm(j,p,a),j=null}else j=I.child;if(j!==null)j.return=I;else for(j=I;j!==null;){if(j===a){j=null;break}if(I=j.sibling,I!==null){I.return=j.return,j=I;break}j=j.return}I=j}}function eu(a,A,p,v){a=null;for(var I=A,F=!1;I!==null;){if(!F){if((I.flags&524288)!==0)F=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var j=I.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var Ae=I.type;y(I.pendingProps.value,j.value)||(a!==null?a.push(Ae):a=[Ae])}}else if(I===qe.current){if(j=I.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(a!==null?a.push($0):a=[$0])}I=I.return}a!==null&&nm(A,a,p,v),A.flags|=262144}function Zd(a){for(a=a.firstContext;a!==null;){if(!y(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function JA(a){YA=a,Jo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ki(a){return sC(YA,a)}function $d(a,A){return YA===null&&JA(a),sC(a,A)}function sC(a,A){var p=A._currentValue;if(A={context:A,memoizedValue:p,next:null},Jo===null){if(a===null)throw Error(n(308));Jo=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else Jo=Jo.next=A;return p}var Jk=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(p,v){a.push(v)}};this.abort=function(){A.aborted=!0,a.forEach(function(p){return p()})}},Zk=t.unstable_scheduleCallback,$k=t.unstable_NormalPriority,di={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new Jk,data:new Map,refCount:0}}function B0(a){a.refCount--,a.refCount===0&&Zk($k,function(){a.controller.abort()})}var I0=null,sm=0,tu=0,ru=null;function e5(a,A){if(I0===null){var p=I0=[];sm=0,tu=lx(),ru={status:"pending",value:void 0,then:function(v){p.push(v)}}}return sm++,A.then(aC,aC),A}function aC(){if(--sm===0&&I0!==null){ru!==null&&(ru.status="fulfilled");var a=I0;I0=null,tu=0,ru=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function t5(a,A){var p=[],v={status:"pending",value:null,reason:null,then:function(I){p.push(I)}};return a.then(function(){v.status="fulfilled",v.value=A;for(var I=0;I<p.length;I++)(0,p[I])(A)},function(I){for(v.status="rejected",v.reason=I,I=0;I<p.length;I++)(0,p[I])(void 0)}),v}var oC=me.S;me.S=function(a,A){GE=Qe(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&e5(a,A),oC!==null&&oC(a,A)};var ZA=ie(null);function am(){var a=ZA.current;return a!==null?a:_n.pooledCache}function eh(a,A){A===null?oe(ZA,ZA.current):oe(ZA,A.pool)}function lC(){var a=am();return a===null?null:{parent:di._currentValue,pool:a}}var nu=Error(n(460)),om=Error(n(474)),th=Error(n(542)),rh={then:function(){}};function AC(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cC(a,A,p){switch(p=a[p],p===void 0?a.push(A):p!==A&&(A.then(Hn,Hn),A=p),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,fC(a),a;default:if(typeof A.status=="string")A.then(Hn,Hn);else{if(a=_n,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=A,a.status="pending",a.then(function(v){if(A.status==="pending"){var I=A;I.status="fulfilled",I.value=v}},function(v){if(A.status==="pending"){var I=A;I.status="rejected",I.reason=v}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,fC(a),a}throw ec=A,nu}}function $A(a){try{var A=a._init;return A(a._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(ec=p,nu):p}}var ec=null;function uC(){if(ec===null)throw Error(n(459));var a=ec;return ec=null,a}function fC(a){if(a===nu||a===th)throw Error(n(483))}var iu=null,S0=0;function nh(a){var A=S0;return S0+=1,iu===null&&(iu=[]),cC(iu,a,A)}function N0(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function ih(a,A){throw A.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(A),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function dC(a){function A(De,Fe){if(a){var je=De.deletions;je===null?(De.deletions=[Fe],De.flags|=16):je.push(Fe)}}function p(De,Fe){if(!a)return null;for(;Fe!==null;)A(De,Fe),Fe=Fe.sibling;return null}function v(De){for(var Fe=new Map;De!==null;)De.key!==null?Fe.set(De.key,De):Fe.set(De.index,De),De=De.sibling;return Fe}function I(De,Fe){return De=Xo(De,Fe),De.index=0,De.sibling=null,De}function F(De,Fe,je){return De.index=je,a?(je=De.alternate,je!==null?(je=je.index,je<Fe?(De.flags|=67108866,Fe):je):(De.flags|=67108866,Fe)):(De.flags|=1048576,Fe)}function j(De){return a&&De.alternate===null&&(De.flags|=67108866),De}function Ae(De,Fe,je,ft){return Fe===null||Fe.tag!==6?(Fe=Xp(je,De.mode,ft),Fe.return=De,Fe):(Fe=I(Fe,je),Fe.return=De,Fe)}function _e(De,Fe,je,ft){var nr=je.type;return nr===k?lt(De,Fe,je.props.children,ft,je.key):Fe!==null&&(Fe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===P&&$A(nr)===Fe.type)?(Fe=I(Fe,je.props),N0(Fe,je),Fe.return=De,Fe):(Fe=Yd(je.type,je.key,je.props,null,De.mode,ft),N0(Fe,je),Fe.return=De,Fe)}function Ge(De,Fe,je,ft){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==je.containerInfo||Fe.stateNode.implementation!==je.implementation?(Fe=Yp(je,De.mode,ft),Fe.return=De,Fe):(Fe=I(Fe,je.children||[]),Fe.return=De,Fe)}function lt(De,Fe,je,ft,nr){return Fe===null||Fe.tag!==7?(Fe=qA(je,De.mode,ft,nr),Fe.return=De,Fe):(Fe=I(Fe,je),Fe.return=De,Fe)}function dt(De,Fe,je){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=Xp(""+Fe,De.mode,je),Fe.return=De,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case S:return je=Yd(Fe.type,Fe.key,Fe.props,null,De.mode,je),N0(je,Fe),je.return=De,je;case R:return Fe=Yp(Fe,De.mode,je),Fe.return=De,Fe;case P:return Fe=$A(Fe),dt(De,Fe,je)}if(xe(Fe)||q(Fe))return Fe=qA(Fe,De.mode,je,null),Fe.return=De,Fe;if(typeof Fe.then=="function")return dt(De,nh(Fe),je);if(Fe.$$typeof===Q)return dt(De,$d(De,Fe),je);ih(De,Fe)}return null}function Xe(De,Fe,je,ft){var nr=Fe!==null?Fe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return nr!==null?null:Ae(De,Fe,""+je,ft);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case S:return je.key===nr?_e(De,Fe,je,ft):null;case R:return je.key===nr?Ge(De,Fe,je,ft):null;case P:return je=$A(je),Xe(De,Fe,je,ft)}if(xe(je)||q(je))return nr!==null?null:lt(De,Fe,je,ft,null);if(typeof je.then=="function")return Xe(De,Fe,nh(je),ft);if(je.$$typeof===Q)return Xe(De,Fe,$d(De,je),ft);ih(De,je)}return null}function rt(De,Fe,je,ft,nr){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return De=De.get(je)||null,Ae(Fe,De,""+ft,nr);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case S:return De=De.get(ft.key===null?je:ft.key)||null,_e(Fe,De,ft,nr);case R:return De=De.get(ft.key===null?je:ft.key)||null,Ge(Fe,De,ft,nr);case P:return ft=$A(ft),rt(De,Fe,je,ft,nr)}if(xe(ft)||q(ft))return De=De.get(je)||null,lt(Fe,De,ft,nr,null);if(typeof ft.then=="function")return rt(De,Fe,je,nh(ft),nr);if(ft.$$typeof===Q)return rt(De,Fe,je,$d(Fe,ft),nr);ih(Fe,ft)}return null}function zt(De,Fe,je,ft){for(var nr=null,$r=null,qt=Fe,Tr=Fe=0,Ur=null;qt!==null&&Tr<je.length;Tr++){qt.index>Tr?(Ur=qt,qt=null):Ur=qt.sibling;var en=Xe(De,qt,je[Tr],ft);if(en===null){qt===null&&(qt=Ur);break}a&&qt&&en.alternate===null&&A(De,qt),Fe=F(en,Fe,Tr),$r===null?nr=en:$r.sibling=en,$r=en,qt=Ur}if(Tr===je.length)return p(De,qt),Pr&&Yo(De,Tr),nr;if(qt===null){for(;Tr<je.length;Tr++)qt=dt(De,je[Tr],ft),qt!==null&&(Fe=F(qt,Fe,Tr),$r===null?nr=qt:$r.sibling=qt,$r=qt);return Pr&&Yo(De,Tr),nr}for(qt=v(qt);Tr<je.length;Tr++)Ur=rt(qt,De,Tr,je[Tr],ft),Ur!==null&&(a&&Ur.alternate!==null&&qt.delete(Ur.key===null?Tr:Ur.key),Fe=F(Ur,Fe,Tr),$r===null?nr=Ur:$r.sibling=Ur,$r=Ur);return a&&qt.forEach(function(sA){return A(De,sA)}),Pr&&Yo(De,Tr),nr}function sr(De,Fe,je,ft){if(je==null)throw Error(n(151));for(var nr=null,$r=null,qt=Fe,Tr=Fe=0,Ur=null,en=je.next();qt!==null&&!en.done;Tr++,en=je.next()){qt.index>Tr?(Ur=qt,qt=null):Ur=qt.sibling;var sA=Xe(De,qt,en.value,ft);if(sA===null){qt===null&&(qt=Ur);break}a&&qt&&sA.alternate===null&&A(De,qt),Fe=F(sA,Fe,Tr),$r===null?nr=sA:$r.sibling=sA,$r=sA,qt=Ur}if(en.done)return p(De,qt),Pr&&Yo(De,Tr),nr;if(qt===null){for(;!en.done;Tr++,en=je.next())en=dt(De,en.value,ft),en!==null&&(Fe=F(en,Fe,Tr),$r===null?nr=en:$r.sibling=en,$r=en);return Pr&&Yo(De,Tr),nr}for(qt=v(qt);!en.done;Tr++,en=je.next())en=rt(qt,De,Tr,en.value,ft),en!==null&&(a&&en.alternate!==null&&qt.delete(en.key===null?Tr:en.key),Fe=F(en,Fe,Tr),$r===null?nr=en:$r.sibling=en,$r=en);return a&&qt.forEach(function(fD){return A(De,fD)}),Pr&&Yo(De,Tr),nr}function wn(De,Fe,je,ft){if(typeof je=="object"&&je!==null&&je.type===k&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case S:e:{for(var nr=je.key;Fe!==null;){if(Fe.key===nr){if(nr=je.type,nr===k){if(Fe.tag===7){p(De,Fe.sibling),ft=I(Fe,je.props.children),ft.return=De,De=ft;break e}}else if(Fe.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===P&&$A(nr)===Fe.type){p(De,Fe.sibling),ft=I(Fe,je.props),N0(ft,je),ft.return=De,De=ft;break e}p(De,Fe);break}else A(De,Fe);Fe=Fe.sibling}je.type===k?(ft=qA(je.props.children,De.mode,ft,je.key),ft.return=De,De=ft):(ft=Yd(je.type,je.key,je.props,null,De.mode,ft),N0(ft,je),ft.return=De,De=ft)}return j(De);case R:e:{for(nr=je.key;Fe!==null;){if(Fe.key===nr)if(Fe.tag===4&&Fe.stateNode.containerInfo===je.containerInfo&&Fe.stateNode.implementation===je.implementation){p(De,Fe.sibling),ft=I(Fe,je.children||[]),ft.return=De,De=ft;break e}else{p(De,Fe);break}else A(De,Fe);Fe=Fe.sibling}ft=Yp(je,De.mode,ft),ft.return=De,De=ft}return j(De);case P:return je=$A(je),wn(De,Fe,je,ft)}if(xe(je))return zt(De,Fe,je,ft);if(q(je)){if(nr=q(je),typeof nr!="function")throw Error(n(150));return je=nr.call(je),sr(De,Fe,je,ft)}if(typeof je.then=="function")return wn(De,Fe,nh(je),ft);if(je.$$typeof===Q)return wn(De,Fe,$d(De,je),ft);ih(De,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,Fe!==null&&Fe.tag===6?(p(De,Fe.sibling),ft=I(Fe,je),ft.return=De,De=ft):(p(De,Fe),ft=Xp(je,De.mode,ft),ft.return=De,De=ft),j(De)):p(De,Fe)}return function(De,Fe,je,ft){try{S0=0;var nr=wn(De,Fe,je,ft);return iu=null,nr}catch(qt){if(qt===nu||qt===th)throw qt;var $r=la(29,qt,null,De.mode);return $r.lanes=ft,$r.return=De,$r}finally{}}}var tc=dC(!0),hC=dC(!1),Vl=!1;function lm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function jl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Gl(a,A,p){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(sn&2)!==0){var I=v.pending;return I===null?A.next=A:(A.next=I.next,I.next=A),v.pending=A,A=Xd(a),Jy(a,null,p),A}return qd(a,v,A,p),Xd(a)}function F0(a,A,p){if(A=A.updateQueue,A!==null&&(A=A.shared,(p&4194048)!==0)){var v=A.lanes;v&=a.pendingLanes,p|=v,A.lanes=p,Jr(a,p)}}function cm(a,A){var p=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var I=null,F=null;if(p=p.firstBaseUpdate,p!==null){do{var j={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};F===null?I=F=j:F=F.next=j,p=p.next}while(p!==null);F===null?I=F=A:F=F.next=A}else I=F=A;p={baseState:v.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:v.shared,callbacks:v.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=A:a.next=A,p.lastBaseUpdate=A}var um=!1;function R0(){if(um){var a=ru;if(a!==null)throw a}}function k0(a,A,p,v){um=!1;var I=a.updateQueue;Vl=!1;var F=I.firstBaseUpdate,j=I.lastBaseUpdate,Ae=I.shared.pending;if(Ae!==null){I.shared.pending=null;var _e=Ae,Ge=_e.next;_e.next=null,j===null?F=Ge:j.next=Ge,j=_e;var lt=a.alternate;lt!==null&&(lt=lt.updateQueue,Ae=lt.lastBaseUpdate,Ae!==j&&(Ae===null?lt.firstBaseUpdate=Ge:Ae.next=Ge,lt.lastBaseUpdate=_e))}if(F!==null){var dt=I.baseState;j=0,lt=Ge=_e=null,Ae=F;do{var Xe=Ae.lane&-536870913,rt=Xe!==Ae.lane;if(rt?(Dr&Xe)===Xe:(v&Xe)===Xe){Xe!==0&&Xe===tu&&(um=!0),lt!==null&&(lt=lt.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var zt=a,sr=Ae;Xe=A;var wn=p;switch(sr.tag){case 1:if(zt=sr.payload,typeof zt=="function"){dt=zt.call(wn,dt,Xe);break e}dt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=sr.payload,Xe=typeof zt=="function"?zt.call(wn,dt,Xe):zt,Xe==null)break e;dt=C({},dt,Xe);break e;case 2:Vl=!0}}Xe=Ae.callback,Xe!==null&&(a.flags|=64,rt&&(a.flags|=8192),rt=I.callbacks,rt===null?I.callbacks=[Xe]:rt.push(Xe))}else rt={lane:Xe,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},lt===null?(Ge=lt=rt,_e=dt):lt=lt.next=rt,j|=Xe;if(Ae=Ae.next,Ae===null){if(Ae=I.shared.pending,Ae===null)break;rt=Ae,Ae=rt.next,rt.next=null,I.lastBaseUpdate=rt,I.shared.pending=null}}while(!0);lt===null&&(_e=dt),I.baseState=_e,I.firstBaseUpdate=Ge,I.lastBaseUpdate=lt,F===null&&(I.shared.lanes=0),Xl|=j,a.lanes=j,a.memoizedState=dt}}function gC(a,A){if(typeof a!="function")throw Error(n(191,a));a.call(A)}function pC(a,A){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)gC(p[a],A)}var su=ie(null),sh=ie(0);function mC(a,A){a=ol,oe(sh,a),oe(su,A),ol=a|A.baseLanes}function fm(){oe(sh,ol),oe(su,su.current)}function dm(){ol=sh.current,W(su),W(sh)}var Aa=ie(null),ka=null;function Kl(a){var A=a.alternate;oe(oi,oi.current&1),oe(Aa,a),ka===null&&(A===null||su.current!==null||A.memoizedState!==null)&&(ka=a)}function hm(a){oe(oi,oi.current),oe(Aa,a),ka===null&&(ka=a)}function xC(a){a.tag===22?(oe(oi,oi.current),oe(Aa,a),ka===null&&(ka=a)):zl()}function zl(){oe(oi,oi.current),oe(Aa,Aa.current)}function ca(a){W(Aa),ka===a&&(ka=null),W(oi)}var oi=ie(0);function ah(a){for(var A=a;A!==null;){if(A.tag===13){var p=A.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||vx(p)||yx(p)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var $o=0,Er=null,mn=null,hi=null,oh=!1,au=!1,rc=!1,lh=0,D0=0,ou=null,r5=0;function $n(){throw Error(n(321))}function gm(a,A){if(A===null)return!1;for(var p=0;p<A.length&&p<a.length;p++)if(!y(a[p],A[p]))return!1;return!0}function pm(a,A,p,v,I,F){return $o=F,Er=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,me.H=a===null||a.memoizedState===null?tE:Fm,rc=!1,F=p(v,I),rc=!1,au&&(F=vC(A,p,v,I)),wC(a),F}function wC(a){me.H=O0;var A=mn!==null&&mn.next!==null;if($o=0,hi=mn=Er=null,oh=!1,D0=0,ou=null,A)throw Error(n(300));a===null||gi||(a=a.dependencies,a!==null&&Zd(a)&&(gi=!0))}function vC(a,A,p,v){Er=a;var I=0;do{if(au&&(ou=null),D0=0,au=!1,25<=I)throw Error(n(301));if(I+=1,hi=mn=null,a.updateQueue!=null){var F=a.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}me.H=rE,F=A(p,v)}while(au);return F}function n5(){var a=me.H,A=a.useState()[0];return A=typeof A.then=="function"?U0(A):A,a=a.useState()[0],(mn!==null?mn.memoizedState:null)!==a&&(Er.flags|=1024),A}function mm(){var a=lh!==0;return lh=0,a}function xm(a,A,p){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~p}function wm(a){if(oh){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}oh=!1}$o=0,hi=mn=Er=null,au=!1,D0=lh=0,ou=null}function Bs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Er.memoizedState=hi=a:hi=hi.next=a,hi}function li(){if(mn===null){var a=Er.alternate;a=a!==null?a.memoizedState:null}else a=mn.next;var A=hi===null?Er.memoizedState:hi.next;if(A!==null)hi=A,mn=a;else{if(a===null)throw Er.alternate===null?Error(n(467)):Error(n(310));mn=a,a={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},hi===null?Er.memoizedState=hi=a:hi=hi.next=a}return hi}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function U0(a){var A=D0;return D0+=1,ou===null&&(ou=[]),a=cC(ou,a,A),A=Er,(hi===null?A.memoizedState:hi.next)===null&&(A=A.alternate,me.H=A===null||A.memoizedState===null?tE:Fm),a}function ch(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return U0(a);if(a.$$typeof===Q)return Ki(a)}throw Error(n(438,String(a)))}function vm(a){var A=null,p=Er.updateQueue;if(p!==null&&(A=p.memoCache),A==null){var v=Er.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(A={data:v.data.map(function(I){return I.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),p===null&&(p=Ah(),Er.updateQueue=p),p.memoCache=A,p=A.data[A.index],p===void 0)for(p=A.data[A.index]=Array(a),v=0;v<a;v++)p[v]=re;return A.index++,p}function el(a,A){return typeof A=="function"?A(a):A}function uh(a){var A=li();return ym(A,mn,a)}function ym(a,A,p){var v=a.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var I=a.baseQueue,F=v.pending;if(F!==null){if(I!==null){var j=I.next;I.next=F.next,F.next=j}A.baseQueue=I=F,v.pending=null}if(F=a.baseState,I===null)a.memoizedState=F;else{A=I.next;var Ae=j=null,_e=null,Ge=A,lt=!1;do{var dt=Ge.lane&-536870913;if(dt!==Ge.lane?(Dr&dt)===dt:($o&dt)===dt){var Xe=Ge.revertLane;if(Xe===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),dt===tu&&(lt=!0);else if(($o&Xe)===Xe){Ge=Ge.next,Xe===tu&&(lt=!0);continue}else dt={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},_e===null?(Ae=_e=dt,j=F):_e=_e.next=dt,Er.lanes|=Xe,Xl|=Xe;dt=Ge.action,rc&&p(F,dt),F=Ge.hasEagerState?Ge.eagerState:p(F,dt)}else Xe={lane:dt,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},_e===null?(Ae=_e=Xe,j=F):_e=_e.next=Xe,Er.lanes|=dt,Xl|=dt;Ge=Ge.next}while(Ge!==null&&Ge!==A);if(_e===null?j=F:_e.next=Ae,!y(F,a.memoizedState)&&(gi=!0,lt&&(p=ru,p!==null)))throw p;a.memoizedState=F,a.baseState=j,a.baseQueue=_e,v.lastRenderedState=F}return I===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function Cm(a){var A=li(),p=A.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var v=p.dispatch,I=p.pending,F=A.memoizedState;if(I!==null){p.pending=null;var j=I=I.next;do F=a(F,j.action),j=j.next;while(j!==I);y(F,A.memoizedState)||(gi=!0),A.memoizedState=F,A.baseQueue===null&&(A.baseState=F),p.lastRenderedState=F}return[F,v]}function yC(a,A,p){var v=Er,I=li(),F=Pr;if(F){if(p===void 0)throw Error(n(407));p=p()}else p=A();var j=!y((mn||I).memoizedState,p);if(j&&(I.memoizedState=p,gi=!0),I=I.queue,_m(bC.bind(null,v,I,a),[a]),I.getSnapshot!==A||j||hi!==null&&hi.memoizedState.tag&1){if(v.flags|=2048,lu(9,{destroy:void 0},EC.bind(null,v,I,p,A),null),_n===null)throw Error(n(349));F||($o&127)!==0||CC(v,A,p)}return p}function CC(a,A,p){a.flags|=16384,a={getSnapshot:A,value:p},A=Er.updateQueue,A===null?(A=Ah(),Er.updateQueue=A,A.stores=[a]):(p=A.stores,p===null?A.stores=[a]:p.push(a))}function EC(a,A,p,v){A.value=p,A.getSnapshot=v,_C(A)&&TC(a)}function bC(a,A,p){return p(function(){_C(A)&&TC(a)})}function _C(a){var A=a.getSnapshot;a=a.value;try{var p=A();return!y(a,p)}catch{return!0}}function TC(a){var A=WA(a,2);A!==null&&Ys(A,a,2)}function Em(a){var A=Bs();if(typeof a=="function"){var p=a;if(a=p(),rc){Lt(!0);try{p()}finally{Lt(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:a},A}function BC(a,A,p,v){return a.baseState=p,ym(a,mn,typeof v=="function"?v:el)}function i5(a,A,p,v,I){if(hh(a))throw Error(n(485));if(a=A.action,a!==null){var F={payload:I,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){F.listeners.push(j)}};me.T!==null?p(!0):F.isTransition=!1,v(F),p=A.pending,p===null?(F.next=A.pending=F,IC(A,F)):(F.next=p.next,A.pending=p.next=F)}}function IC(a,A){var p=A.action,v=A.payload,I=a.state;if(A.isTransition){var F=me.T,j={};me.T=j;try{var Ae=p(I,v),_e=me.S;_e!==null&&_e(j,Ae),SC(a,A,Ae)}catch(Ge){bm(a,A,Ge)}finally{F!==null&&j.types!==null&&(F.types=j.types),me.T=F}}else try{F=p(I,v),SC(a,A,F)}catch(Ge){bm(a,A,Ge)}}function SC(a,A,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){NC(a,A,v)},function(v){return bm(a,A,v)}):NC(a,A,p)}function NC(a,A,p){A.status="fulfilled",A.value=p,FC(A),a.state=p,A=a.pending,A!==null&&(p=A.next,p===A?a.pending=null:(p=p.next,A.next=p,IC(a,p)))}function bm(a,A,p){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do A.status="rejected",A.reason=p,FC(A),A=A.next;while(A!==v)}a.action=null}function FC(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function RC(a,A){return A}function kC(a,A){if(Pr){var p=_n.formState;if(p!==null){e:{var v=Er;if(Pr){if(Rn){t:{for(var I=Rn,F=Ra;I.nodeType!==8;){if(!F){I=null;break t}if(I=Da(I.nextSibling),I===null){I=null;break t}}F=I.data,I=F==="F!"||F==="F"?I:null}if(I){Rn=Da(I.nextSibling),v=I.data==="F!";break e}}Ql(v)}v=!1}v&&(A=p[0])}}return p=Bs(),p.memoizedState=p.baseState=A,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RC,lastRenderedState:A},p.queue=v,p=ZC.bind(null,Er,v),v.dispatch=p,v=Em(!1),F=Nm.bind(null,Er,!1,v.queue),v=Bs(),I={state:A,dispatch:null,action:a,pending:null},v.queue=I,p=i5.bind(null,Er,I,F,p),I.dispatch=p,v.memoizedState=a,[A,p,!1]}function DC(a){var A=li();return UC(A,mn,a)}function UC(a,A,p){if(A=ym(a,A,RC)[0],a=uh(el)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var v=U0(A)}catch(j){throw j===nu?th:j}else v=A;A=li();var I=A.queue,F=I.dispatch;return p!==A.memoizedState&&(Er.flags|=2048,lu(9,{destroy:void 0},s5.bind(null,I,p),null)),[v,F,a]}function s5(a,A){a.action=A}function MC(a){var A=li(),p=mn;if(p!==null)return UC(A,p,a);li(),A=A.memoizedState,p=li();var v=p.queue.dispatch;return p.memoizedState=a,[A,v,!1]}function lu(a,A,p,v){return a={tag:a,create:p,deps:v,inst:A,next:null},A=Er.updateQueue,A===null&&(A=Ah(),Er.updateQueue=A),p=A.lastEffect,p===null?A.lastEffect=a.next=a:(v=p.next,p.next=a,a.next=v,A.lastEffect=a),a}function OC(){return li().memoizedState}function fh(a,A,p,v){var I=Bs();Er.flags|=a,I.memoizedState=lu(1|A,{destroy:void 0},p,v===void 0?null:v)}function dh(a,A,p,v){var I=li();v=v===void 0?null:v;var F=I.memoizedState.inst;mn!==null&&v!==null&&gm(v,mn.memoizedState.deps)?I.memoizedState=lu(A,F,p,v):(Er.flags|=a,I.memoizedState=lu(1|A,F,p,v))}function LC(a,A){fh(8390656,8,a,A)}function _m(a,A){dh(2048,8,a,A)}function a5(a){Er.flags|=4;var A=Er.updateQueue;if(A===null)A=Ah(),Er.updateQueue=A,A.events=[a];else{var p=A.events;p===null?A.events=[a]:p.push(a)}}function PC(a){var A=li().memoizedState;return a5({ref:A,nextImpl:a}),function(){if((sn&2)!==0)throw Error(n(440));return A.impl.apply(void 0,arguments)}}function QC(a,A){return dh(4,2,a,A)}function HC(a,A){return dh(4,4,a,A)}function VC(a,A){if(typeof A=="function"){a=a();var p=A(a);return function(){typeof p=="function"?p():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function jC(a,A,p){p=p!=null?p.concat([a]):null,dh(4,4,VC.bind(null,A,a),p)}function Tm(){}function GC(a,A){var p=li();A=A===void 0?null:A;var v=p.memoizedState;return A!==null&&gm(A,v[1])?v[0]:(p.memoizedState=[a,A],a)}function KC(a,A){var p=li();A=A===void 0?null:A;var v=p.memoizedState;if(A!==null&&gm(A,v[1]))return v[0];if(v=a(),rc){Lt(!0);try{a()}finally{Lt(!1)}}return p.memoizedState=[v,A],v}function Bm(a,A,p){return p===void 0||($o&1073741824)!==0&&(Dr&261930)===0?a.memoizedState=A:(a.memoizedState=p,a=zE(),Er.lanes|=a,Xl|=a,p)}function zC(a,A,p,v){return y(p,A)?p:su.current!==null?(a=Bm(a,p,v),y(a,A)||(gi=!0),a):($o&42)===0||($o&1073741824)!==0&&(Dr&261930)===0?(gi=!0,a.memoizedState=p):(a=zE(),Er.lanes|=a,Xl|=a,A)}function WC(a,A,p,v,I){var F=Ce.p;Ce.p=F!==0&&8>F?F:8;var j=me.T,Ae={};me.T=Ae,Nm(a,!1,A,p);try{var _e=I(),Ge=me.S;if(Ge!==null&&Ge(Ae,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var lt=t5(_e,v);M0(a,A,lt,da(a))}else M0(a,A,v,da(a))}catch(dt){M0(a,A,{then:function(){},status:"rejected",reason:dt},da())}finally{Ce.p=F,j!==null&&Ae.types!==null&&(j.types=Ae.types),me.T=j}}function o5(){}function Im(a,A,p,v){if(a.tag!==5)throw Error(n(476));var I=qC(a).queue;WC(a,I,A,We,p===null?o5:function(){return XC(a),p(v)})}function qC(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:We,baseState:We,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:We},next:null};var p={};return A.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:p},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function XC(a){var A=qC(a);A.next===null&&(A=a.alternate.memoizedState),M0(a,A.next.queue,{},da())}function Sm(){return Ki($0)}function YC(){return li().memoizedState}function JC(){return li().memoizedState}function l5(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var p=da();a=jl(p);var v=Gl(A,a,p);v!==null&&(Ys(v,A,p),F0(v,A,p)),A={cache:im()},a.payload=A;return}A=A.return}}function A5(a,A,p){var v=da();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},hh(a)?$C(A,p):(p=Wp(a,A,p,v),p!==null&&(Ys(p,a,v),eE(p,A,v)))}function ZC(a,A,p){var v=da();M0(a,A,p,v)}function M0(a,A,p,v){var I={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(hh(a))$C(A,I);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=A.lastRenderedReducer,F!==null))try{var j=A.lastRenderedState,Ae=F(j,p);if(I.hasEagerState=!0,I.eagerState=Ae,y(Ae,j))return qd(a,A,I,0),_n===null&&Wd(),!1}catch{}finally{}if(p=Wp(a,A,I,v),p!==null)return Ys(p,a,v),eE(p,A,v),!0}return!1}function Nm(a,A,p,v){if(v={lane:2,revertLane:lx(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},hh(a)){if(A)throw Error(n(479))}else A=Wp(a,p,v,2),A!==null&&Ys(A,a,2)}function hh(a){var A=a.alternate;return a===Er||A!==null&&A===Er}function $C(a,A){au=oh=!0;var p=a.pending;p===null?A.next=A:(A.next=p.next,p.next=A),a.pending=A}function eE(a,A,p){if((p&4194048)!==0){var v=A.lanes;v&=a.pendingLanes,p|=v,A.lanes=p,Jr(a,p)}}var O0={readContext:Ki,use:ch,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};O0.useEffectEvent=$n;var tE={readContext:Ki,use:ch,useCallback:function(a,A){return Bs().memoizedState=[a,A===void 0?null:A],a},useContext:Ki,useEffect:LC,useImperativeHandle:function(a,A,p){p=p!=null?p.concat([a]):null,fh(4194308,4,VC.bind(null,A,a),p)},useLayoutEffect:function(a,A){return fh(4194308,4,a,A)},useInsertionEffect:function(a,A){fh(4,2,a,A)},useMemo:function(a,A){var p=Bs();A=A===void 0?null:A;var v=a();if(rc){Lt(!0);try{a()}finally{Lt(!1)}}return p.memoizedState=[v,A],v},useReducer:function(a,A,p){var v=Bs();if(p!==void 0){var I=p(A);if(rc){Lt(!0);try{p(A)}finally{Lt(!1)}}}else I=A;return v.memoizedState=v.baseState=I,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:I},v.queue=a,a=a.dispatch=A5.bind(null,Er,a),[v.memoizedState,a]},useRef:function(a){var A=Bs();return a={current:a},A.memoizedState=a},useState:function(a){a=Em(a);var A=a.queue,p=ZC.bind(null,Er,A);return A.dispatch=p,[a.memoizedState,p]},useDebugValue:Tm,useDeferredValue:function(a,A){var p=Bs();return Bm(p,a,A)},useTransition:function(){var a=Em(!1);return a=WC.bind(null,Er,a.queue,!0,!1),Bs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,p){var v=Er,I=Bs();if(Pr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=A(),_n===null)throw Error(n(349));(Dr&127)!==0||CC(v,A,p)}I.memoizedState=p;var F={value:p,getSnapshot:A};return I.queue=F,LC(bC.bind(null,v,F,a),[a]),v.flags|=2048,lu(9,{destroy:void 0},EC.bind(null,v,F,p,A),null),p},useId:function(){var a=Bs(),A=_n.identifierPrefix;if(Pr){var p=Eo,v=Co;p=(v&~(1<<32-ke(v)-1)).toString(32)+p,A="_"+A+"R_"+p,p=lh++,0<p&&(A+="H"+p.toString(32)),A+="_"}else p=r5++,A="_"+A+"r_"+p.toString(32)+"_";return a.memoizedState=A},useHostTransitionStatus:Sm,useFormState:kC,useActionState:kC,useOptimistic:function(a){var A=Bs();A.memoizedState=A.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=p,A=Nm.bind(null,Er,!0,p),p.dispatch=A,[a,A]},useMemoCache:vm,useCacheRefresh:function(){return Bs().memoizedState=l5.bind(null,Er)},useEffectEvent:function(a){var A=Bs(),p={impl:a};return A.memoizedState=p,function(){if((sn&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Fm={readContext:Ki,use:ch,useCallback:GC,useContext:Ki,useEffect:_m,useImperativeHandle:jC,useInsertionEffect:QC,useLayoutEffect:HC,useMemo:KC,useReducer:uh,useRef:OC,useState:function(){return uh(el)},useDebugValue:Tm,useDeferredValue:function(a,A){var p=li();return zC(p,mn.memoizedState,a,A)},useTransition:function(){var a=uh(el)[0],A=li().memoizedState;return[typeof a=="boolean"?a:U0(a),A]},useSyncExternalStore:yC,useId:YC,useHostTransitionStatus:Sm,useFormState:DC,useActionState:DC,useOptimistic:function(a,A){var p=li();return BC(p,mn,a,A)},useMemoCache:vm,useCacheRefresh:JC};Fm.useEffectEvent=PC;var rE={readContext:Ki,use:ch,useCallback:GC,useContext:Ki,useEffect:_m,useImperativeHandle:jC,useInsertionEffect:QC,useLayoutEffect:HC,useMemo:KC,useReducer:Cm,useRef:OC,useState:function(){return Cm(el)},useDebugValue:Tm,useDeferredValue:function(a,A){var p=li();return mn===null?Bm(p,a,A):zC(p,mn.memoizedState,a,A)},useTransition:function(){var a=Cm(el)[0],A=li().memoizedState;return[typeof a=="boolean"?a:U0(a),A]},useSyncExternalStore:yC,useId:YC,useHostTransitionStatus:Sm,useFormState:MC,useActionState:MC,useOptimistic:function(a,A){var p=li();return mn!==null?BC(p,mn,a,A):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:vm,useCacheRefresh:JC};rE.useEffectEvent=PC;function Rm(a,A,p,v){A=a.memoizedState,p=p(v,A),p=p==null?A:C({},A,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var km={enqueueSetState:function(a,A,p){a=a._reactInternals;var v=da(),I=jl(v);I.payload=A,p!=null&&(I.callback=p),A=Gl(a,I,v),A!==null&&(Ys(A,a,v),F0(A,a,v))},enqueueReplaceState:function(a,A,p){a=a._reactInternals;var v=da(),I=jl(v);I.tag=1,I.payload=A,p!=null&&(I.callback=p),A=Gl(a,I,v),A!==null&&(Ys(A,a,v),F0(A,a,v))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var p=da(),v=jl(p);v.tag=2,A!=null&&(v.callback=A),A=Gl(a,v,p),A!==null&&(Ys(A,a,p),F0(A,a,p))}};function nE(a,A,p,v,I,F,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,F,j):A.prototype&&A.prototype.isPureReactComponent?!_(p,v)||!_(I,F):!0}function iE(a,A,p,v){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(p,v),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(p,v),A.state!==a&&km.enqueueReplaceState(A,A.state,null)}function nc(a,A){var p=A;if("ref"in A){p={};for(var v in A)v!=="ref"&&(p[v]=A[v])}if(a=a.defaultProps){p===A&&(p=C({},p));for(var I in a)p[I]===void 0&&(p[I]=a[I])}return p}function sE(a){zd(a)}function aE(a){console.error(a)}function oE(a){zd(a)}function gh(a,A){try{var p=a.onUncaughtError;p(A.value,{componentStack:A.stack})}catch(v){setTimeout(function(){throw v})}}function lE(a,A,p){try{var v=a.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Dm(a,A,p){return p=jl(p),p.tag=3,p.payload={element:null},p.callback=function(){gh(a,A)},p}function AE(a){return a=jl(a),a.tag=3,a}function cE(a,A,p,v){var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var F=v.value;a.payload=function(){return I(F)},a.callback=function(){lE(A,p,v)}}var j=p.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){lE(A,p,v),typeof I!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var Ae=v.stack;this.componentDidCatch(v.value,{componentStack:Ae!==null?Ae:""})})}function c5(a,A,p,v,I){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(A=p.alternate,A!==null&&eu(A,p,I,!0),p=Aa.current,p!==null){switch(p.tag){case 31:case 13:return ka===null?Bh():p.alternate===null&&ei===0&&(ei=3),p.flags&=-257,p.flags|=65536,p.lanes=I,v===rh?p.flags|=16384:(A=p.updateQueue,A===null?p.updateQueue=new Set([v]):A.add(v),sx(a,v,I)),!1;case 22:return p.flags|=65536,v===rh?p.flags|=16384:(A=p.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=A):(p=A.retryQueue,p===null?A.retryQueue=new Set([v]):p.add(v)),sx(a,v,I)),!1}throw Error(n(435,p.tag))}return sx(a,v,I),Bh(),!1}if(Pr)return A=Aa.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=I,v!==$p&&(a=Error(n(422),{cause:v}),T0(Sa(a,p)))):(v!==$p&&(A=Error(n(423),{cause:v}),T0(Sa(A,p))),a=a.current.alternate,a.flags|=65536,I&=-I,a.lanes|=I,v=Sa(v,p),I=Dm(a.stateNode,v,I),cm(a,I),ei!==4&&(ei=2)),!1;var F=Error(n(520),{cause:v});if(F=Sa(F,p),K0===null?K0=[F]:K0.push(F),ei!==4&&(ei=2),A===null)return!0;v=Sa(v,p),p=A;do{switch(p.tag){case 3:return p.flags|=65536,a=I&-I,p.lanes|=a,a=Dm(p.stateNode,v,a),cm(p,a),!1;case 1:if(A=p.type,F=p.stateNode,(p.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Yl===null||!Yl.has(F))))return p.flags|=65536,I&=-I,p.lanes|=I,I=AE(I),cE(I,a,p,v),cm(p,I),!1}p=p.return}while(p!==null);return!1}var Um=Error(n(461)),gi=!1;function zi(a,A,p,v){A.child=a===null?hC(A,null,p,v):tc(A,a.child,p,v)}function uE(a,A,p,v,I){p=p.render;var F=A.ref;if("ref"in v){var j={};for(var Ae in v)Ae!=="ref"&&(j[Ae]=v[Ae])}else j=v;return JA(A),v=pm(a,A,p,j,F,I),Ae=mm(),a!==null&&!gi?(xm(a,A,I),tl(a,A,I)):(Pr&&Ae&&Jp(A),A.flags|=1,zi(a,A,v,I),A.child)}function fE(a,A,p,v,I){if(a===null){var F=p.type;return typeof F=="function"&&!qp(F)&&F.defaultProps===void 0&&p.compare===null?(A.tag=15,A.type=F,dE(a,A,F,v,I)):(a=Yd(p.type,null,v,A,A.mode,I),a.ref=A.ref,a.return=A,A.child=a)}if(F=a.child,!jm(a,I)){var j=F.memoizedProps;if(p=p.compare,p=p!==null?p:_,p(j,v)&&a.ref===A.ref)return tl(a,A,I)}return A.flags|=1,a=Xo(F,v),a.ref=A.ref,a.return=A,A.child=a}function dE(a,A,p,v,I){if(a!==null){var F=a.memoizedProps;if(_(F,v)&&a.ref===A.ref)if(gi=!1,A.pendingProps=v=F,jm(a,I))(a.flags&131072)!==0&&(gi=!0);else return A.lanes=a.lanes,tl(a,A,I)}return Mm(a,A,p,v,I)}function hE(a,A,p,v){var I=v.children,F=a!==null?a.memoizedState:null;if(a===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((A.flags&128)!==0){if(F=F!==null?F.baseLanes|p:p,a!==null){for(v=A.child=a.child,I=0;v!==null;)I=I|v.lanes|v.childLanes,v=v.sibling;v=I&~F}else v=0,A.child=null;return gE(a,A,F,p,v)}if((p&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&eh(A,F!==null?F.cachePool:null),F!==null?mC(A,F):fm(),xC(A);else return v=A.lanes=536870912,gE(a,A,F!==null?F.baseLanes|p:p,p,v)}else F!==null?(eh(A,F.cachePool),mC(A,F),zl(),A.memoizedState=null):(a!==null&&eh(A,null),fm(),zl());return zi(a,A,I,p),A.child}function L0(a,A){return a!==null&&a.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function gE(a,A,p,v,I){var F=am();return F=F===null?null:{parent:di._currentValue,pool:F},A.memoizedState={baseLanes:p,cachePool:F},a!==null&&eh(A,null),fm(),xC(A),a!==null&&eu(a,A,v,!0),A.childLanes=I,null}function ph(a,A){return A=xh({mode:A.mode,children:A.children},a.mode),A.ref=a.ref,a.child=A,A.return=a,A}function pE(a,A,p){return tc(A,a.child,null,p),a=ph(A,A.pendingProps),a.flags|=2,ca(A),A.memoizedState=null,a}function u5(a,A,p){var v=A.pendingProps,I=(A.flags&128)!==0;if(A.flags&=-129,a===null){if(Pr){if(v.mode==="hidden")return a=ph(A,v),A.lanes=536870912,L0(null,a);if(hm(A),(a=Rn)?(a=Ib(a,Ra),a=a!==null&&a.data==="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:Ll!==null?{id:Co,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},p=$y(a),p.return=A,A.child=p,Gi=A,Rn=null)):a=null,a===null)throw Ql(A);return A.lanes=536870912,null}return ph(A,v)}var F=a.memoizedState;if(F!==null){var j=F.dehydrated;if(hm(A),I)if(A.flags&256)A.flags&=-257,A=pE(a,A,p);else if(A.memoizedState!==null)A.child=a.child,A.flags|=128,A=null;else throw Error(n(558));else if(gi||eu(a,A,p,!1),I=(p&a.childLanes)!==0,gi||I){if(v=_n,v!==null&&(j=Pi(v,p),j!==0&&j!==F.retryLane))throw F.retryLane=j,WA(a,j),Ys(v,a,j),Um;Bh(),A=pE(a,A,p)}else a=F.treeContext,Rn=Da(j.nextSibling),Gi=A,Pr=!0,Pl=null,Ra=!1,a!==null&&rC(A,a),A=ph(A,v),A.flags|=4096;return A}return a=Xo(a.child,{mode:v.mode,children:v.children}),a.ref=A.ref,A.child=a,a.return=A,a}function mh(a,A){var p=A.ref;if(p===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(a===null||a.ref!==p)&&(A.flags|=4194816)}}function Mm(a,A,p,v,I){return JA(A),p=pm(a,A,p,v,void 0,I),v=mm(),a!==null&&!gi?(xm(a,A,I),tl(a,A,I)):(Pr&&v&&Jp(A),A.flags|=1,zi(a,A,p,I),A.child)}function mE(a,A,p,v,I,F){return JA(A),A.updateQueue=null,p=vC(A,v,p,I),wC(a),v=mm(),a!==null&&!gi?(xm(a,A,F),tl(a,A,F)):(Pr&&v&&Jp(A),A.flags|=1,zi(a,A,p,F),A.child)}function xE(a,A,p,v,I){if(JA(A),A.stateNode===null){var F=Yc,j=p.contextType;typeof j=="object"&&j!==null&&(F=Ki(j)),F=new p(v,F),A.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=km,A.stateNode=F,F._reactInternals=A,F=A.stateNode,F.props=v,F.state=A.memoizedState,F.refs={},lm(A),j=p.contextType,F.context=typeof j=="object"&&j!==null?Ki(j):Yc,F.state=A.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(Rm(A,p,j,v),F.state=A.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(j=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),j!==F.state&&km.enqueueReplaceState(F,F.state,null),k0(A,v,F,I),R0(),F.state=A.memoizedState),typeof F.componentDidMount=="function"&&(A.flags|=4194308),v=!0}else if(a===null){F=A.stateNode;var Ae=A.memoizedProps,_e=nc(p,Ae);F.props=_e;var Ge=F.context,lt=p.contextType;j=Yc,typeof lt=="object"&&lt!==null&&(j=Ki(lt));var dt=p.getDerivedStateFromProps;lt=typeof dt=="function"||typeof F.getSnapshotBeforeUpdate=="function",Ae=A.pendingProps!==Ae,lt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Ae||Ge!==j)&&iE(A,F,v,j),Vl=!1;var Xe=A.memoizedState;F.state=Xe,k0(A,v,F,I),R0(),Ge=A.memoizedState,Ae||Xe!==Ge||Vl?(typeof dt=="function"&&(Rm(A,p,dt,v),Ge=A.memoizedState),(_e=Vl||nE(A,p,_e,v,Xe,Ge,j))?(lt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(A.flags|=4194308)):(typeof F.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=v,A.memoizedState=Ge),F.props=v,F.state=Ge,F.context=j,v=_e):(typeof F.componentDidMount=="function"&&(A.flags|=4194308),v=!1)}else{F=A.stateNode,Am(a,A),j=A.memoizedProps,lt=nc(p,j),F.props=lt,dt=A.pendingProps,Xe=F.context,Ge=p.contextType,_e=Yc,typeof Ge=="object"&&Ge!==null&&(_e=Ki(Ge)),Ae=p.getDerivedStateFromProps,(Ge=typeof Ae=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(j!==dt||Xe!==_e)&&iE(A,F,v,_e),Vl=!1,Xe=A.memoizedState,F.state=Xe,k0(A,v,F,I),R0();var rt=A.memoizedState;j!==dt||Xe!==rt||Vl||a!==null&&a.dependencies!==null&&Zd(a.dependencies)?(typeof Ae=="function"&&(Rm(A,p,Ae,v),rt=A.memoizedState),(lt=Vl||nE(A,p,lt,v,Xe,rt,_e)||a!==null&&a.dependencies!==null&&Zd(a.dependencies))?(Ge||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,rt,_e),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,rt,_e)),typeof F.componentDidUpdate=="function"&&(A.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof F.componentDidUpdate!="function"||j===a.memoizedProps&&Xe===a.memoizedState||(A.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Xe===a.memoizedState||(A.flags|=1024),A.memoizedProps=v,A.memoizedState=rt),F.props=v,F.state=rt,F.context=_e,v=lt):(typeof F.componentDidUpdate!="function"||j===a.memoizedProps&&Xe===a.memoizedState||(A.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&Xe===a.memoizedState||(A.flags|=1024),v=!1)}return F=v,mh(a,A),v=(A.flags&128)!==0,F||v?(F=A.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:F.render(),A.flags|=1,a!==null&&v?(A.child=tc(A,a.child,null,I),A.child=tc(A,null,p,I)):zi(a,A,p,I),A.memoizedState=F.state,a=A.child):a=tl(a,A,I),a}function wE(a,A,p,v){return XA(),A.flags|=256,zi(a,A,p,v),A.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lm(a){return{baseLanes:a,cachePool:lC()}}function Pm(a,A,p){return a=a!==null?a.childLanes&~p:0,A&&(a|=fa),a}function vE(a,A,p){var v=A.pendingProps,I=!1,F=(A.flags&128)!==0,j;if((j=F)||(j=a!==null&&a.memoizedState===null?!1:(oi.current&2)!==0),j&&(I=!0,A.flags&=-129),j=(A.flags&32)!==0,A.flags&=-33,a===null){if(Pr){if(I?Kl(A):zl(),(a=Rn)?(a=Ib(a,Ra),a=a!==null&&a.data!=="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:Ll!==null?{id:Co,overflow:Eo}:null,retryLane:536870912,hydrationErrors:null},p=$y(a),p.return=A,A.child=p,Gi=A,Rn=null)):a=null,a===null)throw Ql(A);return yx(a)?A.lanes=32:A.lanes=536870912,null}var Ae=v.children;return v=v.fallback,I?(zl(),I=A.mode,Ae=xh({mode:"hidden",children:Ae},I),v=qA(v,I,p,null),Ae.return=A,v.return=A,Ae.sibling=v,A.child=Ae,v=A.child,v.memoizedState=Lm(p),v.childLanes=Pm(a,j,p),A.memoizedState=Om,L0(null,v)):(Kl(A),Qm(A,Ae))}var _e=a.memoizedState;if(_e!==null&&(Ae=_e.dehydrated,Ae!==null)){if(F)A.flags&256?(Kl(A),A.flags&=-257,A=Hm(a,A,p)):A.memoizedState!==null?(zl(),A.child=a.child,A.flags|=128,A=null):(zl(),Ae=v.fallback,I=A.mode,v=xh({mode:"visible",children:v.children},I),Ae=qA(Ae,I,p,null),Ae.flags|=2,v.return=A,Ae.return=A,v.sibling=Ae,A.child=v,tc(A,a.child,null,p),v=A.child,v.memoizedState=Lm(p),v.childLanes=Pm(a,j,p),A.memoizedState=Om,A=L0(null,v));else if(Kl(A),yx(Ae)){if(j=Ae.nextSibling&&Ae.nextSibling.dataset,j)var Ge=j.dgst;j=Ge,v=Error(n(419)),v.stack="",v.digest=j,T0({value:v,source:null,stack:null}),A=Hm(a,A,p)}else if(gi||eu(a,A,p,!1),j=(p&a.childLanes)!==0,gi||j){if(j=_n,j!==null&&(v=Pi(j,p),v!==0&&v!==_e.retryLane))throw _e.retryLane=v,WA(a,v),Ys(j,a,v),Um;vx(Ae)||Bh(),A=Hm(a,A,p)}else vx(Ae)?(A.flags|=192,A.child=a.child,A=null):(a=_e.treeContext,Rn=Da(Ae.nextSibling),Gi=A,Pr=!0,Pl=null,Ra=!1,a!==null&&rC(A,a),A=Qm(A,v.children),A.flags|=4096);return A}return I?(zl(),Ae=v.fallback,I=A.mode,_e=a.child,Ge=_e.sibling,v=Xo(_e,{mode:"hidden",children:v.children}),v.subtreeFlags=_e.subtreeFlags&65011712,Ge!==null?Ae=Xo(Ge,Ae):(Ae=qA(Ae,I,p,null),Ae.flags|=2),Ae.return=A,v.return=A,v.sibling=Ae,A.child=v,L0(null,v),v=A.child,Ae=a.child.memoizedState,Ae===null?Ae=Lm(p):(I=Ae.cachePool,I!==null?(_e=di._currentValue,I=I.parent!==_e?{parent:_e,pool:_e}:I):I=lC(),Ae={baseLanes:Ae.baseLanes|p,cachePool:I}),v.memoizedState=Ae,v.childLanes=Pm(a,j,p),A.memoizedState=Om,L0(a.child,v)):(Kl(A),p=a.child,a=p.sibling,p=Xo(p,{mode:"visible",children:v.children}),p.return=A,p.sibling=null,a!==null&&(j=A.deletions,j===null?(A.deletions=[a],A.flags|=16):j.push(a)),A.child=p,A.memoizedState=null,p)}function Qm(a,A){return A=xh({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function xh(a,A){return a=la(22,a,null,A),a.lanes=0,a}function Hm(a,A,p){return tc(A,a.child,null,p),a=Qm(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function yE(a,A,p){a.lanes|=A;var v=a.alternate;v!==null&&(v.lanes|=A),rm(a.return,A,p)}function Vm(a,A,p,v,I,F){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:I,treeForkCount:F}:(j.isBackwards=A,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=p,j.tailMode=I,j.treeForkCount=F)}function CE(a,A,p){var v=A.pendingProps,I=v.revealOrder,F=v.tail;v=v.children;var j=oi.current,Ae=(j&2)!==0;if(Ae?(j=j&1|2,A.flags|=128):j&=1,oe(oi,j),zi(a,A,v,p),v=Pr?_0:0,!Ae&&a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yE(a,p,A);else if(a.tag===19)yE(a,p,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(I){case"forwards":for(p=A.child,I=null;p!==null;)a=p.alternate,a!==null&&ah(a)===null&&(I=p),p=p.sibling;p=I,p===null?(I=A.child,A.child=null):(I=p.sibling,p.sibling=null),Vm(A,!1,I,p,F,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,I=A.child,A.child=null;I!==null;){if(a=I.alternate,a!==null&&ah(a)===null){A.child=I;break}a=I.sibling,I.sibling=p,p=I,I=a}Vm(A,!0,p,null,F,v);break;case"together":Vm(A,!1,null,null,void 0,v);break;default:A.memoizedState=null}return A.child}function tl(a,A,p){if(a!==null&&(A.dependencies=a.dependencies),Xl|=A.lanes,(p&A.childLanes)===0)if(a!==null){if(eu(a,A,p,!1),(p&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(n(153));if(A.child!==null){for(a=A.child,p=Xo(a,a.pendingProps),A.child=p,p.return=A;a.sibling!==null;)a=a.sibling,p=p.sibling=Xo(a,a.pendingProps),p.return=A;p.sibling=null}return A.child}function jm(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&Zd(a)))}function f5(a,A,p){switch(A.tag){case 3:Ne(A,A.stateNode.containerInfo),Hl(A,di,a.memoizedState.cache),XA();break;case 27:case 5:Ze(A);break;case 4:Ne(A,A.stateNode.containerInfo);break;case 10:Hl(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,hm(A),null;break;case 13:var v=A.memoizedState;if(v!==null)return v.dehydrated!==null?(Kl(A),A.flags|=128,null):(p&A.child.childLanes)!==0?vE(a,A,p):(Kl(A),a=tl(a,A,p),a!==null?a.sibling:null);Kl(A);break;case 19:var I=(a.flags&128)!==0;if(v=(p&A.childLanes)!==0,v||(eu(a,A,p,!1),v=(p&A.childLanes)!==0),I){if(v)return CE(a,A,p);A.flags|=128}if(I=A.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),oe(oi,oi.current),v)break;return null;case 22:return A.lanes=0,hE(a,A,p,A.pendingProps);case 24:Hl(A,di,a.memoizedState.cache)}return tl(a,A,p)}function EE(a,A,p){if(a!==null)if(a.memoizedProps!==A.pendingProps)gi=!0;else{if(!jm(a,p)&&(A.flags&128)===0)return gi=!1,f5(a,A,p);gi=(a.flags&131072)!==0}else gi=!1,Pr&&(A.flags&1048576)!==0&&tC(A,_0,A.index);switch(A.lanes=0,A.tag){case 16:e:{var v=A.pendingProps;if(a=$A(A.elementType),A.type=a,typeof a=="function")qp(a)?(v=nc(a,v),A.tag=1,A=xE(null,A,a,v,p)):(A.tag=0,A=Mm(null,A,a,v,p));else{if(a!=null){var I=a.$$typeof;if(I===J){A.tag=11,A=uE(null,A,a,v,p);break e}else if(I===M){A.tag=14,A=fE(null,A,a,v,p);break e}}throw A=Re(a)||a,Error(n(306,A,""))}}return A;case 0:return Mm(a,A,A.type,A.pendingProps,p);case 1:return v=A.type,I=nc(v,A.pendingProps),xE(a,A,v,I,p);case 3:e:{if(Ne(A,A.stateNode.containerInfo),a===null)throw Error(n(387));v=A.pendingProps;var F=A.memoizedState;I=F.element,Am(a,A),k0(A,v,null,p);var j=A.memoizedState;if(v=j.cache,Hl(A,di,v),v!==F.cache&&nm(A,[di],p,!0),R0(),v=j.element,F.isDehydrated)if(F={element:v,isDehydrated:!1,cache:j.cache},A.updateQueue.baseState=F,A.memoizedState=F,A.flags&256){A=wE(a,A,v,p);break e}else if(v!==I){I=Sa(Error(n(424)),A),T0(I),A=wE(a,A,v,p);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rn=Da(a.firstChild),Gi=A,Pr=!0,Pl=null,Ra=!0,p=hC(A,null,v,p),A.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(XA(),v===I){A=tl(a,A,p);break e}zi(a,A,v,p)}A=A.child}return A;case 26:return mh(a,A),a===null?(p=Db(A.type,null,A.pendingProps,null))?A.memoizedState=p:Pr||(p=A.type,a=A.pendingProps,v=Dh(Ee.current).createElement(p),v[he]=A,v[ge]=a,Wi(v,p,a),Ht(v),A.stateNode=v):A.memoizedState=Db(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return Ze(A),a===null&&Pr&&(v=A.stateNode=Fb(A.type,A.pendingProps,Ee.current),Gi=A,Ra=!0,I=Rn,eA(A.type)?(Cx=I,Rn=Da(v.firstChild)):Rn=I),zi(a,A,A.pendingProps.children,p),mh(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&Pr&&((I=v=Rn)&&(v=V5(v,A.type,A.pendingProps,Ra),v!==null?(A.stateNode=v,Gi=A,Rn=Da(v.firstChild),Ra=!1,I=!0):I=!1),I||Ql(A)),Ze(A),I=A.type,F=A.pendingProps,j=a!==null?a.memoizedProps:null,v=F.children,mx(I,F)?v=null:j!==null&&mx(I,j)&&(A.flags|=32),A.memoizedState!==null&&(I=pm(a,A,n5,null,null,p),$0._currentValue=I),mh(a,A),zi(a,A,v,p),A.child;case 6:return a===null&&Pr&&((a=p=Rn)&&(p=j5(p,A.pendingProps,Ra),p!==null?(A.stateNode=p,Gi=A,Rn=null,a=!0):a=!1),a||Ql(A)),null;case 13:return vE(a,A,p);case 4:return Ne(A,A.stateNode.containerInfo),v=A.pendingProps,a===null?A.child=tc(A,null,v,p):zi(a,A,v,p),A.child;case 11:return uE(a,A,A.type,A.pendingProps,p);case 7:return zi(a,A,A.pendingProps,p),A.child;case 8:return zi(a,A,A.pendingProps.children,p),A.child;case 12:return zi(a,A,A.pendingProps.children,p),A.child;case 10:return v=A.pendingProps,Hl(A,A.type,v.value),zi(a,A,v.children,p),A.child;case 9:return I=A.type._context,v=A.pendingProps.children,JA(A),I=Ki(I),v=v(I),A.flags|=1,zi(a,A,v,p),A.child;case 14:return fE(a,A,A.type,A.pendingProps,p);case 15:return dE(a,A,A.type,A.pendingProps,p);case 19:return CE(a,A,p);case 31:return u5(a,A,p);case 22:return hE(a,A,p,A.pendingProps);case 24:return JA(A),v=Ki(di),a===null?(I=am(),I===null&&(I=_n,F=im(),I.pooledCache=F,F.refCount++,F!==null&&(I.pooledCacheLanes|=p),I=F),A.memoizedState={parent:v,cache:I},lm(A),Hl(A,di,I)):((a.lanes&p)!==0&&(Am(a,A),k0(A,null,null,p),R0()),I=a.memoizedState,F=A.memoizedState,I.parent!==v?(I={parent:v,cache:v},A.memoizedState=I,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=I),Hl(A,di,v)):(v=F.cache,Hl(A,di,v),v!==I.cache&&nm(A,[di],p,!0))),zi(a,A,A.pendingProps.children,p),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function rl(a){a.flags|=4}function Gm(a,A,p,v,I){if((A=(a.mode&32)!==0)&&(A=!1),A){if(a.flags|=16777216,(I&335544128)===I)if(a.stateNode.complete)a.flags|=8192;else if(YE())a.flags|=8192;else throw ec=rh,om}else a.flags&=-16777217}function bE(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Pb(A))if(YE())a.flags|=8192;else throw ec=rh,om}function wh(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?At():536870912,a.lanes|=A,fu|=A)}function P0(a,A){if(!Pr)switch(a.tailMode){case"hidden":A=a.tail;for(var p=null;A!==null;)A.alternate!==null&&(p=A),A=A.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function kn(a){var A=a.alternate!==null&&a.alternate.child===a.child,p=0,v=0;if(A)for(var I=a.child;I!==null;)p|=I.lanes|I.childLanes,v|=I.subtreeFlags&65011712,v|=I.flags&65011712,I.return=a,I=I.sibling;else for(I=a.child;I!==null;)p|=I.lanes|I.childLanes,v|=I.subtreeFlags,v|=I.flags,I.return=a,I=I.sibling;return a.subtreeFlags|=v,a.childLanes=p,A}function d5(a,A,p){var v=A.pendingProps;switch(Zp(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(A),null;case 1:return kn(A),null;case 3:return p=A.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),A.memoizedState.cache!==v&&(A.flags|=2048),Zo(di),Me(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&($c(A)?rl(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,em())),kn(A),null;case 26:var I=A.type,F=A.memoizedState;return a===null?(rl(A),F!==null?(kn(A),bE(A,F)):(kn(A),Gm(A,I,null,v,p))):F?F!==a.memoizedState?(rl(A),kn(A),bE(A,F)):(kn(A),A.flags&=-16777217):(a=a.memoizedProps,a!==v&&rl(A),kn(A),Gm(A,I,a,v,p)),null;case 27:if(Tt(A),p=Ee.current,I=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==v&&rl(A);else{if(!v){if(A.stateNode===null)throw Error(n(166));return kn(A),null}a=ae.current,$c(A)?nC(A):(a=Fb(I,v,p),A.stateNode=a,rl(A))}return kn(A),null;case 5:if(Tt(A),I=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==v&&rl(A);else{if(!v){if(A.stateNode===null)throw Error(n(166));return kn(A),null}if(F=ae.current,$c(A))nC(A);else{var j=Dh(Ee.current);switch(F){case 1:F=j.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:F=j.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":F=j.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":F=j.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":F=j.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof v.is=="string"?j.createElement("select",{is:v.is}):j.createElement("select"),v.multiple?F.multiple=!0:v.size&&(F.size=v.size);break;default:F=typeof v.is=="string"?j.createElement(I,{is:v.is}):j.createElement(I)}}F[he]=A,F[ge]=v;e:for(j=A.child;j!==null;){if(j.tag===5||j.tag===6)F.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===A)break e;for(;j.sibling===null;){if(j.return===null||j.return===A)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}A.stateNode=F;e:switch(Wi(F,I,v),I){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&rl(A)}}return kn(A),Gm(A,A.type,a===null?null:a.memoizedProps,A.pendingProps,p),null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==v&&rl(A);else{if(typeof v!="string"&&A.stateNode===null)throw Error(n(166));if(a=Ee.current,$c(A)){if(a=A.stateNode,p=A.memoizedProps,v=null,I=Gi,I!==null)switch(I.tag){case 27:case 5:v=I.memoizedProps}a[he]=A,a=!!(a.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||vb(a.nodeValue,p)),a||Ql(A,!0)}else a=Dh(a).createTextNode(v),a[he]=A,A.stateNode=a}return kn(A),null;case 31:if(p=A.memoizedState,a===null||a.memoizedState!==null){if(v=$c(A),p!==null){if(a===null){if(!v)throw Error(n(318));if(a=A.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[he]=A}else XA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;kn(A),a=!1}else p=em(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),a=!0;if(!a)return A.flags&256?(ca(A),A):(ca(A),null);if((A.flags&128)!==0)throw Error(n(558))}return kn(A),null;case 13:if(v=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I=$c(A),v!==null&&v.dehydrated!==null){if(a===null){if(!I)throw Error(n(318));if(I=A.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[he]=A}else XA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;kn(A),I=!1}else I=em(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=I),I=!0;if(!I)return A.flags&256?(ca(A),A):(ca(A),null)}return ca(A),(A.flags&128)!==0?(A.lanes=p,A):(p=v!==null,a=a!==null&&a.memoizedState!==null,p&&(v=A.child,I=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(I=v.alternate.memoizedState.cachePool.pool),F=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(F=v.memoizedState.cachePool.pool),F!==I&&(v.flags|=2048)),p!==a&&p&&(A.child.flags|=8192),wh(A,A.updateQueue),kn(A),null);case 4:return Me(),a===null&&fx(A.stateNode.containerInfo),kn(A),null;case 10:return Zo(A.type),kn(A),null;case 19:if(W(oi),v=A.memoizedState,v===null)return kn(A),null;if(I=(A.flags&128)!==0,F=v.rendering,F===null)if(I)P0(v,!1);else{if(ei!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(F=ah(a),F!==null){for(A.flags|=128,P0(v,!1),a=F.updateQueue,A.updateQueue=a,wh(A,a),A.subtreeFlags=0,a=p,p=A.child;p!==null;)Zy(p,a),p=p.sibling;return oe(oi,oi.current&1|2),Pr&&Yo(A,v.treeForkCount),A.child}a=a.sibling}v.tail!==null&&Qe()>bh&&(A.flags|=128,I=!0,P0(v,!1),A.lanes=4194304)}else{if(!I)if(a=ah(F),a!==null){if(A.flags|=128,I=!0,a=a.updateQueue,A.updateQueue=a,wh(A,a),P0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!F.alternate&&!Pr)return kn(A),null}else 2*Qe()-v.renderingStartTime>bh&&p!==536870912&&(A.flags|=128,I=!0,P0(v,!1),A.lanes=4194304);v.isBackwards?(F.sibling=A.child,A.child=F):(a=v.last,a!==null?a.sibling=F:A.child=F,v.last=F)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Qe(),a.sibling=null,p=oi.current,oe(oi,I?p&1|2:p&1),Pr&&Yo(A,v.treeForkCount),a):(kn(A),null);case 22:case 23:return ca(A),dm(),v=A.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(A.flags|=8192):v&&(A.flags|=8192),v?(p&536870912)!==0&&(A.flags&128)===0&&(kn(A),A.subtreeFlags&6&&(A.flags|=8192)):kn(A),p=A.updateQueue,p!==null&&wh(A,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),v=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(v=A.memoizedState.cachePool.pool),v!==p&&(A.flags|=2048),a!==null&&W(ZA),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),A.memoizedState.cache!==p&&(A.flags|=2048),Zo(di),kn(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function h5(a,A){switch(Zp(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return Zo(di),Me(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return Tt(A),null;case 31:if(A.memoizedState!==null){if(ca(A),A.alternate===null)throw Error(n(340));XA()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 13:if(ca(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(n(340));XA()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return W(oi),null;case 4:return Me(),null;case 10:return Zo(A.type),null;case 22:case 23:return ca(A),dm(),a!==null&&W(ZA),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return Zo(di),null;case 25:return null;default:return null}}function _E(a,A){switch(Zp(A),A.tag){case 3:Zo(di),Me();break;case 26:case 27:case 5:Tt(A);break;case 4:Me();break;case 31:A.memoizedState!==null&&ca(A);break;case 13:ca(A);break;case 19:W(oi);break;case 10:Zo(A.type);break;case 22:case 23:ca(A),dm(),a!==null&&W(ZA);break;case 24:Zo(di)}}function Q0(a,A){try{var p=A.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var I=v.next;p=I;do{if((p.tag&a)===a){v=void 0;var F=p.create,j=p.inst;v=F(),j.destroy=v}p=p.next}while(p!==I)}}catch(Ae){fn(A,A.return,Ae)}}function Wl(a,A,p){try{var v=A.updateQueue,I=v!==null?v.lastEffect:null;if(I!==null){var F=I.next;v=F;do{if((v.tag&a)===a){var j=v.inst,Ae=j.destroy;if(Ae!==void 0){j.destroy=void 0,I=A;var _e=p,Ge=Ae;try{Ge()}catch(lt){fn(I,_e,lt)}}}v=v.next}while(v!==F)}}catch(lt){fn(A,A.return,lt)}}function TE(a){var A=a.updateQueue;if(A!==null){var p=a.stateNode;try{pC(A,p)}catch(v){fn(a,a.return,v)}}}function BE(a,A,p){p.props=nc(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(v){fn(a,A,v)}}function H0(a,A){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof p=="function"?a.refCleanup=p(v):p.current=v}}catch(I){fn(a,A,I)}}function bo(a,A){var p=a.ref,v=a.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(I){fn(a,A,I)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(I){fn(a,A,I)}else p.current=null}function IE(a){var A=a.type,p=a.memoizedProps,v=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(I){fn(a,a.return,I)}}function Km(a,A,p){try{var v=a.stateNode;M5(v,a.type,p,A),v[ge]=A}catch(I){fn(a,a.return,I)}}function SE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&eA(a.type)||a.tag===4}function zm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||SE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&eA(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wm(a,A,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,A?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,A):(A=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,A.appendChild(a),p=p._reactRootContainer,p!=null||A.onclick!==null||(A.onclick=Hn));else if(v!==4&&(v===27&&eA(a.type)&&(p=a.stateNode,A=null),a=a.child,a!==null))for(Wm(a,A,p),a=a.sibling;a!==null;)Wm(a,A,p),a=a.sibling}function vh(a,A,p){var v=a.tag;if(v===5||v===6)a=a.stateNode,A?p.insertBefore(a,A):p.appendChild(a);else if(v!==4&&(v===27&&eA(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(vh(a,A,p),a=a.sibling;a!==null;)vh(a,A,p),a=a.sibling}function NE(a){var A=a.stateNode,p=a.memoizedProps;try{for(var v=a.type,I=A.attributes;I.length;)A.removeAttributeNode(I[0]);Wi(A,v,p),A[he]=a,A[ge]=p}catch(F){fn(a,a.return,F)}}var nl=!1,pi=!1,qm=!1,FE=typeof WeakSet=="function"?WeakSet:Set,ki=null;function g5(a,A){if(a=a.containerInfo,gx=Hh,a=ee(a),se(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var I=v.anchorOffset,F=v.focusNode;v=v.focusOffset;try{p.nodeType,F.nodeType}catch{p=null;break e}var j=0,Ae=-1,_e=-1,Ge=0,lt=0,dt=a,Xe=null;t:for(;;){for(var rt;dt!==p||I!==0&&dt.nodeType!==3||(Ae=j+I),dt!==F||v!==0&&dt.nodeType!==3||(_e=j+v),dt.nodeType===3&&(j+=dt.nodeValue.length),(rt=dt.firstChild)!==null;)Xe=dt,dt=rt;for(;;){if(dt===a)break t;if(Xe===p&&++Ge===I&&(Ae=j),Xe===F&&++lt===v&&(_e=j),(rt=dt.nextSibling)!==null)break;dt=Xe,Xe=dt.parentNode}dt=rt}p=Ae===-1||_e===-1?null:{start:Ae,end:_e}}else p=null}p=p||{start:0,end:0}}else p=null;for(px={focusedElem:a,selectionRange:p},Hh=!1,ki=A;ki!==null;)if(A=ki,a=A.child,(A.subtreeFlags&1028)!==0&&a!==null)a.return=A,ki=a;else for(;ki!==null;){switch(A=ki,F=A.alternate,a=A.flags,A.tag){case 0:if((a&4)!==0&&(a=A.updateQueue,a=a!==null?a.events:null,a!==null))for(p=0;p<a.length;p++)I=a[p],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&F!==null){a=void 0,p=A,I=F.memoizedProps,F=F.memoizedState,v=p.stateNode;try{var zt=nc(p.type,I);a=v.getSnapshotBeforeUpdate(zt,F),v.__reactInternalSnapshotBeforeUpdate=a}catch(sr){fn(p,p.return,sr)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,p=a.nodeType,p===9)wx(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=A.sibling,a!==null){a.return=A.return,ki=a;break}ki=A.return}}function RE(a,A,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:sl(a,p),v&4&&Q0(5,p);break;case 1:if(sl(a,p),v&4)if(a=p.stateNode,A===null)try{a.componentDidMount()}catch(j){fn(p,p.return,j)}else{var I=nc(p.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(I,A,a.__reactInternalSnapshotBeforeUpdate)}catch(j){fn(p,p.return,j)}}v&64&&TE(p),v&512&&H0(p,p.return);break;case 3:if(sl(a,p),v&64&&(a=p.updateQueue,a!==null)){if(A=null,p.child!==null)switch(p.child.tag){case 27:case 5:A=p.child.stateNode;break;case 1:A=p.child.stateNode}try{pC(a,A)}catch(j){fn(p,p.return,j)}}break;case 27:A===null&&v&4&&NE(p);case 26:case 5:sl(a,p),A===null&&v&4&&IE(p),v&512&&H0(p,p.return);break;case 12:sl(a,p);break;case 31:sl(a,p),v&4&&UE(a,p);break;case 13:sl(a,p),v&4&&ME(a,p),v&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=b5.bind(null,p),G5(a,p))));break;case 22:if(v=p.memoizedState!==null||nl,!v){A=A!==null&&A.memoizedState!==null||pi,I=nl;var F=pi;nl=v,(pi=A)&&!F?al(a,p,(p.subtreeFlags&8772)!==0):sl(a,p),nl=I,pi=F}break;case 30:break;default:sl(a,p)}}function kE(a){var A=a.alternate;A!==null&&(a.alternate=null,kE(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&ht(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var On=null,zs=!1;function il(a,A,p){for(p=p.child;p!==null;)DE(a,A,p),p=p.sibling}function DE(a,A,p){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Gt,p)}catch{}switch(p.tag){case 26:pi||bo(p,A),il(a,A,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:pi||bo(p,A);var v=On,I=zs;eA(p.type)&&(On=p.stateNode,zs=!1),il(a,A,p),Y0(p.stateNode),On=v,zs=I;break;case 5:pi||bo(p,A);case 6:if(v=On,I=zs,On=null,il(a,A,p),On=v,zs=I,On!==null)if(zs)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(p.stateNode)}catch(F){fn(p,A,F)}else try{On.removeChild(p.stateNode)}catch(F){fn(p,A,F)}break;case 18:On!==null&&(zs?(a=On,Tb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),vu(a)):Tb(On,p.stateNode));break;case 4:v=On,I=zs,On=p.stateNode.containerInfo,zs=!0,il(a,A,p),On=v,zs=I;break;case 0:case 11:case 14:case 15:Wl(2,p,A),pi||Wl(4,p,A),il(a,A,p);break;case 1:pi||(bo(p,A),v=p.stateNode,typeof v.componentWillUnmount=="function"&&BE(p,A,v)),il(a,A,p);break;case 21:il(a,A,p);break;case 22:pi=(v=pi)||p.memoizedState!==null,il(a,A,p),pi=v;break;default:il(a,A,p)}}function UE(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{vu(a)}catch(p){fn(A,A.return,p)}}}function ME(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vu(a)}catch(p){fn(A,A.return,p)}}function p5(a){switch(a.tag){case 31:case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new FE),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new FE),A;default:throw Error(n(435,a.tag))}}function yh(a,A){var p=p5(a);A.forEach(function(v){if(!p.has(v)){p.add(v);var I=_5.bind(null,a,v);v.then(I,I)}})}function Ws(a,A){var p=A.deletions;if(p!==null)for(var v=0;v<p.length;v++){var I=p[v],F=a,j=A,Ae=j;e:for(;Ae!==null;){switch(Ae.tag){case 27:if(eA(Ae.type)){On=Ae.stateNode,zs=!1;break e}break;case 5:On=Ae.stateNode,zs=!1;break e;case 3:case 4:On=Ae.stateNode.containerInfo,zs=!0;break e}Ae=Ae.return}if(On===null)throw Error(n(160));DE(F,j,I),On=null,zs=!1,F=I.alternate,F!==null&&(F.return=null),I.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)OE(A,a),A=A.sibling}var eo=null;function OE(a,A){var p=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ws(A,a),qs(a),v&4&&(Wl(3,a,a.return),Q0(3,a),Wl(5,a,a.return));break;case 1:Ws(A,a),qs(a),v&512&&(pi||p===null||bo(p,p.return)),v&64&&nl&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var I=eo;if(Ws(A,a),qs(a),v&512&&(pi||p===null||bo(p,p.return)),v&4){var F=p!==null?p.memoizedState:null;if(v=a.memoizedState,p===null)if(v===null)if(a.stateNode===null){e:{v=a.type,p=a.memoizedProps,I=I.ownerDocument||I;t:switch(v){case"title":F=I.getElementsByTagName("title")[0],(!F||F[ze]||F[he]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=I.createElement(v),I.head.insertBefore(F,I.querySelector("head > title"))),Wi(F,v,p),F[he]=a,Ht(F),v=F;break e;case"link":var j=Ob("link","href",I).get(v+(p.href||""));if(j){for(var Ae=0;Ae<j.length;Ae++)if(F=j[Ae],F.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&F.getAttribute("rel")===(p.rel==null?null:p.rel)&&F.getAttribute("title")===(p.title==null?null:p.title)&&F.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){j.splice(Ae,1);break t}}F=I.createElement(v),Wi(F,v,p),I.head.appendChild(F);break;case"meta":if(j=Ob("meta","content",I).get(v+(p.content||""))){for(Ae=0;Ae<j.length;Ae++)if(F=j[Ae],F.getAttribute("content")===(p.content==null?null:""+p.content)&&F.getAttribute("name")===(p.name==null?null:p.name)&&F.getAttribute("property")===(p.property==null?null:p.property)&&F.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&F.getAttribute("charset")===(p.charSet==null?null:p.charSet)){j.splice(Ae,1);break t}}F=I.createElement(v),Wi(F,v,p),I.head.appendChild(F);break;default:throw Error(n(468,v))}F[he]=a,Ht(F),v=F}a.stateNode=v}else Lb(I,a.type,a.stateNode);else a.stateNode=Mb(I,v,a.memoizedProps);else F!==v?(F===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):F.count--,v===null?Lb(I,a.type,a.stateNode):Mb(I,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Km(a,a.memoizedProps,p.memoizedProps)}break;case 27:Ws(A,a),qs(a),v&512&&(pi||p===null||bo(p,p.return)),p!==null&&v&4&&Km(a,a.memoizedProps,p.memoizedProps);break;case 5:if(Ws(A,a),qs(a),v&512&&(pi||p===null||bo(p,p.return)),a.flags&32){I=a.stateNode;try{Os(I,"")}catch(zt){fn(a,a.return,zt)}}v&4&&a.stateNode!=null&&(I=a.memoizedProps,Km(a,I,p!==null?p.memoizedProps:I)),v&1024&&(qm=!0);break;case 6:if(Ws(A,a),qs(a),v&4){if(a.stateNode===null)throw Error(n(162));v=a.memoizedProps,p=a.stateNode;try{p.nodeValue=v}catch(zt){fn(a,a.return,zt)}}break;case 3:if(Oh=null,I=eo,eo=Uh(A.containerInfo),Ws(A,a),eo=I,qs(a),v&4&&p!==null&&p.memoizedState.isDehydrated)try{vu(A.containerInfo)}catch(zt){fn(a,a.return,zt)}qm&&(qm=!1,LE(a));break;case 4:v=eo,eo=Uh(a.stateNode.containerInfo),Ws(A,a),qs(a),eo=v;break;case 12:Ws(A,a),qs(a);break;case 31:Ws(A,a),qs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,yh(a,v)));break;case 13:Ws(A,a),qs(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Eh=Qe()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,yh(a,v)));break;case 22:I=a.memoizedState!==null;var _e=p!==null&&p.memoizedState!==null,Ge=nl,lt=pi;if(nl=Ge||I,pi=lt||_e,Ws(A,a),pi=lt,nl=Ge,qs(a),v&8192)e:for(A=a.stateNode,A._visibility=I?A._visibility&-2:A._visibility|1,I&&(p===null||_e||nl||pi||ic(a)),p=null,A=a;;){if(A.tag===5||A.tag===26){if(p===null){_e=p=A;try{if(F=_e.stateNode,I)j=F.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{Ae=_e.stateNode;var dt=_e.memoizedProps.style,Xe=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;Ae.style.display=Xe==null||typeof Xe=="boolean"?"":(""+Xe).trim()}}catch(zt){fn(_e,_e.return,zt)}}}else if(A.tag===6){if(p===null){_e=A;try{_e.stateNode.nodeValue=I?"":_e.memoizedProps}catch(zt){fn(_e,_e.return,zt)}}}else if(A.tag===18){if(p===null){_e=A;try{var rt=_e.stateNode;I?Bb(rt,!0):Bb(_e.stateNode,!1)}catch(zt){fn(_e,_e.return,zt)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;p===A&&(p=null),A=A.return}p===A&&(p=null),A.sibling.return=A.return,A=A.sibling}v&4&&(v=a.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,yh(a,p))));break;case 19:Ws(A,a),qs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,yh(a,v)));break;case 30:break;case 21:break;default:Ws(A,a),qs(a)}}function qs(a){var A=a.flags;if(A&2){try{for(var p,v=a.return;v!==null;){if(SE(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var I=p.stateNode,F=zm(a);vh(a,F,I);break;case 5:var j=p.stateNode;p.flags&32&&(Os(j,""),p.flags&=-33);var Ae=zm(a);vh(a,Ae,j);break;case 3:case 4:var _e=p.stateNode.containerInfo,Ge=zm(a);Wm(a,Ge,_e);break;default:throw Error(n(161))}}catch(lt){fn(a,a.return,lt)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function LE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;LE(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function sl(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)RE(a,A.alternate,A),A=A.sibling}function ic(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:Wl(4,A,A.return),ic(A);break;case 1:bo(A,A.return);var p=A.stateNode;typeof p.componentWillUnmount=="function"&&BE(A,A.return,p),ic(A);break;case 27:Y0(A.stateNode);case 26:case 5:bo(A,A.return),ic(A);break;case 22:A.memoizedState===null&&ic(A);break;case 30:ic(A);break;default:ic(A)}a=a.sibling}}function al(a,A,p){for(p=p&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var v=A.alternate,I=a,F=A,j=F.flags;switch(F.tag){case 0:case 11:case 15:al(I,F,p),Q0(4,F);break;case 1:if(al(I,F,p),v=F,I=v.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ge){fn(v,v.return,Ge)}if(v=F,I=v.updateQueue,I!==null){var Ae=v.stateNode;try{var _e=I.shared.hiddenCallbacks;if(_e!==null)for(I.shared.hiddenCallbacks=null,I=0;I<_e.length;I++)gC(_e[I],Ae)}catch(Ge){fn(v,v.return,Ge)}}p&&j&64&&TE(F),H0(F,F.return);break;case 27:NE(F);case 26:case 5:al(I,F,p),p&&v===null&&j&4&&IE(F),H0(F,F.return);break;case 12:al(I,F,p);break;case 31:al(I,F,p),p&&j&4&&UE(I,F);break;case 13:al(I,F,p),p&&j&4&&ME(I,F);break;case 22:F.memoizedState===null&&al(I,F,p),H0(F,F.return);break;case 30:break;default:al(I,F,p)}A=A.sibling}}function Xm(a,A){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&B0(p))}function Ym(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&B0(a))}function to(a,A,p,v){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)PE(a,A,p,v),A=A.sibling}function PE(a,A,p,v){var I=A.flags;switch(A.tag){case 0:case 11:case 15:to(a,A,p,v),I&2048&&Q0(9,A);break;case 1:to(a,A,p,v);break;case 3:to(a,A,p,v),I&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&B0(a)));break;case 12:if(I&2048){to(a,A,p,v),a=A.stateNode;try{var F=A.memoizedProps,j=F.id,Ae=F.onPostCommit;typeof Ae=="function"&&Ae(j,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(_e){fn(A,A.return,_e)}}else to(a,A,p,v);break;case 31:to(a,A,p,v);break;case 13:to(a,A,p,v);break;case 23:break;case 22:F=A.stateNode,j=A.alternate,A.memoizedState!==null?F._visibility&2?to(a,A,p,v):V0(a,A):F._visibility&2?to(a,A,p,v):(F._visibility|=2,Au(a,A,p,v,(A.subtreeFlags&10256)!==0||!1)),I&2048&&Xm(j,A);break;case 24:to(a,A,p,v),I&2048&&Ym(A.alternate,A);break;default:to(a,A,p,v)}}function Au(a,A,p,v,I){for(I=I&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var F=a,j=A,Ae=p,_e=v,Ge=j.flags;switch(j.tag){case 0:case 11:case 15:Au(F,j,Ae,_e,I),Q0(8,j);break;case 23:break;case 22:var lt=j.stateNode;j.memoizedState!==null?lt._visibility&2?Au(F,j,Ae,_e,I):V0(F,j):(lt._visibility|=2,Au(F,j,Ae,_e,I)),I&&Ge&2048&&Xm(j.alternate,j);break;case 24:Au(F,j,Ae,_e,I),I&&Ge&2048&&Ym(j.alternate,j);break;default:Au(F,j,Ae,_e,I)}A=A.sibling}}function V0(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var p=a,v=A,I=v.flags;switch(v.tag){case 22:V0(p,v),I&2048&&Xm(v.alternate,v);break;case 24:V0(p,v),I&2048&&Ym(v.alternate,v);break;default:V0(p,v)}A=A.sibling}}var j0=8192;function cu(a,A,p){if(a.subtreeFlags&j0)for(a=a.child;a!==null;)QE(a,A,p),a=a.sibling}function QE(a,A,p){switch(a.tag){case 26:cu(a,A,p),a.flags&j0&&a.memoizedState!==null&&rD(p,eo,a.memoizedState,a.memoizedProps);break;case 5:cu(a,A,p);break;case 3:case 4:var v=eo;eo=Uh(a.stateNode.containerInfo),cu(a,A,p),eo=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=j0,j0=16777216,cu(a,A,p),j0=v):cu(a,A,p));break;default:cu(a,A,p)}}function HE(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function G0(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var p=0;p<A.length;p++){var v=A[p];ki=v,jE(v,a)}HE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)VE(a),a=a.sibling}function VE(a){switch(a.tag){case 0:case 11:case 15:G0(a),a.flags&2048&&Wl(9,a,a.return);break;case 3:G0(a);break;case 12:G0(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,Ch(a)):G0(a);break;default:G0(a)}}function Ch(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var p=0;p<A.length;p++){var v=A[p];ki=v,jE(v,a)}HE(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:Wl(8,A,A.return),Ch(A);break;case 22:p=A.stateNode,p._visibility&2&&(p._visibility&=-3,Ch(A));break;default:Ch(A)}a=a.sibling}}function jE(a,A){for(;ki!==null;){var p=ki;switch(p.tag){case 0:case 11:case 15:Wl(8,p,A);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:B0(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,ki=v;else e:for(p=a;ki!==null;){v=ki;var I=v.sibling,F=v.return;if(kE(v),v===p){ki=null;break e}if(I!==null){I.return=F,ki=I;break e}ki=F}}}var m5={getCacheForType:function(a){var A=Ki(di),p=A.data.get(a);return p===void 0&&(p=a(),A.data.set(a,p)),p},cacheSignal:function(){return Ki(di).controller.signal}},x5=typeof WeakMap=="function"?WeakMap:Map,sn=0,_n=null,Nr=null,Dr=0,un=0,ua=null,ql=!1,uu=!1,Jm=!1,ol=0,ei=0,Xl=0,sc=0,Zm=0,fa=0,fu=0,K0=null,Xs=null,$m=!1,Eh=0,GE=0,bh=1/0,_h=null,Yl=null,_i=0,Jl=null,du=null,ll=0,ex=0,tx=null,KE=null,z0=0,rx=null;function da(){return(sn&2)!==0&&Dr!==0?Dr&-Dr:me.T!==null?lx():ne()}function zE(){if(fa===0)if((Dr&536870912)===0||Pr){var a=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),fa=a}else fa=536870912;return a=Aa.current,a!==null&&(a.flags|=32),fa}function Ys(a,A,p){(a===_n&&(un===2||un===9)||a.cancelPendingCommit!==null)&&(hu(a,0),Zl(a,Dr,fa,!1)),mt(a,p),((sn&2)===0||a!==_n)&&(a===_n&&((sn&2)===0&&(sc|=p),ei===4&&Zl(a,Dr,fa,!1)),_o(a))}function WE(a,A,p){if((sn&6)!==0)throw Error(n(327));var v=!p&&(A&127)===0&&(A&a.expiredLanes)===0||yn(a,A),I=v?y5(a,A):ix(a,A,!0),F=v;do{if(I===0){uu&&!v&&Zl(a,A,0,!1);break}else{if(p=a.current.alternate,F&&!w5(p)){I=ix(a,A,!1),F=!1;continue}if(I===2){if(F=A,a.errorRecoveryDisabledLanes&F)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){A=j;e:{var Ae=a;I=K0;var _e=Ae.current.memoizedState.isDehydrated;if(_e&&(hu(Ae,j).flags|=256),j=ix(Ae,j,!1),j!==2){if(Jm&&!_e){Ae.errorRecoveryDisabledLanes|=F,sc|=F,I=4;break e}F=Xs,Xs=I,F!==null&&(Xs===null?Xs=F:Xs.push.apply(Xs,F))}I=j}if(F=!1,I!==2)continue}}if(I===1){hu(a,0),Zl(a,A,0,!0);break}e:{switch(v=a,F=I,F){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:Zl(v,A,fa,!ql);break e;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(I=Eh+300-Qe(),10<I)){if(Zl(v,A,fa,!ql),zn(v,0,!0)!==0)break e;ll=A,v.timeoutHandle=bb(qE.bind(null,v,p,Xs,_h,$m,A,fa,sc,fu,ql,F,"Throttled",-0,0),I);break e}qE(v,p,Xs,_h,$m,A,fa,sc,fu,ql,F,null,-0,0)}}break}while(!0);_o(a)}function qE(a,A,p,v,I,F,j,Ae,_e,Ge,lt,dt,Xe,rt){if(a.timeoutHandle=-1,dt=A.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},QE(A,F,dt);var zt=(F&62914560)===F?Eh-Qe():(F&4194048)===F?GE-Qe():0;if(zt=nD(dt,zt),zt!==null){ll=F,a.cancelPendingCommit=zt(rb.bind(null,a,A,F,p,v,I,j,Ae,_e,lt,dt,null,Xe,rt)),Zl(a,F,j,!Ge);return}}rb(a,A,F,p,v,I,j,Ae,_e)}function w5(a){for(var A=a;;){var p=A.tag;if((p===0||p===11||p===15)&&A.flags&16384&&(p=A.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var I=p[v],F=I.getSnapshot;I=I.value;try{if(!y(F(),I))return!1}catch{return!1}}if(p=A.child,A.subtreeFlags&16384&&p!==null)p.return=A,A=p;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Zl(a,A,p,v){A&=~Zm,A&=~sc,a.suspendedLanes|=A,a.pingedLanes&=~A,v&&(a.warmLanes|=A),v=a.expirationTimes;for(var I=A;0<I;){var F=31-ke(I),j=1<<F;v[F]=-1,I&=~j}p!==0&&Wn(a,p,A)}function Th(){return(sn&6)===0?(W0(0),!1):!0}function nx(){if(Nr!==null){if(un===0)var a=Nr.return;else a=Nr,Jo=YA=null,wm(a),iu=null,S0=0,a=Nr;for(;a!==null;)_E(a.alternate,a),a=a.return;Nr=null}}function hu(a,A){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,P5(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),ll=0,nx(),_n=a,Nr=p=Xo(a.current,null),Dr=A,un=0,ua=null,ql=!1,uu=yn(a,A),Jm=!1,fu=fa=Zm=sc=Xl=ei=0,Xs=K0=null,$m=!1,(A&8)!==0&&(A|=A&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=A;0<v;){var I=31-ke(v),F=1<<I;A|=a[I],v&=~F}return ol=A,Wd(),p}function XE(a,A){Er=null,me.H=O0,A===nu||A===th?(A=uC(),un=3):A===om?(A=uC(),un=4):un=A===Um?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,ua=A,Nr===null&&(ei=1,gh(a,Sa(A,a.current)))}function YE(){var a=Aa.current;return a===null?!0:(Dr&4194048)===Dr?ka===null:(Dr&62914560)===Dr||(Dr&536870912)!==0?a===ka:!1}function JE(){var a=me.H;return me.H=O0,a===null?O0:a}function ZE(){var a=me.A;return me.A=m5,a}function Bh(){ei=4,ql||(Dr&4194048)!==Dr&&Aa.current!==null||(uu=!0),(Xl&134217727)===0&&(sc&134217727)===0||_n===null||Zl(_n,Dr,fa,!1)}function ix(a,A,p){var v=sn;sn|=2;var I=JE(),F=ZE();(_n!==a||Dr!==A)&&(_h=null,hu(a,A)),A=!1;var j=ei;e:do try{if(un!==0&&Nr!==null){var Ae=Nr,_e=ua;switch(un){case 8:nx(),j=6;break e;case 3:case 2:case 9:case 6:Aa.current===null&&(A=!0);var Ge=un;if(un=0,ua=null,gu(a,Ae,_e,Ge),p&&uu){j=0;break e}break;default:Ge=un,un=0,ua=null,gu(a,Ae,_e,Ge)}}v5(),j=ei;break}catch(lt){XE(a,lt)}while(!0);return A&&a.shellSuspendCounter++,Jo=YA=null,sn=v,me.H=I,me.A=F,Nr===null&&(_n=null,Dr=0,Wd()),j}function v5(){for(;Nr!==null;)$E(Nr)}function y5(a,A){var p=sn;sn|=2;var v=JE(),I=ZE();_n!==a||Dr!==A?(_h=null,bh=Qe()+500,hu(a,A)):uu=yn(a,A);e:do try{if(un!==0&&Nr!==null){A=Nr;var F=ua;t:switch(un){case 1:un=0,ua=null,gu(a,A,F,1);break;case 2:case 9:if(AC(F)){un=0,ua=null,eb(A);break}A=function(){un!==2&&un!==9||_n!==a||(un=7),_o(a)},F.then(A,A);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:AC(F)?(un=0,ua=null,eb(A)):(un=0,ua=null,gu(a,A,F,7));break;case 5:var j=null;switch(Nr.tag){case 26:j=Nr.memoizedState;case 5:case 27:var Ae=Nr;if(j?Pb(j):Ae.stateNode.complete){un=0,ua=null;var _e=Ae.sibling;if(_e!==null)Nr=_e;else{var Ge=Ae.return;Ge!==null?(Nr=Ge,Ih(Ge)):Nr=null}break t}}un=0,ua=null,gu(a,A,F,5);break;case 6:un=0,ua=null,gu(a,A,F,6);break;case 8:nx(),ei=6;break e;default:throw Error(n(462))}}C5();break}catch(lt){XE(a,lt)}while(!0);return Jo=YA=null,me.H=v,me.A=I,sn=p,Nr!==null?0:(_n=null,Dr=0,Wd(),ei)}function C5(){for(;Nr!==null&&!nn();)$E(Nr)}function $E(a){var A=EE(a.alternate,a,ol);a.memoizedProps=a.pendingProps,A===null?Ih(a):Nr=A}function eb(a){var A=a,p=A.alternate;switch(A.tag){case 15:case 0:A=mE(p,A,A.pendingProps,A.type,void 0,Dr);break;case 11:A=mE(p,A,A.pendingProps,A.type.render,A.ref,Dr);break;case 5:wm(A);default:_E(p,A),A=Nr=Zy(A,ol),A=EE(p,A,ol)}a.memoizedProps=a.pendingProps,A===null?Ih(a):Nr=A}function gu(a,A,p,v){Jo=YA=null,wm(A),iu=null,S0=0;var I=A.return;try{if(c5(a,I,A,p,Dr)){ei=1,gh(a,Sa(p,a.current)),Nr=null;return}}catch(F){if(I!==null)throw Nr=I,F;ei=1,gh(a,Sa(p,a.current)),Nr=null;return}A.flags&32768?(Pr||v===1?a=!0:uu||(Dr&536870912)!==0?a=!1:(ql=a=!0,(v===2||v===9||v===3||v===6)&&(v=Aa.current,v!==null&&v.tag===13&&(v.flags|=16384))),tb(A,a)):Ih(A)}function Ih(a){var A=a;do{if((A.flags&32768)!==0){tb(A,ql);return}a=A.return;var p=d5(A.alternate,A,ol);if(p!==null){Nr=p;return}if(A=A.sibling,A!==null){Nr=A;return}Nr=A=a}while(A!==null);ei===0&&(ei=5)}function tb(a,A){do{var p=h5(a.alternate,a);if(p!==null){p.flags&=32767,Nr=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!A&&(a=a.sibling,a!==null)){Nr=a;return}Nr=a=p}while(a!==null);ei=6,Nr=null}function rb(a,A,p,v,I,F,j,Ae,_e){a.cancelPendingCommit=null;do Sh();while(_i!==0);if((sn&6)!==0)throw Error(n(327));if(A!==null){if(A===a.current)throw Error(n(177));if(F=A.lanes|A.childLanes,F|=zp,Pt(a,p,F,j,Ae,_e),a===_n&&(Nr=_n=null,Dr=0),du=A,Jl=a,ll=p,ex=F,tx=I,KE=v,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,T5(Zt,function(){return ob(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||v){v=me.T,me.T=null,I=Ce.p,Ce.p=2,j=sn,sn|=4;try{g5(a,A,p)}finally{sn=j,Ce.p=I,me.T=v}}_i=1,nb(),ib(),sb()}}function nb(){if(_i===1){_i=0;var a=Jl,A=du,p=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||p){p=me.T,me.T=null;var v=Ce.p;Ce.p=2;var I=sn;sn|=4;try{OE(A,a);var F=px,j=ee(a.containerInfo),Ae=F.focusedElem,_e=F.selectionRange;if(j!==Ae&&Ae&&Ae.ownerDocument&&H(Ae.ownerDocument.documentElement,Ae)){if(_e!==null&&se(Ae)){var Ge=_e.start,lt=_e.end;if(lt===void 0&&(lt=Ge),"selectionStart"in Ae)Ae.selectionStart=Ge,Ae.selectionEnd=Math.min(lt,Ae.value.length);else{var dt=Ae.ownerDocument||document,Xe=dt&&dt.defaultView||window;if(Xe.getSelection){var rt=Xe.getSelection(),zt=Ae.textContent.length,sr=Math.min(_e.start,zt),wn=_e.end===void 0?sr:Math.min(_e.end,zt);!rt.extend&&sr>wn&&(j=wn,wn=sr,sr=j);var De=D(Ae,sr),Fe=D(Ae,wn);if(De&&Fe&&(rt.rangeCount!==1||rt.anchorNode!==De.node||rt.anchorOffset!==De.offset||rt.focusNode!==Fe.node||rt.focusOffset!==Fe.offset)){var je=dt.createRange();je.setStart(De.node,De.offset),rt.removeAllRanges(),sr>wn?(rt.addRange(je),rt.extend(Fe.node,Fe.offset)):(je.setEnd(Fe.node,Fe.offset),rt.addRange(je))}}}}for(dt=[],rt=Ae;rt=rt.parentNode;)rt.nodeType===1&&dt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof Ae.focus=="function"&&Ae.focus(),Ae=0;Ae<dt.length;Ae++){var ft=dt[Ae];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}Hh=!!gx,px=gx=null}finally{sn=I,Ce.p=v,me.T=p}}a.current=A,_i=2}}function ib(){if(_i===2){_i=0;var a=Jl,A=du,p=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||p){p=me.T,me.T=null;var v=Ce.p;Ce.p=2;var I=sn;sn|=4;try{RE(a,A.alternate,A)}finally{sn=I,Ce.p=v,me.T=p}}_i=3}}function sb(){if(_i===4||_i===3){_i=0,Yr();var a=Jl,A=du,p=ll,v=KE;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?_i=5:(_i=0,du=Jl=null,ab(a,a.pendingLanes));var I=a.pendingLanes;if(I===0&&(Yl=null),Es(p),A=A.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Gt,A,void 0,(A.current.flags&128)===128)}catch{}if(v!==null){A=me.T,I=Ce.p,Ce.p=2,me.T=null;try{for(var F=a.onRecoverableError,j=0;j<v.length;j++){var Ae=v[j];F(Ae.value,{componentStack:Ae.stack})}}finally{me.T=A,Ce.p=I}}(ll&3)!==0&&Sh(),_o(a),I=a.pendingLanes,(p&261930)!==0&&(I&42)!==0?a===rx?z0++:(z0=0,rx=a):z0=0,W0(0)}}function ab(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,B0(A)))}function Sh(){return nb(),ib(),sb(),ob()}function ob(){if(_i!==5)return!1;var a=Jl,A=ex;ex=0;var p=Es(ll),v=me.T,I=Ce.p;try{Ce.p=32>p?32:p,me.T=null,p=tx,tx=null;var F=Jl,j=ll;if(_i=0,du=Jl=null,ll=0,(sn&6)!==0)throw Error(n(331));var Ae=sn;if(sn|=4,VE(F.current),PE(F,F.current,j,p),sn=Ae,W0(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Gt,F)}catch{}return!0}finally{Ce.p=I,me.T=v,ab(a,A)}}function lb(a,A,p){A=Sa(p,A),A=Dm(a.stateNode,A,2),a=Gl(a,A,2),a!==null&&(mt(a,2),_o(a))}function fn(a,A,p){if(a.tag===3)lb(a,a,p);else for(;A!==null;){if(A.tag===3){lb(A,a,p);break}else if(A.tag===1){var v=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Yl===null||!Yl.has(v))){a=Sa(p,a),p=AE(2),v=Gl(A,p,2),v!==null&&(cE(p,v,A,a),mt(v,2),_o(v));break}}A=A.return}}function sx(a,A,p){var v=a.pingCache;if(v===null){v=a.pingCache=new x5;var I=new Set;v.set(A,I)}else I=v.get(A),I===void 0&&(I=new Set,v.set(A,I));I.has(p)||(Jm=!0,I.add(p),a=E5.bind(null,a,A,p),A.then(a,a))}function E5(a,A,p){var v=a.pingCache;v!==null&&v.delete(A),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,_n===a&&(Dr&p)===p&&(ei===4||ei===3&&(Dr&62914560)===Dr&&300>Qe()-Eh?(sn&2)===0&&hu(a,0):Zm|=p,fu===Dr&&(fu=0)),_o(a)}function Ab(a,A){A===0&&(A=At()),a=WA(a,A),a!==null&&(mt(a,A),_o(a))}function b5(a){var A=a.memoizedState,p=0;A!==null&&(p=A.retryLane),Ab(a,p)}function _5(a,A){var p=0;switch(a.tag){case 31:case 13:var v=a.stateNode,I=a.memoizedState;I!==null&&(p=I.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(A),Ab(a,p)}function T5(a,A){return fr(a,A)}var Nh=null,pu=null,ax=!1,Fh=!1,ox=!1,$l=0;function _o(a){a!==pu&&a.next===null&&(pu===null?Nh=pu=a:pu=pu.next=a),Fh=!0,ax||(ax=!0,I5())}function W0(a,A){if(!ox&&Fh){ox=!0;do for(var p=!1,v=Nh;v!==null;){if(a!==0){var I=v.pendingLanes;if(I===0)var F=0;else{var j=v.suspendedLanes,Ae=v.pingedLanes;F=(1<<31-ke(42|a)+1)-1,F&=I&~(j&~Ae),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(p=!0,db(v,F))}else F=Dr,F=zn(v,v===_n?F:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(F&3)===0||yn(v,F)||(p=!0,db(v,F));v=v.next}while(p);ox=!1}}function B5(){cb()}function cb(){Fh=ax=!1;var a=0;$l!==0&&L5()&&(a=$l);for(var A=Qe(),p=null,v=Nh;v!==null;){var I=v.next,F=ub(v,A);F===0?(v.next=null,p===null?Nh=I:p.next=I,I===null&&(pu=p)):(p=v,(a!==0||(F&3)!==0)&&(Fh=!0)),v=I}_i!==0&&_i!==5||W0(a),$l!==0&&($l=0)}function ub(a,A){for(var p=a.suspendedLanes,v=a.pingedLanes,I=a.expirationTimes,F=a.pendingLanes&-62914561;0<F;){var j=31-ke(F),Ae=1<<j,_e=I[j];_e===-1?((Ae&p)===0||(Ae&v)!==0)&&(I[j]=Ie(Ae,A)):_e<=A&&(a.expiredLanes|=Ae),F&=~Ae}if(A=_n,p=Dr,p=zn(a,a===A?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,p===0||a===A&&(un===2||un===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&bt(v),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||yn(a,p)){if(A=p&-p,A===a.callbackPriority)return A;switch(v!==null&&bt(v),Es(p)){case 2:case 8:p=Dt;break;case 32:p=Zt;break;case 268435456:p=Bt;break;default:p=Zt}return v=fb.bind(null,a),p=fr(p,v),a.callbackPriority=A,a.callbackNode=p,A}return v!==null&&v!==null&&bt(v),a.callbackPriority=2,a.callbackNode=null,2}function fb(a,A){if(_i!==0&&_i!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(Sh()&&a.callbackNode!==p)return null;var v=Dr;return v=zn(a,a===_n?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(WE(a,v,A),ub(a,Qe()),a.callbackNode!=null&&a.callbackNode===p?fb.bind(null,a):null)}function db(a,A){if(Sh())return null;WE(a,A,!0)}function I5(){Q5(function(){(sn&6)!==0?fr(ot,B5):cb()})}function lx(){if($l===0){var a=tu;a===0&&(a=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),$l=a}return $l}function hb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ls(""+a)}function gb(a,A){var p=A.ownerDocument.createElement("input");return p.name=A.name,p.value=A.value,a.id&&p.setAttribute("form",a.id),A.parentNode.insertBefore(p,A),a=new FormData(a),p.parentNode.removeChild(p),a}function S5(a,A,p,v,I){if(A==="submit"&&p&&p.stateNode===I){var F=hb((I[ge]||null).action),j=v.submitter;j&&(A=(A=j[ge]||null)?hb(A.formAction):j.getAttribute("formAction"),A!==null&&(F=A,j=null));var Ae=new Yn("action","action",null,v,I);a.push({event:Ae,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if($l!==0){var _e=j?gb(I,j):new FormData(I);Im(p,{pending:!0,data:_e,method:I.method,action:F},null,_e)}}else typeof F=="function"&&(Ae.preventDefault(),_e=j?gb(I,j):new FormData(I),Im(p,{pending:!0,data:_e,method:I.method,action:F},F,_e))},currentTarget:I}]})}}for(var Ax=0;Ax<b0.length;Ax++){var cx=b0[Ax],N5=cx.toLowerCase(),F5=cx[0].toUpperCase()+cx.slice(1);$a(N5,"on"+F5)}$a(Ks,"onAnimationEnd"),$a(ji,"onAnimationIteration"),$a(on,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(bi,"onTransitionRun"),$a(Ts,"onTransitionStart"),$a(Ol,"onTransitionCancel"),$a(qo,"onTransitionEnd"),Qn("onMouseEnter",["mouseout","mouseover"]),Qn("onMouseLeave",["mouseout","mouseover"]),Qn("onPointerEnter",["pointerout","pointerover"]),Qn("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var q0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(q0));function pb(a,A){A=(A&4)!==0;for(var p=0;p<a.length;p++){var v=a[p],I=v.event;v=v.listeners;e:{var F=void 0;if(A)for(var j=v.length-1;0<=j;j--){var Ae=v[j],_e=Ae.instance,Ge=Ae.currentTarget;if(Ae=Ae.listener,_e!==F&&I.isPropagationStopped())break e;F=Ae,I.currentTarget=Ge;try{F(I)}catch(lt){zd(lt)}I.currentTarget=null,F=_e}else for(j=0;j<v.length;j++){if(Ae=v[j],_e=Ae.instance,Ge=Ae.currentTarget,Ae=Ae.listener,_e!==F&&I.isPropagationStopped())break e;F=Ae,I.currentTarget=Ge;try{F(I)}catch(lt){zd(lt)}I.currentTarget=null,F=_e}}}}function Fr(a,A){var p=A[Ve];p===void 0&&(p=A[Ve]=new Set);var v=a+"__bubble";p.has(v)||(mb(A,a,2,!1),p.add(v))}function ux(a,A,p){var v=0;A&&(v|=4),mb(p,a,v,A)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function fx(a){if(!a[Rh]){a[Rh]=!0,it.forEach(function(p){p!=="selectionchange"&&(R5.has(p)||ux(p,!1,a),ux(p,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[Rh]||(A[Rh]=!0,ux("selectionchange",!1,A))}}function mb(a,A,p,v){switch(zb(A)){case 2:var I=aD;break;case 8:I=oD;break;default:I=Bx}p=I.bind(null,A,p,a),I=void 0,!QA||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(I=!0),v?I!==void 0?a.addEventListener(A,p,{capture:!0,passive:I}):a.addEventListener(A,p,!0):I!==void 0?a.addEventListener(A,p,{passive:I}):a.addEventListener(A,p,!1)}function dx(a,A,p,v,I){var F=v;if((A&1)===0&&(A&2)===0&&v!==null)e:for(;;){if(v===null)return;var j=v.tag;if(j===3||j===4){var Ae=v.stateNode.containerInfo;if(Ae===I)break;if(j===4)for(j=v.return;j!==null;){var _e=j.tag;if((_e===3||_e===4)&&j.stateNode.containerInfo===I)return;j=j.return}for(;Ae!==null;){if(j=xt(Ae),j===null)return;if(_e=j.tag,_e===5||_e===6||_e===26||_e===27){v=F=j;continue e}Ae=Ae.parentNode}}v=v.return}Kc(function(){var Ge=F,lt=Ul(p),dt=[];e:{var Xe=Kd.get(a);if(Xe!==void 0){var rt=Yn,zt=a;switch(a){case"keypress":if(aa(p)===0)break e;case"keydown":case"keyup":rt=Ko;break;case"focusin":zt="focus",rt=vo;break;case"focusout":zt="blur",rt=vo;break;case"beforeblur":case"afterblur":rt=vo;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Wc;break;case Ks:case ji:case on:rt=cr;break;case qo:rt=Gs;break;case"scroll":case"scrollend":rt=HA;break;case"wheel":rt=qc;break;case"copy":case"cut":case"paste":rt=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=qr;break;case"toggle":case"beforetoggle":rt=Ba}var sr=(A&4)!==0,wn=!sr&&(a==="scroll"||a==="scrollend"),De=sr?Xe!==null?Xe+"Capture":null:Xe;sr=[];for(var Fe=Ge,je;Fe!==null;){var ft=Fe;if(je=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||je===null||De===null||(ft=rr(Fe,De),ft!=null&&sr.push(X0(Fe,ft,je))),wn)break;Fe=Fe.return}0<sr.length&&(Xe=new rt(Xe,zt,null,p,lt),dt.push({event:Xe,listeners:sr}))}}if((A&7)===0){e:{if(Xe=a==="mouseover"||a==="pointerover",rt=a==="mouseout"||a==="pointerout",Xe&&p!==xo&&(zt=p.relatedTarget||p.fromElement)&&(xt(zt)||zt[ve]))break e;if((rt||Xe)&&(Xe=lt.window===lt?lt:(Xe=lt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,rt?(zt=p.relatedTarget||p.toElement,rt=Ge,zt=zt?xt(zt):null,zt!==null&&(wn=s(zt),sr=zt.tag,zt!==wn||sr!==5&&sr!==27&&sr!==6)&&(zt=null)):(rt=null,zt=Ge),rt!==zt)){if(sr=Wr,ft="onMouseLeave",De="onMouseEnter",Fe="mouse",(a==="pointerout"||a==="pointerover")&&(sr=qr,ft="onPointerLeave",De="onPointerEnter",Fe="pointer"),wn=rt==null?Xe:Ct(rt),je=zt==null?Xe:Ct(zt),Xe=new sr(ft,Fe+"leave",rt,p,lt),Xe.target=wn,Xe.relatedTarget=je,ft=null,xt(lt)===Ge&&(sr=new sr(De,Fe+"enter",zt,p,lt),sr.target=je,sr.relatedTarget=wn,ft=sr),wn=ft,rt&&zt)t:{for(sr=k5,De=rt,Fe=zt,je=0,ft=De;ft;ft=sr(ft))je++;ft=0;for(var nr=Fe;nr;nr=sr(nr))ft++;for(;0<je-ft;)De=sr(De),je--;for(;0<ft-je;)Fe=sr(Fe),ft--;for(;je--;){if(De===Fe||Fe!==null&&De===Fe.alternate){sr=De;break t}De=sr(De),Fe=sr(Fe)}sr=null}else sr=null;rt!==null&&xb(dt,Xe,rt,sr,!1),zt!==null&&wn!==null&&xb(dt,wn,zt,sr,!0)}}e:{if(Xe=Ge?Ct(Ge):window,rt=Xe.nodeName&&Xe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Xe.type==="file")var $r=oa;else if(Vi(Xe))if(Gd)$r=x;else{$r=u;var qt=l}else rt=Xe.nodeName,!rt||rt.toLowerCase()!=="input"||Xe.type!=="checkbox"&&Xe.type!=="radio"?Ge&&An(Ge.elementType)&&($r=oa):$r=g;if($r&&($r=$r(a,Ge))){Ri(dt,$r,p,lt);break e}qt&&qt(a,Xe,Ge),a==="focusout"&&Ge&&Xe.type==="number"&&Ge.memoizedProps.value!=null&&pe(Xe,"number",Xe.value)}switch(qt=Ge?Ct(Ge):window,a){case"focusin":(Vi(qt)||qt.contentEditable==="true")&&(Te=qt,Se=Ge,Oe=null);break;case"focusout":Oe=Se=Te=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,_t(dt,p,lt);break;case"selectionchange":if(we)break;case"keydown":case"keyup":_t(dt,p,lt)}var Tr;if(L)e:{switch(a){case"compositionstart":var Ur="onCompositionStart";break e;case"compositionend":Ur="onCompositionEnd";break e;case"compositionupdate":Ur="onCompositionUpdate";break e}Ur=void 0}else _r?Zr(a,p)&&(Ur="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Ur="onCompositionStart");Ur&&(Pe&&p.locale!=="ko"&&(_r||Ur!=="onCompositionStart"?Ur==="onCompositionEnd"&&_r&&(Tr=Hs()):(ss=lt,Qs="value"in ss?ss.value:ss.textContent,_r=!0)),qt=kh(Ge,Ur),0<qt.length&&(Ur=new VA(Ur,a,null,p,lt),dt.push({event:Ur,listeners:qt}),Tr?Ur.data=Tr:(Tr=Bn(p),Tr!==null&&(Ur.data=Tr)))),(Tr=fe?bn(a,p):Vn(a,p))&&(Ur=kh(Ge,"onBeforeInput"),0<Ur.length&&(qt=new VA("onBeforeInput","beforeinput",null,p,lt),dt.push({event:qt,listeners:Ur}),qt.data=Tr)),S5(dt,a,Ge,p,lt)}pb(dt,A)})}function X0(a,A,p){return{instance:a,listener:A,currentTarget:p}}function kh(a,A){for(var p=A+"Capture",v=[];a!==null;){var I=a,F=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||F===null||(I=rr(a,p),I!=null&&v.unshift(X0(a,I,F)),I=rr(a,A),I!=null&&v.push(X0(a,I,F))),a.tag===3)return v;a=a.return}return[]}function k5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function xb(a,A,p,v,I){for(var F=A._reactName,j=[];p!==null&&p!==v;){var Ae=p,_e=Ae.alternate,Ge=Ae.stateNode;if(Ae=Ae.tag,_e!==null&&_e===v)break;Ae!==5&&Ae!==26&&Ae!==27||Ge===null||(_e=Ge,I?(Ge=rr(p,F),Ge!=null&&j.unshift(X0(p,Ge,_e))):I||(Ge=rr(p,F),Ge!=null&&j.push(X0(p,Ge,_e)))),p=p.return}j.length!==0&&a.push({event:A,listeners:j})}var D5=/\r\n?/g,U5=/\u0000|\uFFFD/g;function wb(a){return(typeof a=="string"?a:""+a).replace(D5,`
`).replace(U5,"")}function vb(a,A){return A=wb(A),wb(a)===A}function xn(a,A,p,v,I,F){switch(p){case"children":typeof v=="string"?A==="body"||A==="textarea"&&v===""||Os(a,v):(typeof v=="number"||typeof v=="bigint")&&A!=="body"&&Os(a,""+v);break;case"className":ba(a,"class",v);break;case"tabIndex":ba(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ba(a,p,v);break;case"style":Jt(a,v,F);break;case"data":if(A!=="object"){ba(a,"data",v);break}case"src":case"href":if(v===""&&(A!=="a"||p!=="href")){a.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ls(""+v),a.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(p==="formAction"?(A!=="input"&&xn(a,A,"name",I.name,I,null),xn(a,A,"formEncType",I.formEncType,I,null),xn(a,A,"formMethod",I.formMethod,I,null),xn(a,A,"formTarget",I.formTarget,I,null)):(xn(a,A,"encType",I.encType,I,null),xn(a,A,"method",I.method,I,null),xn(a,A,"target",I.target,I,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(p);break}v=Ls(""+v),a.setAttribute(p,v);break;case"onClick":v!=null&&(a.onclick=Hn);break;case"onScroll":v!=null&&Fr("scroll",a);break;case"onScrollEnd":v!=null&&Fr("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(I.children!=null)throw Error(n(60));a.innerHTML=p}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}p=Ls(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""+v):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":v===!0?a.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(p,v):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(p,v):a.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(p):a.setAttribute(p,v);break;case"popover":Fr("beforetoggle",a),Fr("toggle",a),qn(a,"popover",v);break;case"xlinkActuate":ns(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ns(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ns(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ns(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ns(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ns(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ns(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ns(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ns(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":qn(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Gc.get(p)||p,qn(a,p,v))}}function hx(a,A,p,v,I,F){switch(p){case"style":Jt(a,v,F);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(I.children!=null)throw Error(n(60));a.innerHTML=p}}break;case"children":typeof v=="string"?Os(a,v):(typeof v=="number"||typeof v=="bigint")&&Os(a,""+v);break;case"onScroll":v!=null&&Fr("scroll",a);break;case"onScrollEnd":v!=null&&Fr("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(I=p.endsWith("Capture"),A=p.slice(2,I?p.length-7:void 0),F=a[ge]||null,F=F!=null?F[p]:null,typeof F=="function"&&a.removeEventListener(A,F,I),typeof v=="function")){typeof F!="function"&&F!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(A,v,I);break e}p in a?a[p]=v:v===!0?a.setAttribute(p,""):qn(a,p,v)}}}function Wi(a,A,p){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fr("error",a),Fr("load",a);var v=!1,I=!1,F;for(F in p)if(p.hasOwnProperty(F)){var j=p[F];if(j!=null)switch(F){case"src":v=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:xn(a,A,F,j,p,null)}}I&&xn(a,A,"srcSet",p.srcSet,p,null),v&&xn(a,A,"src",p.src,p,null);return;case"input":Fr("invalid",a);var Ae=F=j=I=null,_e=null,Ge=null;for(v in p)if(p.hasOwnProperty(v)){var lt=p[v];if(lt!=null)switch(v){case"name":I=lt;break;case"type":j=lt;break;case"checked":_e=lt;break;case"defaultChecked":Ge=lt;break;case"value":F=lt;break;case"defaultValue":Ae=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,A));break;default:xn(a,A,v,lt,p,null)}}He(a,F,Ae,_e,Ge,j,I,!1);return;case"select":Fr("invalid",a),v=j=F=null;for(I in p)if(p.hasOwnProperty(I)&&(Ae=p[I],Ae!=null))switch(I){case"value":F=Ae;break;case"defaultValue":j=Ae;break;case"multiple":v=Ae;default:xn(a,A,I,Ae,p,null)}A=F,p=j,a.multiple=!!v,A!=null?St(a,!!v,A,!1):p!=null&&St(a,!!v,p,!0);return;case"textarea":Fr("invalid",a),F=I=v=null;for(j in p)if(p.hasOwnProperty(j)&&(Ae=p[j],Ae!=null))switch(j){case"value":v=Ae;break;case"defaultValue":I=Ae;break;case"children":F=Ae;break;case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(n(91));break;default:xn(a,A,j,Ae,p,null)}ii(a,v,I,F);return;case"option":for(_e in p)if(p.hasOwnProperty(_e)&&(v=p[_e],v!=null))switch(_e){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:xn(a,A,_e,v,p,null)}return;case"dialog":Fr("beforetoggle",a),Fr("toggle",a),Fr("cancel",a),Fr("close",a);break;case"iframe":case"object":Fr("load",a);break;case"video":case"audio":for(v=0;v<q0.length;v++)Fr(q0[v],a);break;case"image":Fr("error",a),Fr("load",a);break;case"details":Fr("toggle",a);break;case"embed":case"source":case"link":Fr("error",a),Fr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in p)if(p.hasOwnProperty(Ge)&&(v=p[Ge],v!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:xn(a,A,Ge,v,p,null)}return;default:if(An(A)){for(lt in p)p.hasOwnProperty(lt)&&(v=p[lt],v!==void 0&&hx(a,A,lt,v,p,void 0));return}}for(Ae in p)p.hasOwnProperty(Ae)&&(v=p[Ae],v!=null&&xn(a,A,Ae,v,p,null))}function M5(a,A,p,v){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,F=null,j=null,Ae=null,_e=null,Ge=null,lt=null;for(rt in p){var dt=p[rt];if(p.hasOwnProperty(rt)&&dt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":_e=dt;default:v.hasOwnProperty(rt)||xn(a,A,rt,null,v,dt)}}for(var Xe in v){var rt=v[Xe];if(dt=p[Xe],v.hasOwnProperty(Xe)&&(rt!=null||dt!=null))switch(Xe){case"type":F=rt;break;case"name":I=rt;break;case"checked":Ge=rt;break;case"defaultChecked":lt=rt;break;case"value":j=rt;break;case"defaultValue":Ae=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,A));break;default:rt!==dt&&xn(a,A,Xe,rt,v,dt)}}Fn(a,j,Ae,_e,Ge,lt,F,I);return;case"select":rt=j=Ae=Xe=null;for(F in p)if(_e=p[F],p.hasOwnProperty(F)&&_e!=null)switch(F){case"value":break;case"multiple":rt=_e;default:v.hasOwnProperty(F)||xn(a,A,F,null,v,_e)}for(I in v)if(F=v[I],_e=p[I],v.hasOwnProperty(I)&&(F!=null||_e!=null))switch(I){case"value":Xe=F;break;case"defaultValue":Ae=F;break;case"multiple":j=F;default:F!==_e&&xn(a,A,I,F,v,_e)}A=Ae,p=j,v=rt,Xe!=null?St(a,!!p,Xe,!1):!!v!=!!p&&(A!=null?St(a,!!p,A,!0):St(a,!!p,p?[]:"",!1));return;case"textarea":rt=Xe=null;for(Ae in p)if(I=p[Ae],p.hasOwnProperty(Ae)&&I!=null&&!v.hasOwnProperty(Ae))switch(Ae){case"value":break;case"children":break;default:xn(a,A,Ae,null,v,I)}for(j in v)if(I=v[j],F=p[j],v.hasOwnProperty(j)&&(I!=null||F!=null))switch(j){case"value":Xe=I;break;case"defaultValue":rt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:I!==F&&xn(a,A,j,I,v,F)}Tn(a,Xe,rt);return;case"option":for(var zt in p)if(Xe=p[zt],p.hasOwnProperty(zt)&&Xe!=null&&!v.hasOwnProperty(zt))switch(zt){case"selected":a.selected=!1;break;default:xn(a,A,zt,null,v,Xe)}for(_e in v)if(Xe=v[_e],rt=p[_e],v.hasOwnProperty(_e)&&Xe!==rt&&(Xe!=null||rt!=null))switch(_e){case"selected":a.selected=Xe&&typeof Xe!="function"&&typeof Xe!="symbol";break;default:xn(a,A,_e,Xe,v,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var sr in p)Xe=p[sr],p.hasOwnProperty(sr)&&Xe!=null&&!v.hasOwnProperty(sr)&&xn(a,A,sr,null,v,Xe);for(Ge in v)if(Xe=v[Ge],rt=p[Ge],v.hasOwnProperty(Ge)&&Xe!==rt&&(Xe!=null||rt!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,A));break;default:xn(a,A,Ge,Xe,v,rt)}return;default:if(An(A)){for(var wn in p)Xe=p[wn],p.hasOwnProperty(wn)&&Xe!==void 0&&!v.hasOwnProperty(wn)&&hx(a,A,wn,void 0,v,Xe);for(lt in v)Xe=v[lt],rt=p[lt],!v.hasOwnProperty(lt)||Xe===rt||Xe===void 0&&rt===void 0||hx(a,A,lt,Xe,v,rt);return}}for(var De in p)Xe=p[De],p.hasOwnProperty(De)&&Xe!=null&&!v.hasOwnProperty(De)&&xn(a,A,De,null,v,Xe);for(dt in v)Xe=v[dt],rt=p[dt],!v.hasOwnProperty(dt)||Xe===rt||Xe==null&&rt==null||xn(a,A,dt,Xe,v,rt)}function yb(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,A=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var I=p[v],F=I.transferSize,j=I.initiatorType,Ae=I.duration;if(F&&Ae&&yb(j)){for(j=0,Ae=I.responseEnd,v+=1;v<p.length;v++){var _e=p[v],Ge=_e.startTime;if(Ge>Ae)break;var lt=_e.transferSize,dt=_e.initiatorType;lt&&yb(dt)&&(_e=_e.responseEnd,j+=lt*(_e<Ae?1:(Ae-Ge)/(_e-Ge)))}if(--v,A+=8*(F+j)/(I.duration/1e3),a++,10<a)break}}if(0<a)return A/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gx=null,px=null;function Dh(a){return a.nodeType===9?a:a.ownerDocument}function Cb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function mx(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var xx=null;function L5(){var a=window.event;return a&&a.type==="popstate"?a===xx?!1:(xx=a,!0):(xx=null,!1)}var bb=typeof setTimeout=="function"?setTimeout:void 0,P5=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,Q5=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(a){return _b.resolve(null).then(a).catch(H5)}:bb;function H5(a){setTimeout(function(){throw a})}function eA(a){return a==="head"}function Tb(a,A){var p=A,v=0;do{var I=p.nextSibling;if(a.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"||p==="/&"){if(v===0){a.removeChild(I),vu(A);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")Y0(a.ownerDocument.documentElement);else if(p==="head"){p=a.ownerDocument.head,Y0(p);for(var F=p.firstChild;F;){var j=F.nextSibling,Ae=F.nodeName;F[ze]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=j}}else p==="body"&&Y0(a.ownerDocument.body);p=I}while(p);vu(A)}function Bb(a,A){var p=a;a=0;do{var v=p.nextSibling;if(p.nodeType===1?A?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(A?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(a===0)break;a--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||a++;p=v}while(p)}function wx(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var p=A;switch(A=A.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":wx(p),ht(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function V5(a,A,p,v){for(;a.nodeType===1;){var I=p;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[ze])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(F=a.getAttribute("rel"),F==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(F!==I.rel||a.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||a.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||a.getAttribute("title")!==(I.title==null?null:I.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(F=a.getAttribute("src"),(F!==(I.src==null?null:I.src)||a.getAttribute("type")!==(I.type==null?null:I.type)||a.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&F&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var F=I.name==null?null:""+I.name;if(I.type==="hidden"&&a.getAttribute("name")===F)return a}else return a;if(a=Da(a.nextSibling),a===null)break}return null}function j5(a,A,p){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Da(a.nextSibling),a===null))return null;return a}function Ib(a,A){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!A||(a=Da(a.nextSibling),a===null))return null;return a}function vx(a){return a.data==="$?"||a.data==="$~"}function yx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function G5(a,A){var p=a.ownerDocument;if(a.data==="$~")a._reactRetry=A;else if(a.data!=="$?"||p.readyState!=="loading")A();else{var v=function(){A(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Da(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return a}var Cx=null;function Sb(a){a=a.nextSibling;for(var A=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"||p==="/&"){if(A===0)return Da(a.nextSibling);A--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||A++}a=a.nextSibling}return null}function Nb(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(A===0)return a;A--}else p!=="/$"&&p!=="/&"||A++}a=a.previousSibling}return null}function Fb(a,A,p){switch(A=Dh(p),a){case"html":if(a=A.documentElement,!a)throw Error(n(452));return a;case"head":if(a=A.head,!a)throw Error(n(453));return a;case"body":if(a=A.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Y0(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);ht(a)}var Ua=new Map,Rb=new Set;function Uh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Al=Ce.d;Ce.d={f:K5,r:z5,D:W5,C:q5,L:X5,m:Y5,X:Z5,S:J5,M:$5};function K5(){var a=Al.f(),A=Th();return a||A}function z5(a){var A=wt(a);A!==null&&A.tag===5&&A.type==="form"?XC(A):Al.r(a)}var mu=typeof document>"u"?null:document;function kb(a,A,p){var v=mu;if(v&&typeof A=="string"&&A){var I=or(A);I='link[rel="'+a+'"][href="'+I+'"]',typeof p=="string"&&(I+='[crossorigin="'+p+'"]'),Rb.has(I)||(Rb.add(I),a={rel:a,crossOrigin:p,href:A},v.querySelector(I)===null&&(A=v.createElement("link"),Wi(A,"link",a),Ht(A),v.head.appendChild(A)))}}function W5(a){Al.D(a),kb("dns-prefetch",a,null)}function q5(a,A){Al.C(a,A),kb("preconnect",a,A)}function X5(a,A,p){Al.L(a,A,p);var v=mu;if(v&&a&&A){var I='link[rel="preload"][as="'+or(A)+'"]';A==="image"&&p&&p.imageSrcSet?(I+='[imagesrcset="'+or(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(I+='[imagesizes="'+or(p.imageSizes)+'"]')):I+='[href="'+or(a)+'"]';var F=I;switch(A){case"style":F=xu(a);break;case"script":F=wu(a)}Ua.has(F)||(a=C({rel:"preload",href:A==="image"&&p&&p.imageSrcSet?void 0:a,as:A},p),Ua.set(F,a),v.querySelector(I)!==null||A==="style"&&v.querySelector(J0(F))||A==="script"&&v.querySelector(Z0(F))||(A=v.createElement("link"),Wi(A,"link",a),Ht(A),v.head.appendChild(A)))}}function Y5(a,A){Al.m(a,A);var p=mu;if(p&&a){var v=A&&typeof A.as=="string"?A.as:"script",I='link[rel="modulepreload"][as="'+or(v)+'"][href="'+or(a)+'"]',F=I;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=wu(a)}if(!Ua.has(F)&&(a=C({rel:"modulepreload",href:a},A),Ua.set(F,a),p.querySelector(I)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Z0(F)))return}v=p.createElement("link"),Wi(v,"link",a),Ht(v),p.head.appendChild(v)}}}function J5(a,A,p){Al.S(a,A,p);var v=mu;if(v&&a){var I=It(v).hoistableStyles,F=xu(a);A=A||"default";var j=I.get(F);if(!j){var Ae={loading:0,preload:null};if(j=v.querySelector(J0(F)))Ae.loading=5;else{a=C({rel:"stylesheet",href:a,"data-precedence":A},p),(p=Ua.get(F))&&Ex(a,p);var _e=j=v.createElement("link");Ht(_e),Wi(_e,"link",a),_e._p=new Promise(function(Ge,lt){_e.onload=Ge,_e.onerror=lt}),_e.addEventListener("load",function(){Ae.loading|=1}),_e.addEventListener("error",function(){Ae.loading|=2}),Ae.loading|=4,Mh(j,A,v)}j={type:"stylesheet",instance:j,count:1,state:Ae},I.set(F,j)}}}function Z5(a,A){Al.X(a,A);var p=mu;if(p&&a){var v=It(p).hoistableScripts,I=wu(a),F=v.get(I);F||(F=p.querySelector(Z0(I)),F||(a=C({src:a,async:!0},A),(A=Ua.get(I))&&bx(a,A),F=p.createElement("script"),Ht(F),Wi(F,"link",a),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(I,F))}}function $5(a,A){Al.M(a,A);var p=mu;if(p&&a){var v=It(p).hoistableScripts,I=wu(a),F=v.get(I);F||(F=p.querySelector(Z0(I)),F||(a=C({src:a,async:!0,type:"module"},A),(A=Ua.get(I))&&bx(a,A),F=p.createElement("script"),Ht(F),Wi(F,"link",a),p.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(I,F))}}function Db(a,A,p,v){var I=(I=Ee.current)?Uh(I):null;if(!I)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(A=xu(p.href),p=It(I).hoistableStyles,v=p.get(A),v||(v={type:"style",instance:null,count:0,state:null},p.set(A,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=xu(p.href);var F=It(I).hoistableStyles,j=F.get(a);if(j||(I=I.ownerDocument||I,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(a,j),(F=I.querySelector(J0(a)))&&!F._p&&(j.instance=F,j.state.loading=5),Ua.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ua.set(a,p),F||eD(I,a,p,j.state))),A&&v===null)throw Error(n(528,""));return j}if(A&&v!==null)throw Error(n(529,""));return null;case"script":return A=p.async,p=p.src,typeof p=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=wu(p),p=It(I).hoistableScripts,v=p.get(A),v||(v={type:"script",instance:null,count:0,state:null},p.set(A,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function xu(a){return'href="'+or(a)+'"'}function J0(a){return'link[rel="stylesheet"]['+a+"]"}function Ub(a){return C({},a,{"data-precedence":a.precedence,precedence:null})}function eD(a,A,p,v){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?v.loading=1:(A=a.createElement("link"),v.preload=A,A.addEventListener("load",function(){return v.loading|=1}),A.addEventListener("error",function(){return v.loading|=2}),Wi(A,"link",p),Ht(A),a.head.appendChild(A))}function wu(a){return'[src="'+or(a)+'"]'}function Z0(a){return"script[async]"+a}function Mb(a,A,p){if(A.count++,A.instance===null)switch(A.type){case"style":var v=a.querySelector('style[data-href~="'+or(p.href)+'"]');if(v)return A.instance=v,Ht(v),v;var I=C({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Ht(v),Wi(v,"style",I),Mh(v,p.precedence,a),A.instance=v;case"stylesheet":I=xu(p.href);var F=a.querySelector(J0(I));if(F)return A.state.loading|=4,A.instance=F,Ht(F),F;v=Ub(p),(I=Ua.get(I))&&Ex(v,I),F=(a.ownerDocument||a).createElement("link"),Ht(F);var j=F;return j._p=new Promise(function(Ae,_e){j.onload=Ae,j.onerror=_e}),Wi(F,"link",v),A.state.loading|=4,Mh(F,p.precedence,a),A.instance=F;case"script":return F=wu(p.src),(I=a.querySelector(Z0(F)))?(A.instance=I,Ht(I),I):(v=p,(I=Ua.get(F))&&(v=C({},p),bx(v,I)),a=a.ownerDocument||a,I=a.createElement("script"),Ht(I),Wi(I,"link",v),a.head.appendChild(I),A.instance=I);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(v=A.instance,A.state.loading|=4,Mh(v,p.precedence,a));return A.instance}function Mh(a,A,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=v.length?v[v.length-1]:null,F=I,j=0;j<v.length;j++){var Ae=v[j];if(Ae.dataset.precedence===A)F=Ae;else if(F!==I)break}F?F.parentNode.insertBefore(a,F.nextSibling):(A=p.nodeType===9?p.head:p,A.insertBefore(a,A.firstChild))}function Ex(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function bx(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Oh=null;function Ob(a,A,p){if(Oh===null){var v=new Map,I=Oh=new Map;I.set(p,v)}else I=Oh,v=I.get(p),v||(v=new Map,I.set(p,v));if(v.has(a))return v;for(v.set(a,null),p=p.getElementsByTagName(a),I=0;I<p.length;I++){var F=p[I];if(!(F[ze]||F[he]||a==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var j=F.getAttribute(A)||"";j=a+j;var Ae=v.get(j);Ae?Ae.push(F):v.set(j,[F])}}return v}function Lb(a,A,p){a=a.ownerDocument||a,a.head.insertBefore(p,A==="title"?a.querySelector("head > title"):null)}function tD(a,A,p){if(p===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function Pb(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function rD(a,A,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var I=xu(v.href),F=A.querySelector(J0(I));if(F){A=F._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(a.count++,a=Lh.bind(a),A.then(a,a)),p.state.loading|=4,p.instance=F,Ht(F);return}F=A.ownerDocument||A,v=Ub(v),(I=Ua.get(I))&&Ex(v,I),F=F.createElement("link"),Ht(F);var j=F;j._p=new Promise(function(Ae,_e){j.onload=Ae,j.onerror=_e}),Wi(F,"link",v),p.instance=F}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(p,A),(A=p.state.preload)&&(p.state.loading&3)===0&&(a.count++,p=Lh.bind(a),A.addEventListener("load",p),A.addEventListener("error",p))}}var _x=0;function nD(a,A){return a.stylesheets&&a.count===0&&Qh(a,a.stylesheets),0<a.count||0<a.imgCount?function(p){var v=setTimeout(function(){if(a.stylesheets&&Qh(a,a.stylesheets),a.unsuspend){var F=a.unsuspend;a.unsuspend=null,F()}},6e4+A);0<a.imgBytes&&_x===0&&(_x=62500*O5());var I=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Qh(a,a.stylesheets),a.unsuspend)){var F=a.unsuspend;a.unsuspend=null,F()}},(a.imgBytes>_x?50:800)+A);return a.unsuspend=p,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(I)}}:null}function Lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ph=null;function Qh(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ph=new Map,A.forEach(iD,a),Ph=null,Lh.call(a))}function iD(a,A){if(!(A.state.loading&4)){var p=Ph.get(a);if(p)var v=p.get(null);else{p=new Map,Ph.set(a,p);for(var I=a.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<I.length;F++){var j=I[F];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(p.set(j.dataset.precedence,j),v=j)}v&&p.set(null,v)}I=A.instance,j=I.getAttribute("data-precedence"),F=p.get(j)||v,F===v&&p.set(null,I),p.set(j,I),this.count++,v=Lh.bind(this),I.addEventListener("load",v),I.addEventListener("error",v),F?F.parentNode.insertBefore(I,F.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(I,a.firstChild)),A.state.loading|=4}}var $0={$$typeof:Q,Provider:null,Consumer:null,_currentValue:We,_currentValue2:We,_threadCount:0};function sD(a,A,p,v,I,F,j,Ae,_e){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=v,this.onUncaughtError=I,this.onCaughtError=F,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function Qb(a,A,p,v,I,F,j,Ae,_e,Ge,lt,dt){return a=new sD(a,A,p,j,_e,Ge,lt,dt,Ae),A=1,F===!0&&(A|=24),F=la(3,null,null,A),a.current=F,F.stateNode=a,A=im(),A.refCount++,a.pooledCache=A,A.refCount++,F.memoizedState={element:v,isDehydrated:p,cache:A},lm(F),a}function Hb(a){return a?(a=Yc,a):Yc}function Vb(a,A,p,v,I,F){I=Hb(I),v.context===null?v.context=I:v.pendingContext=I,v=jl(A),v.payload={element:p},F=F===void 0?null:F,F!==null&&(v.callback=F),p=Gl(a,v,A),p!==null&&(Ys(p,a,A),F0(p,a,A))}function jb(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<A?p:A}}function Tx(a,A){jb(a,A),(a=a.alternate)&&jb(a,A)}function Gb(a){if(a.tag===13||a.tag===31){var A=WA(a,67108864);A!==null&&Ys(A,a,67108864),Tx(a,67108864)}}function Kb(a){if(a.tag===13||a.tag===31){var A=da();A=Cn(A);var p=WA(a,A);p!==null&&Ys(p,a,A),Tx(a,A)}}var Hh=!0;function aD(a,A,p,v){var I=me.T;me.T=null;var F=Ce.p;try{Ce.p=2,Bx(a,A,p,v)}finally{Ce.p=F,me.T=I}}function oD(a,A,p,v){var I=me.T;me.T=null;var F=Ce.p;try{Ce.p=8,Bx(a,A,p,v)}finally{Ce.p=F,me.T=I}}function Bx(a,A,p,v){if(Hh){var I=Ix(v);if(I===null)dx(a,A,v,Vh,p),Wb(a,v);else if(AD(I,a,A,p,v))v.stopPropagation();else if(Wb(a,v),A&4&&-1<lD.indexOf(a)){for(;I!==null;){var F=wt(I);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var j=Vr(F.pendingLanes);if(j!==0){var Ae=F;for(Ae.pendingLanes|=2,Ae.entangledLanes|=2;j;){var _e=1<<31-ke(j);Ae.entanglements[1]|=_e,j&=~_e}_o(F),(sn&6)===0&&(bh=Qe()+500,W0(0))}}break;case 31:case 13:Ae=WA(F,2),Ae!==null&&Ys(Ae,F,2),Th(),Tx(F,2)}if(F=Ix(v),F===null&&dx(a,A,v,Vh,p),F===I)break;I=F}I!==null&&v.stopPropagation()}else dx(a,A,v,null,p)}}function Ix(a){return a=Ul(a),Sx(a)}var Vh=null;function Sx(a){if(Vh=null,a=xt(a),a!==null){var A=s(a);if(A===null)a=null;else{var p=A.tag;if(p===13){if(a=o(A),a!==null)return a;a=null}else if(p===31){if(a=c(A),a!==null)return a;a=null}else if(p===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return Vh=a,null}function zb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ot:return 2;case Dt:return 8;case Zt:case ut:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var Nx=!1,tA=null,rA=null,nA=null,ef=new Map,tf=new Map,iA=[],lD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wb(a,A){switch(a){case"focusin":case"focusout":tA=null;break;case"dragenter":case"dragleave":rA=null;break;case"mouseover":case"mouseout":nA=null;break;case"pointerover":case"pointerout":ef.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(A.pointerId)}}function rf(a,A,p,v,I,F){return a===null||a.nativeEvent!==F?(a={blockedOn:A,domEventName:p,eventSystemFlags:v,nativeEvent:F,targetContainers:[I]},A!==null&&(A=wt(A),A!==null&&Gb(A)),a):(a.eventSystemFlags|=v,A=a.targetContainers,I!==null&&A.indexOf(I)===-1&&A.push(I),a)}function AD(a,A,p,v,I){switch(A){case"focusin":return tA=rf(tA,a,A,p,v,I),!0;case"dragenter":return rA=rf(rA,a,A,p,v,I),!0;case"mouseover":return nA=rf(nA,a,A,p,v,I),!0;case"pointerover":var F=I.pointerId;return ef.set(F,rf(ef.get(F)||null,a,A,p,v,I)),!0;case"gotpointercapture":return F=I.pointerId,tf.set(F,rf(tf.get(F)||null,a,A,p,v,I)),!0}return!1}function qb(a){var A=xt(a.target);if(A!==null){var p=s(A);if(p!==null){if(A=p.tag,A===13){if(A=o(p),A!==null){a.blockedOn=A,ce(a.priority,function(){Kb(p)});return}}else if(A===31){if(A=c(p),A!==null){a.blockedOn=A,ce(a.priority,function(){Kb(p)});return}}else if(A===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jh(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var p=Ix(a.nativeEvent);if(p===null){p=a.nativeEvent;var v=new p.constructor(p.type,p);xo=v,p.target.dispatchEvent(v),xo=null}else return A=wt(p),A!==null&&Gb(A),a.blockedOn=p,!1;A.shift()}return!0}function Xb(a,A,p){jh(a)&&p.delete(A)}function cD(){Nx=!1,tA!==null&&jh(tA)&&(tA=null),rA!==null&&jh(rA)&&(rA=null),nA!==null&&jh(nA)&&(nA=null),ef.forEach(Xb),tf.forEach(Xb)}function Gh(a,A){a.blockedOn===A&&(a.blockedOn=null,Nx||(Nx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cD)))}var Kh=null;function Yb(a){Kh!==a&&(Kh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kh===a&&(Kh=null);for(var A=0;A<a.length;A+=3){var p=a[A],v=a[A+1],I=a[A+2];if(typeof v!="function"){if(Sx(v||p)===null)continue;break}var F=wt(p);F!==null&&(a.splice(A,3),A-=3,Im(F,{pending:!0,data:I,method:p.method,action:v},v,I))}}))}function vu(a){function A(_e){return Gh(_e,a)}tA!==null&&Gh(tA,a),rA!==null&&Gh(rA,a),nA!==null&&Gh(nA,a),ef.forEach(A),tf.forEach(A);for(var p=0;p<iA.length;p++){var v=iA[p];v.blockedOn===a&&(v.blockedOn=null)}for(;0<iA.length&&(p=iA[0],p.blockedOn===null);)qb(p),p.blockedOn===null&&iA.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var I=p[v],F=p[v+1],j=I[ge]||null;if(typeof F=="function")j||Yb(p);else if(j){var Ae=null;if(F&&F.hasAttribute("formAction")){if(I=F,j=F[ge]||null)Ae=j.formAction;else if(Sx(I)!==null)continue}else Ae=j.action;typeof Ae=="function"?p[v+1]=Ae:(p.splice(v,3),v-=3),Yb(p)}}}function Jb(){function a(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(j){return I=j})},focusReset:"manual",scroll:"manual"})}function A(){I!==null&&(I(),I=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,I=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),I!==null&&(I(),I=null)}}}function Fx(a){this._internalRoot=a}zh.prototype.render=Fx.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(n(409));var p=A.current,v=da();Vb(p,v,a,A,null,null)},zh.prototype.unmount=Fx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;Vb(a.current,2,null,a,null,null),Th(),A[ve]=null}};function zh(a){this._internalRoot=a}zh.prototype.unstable_scheduleHydration=function(a){if(a){var A=ne();a={blockedOn:null,target:a,priority:A};for(var p=0;p<iA.length&&A!==0&&A<iA[p].priority;p++);iA.splice(p,0,a),p===0&&qb(a)}};var Zb=e.version;if(Zb!=="19.2.4")throw Error(n(527,Zb,"19.2.4"));Ce.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(A),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var uD={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:me,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{Gt=Wh.inject(uD),Be=Wh}catch{}}return sf.createRoot=function(a,A){if(!i(a))throw Error(n(299));var p=!1,v="",I=sE,F=aE,j=oE;return A!=null&&(A.unstable_strictMode===!0&&(p=!0),A.identifierPrefix!==void 0&&(v=A.identifierPrefix),A.onUncaughtError!==void 0&&(I=A.onUncaughtError),A.onCaughtError!==void 0&&(F=A.onCaughtError),A.onRecoverableError!==void 0&&(j=A.onRecoverableError)),A=Qb(a,1,!1,null,null,p,v,null,I,F,j,Jb),a[ve]=A.current,fx(a),new Fx(A)},sf.hydrateRoot=function(a,A,p){if(!i(a))throw Error(n(299));var v=!1,I="",F=sE,j=aE,Ae=oE,_e=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(I=p.identifierPrefix),p.onUncaughtError!==void 0&&(F=p.onUncaughtError),p.onCaughtError!==void 0&&(j=p.onCaughtError),p.onRecoverableError!==void 0&&(Ae=p.onRecoverableError),p.formState!==void 0&&(_e=p.formState)),A=Qb(a,1,!0,A,p??null,v,I,_e,F,j,Ae,Jb),A.context=Hb(null),p=A.current,v=da(),v=Cn(v),I=jl(v),I.callback=null,Gl(p,I,v),p=v,A.current.lanes=p,mt(A,p),_o(A),a[ve]=A.current,fx(a),new zh(A)},sf.version="19.2.4",sf}var l_;function CD(){if(l_)return Dx.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dx.exports=yD(),Dx.exports}var ED=CD();const bD=BS(ED);var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},_D=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],c=t[r++],d=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=s>>2,C=(s&3)<<4|c>>4;let b=(c&15)<<2|h>>6,S=h&63;d||(S=64,o||(b=64)),n.push(r[m],r[C],r[b],r[S])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_D(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const C=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||C==null)throw new TD;const b=s<<2|c>>4;if(n.push(b),h!==64){const S=c<<4&240|h>>2;if(n.push(S),C!==64){const R=h<<6&192|C;n.push(R)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BD=function(t){const e=IS(t);return SS.encodeByteArray(e,!0)},a1=function(t){return BD(t).replace(/\./g,"")},NS=function(t){try{return SS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=()=>ID().__FIREBASE_DEFAULTS__,ND=()=>{if(typeof process>"u"||typeof A_>"u")return;const t=A_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return SD()||ND()||FD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FS=t=>{var e,r;return(r=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},RD=t=>{const e=FS(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},RS=()=>{var t;return(t=tp())===null||t===void 0?void 0:t.config},kS=t=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a1(JSON.stringify(r)),a1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vs())}function MD(){var t;const e=(t=tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PD(){const t=vs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QD(){return!MD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function HD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="FirebaseError";class go extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=VD,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jD(s,n):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new go(i,c,n)}}function jD(t,e){return t.replace(GD,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const GD=/\{\$([^}]+)}/g;function KD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $f(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(c_(s)&&c_(o)){if(!$f(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function c_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function zD(t,e){const r=new WD(t,e);return r.subscribe.bind(r)}class WD{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");qD(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Lx),i.error===void 0&&(i.error=Lx),i.complete===void 0&&(i.complete=Lx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qD(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Lx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1e3,YD=2,JD=14400*1e3,ZD=.5;function u_(t,e=XD,r=YD){const n=e*Math.pow(r,t),i=Math.round(ZD*n*(Math.random()-.5)*2);return Math.min(JD,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new kD;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t6(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e6(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e6(t){return t===oc?void 0:t}function t6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $D(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qr||(Qr={}));const n6={debug:Qr.DEBUG,verbose:Qr.VERBOSE,info:Qr.INFO,warn:Qr.WARN,error:Qr.ERROR,silent:Qr.SILENT},i6=Qr.INFO,s6={[Qr.DEBUG]:"log",[Qr.VERBOSE]:"log",[Qr.INFO]:"info",[Qr.WARN]:"warn",[Qr.ERROR]:"error"},a6=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=s6[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let rp=class{constructor(e){this.name=e,this._logLevel=i6,this._logHandler=a6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qr.DEBUG,...e),this._logHandler(this,Qr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qr.VERBOSE,...e),this._logHandler(this,Qr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qr.INFO,...e),this._logHandler(this,Qr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qr.WARN,...e),this._logHandler(this,Qr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qr.ERROR,...e),this._logHandler(this,Qr.ERROR,...e)}};const o6=(t,e)=>e.some(r=>t instanceof r);let f_,d_;function l6(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A6(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,O2=new WeakMap,LS=new WeakMap,Px=new WeakMap,av=new WeakMap;function c6(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(CA(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&OS.set(r,t)}).catch(()=>{}),av.set(e,t),e}function u6(t){if(O2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});O2.set(t,e)}let L2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return O2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return CA(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f6(t){L2=t(L2)}function d6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Qx(this),e,...r);return LS.set(n,e.sort?e.sort():[e]),CA(n)}:A6().includes(t)?function(...e){return t.apply(Qx(this),e),CA(OS.get(this))}:function(...e){return CA(t.apply(Qx(this),e))}}function h6(t){return typeof t=="function"?d6(t):(t instanceof IDBTransaction&&u6(t),o6(t,l6())?new Proxy(t,L2):t)}function CA(t){if(t instanceof IDBRequest)return c6(t);if(Px.has(t))return Px.get(t);const e=h6(t);return e!==t&&(Px.set(t,e),av.set(e,t)),e}const Qx=t=>av.get(t);function PS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=CA(o);return n&&o.addEventListener("upgradeneeded",d=>{n(CA(o.result),d.oldVersion,d.newVersion,CA(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const g6=["get","getKey","getAll","getAllKeys","count"],p6=["put","add","delete","clear"],Hx=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hx.get(e))return Hx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=p6.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||g6.includes(r)))return;const s=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&d.done]))[0]};return Hx.set(e,s),s}f6(t=>({...t,get:(e,r,n)=>h_(e,r)||t.get(e,r,n),has:(e,r)=>!!h_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(x6(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function x6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const P2="@firebase/app",g_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new rp("@firebase/app"),w6="@firebase/app-compat",v6="@firebase/analytics-compat",y6="@firebase/analytics",C6="@firebase/app-check-compat",E6="@firebase/app-check",b6="@firebase/auth",_6="@firebase/auth-compat",T6="@firebase/database",B6="@firebase/data-connect",I6="@firebase/database-compat",S6="@firebase/functions",N6="@firebase/functions-compat",F6="@firebase/installations",R6="@firebase/installations-compat",k6="@firebase/messaging",D6="@firebase/messaging-compat",U6="@firebase/performance",M6="@firebase/performance-compat",O6="@firebase/remote-config",L6="@firebase/remote-config-compat",P6="@firebase/storage",Q6="@firebase/storage-compat",H6="@firebase/firestore",V6="@firebase/vertexai-preview",j6="@firebase/firestore-compat",G6="firebase",K6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="[DEFAULT]",z6={[P2]:"fire-core",[w6]:"fire-core-compat",[y6]:"fire-analytics",[v6]:"fire-analytics-compat",[E6]:"fire-app-check",[C6]:"fire-app-check-compat",[b6]:"fire-auth",[_6]:"fire-auth-compat",[T6]:"fire-rtdb",[B6]:"fire-data-connect",[I6]:"fire-rtdb-compat",[S6]:"fire-fn",[N6]:"fire-fn-compat",[F6]:"fire-iid",[R6]:"fire-iid-compat",[k6]:"fire-fcm",[D6]:"fire-fcm-compat",[U6]:"fire-perf",[M6]:"fire-perf-compat",[O6]:"fire-rc",[L6]:"fire-rc-compat",[P6]:"fire-gcs",[Q6]:"fire-gcs-compat",[H6]:"fire-fst",[j6]:"fire-fst-compat",[V6]:"fire-vertex","fire-js":"fire-js",[G6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map,W6=new Map,H2=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(r){Cl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Do(t){const e=t.name;if(H2.has(e))return Cl.debug(`There were multiple attempts to register component ${e}.`),!1;H2.set(e,t);for(const r of o1.values())p_(r,t);for(const r of W6.values())p_(r,t);return!0}function Rc(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function So(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},EA=new Fc("app","Firebase",q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw EA.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=K6;function QS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Q2,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw EA.create("bad-app-name",{appName:String(i)});if(r||(r=RS()),!r)throw EA.create("no-options");const s=o1.get(i);if(s){if($f(r,s.options)&&$f(n,s.config))return s;throw EA.create("duplicate-app",{appName:i})}const o=new r6(i);for(const d of H2.values())o.addComponent(d);const c=new X6(r,n,o);return o1.set(i,c),c}function ov(t=Q2){const e=o1.get(t);if(!e&&t===Q2&&RS())return QS();if(!e)throw EA.create("no-app",{appName:t});return e}function Ga(t,e,r){var n;let i=(n=z6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cl.warn(c.join(" "));return}Do(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="firebase-heartbeat-database",J6=1,ed="firebase-heartbeat-store";let Vx=null;function HS(){return Vx||(Vx=PS(Y6,J6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ed)}catch(r){console.warn(r)}}}}).catch(t=>{throw EA.create("idb-open",{originalErrorMessage:t.message})})),Vx}async function Z6(t){try{const r=(await HS()).transaction(ed),n=await r.objectStore(ed).get(VS(t));return await r.done,n}catch(e){if(e instanceof go)Cl.warn(e.message);else{const r=EA.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cl.warn(r.message)}}}async function m_(t,e){try{const n=(await HS()).transaction(ed,"readwrite");await n.objectStore(ed).put(e,VS(t)),await n.done}catch(r){if(r instanceof go)Cl.warn(r.message);else{const n=EA.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Cl.warn(n.message)}}}function VS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=1024,eU=720*60*60*1e3;class tU{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new nU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=eU}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Cl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=x_(),{heartbeatsToSend:n,unsentEntries:i}=rU(this._heartbeatsCache.heartbeats),s=a1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Cl.warn(r),""}}}function x_(){return new Date().toISOString().substring(0,10)}function rU(t,e=$6){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),w_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class nU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Z6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w_(t){return a1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){Do(new uo("platform-logger",e=>new m6(e),"PRIVATE")),Do(new uo("heartbeat",e=>new tU(e),"PRIVATE")),Ga(P2,g_,t),Ga(P2,g_,"esm2017"),Ga("fire-js","")}iU("");var sU="firebase",aU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga(sU,aU,"app");var v_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gc,jS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function O(){}O.prototype=P.prototype,M.D=P.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(re,te,q){for(var X=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)X[Re-2]=arguments[Re];return P.prototype[te].apply(re,X)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,P,O){O||(O=0);var re=Array(16);if(typeof P=="string")for(var te=0;16>te;++te)re[te]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(te=0;16>te;++te)re[te]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=M.g[0],O=M.g[1],te=M.g[2];var q=M.g[3],X=P+(q^O&(te^q))+re[0]+3614090360&4294967295;P=O+(X<<7&4294967295|X>>>25),X=q+(te^P&(O^te))+re[1]+3905402710&4294967295,q=P+(X<<12&4294967295|X>>>20),X=te+(O^q&(P^O))+re[2]+606105819&4294967295,te=q+(X<<17&4294967295|X>>>15),X=O+(P^te&(q^P))+re[3]+3250441966&4294967295,O=te+(X<<22&4294967295|X>>>10),X=P+(q^O&(te^q))+re[4]+4118548399&4294967295,P=O+(X<<7&4294967295|X>>>25),X=q+(te^P&(O^te))+re[5]+1200080426&4294967295,q=P+(X<<12&4294967295|X>>>20),X=te+(O^q&(P^O))+re[6]+2821735955&4294967295,te=q+(X<<17&4294967295|X>>>15),X=O+(P^te&(q^P))+re[7]+4249261313&4294967295,O=te+(X<<22&4294967295|X>>>10),X=P+(q^O&(te^q))+re[8]+1770035416&4294967295,P=O+(X<<7&4294967295|X>>>25),X=q+(te^P&(O^te))+re[9]+2336552879&4294967295,q=P+(X<<12&4294967295|X>>>20),X=te+(O^q&(P^O))+re[10]+4294925233&4294967295,te=q+(X<<17&4294967295|X>>>15),X=O+(P^te&(q^P))+re[11]+2304563134&4294967295,O=te+(X<<22&4294967295|X>>>10),X=P+(q^O&(te^q))+re[12]+1804603682&4294967295,P=O+(X<<7&4294967295|X>>>25),X=q+(te^P&(O^te))+re[13]+4254626195&4294967295,q=P+(X<<12&4294967295|X>>>20),X=te+(O^q&(P^O))+re[14]+2792965006&4294967295,te=q+(X<<17&4294967295|X>>>15),X=O+(P^te&(q^P))+re[15]+1236535329&4294967295,O=te+(X<<22&4294967295|X>>>10),X=P+(te^q&(O^te))+re[1]+4129170786&4294967295,P=O+(X<<5&4294967295|X>>>27),X=q+(O^te&(P^O))+re[6]+3225465664&4294967295,q=P+(X<<9&4294967295|X>>>23),X=te+(P^O&(q^P))+re[11]+643717713&4294967295,te=q+(X<<14&4294967295|X>>>18),X=O+(q^P&(te^q))+re[0]+3921069994&4294967295,O=te+(X<<20&4294967295|X>>>12),X=P+(te^q&(O^te))+re[5]+3593408605&4294967295,P=O+(X<<5&4294967295|X>>>27),X=q+(O^te&(P^O))+re[10]+38016083&4294967295,q=P+(X<<9&4294967295|X>>>23),X=te+(P^O&(q^P))+re[15]+3634488961&4294967295,te=q+(X<<14&4294967295|X>>>18),X=O+(q^P&(te^q))+re[4]+3889429448&4294967295,O=te+(X<<20&4294967295|X>>>12),X=P+(te^q&(O^te))+re[9]+568446438&4294967295,P=O+(X<<5&4294967295|X>>>27),X=q+(O^te&(P^O))+re[14]+3275163606&4294967295,q=P+(X<<9&4294967295|X>>>23),X=te+(P^O&(q^P))+re[3]+4107603335&4294967295,te=q+(X<<14&4294967295|X>>>18),X=O+(q^P&(te^q))+re[8]+1163531501&4294967295,O=te+(X<<20&4294967295|X>>>12),X=P+(te^q&(O^te))+re[13]+2850285829&4294967295,P=O+(X<<5&4294967295|X>>>27),X=q+(O^te&(P^O))+re[2]+4243563512&4294967295,q=P+(X<<9&4294967295|X>>>23),X=te+(P^O&(q^P))+re[7]+1735328473&4294967295,te=q+(X<<14&4294967295|X>>>18),X=O+(q^P&(te^q))+re[12]+2368359562&4294967295,O=te+(X<<20&4294967295|X>>>12),X=P+(O^te^q)+re[5]+4294588738&4294967295,P=O+(X<<4&4294967295|X>>>28),X=q+(P^O^te)+re[8]+2272392833&4294967295,q=P+(X<<11&4294967295|X>>>21),X=te+(q^P^O)+re[11]+1839030562&4294967295,te=q+(X<<16&4294967295|X>>>16),X=O+(te^q^P)+re[14]+4259657740&4294967295,O=te+(X<<23&4294967295|X>>>9),X=P+(O^te^q)+re[1]+2763975236&4294967295,P=O+(X<<4&4294967295|X>>>28),X=q+(P^O^te)+re[4]+1272893353&4294967295,q=P+(X<<11&4294967295|X>>>21),X=te+(q^P^O)+re[7]+4139469664&4294967295,te=q+(X<<16&4294967295|X>>>16),X=O+(te^q^P)+re[10]+3200236656&4294967295,O=te+(X<<23&4294967295|X>>>9),X=P+(O^te^q)+re[13]+681279174&4294967295,P=O+(X<<4&4294967295|X>>>28),X=q+(P^O^te)+re[0]+3936430074&4294967295,q=P+(X<<11&4294967295|X>>>21),X=te+(q^P^O)+re[3]+3572445317&4294967295,te=q+(X<<16&4294967295|X>>>16),X=O+(te^q^P)+re[6]+76029189&4294967295,O=te+(X<<23&4294967295|X>>>9),X=P+(O^te^q)+re[9]+3654602809&4294967295,P=O+(X<<4&4294967295|X>>>28),X=q+(P^O^te)+re[12]+3873151461&4294967295,q=P+(X<<11&4294967295|X>>>21),X=te+(q^P^O)+re[15]+530742520&4294967295,te=q+(X<<16&4294967295|X>>>16),X=O+(te^q^P)+re[2]+3299628645&4294967295,O=te+(X<<23&4294967295|X>>>9),X=P+(te^(O|~q))+re[0]+4096336452&4294967295,P=O+(X<<6&4294967295|X>>>26),X=q+(O^(P|~te))+re[7]+1126891415&4294967295,q=P+(X<<10&4294967295|X>>>22),X=te+(P^(q|~O))+re[14]+2878612391&4294967295,te=q+(X<<15&4294967295|X>>>17),X=O+(q^(te|~P))+re[5]+4237533241&4294967295,O=te+(X<<21&4294967295|X>>>11),X=P+(te^(O|~q))+re[12]+1700485571&4294967295,P=O+(X<<6&4294967295|X>>>26),X=q+(O^(P|~te))+re[3]+2399980690&4294967295,q=P+(X<<10&4294967295|X>>>22),X=te+(P^(q|~O))+re[10]+4293915773&4294967295,te=q+(X<<15&4294967295|X>>>17),X=O+(q^(te|~P))+re[1]+2240044497&4294967295,O=te+(X<<21&4294967295|X>>>11),X=P+(te^(O|~q))+re[8]+1873313359&4294967295,P=O+(X<<6&4294967295|X>>>26),X=q+(O^(P|~te))+re[15]+4264355552&4294967295,q=P+(X<<10&4294967295|X>>>22),X=te+(P^(q|~O))+re[6]+2734768916&4294967295,te=q+(X<<15&4294967295|X>>>17),X=O+(q^(te|~P))+re[13]+1309151649&4294967295,O=te+(X<<21&4294967295|X>>>11),X=P+(te^(O|~q))+re[4]+4149444226&4294967295,P=O+(X<<6&4294967295|X>>>26),X=q+(O^(P|~te))+re[11]+3174756917&4294967295,q=P+(X<<10&4294967295|X>>>22),X=te+(P^(q|~O))+re[2]+718787259&4294967295,te=q+(X<<15&4294967295|X>>>17),X=O+(q^(te|~P))+re[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(te+(X<<21&4294967295|X>>>11))&4294967295,M.g[2]=M.g[2]+te&4294967295,M.g[3]=M.g[3]+q&4294967295}n.prototype.u=function(M,P){P===void 0&&(P=M.length);for(var O=P-this.blockSize,re=this.B,te=this.h,q=0;q<P;){if(te==0)for(;q<=O;)i(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<P;)if(re[te++]=M.charCodeAt(q++),te==this.blockSize){i(this,re),te=0;break}}else for(;q<P;)if(re[te++]=M[q++],te==this.blockSize){i(this,re),te=0;break}}this.h=te,this.o+=P},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;var O=8*this.o;for(P=M.length-8;P<M.length;++P)M[P]=O&255,O/=256;for(this.u(M),M=Array(16),P=O=0;4>P;++P)for(var re=0;32>re;re+=8)M[O++]=this.g[P]>>>re&255;return M};function s(M,P){var O=c;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=P(M)}function o(M,P){this.h=P;for(var O=[],re=!0,te=M.length-1;0<=te;te--){var q=M[te]|0;re&&q==P||(O[te]=q,re=!1)}this.g=O}var c={};function d(M){return-128<=M&&128>M?s(M,function(P){return new o([P|0],0>P?-1:0)}):new o([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return U(h(-M));for(var P=[],O=1,re=0;M>=O;re++)P[re]=M/O|0,O*=4294967296;return new o(P,0)}function m(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return U(m(M.substring(1),P));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(P,8)),re=C,te=0;te<M.length;te+=8){var q=Math.min(8,M.length-te),X=parseInt(M.substring(te,te+q),P);8>q?(q=h(Math.pow(P,q)),re=re.j(q).add(h(X))):(re=re.j(O),re=re.add(h(X)))}return re}var C=d(0),b=d(1),S=d(16777216);t=o.prototype,t.m=function(){if(k(this))return-U(this).m();for(var M=0,P=1,O=0;O<this.g.length;O++){var re=this.i(O);M+=(0<=re?re:4294967296+re)*P,P*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(k(this))return"-"+U(this).toString(M);for(var P=h(Math.pow(M,6)),O=this,re="";;){var te=J(O,P).g;O=V(O,te.j(P));var q=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=te,R(O))return q+re;for(;6>q.length;)q="0"+q;re=q+re}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function k(M){return M.h==-1}t.l=function(M){return M=V(this,M),k(M)?-1:R(M)?0:1};function U(M){for(var P=M.g.length,O=[],re=0;re<P;re++)O[re]=~M.g[re];return new o(O,~M.h).add(b)}t.abs=function(){return k(this)?U(this):this},t.add=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],re=0,te=0;te<=P;te++){var q=re+(this.i(te)&65535)+(M.i(te)&65535),X=(q>>>16)+(this.i(te)>>>16)+(M.i(te)>>>16);re=X>>>16,q&=65535,X&=65535,O[te]=X<<16|q}return new o(O,O[O.length-1]&-2147483648?-1:0)};function V(M,P){return M.add(U(P))}t.j=function(M){if(R(this)||R(M))return C;if(k(this))return k(M)?U(this).j(U(M)):U(U(this).j(M));if(k(M))return U(this.j(U(M)));if(0>this.l(S)&&0>M.l(S))return h(this.m()*M.m());for(var P=this.g.length+M.g.length,O=[],re=0;re<2*P;re++)O[re]=0;for(re=0;re<this.g.length;re++)for(var te=0;te<M.g.length;te++){var q=this.i(re)>>>16,X=this.i(re)&65535,Re=M.i(te)>>>16,xe=M.i(te)&65535;O[2*re+2*te]+=X*xe,G(O,2*re+2*te),O[2*re+2*te+1]+=q*xe,G(O,2*re+2*te+1),O[2*re+2*te+1]+=X*Re,G(O,2*re+2*te+1),O[2*re+2*te+2]+=q*Re,G(O,2*re+2*te+2)}for(re=0;re<P;re++)O[re]=O[2*re+1]<<16|O[2*re];for(re=P;re<2*P;re++)O[re]=0;return new o(O,0)};function G(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function Q(M,P){this.g=M,this.h=P}function J(M,P){if(R(P))throw Error("division by zero");if(R(M))return new Q(C,C);if(k(M))return P=J(U(M),P),new Q(U(P.g),U(P.h));if(k(P))return P=J(M,U(P)),new Q(U(P.g),P.h);if(30<M.g.length){if(k(M)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var O=b,re=P;0>=re.l(M);)O=Z(O),re=Z(re);var te=K(O,1),q=K(re,1);for(re=K(re,2),O=K(O,2);!R(re);){var X=q.add(re);0>=X.l(M)&&(te=te.add(O),q=X),re=K(re,1),O=K(O,1)}return P=V(M,te.j(P)),new Q(te,P)}for(te=C;0<=M.l(P);){for(O=Math.max(1,Math.floor(M.m()/P.m())),re=Math.ceil(Math.log(O)/Math.LN2),re=48>=re?1:Math.pow(2,re-48),q=h(O),X=q.j(P);k(X)||0<X.l(M);)O-=re,q=h(O),X=q.j(P);R(q)&&(q=b),te=te.add(q),M=V(M,X)}return new Q(te,M)}t.A=function(M){return J(this,M).h},t.and=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],re=0;re<P;re++)O[re]=this.i(re)&M.i(re);return new o(O,this.h&M.h)},t.or=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],re=0;re<P;re++)O[re]=this.i(re)|M.i(re);return new o(O,this.h|M.h)},t.xor=function(M){for(var P=Math.max(this.g.length,M.g.length),O=[],re=0;re<P;re++)O[re]=this.i(re)^M.i(re);return new o(O,this.h^M.h)};function Z(M){for(var P=M.g.length+1,O=[],re=0;re<P;re++)O[re]=M.i(re)<<1|M.i(re-1)>>>31;return new o(O,M.h)}function K(M,P){var O=P>>5;P%=32;for(var re=M.g.length-O,te=[],q=0;q<re;q++)te[q]=0<P?M.i(q+O)>>>P|M.i(q+O+1)<<32-P:M.i(q+O);return new o(te,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,jS=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,gc=o}).apply(typeof v_<"u"?v_:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GS,pf,KS,Kg,V2,zS,WS,qS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(B,L,z){return B==Array.prototype||B==Object.prototype||(B[L]=z.value),B};function r(B){B=[typeof globalThis=="object"&&globalThis,B,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var L=0;L<B.length;++L){var z=B[L];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function i(B,L){if(L)e:{var z=n;B=B.split(".");for(var fe=0;fe<B.length-1;fe++){var Pe=B[fe];if(!(Pe in z))break e;z=z[Pe]}B=B[B.length-1],fe=z[B],L=L(fe),L!=fe&&L!=null&&e(z,B,{configurable:!0,writable:!0,value:L})}}function s(B,L){B instanceof String&&(B+="");var z=0,fe=!1,Pe={next:function(){if(!fe&&z<B.length){var et=z++;return{value:L(et,B[et]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}i("Array.prototype.values",function(B){return B||function(){return s(this,function(L,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(B){var L=typeof B;return L=L!="object"?L:B?Array.isArray(B)?"array":L:"null",L=="array"||L=="object"&&typeof B.length=="number"}function h(B){var L=typeof B;return L=="object"&&B!=null||L=="function"}function m(B,L,z){return B.call.apply(B.bind,arguments)}function C(B,L,z){if(!B)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,fe),B.apply(L,Pe)}}return function(){return B.apply(L,arguments)}}function b(B,L,z){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:C,b.apply(null,arguments)}function S(B,L){var z=Array.prototype.slice.call(arguments,1);return function(){var fe=z.slice();return fe.push.apply(fe,arguments),B.apply(this,fe)}}function R(B,L){function z(){}z.prototype=L.prototype,B.aa=L.prototype,B.prototype=new z,B.prototype.constructor=B,B.Qb=function(fe,Pe,et){for(var Ft=Array(arguments.length-2),Zr=2;Zr<arguments.length;Zr++)Ft[Zr-2]=arguments[Zr];return L.prototype[Pe].apply(fe,Ft)}}function k(B){const L=B.length;if(0<L){const z=Array(L);for(let fe=0;fe<L;fe++)z[fe]=B[fe];return z}return[]}function U(B,L){for(let z=1;z<arguments.length;z++){const fe=arguments[z];if(d(fe)){const Pe=B.length||0,et=fe.length||0;B.length=Pe+et;for(let Ft=0;Ft<et;Ft++)B[Pe+Ft]=fe[Ft]}else B.push(fe)}}class V{constructor(L,z){this.i=L,this.j=z,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function G(B){return/^[\s\xa0]*$/.test(B)}function Q(){var B=c.navigator;return B&&(B=B.userAgent)?B:""}function J(B){return J[" "](B),B}J[" "]=function(){};var Z=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function K(B,L,z){for(const fe in B)L.call(z,B[fe],fe,B)}function M(B,L){for(const z in B)L.call(void 0,B[z],z,B)}function P(B){const L={};for(const z in B)L[z]=B[z];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(B,L){let z,fe;for(let Pe=1;Pe<arguments.length;Pe++){fe=arguments[Pe];for(z in fe)B[z]=fe[z];for(let et=0;et<O.length;et++)z=O[et],Object.prototype.hasOwnProperty.call(fe,z)&&(B[z]=fe[z])}}function te(B){var L=1;B=B.split(":");const z=[];for(;0<L&&B.length;)z.push(B.shift()),L--;return B.length&&z.push(B.join(":")),z}function q(B){c.setTimeout(()=>{throw B},0)}function X(){var B=be;let L=null;return B.g&&(L=B.g,B.g=B.g.next,B.g||(B.h=null),L.next=null),L}class Re{constructor(){this.h=this.g=null}add(L,z){const fe=xe.get();fe.set(L,z),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var xe=new V(()=>new me,B=>B.reset());class me{constructor(){this.next=this.g=this.h=null}set(L,z){this.h=L,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,We=!1,be=new Re,Ye=()=>{const B=c.Promise.resolve(void 0);Ce=()=>{B.then(ie)}};var ie=()=>{for(var B;B=X();){try{B.h.call(B.g)}catch(z){q(z)}var L=xe;L.j(B),100>L.h&&(L.h++,B.next=L.g,L.g=B)}We=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(B,L){this.type=B,this.g=this.target=L,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var B=!1,L=Object.defineProperty({},"passive",{get:function(){B=!0}});try{const z=()=>{};c.addEventListener("test",z,L),c.removeEventListener("test",z,L)}catch{}return B})();function ue(B,L){if(oe.call(this,B?B.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,B){var z=this.type=B.type,fe=B.changedTouches&&B.changedTouches.length?B.changedTouches[0]:null;if(this.target=B.target||B.srcElement,this.g=L,L=B.relatedTarget){if(Z){e:{try{J(L.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(L=null)}}else z=="mouseover"?L=B.fromElement:z=="mouseout"&&(L=B.toElement);this.relatedTarget=L,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0),this.button=B.button,this.key=B.key||"",this.ctrlKey=B.ctrlKey,this.altKey=B.altKey,this.shiftKey=B.shiftKey,this.metaKey=B.metaKey,this.pointerId=B.pointerId||0,this.pointerType=typeof B.pointerType=="string"?B.pointerType:Ee[B.pointerType]||"",this.state=B.state,this.i=B,B.defaultPrevented&&ue.aa.h.call(this)}}R(ue,oe);var Ee={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var B=this.i;B.preventDefault?B.preventDefault():B.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Me(B,L,z,fe,Pe){this.listener=B,this.proxy=null,this.src=L,this.type=z,this.capture=!!fe,this.ha=Pe,this.key=++Ne,this.da=this.fa=!1}function Ze(B){B.da=!0,B.listener=null,B.proxy=null,B.src=null,B.ha=null}function Tt(B){this.src=B,this.g={},this.h=0}Tt.prototype.add=function(B,L,z,fe,Pe){var et=B.toString();B=this.g[et],B||(B=this.g[et]=[],this.h++);var Ft=tt(B,L,fe,Pe);return-1<Ft?(L=B[Ft],z||(L.fa=!1)):(L=new Me(L,this.src,et,!!fe,Pe),L.fa=z,B.push(L)),L};function le(B,L){var z=L.type;if(z in B.g){var fe=B.g[z],Pe=Array.prototype.indexOf.call(fe,L,void 0),et;(et=0<=Pe)&&Array.prototype.splice.call(fe,Pe,1),et&&(Ze(L),B.g[z].length==0&&(delete B.g[z],B.h--))}}function tt(B,L,z,fe){for(var Pe=0;Pe<B.length;++Pe){var et=B[Pe];if(!et.da&&et.listener==L&&et.capture==!!z&&et.ha==fe)return Pe}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),kt={};function ct(B,L,z,fe,Pe){if(Array.isArray(L)){for(var et=0;et<L.length;et++)ct(B,L[et],z,fe,Pe);return null}return z=Ue(z),B&&B[qe]?B.K(L,z,h(fe)?!!fe.capture:!1,Pe):at(B,L,z,!1,fe,Pe)}function at(B,L,z,fe,Pe,et){if(!L)throw Error("Invalid event type");var Ft=h(Pe)?!!Pe.capture:!!Pe,Zr=Yr(B);if(Zr||(B[yt]=Zr=new Tt(B)),z=Zr.add(L,z,fe,Ft,et),z.proxy)return z;if(fe=Nt(),z.proxy=fe,fe.src=B,fe.listener=z,B.addEventListener)ae||(Pe=Ft),Pe===void 0&&(Pe=!1),B.addEventListener(L.toString(),fe,Pe);else if(B.attachEvent)B.attachEvent(bt(L.toString()),fe);else if(B.addListener&&B.removeListener)B.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Nt(){function B(z){return L.call(B.src,B.listener,z)}const L=nn;return B}function Rt(B,L,z,fe,Pe){if(Array.isArray(L))for(var et=0;et<L.length;et++)Rt(B,L[et],z,fe,Pe);else fe=h(fe)?!!fe.capture:!!fe,z=Ue(z),B&&B[qe]?(B=B.i,L=String(L).toString(),L in B.g&&(et=B.g[L],z=tt(et,z,fe,Pe),-1<z&&(Ze(et[z]),Array.prototype.splice.call(et,z,1),et.length==0&&(delete B.g[L],B.h--)))):B&&(B=Yr(B))&&(L=B.g[L.toString()],B=-1,L&&(B=tt(L,z,fe,Pe)),(z=-1<B?L[B]:null)&&fr(z))}function fr(B){if(typeof B!="number"&&B&&!B.da){var L=B.src;if(L&&L[qe])le(L.i,B);else{var z=B.type,fe=B.proxy;L.removeEventListener?L.removeEventListener(z,fe,B.capture):L.detachEvent?L.detachEvent(bt(z),fe):L.addListener&&L.removeListener&&L.removeListener(fe),(z=Yr(L))?(le(z,B),z.h==0&&(z.src=null,L[yt]=null)):Ze(B)}}}function bt(B){return B in kt?kt[B]:kt[B]="on"+B}function nn(B,L){if(B.da)B=!0;else{L=new ue(L,this);var z=B.listener,fe=B.ha||B.src;B.fa&&fr(B),B=z.call(fe,L)}return B}function Yr(B){return B=B[yt],B instanceof Tt?B:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(B){return typeof B=="function"?B:(B[Qe]||(B[Qe]=function(L){return B.handleEvent(L)}),B[Qe])}function ot(){W.call(this),this.i=new Tt(this),this.M=this,this.F=null}R(ot,W),ot.prototype[qe]=!0,ot.prototype.removeEventListener=function(B,L,z,fe){Rt(this,B,L,z,fe)};function Dt(B,L){var z,fe=B.F;if(fe)for(z=[];fe;fe=fe.F)z.push(fe);if(B=B.M,fe=L.type||L,typeof L=="string")L=new oe(L,B);else if(L instanceof oe)L.target=L.target||B;else{var Pe=L;L=new oe(fe,B),re(L,Pe)}if(Pe=!0,z)for(var et=z.length-1;0<=et;et--){var Ft=L.g=z[et];Pe=Zt(Ft,fe,!0,L)&&Pe}if(Ft=L.g=B,Pe=Zt(Ft,fe,!0,L)&&Pe,Pe=Zt(Ft,fe,!1,L)&&Pe,z)for(et=0;et<z.length;et++)Ft=L.g=z[et],Pe=Zt(Ft,fe,!1,L)&&Pe}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var B=this.i,L;for(L in B.g){for(var z=B.g[L],fe=0;fe<z.length;fe++)Ze(z[fe]);delete B.g[L],B.h--}}this.F=null},ot.prototype.K=function(B,L,z,fe){return this.i.add(String(B),L,!1,z,fe)},ot.prototype.L=function(B,L,z,fe){return this.i.add(String(B),L,!0,z,fe)};function Zt(B,L,z,fe){if(L=B.i.g[String(L)],!L)return!0;L=L.concat();for(var Pe=!0,et=0;et<L.length;++et){var Ft=L[et];if(Ft&&!Ft.da&&Ft.capture==z){var Zr=Ft.listener,Bn=Ft.ha||Ft.src;Ft.fa&&le(B.i,Ft),Pe=Zr.call(Bn,fe)!==!1&&Pe}}return Pe&&!fe.defaultPrevented}function ut(B,L,z){if(typeof B=="function")z&&(B=b(B,z));else if(B&&typeof B.handleEvent=="function")B=b(B.handleEvent,B);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(B,L||0)}function Bt(B){B.g=ut(()=>{B.g=null,B.i&&(B.i=!1,Bt(B))},B.l);const L=B.h;B.h=null,B.m.apply(null,L)}class Yt extends W{constructor(L,z){super(),this.m=L,this.l=z,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(B){W.call(this),this.h=B,this.g={}}R(Br,W);var Gt=[];function Be(B){K(B.g,function(L,z){this.g.hasOwnProperty(z)&&fr(L)},B),B.g={}}Br.prototype.N=function(){Br.aa.N.call(this),Be(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=c.JSON.stringify,ke=c.JSON.parse,Mt=class{stringify(B){return c.JSON.stringify(B,void 0)}parse(B){return c.JSON.parse(B,void 0)}};function dr(){}dr.prototype.h=null;function Rr(B){return B.h||(B.h=B.i())}function Nn(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){oe.call(this,"d")}R(Kn,oe);function Vr(){oe.call(this,"c")}R(Vr,oe);var zn={},yn=null;function Ie(){return yn=yn||new ot}zn.La="serverreachability";function At(B){oe.call(this,zn.La,B)}R(At,oe);function st(B){const L=Ie();Dt(L,new At(L))}zn.STAT_EVENT="statevent";function mt(B,L){oe.call(this,zn.STAT_EVENT,B),this.stat=L}R(mt,oe);function Pt(B){const L=Ie();Dt(L,new mt(L,B))}zn.Ma="timingevent";function Wn(B,L){oe.call(this,zn.Ma,B),this.size=L}R(Wn,oe);function Jr(B,L){if(typeof B!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){B()},L)}function Pi(){this.g=!0}Pi.prototype.xa=function(){this.g=!1};function Cn(B,L,z,fe,Pe,et){B.info(function(){if(B.g)if(et)for(var Ft="",Zr=et.split("&"),Bn=0;Bn<Zr.length;Bn++){var _r=Zr[Bn].split("=");if(1<_r.length){var bn=_r[0];_r=_r[1];var Vn=bn.split("_");Ft=2<=Vn.length&&Vn[1]=="type"?Ft+(bn+"="+_r+"&"):Ft+(bn+"=redacted&")}}else Ft=null;else Ft=et;return"XMLHTTP REQ ("+fe+") [attempt "+Pe+"]: "+L+`
`+z+`
`+Ft})}function Es(B,L,z,fe,Pe,et,Ft){B.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Pe+"]: "+L+`
`+z+`
`+et+" "+Ft})}function ne(B,L,z,fe){B.info(function(){return"XMLHTTP TEXT ("+L+"): "+de(B,z)+(fe?" "+fe:"")})}function ce(B,L){B.info(function(){return"TIMEOUT: "+L})}Pi.prototype.info=function(){};function de(B,L){if(!B.g)return L;if(!L)return null;try{var z=JSON.parse(L);if(z){for(B=0;B<z.length;B++)if(Array.isArray(z[B])){var fe=z[B];if(!(2>fe.length)){var Pe=fe[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var et=Pe[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Ft=1;Ft<Pe.length;Ft++)Pe[Ft]=""}}}}return Lt(z)}catch{return L}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function Ve(){}R(Ve,dr),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},ve=new Ve;function nt(B,L,z,fe){this.j=B,this.i=L,this.l=z,this.R=fe||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Ke={},ze={};function ht(B,L,z){B.L=1,B.v=Tn(or(L)),B.m=z,B.P=!0,xt(B,null)}function xt(B,L){B.F=Date.now(),It(B),B.A=or(B.v);var z=B.A,fe=B.R;Array.isArray(fe)||(fe=[String(fe)]),gn(z.i,"t",fe),B.C=0,z=B.j.J,B.h=new Le,B.g=Wc(B.j,z?L:null,!B.m),0<B.O&&(B.M=new Yt(b(B.Y,B,B.g),B.O)),L=B.U,z=B.g,fe=B.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(Gt[0]=Pe.toString()),Pe=Gt);for(var et=0;et<Pe.length;et++){var Ft=ct(z,Pe[et],fe||L.handleEvent,!1,L.h||L);if(!Ft)break;L.g[Ft.key]=Ft}L=B.H?P(B.H):{},B.m?(B.u||(B.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",B.g.ea(B.A,B.u,B.m,L)):(B.u="GET",B.g.ea(B.A,B.u,null,L)),st(),Cn(B.i,B.u,B.A,B.l,B.R,B.m)}nt.prototype.ca=function(B){B=B.target;const L=this.M;L&&Qi(B)==3?L.j():this.Y(B)},nt.prototype.Y=function(B){try{if(B==this.g)e:{const Vn=Qi(this.g);var L=this.g.Ba();const ai=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||Vn!=4||L==7||(L==8||0>=ai?st(3):st(2)),it(this);var z=this.g.Z();this.X=z;t:if(wt(this)){var fe=Ho(this.g);B="";var Pe=fe.length,et=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),jr(this);var Ft="";break t}this.h.i=new c.TextDecoder}for(L=0;L<Pe;L++)this.h.h=!0,B+=this.h.i.decode(fe[L],{stream:!(et&&L==Pe-1)});fe.length=0,this.h.g+=B,this.C=0,Ft=this.h.g}else Ft=this.g.oa();if(this.o=z==200,Es(this.i,this.u,this.A,this.l,this.R,Vn,z),this.o){if(this.T&&!this.K){t:{if(this.g){var Zr,Bn=this.g;if((Zr=Bn.g?Bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Zr)){var _r=Zr;break t}}_r=null}if(z=_r)ne(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qn(this,z);else{this.o=!1,this.s=3,Pt(12),er(this),jr(this);break e}}if(this.P){z=!0;let Vi;for(;!this.J&&this.C<Ft.length;)if(Vi=Ct(this,Ft),Vi==ze){Vn==4&&(this.s=4,Pt(14),z=!1),ne(this.i,this.l,null,"[Incomplete Response]");break}else if(Vi==Ke){this.s=4,Pt(15),ne(this.i,this.l,Ft,"[Invalid Chunk]"),z=!1;break}else ne(this.i,this.l,Vi,null),Qn(this,Vi);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||Ft.length!=0||this.h.h||(this.s=1,Pt(16),z=!1),this.o=this.o&&z,!z)ne(this.i,this.l,Ft,"[Invalid Chunked Response]"),er(this),jr(this);else if(0<Ft.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+Ft.length),Go(bn),bn.M=!0,Pt(11))}}else ne(this.i,this.l,Ft,null),Qn(this,Ft);Vn==4&&er(this),this.o&&!this.J&&(Vn==4?En(this.j,this):(this.o=!1,It(this)))}else Wr(this.g),z==400&&0<Ft.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),er(this),jr(this)}}}catch{}finally{}};function wt(B){return B.g?B.u=="GET"&&B.L!=2&&B.j.Ca:!1}function Ct(B,L){var z=B.C,fe=L.indexOf(`
`,z);return fe==-1?ze:(z=Number(L.substring(z,fe)),isNaN(z)?Ke:(fe+=1,fe+z>L.length?ze:(L=L.slice(fe,fe+z),B.C=fe+z,L)))}nt.prototype.cancel=function(){this.J=!0,er(this)};function It(B){B.S=Date.now()+B.I,Ht(B,B.I)}function Ht(B,L){if(B.B!=null)throw Error("WatchDog timer not null");B.B=Jr(b(B.ba,B),L)}function it(B){B.B&&(c.clearTimeout(B.B),B.B=null)}nt.prototype.ba=function(){this.B=null;const B=Date.now();0<=B-this.S?(ce(this.i,this.A),this.L!=2&&(st(),Pt(17)),er(this),this.s=2,jr(this)):Ht(this,this.S-B)};function jr(B){B.j.G==0||B.J||En(B.j,B)}function er(B){it(B);var L=B.M;L&&typeof L.ma=="function"&&L.ma(),B.M=null,Be(B.U),B.g&&(L=B.g,B.g=null,L.abort(),L.ma())}function Qn(B,L){try{var z=B.j;if(z.G!=0&&(z.g==B||qn(z.h,B))){if(!B.K&&qn(z.h,B)&&z.G==3){try{var fe=z.Da.g.parse(L)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Pe=fe;if(Pe[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<B.F)Ta(z),vo(z);else break e;jA(z),Pt(18)}}else z.za=Pe[1],0<z.za-z.T&&37500>Pe[2]&&z.F&&z.v==0&&!z.C&&(z.C=Jr(b(z.Za,z),6e3));if(1>=mr(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Hi(z,11)}else if((B.K||z.g==B)&&Ta(z),!G(L))for(Pe=z.Da.g.parse(L),L=0;L<Pe.length;L++){let _r=Pe[L];if(z.T=_r[0],_r=_r[1],z.G==2)if(_r[0]=="c"){z.K=_r[1],z.ia=_r[2];const bn=_r[3];bn!=null&&(z.la=bn,z.j.info("VER="+z.la));const Vn=_r[4];Vn!=null&&(z.Aa=Vn,z.j.info("SVER="+z.Aa));const ai=_r[5];ai!=null&&typeof ai=="number"&&0<ai&&(fe=1.5*ai,z.L=fe,z.j.info("backChannelRequestTimeoutMs_="+fe)),fe=z;const Vi=B.g;if(Vi){const Ri=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var et=fe.h;et.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(ba(et,et.h),et.h=null))}if(fe.D){const Za=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(fe.ya=Za,St(fe.I,fe.D,Za))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-B.F,z.j.info("Handshake RTT: "+z.R+"ms")),fe=z;var Ft=B;if(fe.qa=$t(fe,fe.J?fe.ia:null,fe.W),Ft.K){ns(fe.h,Ft);var Zr=Ft,Bn=fe.L;Bn&&(Zr.I=Bn),Zr.B&&(it(Zr),It(Zr)),fe.g=Ft}else zc(fe);0<z.i.length&&cr(z)}else _r[0]!="stop"&&_r[0]!="close"||Hi(z,7);else z.G==3&&(_r[0]=="stop"||_r[0]=="close"?_r[0]=="stop"?Hi(z,7):js(z):_r[0]!="noop"&&z.l&&z.l.ta(_r),z.v=0)}}st(4)}catch{}}var Xa=class{constructor(B,L){this.g=B,this.map=L}};function Cr(B){this.l=B||10,c.PerformanceNavigationTiming?(B=c.performance.getEntriesByType("navigation"),B=0<B.length&&(B[0].nextHopProtocol=="hq"||B[0].nextHopProtocol=="h2")):B=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=B?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hr(B){return B.h?!0:B.g?B.g.size>=B.j:!1}function mr(B){return B.h?1:B.g?B.g.size:0}function qn(B,L){return B.h?B.h==L:B.g?B.g.has(L):!1}function ba(B,L){B.g?B.g.add(L):B.h=L}function ns(B,L){B.h&&B.h==L?B.h=null:B.g&&B.g.has(L)&&B.g.delete(L)}Cr.prototype.cancel=function(){if(this.i=Lr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const B of this.g.values())B.cancel();this.g.clear()}};function Lr(B){if(B.h!=null)return B.i.concat(B.h.D);if(B.g!=null&&B.g.size!==0){let L=B.i;for(const z of B.g.values())L=L.concat(z.D);return L}return k(B.i)}function ia(B){if(B.V&&typeof B.V=="function")return B.V();if(typeof Map<"u"&&B instanceof Map||typeof Set<"u"&&B instanceof Set)return Array.from(B.values());if(typeof B=="string")return B.split("");if(d(B)){for(var L=[],z=B.length,fe=0;fe<z;fe++)L.push(B[fe]);return L}L=[],z=0;for(fe in B)L[z++]=B[fe];return L}function C0(B){if(B.na&&typeof B.na=="function")return B.na();if(!B.V||typeof B.V!="function"){if(typeof Map<"u"&&B instanceof Map)return Array.from(B.keys());if(!(typeof Set<"u"&&B instanceof Set)){if(d(B)||typeof B=="string"){var L=[];B=B.length;for(var z=0;z<B;z++)L.push(z);return L}L=[],z=0;for(const fe in B)L[z++]=fe;return L}}}function hn(B,L){if(B.forEach&&typeof B.forEach=="function")B.forEach(L,void 0);else if(d(B)||typeof B=="string")Array.prototype.forEach.call(B,L,void 0);else for(var z=C0(B),fe=ia(B),Pe=fe.length,et=0;et<Pe;et++)L.call(void 0,fe[et],z&&z[et],B)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(B,L){if(B){B=B.split("&");for(var z=0;z<B.length;z++){var fe=B[z].indexOf("="),Pe=null;if(0<=fe){var et=B[z].substring(0,fe);Pe=B[z].substring(fe+1)}else et=B[z];L(et,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function is(B){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,B instanceof is){this.h=B.h,Fn(this,B.j),this.o=B.o,this.g=B.g,He(this,B.s),this.l=B.l;var L=B.i,z=new Ls;z.i=L.i,L.g&&(z.g=new Map(L.g),z.h=L.h),pe(this,z),this.m=B.m}else B&&(L=String(B).match(Ms))?(this.h=!1,Fn(this,L[1]||"",!0),this.o=ii(L[2]||""),this.g=ii(L[3]||"",!0),He(this,L[4]),this.l=ii(L[5]||"",!0),pe(this,L[6]||"",!0),this.m=ii(L[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}is.prototype.toString=function(){var B=[],L=this.j;L&&B.push(Os(L,Fi,!0),":");var z=this.g;return(z||L=="file")&&(B.push("//"),(L=this.o)&&B.push(Os(L,Fi,!0),"@"),B.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&B.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&B.push("/"),B.push(Os(z,z.charAt(0)=="/"?An:Jt,!0))),(z=this.i.toString())&&B.push("?",z),(z=this.m)&&B.push("#",Os(z,E0)),B.join("")};function or(B){return new is(B)}function Fn(B,L,z){B.j=z?ii(L,!0):L,B.j&&(B.j=B.j.replace(/:$/,""))}function He(B,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);B.s=L}else B.s=null}function pe(B,L,z){L instanceof Ls?(B.i=L,sa(B.i,B.h)):(z||(L=Os(L,Gc)),B.i=new Ls(L,B.h))}function St(B,L,z){B.i.set(L,z)}function Tn(B){return St(B,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),B}function ii(B,L){return B?L?decodeURI(B.replace(/%25/g,"%2525")):decodeURIComponent(B):""}function Os(B,L,z){return typeof B=="string"?(B=encodeURI(B).replace(L,PA),z&&(B=B.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B):null}function PA(B){return B=B.charCodeAt(0),"%"+(B>>4&15).toString(16)+(B&15).toString(16)}var Fi=/[#\/\?@]/g,Jt=/[#\?:]/g,An=/[#\?]/g,Gc=/[#\?@]/g,E0=/#/g;function Ls(B,L){this.h=this.g=null,this.i=B||null,this.j=!!L}function Hn(B){B.g||(B.g=new Map,B.h=0,B.i&&Dl(B.i,function(L,z){B.add(decodeURIComponent(L.replace(/\+/g," ")),z)}))}t=Ls.prototype,t.add=function(B,L){Hn(this),this.i=null,B=Ei(this,B);var z=this.g.get(B);return z||this.g.set(B,z=[]),z.push(L),this.h+=1,this};function xo(B,L){Hn(B),L=Ei(B,L),B.g.has(L)&&(B.i=null,B.h-=B.g.get(L).length,B.g.delete(L))}function Ul(B,L){return Hn(B),L=Ei(B,L),B.g.has(L)}t.forEach=function(B,L){Hn(this),this.g.forEach(function(z,fe){z.forEach(function(Pe){B.call(L,Pe,fe,this)},this)},this)},t.na=function(){Hn(this);const B=Array.from(this.g.values()),L=Array.from(this.g.keys()),z=[];for(let fe=0;fe<L.length;fe++){const Pe=B[fe];for(let et=0;et<Pe.length;et++)z.push(L[fe])}return z},t.V=function(B){Hn(this);let L=[];if(typeof B=="string")Ul(this,B)&&(L=L.concat(this.g.get(Ei(this,B))));else{B=Array.from(this.g.values());for(let z=0;z<B.length;z++)L=L.concat(B[z])}return L},t.set=function(B,L){return Hn(this),this.i=null,B=Ei(this,B),Ul(this,B)&&(this.h-=this.g.get(B).length),this.g.set(B,[L]),this.h+=1,this},t.get=function(B,L){return B?(B=this.V(B),0<B.length?String(B[0]):L):L};function gn(B,L,z){xo(B,L),0<z.length&&(B.i=null,B.g.set(Ei(B,L),k(z)),B.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const B=[],L=Array.from(this.g.keys());for(var z=0;z<L.length;z++){var fe=L[z];const et=encodeURIComponent(String(fe)),Ft=this.V(fe);for(fe=0;fe<Ft.length;fe++){var Pe=et;Ft[fe]!==""&&(Pe+="="+encodeURIComponent(String(Ft[fe]))),B.push(Pe)}}return this.i=B.join("&")};function Ei(B,L){return L=String(L),B.j&&(L=L.toLowerCase()),L}function sa(B,L){L&&!B.j&&(Hn(B),B.i=null,B.g.forEach(function(z,fe){var Pe=fe.toLowerCase();fe!=Pe&&(xo(this,fe),gn(this,Pe,z))},B)),B.j=L}function tr(B,L){const z=new Pi;if(c.Image){const fe=new Image;fe.onload=S(rr,z,"TestLoadImage: loaded",!0,L,fe),fe.onerror=S(rr,z,"TestLoadImage: error",!1,L,fe),fe.onabort=S(rr,z,"TestLoadImage: abort",!1,L,fe),fe.ontimeout=S(rr,z,"TestLoadImage: timeout",!1,L,fe),c.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=B}else L(!1)}function Kc(B,L){const z=new Pi,fe=new AbortController,Pe=setTimeout(()=>{fe.abort(),rr(z,"TestPingServer: timeout",!1,L)},1e4);fetch(B,{signal:fe.signal}).then(et=>{clearTimeout(Pe),et.ok?rr(z,"TestPingServer: ok",!0,L):rr(z,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Pe),rr(z,"TestPingServer: error",!1,L)})}function rr(B,L,z,fe,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),fe(z)}catch{}}function cn(){this.g=new Mt}function QA(B,L,z){const fe=z||"";try{hn(B,function(Pe,et){let Ft=Pe;h(Pe)&&(Ft=Lt(Pe)),L.push(fe+et+"="+encodeURIComponent(Ft))})}catch(Pe){throw L.push(fe+"type="+encodeURIComponent("_badmap")),Pe}}function Ps(B){this.l=B.Ub||null,this.j=B.eb||!1}R(Ps,dr),Ps.prototype.g=function(){return new ss(this.l,this.j)},Ps.prototype.i=(function(B){return function(){return B}})({});function ss(B,L){ot.call(this),this.D=B,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ss,ot),t=ss.prototype,t.open=function(B,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=B,this.A=L,this.readyState=1,Hs(this)},t.send=function(B){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};B&&(L.body=B),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Sa=function(B){if(this.g&&(this.l=B,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=B.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")B.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in B){if(this.j=B.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else B.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(B){B.j.read().then(B.Pa.bind(B)).catch(B.ga.bind(B))}t.Pa=function(B){if(this.g){if(this.o&&B.value)this.response.push(B.value);else if(!this.o){var L=B.value?B.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!B.done}))&&(this.response=this.responseText+=L)}B.done?_a(this):Hs(this),this.readyState==3&&Qs(this)}},t.Ra=function(B){this.g&&(this.response=this.responseText=B,_a(this))},t.Qa=function(B){this.g&&(this.response=B,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(B){B.readyState=4,B.l=null,B.j=null,B.v=null,Hs(B)}t.setRequestHeader=function(B,L){this.u.append(B,L)},t.getResponseHeader=function(B){return this.h&&this.h.get(B.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const B=[],L=this.h.entries();for(var z=L.next();!z.done;)z=z.value,B.push(z[0]+": "+z[1]),z=L.next();return B.join(`\r
`)};function Hs(B){B.onreadystatechange&&B.onreadystatechange.call(B)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(B){this.m=B?"include":"same-origin"}});function aa(B){let L="";return K(B,function(z,fe){L+=fe,L+=":",L+=z,L+=`\r
`}),L}function Vs(B,L,z){e:{for(fe in z){var fe=!1;break e}fe=!0}fe||(z=aa(z),typeof B=="string"?z!=null&&encodeURIComponent(String(z)):St(B,L,z))}function pn(B){ot.call(this),this.headers=new Map,this.o=B||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(pn,ot);var Xn=/^https?$/i,bs=["POST","PUT"];t=pn.prototype,t.Ha=function(B){this.J=B},t.ea=function(B,L,z,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+B);L=L?L.toUpperCase():"GET",this.D=B,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?Rr(this.o):Rr(ve),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(L,String(B),!0),this.B=!1}catch(et){Yn(this,et);return}if(B=z||"",z=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Pe in fe)z.set(Pe,fe[Pe]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const et of fe.keys())z.set(et,fe.get(et));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(z.keys()).find(et=>et.toLowerCase()=="content-type"),Pe=c.FormData&&B instanceof c.FormData,!(0<=Array.prototype.indexOf.call(bs,L,void 0))||fe||Pe||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Ft]of z)this.g.setRequestHeader(et,Ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ml(this),this.u=!0,this.g.send(B),this.u=!1}catch(et){Yn(this,et)}};function Yn(B,L){B.h=!1,B.g&&(B.j=!0,B.g.abort(),B.j=!1),B.l=L,B.m=5,Ya(B),Ja(B)}function Ya(B){B.A||(B.A=!0,Dt(B,"complete"),Dt(B,"error"))}t.abort=function(B){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=B||7,Dt(this,"complete"),Dt(this,"abort"),Ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?HA(this):this.bb())},t.bb=function(){HA(this)};function HA(B){if(B.h&&typeof o<"u"&&(!B.v[1]||Qi(B)!=4||B.Z()!=2)){if(B.u&&Qi(B)==4)ut(B.Ea,0,B);else if(Dt(B,"readystatechange"),Qi(B)==4){B.h=!1;try{const Ft=B.Z();e:switch(Ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var z;if(!(z=L)){var fe;if(fe=Ft===0){var Pe=String(B.D).match(Ms)[1]||null;!Pe&&c.self&&c.self.location&&(Pe=c.self.location.protocol.slice(0,-1)),fe=!Xn.test(Pe?Pe.toLowerCase():"")}z=fe}if(z)Dt(B,"complete"),Dt(B,"success");else{B.m=6;try{var et=2<Qi(B)?B.g.statusText:""}catch{et=""}B.l=et+" ["+B.Z()+"]",Ya(B)}}finally{Ja(B)}}}}function Ja(B,L){if(B.g){Ml(B);const z=B.g,fe=B.v[0]?()=>{}:null;B.g=null,B.v=null,L||Dt(B,"ready");try{z.onreadystatechange=fe}catch{}}}function Ml(B){B.I&&(c.clearTimeout(B.I),B.I=null)}t.isActive=function(){return!!this.g};function Qi(B){return B.g?B.g.readyState:0}t.Z=function(){try{return 2<Qi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(B){if(this.g){var L=this.g.responseText;return B&&L.indexOf(B)==0&&(L=L.substring(B.length)),ke(L)}};function Ho(B){try{if(!B.g)return null;if("response"in B.g)return B.g.response;switch(B.H){case"":case"text":return B.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in B.g)return B.g.mozResponseArrayBuffer}return null}catch{return null}}function Wr(B){const L={};B=(B.g&&2<=Qi(B)&&B.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<B.length;fe++){if(G(B[fe]))continue;var z=te(B[fe]);const Pe=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const et=L[Pe]||[];L[Pe]=et,et.push(z)}M(L,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(B,L,z){return z&&z.internalChannelParams&&z.internalChannelParams[B]||L}function Vo(B){this.Aa=0,this.i=[],this.j=new Pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,B),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,B),this.cb=wo("retryDelaySeedMs",1e4,B),this.Wa=wo("forwardChannelMaxRetries",2,B),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,B),this.pa=B&&B.xmlHttpFactory||void 0,this.Xa=B&&B.Tb||void 0,this.Ca=B&&B.useFetchStreams||!1,this.L=void 0,this.J=B&&B.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(B&&B.concurrentRequestLimit),this.Da=new cn,this.P=B&&B.fastHandshake||!1,this.O=B&&B.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=B&&B.Rb||!1,B&&B.xa&&this.j.xa(),B&&B.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&B&&B.detectBufferingProxy||!1,this.ja=void 0,B&&B.longPollingTimeout&&0<B.longPollingTimeout&&(this.ja=B.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vo.prototype,t.la=8,t.G=1,t.connect=function(B,L,z,fe){Pt(0),this.W=B,this.H=L||{},z&&fe!==void 0&&(this.H.OSID=z,this.H.OAID=fe),this.F=this.X,this.I=$t(this,null,this.W),cr(this)};function js(B){if(Je(B),B.G==3){var L=B.U++,z=or(B.I);if(St(z,"SID",B.K),St(z,"RID",L),St(z,"TYPE","terminate"),yo(B,z),L=new nt(B,B.j,L),L.L=2,L.v=Tn(or(z)),z=!1,c.navigator&&c.navigator.sendBeacon)try{z=c.navigator.sendBeacon(L.v.toString(),"")}catch{}!z&&c.Image&&(new Image().src=L.v,z=!0),z||(L.g=Wc(L.j,null),L.g.ea(L.v)),L.F=Date.now(),It(L)}qr(B)}function vo(B){B.g&&(Go(B),B.g.cancel(),B.g=null)}function Je(B){vo(B),B.u&&(c.clearTimeout(B.u),B.u=null),Ta(B),B.h.cancel(),B.s&&(typeof B.s=="number"&&c.clearTimeout(B.s),B.s=null)}function cr(B){if(!hr(B.h)&&!B.s){B.s=!0;var L=B.Ga;Ce||Ye(),We||(Ce(),We=!0),be.add(L,B),B.B=0}}function si(B,L){return mr(B.h)>=B.h.j-(B.s?1:0)?!1:B.s?(B.i=L.D.concat(B.i),!0):B.G==1||B.G==2||B.B>=(B.Va?0:B.Wa)?!1:(B.s=Jr(b(B.Ga,B,L),Ko(B,B.B)),B.B++,!0)}t.Ga=function(B){if(this.s)if(this.s=null,this.G==1){if(!B){this.U=Math.floor(1e5*Math.random()),B=this.U++;const Pe=new nt(this,this.j,B);let et=this.o;if(this.S&&(et?(et=P(et),re(et,this.S)):et=this.S),this.m!==null||this.O||(Pe.H=et,et=null),this.P)e:{for(var L=0,z=0;z<this.i.length;z++){t:{var fe=this.i[z];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(L+=fe,4096<L){L=z;break e}if(L===4096||z===this.i.length-1){L=z+1;break e}}L=1e3}else L=1e3;L=VA(this,Pe,L),z=or(this.I),St(z,"RID",B),St(z,"CVER",22),this.D&&St(z,"X-HTTP-Session-Id",this.D),yo(this,z),et&&(this.O?L="headers="+encodeURIComponent(String(aa(et)))+"&"+L:this.m&&Vs(z,this.m,et)),ba(this.h,Pe),this.Ua&&St(z,"TYPE","init"),this.P?(St(z,"$req",L),St(z,"SID","null"),Pe.T=!0,ht(Pe,z,null)):ht(Pe,z,L),this.G=2}}else this.G==3&&(B?jo(this,B):this.i.length==0||hr(this.h)||jo(this))};function jo(B,L){var z;L?z=L.l:z=B.U++;const fe=or(B.I);St(fe,"SID",B.K),St(fe,"RID",z),St(fe,"AID",B.T),yo(B,fe),B.m&&B.o&&Vs(fe,B.m,B.o),z=new nt(B,B.j,z,B.B+1),B.m===null&&(z.H=B.o),L&&(B.i=L.D.concat(B.i)),L=VA(B,z,1e3),z.I=Math.round(.5*B.wa)+Math.round(.5*B.wa*Math.random()),ba(B.h,z),ht(z,fe,L)}function yo(B,L){B.H&&K(B.H,function(z,fe){St(L,fe,z)}),B.l&&hn({},function(z,fe){St(L,fe,z)})}function VA(B,L,z){z=Math.min(B.i.length,z);var fe=B.l?b(B.l.Na,B.l,B):null;e:{var Pe=B.i;let et=-1;for(;;){const Ft=["count="+z];et==-1?0<z?(et=Pe[0].g,Ft.push("ofs="+et)):et=0:Ft.push("ofs="+et);let Zr=!0;for(let Bn=0;Bn<z;Bn++){let _r=Pe[Bn].g;const bn=Pe[Bn].map;if(_r-=et,0>_r)et=Math.max(0,Pe[Bn].g-100),Zr=!1;else try{QA(bn,Ft,"req"+_r+"_")}catch{fe&&fe(bn)}}if(Zr){fe=Ft.join("&");break e}}}return B=B.i.splice(0,z),L.D=B,fe}function zc(B){if(!B.g&&!B.u){B.Y=1;var L=B.Fa;Ce||Ye(),We||(Ce(),We=!0),be.add(L,B),B.v=0}}function jA(B){return B.g||B.u||3<=B.v?!1:(B.Y++,B.u=Jr(b(B.Fa,B),Ko(B,B.v)),B.v++,!0)}t.Fa=function(){if(this.u=null,Mn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var B=2*this.R;this.j.info("BP detection timer enabled: "+B),this.A=Jr(b(this.ab,this),B)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),vo(this),Mn(this))};function Go(B){B.A!=null&&(c.clearTimeout(B.A),B.A=null)}function Mn(B){B.g=new nt(B,B.j,"rpc",B.Y),B.m===null&&(B.g.H=B.o),B.g.O=0;var L=or(B.qa);St(L,"RID","rpc"),St(L,"SID",B.K),St(L,"AID",B.T),St(L,"CI",B.F?"0":"1"),!B.F&&B.ja&&St(L,"TO",B.ja),St(L,"TYPE","xmlhttp"),yo(B,L),B.m&&B.o&&Vs(L,B.m,B.o),B.L&&(B.g.I=B.L);var z=B.g;B=B.ia,z.L=1,z.v=Tn(or(L)),z.m=null,z.P=!0,xt(z,B)}t.Za=function(){this.C!=null&&(this.C=null,vo(this),jA(this),Pt(19))};function Ta(B){B.C!=null&&(c.clearTimeout(B.C),B.C=null)}function En(B,L){var z=null;if(B.g==L){Ta(B),Go(B),B.g=null;var fe=2}else if(qn(B.h,L))z=L.D,ns(B.h,L),fe=1;else return;if(B.G!=0){if(L.o)if(fe==1){z=L.m?L.m.length:0,L=Date.now()-L.F;var Pe=B.B;fe=Ie(),Dt(fe,new Wn(fe,z)),cr(B)}else zc(B);else if(Pe=L.s,Pe==3||Pe==0&&0<L.X||!(fe==1&&si(B,L)||fe==2&&jA(B)))switch(z&&0<z.length&&(L=B.h,L.i=L.i.concat(z)),Pe){case 1:Hi(B,5);break;case 4:Hi(B,10);break;case 3:Hi(B,6);break;default:Hi(B,2)}}}function Ko(B,L){let z=B.Ta+Math.floor(Math.random()*B.cb);return B.isActive()||(z*=2),z*L}function Hi(B,L){if(B.j.info("Error code "+L),L==2){var z=b(B.fb,B),fe=B.Xa;const Pe=!fe;fe=new is(fe||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fn(fe,"https"),Tn(fe),Pe?tr(fe.toString(),z):Kc(fe.toString(),z)}else Pt(2);B.G=0,B.l&&B.l.sa(L),qr(B),Je(B)}t.fb=function(B){B?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function qr(B){if(B.G=0,B.ka=[],B.l){const L=Lr(B.h);(L.length!=0||B.i.length!=0)&&(U(B.ka,L),U(B.ka,B.i),B.h.i.length=0,k(B.i),B.i.length=0),B.l.ra()}}function $t(B,L,z){var fe=z instanceof is?or(z):new is(z);if(fe.g!="")L&&(fe.g=L+"."+fe.g),He(fe,fe.s);else{var Pe=c.location;fe=Pe.protocol,L=L?L+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var et=new is(null);fe&&Fn(et,fe),L&&(et.g=L),Pe&&He(et,Pe),z&&(et.l=z),fe=et}return z=B.D,L=B.ya,z&&L&&St(fe,z,L),St(fe,"VER",B.la),yo(B,fe),fe}function Wc(B,L,z){if(L&&!B.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=B.Ca&&!B.pa?new pn(new Ps({eb:z})):new pn(B.pa),L.Ha(B.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function an(){}t=an.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gs(){}Gs.prototype.g=function(B,L){return new Jn(B,L)};function Jn(B,L){ot.call(this),this.g=new Vo(L),this.l=B,this.h=L&&L.messageUrlParams||null,B=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(B?B["X-Client-Protocol"]="webchannel":B={"X-Client-Protocol":"webchannel"}),this.g.o=B,B=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(B?B["X-WebChannel-Content-Type"]=L.messageContentType:B={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(B?B["X-WebChannel-Client-Profile"]=L.va:B={"X-WebChannel-Client-Profile":L.va}),this.g.S=B,(B=L&&L.Sb)&&!G(B)&&(this.g.m=B),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!G(L)&&(this.g.D=L,B=this.h,B!==null&&L in B&&(B=this.h,L in B&&delete B[L])),this.j=new Ba(this)}R(Jn,ot),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){js(this.g)},Jn.prototype.o=function(B){var L=this.g;if(typeof B=="string"){var z={};z.__data__=B,B=z}else this.u&&(z={},z.__data__=Lt(B),B=z);L.i.push(new Xa(L.Ya++,B)),L.G==3&&cr(L)},Jn.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Jn.aa.N.call(this)};function qc(B){Kn.call(this),B.__headers__&&(this.headers=B.__headers__,this.statusCode=B.__status__,delete B.__headers__,delete B.__status__);var L=B.__sm__;if(L){e:{for(const z in L){B=z;break e}B=void 0}(this.i=B)&&(B=this.i,L=L!==null&&B in L?L[B]:void 0),this.data=L}else this.data=B}R(qc,Kn);function _s(){Vr.call(this),this.status=1}R(_s,Vr);function Ba(B){this.g=B}R(Ba,an),Ba.prototype.ua=function(){Dt(this.g,"a")},Ba.prototype.ta=function(B){Dt(this.g,new qc(B))},Ba.prototype.sa=function(B){Dt(this.g,new _s)},Ba.prototype.ra=function(){Dt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,qS=function(){return new Gs},WS=function(){return Ie()},zS=zn,V2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,Kg=he,ge.COMPLETE="complete",KS=ge,Nn.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",ot.prototype.listen=ot.prototype.K,pf=Nn,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,GS=pn}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new rp("@firebase/firestore");function af(){return yc.logLevel}function Wt(t,...e){if(yc.logLevel<=Qr.DEBUG){const r=e.map(lv);yc.debug(`Firestore (${u0}): ${t}`,...r)}}function El(t,...e){if(yc.logLevel<=Qr.ERROR){const r=e.map(lv);yc.error(`Firestore (${u0}): ${t}`,...r)}}function $u(t,...e){if(yc.logLevel<=Qr.WARN){const r=e.map(lv);yc.warn(`Firestore (${u0}): ${t}`,...r)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t="Unexpected state"){const e=`FIRESTORE (${u0}) INTERNAL ASSERTION FAILED: `+t;throw El(e),new Error(e)}function dn(t,e){t||ur()}function yr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends go{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(cs.UNAUTHENTICATED)))}shutdown(){}}class lU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class AU{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dn(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let s=new ml;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ml,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ml)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dn(typeof n.accessToken=="string"),new XS(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string"),new cs(e)}}class cU{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uU{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new cU(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){dn(this.o===void 0);const n=s=>{s.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Wt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(dn(typeof r.token=="string"),this.R=r.token,new fU(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=hU(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function tn(t,e){return t<e?-1:t>e?1:0}function e0(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new jt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Si(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wr(e)}static min(){return new wr(new Si(0,0))}static max(){return new wr(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,r,n){r===void 0?r=0:r>e.length&&ur(),n===void 0?n=e.length-r:n>e.length-r&&ur(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return td.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof td?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),o=r.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dn extends td{construct(e,r,n){return new Dn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new jt(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Dn(r)}static emptyPath(){return new Dn([])}}const gU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends td{construct(e,r,n){return new Ji(e,r,n)}static isValidIdentifier(e){return gU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ji(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new jt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new jt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new jt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(n+=c,i++):(s(),i++)}if(s(),o)throw new jt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(r)}static emptyPath(){return new Ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.path=e}static fromPath(e){return new ir(Dn.fromString(e))}static fromName(e){return new ir(Dn.fromString(e).popFirst(5))}static empty(){return new ir(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ir(new Dn(e.slice()))}}function pU(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=wr.fromTimestamp(n===1e9?new Si(r+1,0):new Si(r,n));return new IA(i,ir.empty(),e)}function mU(t){return new IA(t.readTime,t.key,-1)}class IA{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new IA(wr.min(),ir.empty(),-1)}static max(){return new IA(wr.max(),ir.empty(),-1)}}function xU(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ir.comparator(t.documentKey,e.documentKey),r!==0?r:tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){if(t.code!==gt.FAILED_PRECONDITION||t.message!==wU)throw t;Wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ur(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new vt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof vt?r:vt.resolve(r)}catch(r){return vt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):vt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):vt.reject(r)}static resolve(e){return new vt(((r,n)=>{r(e)}))}static reject(e){return new vt(((r,n)=>{n(e)}))}static waitFor(e){return new vt(((r,n)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&r()}),(d=>n(d)))})),o=!0,s===i&&r()}))}static or(e){let r=vt.resolve(!1);for(const n of e)r=r.next((i=>i?vt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new vt(((n,i)=>{const s=e.length,o=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;r(e[h]).next((m=>{o[h]=m,++c,c===s&&n(o)}),(m=>i(m)))}}))}static doWhile(e,r){return new vt(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function yU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Av.oe=-1;function np(t){return t==null}function l1(t){return t===0&&1/t==-1/0}function CU(t){return typeof t=="number"&&Number.isInteger(t)&&!l1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function kc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,r){this.comparator=e,this.root=r||Xi.EMPTY}insert(e,r){return new Gn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Xi.RED,this.left=i??Xi.EMPTY,this.right=s??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Xi(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Xi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ur();const e=this.left.check();if(e!==this.right.check())throw ur();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1;Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ur()}get value(){throw ur()}get color(){throw ur()}get left(){throw ur()}get right(){throw ur()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Xi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new $i(this.comparator);return r.data=e,r}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new ya([])}unionWith(e){let r=new $i(Ji.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ya(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return e0(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZS("Invalid base64 string: "+s):s}})(e);return new rs(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new rs(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const EU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function SA(t){if(dn(!!t),typeof t=="string"){let e=0;const r=EU.exec(t);if(dn(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fi(t.seconds),nanos:fi(t.nanos)}}function fi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cc(t){return typeof t=="string"?rs.fromBase64String(t):rs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function uv(t){const e=t.mapValue.fields.__previous_value__;return cv(e)?uv(e):e}function rd(t){const e=SA(t.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r,n,i,s,o,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class nd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh={mapValue:{}};function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cv(t)?4:TU(t)?9007199254740991:_U(t)?10:11:ur()}function Uo(t,e){if(t===e)return!0;const r=Ec(t);if(r!==Ec(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=SA(i.timestampValue),c=SA(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Cc(i.bytesValue).isEqual(Cc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return fi(i.geoPointValue.latitude)===fi(s.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return fi(i.integerValue)===fi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=fi(i.doubleValue),c=fi(s.doubleValue);return o===c?l1(o)===l1(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return e0(t.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(C_(o)!==C_(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Uo(o[d],c[d])))return!1;return!0})(t,e);default:return ur()}}function id(t,e){return(t.values||[]).find((r=>Uo(r,e)))!==void 0}function t0(t,e){if(t===e)return 0;const r=Ec(t),n=Ec(e);if(r!==n)return tn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return tn(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=fi(s.integerValue||s.doubleValue),d=fi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return b_(t.timestampValue,e.timestampValue);case 4:return b_(rd(t),rd(e));case 5:return tn(t.stringValue,e.stringValue);case 6:return(function(s,o){const c=Cc(s),d=Cc(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=tn(c[h],d[h]);if(m!==0)return m}return tn(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=tn(fi(s.latitude),fi(o.latitude));return c!==0?c:tn(fi(s.longitude),fi(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return __(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var c,d,h,m;const C=s.fields||{},b=o.fields||{},S=(c=C.value)===null||c===void 0?void 0:c.arrayValue,R=(d=b.value)===null||d===void 0?void 0:d.arrayValue,k=tn(((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0,((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0);return k!==0?k:__(S,R)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Jh.mapValue&&o===Jh.mapValue)return 0;if(s===Jh.mapValue)return 1;if(o===Jh.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),h=o.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let C=0;C<d.length&&C<m.length;++C){const b=tn(d[C],m[C]);if(b!==0)return b;const S=t0(c[d[C]],h[m[C]]);if(S!==0)return S}return tn(d.length,m.length)})(t.mapValue,e.mapValue);default:throw ur()}}function b_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tn(t,e);const r=SA(t),n=SA(e),i=tn(r.seconds,n.seconds);return i!==0?i:tn(r.nanos,n.nanos)}function __(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=t0(r[i],n[i]);if(s)return s}return tn(r.length,n.length)}function r0(t){return j2(t)}function j2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=SA(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Cc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return ir.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=j2(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${j2(r.fields[o])}`;return i+"}"})(t.mapValue):ur()}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function G2(t){return!!t&&"integerValue"in t}function fv(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zg(t){return!!t&&"mapValue"in t}function _U(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function kf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kc(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=kf(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=kf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function TU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.value=e}static empty(){return new ea({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!zg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(r)}setAll(e){let r=Ji.emptyPath(),n={},i=[];e.forEach(((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}o?n[c.lastSegment()]=kf(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());zg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];zg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){kc(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new ea(kf(this.value))}}function $S(t){const e=[];return kc(t.fields,((r,n)=>{const i=new Ji([r]);if(zg(n)){const s=$S(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,r,n,i,s,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ds(e,0,wr.min(),wr.min(),wr.min(),ea.empty(),0)}static newFoundDocument(e,r,n,i){return new ds(e,1,r,wr.min(),n,i,0)}static newNoDocument(e,r){return new ds(e,2,r,wr.min(),wr.min(),ea.empty(),0)}static newUnknownDocument(e,r){return new ds(e,3,r,wr.min(),wr.min(),ea.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(wr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ds&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ds(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,r){this.position=e,this.inclusive=r}}function S_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=ir.comparator(ir.fromName(o.referenceValue),r.key):n=t0(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function N_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Uo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r="asc"){this.field=e,this.dir=r}}function BU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{}class Ci extends e3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new SU(e,r,n):r==="array-contains"?new RU(e,n):r==="in"?new kU(e,n):r==="not-in"?new DU(e,n):r==="array-contains-any"?new UU(e,n):new Ci(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new NU(e,n):new FU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(t0(r,this.value)):r!==null&&Ec(this.value)===Ec(r)&&this.matchesComparison(t0(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ur()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends e3{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new fo(e,r)}matches(e){return t3(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function t3(t){return t.op==="and"}function r3(t){return IU(t)&&t3(t)}function IU(t){for(const e of t.filters)if(e instanceof fo)return!1;return!0}function K2(t){if(t instanceof Ci)return t.field.canonicalString()+t.op.toString()+r0(t.value);if(r3(t))return t.filters.map((e=>K2(e))).join(",");{const e=t.filters.map((r=>K2(r))).join(",");return`${t.op}(${e})`}}function n3(t,e){return t instanceof Ci?(function(n,i){return i instanceof Ci&&n.op===i.op&&n.field.isEqual(i.field)&&Uo(n.value,i.value)})(t,e):t instanceof fo?(function(n,i){return i instanceof fo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,c)=>s&&n3(o,i.filters[c])),!0):!1})(t,e):void ur()}function i3(t){return t instanceof Ci?(function(r){return`${r.field.canonicalString()} ${r.op} ${r0(r.value)}`})(t):t instanceof fo?(function(r){return r.op.toString()+" {"+r.getFilters().map(i3).join(" ,")+"}"})(t):"Filter"}class SU extends Ci{constructor(e,r,n){super(e,r,n),this.key=ir.fromName(n.referenceValue)}matches(e){const r=ir.comparator(e.key,this.key);return this.matchesComparison(r)}}class NU extends Ci{constructor(e,r){super(e,"in",r),this.keys=s3("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class FU extends Ci{constructor(e,r){super(e,"not-in",r),this.keys=s3("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function s3(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>ir.fromName(n.referenceValue)))}class RU extends Ci{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fv(r)&&id(r.arrayValue,this.value)}}class kU extends Ci{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&id(this.value.arrayValue,r)}}class DU extends Ci{constructor(e,r){super(e,"not-in",r)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!id(this.value.arrayValue,r)}}class UU extends Ci{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fv(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>id(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,r=null,n=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function F_(t,e=null,r=[],n=[],i=null,s=null,o=null){return new MU(t,e,r,n,i,s,o)}function dv(t){const e=yr(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>K2(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),np(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>r0(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>r0(n))).join(",")),e.ue=r}return e.ue}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!BU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!n3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N_(t.startAt,e.startAt)&&N_(t.endAt,e.endAt)}function z2(t){return ir.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r=null,n=[],i=[],s=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OU(t,e,r,n,i,s,o,c){return new bd(t,e,r,n,i,s,o,c)}function ip(t){return new bd(t)}function R_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a3(t){return t.collectionGroup!==null}function Df(t){const e=yr(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new $i(Ji.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new c1(s,n))})),r.has(Ji.keyField().canonicalString())||e.ce.push(new c1(Ji.keyField(),n))}return e.ce}function No(t){const e=yr(t);return e.le||(e.le=LU(e,Df(t))),e.le}function LU(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new c1(i.field,s)}));const r=t.endAt?new A1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new A1(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function W2(t,e){const r=t.filters.concat([e]);return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function q2(t,e,r){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function sp(t,e){return hv(No(t),No(e))&&t.limitType===e.limitType}function o3(t){return`${dv(No(t))}|lt:${t.limitType}`}function Su(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>i3(i))).join(", ")}]`),np(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>r0(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>r0(i))).join(",")),`Target(${n})`})(No(t))}; limitType=${t.limitType})`}function ap(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ir.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of Df(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,c,d){const h=S_(o,c,d);return o.inclusive?h<=0:h<0})(n.startAt,Df(n),i)||n.endAt&&!(function(o,c,d){const h=S_(o,c,d);return o.inclusive?h>=0:h>0})(n.endAt,Df(n),i))})(t,e)}function PU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l3(t){return(e,r)=>{let n=!1;for(const i of Df(t)){const s=QU(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function QU(t,e,r){const n=t.field.isKeyField()?ir.comparator(e.key,r.key):(function(s,o,c){const d=o.data.field(s),h=c.data.field(s);return d!==null&&h!==null?t0(d,h):ur()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ur()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new Gn(ir.comparator);function bl(){return HU}const A3=new Gn(ir.comparator);function mf(...t){let e=A3;for(const r of t)e=e.insert(r.key,r);return e}function c3(t){let e=A3;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function uc(){return Uf()}function u3(){return Uf()}function Uf(){return new f0((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VU=new Gn(ir.comparator),jU=new $i(ir.comparator);function Or(...t){let e=jU;for(const r of t)e=e.add(r);return e}const GU=new $i(tn);function KU(){return GU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l1(e)?"-0":e}}function f3(t){return{integerValue:""+t}}function zU(t,e){return CU(e)?f3(e):gv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this._=void 0}}function WU(t,e,r){return t instanceof u1?(function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cv(s)&&(s=uv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}})(r,e):t instanceof sd?h3(t,e):t instanceof ad?g3(t,e):(function(i,s){const o=d3(i,s),c=k_(o)+k_(i.Pe);return G2(o)&&G2(i.Pe)?f3(c):gv(i.serializer,c)})(t,e)}function qU(t,e,r){return t instanceof sd?h3(t,e):t instanceof ad?g3(t,e):r}function d3(t,e){return t instanceof f1?(function(n){return G2(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class u1 extends op{}class sd extends op{constructor(e){super(),this.elements=e}}function h3(t,e){const r=p3(e);for(const n of t.elements)r.some((i=>Uo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class ad extends op{constructor(e){super(),this.elements=e}}function g3(t,e){let r=p3(e);for(const n of t.elements)r=r.filter((i=>!Uo(i,n)));return{arrayValue:{values:r}}}class f1 extends op{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function k_(t){return fi(t.integerValue||t.doubleValue)}function p3(t){return fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XU(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof sd&&i instanceof sd||n instanceof ad&&i instanceof ad?e0(n.elements,i.elements,Uo):n instanceof f1&&i instanceof f1?Uo(n.Pe,i.Pe):n instanceof u1&&i instanceof u1})(t.transform,e.transform)}class YU{constructor(e,r){this.version=e,this.transformResults=r}}class ta{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ta}static exists(e){return new ta(void 0,e)}static updateTime(e){return new ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lp{}function m3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ap(t.key,ta.none()):new _d(t.key,t.data,ta.none());{const r=t.data,n=ea.empty();let i=new $i(Ji.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new UA(t.key,n,new ya(i.toArray()),ta.none())}}function JU(t,e,r){t instanceof _d?(function(i,s,o){const c=i.value.clone(),d=U_(i.fieldTransforms,s,o.transformResults);c.setAll(d),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):t instanceof UA?(function(i,s,o){if(!Wg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=U_(i.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(x3(i)),d.setAll(c),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,r):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Mf(t,e,r,n){return t instanceof _d?(function(s,o,c,d){if(!Wg(s.precondition,o))return c;const h=s.value.clone(),m=M_(s.fieldTransforms,d,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof UA?(function(s,o,c,d){if(!Wg(s.precondition,o))return c;const h=M_(s.fieldTransforms,d,o),m=o.data;return m.setAll(x3(s)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((C=>C.field)))})(t,e,r,n):(function(s,o,c){return Wg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,r)}function ZU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=d3(n.transform,i||null);s!=null&&(r===null&&(r=ea.empty()),r.set(n.field,s))}return r||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&e0(n,i,((s,o)=>XU(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _d extends lp{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class UA extends lp{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function x3(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function U_(t,e,r){const n=new Map;dn(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);n.set(s.field,qU(o,c,r[i]))}return n}function M_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,WU(s,o,e))}return n}class Ap extends lp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $U extends lp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JU(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Mf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Mf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=u3();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=r.has(i.key)?null:c;const d=m3(o,c);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(wr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Or())}isEqual(e){return this.batchId===e.batchId&&e0(this.mutations,e.mutations,((r,n)=>D_(r,n)))&&e0(this.baseMutations,e.baseMutations,((r,n)=>D_(r,n)))}}class pv{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dn(e.mutations.length===n.length);let i=(function(){return VU})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new pv(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,Gr;function nM(t){switch(t){default:return ur();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function w3(t){if(t===void 0)return El("GRPC error has no .code"),gt.UNKNOWN;switch(t){case xi.OK:return gt.OK;case xi.CANCELLED:return gt.CANCELLED;case xi.UNKNOWN:return gt.UNKNOWN;case xi.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case xi.INTERNAL:return gt.INTERNAL;case xi.UNAVAILABLE:return gt.UNAVAILABLE;case xi.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case xi.NOT_FOUND:return gt.NOT_FOUND;case xi.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case xi.ABORTED:return gt.ABORTED;case xi.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case xi.DATA_LOSS:return gt.DATA_LOSS;default:return ur()}}(Gr=xi||(xi={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new gc([4294967295,4294967295],0);function O_(t){const e=iM().encode(t),r=new jS;return r.update(e),new Uint8Array(r.digest())}function L_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gc([r,n],0),new gc([i,s],0)]}class mv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new xf(`Invalid padding: ${r}`);if(n<0)throw new xf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new xf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new xf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=gc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(gc.fromNumber(n)));return i.compare(sM)===1&&(i=new gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=O_(e),[n,i]=L_(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mv(s,i,r);return n.forEach((c=>o.insert(c))),o}insert(e){if(this.Ie===0)return;const r=O_(e),[n,i]=L_(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new cp(wr.min(),i,new Gn(tn),bl(),Or())}}class Td{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Td(n,r,Or(),Or(),Or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class v3{constructor(e,r){this.targetId=e,this.me=r}}class y3{constructor(e,r,n=rs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class P_{constructor(){this.fe=0,this.ge=H_(),this.pe=rs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Or(),r=Or(),n=Or();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ur()}})),new Td(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=H_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aM{constructor(e){this.Le=e,this.Be=new Map,this.ke=bl(),this.qe=Q_(),this.Qe=new Gn(tn)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ur()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(z2(s))if(n===0){const o=new ir(s.path);this.Ue(r,o,ds.newNoDocument(o,wr.min()))}else dn(n===1);else{const o=this.Ye(r);if(o!==n){const c=this.Ze(e),d=c?this.Xe(c,e,o):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,c;try{o=Cc(n).toUint8Array()}catch(d){if(d instanceof ZS)return $u("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new mv(o,i,s)}catch(d){return $u(d instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,s,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((s,o)=>{const c=this.Je(o);if(c){if(s.current&&z2(c.target)){const d=new ir(c.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,ds.newNoDocument(d,e))}s.be&&(r.set(o,s.ve()),s.Ce())}}));let n=Or();this.qe.forEach(((s,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.ke.forEach(((s,o)=>o.setReadTime(e)));const i=new cp(e,r,this.Qe,this.ke,n);return this.ke=bl(),this.qe=Q_(),this.Qe=new Gn(tn),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new P_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new $i(tn),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Wt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new P_),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Q_(){return new Gn(ir.comparator)}function H_(){return new Gn(ir.comparator)}const oM={asc:"ASCENDING",desc:"DESCENDING"},lM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AM={and:"AND",or:"OR"};class cM{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function X2(t,e){return t.useProto3Json||np(e)?e:{value:e}}function d1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uM(t,e){return d1(t,e.toTimestamp())}function Fo(t){return dn(!!t),wr.fromTimestamp((function(r){const n=SA(r);return new Si(n.seconds,n.nanos)})(t))}function xv(t,e){return Y2(t,e).canonicalString()}function Y2(t,e){const r=(function(i){return new Dn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function E3(t){const e=Dn.fromString(t);return dn(I3(e)),e}function J2(t,e){return xv(t.databaseId,e.path)}function jx(t,e){const r=E3(e);if(r.get(1)!==t.databaseId.projectId)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new jt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ir(_3(r))}function b3(t,e){return xv(t.databaseId,e)}function fM(t){const e=E3(t);return e.length===4?Dn.emptyPath():_3(e)}function Z2(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _3(t){return dn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,r){return{name:J2(t,e),fields:r.value.mapValue.fields}}function dM(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ur()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,m){return h.useProto3Json?(dn(m===void 0||typeof m=="string"),rs.fromBase64String(m||"")):(dn(m===void 0||m instanceof Buffer||m instanceof Uint8Array),rs.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?gt.UNKNOWN:w3(h.code);return new jt(m,h.message||"")})(o);r=new y3(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=jx(t,n.document.name),s=Fo(n.document.updateTime),o=n.document.createTime?Fo(n.document.createTime):wr.min(),c=new ea({mapValue:{fields:n.document.fields}}),d=ds.newFoundDocument(i,s,o,c),h=n.targetIds||[],m=n.removedTargetIds||[];r=new qg(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=jx(t,n.document),s=n.readTime?Fo(n.readTime):wr.min(),o=ds.newNoDocument(i,s),c=n.removedTargetIds||[];r=new qg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=jx(t,n.document),s=n.removedTargetIds||[];r=new qg([],s,i,null)}else{if(!("filter"in e))return ur();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new rM(i,s),c=n.targetId;r=new v3(c,o)}}return r}function hM(t,e){let r;if(e instanceof _d)r={update:V_(t,e.key,e.value)};else if(e instanceof Ap)r={delete:J2(t,e.key)};else if(e instanceof UA)r={update:V_(t,e.key,e.data),updateMask:EM(e.fieldMask)};else{if(!(e instanceof $U))return ur();r={verify:J2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const c=o.transform;if(c instanceof u1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof f1)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ur()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:uM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ur()})(t,e.precondition)),r}function gM(t,e){return t&&t.length>0?(dn(e!==void 0),t.map((r=>(function(i,s){let o=i.updateTime?Fo(i.updateTime):Fo(s);return o.isEqual(wr.min())&&(o=Fo(s)),new YU(o,i.transformResults||[])})(r,e)))):[]}function pM(t,e){return{documents:[b3(t,e.path)]}}function mM(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=b3(t,i);const s=(function(h){if(h.length!==0)return B3(fo.create(h,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const o=(function(h){if(h.length!==0)return h.map((m=>(function(b){return{field:Nu(b.field),direction:vM(b.dir)}})(m)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=X2(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:r,parent:i}}function xM(t){let e=fM(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dn(n===1);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];r.where&&(s=(function(C){const b=T3(C);return b instanceof fo&&r3(b)?b.getFilters():[b]})(r.where));let o=[];r.orderBy&&(o=(function(C){return C.map((b=>(function(R){return new c1(Fu(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(r.orderBy));let c=null;r.limit&&(c=(function(C){let b;return b=typeof C=="object"?C.value:C,np(b)?null:b})(r.limit));let d=null;r.startAt&&(d=(function(C){const b=!!C.before,S=C.values||[];return new A1(S,b)})(r.startAt));let h=null;return r.endAt&&(h=(function(C){const b=!C.before,S=C.values||[];return new A1(S,b)})(r.endAt)),OU(e,i,o,s,c,"F",d,h)}function wM(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function T3(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Fu(r.unaryFilter.field);return Ci.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fu(r.unaryFilter.field);return Ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fu(r.unaryFilter.field);return Ci.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fu(r.unaryFilter.field);return Ci.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ur()}})(t):t.fieldFilter!==void 0?(function(r){return Ci.create(Fu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ur()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return fo.create(r.compositeFilter.filters.map((n=>T3(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ur()}})(r.compositeFilter.op))})(t):ur()}function vM(t){return oM[t]}function yM(t){return lM[t]}function CM(t){return AM[t]}function Nu(t){return{fieldPath:t.canonicalString()}}function Fu(t){return Ji.fromServerFormat(t.fieldPath)}function B3(t){return t instanceof Ci?(function(r){if(r.op==="=="){if(I_(r.value))return{unaryFilter:{field:Nu(r.field),op:"IS_NAN"}};if(B_(r.value))return{unaryFilter:{field:Nu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(I_(r.value))return{unaryFilter:{field:Nu(r.field),op:"IS_NOT_NAN"}};if(B_(r.value))return{unaryFilter:{field:Nu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(r.field),op:yM(r.op),value:r.value}}})(t):t instanceof fo?(function(r){const n=r.getFilters().map((i=>B3(i)));return n.length===1?n[0]:{compositeFilter:{op:CM(r.op),filters:n}}})(t):ur()}function EM(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function I3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,r,n,i,s=wr.min(),o=wr.min(),c=rs.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new pA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new pA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.ct=e}}function _M(t){const e=xM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?q2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.un=new BM}addToCollectionParentIndex(e,r){return this.un.add(r),vt.resolve()}getCollectionParents(e,r){return vt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return vt.resolve()}deleteFieldIndex(e,r){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,r){return vt.resolve()}getDocumentsMatchingTarget(e,r){return vt.resolve(null)}getIndexType(e,r){return vt.resolve(0)}getFieldIndexes(e,r){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,r){return vt.resolve(IA.min())}getMinOffsetFromCollectionGroup(e,r){return vt.resolve(IA.min())}updateCollectionGroup(e,r,n){return vt.resolve()}updateIndexEntries(e,r){return vt.resolve()}}class BM{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new $i(Dn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $i(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n0(0)}static kn(){return new n0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.changes=new f0((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ds.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?vt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Mf(n.mutation,i,ya.empty(),Si.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Or()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Or()){const i=uc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let o=mf();return s.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=uc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Or())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{r.set(o,c)}))}))}computeViews(e,r,n,i){let s=bl();const o=Uf(),c=(function(){return Uf()})();return r.forEach(((d,h)=>{const m=n.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof UA)?s=s.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),Mf(m.mutation,h,m.mutation.getFieldMask(),Si.now())):o.set(h.key,ya.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,m)=>o.set(h,m))),r.forEach(((h,m)=>{var C;return c.set(h,new SM(m,(C=o.get(h))!==null&&C!==void 0?C:null))})),c)))}recalculateAndSaveOverlays(e,r){const n=Uf();let i=new Gn(((o,c)=>o-c)),s=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let m=n.get(d)||ya.empty();m=c.applyToLocalView(h,m),n.set(d,m);const C=(i.get(c.batchId)||Or()).add(d);i=i.insert(c.batchId,C)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,C=u3();m.forEach((b=>{if(!s.has(b)){const S=m3(r.get(b),n.get(b));S!==null&&C.set(b,S),s=s.add(b)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,C))}return vt.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return ir.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):a3(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):vt.resolve(uc());let c=-1,d=s;return o.next((h=>vt.forEach(h,((m,C)=>(c<C.largestBatchId&&(c=C.largestBatchId),s.get(m)?vt.resolve():this.remoteDocumentCache.getEntry(e,m).next((b=>{d=d.insert(m,b)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,Or()))).next((m=>({batchId:c,changes:c3(m)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ir(r)).next((n=>{let i=mf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=mf();return this.indexManager.getCollectionParents(e,s).next((c=>vt.forEach(c,(d=>{const h=(function(C,b){return new bd(b,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(r,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((m=>{m.forEach(((C,b)=>{o=o.insert(C,b)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((o=>{s.forEach(((d,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,ds.newInvalidDocument(m)))}));let c=mf();return o.forEach(((d,h)=>{const m=s.get(d);m!==void 0&&Mf(m.mutation,h,ya.empty(),Si.now()),ap(r,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return vt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Fo(i.createTime)}})(r)),vt.resolve()}getNamedQuery(e,r){return vt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:_M(i.bundledQuery),readTime:Fo(i.readTime)}})(r)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.overlays=new Gn(ir.comparator),this.Ir=new Map}getOverlay(e,r){return vt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=uc();return vt.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.ht(e,r,s)})),vt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),vt.resolve()}getOverlaysForCollection(e,r,n){const i=uc(),s=r.length+1,o=new ir(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>n&&i.set(d.getKey(),d)}return vt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Gn(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let m=s.get(h.largestBatchId);m===null&&(m=uc(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=uc(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return vt.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new tM(r,n));let s=this.Ir.get(r);s===void 0&&(s=Or(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.sessionToken=rs.EMPTY_BYTE_STRING}getSessionToken(e){return vt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Tr=new $i(Ui.Er),this.dr=new $i(Ui.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ui(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Ui(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new ir(new Dn([])),n=new Ui(r,e),i=new Ui(r,e+1),s=[];return this.dr.forEachInRange([n,i],(o=>{this.Vr(o),s.push(o.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ir(new Dn([])),n=new Ui(r,e),i=new Ui(r,e+1);let s=Or();return this.dr.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const r=new Ui(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ui{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ir.comparator(e.key,r.key)||tn(e.wr,r.wr)}static Ar(e,r){return tn(e.wr,r.wr)||ir.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new $i(Ui.Er)}checkEmpty(e){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eM(s,r,n,i);this.mutationQueue.push(o);for(const c of i)this.br=this.br.add(new Ui(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return vt.resolve(o)}lookupMutationBatch(e,r){return vt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ui(r,0),i=new Ui(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(o=>{const c=this.Dr(o.wr);s.push(c)})),vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new $i(tn);return r.forEach((i=>{const s=new Ui(i,0),o=new Ui(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],(c=>{n=n.add(c.wr)}))})),vt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;ir.isDocumentKey(s)||(s=s.child(""));const o=new Ui(new ir(s),0);let c=new $i(tn);return this.br.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.wr)),!0)}),o),vt.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){dn(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return vt.forEach(r.mutations,(i=>{const s=new Ui(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Ui(r,0),i=this.br.firstAfterOrEqual(n);return vt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,vt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Mr=e,this.docs=(function(){return new Gn(ir.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return vt.resolve(n?n.document.mutableCopy():ds.newInvalidDocument(r))}getEntries(e,r){let n=bl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ds.newInvalidDocument(i))})),vt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=bl();const o=r.path,c=new ir(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||xU(mU(m),n)<=0||(i.has(m.key)||ap(r,m))&&(s=s.insert(m.key,m.mutableCopy()))}return vt.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ur()}Or(e,r){return vt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new MM(this)}getSize(e){return vt.resolve(this.size)}}class MM extends IM{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),vt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.persistence=e,this.Nr=new f0((r=>dv(r)),hv),this.lastRemoteSnapshotVersion=wr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wv,this.targetCount=0,this.kr=n0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),vt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new n0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,vt.resolve()}updateTargetData(e,r){return this.Kn(r),vt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach(((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),vt.waitFor(s).next((()=>i))}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return vt.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),vt.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),vt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),vt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return vt.resolve(n)}containsKey(e,r){return vt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Av(0),this.Kr=!1,this.Kr=!0,this.$r=new kM,this.referenceDelegate=e(this),this.Ur=new OM(this),this.indexManager=new TM,this.remoteDocumentCache=(function(i){return new UM(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new bM(r),this.Gr=new FM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RM,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new DM(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Wt("MemoryPersistence","Starting transaction:",e);const i=new PM(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,r){return vt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class PM extends vU{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Jr=new wv,this.Yr=null}static Zr(e){return new vv(e)}get Xr(){if(this.Yr)return this.Yr;throw ur()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),vt.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),vt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),vt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Xr,(n=>{const i=ir.fromPath(n);return this.ei(e,i).next((s=>{s||r.removeEntry(i,wr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return vt.or([()=>vt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Or(),i=Or();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return QD()?8:yU(vs())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.Zi(e,r,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new QM;return this.Xi(e,r,o).next((c=>{if(s.result=c,this.zi)return this.es(e,r,o,c.size)}))})).next((()=>s.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(af()<=Qr.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",Su(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),vt.resolve()):(af()<=Qr.DEBUG&&Wt("QueryEngine","Query:",Su(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(af()<=Qr.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",Su(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,No(r))):vt.resolve())}Yi(e,r){if(R_(r))return vt.resolve(null);let n=No(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=q2(r,null,"F"),n=No(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Or(...s);return this.Ji.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.ts(r,c);return this.ns(r,h,o,d.readTime)?this.Yi(e,q2(r,null,"F")):this.rs(e,h,r,d)}))))})))))}Zi(e,r,n,i){return R_(r)||i.isEqual(wr.min())?vt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const o=this.ts(r,s);return this.ns(r,o,n,i)?vt.resolve(null):(af()<=Qr.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Su(r)),this.rs(e,o,r,pU(i,-1)).next((c=>c)))}))}ts(e,r){let n=new $i(l3(e));return r.forEach(((i,s)=>{ap(e,s)&&(n=n.add(s))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return af()<=Qr.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",Su(r)),this.Ji.getDocumentsMatchingQuery(e,r,IA.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Gn(tn),this._s=new f0((s=>dv(s)),hv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function jM(t,e,r,n){return new VM(t,e,r,n)}async function S3(t,e){const r=yr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],c=[];let d=Or();for(const h of i){o.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return r.localDocuments.getDocuments(n,d).next((h=>({hs:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function GM(t,e){const r=yr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const C=h.batch,b=C.keys();let S=vt.resolve();return b.forEach((R=>{S=S.next((()=>m.getEntry(d,R))).next((k=>{const U=h.docVersions.get(R);dn(U!==null),k.version.compareTo(U)<0&&(C.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),m.addEntry(k)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(d,C)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let d=Or();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function N3(t){const e=yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function KM(t,e){const r=yr(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach(((m,C)=>{const b=i.get(C);if(!b)return;c.push(r.Ur.removeMatchingKeys(s,m.removedDocuments,C).next((()=>r.Ur.addMatchingKeys(s,m.addedDocuments,C))));let S=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(C)!==null?S=S.withResumeToken(rs.EMPTY_BYTE_STRING,wr.min()).withLastLimboFreeSnapshotVersion(wr.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,n)),i=i.insert(C,S),(function(k,U,V){return k.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(b,S,m)&&c.push(r.Ur.updateTargetData(s,S))}));let d=bl(),h=Or();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(zM(s,o,e.documentUpdates).next((m=>{d=m.Ps,h=m.Is}))),!n.isEqual(wr.min())){const m=r.Ur.getLastRemoteSnapshotVersion(s).next((C=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(m)}return vt.waitFor(c).next((()=>o.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(r.os=i,s)))}function zM(t,e,r){let n=Or(),i=Or();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let o=bl();return r.forEach(((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(wr.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Wt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{Ps:o,Is:i}}))}function WM(t,e){const r=yr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function qM(t,e){const r=yr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((s=>s?(i=s,vt.resolve(i)):r.Ur.allocateTargetId(n).next((o=>(i=new pA(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function $2(t,e,r){const n=yr(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ed(o))throw o;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function j_(t,e,r){const n=yr(t);let i=wr.min(),s=Or();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,m){const C=yr(d),b=C._s.get(m);return b!==void 0?vt.resolve(C.os.get(b)):C.Ur.getTargetData(h,m)})(n,o,No(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,c.targetId).next((d=>{s=d}))})).next((()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:wr.min(),r?s:Or()))).next((c=>(XM(n,PU(e),c),{documents:c,Ts:s})))))}function XM(t,e,r){let n=t.us.get(e)||wr.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}class G_{constructor(){this.activeTargetIds=KU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YM{constructor(){this.so=new G_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new G_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function Gx(){return Zh===null?Zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="WebChannelConnection";class eO extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,o){const c=Gx(),d=this.xo(r,n.toUriEncodedString());Wt("RestConnection",`Sending RPC '${r}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(r,d,h,i).then((m=>(Wt("RestConnection",`Received RPC '${r}' ${c}: `,m),m)),(m=>{throw $u("RestConnection",`RPC '${r}' ${c} failed with error: `,m,"url: ",d,"request:",i),m}))}Lo(r,n,i,s,o,c){return this.Mo(r,n,i,s,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+u0})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>r[o]=s)),i&&i.headers.forEach(((s,o)=>r[o]=s))}xo(r,n){const i=ZM[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Gx();return new Promise(((o,c)=>{const d=new GS;d.setWithCredentials(!0),d.listenOnce(KS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Kg.NO_ERROR:const m=d.getResponseJson();Wt(os,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Kg.TIMEOUT:Wt(os,`RPC '${e}' ${s} timed out`),c(new jt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:const C=d.getStatus();if(Wt(os,`RPC '${e}' ${s} failed with status:`,C,"response text:",d.getResponseText()),C>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const R=(function(U){const V=U.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(V)>=0?V:gt.UNKNOWN})(S.status);c(new jt(R,S.message))}else c(new jt(gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new jt(gt.UNAVAILABLE,"Connection failed."));break;default:ur()}}finally{Wt(os,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Wt(os,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",h,n,15)}))}Bo(e,r,n){const i=Gx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qS(),c=WS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const m=s.join("");Wt(os,`Creating RPC '${e}' stream ${i}: ${m}`,d);const C=o.createWebChannel(m,d);let b=!1,S=!1;const R=new $M({Io:U=>{S?Wt(os,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(b||(Wt(os,`Opening RPC '${e}' stream ${i} transport.`),C.open(),b=!0),Wt(os,`RPC '${e}' stream ${i} sending:`,U),C.send(U))},To:()=>C.close()}),k=(U,V,G)=>{U.listen(V,(Q=>{try{G(Q)}catch(J){setTimeout((()=>{throw J}),0)}}))};return k(C,pf.EventType.OPEN,(()=>{S||(Wt(os,`RPC '${e}' stream ${i} transport opened.`),R.yo())})),k(C,pf.EventType.CLOSE,(()=>{S||(S=!0,Wt(os,`RPC '${e}' stream ${i} transport closed`),R.So())})),k(C,pf.EventType.ERROR,(U=>{S||(S=!0,$u(os,`RPC '${e}' stream ${i} transport errored:`,U),R.So(new jt(gt.UNAVAILABLE,"The operation could not be completed")))})),k(C,pf.EventType.MESSAGE,(U=>{var V;if(!S){const G=U.data[0];dn(!!G);const Q=G,J=Q.error||((V=Q[0])===null||V===void 0?void 0:V.error);if(J){Wt(os,`RPC '${e}' stream ${i} received error:`,J);const Z=J.status;let K=(function(O){const re=xi[O];if(re!==void 0)return w3(re)})(Z),M=J.message;K===void 0&&(K=gt.INTERNAL,M="Unknown error status: "+Z+" with message "+J.message),S=!0,R.So(new jt(K,M)),C.close()}else Wt(os,`RPC '${e}' stream ${i} received:`,G),R.bo(G)}})),k(c,zS.STAT_EVENT,(U=>{U.stat===V2.PROXY?Wt(os,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===V2.NOPROXY&&Wt(os,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.wo()}),0),R}}function Kx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return new cM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Wt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,r,n,i,s,o,c,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new F3(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(El(r.toString()),El("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new jt(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tO extends R3{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=dM(this.serializer,e),n=(function(s){if(!("targetChange"in s))return wr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?wr.min():o.readTime?Fo(o.readTime):wr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Z2(this.serializer),r.addTarget=(function(s,o){let c;const d=o.target;if(c=z2(d)?{documents:pM(s,d)}:{query:mM(s,d)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=C3(s,o.resumeToken);const h=X2(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(wr.min())>0){c.readTime=d1(s,o.snapshotVersion.toTimestamp());const h=X2(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=wM(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Z2(this.serializer),r.removeTarget=e,this.a_(r)}}class rO extends R3{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return dn(!!e.streamToken),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=gM(e.writeResults,e.commitTime),n=Fo(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Z2(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>hM(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Mo(e,Y2(r,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new jt(gt.UNKNOWN,s.toString())}))}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Lo(e,Y2(r,n),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new jt(gt.UNKNOWN,o.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class iO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(El(r),this.D_=!1):Wt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((o=>{n.enqueueAndForget((async()=>{Dc(this)&&(Wt("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const h=yr(d);h.L_.add(4),await Bd(h),h.q_.set("Unknown"),h.L_.delete(4),await fp(h)})(this))}))})),this.q_=new iO(n,i)}}async function fp(t){if(Dc(t))for(const e of t.B_)await e(!0)}async function Bd(t){for(const e of t.B_)await e(!1)}function k3(t,e){const r=yr(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),_v(r)?bv(r):d0(r).r_()&&Ev(r,e))}function Cv(t,e){const r=yr(t),n=d0(r);r.N_.delete(e),n.r_()&&D3(r,e),r.N_.size===0&&(n.r_()?n.o_():Dc(r)&&r.q_.set("Unknown"))}function Ev(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}d0(t).A_(e)}function D3(t,e){t.Q_.xe(e),d0(t).R_(e)}function bv(t){t.Q_=new aM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),d0(t).start(),t.q_.v_()}function _v(t){return Dc(t)&&!d0(t).n_()&&t.N_.size>0}function Dc(t){return yr(t).L_.size===0}function U3(t){t.Q_=void 0}async function aO(t){t.q_.set("Online")}async function oO(t){t.N_.forEach(((e,r)=>{Ev(t,e)}))}async function lO(t,e){U3(t),_v(t)?(t.q_.M_(e),bv(t)):t.q_.set("Unknown")}async function AO(t,e,r){if(t.q_.set("Online"),e instanceof y3&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(n){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await h1(t,n)}else if(e instanceof qg?t.Q_.Ke(e):e instanceof v3?t.Q_.He(e):t.Q_.We(e),!r.isEqual(wr.min()))try{const n=await N3(t.localStore);r.compareTo(n)>=0&&await(function(s,o){const c=s.Q_.rt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.N_.get(h);m&&s.N_.set(h,m.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const m=s.N_.get(d);if(!m)return;s.N_.set(d,m.withResumeToken(rs.EMPTY_BYTE_STRING,m.snapshotVersion)),D3(s,d);const C=new pA(m.target,d,h,m.sequenceNumber);Ev(s,C)})),s.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Wt("RemoteStore","Failed to raise snapshot:",n),await h1(t,n)}}async function h1(t,e,r){if(!Ed(e))throw e;t.L_.add(1),await Bd(t),t.q_.set("Offline"),r||(r=()=>N3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Wt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await fp(t)}))}function M3(t,e){return e().catch((r=>h1(t,r,e)))}async function dp(t){const e=yr(t),r=NA(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cO(e);)try{const i=await WM(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,uO(e,i)}catch(i){await h1(e,i)}O3(e)&&L3(e)}function cO(t){return Dc(t)&&t.O_.length<10}function uO(t,e){t.O_.push(e);const r=NA(t);r.r_()&&r.V_&&r.m_(e.mutations)}function O3(t){return Dc(t)&&!NA(t).n_()&&t.O_.length>0}function L3(t){NA(t).start()}async function fO(t){NA(t).p_()}async function dO(t){const e=NA(t);for(const r of t.O_)e.m_(r.mutations)}async function hO(t,e,r){const n=t.O_.shift(),i=pv.from(n,e,r);await M3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dp(t)}async function gO(t,e){e&&NA(t).V_&&await(async function(n,i){if((function(o){return nM(o)&&o!==gt.ABORTED})(i.code)){const s=n.O_.shift();NA(n).s_(),await M3(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await dp(n)}})(t,e),O3(t)&&L3(t)}async function z_(t,e){const r=yr(t);r.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const n=Dc(r);r.L_.add(3),await Bd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await fp(r)}async function pO(t,e){const r=yr(t);e?(r.L_.delete(2),await fp(r)):e||(r.L_.add(2),await Bd(r),r.q_.set("Unknown"))}function d0(t){return t.K_||(t.K_=(function(r,n,i){const s=yr(r);return s.w_(),new tO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:aO.bind(null,t),Ro:oO.bind(null,t),mo:lO.bind(null,t),d_:AO.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),_v(t)?bv(t):t.q_.set("Unknown")):(await t.K_.stop(),U3(t))}))),t.K_}function NA(t){return t.U_||(t.U_=(function(r,n,i){const s=yr(r);return s.w_(),new rO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fO.bind(null,t),mo:gO.bind(null,t),f_:dO.bind(null,t),g_:hO.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await dp(t)):(await t.U_.stop(),t.O_.length>0&&(Wt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,c=new Tv(e,r,o,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(t,e){if(El("AsyncQueue",`${e}: ${t}`),Ed(t))return new jt(gt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ir.comparator(r.key,n.key):(r,n)=>ir.comparator(r.key,n.key),this.keyedMap=mf(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new ju(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ju;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.W_=new Gn(ir.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ur():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class i0{constructor(e,r,n,i,s,o,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach((c=>{o.push({type:0,doc:c})})),new i0(e,r,ju.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class xO{constructor(){this.queries=q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=yr(r),s=i.queries;i.queries=q_(),s.forEach(((o,c)=>{for(const d of c.j_)d.onError(n)}))})(this,new jt(gt.ABORTED,"Firestore shutting down"))}}function q_(){return new f0((t=>o3(t)),sp)}async function Iv(t,e){const r=yr(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new mO,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const c=Bv(o,`Initialization of query '${Su(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Nv(r)}async function Sv(t,e){const r=yr(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function wO(t,e){const r=yr(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const c of o.j_)c.X_(i)&&(n=!0);o.z_=i}}n&&Nv(r)}function vO(t,e,r){const n=yr(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Nv(t){t.Y_.forEach((e=>{e.next()}))}var ew,X_;(X_=ew||(ew={})).ea="default",X_.Cache="cache";class Fv{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new i0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=i0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.key=e}}class Q3{constructor(e){this.key=e}}class yO{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Or(),this.mutatedKeys=Or(),this.Aa=l3(e),this.Ra=new ju(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new W_,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,C)=>{const b=i.get(m),S=ap(this.query,C)?C:null,R=!!b&&this.mutatedKeys.has(b.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let U=!1;b&&S?b.data.isEqual(S.data)?R!==k&&(n.track({type:3,doc:S}),U=!0):this.ga(b,S)||(n.track({type:2,doc:S}),U=!0,(d&&this.Aa(S,d)>0||h&&this.Aa(S,h)<0)&&(c=!0)):!b&&S?(n.track({type:0,doc:S}),U=!0):b&&!S&&(n.track({type:1,doc:b}),U=!0,(d||h)&&(c=!0)),U&&(S?(o=o.add(S),s=k?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),n.track({type:1,doc:m})}return{Ra:o,fa:n,ns:c,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((m,C)=>(function(S,R){const k=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur()}};return k(S)-k(R)})(m.type,C.type)||this.Aa(m.doc,C.doc))),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,h=d!==this.Ea;return this.Ea=d,o.length!==0||h?{snapshot:new i0(this.query,e.Ra,s,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Or(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new Q3(n))})),this.da.forEach((n=>{e.has(n)||r.push(new P3(n))})),r}ba(e){this.Ta=e.Ts,this.da=Or();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return i0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class CO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class EO{constructor(e){this.key=e,this.va=!1}}class bO{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new f0((c=>o3(c)),sp),this.Ma=new Map,this.xa=new Set,this.Oa=new Gn(ir.comparator),this.Na=new Map,this.La=new wv,this.Ba={},this.ka=new Map,this.qa=n0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function _O(t,e,r=!0){const n=z3(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await H3(n,e,r,!0),i}async function TO(t,e){const r=z3(t);await H3(r,e,!0,!1)}async function H3(t,e,r,n){const i=await qM(t.localStore,No(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await BO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&k3(t.remoteStore,i),c}async function BO(t,e,r,n,i){t.Ka=(C,b,S)=>(async function(k,U,V,G){let Q=U.view.ma(V);Q.ns&&(Q=await j_(k.localStore,U.query,!1).then((({documents:M})=>U.view.ma(M,Q))));const J=G&&G.targetChanges.get(U.targetId),Z=G&&G.targetMismatches.get(U.targetId)!=null,K=U.view.applyChanges(Q,k.isPrimaryClient,J,Z);return J_(k,U.targetId,K.wa),K.snapshot})(t,C,b,S);const s=await j_(t.localStore,e,!0),o=new yO(e,s.Ts),c=o.ma(s.documents),d=Td.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);J_(t,r,h.wa);const m=new CO(e,r,o);return t.Fa.set(e,m),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function IO(t,e,r){const n=yr(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((o=>!sp(o,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await $2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Cv(n.remoteStore,i.targetId),tw(n,i.targetId)})).catch(Cd)):(tw(n,i.targetId),await $2(n.localStore,i.targetId,!0))}async function SO(t,e){const r=yr(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Cv(r.remoteStore,n.targetId))}async function NO(t,e,r){const n=OO(t);try{const i=await(function(o,c){const d=yr(o),h=Si.now(),m=c.reduce(((S,R)=>S.add(R.key)),Or());let C,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=bl(),k=Or();return d.cs.getEntries(S,m).next((U=>{R=U,R.forEach(((V,G)=>{G.isValidDocument()||(k=k.add(V))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((U=>{C=U;const V=[];for(const G of c){const Q=ZU(G,C.get(G.key).overlayedDocument);Q!=null&&V.push(new UA(G.key,Q,$S(Q.value.mapValue),ta.exists(!0)))}return d.mutationQueue.addMutationBatch(S,h,V,c)})).next((U=>{b=U;const V=U.applyToLocalDocumentSet(C,k);return d.documentOverlayCache.saveOverlays(S,U.batchId,V)}))})).then((()=>({batchId:b.batchId,changes:c3(C)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Ba[o.currentUser.toKey()];h||(h=new Gn(tn)),h=h.insert(c,d),o.Ba[o.currentUser.toKey()]=h})(n,i.batchId,r),await Id(n,i.changes),await dp(n.remoteStore)}catch(i){const s=Bv(i,"Failed to persist write");r.reject(s)}}async function V3(t,e){const r=yr(t);try{const n=await KM(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=r.Na.get(s);o&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?dn(o.va):i.removedDocuments.size>0&&(dn(o.va),o.va=!1))})),await Id(r,n,e)}catch(n){await Cd(n)}}function Y_(t,e,r){const n=yr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((s,o)=>{const c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=yr(o);d.onlineState=c;let h=!1;d.queries.forEach(((m,C)=>{for(const b of C.j_)b.Z_(c)&&(h=!0)})),h&&Nv(d)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FO(t,e,r){const n=yr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let o=new Gn(ir.comparator);o=o.insert(s,ds.newNoDocument(s,wr.min()));const c=Or().add(s),d=new cp(wr.min(),new Map,new Gn(tn),o,c);await V3(n,d),n.Oa=n.Oa.remove(s),n.Na.delete(e),Rv(n)}else await $2(n.localStore,e,!1).then((()=>tw(n,e,r))).catch(Cd)}async function RO(t,e){const r=yr(t),n=e.batch.batchId;try{const i=await GM(r.localStore,e);G3(r,n,null),j3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Id(r,i)}catch(i){await Cd(i)}}async function kO(t,e,r){const n=yr(t);try{const i=await(function(o,c){const d=yr(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((C=>(dn(C!==null),m=C.keys(),d.mutationQueue.removeMutationBatch(h,C)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(n.localStore,e);G3(n,e,r),j3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Id(n,i)}catch(i){await Cd(i)}}function j3(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function G3(t,e,r){const n=yr(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function tw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||K3(t,n)}))}function K3(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Cv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Rv(t))}function J_(t,e,r){for(const n of r)n instanceof P3?(t.La.addReference(n.key,e),DO(t,n)):n instanceof Q3?(Wt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||K3(t,n.key)):ur()}function DO(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Wt("SyncEngine","New document in limbo: "+r),t.xa.add(n),Rv(t))}function Rv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ir(Dn.fromString(e)),n=t.qa.next();t.Na.set(n,new EO(r)),t.Oa=t.Oa.insert(r,n),k3(t.remoteStore,new pA(No(ip(r.path)),n,"TargetPurposeLimboResolution",Av.oe))}}async function Id(t,e,r){const n=yr(t),i=[],s=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach(((c,d)=>{o.push(n.Ka(d,e,r).then((h=>{var m;if((h||r)&&n.isPrimaryClient){const C=h?!h.fromCache:(m=r==null?void 0:r.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,C?"current":"not-current")}if(h){i.push(h);const C=yv.Wi(d.targetId,h);s.push(C)}})))})),await Promise.all(o),n.Ca.d_(i),await(async function(d,h){const m=yr(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>vt.forEach(h,(b=>vt.forEach(b.$i,(S=>m.persistence.referenceDelegate.addReference(C,b.targetId,S))).next((()=>vt.forEach(b.Ui,(S=>m.persistence.referenceDelegate.removeReference(C,b.targetId,S)))))))))}catch(C){if(!Ed(C))throw C;Wt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of h){const b=C.targetId;if(!C.fromCache){const S=m.os.get(b),R=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(R);m.os=m.os.insert(b,k)}}})(n.localStore,s))}async function UO(t,e){const r=yr(t);if(!r.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const n=await S3(r.localStore,e);r.currentUser=e,(function(s,o){s.ka.forEach((c=>{c.forEach((d=>{d.reject(new jt(gt.CANCELLED,o))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Id(r,n.hs)}}function MO(t,e){const r=yr(t),n=r.Na.get(e);if(n&&n.va)return Or().add(n.key);{let i=Or();const s=r.Ma.get(e);if(!s)return i;for(const o of s){const c=r.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function z3(t){const e=yr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FO.bind(null,e),e.Ca.d_=wO.bind(null,e.eventManager),e.Ca.$a=vO.bind(null,e.eventManager),e}function OO(t){const e=yr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kO.bind(null,e),e}class g1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=up(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return jM(this.persistence,new HM,e.initialUser,this.serializer)}Ga(e){return new LM(vv.Zr,this.serializer)}Wa(e){return new YM}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}g1.provider={build:()=>new g1};class rw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Y_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xO})()}createDatastore(e){const r=up(e.databaseInfo.databaseId),n=(function(s){return new eO(s)})(e.databaseInfo);return(function(s,o,c,d){return new nO(s,o,c,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,o,c){return new sO(n,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>Y_(this.syncEngine,r,0)),(function(){return K_.D()?new K_:new JM})())}createSyncEngine(e,r){return(function(i,s,o,c,d,h,m){const C=new bO(i,s,o,c,d,h);return m&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=yr(i);Wt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Bd(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}rw.provider={build:()=>new rw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):El("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=cs.UNAUTHENTICATED,this.clientId=YS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Wt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Wt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Bv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function zx(t,e){t.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await S3(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Z_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await PO(t);Wt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>z_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>z_(e.remoteStore,i))),t._onlineComponents=e}async function PO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Wt("FirestoreClient","Using user provided OfflineComponentProvider");try{await zx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===gt.FAILED_PRECONDITION||i.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;$u("Error using user provided cache. Falling back to memory cache: "+r),await zx(t,new g1)}}else Wt("FirestoreClient","Using default OfflineComponentProvider"),await zx(t,new g1);return t._offlineComponents}async function W3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Wt("FirestoreClient","Using user provided OnlineComponentProvider"),await Z_(t,t._uninitializedComponentsProvider._online)):(Wt("FirestoreClient","Using default OnlineComponentProvider"),await Z_(t,new rw))),t._onlineComponents}function QO(t){return W3(t).then((e=>e.syncEngine))}async function p1(t){const e=await W3(t),r=e.eventManager;return r.onListen=_O.bind(null,e.syncEngine),r.onUnlisten=IO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),r}function HO(t,e,r={}){const n=new ml;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,d,h){const m=new kv({next:b=>{m.Za(),o.enqueueAndForget((()=>Sv(s,C)));const S=b.docs.has(c);!S&&b.fromCache?h.reject(new jt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?h.reject(new jt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),C=new Fv(ip(c.path),m,{includeMetadataChanges:!0,_a:!0});return Iv(s,C)})(await p1(t),t.asyncQueue,e,r,n))),n.promise}function VO(t,e,r={}){const n=new ml;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,d,h){const m=new kv({next:b=>{m.Za(),o.enqueueAndForget((()=>Sv(s,C))),b.fromCache&&d.source==="server"?h.reject(new jt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),C=new Fv(c,m,{includeMetadataChanges:!0,_a:!0});return Iv(s,C)})(await p1(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e,r){if(!r)throw new jt(gt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jO(t,e,r,n){if(e===!0&&n===!0)throw new jt(gt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function eT(t){if(!ir.isDocumentKey(t))throw new jt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(ir.isDocumentKey(t))throw new jt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ur()}function ra(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hp(t);throw new jt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new jt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new jt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new jt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new jt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rT(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new oU;switch(n.type){case"firstParty":return new uU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new jt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=$_.get(r);n&&(Wt("ComponentProvider","Removing Datastore"),$_.delete(r),n.terminate())})(this),Promise.resolve()}}function GO(t,e,r,n={}){var i;const s=(t=ra(t,gp))._getSettings(),o=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=cs.MOCK_USER;else{c=DD(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new jt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new cs(h)}t._authCredentials=new lU(new XS(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class xs{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xs(this.firestore,e,this._key)}}class bA extends Uc{constructor(e,r,n){super(e,r,ip(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xs(this.firestore,null,new ir(e))}withConverter(e){return new bA(this.firestore,e,this._path)}}function Js(t,e,...r){if(t=Un(t),X3("collection","path",e),t instanceof gp){const n=Dn.fromString(e,...r);return tT(n),new bA(t,null,n)}{if(!(t instanceof xs||t instanceof bA))throw new jt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return tT(n),new bA(t.firestore,null,n)}}function Xt(t,e,...r){if(t=Un(t),arguments.length===1&&(e=YS.newId()),X3("doc","path",e),t instanceof gp){const n=Dn.fromString(e,...r);return eT(n),new xs(t,null,new ir(n))}{if(!(t instanceof xs||t instanceof bA))throw new jt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return eT(n),new xs(t.firestore,t instanceof bA?t.converter:null,new ir(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new F3(this,"async_queue_retry"),this.Vu=()=>{const n=Kx();n&&Wt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Kx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Kx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new ml;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ed(e))throw e;Wt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c})(n);throw El("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Tv.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&ur()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function iT(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class _l extends gp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new nT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function KO(t,e){const r=typeof t=="object"?t:ov(),n=typeof t=="string"?t:"(default)",i=Rc(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=RD("firestore");s&&GO(i,...s)}return i}function Sd(t){if(t._terminated)throw new jt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zO(t),t._firestoreClient}function zO(t){var e,r,n;const i=t._freezeSettings(),s=(function(c,d,h,m){return new bU(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,q3(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new LO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new s0(rs.fromBase64String(e))}catch(r){throw new jt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new s0(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new jt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new jt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new jt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=/^__.*__$/;class qO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new UA(e,this.data,this.fieldMask,r,this.fieldTransforms):new _d(e,this.data,r,this.fieldTransforms)}}class Y3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new UA(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function J3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur()}}class Ov{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return m1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(J3(this.Cu)&&WO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||up(e)}Qu(e,r,n,i=!1){return new Ov({Cu:e,methodName:r,qu:n,path:Ji.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(t){const e=t._freezeSettings(),r=up(t._databaseId);return new XO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Z3(t,e,r,n,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);Lv("Data must be an object, but it was:",o,n);const c=tN(n,o);let d,h;if(s.merge)d=new ya(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const C of s.mergeFields){const b=nw(e,C,r);if(!o.contains(b))throw new jt(gt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nN(m,b)||m.push(b)}d=new ya(m),h=o.fieldTransforms.filter((C=>d.covers(C.field)))}else d=null,h=o.fieldTransforms;return new qO(new ea(c),d,h)}class mp extends Dv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function $3(t,e,r,n){const i=t.Qu(1,e,r);Lv("Data must be an object, but it was:",i,n);const s=[],o=ea.empty();kc(n,((d,h)=>{const m=Pv(e,d,r);h=Un(h);const C=i.Nu(m);if(h instanceof mp)s.push(m);else{const b=Fd(h,C);b!=null&&(s.push(m),o.set(m,b))}}));const c=new ya(s);return new Y3(o,c,i.fieldTransforms)}function eN(t,e,r,n,i,s){const o=t.Qu(1,e,r),c=[nw(e,n,r)],d=[i];if(s.length%2!=0)throw new jt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)c.push(nw(e,s[b])),d.push(s[b+1]);const h=[],m=ea.empty();for(let b=c.length-1;b>=0;--b)if(!nN(h,c[b])){const S=c[b];let R=d[b];R=Un(R);const k=o.Nu(S);if(R instanceof mp)h.push(S);else{const U=Fd(R,k);U!=null&&(h.push(S),m.set(S,U))}}const C=new ya(h);return new Y3(m,C,o.fieldTransforms)}function YO(t,e,r,n=!1){return Fd(r,t.Qu(n?4:3,e))}function Fd(t,e){if(rN(t=Un(t)))return Lv("Unsupported field value:",e,t),tN(t,e);if(t instanceof Dv)return(function(n,i){if(!J3(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let o=0;for(const c of n){let d=Fd(c,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Si.fromDate(n);return{timestampValue:d1(i.serializer,s)}}if(n instanceof Si){const s=new Si(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:d1(i.serializer,s)}}if(n instanceof Uv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof s0)return{bytesValue:C3(i.serializer,n._byteString)};if(n instanceof xs){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Mv)return(function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return gv(c.serializer,d)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${hp(n)}`)})(t,e)}function tN(t,e){const r={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(t,((n,i)=>{const s=Fd(i,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function rN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Si||t instanceof Uv||t instanceof s0||t instanceof xs||t instanceof Dv||t instanceof Mv)}function Lv(t,e,r){if(!rN(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=hp(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function nw(t,e,r){if((e=Un(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return Pv(t,e);throw m1("Field path arguments must be of type string or ",t,!1,void 0,r)}const JO=new RegExp("[~\\*/\\[\\]]");function Pv(t,e,r){if(e.search(JO)>=0)throw m1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Nd(...e.split("."))._internalPath}catch{throw m1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function m1(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new jt(gt.INVALID_ARGUMENT,c+t+d)}function nN(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Qv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ZO extends iN{data(){return super.data()}}function Qv(t,e){return typeof e=="string"?Pv(t,e):e instanceof Nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new jt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class $O extends Hv{}function Wx(t,e,...r){let n=[];e instanceof Hv&&n.push(e),n=n.concat(r),(function(s){const o=s.filter((d=>d instanceof Vv)).length,c=s.filter((d=>d instanceof xp)).length;if(o>1||o>0&&c>0)throw new jt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class xp extends $O{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new xp(e,r,n)}_apply(e){const r=this._parse(e);return aN(e._query,r),new Uc(e.firestore,e.converter,W2(e._query,r))}_parse(e){const r=pp(e.firestore);return(function(s,o,c,d,h,m,C){let b;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new jt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){aT(C,m);const S=[];for(const R of C)S.push(sT(d,s,R));b={arrayValue:{values:S}}}else b=sT(d,s,C)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||aT(C,m),b=YO(c,o,C,m==="in"||m==="not-in");return Ci.create(h,m,b)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function qx(t,e,r){const n=e,i=Qv("where",t);return xp._create(i,n,r)}class Vv extends Hv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Vv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:fo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let o=i;const c=s.getFlattenedFilters();for(const d of c)aN(o,d),o=W2(o,d)})(e._query,r),new Uc(e.firestore,e.converter,W2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sT(t,e,r){if(typeof(r=Un(r))=="string"){if(r==="")throw new jt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a3(e)&&r.indexOf("/")!==-1)throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dn.fromString(r));if(!ir.isDocumentKey(n))throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return T_(t,new ir(n))}if(r instanceof xs)return T_(t,r._key);throw new jt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(r)}.`)}function aT(t,e){if(!Array.isArray(t)||t.length===0)throw new jt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aN(t,e){const r=(function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new jt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new jt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class eL{convertValue(e,r="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ur()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return kc(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((o=>fi(o.doubleValue)));return new Mv(s)}convertGeoPoint(e){return new Uv(fi(e.latitude),fi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=uv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const r=SA(e);return new Si(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dn.fromString(e);dn(I3(n));const i=new nd(n.get(1),n.get(3)),s=new ir(n.popFirst(5));return i.isEqual(r)||El(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lN extends iN{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Xg extends lN{data(e={}){return super.data(e)}}class AN{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new wf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Xg(this._firestore,this._userDataWriter,n.key,n,new wf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new jt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new Xg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new Xg(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:tL(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function tL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ur()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){t=ra(t,xs);const e=ra(t.firestore,_l);return HO(Sd(e),t._key).then((r=>cN(e,t,r)))}class jv extends eL{constructor(e){super(),this.firestore=e}convertBytes(e){return new s0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new xs(this.firestore,null,r)}}function Xx(t){t=ra(t,Uc);const e=ra(t.firestore,_l),r=Sd(e),n=new jv(e);return sN(t._query),VO(r,t._query).then((i=>new AN(e,n,t,i)))}function Sr(t,e,r){t=ra(t,xs);const n=ra(t.firestore,_l),i=oN(t.converter,e,r);return wp(n,[Z3(pp(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ta.none())])}function Ru(t,e,r,...n){t=ra(t,xs);const i=ra(t.firestore,_l),s=pp(i);let o;return o=typeof(e=Un(e))=="string"||e instanceof Nd?eN(s,"updateDoc",t._key,e,r,n):$3(s,"updateDoc",t._key,e),wp(i,[o.toMutation(t._key,ta.exists(!0))])}function pa(t){return wp(ra(t.firestore,_l),[new Ap(t._key,ta.none())])}function ha(t,...e){var r,n,i;t=Un(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||iT(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(iT(e[o])){const C=e[o];e[o]=(r=C.next)===null||r===void 0?void 0:r.bind(C),e[o+1]=(n=C.error)===null||n===void 0?void 0:n.bind(C),e[o+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let d,h,m;if(t instanceof xs)h=ra(t.firestore,_l),m=ip(t._key.path),d={next:C=>{e[o]&&e[o](cN(h,t,C))},error:e[o+1],complete:e[o+2]};else{const C=ra(t,Uc);h=ra(C.firestore,_l),m=C._query;const b=new jv(h);d={next:S=>{e[o]&&e[o](new AN(h,b,C,S))},error:e[o+1],complete:e[o+2]},sN(t._query)}return(function(b,S,R,k){const U=new kv(k),V=new Fv(S,U,R);return b.asyncQueue.enqueueAndForget((async()=>Iv(await p1(b),V))),()=>{U.Za(),b.asyncQueue.enqueueAndForget((async()=>Sv(await p1(b),V)))}})(Sd(h),m,c,d)}function wp(t,e){return(function(n,i){const s=new ml;return n.asyncQueue.enqueueAndForget((async()=>NO(await QO(n),i,s))),s.promise})(Sd(t),e)}function cN(t,e,r){const n=r.docs.get(e._key),i=new jv(t);return new lN(t,i,e._key,n,new wf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=pp(e)}set(e,r,n){this._verifyNotCommitted();const i=Yx(e,this._firestore),s=oN(i.converter,r,n),o=Z3(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,ta.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=Yx(e,this._firestore);let o;return o=typeof(r=Un(r))=="string"||r instanceof Nd?eN(this._dataReader,"WriteBatch.update",s._key,r,n,i):$3(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(o.toMutation(s._key,ta.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Yx(e,this._firestore);return this._mutations=this._mutations.concat(new Ap(r._key,ta.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yx(t,e){if((t=Un(t)).firestore!==e)throw new jt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){return Sd(t=ra(t,_l)),new nL(t,(e=>wp(t,e)))}(function(e,r=!0){(function(i){u0=i})(c0),Do(new uo("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new _l(new AU(n.getProvider("auth-internal")),new dU(n.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new jt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(h.options.projectId,m)})(o,i),o);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Ga(y_,"4.7.3",e),Ga(y_,"4.7.3","esm2017")})();const uN="@firebase/installations",Gv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=1e4,dN=`w:${Gv}`,hN="FIS_v2",iL="https://firebaseinstallations.googleapis.com/v1",sL=3600*1e3,aL="installations",oL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bc=new Fc(aL,oL,lL);function gN(t){return t instanceof go&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN({projectId:t}){return`${iL}/projects/${t}/installations`}function mN(t){return{token:t.token,requestStatus:2,expiresIn:cL(t.expiresIn),creationTime:Date.now()}}async function xN(t,e){const n=(await e.json()).error;return bc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function wN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AL(t,{refreshToken:e}){const r=wN(t);return r.append("Authorization",uL(e)),r}async function vN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cL(t){return Number(t.replace("s","000"))}function uL(t){return`${hN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=pN(t),i=wN(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:r,authVersion:hN,appId:t.appId,sdkVersion:dN},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await vN(()=>fetch(n,c));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:mN(h.authToken)}}else throw await xN("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=/^[cdef][\w-]{21}$/,iw="";function gL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=pL(t);return hL.test(r)?r:iw}catch{return iw}}function pL(t){return dL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Map;function EN(t,e){const r=vp(t);bN(r,e),mL(r,e)}function bN(t,e){const r=CN.get(t);if(r)for(const n of r)n(e)}function mL(t,e){const r=xL();r&&r.postMessage({key:t,fid:e}),wL()}let fc=null;function xL(){return!fc&&"BroadcastChannel"in self&&(fc=new BroadcastChannel("[Firebase] FID Change"),fc.onmessage=t=>{bN(t.data.key,t.data.fid)}),fc}function wL(){CN.size===0&&fc&&(fc.close(),fc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebase-installations-database",yL=1,_c="firebase-installations-store";let Zx=null;function Kv(){return Zx||(Zx=PS(vL,yL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_c)}}})),Zx}async function x1(t,e){const r=vp(t),i=(await Kv()).transaction(_c,"readwrite"),s=i.objectStore(_c),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&EN(t,e.fid),e}async function _N(t){const e=vp(t),n=(await Kv()).transaction(_c,"readwrite");await n.objectStore(_c).delete(e),await n.done}async function yp(t,e){const r=vp(t),i=(await Kv()).transaction(_c,"readwrite"),s=i.objectStore(_c),o=await s.get(r),c=e(o);return c===void 0?await s.delete(r):await s.put(c,r),await i.done,c&&(!o||o.fid!==c.fid)&&EN(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(t){let e;const r=await yp(t.appConfig,n=>{const i=CL(n),s=EL(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===iw?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function CL(t){const e=t||{fid:gL(),registrationStatus:0};return TN(e)}function EL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=bL(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_L(t)}:{installationEntry:e}}async function bL(t,e){try{const r=await fL(t,e);return x1(t.appConfig,r)}catch(r){throw gN(r)&&r.customData.serverCode===409?await _N(t.appConfig):await x1(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function _L(t){let e=await oT(t.appConfig);for(;e.registrationStatus===1;)await yN(100),e=await oT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await zv(t);return n||r}return e}function oT(t){return yp(t,e=>{if(!e)throw bc.create("installation-not-found");return TN(e)})}function TN(t){return TL(t)?{fid:t.fid,registrationStatus:0}:t}function TL(t){return t.registrationStatus===1&&t.registrationTime+fN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL({appConfig:t,heartbeatServiceProvider:e},r){const n=IL(t,r),i=AL(t,r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:dN,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await vN(()=>fetch(n,c));if(d.ok){const h=await d.json();return mN(h)}else throw await xN("Generate Auth Token",d)}function IL(t,{fid:e}){return`${pN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t,e=!1){let r;const n=await yp(t.appConfig,s=>{if(!BN(s))throw bc.create("not-registered");const o=s.authToken;if(!e&&FL(o))return s;if(o.requestStatus===1)return r=SL(t,e),s;{if(!navigator.onLine)throw bc.create("app-offline");const c=kL(s);return r=NL(t,c),c}});return r?await r:n.authToken}async function SL(t,e){let r=await lT(t.appConfig);for(;r.authToken.requestStatus===1;)await yN(100),r=await lT(t.appConfig);const n=r.authToken;return n.requestStatus===0?Wv(t,e):n}function lT(t){return yp(t,e=>{if(!BN(e))throw bc.create("not-registered");const r=e.authToken;return DL(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NL(t,e){try{const r=await BL(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await x1(t.appConfig,n),r}catch(r){if(gN(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await _N(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await x1(t.appConfig,n)}throw r}}function BN(t){return t!==void 0&&t.registrationStatus===2}function FL(t){return t.requestStatus===2&&!RL(t)}function RL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sL}function kL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function DL(t){return t.requestStatus===1&&t.requestTime+fN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t){const e=t,{installationEntry:r,registrationPromise:n}=await zv(e);return n?n.catch(console.error):Wv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e=!1){const r=t;return await OL(r),(await Wv(r,e)).token}async function OL(t){const{registrationPromise:e}=await zv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){if(!t||!t.options)throw $x("App Configuration");if(!t.name)throw $x("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw $x(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $x(t){return bc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="installations",PL="installations-internal",QL=t=>{const e=t.getProvider("app").getImmediate(),r=LL(e),n=Rc(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},HL=t=>{const e=t.getProvider("app").getImmediate(),r=Rc(e,IN).getImmediate();return{getId:()=>UL(r),getToken:i=>ML(r,i)}};function VL(){Do(new uo(IN,QL,"PUBLIC")),Do(new uo(PL,HL,"PRIVATE"))}VL();Ga(uN,Gv);Ga(uN,Gv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="analytics",jL="firebase_id",GL="origin",KL=60*1e3,zL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new rp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ca=new Fc("analytics","Analytics",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){if(!t.startsWith(qv)){const e=Ca.create("invalid-gtag-resource",{gtagURL:t});return na.warn(e.message),""}return t}function SN(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function XL(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function YL(t,e){const r=XL("firebase-js-sdk-policy",{createScriptURL:qL}),n=document.createElement("script"),i=`${qv}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function JL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ZL(t,e,r,n,i,s){const o=n[i];try{if(o)await e[o];else{const d=(await SN(r)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(c){na.error(c)}t("config",i,s)}async function $L(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await SN(r);for(const d of o){const h=c.find(C=>C.measurementId===d),m=h&&e[h.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){na.error(s)}}function eP(t,e,r,n){async function i(s,...o){try{if(s==="event"){const[c,d]=o;await $L(t,e,r,c,d)}else if(s==="config"){const[c,d]=o;await ZL(t,e,r,n,c,d)}else if(s==="consent"){const[c,d]=o;t("consent",c,d)}else if(s==="get"){const[c,d,h]=o;t("get",c,d,h)}else if(s==="set"){const[c]=o;t("set",c)}else t(s,...o)}catch(c){na.error(c)}}return i}function tP(t,e,r,n,i){let s=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=eP(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function rP(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(qv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=30,iP=1e3;class sP{constructor(e={},r=iP){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const NN=new sP;function aP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function oP(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:aP(n)},s=zL.replace("{app-id}",r),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(c=d.error.message)}catch{}throw Ca.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function lP(t,e=NN,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw Ca.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw Ca.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new uP;return setTimeout(async()=>{c.abort()},KL),FN({appId:n,apiKey:i,measurementId:s},o,c,e)}async function FN(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=NN){var s;const{appId:o,measurementId:c}=t;try{await AP(n,e)}catch(d){if(c)return na.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw d}try{const d=await oP(t);return i.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!cP(h)){if(i.deleteThrottleMetadata(o),c)return na.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw d}const m=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?u_(r,i.intervalMillis,nP):u_(r,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(o,C),na.debug(`Calling attemptFetch again in ${m} millis`),FN(t,C,n,i)}}function AP(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(Ca.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cP(t){if(!(t instanceof go)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function fP(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,o=Object.assign(Object.assign({},n),{send_to:s});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(){if(US())try{await MS()}catch(t){return na.warn(Ca.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return na.warn(Ca.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hP(t,e,r,n,i,s,o){var c;const d=lP(t);d.then(S=>{r[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&na.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>na.error(S)),e.push(d);const h=dP().then(S=>{if(S)return n.getId()}),[m,C]=await Promise.all([d,h]);rP(s)||YL(s,m.measurementId),i("js",new Date);const b=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return b[GL]="firebase",b.update=!0,C!=null&&(b[jL]=C),i("config",m.measurementId,b),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.app=e}_delete(){return delete Of[this.app.options.appId],Promise.resolve()}}let Of={},AT=[];const cT={};let e2="dataLayer",pP="gtag",uT,RN,fT=!1;function mP(){const t=[];if(DS()&&t.push("This is a browser extension environment."),HD()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ca.create("invalid-analytics-context",{errorInfo:e});na.warn(r.message)}}function xP(t,e,r){mP();const n=t.options.appId;if(!n)throw Ca.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)na.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ca.create("no-api-key");if(Of[n]!=null)throw Ca.create("already-exists",{id:n});if(!fT){JL(e2);const{wrappedGtag:s,gtagCore:o}=tP(Of,AT,cT,e2,pP);RN=s,uT=o,fT=!0}return Of[n]=hP(t,AT,cT,e,uT,e2,r),new gP(t)}function wP(t=ov()){t=Un(t);const e=Rc(t,w1);return e.isInitialized()?e.getImmediate():vP(t)}function vP(t,e={}){const r=Rc(t,w1);if(r.isInitialized()){const i=r.getImmediate();if($f(e,r.getOptions()))return i;throw Ca.create("already-initialized")}return r.initialize({options:e})}function yP(t,e,r,n){t=Un(t),fP(RN,Of[t.app.options.appId],e,r,n).catch(i=>na.error(i))}const dT="@firebase/analytics",hT="0.10.8";function CP(){Do(new uo(w1,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return xP(n,i,r)},"PUBLIC")),Do(new uo("analytics-internal",t,"PRIVATE")),Ga(dT,hT),Ga(dT,hT,"esm2017");function t(e){try{const r=e.getProvider(w1).getImmediate();return{logEvent:(n,i,s)=>yP(r,n,i,s)}}catch(r){throw Ca.create("interop-component-reg-failed",{reason:r})}}}CP();function Xv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EP=kN,DN=new Fc("auth","Firebase",kN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new rp("@firebase/auth");function bP(t,...e){v1.logLevel<=Qr.WARN&&v1.warn(`Auth (${c0}): ${t}`,...e)}function Yg(t,...e){v1.logLevel<=Qr.ERROR&&v1.error(`Auth (${c0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,...e){throw Yv(t,...e)}function Ro(t,...e){return Yv(t,...e)}function UN(t,e,r){const n=Object.assign(Object.assign({},EP()),{[e]:r});return new Fc("auth","Firebase",n).create(e,{appName:t.name})}function xl(t){return UN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return DN.create(t,...e)}function Ar(t,e,...r){if(!t)throw Yv(e,...r)}function dl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yg(e),new Error(e)}function Tl(t,e){t||dl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _P(){return gT()==="http:"||gT()==="https:"}function gT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_P()||DS()||"connection"in navigator)?navigator.onLine:!0}function BP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Tl(r>e,"Short delay should be less than long delay!"),this.isMobile=UD()||LD()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){Tl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Rd(3e4,6e4);function MA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nl(t,e,r,n,i={}){return ON(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=yd(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},s);return OD()||(h.referrerPolicy="no-referrer"),MN.fetch()(LN(t,t.config.apiHost,r,c),h)})}async function ON(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},IP),e);try{const i=new FP(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $h(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw $h(t,"user-disabled",o);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UN(t,m,h);ho(t,m)}}catch(i){if(i instanceof go)throw i;ho(t,"network-request-failed",{message:String(i)})}}async function kd(t,e,r,n,i={}){const s=await Nl(t,e,r,n,i);return"mfaPendingCredential"in s&&ho(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LN(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Jv(t.config,i):`${t.config.apiScheme}://${i}`}function NP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ro(this.auth,"network-request-failed")),SP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $h(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ro(t,e,n);return i.customData._tokenResponse=r,i}function pT(t){return t!==void 0&&t.enterprise!==void 0}class RP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return NP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function kP(t,e){return Nl(t,"GET","/v2/recaptchaConfig",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return Nl(t,"POST","/v1/accounts:delete",e)}async function PN(t,e){return Nl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UP(t,e=!1){const r=Un(t),n=await r.getIdToken(e),i=Zv(n);Ar(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Lf(t2(i.auth_time)),issuedAtTime:Lf(t2(i.iat)),expirationTime:Lf(t2(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function t2(t){return Number(t)*1e3}function Zv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=NS(r);return i?JSON.parse(i):(Yg("Failed to decode base64 JWT payload"),null)}catch(i){return Yg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mT(t){const e=Zv(t);return Ar(e,"internal-error"),Ar(typeof e.exp<"u","internal-error"),Ar(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof go&&MP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function MP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lf(this.lastLoginAt),this.creationTime=Lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(t){var e;const r=t.auth,n=await t.getIdToken(),i=await a0(t,PN(r,{idToken:n}));Ar(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QN(s.providerUserInfo):[],c=PP(t.providerData,o),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),m=d?h:!1,C={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new aw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,C)}async function LP(t){const e=Un(t);await y1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function QN(t){return t.map(e=>{var{providerId:r}=e,n=Xv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e){const r=await ON(t,{},async()=>{const n=yd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LN(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",MN.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function HP(t,e){return Nl(t,"POST","/v2/accounts:revokeToken",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ar(e.idToken,"internal-error"),Ar(typeof e.idToken<"u","internal-error"),Ar(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ar(e.length!==0,"internal-error");const r=mT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ar(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await QP(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Gu;return n&&(Ar(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ar(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ar(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return dl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e){Ar(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hl{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await a0(this,this.stsTokenManager.getToken(this.auth,e));return Ar(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return UP(this,e)}reload(){return LP(this)}_assign(e){this!==e&&(Ar(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new hl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await y1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(So(this.auth.app))return Promise.reject(xl(this.auth));const e=await this.getIdToken();return await a0(this,DP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,c,d,h,m;const C=(n=r.displayName)!==null&&n!==void 0?n:void 0,b=(i=r.email)!==null&&i!==void 0?i:void 0,S=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=r.photoURL)!==null&&o!==void 0?o:void 0,k=(c=r.tenantId)!==null&&c!==void 0?c:void 0,U=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=r.createdAt)!==null&&h!==void 0?h:void 0,G=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Q,emailVerified:J,isAnonymous:Z,providerData:K,stsTokenManager:M}=r;Ar(Q&&M,e,"internal-error");const P=Gu.fromJSON(this.name,M);Ar(typeof Q=="string",e,"internal-error"),aA(C,e.name),aA(b,e.name),Ar(typeof J=="boolean",e,"internal-error"),Ar(typeof Z=="boolean",e,"internal-error"),aA(S,e.name),aA(R,e.name),aA(k,e.name),aA(U,e.name),aA(V,e.name),aA(G,e.name);const O=new hl({uid:Q,auth:e,email:b,emailVerified:J,displayName:C,isAnonymous:Z,photoURL:R,phoneNumber:S,tenantId:k,stsTokenManager:P,createdAt:V,lastLoginAt:G});return K&&Array.isArray(K)&&(O.providerData=K.map(re=>Object.assign({},re))),U&&(O._redirectEventId=U),O}static async _fromIdTokenResponse(e,r,n=!1){const i=new Gu;i.updateFromServerResponse(r);const s=new hl({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await y1(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ar(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?QN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Gu;c.updateFromIdToken(n);const d=new hl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new aw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;function gl(t){Tl(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}HN.type="NONE";const wT=HN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e,r){return`firebase:${t}:${e}:${r}`}class Ku{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Jg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ku(gl(wT),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||gl(wT);const o=Jg(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const m=await h._get(o);if(m){const C=hl._fromJSON(e,m);h!==s&&(c=C),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Ku(s,e,n):(s=d[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ku(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WN(e))return"Blackberry";if(qN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||GN(e))&&!e.includes("edge/"))return"Chrome";if(zN(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function VN(t=vs()){return/firefox\//i.test(t)}function jN(t=vs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GN(t=vs()){return/crios\//i.test(t)}function KN(t=vs()){return/iemobile/i.test(t)}function zN(t=vs()){return/android/i.test(t)}function WN(t=vs()){return/blackberry/i.test(t)}function qN(t=vs()){return/webos/i.test(t)}function $v(t=vs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VP(t=vs()){var e;return $v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jP(){return PD()&&document.documentMode===10}function XN(t=vs()){return $v(t)||zN(t)||qN(t)||WN(t)||/windows phone/i.test(t)||KN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e=[]){let r;switch(t){case"Browser":r=vT(vs());break;case"Worker":r=`${vT(vs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${c0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,c)=>{try{const d=e(s);o(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e={}){return Nl(t,"GET","/v2/passwordPolicy",MA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=6;class WP{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:zP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new GP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=gl(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await PN(this,{idToken:e}),n=await hl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(So(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ar(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await y1(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(So(this.app))return Promise.reject(xl(this));const r=e?Un(e):null;return r&&Ar(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ar(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return So(this.app)?Promise.reject(xl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return So(this.app)?Promise.reject(xl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KP(this),r=new WP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await HP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&gl(e)||this._popupRedirectResolver;Ar(r,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[gl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ar(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&bP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Mc(t){return Un(t)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=zD(r=>this.observer=r)}get next(){return Ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XP(t){Cp=t}function JN(t){return Cp.loadJS(t)}function YP(){return Cp.recaptchaEnterpriseScript}function JP(){return Cp.gapiScript}function ZP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $P="recaptcha-enterprise",e9="NO_RECAPTCHA";class t9{constructor(e){this.type=$P,this.auth=Mc(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{kP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new RP(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(s,o,c){const d=window.grecaptcha;pT(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(e9)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&pT(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=YP();d.length!==0&&(d+=c),JN(d).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function CT(t,e,r,n=!1){const i=new t9(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ow(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await CT(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await CT(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){const r=Rc(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if($f(s,e??{}))return i;ho(i,"already-initialized")}return r.initialize({options:e})}function n9(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(gl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function i9(t,e,r){const n=Mc(t);Ar(n._canInitEmulator,n,"emulator-config-failed"),Ar(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=ZN(e),{host:o,port:c}=s9(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),a9()}function ZN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s9(t){const e=ZN(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:ET(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:ET(o)}}}function ET(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a9(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return dl("not implemented")}_getIdTokenResponse(e){return dl("not implemented")}_linkToIdToken(e,r){return dl("not implemented")}_getReauthenticationResolver(e){return dl("not implemented")}}async function o9(t,e){return Nl(t,"POST","/v1/accounts:update",e)}async function l9(t,e){return Nl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){return kd(t,"POST","/v1/accounts:signInWithPassword",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",MA(t,e))}async function u9(t,e){return kd(t,"POST","/v1/accounts:signInWithEmailLink",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends ey{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new od(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new od(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ow(e,r,"signInWithPassword",A9);case"emailLink":return c9(e,{email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ow(e,n,"signUpPassword",l9);case"emailLink":return u9(e,{idToken:r,email:this._email,oobCode:this._password});default:ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return kd(t,"POST","/v1/accounts:signInWithIdp",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="http://localhost";class Tc extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ho("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Xv(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Tc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return zu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,zu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,zu(e,r)}buildRequest(){const e={requestUri:f9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=yd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h9(t){const e=hf(gf(t)).link,r=e?hf(gf(e)).deep_link_id:null,n=hf(gf(t)).deep_link_id;return(n?hf(gf(n)).link:null)||n||r||e||t}class ty{constructor(e){var r,n,i,s,o,c;const d=hf(gf(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,C=d9((i=d.mode)!==null&&i!==void 0?i:null);Ar(h&&m&&C,"argument-error"),this.apiKey=h,this.operation=C,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=h9(e);try{return new ty(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.providerId=h0.PROVIDER_ID}static credential(e,r){return od._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ty.parseLink(r);return Ar(n,"argument-error"),od._fromEmailAndCode(e,n.code,n.tenantId)}}h0.PROVIDER_ID="password";h0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";h0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends $N{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Dd{constructor(){super("facebook.com")}static credential(e){return Tc._fromParams({providerId:uA.PROVIDER_ID,signInMethod:uA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uA.credentialFromTaggedObject(e)}static credentialFromError(e){return uA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uA.credential(e.oauthAccessToken)}catch{return null}}}uA.FACEBOOK_SIGN_IN_METHOD="facebook.com";uA.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Tc._fromParams({providerId:fA.PROVIDER_ID,signInMethod:fA.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fA.credentialFromTaggedObject(e)}static credentialFromError(e){return fA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return fA.credential(r,n)}catch{return null}}}fA.GOOGLE_SIGN_IN_METHOD="google.com";fA.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Dd{constructor(){super("github.com")}static credential(e){return Tc._fromParams({providerId:dA.PROVIDER_ID,signInMethod:dA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dA.credentialFromTaggedObject(e)}static credentialFromError(e){return dA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dA.credential(e.oauthAccessToken)}catch{return null}}}dA.GITHUB_SIGN_IN_METHOD="github.com";dA.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends Dd{constructor(){super("twitter.com")}static credential(e,r){return Tc._fromParams({providerId:hA.PROVIDER_ID,signInMethod:hA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return hA.credentialFromTaggedObject(e)}static credentialFromError(e){return hA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return hA.credential(r,n)}catch{return null}}}hA.TWITTER_SIGN_IN_METHOD="twitter.com";hA.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){return kd(t,"POST","/v1/accounts:signUp",MA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await hl._fromIdTokenResponse(e,n,i),o=bT(n);return new Bc({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=bT(n);return new Bc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function bT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends go{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,C1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new C1(e,r,n,i)}}function eF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?C1._fromErrorAndOperation(t,s,e,n):s})}async function p9(t,e,r=!1){const n=await a0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Bc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e,r=!1){const{auth:n}=t;if(So(n.app))return Promise.reject(xl(n));const i="reauthenticate";try{const s=await a0(t,eF(n,i,e,t),r);Ar(s.idToken,n,"internal-error");const o=Zv(s.idToken);Ar(o,n,"internal-error");const{sub:c}=o;return Ar(t.uid===c,n,"user-mismatch"),Bc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ho(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e,r=!1){if(So(t.app))return Promise.reject(xl(t));const n="signIn",i=await eF(t,n,e),s=await Bc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function x9(t,e){return tF(Mc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t){const e=Mc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w9(t,e,r){if(So(t.app))return Promise.reject(xl(t));const n=Mc(t),o=await ow(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g9).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&rF(t),d}),c=await Bc._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function v9(t,e,r){return So(t.app)?Promise.reject(xl(t)):x9(Un(t),h0.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&rF(t),n})}function y9(t,e){return C9(Un(t),null,e)}async function C9(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const o=await a0(t,o9(n,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){return Un(t).setPersistence(e)}function b9(t,e,r,n){return Un(t).onIdTokenChanged(e,r,n)}function _9(t,e,r){return Un(t).beforeAuthStateChanged(e,r)}function T9(t,e,r,n){return Un(t).onAuthStateChanged(e,r,n)}function _T(t){return Un(t).signOut()}const E1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(E1,"1"),this.storage.removeItem(E1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e3,I9=10;class iF extends nF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);jP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,I9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},B9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}iF.type="LOCAL";const sF=iF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF extends nF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}aF.type="SESSION";const oF=aF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Ep(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(o).map(async h=>h(r.origin,s)),d=await S9(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,d)=>{const h=ry("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(C){const b=C;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return window}function F9(t){ko().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(){return typeof ko().WorkerGlobalScope<"u"&&typeof ko().importScripts=="function"}async function R9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D9(){return lF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="firebaseLocalStorageDb",U9=1,b1="firebaseLocalStorage",cF="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function bp(t,e){return t.transaction([b1],e?"readwrite":"readonly").objectStore(b1)}function M9(){const t=indexedDB.deleteDatabase(AF);return new Ud(t).toPromise()}function lw(){const t=indexedDB.open(AF,U9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(b1,{keyPath:cF})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(b1)?e(n):(n.close(),await M9(),e(await lw()))})})}async function TT(t,e,r){const n=bp(t,!0).put({[cF]:e,value:r});return new Ud(n).toPromise()}async function O9(t,e){const r=bp(t,!1).get(e),n=await new Ud(r).toPromise();return n===void 0?null:n.value}function BT(t,e){const r=bp(t,!0).delete(e);return new Ud(r).toPromise()}const L9=800,P9=3;class uF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>P9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ep._getInstance(D9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await R9(),!this.activeServiceWorker)return;this.sender=new N9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lw();return await TT(e,E1,"1"),await BT(e,E1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>O9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bp(i,!1).getAll();return new Ud(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uF.type="LOCAL";const Q9=uF;new Rd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){return e?gl(e):(Ar(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return zu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function V9(t){return tF(t.auth,new ny(t),t.bypassAuthState)}function j9(t){const{auth:e,user:r}=t;return Ar(r,e,"internal-error"),m9(r,new ny(t),t.bypassAuthState)}async function G9(t){const{auth:e,user:r}=t;return Ar(r,e,"internal-error"),p9(r,new ny(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V9;case"linkViaPopup":case"linkViaRedirect":return G9;case"reauthViaPopup":case"reauthViaRedirect":return j9;default:ho(this.auth,"internal-error")}}resolve(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Rd(2e3,1e4);class Ou extends fF{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ou.currentPopupAction&&Ou.currentPopupAction.cancel(),Ou.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ar(e,this.auth,"internal-error"),e}async onExecution(){Tl(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ro(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ro(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ou.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ro(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K9.get())};e()}}Ou.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="pendingRedirect",Zg=new Map;class W9 extends fF{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const n=await q9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q9(t,e){const r=J9(e),n=Y9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function X9(t,e){Zg.set(t._key(),e)}function Y9(t){return gl(t._redirectPersistence)}function J9(t){return Jg(z9,t.config.apiKey,t.name)}async function Z9(t,e,r=!1){if(So(t.app))return Promise.reject(xl(t));const n=Mc(t),i=H9(n,e),o=await new W9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=600*1e3;class e7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!dF(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ro(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$9&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e={}){return Nl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i7=/^https?/;async function s7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r7(t);for(const r of e)try{if(a7(r))return}catch{}ho(t,"unauthorized-domain")}function a7(t){const e=sw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!i7.test(r))return!1;if(n7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=new Rd(3e4,6e4);function ST(){const t=ko().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function l7(t){return new Promise((e,r)=>{var n,i,s;function o(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),r(Ro(t,"network-request-failed"))},timeout:o7.get()})}if(!((i=(n=ko().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ko().gapi)===null||s===void 0)&&s.load)o();else{const c=ZP("iframefcb");return ko()[c]=()=>{gapi.load?o():r(Ro(t,"network-request-failed"))},JN(`${JP()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw $g=null,e})}let $g=null;function A7(t){return $g=$g||l7(t),$g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new Rd(5e3,15e3),u7="__/auth/iframe",f7="emulator/auth/iframe",d7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g7(t){const e=t.config;Ar(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Jv(e,f7):`https://${t.config.authDomain}/${u7}`,n={apiKey:e.apiKey,appName:t.name,v:c0},i=h7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${yd(n).slice(1)}`}async function p7(t){const e=await A7(t),r=ko().gapi;return Ar(r,t,"internal-error"),e.open({where:document.body,url:g7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=Ro(t,"network-request-failed"),c=ko().setTimeout(()=>{s(o)},c7.get());function d(){ko().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x7=500,w7=600,v7="_blank",y7="http://localhost";class NT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C7(t,e,r,n=x7,i=w7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},m7),{width:n.toString(),height:i.toString(),top:s,left:o}),h=vs().toLowerCase();r&&(c=GN(h)?v7:r),VN(h)&&(e=e||y7,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[S,R])=>`${b}${S}=${R},`,"");if(VP(h)&&c!=="_self")return E7(e||"",c),new NT(null);const C=window.open(e||"",c,m);Ar(C,t,"popup-blocked");try{C.focus()}catch{}return new NT(C)}function E7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="__/auth/handler",_7="emulator/auth/handler",T7=encodeURIComponent("fac");async function FT(t,e,r,n,i,s){Ar(t.config.authDomain,t,"auth-domain-config-required"),Ar(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:c0,eventId:i};if(e instanceof $N){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,C]of Object.entries({}))o[m]=C}if(e instanceof Dd){const m=e.getScopes().filter(C=>C!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${T7}=${encodeURIComponent(d)}`:"";return`${B7(t)}?${yd(c).slice(1)}${h}`}function B7({config:t}){return t.emulator?Jv(t,_7):`https://${t.authDomain}/${b7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="webStorageSupport";class I7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oF,this._completeRedirectFn=Z9,this._overrideRedirectResult=X9}async _openPopup(e,r,n,i){var s;Tl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FT(e,r,n,sw(),i);return C7(e,o,ry())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await FT(e,r,n,sw(),i);return F9(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Tl(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await p7(e),n=new e7(e);return r.register("authEvent",i=>(Ar(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(r2,{type:r2},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[r2];o!==void 0&&r(!!o),ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=s7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return XN()||jN()||$v()}}const S7=I7;var RT="@firebase/auth",kT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R7(t){Do(new uo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Ar(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},h=new qP(n,i,s,d);return n9(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Do(new uo("auth-internal",e=>{const r=Mc(e.getProvider("auth").getImmediate());return(n=>new N7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ga(RT,kT,F7(t)),Ga(RT,kT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=300,D7=kS("authIdTokenMaxAge")||k7;let DT=null;const U7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>D7)return;const i=r==null?void 0:r.token;DT!==i&&(DT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function M7(t=ov()){const e=Rc(t,"auth");if(e.isInitialized())return e.getImmediate();const r=r9(t,{popupRedirectResolver:S7,persistence:[Q9,sF,oF]}),n=kS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=U7(s.toString());_9(r,o,()=>o(r.currentUser)),b9(r,c=>o(c))}}const i=FS("auth");return i&&i9(r,`http://${i}`),r}function O7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Ro("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",O7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R7("Browser");const L7={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},iy=QS(L7),Ut=KO(iy),pc=M7(iy);wP(iy);E9(pc,sF);const P7=({onNavigateToSignUp:t})=>{const[e,r]=ye.useState(""),[n,i]=ye.useState(""),[s,o]=ye.useState(!1),[c,d]=ye.useState(""),[h,m]=ye.useState(!1),C=async b=>{b.preventDefault(),d(""),m(!0);try{await v9(pc,e.trim(),n)}catch(S){console.error(S),S.code==="auth/invalid-credential"||S.code==="auth/wrong-password"||S.code==="auth/user-not-found"?d("      .     ."):S.code==="auth/invalid-email"?d("    "):S.code==="auth/network-request-failed"?d("   "):d("    .  ")}finally{m(!1)}};return f.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:f.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[f.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),f.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),f.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),f.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[f.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),f.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),c&&f.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:c}),f.jsxs("form",{onSubmit:C,className:"w-full space-y-6",children:[f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsx("input",{type:"email",placeholder:"fouad1@gmail.com",className:"custom-input",value:e,onChange:b=>r(b.target.value),required:!0,dir:"ltr"})]}),f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:s?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:n,onChange:b=>i(b.target.value),required:!0}),f.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>o(!s),children:s?f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),f.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),f.jsx("button",{type:"submit",disabled:h,className:`w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${h?"opacity-70 cursor-not-allowed":""}`,children:h?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):" "})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("p",{className:"text-gray-400 text-sm",children:["  "," ",f.jsx("button",{onClick:t,className:"text-[#57b385] cursor-pointer hover:underline font-bold",children:"  "})]})}),f.jsx("div",{className:"mt-auto pt-10 text-center",children:f.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},Q7=({onNavigateToLogin:t,adminEmail:e})=>{const[r,n]=ye.useState(""),[i,s]=ye.useState(""),[o,c]=ye.useState(""),[d,h]=ye.useState(""),[m,C]=ye.useState(!1),[b,S]=ye.useState(""),[R,k]=ye.useState(!1),U=async V=>{if(V.preventDefault(),S(""),k(!0),!i.includes("@")){S("    "),k(!1);return}try{const Q=(await w9(pc,i.trim(),d)).user,J=i.trim().toLowerCase()===e.toLowerCase(),Z={manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:J},K={id:Q.uid,name:r,phone:o,email:i,password:d,permissions:Z,status:J?"approved":"pending"};await Sr(Xt(Ut,"staff",Q.uid),JSON.parse(JSON.stringify(K)))}catch(G){console.error(G),G.code==="auth/email-already-in-use"?S("    "):G.code==="auth/weak-password"?S("     6   "):S("    .  ")}finally{k(!1)}};return f.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden font-['Tajawal']",children:f.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[f.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:" "}),f.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),f.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),f.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center overflow-y-auto custom-scrollbar",children:[f.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),f.jsx("h3",{className:"text-white text-3xl font-bold mb-6",children:"  "}),b&&f.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold",children:b}),f.jsxs("form",{onSubmit:U,className:"w-full space-y-4",children:[f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsx("input",{type:"text",placeholder:" ",className:"custom-input",value:r,onChange:V=>n(V.target.value),required:!0})]}),f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsx("input",{type:"email",placeholder:"fouad1@gmail.com",className:"custom-input",value:i,onChange:V=>s(V.target.value),required:!0,dir:"ltr"})]}),f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsx("input",{type:"tel",placeholder:"06XXXXXXXX",className:"custom-input",value:o,onChange:V=>c(V.target.value),required:!0,dir:"ltr"})]}),f.jsxs("div",{className:"input-container relative",children:[f.jsx("label",{className:"input-label",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:m?"text":"password",placeholder:"10203040",className:"custom-input pl-12",value:d,onChange:V=>h(V.target.value),required:!0}),f.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",onClick:()=>C(!m),children:m?"":""})]})]}),f.jsx("button",{type:"submit",disabled:R,className:`w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${R?"opacity-70":""}`,children:R?"  ...":"  "})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("p",{className:"text-gray-400 text-sm",children:["  "," ",f.jsx("button",{onClick:t,className:"text-[#57b385] cursor-pointer hover:underline font-bold",children:" "})]})})]})]})})},hF=(t,e)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=t.items||[];n.reduce((s,o)=>s+o.count,0);const i=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(s=>`
                <tr>
                  <td>${s.productName}</td>
                  <td class="col-price">${s.count}</td>
                  <td class="col-total">${s.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(i),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Aw=function(t,e){return Aw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Aw(t,e)};function po(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Aw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cw=function(){return cw=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cw.apply(this,arguments)};function Is(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,[])).next())})}function As(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function eg(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Bl=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),_p=function(t,e){return Bl.fromClientRect(t,e.getBoundingClientRect())},H7=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Bl(0,0,n,i)},Tp=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},ui=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},UT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V7=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tg=0;tg<UT.length;tg++)V7[UT.charCodeAt(tg)]=tg;var MT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rg=0;rg<MT.length;rg++)vf[MT.charCodeAt(rg)]=rg;var j7=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)s=vf[t.charCodeAt(n)],o=vf[t.charCodeAt(n+1)],c=vf[t.charCodeAt(n+2)],d=vf[t.charCodeAt(n+3)],m[i++]=s<<2|o>>4,m[i++]=(o&15)<<4|c>>2,m[i++]=(c&3)<<6|d&63;return h},G7=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},K7=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},mc=5,sy=11,n2=2,z7=sy-mc,gF=65536>>mc,W7=1<<mc,i2=W7-1,q7=1024>>mc,X7=gF+q7,Y7=X7,J7=32,Z7=Y7+J7,$7=65536>>sy,eQ=1<<z7,tQ=eQ-1,OT=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},rQ=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},nQ=function(t,e){var r=j7(t),n=Array.isArray(r)?K7(r):new Uint32Array(r),i=Array.isArray(r)?G7(r):new Uint16Array(r),s=24,o=OT(i,s/2,n[4]/2),c=n[5]===2?OT(i,(s+n[4])/2):rQ(n,Math.ceil((s+n[4])/4));return new iQ(n[0],n[1],n[2],n[3],o,c)},iQ=(function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>mc],r=(r<<n2)+(e&i2),this.data[r];if(e<=65535)return r=this.index[gF+(e-55296>>mc)],r=(r<<n2)+(e&i2),this.data[r];if(e<this.highStart)return r=Z7-$7+(e>>sy),r=this.index[r],r+=e>>mc&tQ,r=this.index[r],r=(r<<n2)+(e&i2),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),LT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ng=0;ng<LT.length;ng++)sQ[LT.charCodeAt(ng)]=ng;var aQ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",PT=50,oQ=1,pF=2,mF=3,lQ=4,AQ=5,QT=7,xF=8,HT=9,mA=10,uw=11,VT=12,fw=13,cQ=14,yf=15,dw=16,ig=17,of=18,uQ=19,jT=20,hw=21,lf=22,s2=23,yu=24,ma=25,Cf=26,Ef=27,Cu=28,fQ=29,Ac=30,dQ=31,sg=32,ag=33,gw=34,pw=35,mw=36,ld=37,xw=38,e1=39,t1=40,a2=41,wF=42,hQ=43,gQ=[9001,65288],vF="!",Mr="",og="",ww=nQ(aQ),cl=[Ac,mw],vw=[oQ,pF,mF,AQ],yF=[mA,xF],GT=[Ef,Cf],pQ=vw.concat(yF),KT=[xw,e1,t1,gw,pw],mQ=[yf,fw],xQ=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,o){var c=ww.get(s);if(c>PT?(i.push(!0),c-=PT):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(dw);if(c===lQ||c===uw){if(o===0)return n.push(o),r.push(Ac);var d=r[o-1];return pQ.indexOf(d)===-1?(n.push(n[o-1]),r.push(d)):(n.push(o),r.push(Ac))}if(n.push(o),c===dQ)return r.push(e==="strict"?hw:ld);if(c===wF||c===fQ)return r.push(Ac);if(c===hQ)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(ld):r.push(Ac);r.push(c)}),[n,r,i]},o2=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===e)return!0;if(o!==mA)break}if(i===mA)for(var s=r;s>0;){s--;var c=n[s];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var d=r;d<=n.length;){d++;var o=n[d];if(o===e)return!0;if(o!==mA)break}if(c!==mA)break}return!1},zT=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===mA)r--;else return n}return 0},wQ=function(t,e,r,n,i){if(r[n]===0)return Mr;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Mr;var o=s-1,c=s+1,d=e[s],h=o>=0?e[o]:0,m=e[c];if(d===pF&&m===mF)return Mr;if(vw.indexOf(d)!==-1)return vF;if(vw.indexOf(m)!==-1||yF.indexOf(m)!==-1)return Mr;if(zT(s,e)===xF)return og;if(ww.get(t[s])===uw||(d===sg||d===ag)&&ww.get(t[c])===uw||d===QT||m===QT||d===HT||[mA,fw,yf].indexOf(d)===-1&&m===HT||[ig,of,uQ,yu,Cu].indexOf(m)!==-1||zT(s,e)===lf||o2(s2,lf,s,e)||o2([ig,of],hw,s,e)||o2(VT,VT,s,e))return Mr;if(d===mA)return og;if(d===s2||m===s2)return Mr;if(m===dw||d===dw)return og;if([fw,yf,hw].indexOf(m)!==-1||d===cQ||h===mw&&mQ.indexOf(d)!==-1||d===Cu&&m===mw||m===jT||cl.indexOf(m)!==-1&&d===ma||cl.indexOf(d)!==-1&&m===ma||d===Ef&&[ld,sg,ag].indexOf(m)!==-1||[ld,sg,ag].indexOf(d)!==-1&&m===Cf||cl.indexOf(d)!==-1&&GT.indexOf(m)!==-1||GT.indexOf(d)!==-1&&cl.indexOf(m)!==-1||[Ef,Cf].indexOf(d)!==-1&&(m===ma||[lf,yf].indexOf(m)!==-1&&e[c+1]===ma)||[lf,yf].indexOf(d)!==-1&&m===ma||d===ma&&[ma,Cu,yu].indexOf(m)!==-1)return Mr;if([ma,Cu,yu,ig,of].indexOf(m)!==-1)for(var C=s;C>=0;){var b=e[C];if(b===ma)return Mr;if([Cu,yu].indexOf(b)!==-1)C--;else break}if([Ef,Cf].indexOf(m)!==-1)for(var C=[ig,of].indexOf(d)!==-1?o:s;C>=0;){var b=e[C];if(b===ma)return Mr;if([Cu,yu].indexOf(b)!==-1)C--;else break}if(xw===d&&[xw,e1,gw,pw].indexOf(m)!==-1||[e1,gw].indexOf(d)!==-1&&[e1,t1].indexOf(m)!==-1||[t1,pw].indexOf(d)!==-1&&m===t1||KT.indexOf(d)!==-1&&[jT,Cf].indexOf(m)!==-1||KT.indexOf(m)!==-1&&d===Ef||cl.indexOf(d)!==-1&&cl.indexOf(m)!==-1||d===yu&&cl.indexOf(m)!==-1||cl.concat(ma).indexOf(d)!==-1&&m===lf&&gQ.indexOf(t[c])===-1||cl.concat(ma).indexOf(m)!==-1&&d===of)return Mr;if(d===a2&&m===a2){for(var S=r[s],R=1;S>0&&(S--,e[S]===a2);)R++;if(R%2!==0)return Mr}return d===sg&&m===ag?Mr:og},vQ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=xQ(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[ma,Ac,wF].indexOf(c)!==-1?ld:c}));var o=e.wordBreak==="keep-all"?s.map(function(c,d){return c&&t[d]>=19968&&t[d]<=40959}):void 0;return[n,i,o]},yQ=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===vF,this.start=n,this.end=i}return t.prototype.slice=function(){return ui.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),CQ=function(t,e){var r=Tp(t),n=vQ(r,e),i=n[0],s=n[1],o=n[2],c=r.length,d=0,h=0;return{next:function(){if(h>=c)return{done:!0,value:null};for(var m=Mr;h<c&&(m=wQ(r,s,i,++h,o))===Mr;);if(m!==Mr||h===c){var C=new yQ(r,m,d,h);return d=h,{value:C,done:!1}}return{done:!0,value:null}}}},EQ=1,bQ=2,Md=4,WT=8,_1=10,qT=47,Pf=92,_Q=9,TQ=32,lg=34,Af=61,BQ=35,IQ=36,SQ=37,Ag=39,cg=40,cf=41,NQ=95,$s=45,FQ=33,RQ=60,kQ=62,DQ=64,UQ=91,MQ=93,OQ=61,LQ=123,ug=63,PQ=125,XT=124,QQ=126,HQ=128,YT=65533,l2=42,dc=43,VQ=44,jQ=58,GQ=59,Ad=46,KQ=0,zQ=8,WQ=11,qQ=14,XQ=31,YQ=127,To=-1,CF=48,EF=97,bF=101,JQ=102,ZQ=117,$Q=122,_F=65,TF=69,BF=70,eH=85,tH=90,us=function(t){return t>=CF&&t<=57},rH=function(t){return t>=55296&&t<=57343},Eu=function(t){return us(t)||t>=_F&&t<=BF||t>=EF&&t<=JQ},nH=function(t){return t>=EF&&t<=$Q},iH=function(t){return t>=_F&&t<=tH},sH=function(t){return nH(t)||iH(t)},aH=function(t){return t>=HQ},fg=function(t){return t===_1||t===_Q||t===TQ},T1=function(t){return sH(t)||aH(t)||t===NQ},JT=function(t){return T1(t)||us(t)||t===$s},oH=function(t){return t>=KQ&&t<=zQ||t===WQ||t>=qQ&&t<=XQ||t===YQ},cA=function(t,e){return t!==Pf?!1:e!==_1},dg=function(t,e,r){return t===$s?T1(e)||cA(e,r):T1(t)?!0:!!(t===Pf&&cA(t,e))},A2=function(t,e,r){return t===dc||t===$s?us(e)?!0:e===Ad&&us(r):us(t===Ad?e:t)},lH=function(t){var e=0,r=1;(t[e]===dc||t[e]===$s)&&(t[e]===$s&&(r=-1),e++);for(var n=[];us(t[e]);)n.push(t[e++]);var i=n.length?parseInt(ui.apply(void 0,n),10):0;t[e]===Ad&&e++;for(var s=[];us(t[e]);)s.push(t[e++]);var o=s.length,c=o?parseInt(ui.apply(void 0,s),10):0;(t[e]===TF||t[e]===bF)&&e++;var d=1;(t[e]===dc||t[e]===$s)&&(t[e]===$s&&(d=-1),e++);for(var h=[];us(t[e]);)h.push(t[e++]);var m=h.length?parseInt(ui.apply(void 0,h),10):0;return r*(i+c*Math.pow(10,-o))*Math.pow(10,d*m)},AH={type:2},cH={type:3},uH={type:4},fH={type:13},dH={type:8},hH={type:21},gH={type:9},pH={type:10},mH={type:11},xH={type:12},wH={type:14},hg={type:23},vH={type:1},yH={type:25},CH={type:24},EH={type:26},bH={type:27},_H={type:28},TH={type:29},BH={type:31},yw={type:32},IF=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Tp(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==yw;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case lg:return this.consumeStringToken(lg);case BQ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(JT(r)||cA(n,i)){var s=dg(r,n,i)?bQ:EQ,o=this.consumeName();return{type:5,value:o,flags:s}}break;case IQ:if(this.peekCodePoint(0)===Af)return this.consumeCodePoint(),fH;break;case Ag:return this.consumeStringToken(Ag);case cg:return AH;case cf:return cH;case l2:if(this.peekCodePoint(0)===Af)return this.consumeCodePoint(),wH;break;case dc:if(A2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case VQ:return uH;case $s:var c=e,d=this.peekCodePoint(0),h=this.peekCodePoint(1);if(A2(c,d,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(dg(c,d,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(d===$s&&h===kQ)return this.consumeCodePoint(),this.consumeCodePoint(),CH;break;case Ad:if(A2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qT:if(this.peekCodePoint(0)===l2)for(this.consumeCodePoint();;){var m=this.consumeCodePoint();if(m===l2&&(m=this.consumeCodePoint(),m===qT))return this.consumeToken();if(m===To)return this.consumeToken()}break;case jQ:return EH;case GQ:return bH;case RQ:if(this.peekCodePoint(0)===FQ&&this.peekCodePoint(1)===$s&&this.peekCodePoint(2)===$s)return this.consumeCodePoint(),this.consumeCodePoint(),yH;break;case DQ:var C=this.peekCodePoint(0),b=this.peekCodePoint(1),S=this.peekCodePoint(2);if(dg(C,b,S)){var o=this.consumeName();return{type:7,value:o}}break;case UQ:return _H;case Pf:if(cA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case MQ:return TH;case OQ:if(this.peekCodePoint(0)===Af)return this.consumeCodePoint(),dH;break;case LQ:return mH;case PQ:return xH;case ZQ:case eH:var R=this.peekCodePoint(0),k=this.peekCodePoint(1);return R===dc&&(Eu(k)||k===ug)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case XT:if(this.peekCodePoint(0)===Af)return this.consumeCodePoint(),gH;if(this.peekCodePoint(0)===XT)return this.consumeCodePoint(),hH;break;case QQ:if(this.peekCodePoint(0)===Af)return this.consumeCodePoint(),pH;break;case To:return yw}return fg(e)?(this.consumeWhiteSpace(),BH):us(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):T1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ui(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Eu(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===ug&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(ui.apply(void 0,e.map(function(d){return d===ug?CF:d})),16),s=parseInt(ui.apply(void 0,e.map(function(d){return d===ug?BF:d})),16);return{type:30,start:i,end:s}}var o=parseInt(ui.apply(void 0,e),16);if(this.peekCodePoint(0)===$s&&Eu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var c=[];Eu(r)&&c.length<6;)c.push(r),r=this.consumeCodePoint();var s=parseInt(ui.apply(void 0,c),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===cg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===To)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ag||r===lg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===To||this.peekCodePoint(0)===cf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),hg)}for(;;){var i=this.consumeCodePoint();if(i===To||i===cf)return{type:22,value:ui.apply(void 0,e)};if(fg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===To||this.peekCodePoint(0)===cf?(this.consumeCodePoint(),{type:22,value:ui.apply(void 0,e)}):(this.consumeBadUrlRemnants(),hg);if(i===lg||i===Ag||i===cg||oH(i))return this.consumeBadUrlRemnants(),hg;if(i===Pf)if(cA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hg;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;fg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===cf||e===To)return;cA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=ui.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===To||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===_1)return this._value.splice(0,n),vH;if(i===Pf){var s=this._value[n+1];s!==To&&s!==void 0&&(s===_1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):cA(i,s)&&(r+=this.consumeStringSlice(n),r+=ui(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Md,n=this.peekCodePoint(0);for((n===dc||n===$s)&&e.push(this.consumeCodePoint());us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Ad&&us(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=WT;us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===TF||n===bF)&&((i===dc||i===$s)&&us(s)||us(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=WT;us(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[lH(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(dg(i,s,o)){var c=this.consumeName();return{type:15,number:r,flags:n,unit:c}}return i===SQ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Eu(e)){for(var r=ui(e);Eu(this.peekCodePoint(0))&&r.length<6;)r+=ui(this.consumeCodePoint());fg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||rH(n)||n>1114111?YT:n}return e===To?YT:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(JT(r))e+=ui(r);else if(cA(r,this.peekCodePoint(0)))e+=ui(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),SF=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new IF;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||SH(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?yw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Od=function(t){return t.type===15},g0=function(t){return t.type===17},vn=function(t){return t.type===20},IH=function(t){return t.type===0},Cw=function(t,e){return vn(t)&&t.value===e},NF=function(t){return t.type!==31},o0=function(t){return t.type!==31&&t.type!==4},Oo=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},SH=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},FA=function(t){return t.type===17||t.type===15},yi=function(t){return t.type===16||FA(t)},FF=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Zi={type:17,number:0,flags:Md},ay={type:16,number:50,flags:Md},xA={type:16,number:100,flags:Md},bf=function(t,e,r){var n=t[0],i=t[1];return[In(n,e),In(typeof i<"u"?i:n,r)]},In=function(t,e){if(t.type===16)return t.number/100*e;if(Od(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},RF="deg",kF="grad",DF="rad",UF="turn",Bp={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case RF:return Math.PI*e.number/180;case kF:return Math.PI/200*e.number;case DF:return e.number;case UF:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},MF=function(t){return t.type===15&&(t.unit===RF||t.unit===kF||t.unit===DF||t.unit===UF)},OF=function(t){var e=t.filter(vn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zi,Zi];case"to top":case"bottom":return Va(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zi,xA];case"to right":case"left":return Va(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[xA,xA];case"to bottom":case"top":return Va(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[xA,Zi];case"to left":case"right":return Va(270)}return 0},Va=function(t){return Math.PI*t/180},_A={name:"color",parse:function(t,e){if(e.type===18){var r=NH[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return wA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return wA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return wA(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return wA(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var c=wl[e.value.toUpperCase()];if(typeof c<"u")return c}return wl.TRANSPARENT}},TA=function(t){return(255&t)===0},Di=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},wA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ZT=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},$T=function(t,e){var r=e.filter(o0);if(r.length===3){var n=r.map(ZT),i=n[0],s=n[1],o=n[2];return wA(i,s,o,1)}if(r.length===4){var c=r.map(ZT),i=c[0],s=c[1],o=c[2],d=c[3];return wA(i,s,o,d)}return 0};function c2(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var eB=function(t,e){var r=e.filter(o0),n=r[0],i=r[1],s=r[2],o=r[3],c=(n.type===17?Va(n.number):Bp.parse(t,n))/(Math.PI*2),d=yi(i)?i.number/100:0,h=yi(s)?s.number/100:0,m=typeof o<"u"&&yi(o)?In(o,1):1;if(d===0)return wA(h*255,h*255,h*255,1);var C=h<=.5?h*(d+1):h+d-h*d,b=h*2-C,S=c2(b,C,c+1/3),R=c2(b,C,c),k=c2(b,C,c-1/3);return wA(S*255,R*255,k*255,m)},NH={hsl:eB,hsla:eB,rgb:$T,rgba:$T},Qf=function(t,e){return _A.parse(t,SF.create(e).parseComponentValue())},wl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},FH={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RH={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ip=function(t,e){var r=_A.parse(t,e[0]),n=e[1];return n&&yi(n)?{color:r,stop:n}:{color:r,stop:null}},tB=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Zi),n.stop===null&&(n.stop=xA);for(var i=[],s=0,o=0;o<t.length;o++){var c=t[o].stop;if(c!==null){var d=In(c,e);d>s?i.push(d):i.push(s),s=d}else i.push(null)}for(var h=null,o=0;o<i.length;o++){var m=i[o];if(m===null)h===null&&(h=o);else if(h!==null){for(var C=o-h,b=i[h-1],S=(m-b)/(C+1),R=1;R<=C;R++)i[h+R-1]=S*R;h=null}}return t.map(function(k,U){var V=k.color;return{color:V,stop:Math.max(Math.min(1,i[U]/e),0)}})},kH=function(t,e,r){var n=e/2,i=r/2,s=In(t[0],e)-n,o=i-In(t[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},DH=function(t,e,r){var n=typeof t=="number"?t:kH(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,o=r/2,c=i/2,d=Math.sin(n-Math.PI/2)*c,h=Math.cos(n-Math.PI/2)*c;return[i,s-h,s+h,o-d,o+d]},io=function(t,e){return Math.sqrt(t*t+e*e)},rB=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,c){var d=c[0],h=c[1],m=io(r-d,n-h);return(i?m<o.optimumDistance:m>o.optimumDistance)?{optimumCorner:c,optimumDistance:m}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},UH=function(t,e,r,n,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=o=Math.min(io(e,r),io(e,r-i),io(e-n,r),io(e-n,r-i));else if(t.shape===1){var c=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),d=rB(n,i,e,r,!0),h=d[0],m=d[1];s=io(h-e,(m-r)/c),o=c*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=o=Math.max(io(e,r),io(e,r-i),io(e-n,r),io(e-n,r-i));else if(t.shape===1){var c=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),C=rB(n,i,e,r,!1),h=C[0],m=C[1];s=io(h-e,(m-r)/c),o=c*s}break}return Array.isArray(t.size)&&(s=In(t.size[0],n),o=t.size.length===2?In(t.size[1],i):s),[s,o]},MH=function(t,e){var r=Va(180),n=[];return Oo(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){r=OF(i);return}else if(MF(o)){r=Bp.parse(t,o);return}}var c=Ip(t,i);n.push(c)}),{angle:r,stops:n,type:1}},gg=function(t,e){var r=Va(180),n=[];return Oo(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=OF(i);return}else if(MF(o)){r=(Bp.parse(t,o)+Va(270))%Va(360);return}}var c=Ip(t,i);n.push(c)}),{angle:r,stops:n,type:1}},OH=function(t,e){var r=Va(180),n=[],i=1,s=0,o=3,c=[];return Oo(e).forEach(function(d,h){var m=d[0];if(h===0){if(vn(m)&&m.value==="linear"){i=1;return}else if(vn(m)&&m.value==="radial"){i=2;return}}if(m.type===18){if(m.name==="from"){var C=_A.parse(t,m.values[0]);n.push({stop:Zi,color:C})}else if(m.name==="to"){var C=_A.parse(t,m.values[0]);n.push({stop:xA,color:C})}else if(m.name==="color-stop"){var b=m.values.filter(o0);if(b.length===2){var C=_A.parse(t,b[1]),S=b[0];g0(S)&&n.push({stop:{type:16,number:S.number*100,flags:S.flags},color:C})}}}}),i===1?{angle:(r+Va(180))%Va(360),stops:n,type:i}:{size:o,shape:s,stops:n,position:c,type:i}},LF="closest-side",PF="farthest-side",QF="closest-corner",HF="farthest-corner",VF="circle",jF="ellipse",GF="cover",KF="contain",LH=function(t,e){var r=0,n=3,i=[],s=[];return Oo(e).forEach(function(o,c){var d=!0;if(c===0){var h=!1;d=o.reduce(function(C,b){if(h)if(vn(b))switch(b.value){case"center":return s.push(ay),C;case"top":case"left":return s.push(Zi),C;case"right":case"bottom":return s.push(xA),C}else(yi(b)||FA(b))&&s.push(b);else if(vn(b))switch(b.value){case VF:return r=0,!1;case jF:return r=1,!1;case"at":return h=!0,!1;case LF:return n=0,!1;case GF:case PF:return n=1,!1;case KF:case QF:return n=2,!1;case HF:return n=3,!1}else if(FA(b)||yi(b))return Array.isArray(n)||(n=[]),n.push(b),!1;return C},d)}if(d){var m=Ip(t,o);i.push(m)}}),{size:n,shape:r,stops:i,position:s,type:2}},pg=function(t,e){var r=0,n=3,i=[],s=[];return Oo(e).forEach(function(o,c){var d=!0;if(c===0?d=o.reduce(function(m,C){if(vn(C))switch(C.value){case"center":return s.push(ay),!1;case"top":case"left":return s.push(Zi),!1;case"right":case"bottom":return s.push(xA),!1}else if(yi(C)||FA(C))return s.push(C),!1;return m},d):c===1&&(d=o.reduce(function(m,C){if(vn(C))switch(C.value){case VF:return r=0,!1;case jF:return r=1,!1;case KF:case LF:return n=0,!1;case PF:return n=1,!1;case QF:return n=2,!1;case GF:case HF:return n=3,!1}else if(FA(C)||yi(C))return Array.isArray(n)||(n=[]),n.push(C),!1;return m},d)),d){var h=Ip(t,o);i.push(h)}}),{size:n,shape:r,stops:i,position:s,type:2}},PH=function(t){return t.type===1},QH=function(t){return t.type===2},oy={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=zF[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function HH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!zF[t.name])}var zF={"linear-gradient":MH,"-moz-linear-gradient":gg,"-ms-linear-gradient":gg,"-o-linear-gradient":gg,"-webkit-linear-gradient":gg,"radial-gradient":LH,"-moz-radial-gradient":pg,"-ms-radial-gradient":pg,"-o-radial-gradient":pg,"-webkit-radial-gradient":pg,"-webkit-gradient":OH},VH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return o0(n)&&HH(n)}).map(function(n){return oy.parse(t,n)})}},jH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(vn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Oo(e).map(function(r){return r.filter(yi)}).map(FF)}},KH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Oo(e).map(function(r){return r.filter(vn).map(function(n){return n.value}).join(" ")}).map(zH)}},zH=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Wu||(Wu={}));var WH={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Oo(e).map(function(r){return r.filter(qH)})}},qH=function(t){return vn(t)||yi(t)},Sp=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},XH=Sp("top"),YH=Sp("right"),JH=Sp("bottom"),ZH=Sp("left"),Np=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return FF(r.filter(yi))}}},$H=Np("top-left"),eV=Np("top-right"),tV=Np("bottom-right"),rV=Np("bottom-left"),Fp=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nV=Fp("top"),iV=Fp("right"),sV=Fp("bottom"),aV=Fp("left"),Rp=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Od(r)?r.number:0}}},oV=Rp("top"),lV=Rp("right"),AV=Rp("bottom"),cV=Rp("left"),uV={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fV={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},dV={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(vn).reduce(function(r,n){return r|hV(n.value)},0)}},hV=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gV={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pV={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},B1;(function(t){t.NORMAL="normal",t.STRICT="strict"})(B1||(B1={}));var mV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return B1.STRICT;case"normal":default:return B1.NORMAL}}},xV={name:"line-height",initialValue:"normal",prefix:!1,type:4},nB=function(t,e){return vn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:yi(t)?In(t,e):e},wV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:oy.parse(t,e)}},vV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Ew={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},kp=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},yV=kp("top"),CV=kp("right"),EV=kp("bottom"),bV=kp("left"),_V={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(vn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},TV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Dp=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},BV=Dp("top"),IV=Dp("right"),SV=Dp("bottom"),NV=Dp("left"),FV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},RV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Cw(e[0],"none")?[]:Oo(e).map(function(r){for(var n={color:wl.TRANSPARENT,offsetX:Zi,offsetY:Zi,blur:Zi},i=0,s=0;s<r.length;s++){var o=r[s];FA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=_A.parse(t,o)}return n})}},DV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},UV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=LV[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},MV=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},OV=function(t){var e=t.filter(function(d){return d.type===17}).map(function(d){return d.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],c=e[13];return e[14],e[15],e.length===16?[r,n,i,s,o,c]:null},LV={matrix:MV,matrix3d:OV},iB={type:16,number:50,flags:Md},PV=[iB,iB],QV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(yi);return r.length!==2?PV:[r[0],r[1]]}},HV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Hf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Hf||(Hf={}));var VV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Hf.BREAK_ALL;case"keep-all":return Hf.KEEP_ALL;case"normal":default:return Hf.NORMAL}}},jV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(g0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},WF={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},GV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return g0(e)?e.number:1}},KV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(vn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},WV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},qV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},XV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(g0(e))return e.number;if(vn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},YV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(vn).map(function(r){return r.value})}},JV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Bi=function(t,e){return(t&e)!==0},ZV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},$V={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(NF),s=0;s<i.length;s++){var o=i[s],c=i[s+1];if(o.type===20){var d=c&&g0(c)?c.number:1;n.push({counter:o.value,increment:d})}}return n}},ej={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(NF),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(vn(s)&&s.value!=="none"){var c=o&&g0(o)?o.number:0;r.push({counter:s.value,reset:c})}}return r}},tj={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Od).map(function(r){return WF.parse(t,r)})}},rj={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(IH);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,c=i[s+1].value;n.push({open:o,close:c})}return n}},sB=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},nj={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Cw(e[0],"none")?[]:Oo(e).map(function(r){for(var n={color:255,offsetX:Zi,offsetY:Zi,blur:Zi,spread:Zi,inset:!1},i=0,s=0;s<r.length;s++){var o=r[s];Cw(o,"inset")?n.inset=!0:FA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=_A.parse(t,o)}return n})}},ij={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(vn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},sj={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aj={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Od(e)?e.number:0}},oj=(function(){function t(e,r){var n,i;this.animationDuration=Vt(e,tj,r.animationDuration),this.backgroundClip=Vt(e,FH,r.backgroundClip),this.backgroundColor=Vt(e,RH,r.backgroundColor),this.backgroundImage=Vt(e,VH,r.backgroundImage),this.backgroundOrigin=Vt(e,jH,r.backgroundOrigin),this.backgroundPosition=Vt(e,GH,r.backgroundPosition),this.backgroundRepeat=Vt(e,KH,r.backgroundRepeat),this.backgroundSize=Vt(e,WH,r.backgroundSize),this.borderTopColor=Vt(e,XH,r.borderTopColor),this.borderRightColor=Vt(e,YH,r.borderRightColor),this.borderBottomColor=Vt(e,JH,r.borderBottomColor),this.borderLeftColor=Vt(e,ZH,r.borderLeftColor),this.borderTopLeftRadius=Vt(e,$H,r.borderTopLeftRadius),this.borderTopRightRadius=Vt(e,eV,r.borderTopRightRadius),this.borderBottomRightRadius=Vt(e,tV,r.borderBottomRightRadius),this.borderBottomLeftRadius=Vt(e,rV,r.borderBottomLeftRadius),this.borderTopStyle=Vt(e,nV,r.borderTopStyle),this.borderRightStyle=Vt(e,iV,r.borderRightStyle),this.borderBottomStyle=Vt(e,sV,r.borderBottomStyle),this.borderLeftStyle=Vt(e,aV,r.borderLeftStyle),this.borderTopWidth=Vt(e,oV,r.borderTopWidth),this.borderRightWidth=Vt(e,lV,r.borderRightWidth),this.borderBottomWidth=Vt(e,AV,r.borderBottomWidth),this.borderLeftWidth=Vt(e,cV,r.borderLeftWidth),this.boxShadow=Vt(e,nj,r.boxShadow),this.color=Vt(e,uV,r.color),this.direction=Vt(e,fV,r.direction),this.display=Vt(e,dV,r.display),this.float=Vt(e,gV,r.cssFloat),this.fontFamily=Vt(e,WV,r.fontFamily),this.fontSize=Vt(e,qV,r.fontSize),this.fontStyle=Vt(e,JV,r.fontStyle),this.fontVariant=Vt(e,YV,r.fontVariant),this.fontWeight=Vt(e,XV,r.fontWeight),this.letterSpacing=Vt(e,pV,r.letterSpacing),this.lineBreak=Vt(e,mV,r.lineBreak),this.lineHeight=Vt(e,xV,r.lineHeight),this.listStyleImage=Vt(e,wV,r.listStyleImage),this.listStylePosition=Vt(e,vV,r.listStylePosition),this.listStyleType=Vt(e,Ew,r.listStyleType),this.marginTop=Vt(e,yV,r.marginTop),this.marginRight=Vt(e,CV,r.marginRight),this.marginBottom=Vt(e,EV,r.marginBottom),this.marginLeft=Vt(e,bV,r.marginLeft),this.opacity=Vt(e,GV,r.opacity);var s=Vt(e,_V,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Vt(e,TV,r.overflowWrap),this.paddingTop=Vt(e,BV,r.paddingTop),this.paddingRight=Vt(e,IV,r.paddingRight),this.paddingBottom=Vt(e,SV,r.paddingBottom),this.paddingLeft=Vt(e,NV,r.paddingLeft),this.paintOrder=Vt(e,ij,r.paintOrder),this.position=Vt(e,RV,r.position),this.textAlign=Vt(e,FV,r.textAlign),this.textDecorationColor=Vt(e,KV,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Vt(e,zV,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Vt(e,kV,r.textShadow),this.textTransform=Vt(e,DV,r.textTransform),this.transform=Vt(e,UV,r.transform),this.transformOrigin=Vt(e,QV,r.transformOrigin),this.visibility=Vt(e,HV,r.visibility),this.webkitTextStrokeColor=Vt(e,sj,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Vt(e,aj,r.webkitTextStrokeWidth),this.wordBreak=Vt(e,VV,r.wordBreak),this.zIndex=Vt(e,jV,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return TA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Bi(this.display,4)||Bi(this.display,33554432)||Bi(this.display,268435456)||Bi(this.display,536870912)||Bi(this.display,67108864)||Bi(this.display,134217728)},t})(),lj=(function(){function t(e,r){this.content=Vt(e,ZV,r.content),this.quotes=Vt(e,rj,r.quotes)}return t})(),aB=(function(){function t(e,r){this.counterIncrement=Vt(e,$V,r.counterIncrement),this.counterReset=Vt(e,ej,r.counterReset)}return t})(),Vt=function(t,e,r){var n=new IF,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new SF(n.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,vn(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Bp.parse(t,s.parseComponentValue());case"color":return _A.parse(t,s.parseComponentValue());case"image":return oy.parse(t,s.parseComponentValue());case"length":var c=s.parseComponentValue();return FA(c)?c:Zi;case"length-percentage":var d=s.parseComponentValue();return yi(d)?d:Zi;case"time":return WF.parse(t,s.parseComponentValue())}break}},Aj="data-html2canvas-debug",cj=function(t){var e=t.getAttribute(Aj);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bw=function(t,e){var r=cj(t);return r===1||e===r},Lo=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bw(r,3))debugger;this.styles=new oj(e,window.getComputedStyle(r,null)),Bw(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=_p(this.context,r),bw(r,4)&&(this.flags|=16)}return t})(),uj="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",oB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_f=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mg=0;mg<oB.length;mg++)_f[oB.charCodeAt(mg)]=mg;var fj=function(t){var e=t.length*.75,r=t.length,n,i=0,s,o,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),m=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)s=_f[t.charCodeAt(n)],o=_f[t.charCodeAt(n+1)],c=_f[t.charCodeAt(n+2)],d=_f[t.charCodeAt(n+3)],m[i++]=s<<2|o>>4,m[i++]=(o&15)<<4|c>>2,m[i++]=(c&3)<<6|d&63;return h},dj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},hj=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},xc=5,ly=11,u2=2,gj=ly-xc,qF=65536>>xc,pj=1<<xc,f2=pj-1,mj=1024>>xc,xj=qF+mj,wj=xj,vj=32,yj=wj+vj,Cj=65536>>ly,Ej=1<<gj,bj=Ej-1,lB=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},_j=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Tj=function(t,e){var r=fj(t),n=Array.isArray(r)?hj(r):new Uint32Array(r),i=Array.isArray(r)?dj(r):new Uint16Array(r),s=24,o=lB(i,s/2,n[4]/2),c=n[5]===2?lB(i,(s+n[4])/2):_j(n,Math.ceil((s+n[4])/4));return new Bj(n[0],n[1],n[2],n[3],o,c)},Bj=(function(){function t(e,r,n,i,s,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>xc],r=(r<<u2)+(e&f2),this.data[r];if(e<=65535)return r=this.index[qF+(e-55296>>xc)],r=(r<<u2)+(e&f2),this.data[r];if(e<this.highStart)return r=yj-Cj+(e>>ly),r=this.index[r],r+=e>>xc&bj,r=this.index[r],r=(r<<u2)+(e&f2),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),AB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ij=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xg=0;xg<AB.length;xg++)Ij[AB.charCodeAt(xg)]=xg;var Sj=1,d2=2,h2=3,cB=4,uB=5,Nj=7,fB=8,g2=9,p2=10,dB=11,hB=12,gB=13,pB=14,m2=15,Fj=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Rj=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var o=t[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},kj=Tj(uj),Pa="",x2="",Dj=function(t){return kj.get(t)},Uj=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],o=e[r];if(s===d2&&o===h2)return Pa;if(s===d2||s===h2||s===cB||o===d2||o===h2||o===cB)return x2;if(s===fB&&[fB,g2,dB,hB].indexOf(o)!==-1||(s===dB||s===g2)&&(o===g2||o===p2)||(s===hB||s===p2)&&o===p2||o===gB||o===uB||o===Nj||s===Sj)return Pa;if(s===gB&&o===pB){for(;i===uB;)i=e[--n];if(i===pB)return Pa}if(s===m2&&o===m2){for(var c=0;i===m2;)c++,i=e[--n];if(c%2===0)return Pa}return x2},Mj=function(t){var e=Fj(t),r=e.length,n=0,i=0,s=e.map(Dj);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Pa;n<r&&(o=Uj(e,s,++n))===Pa;);if(o!==Pa||n===r){var c=Rj.apply(null,e.slice(i,n));return i=n,{value:c,done:!1}}return{done:!0,value:null}}}},Oj=function(t){for(var e=Mj(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Lj=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Pj=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Tp(n.data).map(function(d){return ui(d)}),s=0,o={},c=i.every(function(d,h){r.setStart(n,s),r.setEnd(n,s+d.length);var m=r.getBoundingClientRect();s+=d.length;var C=m.x>o.x||m.y>o.y;return o=m,h===0?!0:C});return t.body.removeChild(e),c},Qj=function(){return typeof new Image().crossOrigin<"u"},Hj=function(){return typeof new XMLHttpRequest().responseType=="string"},Vj=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},mB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},jj=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var o=_w(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),xB(o).then(function(c){n.drawImage(c,0,0);var d=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var h=t.createElement("div");return h.style.backgroundImage="url("+s+")",h.style.height=r+"px",mB(d)?xB(_w(r,r,0,0,h)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),mB(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},_w=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",r.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(i),o},xB=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},qi={get SUPPORT_RANGE_BOUNDS(){var t=Lj(document);return Object.defineProperty(qi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=qi.SUPPORT_RANGE_BOUNDS&&Pj(document);return Object.defineProperty(qi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Vj(document);return Object.defineProperty(qi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?jj(document):Promise.resolve(!1);return Object.defineProperty(qi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Qj();return Object.defineProperty(qi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Hj();return Object.defineProperty(qi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(qi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(qi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Vf=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),Gj=function(t,e,r,n){var i=Wj(e,r),s=[],o=0;return i.forEach(function(c){if(r.textDecorationLine.length||c.trim().length>0)if(qi.SUPPORT_RANGE_BOUNDS){var d=wB(n,o,c.length).getClientRects();if(d.length>1){var h=Ay(c),m=0;h.forEach(function(b){s.push(new Vf(b,Bl.fromDOMRectList(t,wB(n,m+o,b.length).getClientRects()))),m+=b.length})}else s.push(new Vf(c,Bl.fromDOMRectList(t,d)))}else{var C=n.splitText(c.length);s.push(new Vf(c,Kj(t,n))),n=C}else qi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));o+=c.length}),s},Kj=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=_p(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Bl.EMPTY},wB=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},Ay=function(t){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Oj(t)},zj=function(t,e){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Xj(t,e)},Wj=function(t,e){return e.letterSpacing!==0?Ay(t):zj(t,e)},qj=[32,160,4961,65792,65793,4153,4241],Xj=function(t,e){for(var r=CQ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var o=i.value.slice(),c=Tp(o),d="";c.forEach(function(h){qj.indexOf(h)===-1?d+=ui(h):(d.length&&n.push(d),n.push(ui(h)),d="")}),d.length&&n.push(d)}};!(i=r.next()).done;)s();return n},Yj=(function(){function t(e,r,n){this.text=Jj(r.data,n.textTransform),this.textBounds=Gj(e,this.text,n,r)}return t})(),Jj=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Zj,$j);case 2:return t.toUpperCase();default:return t}},Zj=/(^|\s|:|-|\(|\))([a-z])/g,$j=function(t,e,r){return t.length>0?e+r.toUpperCase():t},XF=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(Lo),YF=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(Lo),JF=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,o=_p(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(Lo),ZF=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(Lo),Tw=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(Lo),eG=[{type:15,flags:0,unit:"px",number:3}],tG=[{type:16,flags:0,number:50}],rG=function(t){return t.width>t.height?new Bl(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Bl(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},nG=function(t){var e=t.type===iG?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},I1="checkbox",S1="radio",iG="password",vB=707406591,cy=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=nG(n),(i.type===I1||i.type===S1)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=rG(i.bounds)),i.type){case I1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=eG;break;case S1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=tG;break}return i}return e})(Lo),$F=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(Lo),eR=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(Lo),tR=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=nR(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Qf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):wl.TRANSPARENT,o=n.contentWindow.document.body?Qf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):wl.TRANSPARENT;i.backgroundColor=TA(s)?TA(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e})(Lo),sG=["OL","UL","MENU"],r1=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,iR(i)&&i.data.trim().length>0)r.textNodes.push(new Yj(t,i,r.styles));else if(Lu(i))if(lR(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return r1(t,c,r,n)});else{var o=rR(t,i);o.styles.isVisible()&&(aG(i,o,n)?o.flags|=4:oG(o.styles)&&(o.flags|=2),sG.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?r1(t,i.shadowRoot,o,n):!N1(i)&&!sR(i)&&!F1(i)&&r1(t,i,o,n))}},rR=function(t,e){return Iw(e)?new XF(t,e):aR(e)?new YF(t,e):sR(e)?new JF(t,e):lG(e)?new ZF(t,e):AG(e)?new Tw(t,e):cG(e)?new cy(t,e):F1(e)?new $F(t,e):N1(e)?new eR(t,e):oR(e)?new tR(t,e):new Lo(t,e)},nR=function(t,e){var r=rR(t,e);return r.flags|=4,r1(t,e,r,r),r},aG=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||uy(t)&&r.styles.isTransparent()},oG=function(t){return t.isPositioned()||t.isFloating()},iR=function(t){return t.nodeType===Node.TEXT_NODE},Lu=function(t){return t.nodeType===Node.ELEMENT_NODE},Bw=function(t){return Lu(t)&&typeof t.style<"u"&&!n1(t)},n1=function(t){return typeof t.className=="object"},lG=function(t){return t.tagName==="LI"},AG=function(t){return t.tagName==="OL"},cG=function(t){return t.tagName==="INPUT"},uG=function(t){return t.tagName==="HTML"},sR=function(t){return t.tagName==="svg"},uy=function(t){return t.tagName==="BODY"},aR=function(t){return t.tagName==="CANVAS"},yB=function(t){return t.tagName==="VIDEO"},Iw=function(t){return t.tagName==="IMG"},oR=function(t){return t.tagName==="IFRAME"},CB=function(t){return t.tagName==="STYLE"},fG=function(t){return t.tagName==="SCRIPT"},N1=function(t){return t.tagName==="TEXTAREA"},F1=function(t){return t.tagName==="SELECT"},lR=function(t){return t.tagName==="SLOT"},EB=function(t){return t.tagName.indexOf("-")>0},dG=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(c){var d=r.counters[c.counter];d&&c.increment!==0&&(s=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=c.increment)});var o=[];return s&&i.forEach(function(c){var d=r.counters[c.counter];o.push(c.counter),d||(d=r.counters[c.counter]=[]),d.push(c.reset)}),o},t})(),bB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_B={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bu=function(t,e,r,n,i,s){return t<e||t>r?cd(t,i,s.length>0):n.integers.reduce(function(o,c,d){for(;t>=c;)t-=c,o+=n.values[d];return o},"")+s},AR=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ai=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(AR(Math.abs(t),s,n,function(o){return ui(Math.floor(o%s)+e)})+i)},ac=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return AR(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},ku=1,lA=2,AA=4,Tf=8,ul=function(t,e,r,n,i,s){if(t<-9999||t>9999)return cd(t,4,i.length>0);var o=Math.abs(t),c=i;if(o===0)return e[0]+c;for(var d=0;o>0&&d<=4;d++){var h=o%10;h===0&&Bi(s,ku)&&c!==""?c=e[h]+c:h>1||h===1&&d===0||h===1&&d===1&&Bi(s,lA)||h===1&&d===1&&Bi(s,AA)&&t>100||h===1&&d>1&&Bi(s,Tf)?c=e[h]+(d>0?r[d-1]:"")+c:h===1&&d>0&&(c=r[d-1]+c),o=Math.floor(o/10)}return(t<0?n:"")+c},TB="",BB="",IB="",w2="",cd=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var c=Ai(t,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return ac(t,"",i);case 6:return bu(t,1,3999,bB,3,n).toLowerCase();case 7:return bu(t,1,3999,bB,3,n);case 8:return Ai(t,945,969,!1,n);case 9:return Ai(t,97,122,!1,n);case 10:return Ai(t,65,90,!1,n);case 11:return Ai(t,1632,1641,!0,n);case 12:case 49:return bu(t,1,9999,_B,3,n);case 35:return bu(t,1,9999,_B,3,n).toLowerCase();case 13:return Ai(t,2534,2543,!0,n);case 14:case 30:return Ai(t,6112,6121,!0,n);case 15:return ac(t,"",i);case 16:return ac(t,"",i);case 17:case 48:return ul(t,"",TB,"",i,lA|AA|Tf);case 47:return ul(t,"",BB,"",i,ku|lA|AA|Tf);case 42:return ul(t,"",TB,"",i,lA|AA|Tf);case 41:return ul(t,"",BB,"",i,ku|lA|AA|Tf);case 26:return ul(t,"","",IB,i,0);case 25:return ul(t,"","",IB,i,ku|lA|AA);case 31:return ul(t,"","",w2,s,ku|lA|AA);case 33:return ul(t,"","",w2,s,0);case 32:return ul(t,"","",w2,s,ku|lA|AA);case 18:return Ai(t,2406,2415,!0,n);case 20:return bu(t,1,19999,gG,3,n);case 21:return Ai(t,2790,2799,!0,n);case 22:return Ai(t,2662,2671,!0,n);case 22:return bu(t,1,10999,hG,3,n);case 23:return ac(t,"");case 24:return ac(t,"");case 27:return Ai(t,3302,3311,!0,n);case 28:return ac(t,"",i);case 29:return ac(t,"",i);case 34:return Ai(t,3792,3801,!0,n);case 37:return Ai(t,6160,6169,!0,n);case 38:return Ai(t,4160,4169,!0,n);case 39:return Ai(t,2918,2927,!0,n);case 40:return Ai(t,1776,1785,!0,n);case 43:return Ai(t,3046,3055,!0,n);case 44:return Ai(t,3174,3183,!0,n);case 45:return Ai(t,3664,3673,!0,n);case 46:return Ai(t,3872,3881,!0,n);case 3:default:return Ai(t,48,57,!0,n)}},cR="data-html2canvas-ignore",SB=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new dG,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=pG(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,c=i.contentWindow,d=c.document,h=wG(i).then(function(){return Is(n,void 0,void 0,function(){var m,C;return As(this,function(b){switch(b.label){case 0:return this.scrolledElements.forEach(EG),c&&(c.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==r.top||c.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-r.left,c.scrollY-r.top,0,0))),m=this.options.onclone,C=this.clonedReferenceElement,typeof C>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:b.sent(),b.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,xG(d)]:[3,4];case 3:b.sent(),b.label=4;case 4:return typeof m=="function"?[2,Promise.resolve().then(function(){return m(d,C)}).then(function(){return i})]:[2,i]}})})});return d.open(),d.write(yG(document.doctype)+"<html></html>"),CG(this.referenceElement.ownerDocument,s,o),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),h},t.prototype.createElementClone=function(e){if(bw(e,2))debugger;if(aR(e))return this.createCanvasClone(e);if(yB(e))return this.createVideoClone(e);if(CB(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Iw(r)&&(Iw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),EB(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return v2(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(c){var d=c.getContextAttributes();(d==null?void 0:d.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Lu(r)||!fG(r)&&!r.hasAttribute(cR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Lu(r)||!CB(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Lu(s)&&lR(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(c){return i.appendChildNode(r,c,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(iR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Lu(e)&&(Bw(e)||n1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),c=n.getComputedStyle(e,":after");this.referenceElement===e&&Bw(i)&&(this.clonedReferenceElement=i),uy(i)&&TG(i);var d=this.counters.parse(new aB(this.context,s)),h=this.resolvePseudoContent(e,i,o,jf.BEFORE);EB(e)&&(r=!0),yB(e)||this.cloneChildNodes(e,i,r),h&&i.insertBefore(h,i.firstChild);var m=this.resolvePseudoContent(e,i,c,jf.AFTER);return m&&i.appendChild(m),this.counters.pop(d),(s&&(this.options.copyStyles||n1(e))&&!oR(e)||r)&&v2(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(N1(e)||F1(e))&&(N1(i)||F1(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var o=n.content,c=r.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new aB(this.context,n));var d=new lj(this.context,n),h=c.createElement("html2canvaspseudoelement");v2(n,h),d.content.forEach(function(C){if(C.type===0)h.appendChild(c.createTextNode(C.value));else if(C.type===22){var b=c.createElement("img");b.src=C.value,b.style.opacity="1",h.appendChild(b)}else if(C.type===18){if(C.name==="attr"){var S=C.values.filter(vn);S.length&&h.appendChild(c.createTextNode(e.getAttribute(S[0].value)||""))}else if(C.name==="counter"){var R=C.values.filter(o0),k=R[0],U=R[1];if(k&&vn(k)){var V=s.counters.getCounterValue(k.value),G=U&&vn(U)?Ew.parse(s.context,U.value):3;h.appendChild(c.createTextNode(cd(V,G,!1)))}}else if(C.name==="counters"){var Q=C.values.filter(o0),k=Q[0],J=Q[1],U=Q[2];if(k&&vn(k)){var Z=s.counters.getCounterValues(k.value),K=U&&vn(U)?Ew.parse(s.context,U.value):3,M=J&&J.type===0?J.value:"",P=Z.map(function(te){return cd(te,K,!1)}).join(M);h.appendChild(c.createTextNode(P))}}}else if(C.type===20)switch(C.value){case"open-quote":h.appendChild(c.createTextNode(sB(d.quotes,s.quoteDepth++,!0)));break;case"close-quote":h.appendChild(c.createTextNode(sB(d.quotes,--s.quoteDepth,!1)));break;default:h.appendChild(c.createTextNode(C.value))}}),h.className=Sw+" "+Nw;var m=i===jf.BEFORE?" "+Sw:" "+Nw;return n1(r)?r.className.baseValue+=m:r.className+=m,h}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),jf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(jf||(jf={}));var pG=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(cR,"true"),t.body.appendChild(r),r},mG=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},xG=function(t){return Promise.all([].slice.call(t.images,0).map(mG))},wG=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},vG=["all","d","content"],v2=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);vG.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},yG=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},CG=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},EG=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},bG=":before",_G=":after",Sw="___html2canvas___pseudoelement_before",Nw="___html2canvas___pseudoelement_after",NB=`{
    content: "" !important;
    display: none !important;
}`,TG=function(t){BG(t,"."+Sw+bG+NB+`
         .`+Nw+_G+NB)},BG=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},uR=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),IG=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(C2(e)||RG(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Is(this,void 0,void 0,function(){var r,n,i,s,o=this;return As(this,function(c){switch(c.label){case 0:return r=uR.isSameOrigin(e),n=!y2(e)&&this._options.useCORS===!0&&qi.SUPPORT_CORS_IMAGES&&!r,i=!y2(e)&&!r&&!C2(e)&&typeof this._options.proxy=="string"&&qi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!y2(e)&&!C2(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(d,h){var m=new Image;m.onload=function(){return d(m)},m.onerror=h,(kG(s)||n)&&(m.crossOrigin="anonymous"),m.src=s,m.complete===!0&&setTimeout(function(){return d(m)},500),o._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var c=qi.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(c==="text")s(d.response);else{var C=new FileReader;C.addEventListener("load",function(){return s(C.result)},!1),C.addEventListener("error",function(b){return o(b)},!1),C.readAsDataURL(d.response)}else o("Failed to proxy resource "+i+" with status code "+d.status)},d.onerror=o;var h=n.indexOf("?")>-1?"&":"?";if(d.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=c),r._options.imageTimeout){var m=r._options.imageTimeout;d.timeout=m,d.ontimeout=function(){return o("Timed out ("+m+"ms) proxying "+i)}}d.send()})},t})(),SG=/^data:image\/svg\+xml/i,NG=/^data:image\/.*;base64,/i,FG=/^data:image\/.*/i,RG=function(t){return qi.SUPPORT_SVG_DRAWING||!DG(t)},y2=function(t){return FG.test(t)},kG=function(t){return NG.test(t)},C2=function(t){return t.substr(0,4)==="blob"},DG=function(t){return t.substr(-3).toLowerCase()==="svg"||SG.test(t)},Qt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),_u=function(t,e,r){return new Qt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},wg=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=_u(this.start,this.startControl,e),i=_u(this.startControl,this.endControl,e),s=_u(this.endControl,this.end,e),o=_u(n,i,e),c=_u(i,s,e),d=_u(o,c,e);return r?new t(this.start,n,o,d):new t(d,c,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ha=function(t){return t.type===1},UG=(function(){function t(e){var r=e.styles,n=e.bounds,i=bf(r.borderTopLeftRadius,n.width,n.height),s=i[0],o=i[1],c=bf(r.borderTopRightRadius,n.width,n.height),d=c[0],h=c[1],m=bf(r.borderBottomRightRadius,n.width,n.height),C=m[0],b=m[1],S=bf(r.borderBottomLeftRadius,n.width,n.height),R=S[0],k=S[1],U=[];U.push((s+d)/n.width),U.push((R+C)/n.width),U.push((o+k)/n.height),U.push((h+b)/n.height);var V=Math.max.apply(Math,U);V>1&&(s/=V,o/=V,d/=V,h/=V,C/=V,b/=V,R/=V,k/=V);var G=n.width-d,Q=n.height-b,J=n.width-C,Z=n.height-k,K=r.borderTopWidth,M=r.borderRightWidth,P=r.borderBottomWidth,O=r.borderLeftWidth,re=In(r.paddingTop,e.bounds.width),te=In(r.paddingRight,e.bounds.width),q=In(r.paddingBottom,e.bounds.width),X=In(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Ln(n.left+O/3,n.top+K/3,s-O/3,o-K/3,ln.TOP_LEFT):new Qt(n.left+O/3,n.top+K/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Ln(n.left+G,n.top+K/3,d-M/3,h-K/3,ln.TOP_RIGHT):new Qt(n.left+n.width-M/3,n.top+K/3),this.bottomRightBorderDoubleOuterBox=C>0||b>0?Ln(n.left+J,n.top+Q,C-M/3,b-P/3,ln.BOTTOM_RIGHT):new Qt(n.left+n.width-M/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=R>0||k>0?Ln(n.left+O/3,n.top+Z,R-O/3,k-P/3,ln.BOTTOM_LEFT):new Qt(n.left+O/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Ln(n.left+O*2/3,n.top+K*2/3,s-O*2/3,o-K*2/3,ln.TOP_LEFT):new Qt(n.left+O*2/3,n.top+K*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Ln(n.left+G,n.top+K*2/3,d-M*2/3,h-K*2/3,ln.TOP_RIGHT):new Qt(n.left+n.width-M*2/3,n.top+K*2/3),this.bottomRightBorderDoubleInnerBox=C>0||b>0?Ln(n.left+J,n.top+Q,C-M*2/3,b-P*2/3,ln.BOTTOM_RIGHT):new Qt(n.left+n.width-M*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=R>0||k>0?Ln(n.left+O*2/3,n.top+Z,R-O*2/3,k-P*2/3,ln.BOTTOM_LEFT):new Qt(n.left+O*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=s>0||o>0?Ln(n.left+O/2,n.top+K/2,s-O/2,o-K/2,ln.TOP_LEFT):new Qt(n.left+O/2,n.top+K/2),this.topRightBorderStroke=s>0||o>0?Ln(n.left+G,n.top+K/2,d-M/2,h-K/2,ln.TOP_RIGHT):new Qt(n.left+n.width-M/2,n.top+K/2),this.bottomRightBorderStroke=C>0||b>0?Ln(n.left+J,n.top+Q,C-M/2,b-P/2,ln.BOTTOM_RIGHT):new Qt(n.left+n.width-M/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=R>0||k>0?Ln(n.left+O/2,n.top+Z,R-O/2,k-P/2,ln.BOTTOM_LEFT):new Qt(n.left+O/2,n.top+n.height-P/2),this.topLeftBorderBox=s>0||o>0?Ln(n.left,n.top,s,o,ln.TOP_LEFT):new Qt(n.left,n.top),this.topRightBorderBox=d>0||h>0?Ln(n.left+G,n.top,d,h,ln.TOP_RIGHT):new Qt(n.left+n.width,n.top),this.bottomRightBorderBox=C>0||b>0?Ln(n.left+J,n.top+Q,C,b,ln.BOTTOM_RIGHT):new Qt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=R>0||k>0?Ln(n.left,n.top+Z,R,k,ln.BOTTOM_LEFT):new Qt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?Ln(n.left+O,n.top+K,Math.max(0,s-O),Math.max(0,o-K),ln.TOP_LEFT):new Qt(n.left+O,n.top+K),this.topRightPaddingBox=d>0||h>0?Ln(n.left+Math.min(G,n.width-M),n.top+K,G>n.width+M?0:Math.max(0,d-M),Math.max(0,h-K),ln.TOP_RIGHT):new Qt(n.left+n.width-M,n.top+K),this.bottomRightPaddingBox=C>0||b>0?Ln(n.left+Math.min(J,n.width-O),n.top+Math.min(Q,n.height-P),Math.max(0,C-M),Math.max(0,b-P),ln.BOTTOM_RIGHT):new Qt(n.left+n.width-M,n.top+n.height-P),this.bottomLeftPaddingBox=R>0||k>0?Ln(n.left+O,n.top+Math.min(Z,n.height-P),Math.max(0,R-O),Math.max(0,k-P),ln.BOTTOM_LEFT):new Qt(n.left+O,n.top+n.height-P),this.topLeftContentBox=s>0||o>0?Ln(n.left+O+X,n.top+K+re,Math.max(0,s-(O+X)),Math.max(0,o-(K+re)),ln.TOP_LEFT):new Qt(n.left+O+X,n.top+K+re),this.topRightContentBox=d>0||h>0?Ln(n.left+Math.min(G,n.width+O+X),n.top+K+re,G>n.width+O+X?0:d-O+X,h-(K+re),ln.TOP_RIGHT):new Qt(n.left+n.width-(M+te),n.top+K+re),this.bottomRightContentBox=C>0||b>0?Ln(n.left+Math.min(J,n.width-(O+X)),n.top+Math.min(Q,n.height+K+re),Math.max(0,C-(M+te)),b-(P+q),ln.BOTTOM_RIGHT):new Qt(n.left+n.width-(M+te),n.top+n.height-(P+q)),this.bottomLeftContentBox=R>0||k>0?Ln(n.left+O+X,n.top+Z,Math.max(0,R-(O+X)),k-(P+q),ln.BOTTOM_LEFT):new Qt(n.left+O+X,n.top+n.height-(P+q))}return t})(),ln;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ln||(ln={}));var Ln=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),o=r*s,c=n*s,d=t+r,h=e+n;switch(i){case ln.TOP_LEFT:return new wg(new Qt(t,h),new Qt(t,h-c),new Qt(d-o,e),new Qt(d,e));case ln.TOP_RIGHT:return new wg(new Qt(t,e),new Qt(t+o,e),new Qt(d,h-c),new Qt(d,h));case ln.BOTTOM_RIGHT:return new wg(new Qt(d,e),new Qt(d,e+c),new Qt(t+o,h),new Qt(t,h));case ln.BOTTOM_LEFT:default:return new wg(new Qt(d,h),new Qt(d-o,h),new Qt(t,e+c),new Qt(t,e))}},R1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},MG=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},k1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},OG=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),vg=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),LG=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),PG=function(t){return t.type===0},fR=function(t){return t.type===1},QG=function(t){return t.type===2},FB=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},HG=function(t,e,r,n,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},dR=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),hR=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new UG(this.container),this.container.styles.opacity<1&&this.effects.push(new LG(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new OG(n,i,s))}if(this.container.styles.overflowX!==0){var o=R1(this.curves),c=k1(this.curves);FB(o,c)?this.effects.push(new vg(o,6)):(this.effects.push(new vg(o,2)),this.effects.push(new vg(c,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(d){return!fR(d)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=R1(n.curves),c=k1(n.curves);FB(o,c)||i.unshift(new vg(c,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(d){return Bi(d.target,e)})},t})(),Fw=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Bi(i.flags,4),o=Bi(i.flags,2),c=new hR(i,t);Bi(i.styles.display,2048)&&n.push(c);var d=Bi(i.flags,8)?[]:n;if(s||o){var h=s||i.styles.isPositioned()?r:e,m=new dR(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var C=i.styles.zIndex.order;if(C<0){var b=0;h.negativeZIndex.some(function(R,k){return C>R.element.container.styles.zIndex.order?(b=k,!1):b>0}),h.negativeZIndex.splice(b,0,m)}else if(C>0){var S=0;h.positiveZIndex.some(function(R,k){return C>=R.element.container.styles.zIndex.order?(S=k+1,!1):S>0}),h.positiveZIndex.splice(S,0,m)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(m)}else i.styles.isFloating()?h.nonPositionedFloats.push(m):h.nonPositionedInlineLevel.push(m);Fw(c,m,s?m:r,d)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),Fw(c,e,r,d);Bi(i.flags,8)&&gR(i,d)})},gR=function(t,e){for(var r=t instanceof Tw?t.start:1,n=t instanceof Tw?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof ZF&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=cd(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},VG=function(t){var e=new hR(t,null),r=new dR(e),n=[];return Fw(e,r,r,n),gR(e.container,n),r},RB=function(t,e){switch(e){case 0:return ja(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ja(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ja(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ja(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},jG=function(t,e){switch(e){case 0:return ja(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ja(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ja(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ja(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},GG=function(t,e){switch(e){case 0:return ja(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ja(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ja(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ja(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},KG=function(t,e){switch(e){case 0:return yg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return yg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return yg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return yg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},yg=function(t,e){var r=[];return Ha(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ha(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ja=function(t,e,r,n){var i=[];return Ha(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ha(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ha(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ha(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},pR=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},D1=function(t){var e=t.styles,r=t.bounds,n=In(e.paddingLeft,r.width),i=In(e.paddingRight,r.width),s=In(e.paddingTop,r.width),o=In(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},zG=function(t,e){return t===0?e.bounds:t===2?D1(e):pR(e)},WG=function(t,e){return t===0?e.bounds:t===2?D1(e):pR(e)},E2=function(t,e,r){var n=zG(Du(t.styles.backgroundOrigin,e),t),i=WG(Du(t.styles.backgroundClip,e),t),s=qG(Du(t.styles.backgroundSize,e),r,n),o=s[0],c=s[1],d=bf(Du(t.styles.backgroundPosition,e),n.width-o,n.height-c),h=XG(Du(t.styles.backgroundRepeat,e),d,s,n,i),m=Math.round(n.left+d[0]),C=Math.round(n.top+d[1]);return[h,m,C,o,c]},Tu=function(t){return vn(t)&&t.value===Wu.AUTO},Cg=function(t){return typeof t=="number"},qG=function(t,e,r){var n=e[0],i=e[1],s=e[2],o=t[0],c=t[1];if(!o)return[0,0];if(yi(o)&&c&&yi(c))return[In(o,r.width),In(c,r.height)];var d=Cg(s);if(vn(o)&&(o.value===Wu.CONTAIN||o.value===Wu.COVER)){if(Cg(s)){var h=r.width/r.height;return h<s!=(o.value===Wu.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var m=Cg(n),C=Cg(i),b=m||C;if(Tu(o)&&(!c||Tu(c))){if(m&&C)return[n,i];if(!d&&!b)return[r.width,r.height];if(b&&d){var S=m?n:i*s,R=C?i:n/s;return[S,R]}var k=m?n:r.width,U=C?i:r.height;return[k,U]}if(d){var V=0,G=0;return yi(o)?V=In(o,r.width):yi(c)&&(G=In(c,r.height)),Tu(o)?V=G*s:(!c||Tu(c))&&(G=V/s),[V,G]}var Q=null,J=null;if(yi(o)?Q=In(o,r.width):c&&yi(c)&&(J=In(c,r.height)),Q!==null&&(!c||Tu(c))&&(J=m&&C?Q/n*i:r.height),J!==null&&Tu(o)&&(Q=m&&C?J/i*n:r.width),Q!==null&&J!==null)return[Q,J];throw new Error("Unable to calculate background-size for element")},Du=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},XG=function(t,e,r,n,i){var s=e[0],o=e[1],c=r[0],d=r[1];switch(t){case 2:return[new Qt(Math.round(n.left),Math.round(n.top+o)),new Qt(Math.round(n.left+n.width),Math.round(n.top+o)),new Qt(Math.round(n.left+n.width),Math.round(d+n.top+o)),new Qt(Math.round(n.left),Math.round(d+n.top+o))];case 3:return[new Qt(Math.round(n.left+s),Math.round(n.top)),new Qt(Math.round(n.left+s+c),Math.round(n.top)),new Qt(Math.round(n.left+s+c),Math.round(n.height+n.top)),new Qt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Qt(Math.round(n.left+s),Math.round(n.top+o)),new Qt(Math.round(n.left+s+c),Math.round(n.top+o)),new Qt(Math.round(n.left+s+c),Math.round(n.top+o+d)),new Qt(Math.round(n.left+s),Math.round(n.top+o+d))];default:return[new Qt(Math.round(i.left),Math.round(i.top)),new Qt(Math.round(i.left+i.width),Math.round(i.top)),new Qt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Qt(Math.round(i.left),Math.round(i.height+i.top))]}},YG="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",kB="Hidden Text",JG=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=YG,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(kB)),n.appendChild(s),n.appendChild(i);var c=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(kB)),n.style.lineHeight="normal",i.style.verticalAlign="super";var d=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:c,middle:d}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),mR=(function(){function t(e,r){this.context=e,this.options=r}return t})(),ZG=1e4,$G=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new JG(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),QG(r)&&(this.ctx.globalAlpha=r.opacity),PG(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),fR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Is(this,void 0,void 0,function(){var n;return As(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Is(this,void 0,void 0,function(){return As(this,function(n){switch(n.label){case 0:if(Bi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=Ay(r.text);o.reduce(function(c,d){return s.ctx.fillText(d,c,r.bounds.top+i),c+s.ctx.measureText(d).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=iK(r.fontFamily).join(", "),s=Od(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Is(this,void 0,void 0,function(){var i,s,o,c,d,h,m,C,b=this;return As(this,function(S){return i=this.createFontStyle(n),s=i[0],o=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(o,c),h=d.baseline,m=d.middle,C=n.paintOrder,r.textBounds.forEach(function(R){C.forEach(function(k){switch(k){case 0:b.ctx.fillStyle=Di(n.color),b.renderTextWithLetterSpacing(R,n.letterSpacing,h);var U=n.textShadow;U.length&&R.text.trim().length&&(U.slice(0).reverse().forEach(function(V){b.ctx.shadowColor=Di(V.color),b.ctx.shadowOffsetX=V.offsetX.number*b.options.scale,b.ctx.shadowOffsetY=V.offsetY.number*b.options.scale,b.ctx.shadowBlur=V.blur.number,b.renderTextWithLetterSpacing(R,n.letterSpacing,h)}),b.ctx.shadowColor="",b.ctx.shadowOffsetX=0,b.ctx.shadowOffsetY=0,b.ctx.shadowBlur=0),n.textDecorationLine.length&&(b.ctx.fillStyle=Di(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(V){switch(V){case 1:b.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top+h),R.bounds.width,1);break;case 2:b.ctx.fillRect(R.bounds.left,Math.round(R.bounds.top),R.bounds.width,1);break;case 3:b.ctx.fillRect(R.bounds.left,Math.ceil(R.bounds.top+m),R.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&R.text.trim().length&&(b.ctx.strokeStyle=Di(n.webkitTextStrokeColor),b.ctx.lineWidth=n.webkitTextStrokeWidth,b.ctx.lineJoin=window.chrome?"miter":"round",b.ctx.strokeText(R.text,R.bounds.left,R.bounds.top+h)),b.ctx.strokeStyle="",b.ctx.lineWidth=0,b.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=D1(r),o=k1(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Is(this,void 0,void 0,function(){var n,i,s,o,c,d,G,G,h,m,C,b,J,S,R,Z,k,U,V,G,Q,J,Z;return As(this,function(K){switch(K.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,o=0,c=n.textNodes,K.label=1;case 1:return o<c.length?(d=c[o],[4,this.renderTextNode(d,s)]):[3,4];case 2:K.sent(),K.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof XF))return[3,8];K.label=5;case 5:return K.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return G=K.sent(),this.renderReplacedElement(n,i,G),[3,8];case 7:return K.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof YF&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof JF))return[3,12];K.label=9;case 9:return K.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return G=K.sent(),this.renderReplacedElement(n,i,G),[3,12];case 11:return K.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof tR&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:m=K.sent(),n.width&&n.height&&this.ctx.drawImage(m,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),K.label=14;case 14:if(n instanceof cy&&(C=Math.min(n.bounds.width,n.bounds.height),n.type===I1?n.checked&&(this.ctx.save(),this.path([new Qt(n.bounds.left+C*.39363,n.bounds.top+C*.79),new Qt(n.bounds.left+C*.16,n.bounds.top+C*.5549),new Qt(n.bounds.left+C*.27347,n.bounds.top+C*.44071),new Qt(n.bounds.left+C*.39694,n.bounds.top+C*.5649),new Qt(n.bounds.left+C*.72983,n.bounds.top+C*.23),new Qt(n.bounds.left+C*.84,n.bounds.top+C*.34085),new Qt(n.bounds.left+C*.39363,n.bounds.top+C*.79)]),this.ctx.fillStyle=Di(vB),this.ctx.fill(),this.ctx.restore()):n.type===S1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+C/2,n.bounds.top+C/2,C/4,0,Math.PI*2,!0),this.ctx.fillStyle=Di(vB),this.ctx.fill(),this.ctx.restore())),eK(n)&&n.value.length){switch(b=this.createFontStyle(s),J=b[0],S=b[1],R=this.fontMetrics.getMetrics(J,S).baseline,this.ctx.font=J,this.ctx.fillStyle=Di(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=rK(n.styles.textAlign),Z=D1(n),k=0,n.styles.textAlign){case 1:k+=Z.width/2;break;case 2:k+=Z.width;break}U=Z.add(k,0,0,-Z.height/2+1),this.ctx.save(),this.path([new Qt(Z.left,Z.top),new Qt(Z.left+Z.width,Z.top),new Qt(Z.left+Z.width,Z.top+Z.height),new Qt(Z.left,Z.top+Z.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Vf(n.value,U),s.letterSpacing,R),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Bi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(V=n.styles.listStyleImage,V.type!==0)return[3,18];G=void 0,Q=V.url,K.label=15;case 15:return K.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return G=K.sent(),this.ctx.drawImage(G,n.bounds.left-(G.width+10),n.bounds.top),[3,18];case 17:return K.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(J=this.createFontStyle(s)[0],this.ctx.font=J,this.ctx.fillStyle=Di(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Z=new Bl(n.bounds.left,n.bounds.top+In(n.styles.paddingTop,n.bounds.width),n.bounds.width,nB(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Vf(r.listValue,Z),s.letterSpacing,nB(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),K.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Is(this,void 0,void 0,function(){var n,i,V,s,o,V,c,d,V,h,m,V,C,b,V,S,R,V,k,U,V;return As(this,function(G){switch(G.label){case 0:if(Bi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:G.sent(),n=0,i=r.negativeZIndex,G.label=2;case 2:return n<i.length?(V=i[n],[4,this.renderStack(V)]):[3,5];case 3:G.sent(),G.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:G.sent(),s=0,o=r.nonInlineLevel,G.label=7;case 7:return s<o.length?(V=o[s],[4,this.renderNode(V)]):[3,10];case 8:G.sent(),G.label=9;case 9:return s++,[3,7];case 10:c=0,d=r.nonPositionedFloats,G.label=11;case 11:return c<d.length?(V=d[c],[4,this.renderStack(V)]):[3,14];case 12:G.sent(),G.label=13;case 13:return c++,[3,11];case 14:h=0,m=r.nonPositionedInlineLevel,G.label=15;case 15:return h<m.length?(V=m[h],[4,this.renderStack(V)]):[3,18];case 16:G.sent(),G.label=17;case 17:return h++,[3,15];case 18:C=0,b=r.inlineLevel,G.label=19;case 19:return C<b.length?(V=b[C],[4,this.renderNode(V)]):[3,22];case 20:G.sent(),G.label=21;case 21:return C++,[3,19];case 22:S=0,R=r.zeroOrAutoZIndexOrTransformedOrOpacity,G.label=23;case 23:return S<R.length?(V=R[S],[4,this.renderStack(V)]):[3,26];case 24:G.sent(),G.label=25;case 25:return S++,[3,23];case 26:k=0,U=r.positiveZIndex,G.label=27;case 27:return k<U.length?(V=U[k],[4,this.renderStack(V)]):[3,30];case 28:G.sent(),G.label=29;case 29:return k++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var o=Ha(i)?i.start:i;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Ha(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=o.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,i);var d=c.getContext("2d");return d.drawImage(r,0,0,r.width,r.height,0,0,n,i),c},e.prototype.renderBackgroundImage=function(r){return Is(this,void 0,void 0,function(){var n,i,s,o,c,d;return As(this,function(h){switch(h.label){case 0:n=r.styles.backgroundImage.length-1,i=function(m){var C,b,S,re,me,Ce,X,Re,P,R,re,me,Ce,X,Re,k,U,V,G,Q,J,Z,K,M,P,O,re,te,q,X,Re,xe,me,Ce,We,be,Ye,ie,W,oe,ae,ue;return As(this,function(Ee){switch(Ee.label){case 0:if(m.type!==0)return[3,5];C=void 0,b=m.url,Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,s.context.cache.match(b)];case 2:return C=Ee.sent(),[3,4];case 3:return Ee.sent(),s.context.logger.error("Error loading background-image "+b),[3,4];case 4:return C&&(S=E2(r,n,[C.width,C.height,C.width/C.height]),re=S[0],me=S[1],Ce=S[2],X=S[3],Re=S[4],P=s.ctx.createPattern(s.resizeImage(C,X,Re),"repeat"),s.renderRepeat(re,P,me,Ce)),[3,6];case 5:PH(m)?(R=E2(r,n,[null,null,null]),re=R[0],me=R[1],Ce=R[2],X=R[3],Re=R[4],k=DH(m.angle,X,Re),U=k[0],V=k[1],G=k[2],Q=k[3],J=k[4],Z=document.createElement("canvas"),Z.width=X,Z.height=Re,K=Z.getContext("2d"),M=K.createLinearGradient(V,Q,G,J),tB(m.stops,U).forEach(function(qe){return M.addColorStop(qe.stop,Di(qe.color))}),K.fillStyle=M,K.fillRect(0,0,X,Re),X>0&&Re>0&&(P=s.ctx.createPattern(Z,"repeat"),s.renderRepeat(re,P,me,Ce))):QH(m)&&(O=E2(r,n,[null,null,null]),re=O[0],te=O[1],q=O[2],X=O[3],Re=O[4],xe=m.position.length===0?[ay]:m.position,me=In(xe[0],X),Ce=In(xe[xe.length-1],Re),We=UH(m,me,Ce,X,Re),be=We[0],Ye=We[1],be>0&&Ye>0&&(ie=s.ctx.createRadialGradient(te+me,q+Ce,0,te+me,q+Ce,be),tB(m.stops,be*2).forEach(function(qe){return ie.addColorStop(qe.stop,Di(qe.color))}),s.path(re),s.ctx.fillStyle=ie,be!==Ye?(W=r.bounds.left+.5*r.bounds.width,oe=r.bounds.top+.5*r.bounds.height,ae=Ye/be,ue=1/ae,s.ctx.save(),s.ctx.translate(W,oe),s.ctx.transform(1,0,0,ae,0,0),s.ctx.translate(-W,-oe),s.ctx.fillRect(te,ue*(q-oe)+oe,X,Re*ue),s.ctx.restore()):s.ctx.fill())),Ee.label=6;case 6:return n--,[2]}})},s=this,o=0,c=r.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return o<c.length?(d=c[o],[5,i(d)]):[3,4];case 2:h.sent(),h.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Is(this,void 0,void 0,function(){return As(this,function(s){return this.path(RB(i,n)),this.ctx.fillStyle=Di(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Is(this,void 0,void 0,function(){var o,c;return As(this,function(d){switch(d.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return d.sent(),[2];case 2:return o=jG(s,i),this.path(o),this.ctx.fillStyle=Di(r),this.ctx.fill(),c=GG(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Is(this,void 0,void 0,function(){var n,i,s,o,c,d,h,m,C=this;return As(this,function(b){switch(b.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!TA(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=tK(Du(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),TA(n.backgroundColor)||(this.ctx.fillStyle=Di(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:b.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(S){C.ctx.save();var R=R1(r.curves),k=S.inset?0:ZG,U=HG(R,-k+(S.inset?1:-1)*S.spread.number,(S.inset?1:-1)*S.spread.number,S.spread.number*(S.inset?-2:2),S.spread.number*(S.inset?-2:2));S.inset?(C.path(R),C.ctx.clip(),C.mask(U)):(C.mask(R),C.ctx.clip(),C.path(U)),C.ctx.shadowOffsetX=S.offsetX.number+k,C.ctx.shadowOffsetY=S.offsetY.number,C.ctx.shadowColor=Di(S.color),C.ctx.shadowBlur=S.blur.number,C.ctx.fillStyle=S.inset?Di(S.color):"rgba(0,0,0,1)",C.ctx.fill(),C.ctx.restore()}),b.label=2;case 2:c=0,d=0,h=s,b.label=3;case 3:return d<h.length?(m=h[d],m.style!==0&&!TA(m.color)&&m.width>0?m.style!==2?[3,5]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,2)]:[3,11]):[3,13];case 4:return b.sent(),[3,11];case 5:return m.style!==3?[3,7]:[4,this.renderDashedDottedBorder(m.color,m.width,c,r.curves,3)];case 6:return b.sent(),[3,11];case 7:return m.style!==4?[3,9]:[4,this.renderDoubleBorder(m.color,m.width,c,r.curves)];case 8:return b.sent(),[3,11];case 9:return[4,this.renderSolidBorder(m.color,c,r.curves)];case 10:b.sent(),b.label=11;case 11:c++,b.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,o){return Is(this,void 0,void 0,function(){var c,d,h,m,C,b,S,R,k,U,V,G,Q,J,Z,K,Z,K;return As(this,function(M){return this.ctx.save(),c=KG(s,i),d=RB(s,i),o===2&&(this.path(d),this.ctx.clip()),Ha(d[0])?(h=d[0].start.x,m=d[0].start.y):(h=d[0].x,m=d[0].y),Ha(d[1])?(C=d[1].end.x,b=d[1].end.y):(C=d[1].x,b=d[1].y),i===0||i===2?S=Math.abs(h-C):S=Math.abs(m-b),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(d.slice(0,2)),R=n<3?n*3:n*2,k=n<3?n*2:n,o===3&&(R=n,k=n),U=!0,S<=R*2?U=!1:S<=R*2+k?(V=S/(2*R+k),R*=V,k*=V):(G=Math.floor((S+k)/(R+k)),Q=(S-G*R)/(G-1),J=(S-(G+1)*R)/G,k=J<=0||Math.abs(k-Q)<Math.abs(k-J)?Q:J),U&&(o===3?this.ctx.setLineDash([0,R+k]):this.ctx.setLineDash([R,k])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Di(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ha(d[0])&&(Z=d[3],K=d[0],this.ctx.beginPath(),this.formatPath([new Qt(Z.end.x,Z.end.y),new Qt(K.start.x,K.start.y)]),this.ctx.stroke()),Ha(d[1])&&(Z=d[1],K=d[2],this.ctx.beginPath(),this.formatPath([new Qt(Z.end.x,Z.end.y),new Qt(K.start.x,K.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Is(this,void 0,void 0,function(){var n;return As(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Di(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=VG(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(mR),eK=function(t){return t instanceof eR||t instanceof $F?!0:t instanceof cy&&t.type!==S1&&t.type!==I1},tK=function(t,e){switch(t){case 0:return R1(e);case 2:return MG(e);case 1:default:return k1(e)}},rK=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},nK=["-apple-system","system-ui"],iK=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return nK.indexOf(e)===-1}):t},sK=(function(t){po(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Is(this,void 0,void 0,function(){var n,i;return As(this,function(s){switch(s.label){case 0:return n=_w(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,aK(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Di(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(mR),aK=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},oK=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,eg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,eg([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,eg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,eg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),lK=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new oK({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new IG(this,e)}return t.instanceCount=1,t})(),RA=function(t,e){return e===void 0&&(e={}),AK(t,e)};typeof window<"u"&&uR.setContext(window);var AK=function(t,e){return Is(void 0,void 0,void 0,function(){var r,n,i,s,o,c,d,h,m,C,b,S,R,k,U,V,G,Q,J,Z,M,K,M,P,O,re,te,q,X,Re,xe,me,Ce,We,be,Ye,ie,W,oe,ae;return As(this,function(ue){switch(ue.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(re=e.useCORS)!==null&&re!==void 0?re:!1},s=cw({logging:(te=e.logging)!==null&&te!==void 0?te:!0,cache:e.cache},i),o={windowWidth:(q=e.windowWidth)!==null&&q!==void 0?q:n.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:n.innerHeight,scrollX:(Re=e.scrollX)!==null&&Re!==void 0?Re:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},c=new Bl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),d=new lK(s,c),h=(me=e.foreignObjectRendering)!==null&&me!==void 0?me:!1,m={allowTaint:(Ce=e.allowTaint)!==null&&Ce!==void 0?Ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},d.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),C=new SB(d,t,m),b=C.clonedReferenceElement,b?[4,C.toIFrame(r,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return S=ue.sent(),R=uy(b)||uG(b)?H7(b.ownerDocument):_p(d,b),k=R.width,U=R.height,V=R.left,G=R.top,Q=cK(d,b,e.backgroundColor),J={canvas:e.canvas,backgroundColor:Q,scale:(be=(We=e.scale)!==null&&We!==void 0?We:n.devicePixelRatio)!==null&&be!==void 0?be:1,x:((Ye=e.x)!==null&&Ye!==void 0?Ye:0)+V,y:((ie=e.y)!==null&&ie!==void 0?ie:0)+G,width:(W=e.width)!==null&&W!==void 0?W:Math.ceil(k),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(U)},h?(d.logger.debug("Document cloned, using foreign object rendering"),M=new sK(d,J),[4,M.render(b)]):[3,3];case 2:return Z=ue.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+V+","+G+" with size "+k+"x"+U+" using computed rendering"),d.logger.debug("Starting DOM parsing"),K=nR(d,b),Q===K.styles.backgroundColor&&(K.styles.backgroundColor=wl.TRANSPARENT),d.logger.debug("Starting renderer for element at "+J.x+","+J.y+" with size "+J.width+"x"+J.height),M=new $G(d,J),[4,M.render(K)];case 4:Z=ue.sent(),ue.label=5;case 5:return(!((ae=e.removeContainer)!==null&&ae!==void 0)||ae)&&(SB.destroy(S)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,Z]}})})},cK=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Qf(t,getComputedStyle(n.documentElement).backgroundColor):wl.TRANSPARENT,s=n.body?Qf(t,getComputedStyle(n.body).backgroundColor):wl.TRANSPARENT,o=typeof r=="string"?Qf(t,r):r===null?wl.TRANSPARENT:4294967295;return e===n.documentElement?TA(i)?TA(s)?o:s:i:o};const uK=({currentUser:t,onLogout:e,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:i,onNavigateToCustomers:s,onNavigateToNotifications:o,onNavigateToSuppliers:c,onNavigateToClientRequests:d,onNavigateToCheckbook:h,onNavigateToSpecialOrders:m,onNavigateToQuotes:C,onNavigateToTranslation:b,invoices:S,products:R,onEditInvoice:k,onDeleteInvoice:U,onNewInvoiceForCustomer:V,settings:G,unreadNotificationsCount:Q,pendingStaffCount:J=0})=>{const[Z,K]=ye.useState("unpaid"),[M,P]=ye.useState(!1),[O,re]=ye.useState(""),[te,q]=ye.useState(!1),[X,Re]=ye.useState(null),[xe,me]=ye.useState(!1);ye.useRef(null);const Ce=ye.useRef(null);ye.useEffect(()=>{if(X&&G.showBarcode)try{setTimeout(()=>{["hidden-barcode","share-barcode"].forEach(ae=>{const ue=document.getElementById(ae);ue&&typeof JsBarcode<"u"&&JsBarcode(ue,X.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})})},100)}catch(oe){console.error(oe)}},[X,G.showBarcode]);const We=oe=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(oe),be=async()=>{if(!(!X||!Ce.current)){q(!0);try{(await RA(Ce.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:550})).toBlob(async ae=>{if(!ae){q(!1),alert("  ");return}try{const ue=new ClipboardItem({"image/png":ae});await navigator.clipboard.write([ue]);let Ee=X.phone?X.phone.replace(/\D/g,""):"";(Ee.startsWith("06")||Ee.startsWith("07")||Ee.startsWith("05"))&&(Ee="212"+Ee.substring(1)),window.open(Ee?`https://wa.me/${Ee}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{q(!1)}},"image/png",1)}catch{q(!1)}}},Ye=()=>{X&&hF(X,G)},ie=ye.useMemo(()=>S.filter(oe=>{const ae=Z==="all"?!0:oe.type===Z,ue=oe.name.includes(O)||oe.id.includes(O);return ae&&ue}).sort((oe,ae)=>ae.createdAt-oe.createdAt),[S,Z,O]),W=t.permissions.isManager&&J>0;return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[f.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),f.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&f.jsxs("button",{onClick:o,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Q>0&&f.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:Q})]}),f.jsxs("button",{onClick:i,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors relative active:scale-95",title:"",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),W&&f.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-black text-[8px] flex items-center justify-center text-white font-black animate-pulse",children:J})]})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[W&&f.jsx("div",{className:"mx-6 md:mx-0 mt-4 animate-in slide-in-from-top duration-500",children:f.jsxs("div",{onClick:i,className:"bg-orange-500/10 border border-orange-500/20 rounded-2xl p-4 flex items-center justify-between cursor-pointer active:scale-[0.98] transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-orange-900/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-orange-500",children:"  "}),f.jsxs("p",{className:"text-[10px] text-gray-500",children:[" ",J,"    "]})]})]}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-orange-500",children:f.jsx("path",{d:"m9 18 6-6-6-6"})})]})}),f.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 md:gap-4 md:mb-6 mt-4",children:[t.permissions.manageSuppliers&&f.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:f.jsx("button",{onClick:c,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),f.jsx("path",{d:"m11 16 2 2"}),f.jsx("path",{d:"m14 13 4 4"}),f.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageRequests&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:d,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),f.jsx("path",{d:"M12 11h4"}),f.jsx("path",{d:"M12 16h4"}),f.jsx("path",{d:"M8 11h.01"}),f.jsx("path",{d:"M8 16h.01"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageCheckbook&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:h,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),t.permissions.manageSpecialOrders&&f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:m,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:f.jsx("button",{onClick:C,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-amber-500/10 rounded-2xl flex items-center justify-center text-amber-500 border border-amber-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"}),f.jsx("path",{d:"M16 13H8"}),f.jsx("path",{d:"M16 17H8"}),f.jsx("path",{d:"M10 9H8"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})}),f.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:f.jsx("button",{onClick:b,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-indigo-500 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:f.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[f.jsx("div",{className:"w-14 h-14 bg-indigo-500/10 rounded-2xl flex items-center justify-center text-indigo-500 border border-indigo-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m5 8 6 6"}),f.jsx("path",{d:"m4 14 6-6 2-3"}),f.jsx("path",{d:"M2 5h12"}),f.jsx("path",{d:"M7 2h1"}),f.jsx("path",{d:"m22 22-5-10-5 10"}),f.jsx("path",{d:"M14 18h6"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white",children:""}),f.jsx("p",{className:"text-xs text-gray-500",children:" "})]})]})})})]}),f.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:f.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),f.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[f.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[f.jsxs("button",{onClick:()=>K("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${Z==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",Z==="unpaid"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),f.jsxs("button",{onClick:()=>K("paid"),className:`flex-1 py-3 font-bold transition-all relative ${Z==="paid"?"text-white":"text-gray-500"}`,children:["",Z==="paid"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),f.jsxs("button",{onClick:()=>K("all"),className:`flex-1 py-3 font-bold transition-all relative ${Z==="all"?"text-white":"text-gray-500"}`,children:["",Z==="all"&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),f.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:M?f.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[f.jsx("button",{onClick:()=>{P(!1),re("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("div",{className:"flex-1 max-w-[180px] relative",children:f.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:O,onChange:oe=>re(oe.target.value)})}),f.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[f.jsx("span",{className:"text-[#57b385] font-black",children:ie.length})," "]})]}):f.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[f.jsx("button",{onClick:()=>P(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),f.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[#57b385] font-black",children:ie.length}),"  "]})]})})]}),f.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:ie.length>0?ie.map(oe=>f.jsxs("div",{onClick:()=>Re(oe),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[f.jsxs("div",{className:"flex items-center gap-4 w-full",children:[f.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:oe.name}),f.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(oe.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),f.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:f.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[f.jsxs("span",{className:`text-sm font-black ${oe.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[We(oe.remainingAmount>0?oe.remainingAmount:oe.amount)," ."]}),f.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:oe.id})]})})]},oe.id)):f.jsx("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full font-bold",children:"  "})})]}),X&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:f.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[f.jsx("button",{onClick:()=>Re(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>me(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsx("button",{onClick:()=>V(X.name,X.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),f.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),f.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),f.jsx("button",{onClick:()=>k(X),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:X.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black text-white",children:X.name}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:X.id}),f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:X.date})]}),X.creatorName&&f.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",X.creatorName]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",X.items.length,")"]}),f.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:X.items.map((oe,ae)=>f.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white text-sm mb-1",children:oe.productName}),f.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[f.jsx("span",{className:"text-[#57b385] font-bold",children:oe.count}),"  ",We(oe.price)]})]}),f.jsx("div",{className:"font-black text-[#57b385]",children:We(oe.total)})]},ae))})]}),f.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),f.jsxs("span",{className:"text-lg font-black text-white",children:[We(X.amount)," ."]})]}),f.jsx("div",{className:"w-full h-px bg-gray-700/50"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),f.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[We(X.paidAmount)," ."]})]}),X.remainingAmount>0&&f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),f.jsxs("span",{className:"text-sm font-black text-red-500",children:[We(X.remainingAmount)," ."]})]})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[f.jsx("button",{onClick:be,disabled:te,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-[0.98] flex items-center justify-center gap-3 ${te?"opacity-50 cursor-not-allowed":""}`,children:te?f.jsx("span",{className:"text-sm",children:" ..."}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),f.jsx("polyline",{points:"16 6 12 2 8 6"}),f.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),f.jsx("button",{onClick:Ye,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:()=>Re(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Eg,{onClick:()=>{},icon:f.jsx(fK,{}),label:"",active:!0}),f.jsx(Eg,{onClick:r,icon:f.jsx(dK,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{onClick:n,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:f.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Eg,{onClick:s,icon:f.jsx(hK,{}),label:""}),f.jsx(Eg,{onClick:i,icon:f.jsx(gK,{}),label:""})]})]})},Eg=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),fK=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),dK=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),hK=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),gK=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xR=1252,pK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],fy={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dy=function(t){pK.indexOf(t)!=-1&&(xR=fy[0]=t)};function mK(){dy(1252)}var ao=function(t){dy(t)};function wR(){ao(1200),mK()}function DB(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function xK(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function vR(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Bf=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?xK(t.slice(2)):e==254&&r==255?vR(t.slice(2)):e==65279?t.slice(1):t},bg=function(e){return String.fromCharCode(e)},UB=function(e){return String.fromCharCode(e)},ud,vA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function MB(t){for(var e="",r=0,n=0,i=0,s=0,o=0,c=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),s=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,i=t.charCodeAt(h++),c=(n&15)<<2|i>>6,d=i&63,isNaN(n)?c=d=64:isNaN(i)&&(d=64),e+=vA.charAt(s)+vA.charAt(o)+vA.charAt(c)+vA.charAt(d);return e}function Ea(t){var e="",r=0,n=0,i=0,s=0,o=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)s=vA.indexOf(t.charAt(h++)),o=vA.indexOf(t.charAt(h++)),r=s<<2|o>>4,e+=String.fromCharCode(r),c=vA.indexOf(t.charAt(h++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),d=vA.indexOf(t.charAt(h++)),i=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var Hr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Oc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function kA(t){return Hr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function OB(t){return Hr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var so=function(e){return Hr?Oc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Lc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function hy(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return hy(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var gA=Hr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Oc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function wK(t){for(var e=[],r=0,n=t.length+250,i=kA(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|c>>6&15|(o&3)<<4,i[r++]=128|c&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(e.push(i.slice(0,r)),r=0,i=kA(65535),n=65530)}return e.push(i.slice(0,r)),gA(e)}var ks=/\u0000/g,If=/[\u0001-\u0006]/g;function qu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function oo(t,e){var r=""+t;return r.length>=e?r:ri("0",e-r.length)+r}function gy(t,e){var r=""+t;return r.length>=e?r:ri(" ",e-r.length)+r}function U1(t,e){var r=""+t;return r.length>=e?r:r+ri(" ",e-r.length)}function vK(t,e){var r=""+Math.round(t);return r.length>=e?r:ri("0",e-r.length)+r}function yK(t,e){var r=""+t;return r.length>=e?r:ri("0",e-r.length)+r}var LB=Math.pow(2,32);function Bu(t,e){if(t>LB||t<-LB)return vK(t,e);var r=Math.round(t);return yK(r,e)}function M1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var PB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],b2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function CK(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},QB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function O1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,o=1,c=0,d=1,h=0,m=0,C=Math.floor(i);h<e&&(C=Math.floor(i),c=C*o+s,m=C*h+d,!(i-C<5e-8));)i=1/(i-C),s=o,o=c,d=h,h=m;if(m>e&&(h>e?(m=d,c=s):(m=h,c=o)),!r)return[0,n*c,m];var b=Math.floor(n*c/m);return[b,n*c-b*m,m]}function hc(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,o=[],c={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),n<60&&(s=(s+6)%7),r&&(s=SK(d,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var yR=new Date(1899,11,31,0,0,0),bK=yR.getTime(),_K=new Date(1900,2,1,0,0,0);function CR(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=_K&&(r+=1440*60*1e3),(r-(bK+(t.getTimezoneOffset()-yR.getTimezoneOffset())*6e4))/(1440*60*1e3)}function py(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TK(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function BK(t){var e=t<0?12:11,r=py(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function IK(t){var e=py(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function fd(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=BK(t):e===10?r=t.toFixed(10).substr(0,12):r=IK(t),py(TK(r.toUpperCase()))}function Ic(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):fd(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return za(14,CR(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function SK(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function NK(t,e,r,n){var i="",s=0,o=0,c=r.y,d,h=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return b2[r.m-1][1];case 5:return b2[r.m-1][0];default:return b2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return PB[r.q][0];default:return PB[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?oo(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=oo(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=c,h=1;break}var m=h>0?oo(d,h):"";return m}function yA(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var ER=/%/g;function FK(t,e,r){var n=e.replace(ER,""),i=e.length-n.length;return vl(t,n,r*Math.pow(10,2*i))+ri("%",i)}function RK(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return vl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function bR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+bR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var _R=/# (\?+)( ?)\/( ?)(\d+)/;function kK(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),o=i-s*n,c=n;return r+(s===0?"":""+s)+" "+(o===0?ri(" ",t[1].length+1+t[4].length):gy(o,t[1].length)+t[2]+"/"+t[3]+oo(c,t[4].length))}function DK(t,e,r){return r+(e===0?"":""+e)+ri(" ",t[1].length+2+t[4].length)}var TR=/^#*0*\.([0#]+)/,BR=/\).*[0#]/,IR=/\(###\) ###\\?-####/;function Ns(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function HB(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function VB(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function UK(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function MK(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function La(t,e,r){if(t.charCodeAt(0)===40&&!e.match(BR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?La("n",n,r):"("+La("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return RK(t,e,r);if(e.indexOf("%")!==-1)return FK(t,e,r);if(e.indexOf("E")!==-1)return bR(e,r);if(e.charCodeAt(0)===36)return"$"+La(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,o,c,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Bu(d,e.length);if(e.match(/^[#?]+$/))return i=Bu(r,0),i==="0"&&(i=""),i.length>e.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(_R))return kK(s,d,h);if(e.match(/^#+0+$/))return h+Bu(d,e.length-e.indexOf("0"));if(s=e.match(TR))return i=HB(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])).replace(/\.(\d*)$/,function(R,k){return"."+k+ri("0",Ns(s[1]).length-k.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+HB(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+yA(Bu(d,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+La(t,e,-r):yA(""+(Math.floor(r)+UK(r,s[1].length)))+"."+oo(VB(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return La(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=qu(La(t,e.replace(/[\\-]/g,""),r)),o=0,qu(qu(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return o<i.length?i.charAt(o++):R==="0"?"0":""}));if(e.match(IR))return i=La(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=O1(d,Math.pow(10,o)-1,!1),i=""+h,m=vl("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=U1(c[2],o),m.length<s[4].length&&(m=Ns(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=O1(d,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?gy(c[1],o)+s[2]+"/"+s[3]+U1(c[2],o):ri(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Bu(r,0),e.length<=i.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var C=e.indexOf(".")-o,b=e.length-i.length-C;return Ns(e.substr(0,C)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=VB(r,s[1].length),r<0?"-"+La(t,e,-r):yA(MK(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?oo(0,3-R.length):"")+R})+"."+oo(o,s[1].length);switch(e){case"###,##0.00":return La(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var S=yA(Bu(d,0));return S!=="0"?h+S:"";case"###,###.00":return La(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return La(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OK(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return vl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function LK(t,e,r){var n=e.replace(ER,""),i=e.length-n.length;return vl(t,n,r*Math.pow(10,2*i))+ri("%",i)}function SR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Io(t,e,r){if(t.charCodeAt(0)===40&&!e.match(BR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Io("n",n,r):"("+Io("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return OK(t,e,r);if(e.indexOf("%")!==-1)return LK(t,e,r);if(e.indexOf("E")!==-1)return SR(e,r);if(e.charCodeAt(0)===36)return"$"+Io(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,o,c,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+oo(d,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(_R))return DK(s,d,h);if(e.match(/^#+0+$/))return h+oo(d,e.length-e.indexOf("0"));if(s=e.match(TR))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])),i=i.replace(/\.(\d*)$/,function(R,k){return"."+k+ri("0",Ns(s[1]).length-k.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+yA(""+d);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Io(t,e,-r):yA(""+r)+"."+ri("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Io(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=qu(Io(t,e.replace(/[\\-]/g,""),r)),o=0,qu(qu(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return o<i.length?i.charAt(o++):R==="0"?"0":""}));if(e.match(IR))return i=Io(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=O1(d,Math.pow(10,o)-1,!1),i=""+h,m=vl("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=U1(c[2],o),m.length<s[4].length&&(m=Ns(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=O1(d,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?gy(c[1],o)+s[2]+"/"+s[3]+U1(c[2],o):ri(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ns(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var C=e.indexOf(".")-o,b=e.length-i.length-C;return Ns(e.substr(0,C)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Io(t,e,-r):yA(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?oo(0,3-R.length):"")+R})+"."+oo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var S=yA(""+d);return S!=="0"?h+S:"";default:if(e.match(/\.[0#?]*$/))return Io(t,e.slice(0,e.lastIndexOf(".")),r)+Ns(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function vl(t,e,r){return(r|0)===r?Io(t,e,r):La(t,e,r)}function PK(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var NR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function p0(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":M1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(NR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function QK(t,e,r,n){for(var i=[],s="",o=0,c="",d="t",h,m,C,b="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!M1(t,o))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(C=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(C);i[i.length]={t:"t",v:s},++o;break;case"\\":var S=t.charAt(++o),R=S==="("||S===")"?S:"t";i[i.length]={t:R,v:S},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=hc(e,r,t.charAt(o+1)==="2"),h==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},d=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=hc(e,r),h==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=b),i[i.length]={t:c,v:s},d=c;break;case"A":case"a":case"":var k={t:c,v:c};if(h==null&&(h=hc(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(k.v=h.H>=12?"P":"A"),k.t="T",b="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(k.v=h.H>=12?"PM":"AM"),k.t="T",o+=5,b="h"):t.substr(o,5).toUpperCase()==="/"?(h!=null&&(k.v=h.H>=12?"":""),k.t="T",o+=5,b="h"):(k.t="t",++o),h==null&&k.t==="T")return"";i[i.length]=k,d=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(NR)){if(h==null&&(h=hc(e,r),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",p0(t)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},d=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++o;break}var U=0,V=0,G;for(o=i.length-1,d="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=b,d="h",U<1&&(U=1);break;case"s":(G=i[o].v.match(/\.0+$/))&&(V=Math.max(V,G[0].length-1)),U<3&&(U=3);case"d":case"y":case"M":case"e":d=i[o].t;break;case"m":d==="s"&&(i[o].t="M",U<2&&(U=2));break;case"X":break;case"Z":U<1&&i[o].v.match(/[Hh]/)&&(U=1),U<2&&i[o].v.match(/[Mm]/)&&(U=2),U<3&&i[o].v.match(/[Ss]/)&&(U=3)}switch(U){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var Q="",J;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=NK(i[o].t.charCodeAt(0),i[o].v,h,V),i[o].t="t";break;case"n":case"?":for(J=o+1;i[J]!=null&&((c=i[J].t)==="?"||c==="D"||(c===" "||c==="t")&&i[J+1]!=null&&(i[J+1].t==="?"||i[J+1].t==="t"&&i[J+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[J].v==="/"||i[J].v===" "&&i[J+1]!=null&&i[J+1].t=="?"));)i[o].v+=i[J].v,i[J]={v:"",t:";"},++J;Q+=i[o].v,o=J-1;break;case"G":i[o].t="t",i[o].v=Ic(e,r);break}var Z="",K,M;if(Q.length>0){Q.charCodeAt(0)==40?(K=e<0&&Q.charCodeAt(0)===45?-e:e,M=vl("n",Q,K)):(K=e<0&&n>1?-e:e,M=vl("n",Q,K),K<0&&i[0]&&i[0].t=="t"&&(M=M.substr(1),i[0].v="-"+i[0].v)),J=M.length-1;var P=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){P=o;break}var O=i.length;if(P===i.length&&M.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(J>=i[o].v.length-1?(J-=i[o].v.length,i[o].v=M.substr(J+1,i[o].v.length)):J<0?i[o].v="":(i[o].v=M.substr(0,J+1),J=-1),i[o].t="t",O=o);J>=0&&O<i.length&&(i[O].v=M.substr(0,J+1)+i[O].v)}else if(P!==i.length&&M.indexOf("E")===-1){for(J=M.indexOf(".")-1,o=P;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(m=i[o].v.indexOf(".")>-1&&o===P?i[o].v.indexOf(".")-1:i[o].v.length-1,Z=i[o].v.substr(m+1);m>=0;--m)J>=0&&(i[o].v.charAt(m)==="0"||i[o].v.charAt(m)==="#")&&(Z=M.charAt(J--)+Z);i[o].v=Z,i[o].t="t",O=o}for(J>=0&&O<i.length&&(i[O].v=M.substr(0,J+1)+i[O].v),J=M.indexOf(".")+1,o=P;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==P)){for(m=i[o].v.indexOf(".")>-1&&o===P?i[o].v.indexOf(".")+1:0,Z=i[o].v.substr(0,m);m<i[o].v.length;++m)J<M.length&&(Z+=M.charAt(J++));i[o].v=Z,i[o].t="t",O=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(K=n>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=vl(i[o].t,i[o].v,K),i[o].t="t");var re="";for(o=0;o!==i.length;++o)i[o]!=null&&(re+=i[o].v);return re}var jB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function GB(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function HK(t,e){var r=PK(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(jB),c=r[1].match(jB);return GB(e,o)?[n,r[0]]:GB(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,s]}function za(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:br)[t],n==null&&(n=r.table&&r.table[QB[t]]||br[QB[t]]),n==null&&(n=EK[t]||"General");break}if(M1(n,0))return Ic(e,r);e instanceof Date&&(e=CR(e,r.date1904));var i=HK(n,e);if(M1(i[1]))return Ic(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return QK(i[1],e,r,i[0])}function wc(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(br[r]==null){e<0&&(e=r);continue}if(br[r]==t){e=r;break}}e<0&&(e=391)}return br[e]=t,e}function FR(){br=CK()}var VK={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function jK(t){var e=typeof t=="number"?br[t]:t;return e=e.replace(RR,"(\\d+)"),new RegExp("^"+e+"$")}function GK(t,e,r){var n=-1,i=-1,s=-1,o=-1,c=-1,d=-1;(e.match(RR)||[]).forEach(function(C,b){var S=parseInt(r[b+1],10);switch(C.toLowerCase().charAt(0)){case"y":n=S;break;case"d":s=S;break;case"h":o=S;break;case"s":d=S;break;case"m":o>=0?c=S:i=S;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&c==-1&&d==-1?h:n==-1&&i==-1&&s==-1?m:h+"T"+m}var KK=(function(){var t={};t.version="1.2.0";function e(){for(var M=0,P=new Array(256),O=0;O!=256;++O)M=O,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,P[O]=M;return typeof Int32Array<"u"?new Int32Array(P):P}var r=e();function n(M){var P=0,O=0,re=0,te=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)te[re]=M[re];for(re=0;re!=256;++re)for(O=M[re],P=256+re;P<4096;P+=256)O=te[P]=O>>>8^M[O&255];var q=[];for(re=1;re!=16;++re)q[re-1]=typeof Int32Array<"u"?te.subarray(re*256,re*256+256):te.slice(re*256,re*256+256);return q}var i=n(r),s=i[0],o=i[1],c=i[2],d=i[3],h=i[4],m=i[5],C=i[6],b=i[7],S=i[8],R=i[9],k=i[10],U=i[11],V=i[12],G=i[13],Q=i[14];function J(M,P){for(var O=P^-1,re=0,te=M.length;re<te;)O=O>>>8^r[(O^M.charCodeAt(re++))&255];return~O}function Z(M,P){for(var O=P^-1,re=M.length-15,te=0;te<re;)O=Q[M[te++]^O&255]^G[M[te++]^O>>8&255]^V[M[te++]^O>>16&255]^U[M[te++]^O>>>24]^k[M[te++]]^R[M[te++]]^S[M[te++]]^b[M[te++]]^C[M[te++]]^m[M[te++]]^h[M[te++]]^d[M[te++]]^c[M[te++]]^o[M[te++]]^s[M[te++]]^r[M[te++]];for(re+=15;te<re;)O=O>>>8^r[(O^M[te++])&255];return~O}function K(M,P){for(var O=P^-1,re=0,te=M.length,q=0,X=0;re<te;)q=M.charCodeAt(re++),q<128?O=O>>>8^r[(O^q)&255]:q<2048?(O=O>>>8^r[(O^(192|q>>6&31))&255],O=O>>>8^r[(O^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,X=M.charCodeAt(re++)&1023,O=O>>>8^r[(O^(240|q>>8&7))&255],O=O>>>8^r[(O^(128|q>>2&63))&255],O=O>>>8^r[(O^(128|X>>6&15|(q&3)<<4))&255],O=O>>>8^r[(O^(128|X&63))&255]):(O=O>>>8^r[(O^(224|q>>12&15))&255],O=O>>>8^r[(O^(128|q>>6&63))&255],O=O>>>8^r[(O^(128|q&63))&255]);return~O}return t.table=r,t.bstr=J,t.buf=Z,t.str=K,t})(),Kr=(function(){var e={};e.version="1.2.1";function r(ne,ce){for(var de=ne.split("/"),he=ce.split("/"),ge=0,ve=0,Ve=Math.min(de.length,he.length);ge<Ve;++ge){if(ve=de[ge].length-he[ge].length)return ve;if(de[ge]!=he[ge])return de[ge]<he[ge]?-1:1}return de.length-he.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var ce=ne.lastIndexOf("/");return ce===-1?ne:ne.slice(0,ce+1)}function i(ne){if(ne.charAt(ne.length-1)=="/")return i(ne.slice(0,-1));var ce=ne.lastIndexOf("/");return ce===-1?ne:ne.slice(ce+1)}function s(ne,ce){typeof ce=="string"&&(ce=new Date(ce));var de=ce.getHours();de=de<<6|ce.getMinutes(),de=de<<5|ce.getSeconds()>>>1,ne.write_shift(2,de);var he=ce.getFullYear()-1980;he=he<<4|ce.getMonth()+1,he=he<<5|ce.getDate(),ne.write_shift(2,he)}function o(ne){var ce=ne.read_shift(2)&65535,de=ne.read_shift(2)&65535,he=new Date,ge=de&31;de>>>=5;var ve=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(ve-1),he.setDate(ge);var Ve=ce&31;ce>>>=5;var nt=ce&63;return ce>>>=6,he.setHours(ce),he.setMinutes(nt),he.setSeconds(Ve<<1),he}function c(ne){Yi(ne,0);for(var ce={},de=0;ne.l<=ne.length-4;){var he=ne.read_shift(2),ge=ne.read_shift(2),ve=ne.l+ge,Ve={};switch(he){case 21589:de=ne.read_shift(1),de&1&&(Ve.mtime=ne.read_shift(4)),ge>5&&(de&2&&(Ve.atime=ne.read_shift(4)),de&4&&(Ve.ctime=ne.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}ne.l=ve,ce[he]=Ve}return ce}var d;function h(){return d||(d={})}function m(ne,ce){if(ne[0]==80&&ne[1]==75)return Nn(ne,ce);if((ne[0]|32)==109&&(ne[1]|32)==105)return mt(ne,ce);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var de=3,he=512,ge=0,ve=0,Ve=0,nt=0,Le=0,Ke=[],ze=ne.slice(0,512);Yi(ze,0);var ht=C(ze);switch(de=ht[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ht[1]==0)return Nn(ne,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=ne.slice(0,he),Yi(ze,28));var xt=ne.slice(0,he);b(ze,de);var wt=ze.read_shift(4,"i");if(de===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);ze.l+=4,Ve=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),nt=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Le=ze.read_shift(4,"i"),ve=ze.read_shift(4,"i");for(var Ct=-1,It=0;It<109&&(Ct=ze.read_shift(4,"i"),!(Ct<0));++It)Ke[It]=Ct;var Ht=S(ne,he);U(Le,ve,Ht,he,Ke);var it=G(Ht,Ve,Ke,he);it[Ve].name="!Directory",ge>0&&nt!==X&&(it[nt].name="!MiniFAT"),it[Ke[0]].name="!FAT",it.fat_addrs=Ke,it.ssz=he;var jr={},er=[],Qn=[],Xa=[];Q(Ve,it,Ht,er,ge,jr,Qn,nt),R(Qn,Xa,er),er.shift();var Cr={FileIndex:Qn,FullPaths:Xa};return ce&&ce.raw&&(Cr.raw={header:xt,sectors:Ht}),Cr}function C(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(Re,"Header Signature: "),ne.l+=16;var ce=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),ce]}function b(ne,ce){var de=9;switch(ne.l+=2,de=ne.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function S(ne,ce){for(var de=Math.ceil(ne.length/ce)-1,he=[],ge=1;ge<de;++ge)he[ge-1]=ne.slice(ge*ce,(ge+1)*ce);return he[de-1]=ne.slice(de*ce),he}function R(ne,ce,de){for(var he=0,ge=0,ve=0,Ve=0,nt=0,Le=de.length,Ke=[],ze=[];he<Le;++he)Ke[he]=ze[he]=he,ce[he]=de[he];for(;nt<ze.length;++nt)he=ze[nt],ge=ne[he].L,ve=ne[he].R,Ve=ne[he].C,Ke[he]===he&&(ge!==-1&&Ke[ge]!==ge&&(Ke[he]=Ke[ge]),ve!==-1&&Ke[ve]!==ve&&(Ke[he]=Ke[ve])),Ve!==-1&&(Ke[Ve]=he),ge!==-1&&he!=Ke[he]&&(Ke[ge]=Ke[he],ze.lastIndexOf(ge)<nt&&ze.push(ge)),ve!==-1&&he!=Ke[he]&&(Ke[ve]=Ke[he],ze.lastIndexOf(ve)<nt&&ze.push(ve));for(he=1;he<Le;++he)Ke[he]===he&&(ve!==-1&&Ke[ve]!==ve?Ke[he]=Ke[ve]:ge!==-1&&Ke[ge]!==ge&&(Ke[he]=Ke[ge]));for(he=1;he<Le;++he)if(ne[he].type!==0){if(nt=he,nt!=Ke[nt])do nt=Ke[nt],ce[he]=ce[nt]+"/"+ce[he];while(nt!==0&&Ke[nt]!==-1&&nt!=Ke[nt]);Ke[he]=-1}for(ce[0]+="/",he=1;he<Le;++he)ne[he].type!==2&&(ce[he]+="/")}function k(ne,ce,de){for(var he=ne.start,ge=ne.size,ve=[],Ve=he;de&&ge>0&&Ve>=0;)ve.push(ce.slice(Ve*q,Ve*q+q)),ge-=q,Ve=cc(de,Ve*4);return ve.length===0?Ti(0):gA(ve).slice(0,ne.size)}function U(ne,ce,de,he,ge){var ve=X;if(ne===X){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var Ve=de[ne],nt=(he>>>2)-1;if(!Ve)return;for(var Le=0;Le<nt&&(ve=cc(Ve,Le*4))!==X;++Le)ge.push(ve);U(cc(Ve,he-4),ce-1,de,he,ge)}}function V(ne,ce,de,he,ge){var ve=[],Ve=[];ge||(ge=[]);var nt=he-1,Le=0,Ke=0;for(Le=ce;Le>=0;){ge[Le]=!0,ve[ve.length]=Le,Ve.push(ne[Le]);var ze=de[Math.floor(Le*4/he)];if(Ke=Le*4&nt,he<4+Ke)throw new Error("FAT boundary crossed: "+Le+" 4 "+he);if(!ne[ze])break;Le=cc(ne[ze],Ke)}return{nodes:ve,data:e4([Ve])}}function G(ne,ce,de,he){var ge=ne.length,ve=[],Ve=[],nt=[],Le=[],Ke=he-1,ze=0,ht=0,xt=0,wt=0;for(ze=0;ze<ge;++ze)if(nt=[],xt=ze+ce,xt>=ge&&(xt-=ge),!Ve[xt]){Le=[];var Ct=[];for(ht=xt;ht>=0;){Ct[ht]=!0,Ve[ht]=!0,nt[nt.length]=ht,Le.push(ne[ht]);var It=de[Math.floor(ht*4/he)];if(wt=ht*4&Ke,he<4+wt)throw new Error("FAT boundary crossed: "+ht+" 4 "+he);if(!ne[It]||(ht=cc(ne[It],wt),Ct[ht]))break}ve[xt]={nodes:nt,data:e4([Le])}}return ve}function Q(ne,ce,de,he,ge,ve,Ve,nt){for(var Le=0,Ke=he.length?2:0,ze=ce[ne].data,ht=0,xt=0,wt;ht<ze.length;ht+=128){var Ct=ze.slice(ht,ht+128);Yi(Ct,64),xt=Ct.read_shift(2),wt=yy(Ct,0,xt-Ke),he.push(wt);var It={name:wt,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},Ht=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);Ht!==0&&(It.ct=J(Ct,Ct.l-8));var it=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);it!==0&&(It.mt=J(Ct,Ct.l-8)),It.start=Ct.read_shift(4,"i"),It.size=Ct.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=X,It.name=""),It.type===5?(Le=It.start,ge>0&&Le!==X&&(ce[Le].name="!StreamData")):It.size>=4096?(It.storage="fat",ce[It.start]===void 0&&(ce[It.start]=V(de,It.start,ce.fat_addrs,ce.ssz)),ce[It.start].name=It.name,It.content=ce[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:Le!==X&&It.start!==X&&ce[Le]&&(It.content=k(It,ce[Le].data,(ce[nt]||{}).data))),It.content&&Yi(It.content,0),ve[wt]=It,Ve.push(It)}}function J(ne,ce){return new Date((wa(ne,ce+4)/1e7*Math.pow(2,32)+wa(ne,ce)/1e7-11644473600)*1e3)}function Z(ne,ce){return h(),m(d.readFileSync(ne),ce)}function K(ne,ce){var de=ce&&ce.type;switch(de||Hr&&Buffer.isBuffer(ne)&&(de="buffer"),de||"base64"){case"file":return Z(ne,ce);case"base64":return m(so(Ea(ne)),ce);case"binary":return m(so(ne),ce)}return m(ne,ce)}function M(ne,ce){var de=ce||{},he=de.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=he+"/",ne.FileIndex[0]={name:he,type:5}),de.CLSID&&(ne.FileIndex[0].clsid=de.CLSID),P(ne)}function P(ne){var ce="Sh33tJ5";if(!Kr.find(ne,"/"+ce)){var de=Ti(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ne.FileIndex.push({name:ce,type:2,content:de,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+ce),O(ne)}}function O(ne,ce){M(ne);for(var de=!1,he=!1,ge=ne.FullPaths.length-1;ge>=0;--ge){var ve=ne.FileIndex[ge];switch(ve.type){case 0:he?de=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(ve.R*ve.L*ve.C)&&(de=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!ce)){var Ve=new Date(1987,1,19),nt=0,Le=Object.create?Object.create(null):{},Ke=[];for(ge=0;ge<ne.FullPaths.length;++ge)Le[ne.FullPaths[ge]]=!0,ne.FileIndex[ge].type!==0&&Ke.push([ne.FullPaths[ge],ne.FileIndex[ge]]);for(ge=0;ge<Ke.length;++ge){var ze=n(Ke[ge][0]);he=Le[ze],he||(Ke.push([ze,{name:i(ze).replace("/",""),type:1,clsid:me,ct:Ve,mt:Ve,content:null}]),Le[ze]=!0)}for(Ke.sort(function(wt,Ct){return r(wt[0],Ct[0])}),ne.FullPaths=[],ne.FileIndex=[],ge=0;ge<Ke.length;++ge)ne.FullPaths[ge]=Ke[ge][0],ne.FileIndex[ge]=Ke[ge][1];for(ge=0;ge<Ke.length;++ge){var ht=ne.FileIndex[ge],xt=ne.FullPaths[ge];if(ht.name=i(xt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||me,ge===0)ht.C=Ke.length>1?1:-1,ht.size=0,ht.type=5;else if(xt.slice(-1)=="/"){for(nt=ge+1;nt<Ke.length&&n(ne.FullPaths[nt])!=xt;++nt);for(ht.C=nt>=Ke.length?-1:nt,nt=ge+1;nt<Ke.length&&n(ne.FullPaths[nt])!=n(xt);++nt);ht.R=nt>=Ke.length?-1:nt,ht.type=1}else n(ne.FullPaths[ge+1]||"")==n(xt)&&(ht.R=ge+1),ht.type=2}}}function re(ne,ce){var de=ce||{};if(de.fileType=="mad")return Pt(ne,de);switch(O(ne),de.fileType){case"zip":return Kn(ne,de)}var he=(function(wt){for(var Ct=0,It=0,Ht=0;Ht<wt.FileIndex.length;++Ht){var it=wt.FileIndex[Ht];if(it.content){var jr=it.content.length;jr>0&&(jr<4096?Ct+=jr+63>>6:It+=jr+511>>9)}}for(var er=wt.FullPaths.length+3>>2,Qn=Ct+7>>3,Xa=Ct+127>>7,Cr=Qn+It+er+Xa,hr=Cr+127>>7,mr=hr<=109?0:Math.ceil((hr-109)/127);Cr+hr+mr+127>>7>hr;)mr=++hr<=109?0:Math.ceil((hr-109)/127);var qn=[1,mr,hr,Xa,er,It,Ct,0];return wt.FileIndex[0].size=Ct<<6,qn[7]=(wt.FileIndex[0].start=qn[0]+qn[1]+qn[2]+qn[3]+qn[4]+qn[5])+(qn[6]+7>>3),qn})(ne),ge=Ti(he[7]<<9),ve=0,Ve=0;{for(ve=0;ve<8;++ve)ge.write_shift(1,xe[ve]);for(ve=0;ve<8;++ve)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),ve=0;ve<3;++ve)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:X),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:X),ge.write_shift(4,he[1]),ve=0;ve<109;++ve)ge.write_shift(-4,ve<he[2]?he[1]+ve:-1)}if(he[1])for(Ve=0;Ve<he[1];++Ve){for(;ve<236+Ve*127;++ve)ge.write_shift(-4,ve<he[2]?he[1]+ve:-1);ge.write_shift(-4,Ve===he[1]-1?X:Ve+1)}var nt=function(wt){for(Ve+=wt;ve<Ve-1;++ve)ge.write_shift(-4,ve+1);wt&&(++ve,ge.write_shift(-4,X))};for(Ve=ve=0,Ve+=he[1];ve<Ve;++ve)ge.write_shift(-4,Ce.DIFSECT);for(Ve+=he[2];ve<Ve;++ve)ge.write_shift(-4,Ce.FATSECT);nt(he[3]),nt(he[4]);for(var Le=0,Ke=0,ze=ne.FileIndex[0];Le<ne.FileIndex.length;++Le)ze=ne.FileIndex[Le],ze.content&&(Ke=ze.content.length,!(Ke<4096)&&(ze.start=Ve,nt(Ke+511>>9)));for(nt(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,Ce.ENDOFCHAIN);for(Ve=ve=0,Le=0;Le<ne.FileIndex.length;++Le)ze=ne.FileIndex[Le],ze.content&&(Ke=ze.content.length,!(!Ke||Ke>=4096)&&(ze.start=Ve,nt(Ke+63>>6)));for(;ge.l&511;)ge.write_shift(-4,Ce.ENDOFCHAIN);for(ve=0;ve<he[4]<<2;++ve){var ht=ne.FullPaths[ve];if(!ht||ht.length===0){for(Le=0;Le<17;++Le)ge.write_shift(4,0);for(Le=0;Le<3;++Le)ge.write_shift(4,-1);for(Le=0;Le<12;++Le)ge.write_shift(4,0);continue}ze=ne.FileIndex[ve],ve===0&&(ze.start=ze.size?ze.start-1:X);var xt=ve===0&&de.root||ze.name;if(Ke=2*(xt.length+1),ge.write_shift(64,xt,"utf16le"),ge.write_shift(2,Ke),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Le=0;Le<4;++Le)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(ve=1;ve<ne.FileIndex.length;++ve)if(ze=ne.FileIndex[ve],ze.size>=4096)if(ge.l=ze.start+1<<9,Hr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&511;++Le)ge.write_shift(1,0)}for(ve=1;ve<ne.FileIndex.length;++ve)if(ze=ne.FileIndex[ve],ze.size>0&&ze.size<4096)if(Hr&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&63;++Le)ge.write_shift(1,0)}if(Hr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function te(ne,ce){var de=ne.FullPaths.map(function(Le){return Le.toUpperCase()}),he=de.map(function(Le){var Ke=Le.split("/");return Ke[Ke.length-(Le.slice(-1)=="/"?2:1)]}),ge=!1;ce.charCodeAt(0)===47?(ge=!0,ce=de[0].slice(0,-1)+ce):ge=ce.indexOf("/")!==-1;var ve=ce.toUpperCase(),Ve=ge===!0?de.indexOf(ve):he.indexOf(ve);if(Ve!==-1)return ne.FileIndex[Ve];var nt=!ve.match(If);for(ve=ve.replace(ks,""),nt&&(ve=ve.replace(If,"!")),Ve=0;Ve<de.length;++Ve)if((nt?de[Ve].replace(If,"!"):de[Ve]).replace(ks,"")==ve||(nt?he[Ve].replace(If,"!"):he[Ve]).replace(ks,"")==ve)return ne.FileIndex[Ve];return null}var q=64,X=-2,Re="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],me="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:Re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:me,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function We(ne,ce,de){h();var he=re(ne,de);d.writeFileSync(ce,he)}function be(ne){for(var ce=new Array(ne.length),de=0;de<ne.length;++de)ce[de]=String.fromCharCode(ne[de]);return ce.join("")}function Ye(ne,ce){var de=re(ne,ce);switch(ce&&ce.type||"buffer"){case"file":return h(),d.writeFileSync(ce.filename,de),de;case"binary":return typeof de=="string"?de:be(de);case"base64":return MB(typeof de=="string"?de:be(de));case"buffer":if(Hr)return Buffer.isBuffer(de)?de:Oc(de);case"array":return typeof de=="string"?so(de):de}return de}var ie;function W(ne){try{var ce=ne.InflateRaw,de=new ce;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)ie=ne;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function oe(ne,ce){if(!ie)return dr(ne,ce);var de=ie.InflateRaw,he=new de,ge=he._processChunk(ne.slice(ne.l),he._finishFlushFlag);return ne.l+=he.bytesRead,ge}function ae(ne){return ie?ie.deflateRawSync(ne):Bt(ne)}var ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(ne){var ce=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var Me=typeof Uint8Array<"u",Ze=Me?new Uint8Array(256):[],Tt=0;Tt<256;++Tt)Ze[Tt]=Ne(Tt);function le(ne,ce){var de=Ze[ne&255];return ce<=8?de>>>8-ce:(de=de<<8|Ze[ne>>8&255],ce<=16?de>>>16-ce:(de=de<<8|Ze[ne>>16&255],de>>>24-ce))}function tt(ne,ce){var de=ce&7,he=ce>>>3;return(ne[he]|(de<=6?0:ne[he+1]<<8))>>>de&3}function yt(ne,ce){var de=ce&7,he=ce>>>3;return(ne[he]|(de<=5?0:ne[he+1]<<8))>>>de&7}function kt(ne,ce){var de=ce&7,he=ce>>>3;return(ne[he]|(de<=4?0:ne[he+1]<<8))>>>de&15}function ct(ne,ce){var de=ce&7,he=ce>>>3;return(ne[he]|(de<=3?0:ne[he+1]<<8))>>>de&31}function at(ne,ce){var de=ce&7,he=ce>>>3;return(ne[he]|(de<=1?0:ne[he+1]<<8))>>>de&127}function Nt(ne,ce,de){var he=ce&7,ge=ce>>>3,ve=(1<<de)-1,Ve=ne[ge]>>>he;return de<8-he||(Ve|=ne[ge+1]<<8-he,de<16-he)||(Ve|=ne[ge+2]<<16-he,de<24-he)||(Ve|=ne[ge+3]<<24-he),Ve&ve}function Rt(ne,ce,de){var he=ce&7,ge=ce>>>3;return he<=5?ne[ge]|=(de&7)<<he:(ne[ge]|=de<<he&255,ne[ge+1]=(de&7)>>8-he),ce+3}function fr(ne,ce,de){var he=ce&7,ge=ce>>>3;return de=(de&1)<<he,ne[ge]|=de,ce+1}function bt(ne,ce,de){var he=ce&7,ge=ce>>>3;return de<<=he,ne[ge]|=de&255,de>>>=8,ne[ge+1]=de,ce+8}function nn(ne,ce,de){var he=ce&7,ge=ce>>>3;return de<<=he,ne[ge]|=de&255,de>>>=8,ne[ge+1]=de&255,ne[ge+2]=de>>>8,ce+16}function Yr(ne,ce){var de=ne.length,he=2*de>ce?2*de:ce+5,ge=0;if(de>=ce)return ne;if(Hr){var ve=OB(he);if(ne.copy)ne.copy(ve);else for(;ge<ne.length;++ge)ve[ge]=ne[ge];return ve}else if(Me){var Ve=new Uint8Array(he);if(Ve.set)Ve.set(ne);else for(;ge<de;++ge)Ve[ge]=ne[ge];return Ve}return ne.length=he,ne}function Qe(ne){for(var ce=new Array(ne),de=0;de<ne;++de)ce[de]=0;return ce}function Ue(ne,ce,de){var he=1,ge=0,ve=0,Ve=0,nt=0,Le=ne.length,Ke=Me?new Uint16Array(32):Qe(32);for(ve=0;ve<32;++ve)Ke[ve]=0;for(ve=Le;ve<de;++ve)ne[ve]=0;Le=ne.length;var ze=Me?new Uint16Array(Le):Qe(Le);for(ve=0;ve<Le;++ve)Ke[ge=ne[ve]]++,he<ge&&(he=ge),ze[ve]=0;for(Ke[0]=0,ve=1;ve<=he;++ve)Ke[ve+16]=nt=nt+Ke[ve-1]<<1;for(ve=0;ve<Le;++ve)nt=ne[ve],nt!=0&&(ze[ve]=Ke[nt+16]++);var ht=0;for(ve=0;ve<Le;++ve)if(ht=ne[ve],ht!=0)for(nt=le(ze[ve],he)>>he-ht,Ve=(1<<he+4-ht)-1;Ve>=0;--Ve)ce[nt|Ve<<ht]=ht&15|ve<<4;return he}var ot=Me?new Uint16Array(512):Qe(512),Dt=Me?new Uint16Array(32):Qe(32);if(!Me){for(var Zt=0;Zt<512;++Zt)ot[Zt]=0;for(Zt=0;Zt<32;++Zt)Dt[Zt]=0}(function(){for(var ne=[],ce=0;ce<32;ce++)ne.push(5);Ue(ne,Dt,32);var de=[];for(ce=0;ce<=143;ce++)de.push(8);for(;ce<=255;ce++)de.push(9);for(;ce<=279;ce++)de.push(7);for(;ce<=287;ce++)de.push(8);Ue(de,ot,288)})();var ut=(function(){for(var ce=Me?new Uint8Array(32768):[],de=0,he=0;de<qe.length-1;++de)for(;he<qe[de+1];++he)ce[he]=de;for(;he<32768;++he)ce[he]=29;var ge=Me?new Uint8Array(259):[];for(de=0,he=0;de<Ee.length-1;++de)for(;he<Ee[de+1];++he)ge[he]=de;function ve(nt,Le){for(var Ke=0;Ke<nt.length;){var ze=Math.min(65535,nt.length-Ke),ht=Ke+ze==nt.length;for(Le.write_shift(1,+ht),Le.write_shift(2,ze),Le.write_shift(2,~ze&65535);ze-- >0;)Le[Le.l++]=nt[Ke++]}return Le.l}function Ve(nt,Le){for(var Ke=0,ze=0,ht=Me?new Uint16Array(32768):[];ze<nt.length;){var xt=Math.min(65535,nt.length-ze);if(xt<10){for(Ke=Rt(Le,Ke,+(ze+xt==nt.length)),Ke&7&&(Ke+=8-(Ke&7)),Le.l=Ke/8|0,Le.write_shift(2,xt),Le.write_shift(2,~xt&65535);xt-- >0;)Le[Le.l++]=nt[ze++];Ke=Le.l*8;continue}Ke=Rt(Le,Ke,+(ze+xt==nt.length)+2);for(var wt=0;xt-- >0;){var Ct=nt[ze];wt=(wt<<5^Ct)&32767;var It=-1,Ht=0;if((It=ht[wt])&&(It|=ze&-32768,It>ze&&(It-=32768),It<ze))for(;nt[It+Ht]==nt[ze+Ht]&&Ht<250;)++Ht;if(Ht>2){Ct=ge[Ht],Ct<=22?Ke=bt(Le,Ke,Ze[Ct+1]>>1)-1:(bt(Le,Ke,3),Ke+=5,bt(Le,Ke,Ze[Ct-23]>>5),Ke+=3);var it=Ct<8?0:Ct-4>>2;it>0&&(nn(Le,Ke,Ht-Ee[Ct]),Ke+=it),Ct=ce[ze-It],Ke=bt(Le,Ke,Ze[Ct]>>3),Ke-=3;var jr=Ct<4?0:Ct-2>>1;jr>0&&(nn(Le,Ke,ze-It-qe[Ct]),Ke+=jr);for(var er=0;er<Ht;++er)ht[wt]=ze&32767,wt=(wt<<5^nt[ze])&32767,++ze;xt-=Ht-1}else Ct<=143?Ct=Ct+48:Ke=fr(Le,Ke,1),Ke=bt(Le,Ke,Ze[Ct]),ht[wt]=ze&32767,++ze}Ke=bt(Le,Ke,0)-1}return Le.l=(Ke+7)/8|0,Le.l}return function(Le,Ke){return Le.length<8?ve(Le,Ke):Ve(Le,Ke)}})();function Bt(ne){var ce=Ti(50+Math.floor(ne.length*1.1)),de=ut(ne,ce);return ce.slice(0,de)}var Yt=Me?new Uint16Array(32768):Qe(32768),Br=Me?new Uint16Array(32768):Qe(32768),Gt=Me?new Uint16Array(128):Qe(128),Be=1,Lt=1;function ke(ne,ce){var de=ct(ne,ce)+257;ce+=5;var he=ct(ne,ce)+1;ce+=5;var ge=kt(ne,ce)+4;ce+=4;for(var ve=0,Ve=Me?new Uint8Array(19):Qe(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Ke=Me?new Uint8Array(8):Qe(8),ze=Me?new Uint8Array(8):Qe(8),ht=Ve.length,xt=0;xt<ge;++xt)Ve[ue[xt]]=ve=yt(ne,ce),Le<ve&&(Le=ve),Ke[ve]++,ce+=3;var wt=0;for(Ke[0]=0,xt=1;xt<=Le;++xt)ze[xt]=wt=wt+Ke[xt-1]<<1;for(xt=0;xt<ht;++xt)(wt=Ve[xt])!=0&&(nt[xt]=ze[wt]++);var Ct=0;for(xt=0;xt<ht;++xt)if(Ct=Ve[xt],Ct!=0){wt=Ze[nt[xt]]>>8-Ct;for(var It=(1<<7-Ct)-1;It>=0;--It)Gt[wt|It<<Ct]=Ct&7|xt<<3}var Ht=[];for(Le=1;Ht.length<de+he;)switch(wt=Gt[at(ne,ce)],ce+=wt&7,wt>>>=3){case 16:for(ve=3+tt(ne,ce),ce+=2,wt=Ht[Ht.length-1];ve-- >0;)Ht.push(wt);break;case 17:for(ve=3+yt(ne,ce),ce+=3;ve-- >0;)Ht.push(0);break;case 18:for(ve=11+at(ne,ce),ce+=7;ve-- >0;)Ht.push(0);break;default:Ht.push(wt),Le<wt&&(Le=wt);break}var it=Ht.slice(0,de),jr=Ht.slice(de);for(xt=de;xt<286;++xt)it[xt]=0;for(xt=he;xt<30;++xt)jr[xt]=0;return Be=Ue(it,Yt,286),Lt=Ue(jr,Br,30),ce}function Mt(ne,ce){if(ne[0]==3&&!(ne[1]&3))return[kA(ce),2];for(var de=0,he=0,ge=OB(ce||1<<18),ve=0,Ve=ge.length>>>0,nt=0,Le=0;(he&1)==0;){if(he=yt(ne,de),de+=3,he>>>1)he>>1==1?(nt=9,Le=5):(de=ke(ne,de),nt=Be,Le=Lt);else{de&7&&(de+=8-(de&7));var Ke=ne[de>>>3]|ne[(de>>>3)+1]<<8;if(de+=32,Ke>0)for(!ce&&Ve<ve+Ke&&(ge=Yr(ge,ve+Ke),Ve=ge.length);Ke-- >0;)ge[ve++]=ne[de>>>3],de+=8;continue}for(;;){!ce&&Ve<ve+32767&&(ge=Yr(ge,ve+32767),Ve=ge.length);var ze=Nt(ne,de,nt),ht=he>>>1==1?ot[ze]:Yt[ze];if(de+=ht&15,ht>>>=4,(ht>>>8&255)===0)ge[ve++]=ht;else{if(ht==256)break;ht-=257;var xt=ht<8?0:ht-4>>2;xt>5&&(xt=0);var wt=ve+Ee[ht];xt>0&&(wt+=Nt(ne,de,xt),de+=xt),ze=Nt(ne,de,Le),ht=he>>>1==1?Dt[ze]:Br[ze],de+=ht&15,ht>>>=4;var Ct=ht<4?0:ht-2>>1,It=qe[ht];for(Ct>0&&(It+=Nt(ne,de,Ct),de+=Ct),!ce&&Ve<wt&&(ge=Yr(ge,wt+100),Ve=ge.length);ve<wt;)ge[ve]=ge[ve-It],++ve}}}return ce?[ge,de+7>>>3]:[ge.slice(0,ve),de+7>>>3]}function dr(ne,ce){var de=ne.slice(ne.l||0),he=Mt(de,ce);return ne.l+=he[1],he[0]}function Rr(ne,ce){if(ne)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function Nn(ne,ce){var de=ne;Yi(de,0);var he=[],ge=[],ve={FileIndex:he,FullPaths:ge};M(ve,{root:ce.root});for(var Ve=de.length-4;(de[Ve]!=80||de[Ve+1]!=75||de[Ve+2]!=5||de[Ve+3]!=6)&&Ve>=0;)--Ve;de.l=Ve+4,de.l+=4;var nt=de.read_shift(2);de.l+=6;var Le=de.read_shift(4);for(de.l=Le,Ve=0;Ve<nt;++Ve){de.l+=20;var Ke=de.read_shift(4),ze=de.read_shift(4),ht=de.read_shift(2),xt=de.read_shift(2),wt=de.read_shift(2);de.l+=8;var Ct=de.read_shift(4),It=c(de.slice(de.l+ht,de.l+ht+xt));de.l+=ht+xt+wt;var Ht=de.l;de.l=Ct+4,ar(de,Ke,ze,ve,It),de.l=Ht}return ve}function ar(ne,ce,de,he,ge){ne.l+=2;var ve=ne.read_shift(2),Ve=ne.read_shift(2),nt=o(ne);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Le=ne.read_shift(4),Ke=ne.read_shift(4),ze=ne.read_shift(4),ht=ne.read_shift(2),xt=ne.read_shift(2),wt="",Ct=0;Ct<ht;++Ct)wt+=String.fromCharCode(ne[ne.l++]);if(xt){var It=c(ne.slice(ne.l,ne.l+xt));(It[21589]||{}).mt&&(nt=It[21589].mt),((ge||{})[21589]||{}).mt&&(nt=ge[21589].mt)}ne.l+=xt;var Ht=ne.slice(ne.l,ne.l+Ke);switch(Ve){case 8:Ht=oe(ne,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var it=!1;ve&8&&(Le=ne.read_shift(4),Le==134695760&&(Le=ne.read_shift(4),it=!0),Ke=ne.read_shift(4),ze=ne.read_shift(4)),Ke!=ce&&Rr(it,"Bad compressed size: "+ce+" != "+Ke),ze!=de&&Rr(it,"Bad uncompressed size: "+de+" != "+ze),Jr(he,wt,Ht,{unsafe:!0,mt:nt})}function Kn(ne,ce){var de=ce||{},he=[],ge=[],ve=Ti(1),Ve=de.compression?8:0,nt=0,Le=0,Ke=0,ze=0,ht=0,xt=ne.FullPaths[0],wt=xt,Ct=ne.FileIndex[0],It=[],Ht=0;for(Le=1;Le<ne.FullPaths.length;++Le)if(wt=ne.FullPaths[Le].slice(xt.length),Ct=ne.FileIndex[Le],!(!Ct.size||!Ct.content||wt=="Sh33tJ5")){var it=ze,jr=Ti(wt.length);for(Ke=0;Ke<wt.length;++Ke)jr.write_shift(1,wt.charCodeAt(Ke)&127);jr=jr.slice(0,jr.l),It[ht]=KK.buf(Ct.content,0);var er=Ct.content;Ve==8&&(er=ae(er)),ve=Ti(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,nt),ve.write_shift(2,Ve),Ct.mt?s(ve,Ct.mt):ve.write_shift(4,0),ve.write_shift(-4,It[ht]),ve.write_shift(4,er.length),ve.write_shift(4,Ct.content.length),ve.write_shift(2,jr.length),ve.write_shift(2,0),ze+=ve.length,he.push(ve),ze+=jr.length,he.push(jr),ze+=er.length,he.push(er),ve=Ti(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,nt),ve.write_shift(2,Ve),ve.write_shift(4,0),ve.write_shift(-4,It[ht]),ve.write_shift(4,er.length),ve.write_shift(4,Ct.content.length),ve.write_shift(2,jr.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,it),Ht+=ve.l,ge.push(ve),Ht+=jr.length,ge.push(jr),++ht}return ve=Ti(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,ht),ve.write_shift(2,ht),ve.write_shift(4,Ht),ve.write_shift(4,ze),ve.write_shift(2,0),gA([gA(he),gA(ge),ve])}var Vr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function zn(ne,ce){if(ne.ctype)return ne.ctype;var de=ne.name||"",he=de.match(/\.([^\.]+)$/);return he&&Vr[he[1]]||ce&&(he=(de=ce).match(/[\.\\]([^\.\\])+$/),he&&Vr[he[1]])?Vr[he[1]]:"application/octet-stream"}function yn(ne){for(var ce=MB(ne),de=[],he=0;he<ce.length;he+=76)de.push(ce.slice(he,he+76));return de.join(`\r
`)+`\r
`}function Ie(ne){var ce=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ke){var ze=Ke.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=ce.split(`\r
`),ge=0;ge<he.length;++ge){var ve=he[ge];if(ve.length==0){de.push("");continue}for(var Ve=0;Ve<ve.length;){var nt=76,Le=ve.slice(Ve,Ve+nt);Le.charAt(nt-1)=="="?nt--:Le.charAt(nt-2)=="="?nt-=2:Le.charAt(nt-3)=="="&&(nt-=3),Le=ve.slice(Ve,Ve+nt),Ve+=nt,Ve<ve.length&&(Le+="="),de.push(Le)}}return de.join(`\r
`)}function At(ne){for(var ce=[],de=0;de<ne.length;++de){for(var he=ne[de];de<=ne.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ne[++de];ce.push(he)}for(var ge=0;ge<ce.length;++ge)ce[ge]=ce[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return so(ce.join(`\r
`))}function st(ne,ce,de){for(var he="",ge="",ve="",Ve,nt=0;nt<10;++nt){var Le=ce[nt];if(!Le||Le.match(/^\s*$/))break;var Ke=Le.match(/^(.*?):\s*([^\s].*)$/);if(Ke)switch(Ke[1].toLowerCase()){case"content-location":he=Ke[2].trim();break;case"content-type":ve=Ke[2].trim();break;case"content-transfer-encoding":ge=Ke[2].trim();break}}switch(++nt,ge.toLowerCase()){case"base64":Ve=so(Ea(ce.slice(nt).join("")));break;case"quoted-printable":Ve=At(ce.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=Jr(ne,he.slice(de.length),Ve,{unsafe:!0});ve&&(ze.ctype=ve)}function mt(ne,ce){if(be(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=ce&&ce.root||"",he=(Hr&&Buffer.isBuffer(ne)?ne.toString("binary"):be(ne)).split(`\r
`),ge=0,ve="";for(ge=0;ge<he.length;++ge)if(ve=he[ge],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),de||(de=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),ve.slice(0,de.length)!=de););var Ve=(he[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var nt="--"+(Ve[1]||""),Le=[],Ke=[],ze={FileIndex:Le,FullPaths:Ke};M(ze);var ht,xt=0;for(ge=0;ge<he.length;++ge){var wt=he[ge];wt!==nt&&wt!==nt+"--"||(xt++&&st(ze,he.slice(ht,ge),de),ht=ge)}return ze}function Pt(ne,ce){var de=ce||{},he=de.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],ve=ne.FullPaths[0],Ve=ve,nt=ne.FileIndex[0],Le=1;Le<ne.FullPaths.length;++Le)if(Ve=ne.FullPaths[Le].slice(ve.length),nt=ne.FileIndex[Le],!(!nt.size||!nt.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ht){return"_x"+Ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ht){return"_u"+Ht.charCodeAt(0).toString(16)+"_"});for(var Ke=nt.content,ze=Hr&&Buffer.isBuffer(Ke)?Ke.toString("binary"):be(Ke),ht=0,xt=Math.min(1024,ze.length),wt=0,Ct=0;Ct<=xt;++Ct)(wt=ze.charCodeAt(Ct))>=32&&wt<128&&++ht;var It=ht>=xt*4/5;ge.push(he),ge.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Ve),ge.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),ge.push("Content-Type: "+zn(nt,Ve)),ge.push(""),ge.push(It?Ie(ze):yn(ze))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function Wn(ne){var ce={};return M(ce,ne),ce}function Jr(ne,ce,de,he){var ge=he&&he.unsafe;ge||M(ne);var ve=!ge&&Kr.find(ne,ce);if(!ve){var Ve=ne.FullPaths[0];ce.slice(0,Ve.length)==Ve?Ve=ce:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+ce).replace("//","/")),ve={name:i(ce),type:2},ne.FileIndex.push(ve),ne.FullPaths.push(Ve),ge||Kr.utils.cfb_gc(ne)}return ve.content=de,ve.size=de?de.length:0,he&&(he.CLSID&&(ve.clsid=he.CLSID),he.mt&&(ve.mt=he.mt),he.ct&&(ve.ct=he.ct)),ve}function Pi(ne,ce){M(ne);var de=Kr.find(ne,ce);if(de){for(var he=0;he<ne.FileIndex.length;++he)if(ne.FileIndex[he]==de)return ne.FileIndex.splice(he,1),ne.FullPaths.splice(he,1),!0}return!1}function Cn(ne,ce,de){M(ne);var he=Kr.find(ne,ce);if(he){for(var ge=0;ge<ne.FileIndex.length;++ge)if(ne.FileIndex[ge]==he)return ne.FileIndex[ge].name=i(de),ne.FullPaths[ge]=de,!0}return!1}function Es(ne){O(ne,!0)}return e.find=te,e.read=K,e.parse=m,e.write=Ye,e.writeFile=We,e.utils={cfb_new:Wn,cfb_add:Jr,cfb_del:Pi,cfb_mov:Cn,cfb_gc:Es,ReadShift:Gf,CheckField:e8,prep_blob:Yi,bconcat:gA,use_zlib:W,_deflateRaw:Bt,_inflateRaw:dr,consts:Ce},e})();function zK(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Mo(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function my(t){for(var e=[],r=Mo(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var L1=new Date(1899,11,30,0,0,0);function Ds(t,e){var r=t.getTime(),n=L1.getTime()+(t.getTimezoneOffset()-L1.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var kR=new Date,WK=L1.getTime()+(kR.getTimezoneOffset()-L1.getTimezoneOffset())*6e4,KB=kR.getTimezoneOffset();function Up(t){var e=new Date;return e.setTime(t*24*60*60*1e3+WK),e.getTimezoneOffset()!==KB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-KB)*6e4),e}function qK(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var zB=new Date("2017-02-19T19:06:09.000Z"),DR=isNaN(zB.getFullYear())?new Date("2/19/17"):zB,XK=DR.getFullYear()==2017;function Oi(t,e){var r=new Date(t);if(XK)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(DR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Sc(t,e){if(Hr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Nf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Nf(vR(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Nf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Nf(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function es(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=es(t[r]));return e}function ri(t,e){for(var r="";r.length<e;)r+=t;return r}function lo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var YK=["january","february","march","april","may","june","july","august","september","october","november","december"];function l0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&YK.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var JK=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],c=1;c<s.length;++c)o.push(i),o.push(s[c]);return o}})();function UR(t){return t?t.content&&t.type?Sc(t.content,!0):t.data?Bf(t.data):t.asNodeBuffer&&Hr?Bf(t.asNodeBuffer().toString("binary")):t.asBinary?Bf(t.asBinary()):t._data&&t._data.getContent?Bf(Sc(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function MR(t){if(!t)return null;if(t.data)return DB(t.data);if(t.asNodeBuffer&&Hr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?DB(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function ZK(t){return t&&t.name.slice(-4)===".bin"?MR(t):UR(t)}function Qa(t,e){for(var r=t.FullPaths||Mo(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||i==o)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function xy(t,e){var r=Qa(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function wi(t,e,r){if(!r)return ZK(xy(t,e));if(!e)return null;try{return wi(t,e)}catch{return null}}function va(t,e,r){if(!r)return UR(xy(t,e));if(!e)return null;try{return va(t,e)}catch{return null}}function $K(t,e,r){return MR(xy(t,e))}function WB(t){for(var e=t.FullPaths||Mo(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ez(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Hr?n=Oc(r):n=wK(r),Kr.utils.cfb_add(t,e,n)}Kr.utils.cfb_add(t,e,r)}else t.file(e,r)}function OR(t,e){switch(e.type){case"base64":return Kr.read(t,{type:"base64"});case"binary":return Kr.read(t,{type:"binary"});case"buffer":case"array":return Kr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Sf(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var LR=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,tz=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,qB=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,rz=/<[^>]*>/g,Cs=LR.match(qB)?qB:rz,nz=/<\w*:/,iz=/<(\/?)\w+:/;function lr(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var o=t.match(tz),c=0,d="",h=0,m="",C="",b=1;if(o)for(h=0;h!=o.length;++h){for(C=o[h],s=0;s!=C.length&&C.charCodeAt(s)!==61;++s);for(m=C.slice(0,s).trim();C.charCodeAt(s+1)==32;)++s;for(b=(i=C.charCodeAt(s+1))==34||i==39?1:0,d=C.slice(s+1+b,C.length-b),c=0;c!=m.length&&m.charCodeAt(c)!==58;++c);if(c===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=d,n[m.toLowerCase()]=d;else{var S=(c===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(c+1);if(n[S]&&m.slice(c-3,c)=="ext")continue;n[S]=d,n[S.toLowerCase()]=d}}return n}function Po(t){return t.replace(iz,"<$1")}var PR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sz=my(PR),Xr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,d){return PR[c]||String.fromCharCode(parseInt(d,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,d){return String.fromCharCode(parseInt(d,16))});var o=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,o)+r(i.slice(o+3))}})(),az=/[&<>'"]/g,oz=/[\u0000-\u001f]/g;function wy(t){var e=t+"";return e.replace(az,function(r){return sz[r]}).replace(/\n/g,"<br/>").replace(oz,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var XB=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Pn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _2(t){for(var e="",r=0,n=0,i=0,s=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function YB(t){var e=kA(2*t.length),r,n,i=1,s=0,o=0,c;for(n=0;n<t.length;n+=i)i=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),i=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function JB(t){return Oc(t,"binary").toString("utf8")}var _g="foo bar baz",Sn=Hr&&(JB(_g)==_2(_g)&&JB||YB(_g)==_2(_g)&&YB)||_2,Nf=Hr?function(t){return Oc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},dd=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),QR=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),lz=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Az=/<\/?(?:vt:)?variant>/g,cz=/<(?:vt:)([^>]*)>([\s\S]*)</;function ZB(t,e){var r=lr(t),n=t.match(lz(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var o=s.replace(Az,"").match(cz);o&&i.push({v:Sn(o[2]),t:o[1]})}),i}var uz=/(^\s|\s$|\n)/;function fz(t){return Mo(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dz(t,e,r){return"<"+t+(r!=null?fz(r):"")+(e!=null?(e.match(uz)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function vy(t){if(Hr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Sn(Lc(hy(t)));throw new Error("Bad input format: expected Buffer or string")}var hd=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,hz={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},gz=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function pz(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function mz(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=n?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[r+c]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var $B=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},e4=Hr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Oc(e)})):$B(t)}:$B,t4=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(pl(t,i)));return n.join("").replace(ks,"")},yy=Hr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(ks,""):t4(t,e,r)}:t4,r4=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},HR=Hr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):r4(t,e,r)}:r4,n4=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Uu(t,i)));return n.join("")},Ld=Hr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):n4(e,r,n)}:n4,VR=function(t,e){var r=wa(t,e);return r>0?Ld(t,e+4,e+4+r-1):""},jR=VR,GR=function(t,e){var r=wa(t,e);return r>0?Ld(t,e+4,e+4+r-1):""},KR=GR,zR=function(t,e){var r=2*wa(t,e);return r>0?Ld(t,e+4,e+4+r-1):""},WR=zR,qR=function(e,r){var n=wa(e,r);return n>0?yy(e,r+4,r+4+n):""},XR=qR,YR=function(t,e){var r=wa(t,e);return r>0?Ld(t,e+4,e+4+r):""},JR=YR,ZR=function(t,e){return pz(t,e)},P1=ZR,$R=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Hr&&(jR=function(e,r){if(!Buffer.isBuffer(e))return VR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},KR=function(e,r){if(!Buffer.isBuffer(e))return GR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},WR=function(e,r){if(!Buffer.isBuffer(e))return zR(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},XR=function(e,r){if(!Buffer.isBuffer(e))return qR(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},JR=function(e,r){if(!Buffer.isBuffer(e))return YR(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},P1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):ZR(e,r)},$R=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Uu=function(t,e){return t[e]},pl=function(t,e){return t[e+1]*256+t[e]},xz=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},wa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},cc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},wz=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Gf(t,e){var r="",n,i,s=[],o,c,d,h;switch(e){case"dbcs":if(h=this.l,Hr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(pl(this,h)),h+=2;t*=2;break;case"utf8":r=Ld(this,this.l,this.l+t);break;case"utf16le":t*=2,r=yy(this,this.l,this.l+t);break;case"wstr":return Gf.call(this,t,"dbcs");case"lpstr-ansi":r=jR(this,this.l),t=4+wa(this,this.l);break;case"lpstr-cp":r=KR(this,this.l),t=4+wa(this,this.l);break;case"lpwstr":r=WR(this,this.l),t=4+2*wa(this,this.l);break;case"lpp4":t=4+wa(this,this.l),r=XR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+wa(this,this.l),r=JR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Uu(this,this.l+t++))!==0;)s.push(bg(o));r=s.join("");break;case"_wstr":for(t=0,r="";(o=pl(this,this.l+t))!==0;)s.push(bg(o)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Uu(this,h),this.l=h+1,c=Gf.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(bg(pl(this,h))),h+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Uu(this,h),this.l=h+1,c=Gf.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(bg(Uu(this,h))),h+=1}r=s.join("");break;default:switch(t){case 1:return n=Uu(this,this.l),this.l++,n;case 2:return n=(e==="i"?xz:pl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?cc:wz)(this,this.l),this.l+=4,n):(i=wa(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=P1(this,this.l):i=P1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=HR(this,this.l,t);break}}return this.l+=t,r}var vz=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},yz=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},Cz=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Ez(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)Cz(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,vz(this,e,this.l);break;case 8:if(n=8,r==="f"){mz(this,e,this.l);break}case 16:break;case-4:n=4,yz(this,e,this.l);break}return this.l+=n,this}function e8(t,e){var r=HR(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Yi(t,e){t.l=e,t.read_shift=Gf,t.chk=e8,t.write_shift=Ez}function ys(t,e){t.l+=e}function Ti(t){var e=kA(t);return Yi(e,0),e}function Fl(t,e,r){if(t){var n,i,s;Yi(t,t.l||0);for(var o=t.length,c=0,d=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var h=K1[c]||K1[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;d=t.l+s;var m=h.f&&h.f(t,s,r);if(t.l=d,e(m,h,c))return}}}function Rw(){var t=[],e=Hr?256:2048,r=function(h){var m=Ti(h);return Yi(m,0),m},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(i(),n=r(Math.max(h+1,e)))},o=function(){return i(),gA(t)},c=function(h){i(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function Kf(t,e,r){var n=es(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function i4(t,e,r){var n=es(t);return n.s=Kf(n.s,e.s,r),n.e=Kf(n.e,e.s,r),n}function zf(t,e){if(t.cRel&&t.c<0)for(t=es(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=es(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=vr(t);return!t.cRel&&t.cRel!=null&&(r=Tz(r)),!t.rRel&&t.rRel!=null&&(r=bz(r)),r}function T2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ii(t.s.c)+":"+(t.e.cRel?"":"$")+Ii(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ts(t.s.r)+":"+(t.e.rRel?"":"$")+ts(t.e.r):zf(t.s,e.biff)+":"+zf(t.e,e.biff)}function Cy(t){return parseInt(_z(t),10)-1}function ts(t){return""+(t+1)}function bz(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _z(t){return t.replace(/\$(\d+)$/,"$1")}function Ey(t){for(var e=Bz(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ii(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Tz(t){return t.replace(/^([A-Z])/,"$$$1")}function Bz(t){return t.replace(/^\$([A-Z])/,"$1")}function Iz(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Rs(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function vr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function m0(t){var e=t.indexOf(":");return e==-1?{s:Rs(t),e:Rs(t)}:{s:Rs(t.slice(0,e)),e:Rs(t.slice(e+1))}}function zr(t,e){return typeof e>"u"||typeof e=="number"?zr(t.s,t.e):(typeof t!="string"&&(t=vr(t)),typeof e!="string"&&(e=vr(e)),t==e?t:t+":"+e)}function ni(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function s4(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=za(t.z,r?Ds(e):e)}catch{}try{return t.w=za((t.XF||{}).numFmtId||(r?14:0),r?Ds(e):e)}catch{return""+e}}function Il(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Hc[t.v]||t.v:e==null?s4(t,t.v):s4(t,e))}function OA(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function t8(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),o=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Rs(n.origin):n.origin;o=d.r,c=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=ni(s["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),o==-1&&(h.e.r=o=m.e.r+1)}for(var C=0;C!=e.length;++C)if(e[C]){if(!Array.isArray(e[C]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=e[C].length;++b)if(!(typeof e[C][b]>"u")){var S={v:e[C][b]},R=o+C,k=c+b;if(h.s.r>R&&(h.s.r=R),h.s.c>k&&(h.s.c=k),h.e.r<R&&(h.e.r=R),h.e.c<k&&(h.e.c=k),e[C][b]&&typeof e[C][b]=="object"&&!Array.isArray(e[C][b])&&!(e[C][b]instanceof Date))S=e[C][b];else if(Array.isArray(S.v)&&(S.f=e[C][b][1],S.v=S.v[0]),S.v===null)if(S.f)S.t="n";else if(n.nullError)S.t="e",S.v=0;else if(n.sheetStubs)S.t="z";else continue;else typeof S.v=="number"?S.t="n":typeof S.v=="boolean"?S.t="b":S.v instanceof Date?(S.z=n.dateNF||br[14],n.cellDates?(S.t="d",S.w=za(S.z,Ds(S.v))):(S.t="n",S.v=Ds(S.v),S.w=za(S.z,S.v))):S.t="s";if(i)s[R]||(s[R]=[]),s[R][k]&&s[R][k].z&&(S.z=s[R][k].z),s[R][k]=S;else{var U=vr({c:k,r:R});s[U]&&s[U].z&&(S.z=s[U].z),s[U]=S}}}return h.s.c<1e7&&(s["!ref"]=zr(h)),s}function x0(t,e){return t8(null,t,e)}function Sz(t){return t.read_shift(4,"i")}function ws(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Nz(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function by(t,e){var r=t.l,n=t.read_shift(1),i=ws(t),s=[],o={t:i,h:i};if((n&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)s.push(Nz(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}var Fz=by;function qa(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Pc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var Rz=ws;function _y(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var kz=ws,kw=_y;function Ty(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?P1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):cc(e,0)>>2;return r?i/100:i}function r8(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Qc=r8;function hs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Dz(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=vc[i];h&&(e.rgb=pd(h));break;case 2:e.rgb=pd([o,c,d]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Uz(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function n8(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function Mz(t){return n8(t,1)}function Oz(t){return n8(t,2)}var By=2,Zs=3,Tg=11,a4=12,Q1=19,Bg=64,Lz=65,Pz=71,Qz=4108,Hz=4126,Mi=80,i8=81,Vz=[Mi,i8],jz={1:{n:"CodePage",t:By},2:{n:"Category",t:Mi},3:{n:"PresentationFormat",t:Mi},4:{n:"ByteCount",t:Zs},5:{n:"LineCount",t:Zs},6:{n:"ParagraphCount",t:Zs},7:{n:"SlideCount",t:Zs},8:{n:"NoteCount",t:Zs},9:{n:"HiddenCount",t:Zs},10:{n:"MultimediaClipCount",t:Zs},11:{n:"ScaleCrop",t:Tg},12:{n:"HeadingPairs",t:Qz},13:{n:"TitlesOfParts",t:Hz},14:{n:"Manager",t:Mi},15:{n:"Company",t:Mi},16:{n:"LinksUpToDate",t:Tg},17:{n:"CharacterCount",t:Zs},19:{n:"SharedDoc",t:Tg},22:{n:"HyperlinksChanged",t:Tg},23:{n:"AppVersion",t:Zs,p:"version"},24:{n:"DigSig",t:Lz},26:{n:"ContentType",t:Mi},27:{n:"ContentStatus",t:Mi},28:{n:"Language",t:Mi},29:{n:"Version",t:Mi},255:{},2147483648:{n:"Locale",t:Q1},2147483651:{n:"Behavior",t:Q1},1919054434:{}},Gz={1:{n:"CodePage",t:By},2:{n:"Title",t:Mi},3:{n:"Subject",t:Mi},4:{n:"Author",t:Mi},5:{n:"Keywords",t:Mi},6:{n:"Comments",t:Mi},7:{n:"Template",t:Mi},8:{n:"LastAuthor",t:Mi},9:{n:"RevNumber",t:Mi},10:{n:"EditTime",t:Bg},11:{n:"LastPrinted",t:Bg},12:{n:"CreatedDate",t:Bg},13:{n:"ModifiedDate",t:Bg},14:{n:"PageCount",t:Zs},15:{n:"WordCount",t:Zs},16:{n:"CharCount",t:Zs},17:{n:"Thumbnail",t:Pz},18:{n:"Application",t:Mi},19:{n:"DocSecurity",t:Zs},255:{},2147483648:{n:"Locale",t:Q1},2147483651:{n:"Behavior",t:Q1},1919054434:{}},o4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Kz=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zz(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Wz=zz([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vc=es(Wz),Hc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},s8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},l4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function qz(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Xz(t){var e=qz();if(!t||!t.match)return e;var r={};if((t.match(Cs)||[]).forEach(function(n){var i=lr(n);switch(i[0].replace(nz,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[l4[i.ContentType]]!==void 0&&e[l4[i.ContentType]].push(i.PartName);break}}),e.xmlns!==hz.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var Pu={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Dw(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Wf(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Cs)||[]).forEach(function(i){var s=lr(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Sf(s.Target,e);r[c]=o,n[s.Id]=o}}),r["!id"]=n,r}var Yz="application/vnd.oasis.opendocument.spreadsheet";function Jz(t,e){for(var r=vy(t),n,i;n=hd.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lr(n[0],!1),i.path=="/"&&i.type!==Yz)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var qf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Zz=(function(){for(var t=new Array(qf.length),e=0;e<qf.length;++e){var r=qf[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function a8(t){var e={};t=Sn(t);for(var r=0;r<qf.length;++r){var n=qf[r],i=t.match(Zz[r]);i!=null&&i.length>0&&(e[n[1]]=Xr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Oi(e[n[1]]))}return e}var $z=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function o8(t,e,r,n){var i=[];if(typeof t=="string")i=ZB(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(m){return{v:m}}));var o=typeof e=="string"?ZB(e,n).map(function(m){return m.v}):e,c=0,d=0;if(o.length>0)for(var h=0;h!==i.length;h+=2){switch(d=+i[h+1].v,i[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=o.slice(c,c+d);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=d,r.DefinedNames=o.slice(c,c+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=o.slice(c,c+d);break}c+=d}}function eW(t,e,r){var n={};return e||(e={}),t=Sn(t),$z.forEach(function(i){var s=(t.match(dd(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Xr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(n[i[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&o8(n.HeadingPairs,n.TitlesOfParts,e,r),e}var tW=/<[^>]+>[^<]*/g;function rW(t,e){var r={},n="",i=t.match(tW);if(i)for(var s=0;s!=i.length;++s){var o=i[s],c=lr(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Xr(c.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var d=o.split(">"),h=d[0].slice(4),m=d[1];switch(h){case"lpstr":case"bstr":case"lpwstr":r[n]=Xr(m);break;case"bool":r[n]=Pn(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=Oi(m);break;case"cy":case"error":r[n]=Xr(m);break;default:if(h.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,h,d)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}var nW={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},B2;function iW(t,e,r){B2||(B2=my(nW)),e=B2[e]||e,t[e]=r}function Iy(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function l8(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function A8(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function c8(t,e,r){return e===31?A8(t):l8(t,e,r)}function Uw(t,e,r){return c8(t,e,r===!1?0:4)}function sW(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return c8(t,e,0)}function aW(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(ks,""),t.l-i&2&&(t.l+=2)}return r}function oW(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(ks,"");return r}function lW(t){var e=t.l,r=H1(t,i8);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=H1(t,Zs);return[r,n]}function AW(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(lW(t));return r}function A4(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),o=t.read_shift(4);n[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(ks,"").replace(If,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function u8(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function cW(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function H1(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==a4&&n!==e&&Vz.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===a4?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return l8(t,n,4).replace(ks,"");case 31:return A8(t);case 64:return Iy(t);case 65:return u8(t);case 71:return cW(t);case 80:return Uw(t,n,!s.raw).replace(ks,"");case 81:return sW(t,n).replace(ks,"");case 4108:return AW(t);case 4126:case 4127:return n==4127?aW(t):oW(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function c4(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],o=0,c=0,d=-1,h={};for(o=0;o!=i;++o){var m=t.read_shift(4),C=t.read_shift(4);s[o]=[m,C+r]}s.sort(function(G,Q){return G[1]-Q[1]});var b={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var S=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,S=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],S=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],S=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(S=!1,t.l=s[o][1]),S)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var R=e[s[o][0]];if(b[R.n]=H1(t,R.t,{raw:!0}),R.p==="version"&&(b[R.n]=String(b[R.n]>>16)+"."+("0000"+String(b[R.n]&65535)).slice(-4)),R.n=="CodePage")switch(b[R.n]){case 0:b[R.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ao(c=b[R.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+b[R.n])}}else if(s[o][0]===1){if(c=b.CodePage=H1(t,By),ao(c),d!==-1){var k=t.l;t.l=s[d][1],h=A4(t,c),t.l=k}}else if(s[o][0]===0){if(c===0){d=o,t.l=s[o+1][1];continue}h=A4(t,c)}else{var U=h[s[o][0]],V;switch(t[t.l]){case 65:t.l+=4,V=u8(t);break;case 30:t.l+=4,V=Uw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,V=Uw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,V=t.read_shift(4,"i");break;case 19:t.l+=4,V=t.read_shift(4);break;case 5:t.l+=4,V=t.read_shift(8,"f");break;case 11:t.l+=4,V=ci(t,4);break;case 64:t.l+=4,V=Oi(Iy(t));break;default:throw new Error("unparsed value: "+t[t.l])}b[U]=V}}return t.l=r+n,b}function u4(t,e,r){var n=t.content;if(!n)return{};Yi(n,0);var i,s,o,c,d=0;n.chk("feff","Byte Order: "),n.read_shift(2);var h=n.read_shift(4),m=n.read_shift(16);if(m!==Kr.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),c=n.read_shift(4),i===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);i===2&&(o=n.read_shift(16),d=n.read_shift(4));var C=c4(n,e),b={SystemIdentifier:h};for(var S in C)b[S]=C[S];if(b.FMTID=s,i===1)return b;if(d-n.l==2&&(n.l+=2),n.l!==d)throw new Error("Length mismatch 2: "+n.l+" !== "+d);var R;try{R=c4(n,null)}catch{}for(S in R)b[S]=R[S];return b.FMTID=[s,o],b}function oA(t,e){return t.read_shift(e),null}function uW(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function ci(t,e){return t.read_shift(e)===1}function vi(t){return t.read_shift(2,"u")}function f8(t,e){return uW(t,e,vi)}function fW(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Pd(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?t.read_shift(n,i):"";return o}function dW(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),o=0,c,d={};i&&(o=t.read_shift(2)),n&&(c=t.read_shift(4));var h=s==2?"dbcs-cont":"sbcs-cont",m=e===0?"":t.read_shift(e,h);return i&&(t.l+=4*o),n&&(t.l+=c),d.t=m,i||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function Nc(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Qd(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Nc(t,n,r)}function Vc(t,e,r){if(r.biff>5)return Qd(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function hW(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function gW(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(ks,"");return n&&(t.l+=24),i}function pW(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(ks,"");return r+o}function mW(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return gW(t);case"0303000000000000c000000000000046":return pW(t);default:throw new Error("Unsupported Moniker "+r)}}function Ig(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(ks,""):"";return r}function xW(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,o,c,d,h="",m,C;i&16&&(s=Ig(t,r-t.l)),i&128&&(o=Ig(t,r-t.l)),(i&257)===257&&(c=Ig(t,r-t.l)),(i&257)===1&&(d=mW(t,r-t.l)),i&8&&(h=Ig(t,r-t.l)),i&32&&(m=t.read_shift(16)),i&64&&(C=Iy(t)),t.l=r;var b=o||c||d||"";b&&h&&(b+="#"+h),b||(b="#"+h),i&2&&b.charAt(0)=="/"&&b.charAt(1)!="/"&&(b="file://"+b);var S={Target:b};return m&&(S.guid=m),C&&(S.time=C),s&&(S.Tooltip=s),S}function d8(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function h8(t,e){var r=d8(t);return r[3]=0,r}function Qo(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function wW(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function vW(t,e,r){return e===0?"":Vc(t,e,r)}function yW(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[i,s,o]}function g8(t){var e=t.read_shift(2),r=Ty(t);return[e,r]}function CW(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Pd(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function Mp(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function p8(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var EW=p8;function m8(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function bW(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function _W(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ls(t){t.l+=2,t.l+=t.read_shift(2)}var TW={0:ls,4:ls,5:ls,6:ls,7:_W,8:ls,9:ls,10:ls,11:ls,12:ls,13:bW,14:ls,15:ls,16:ls,17:ls,18:ls,19:ls,20:ls,21:m8};function BW(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(TW[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Sg(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function IW(t,e){return e===0||t.read_shift(2),1200}function SW(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Vc(t,0,r);return t.read_shift(e+n-t.l),i}function NW(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function FW(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Pd(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:i,dt:s,name:o}}function RW(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<r;++o)s.push(dW(t));return s.Count=n,s.Unique=i,s}function kW(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function DW(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function UW(t){var e=wW(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function MW(t){return t.read_shift(2),t.read_shift(4)}function f4(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function OW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),d=t.read_shift(2),h=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:o,FirstTab:c,Selected:d,TabRatio:h}}function LW(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function PW(){}function QW(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Pd(t,0,r),n}function HW(t){var e=Qo(t);return e.isst=t.read_shift(4),e}function VW(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Qo(t);r.biff==2&&t.l++;var s=Qd(t,n-t.l,r);return i.val=s,i}function jW(t,e,r){var n=t.read_shift(2),i=Vc(t,0,r);return[n,i]}var GW=Vc;function d4(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),c=t.read_shift(2),d=t.read_shift(2);return t.l=n,{s:{r:s,c},e:{r:o,c:d}}}function KW(t){var e=t.read_shift(2),r=t.read_shift(2),n=g8(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function zW(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(g8(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:o,rkrec:s}}function WW(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:o,ixfe:s}}function qW(t,e,r,n){var i={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),d=t.read_shift(2);return i.patternType=Kz[c>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=d&127,i.icvBack=d>>7&127,i.fsxButton=d>>14&1),i}function XW(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=qW(t,e,n.fStyle,r),n}function YW(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function h4(t,e,r){var n=Qo(t);(r.biff==2||e==9)&&++t.l;var i=fW(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function JW(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Qo(t),i=hs(t);return n.val=i,n}var g4=vW;function ZW(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Nc(t,s),c=[];n>t.l;)c.push(Qd(t));return[s,i,o,c]}function p4(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=CW(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var $W=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function m4(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),d=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var h=Nc(t,o,r);i&32&&(h=$W[h.charCodeAt(0)]);var m=n-t.l;r&&r.biff==2&&--m;var C=n==t.l||c===0||!(m>0)?[]:DJ(t,m,r,c);return{chKey:s,Name:h,itab:d,rgce:C}}function x8(t,e,r){if(r.biff<8)return eq(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(yW(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function eq(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Pd(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function tq(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=Nc(t,n,r),o=Nc(t,i,r);return[s,o]}function rq(t,e,r){var n=p8(t);t.l++;var i=t.read_shift(1);return e-=8,[UJ(t,e,r),i,n]}function x4(t,e,r){var n=EW(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,RJ(t,e,r)]}function nq(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function iq(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Vc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},c,o,s]}}function sq(t,e,r){return iq(t,e,r)}function aq(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Mp(t));return r}function oq(t,e,r){if(r&&r.biff<8)return Aq(t,e,r);var n=m8(t),i=BW(t,e-22,n[1]);return{cmo:n,ft:i}}var lq={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function Aq(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((lq[n]||ys)(t,e,r)),{cmo:[i,n,s],ft:o}}function cq(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=hW(t,6,r);var c=t.read_shift(2);t.read_shift(2),vi(t,2);var d=t.read_shift(2);t.l+=d;for(var h=1;h<t.lens.length-1;++h){if(t.l-n!=t.lens[h])throw new Error("TxO: bad continue record");var m=t[t.l],C=Nc(t,t.lens[h+1]-t.lens[h]-1);if(i+=C,i.length>=(m?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function uq(t,e){var r=Mp(t);t.l+=16;var n=xW(t,e-24);return[r,n]}function fq(t,e){t.read_shift(2);var r=Mp(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(ks,""),[r,n]}function dq(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=o4[r]||r,r=t.read_shift(2),e[1]=o4[r]||r,e}function hq(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(h8(t));return r}function gq(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(h8(t));return r}function pq(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function w8(t,e,r){if(!r.cellStyles)return ys(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s:i,e:s,w:o,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function mq(t,e){var r={};return e<32||(t.l+=16,r.header=hs(t),r.footer=hs(t),t.l+=2),r}function xq(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var wq=Qo,vq=f8,yq=Qd;function Cq(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function Eq(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Qo(t);++t.l;var i=Vc(t,e-7,r);return n.t="str",n.val=i,n}function bq(t){var e=Qo(t);++t.l;var r=hs(t);return e.t="n",e.val=r,e}function _q(t){var e=Qo(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Tq(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Bq(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Iq(t,e,r){var n=t.l+e,i=Qo(t),s=t.read_shift(2),o=Nc(t,s,r);return t.l=n,i.t="str",i.val=o,i}var Sq=[2,3,48,49,131,139,140,245],w4=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=my({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var h=[],m=kA(1);switch(d.type){case"base64":m=so(Ea(c));break;case"binary":m=so(c);break;case"buffer":case"array":m=c;break}Yi(m,0);var C=m.read_shift(1),b=!!(C&136),S=!1,R=!1;switch(C){case 2:break;case 3:break;case 48:S=!0,b=!0;break;case 49:S=!0,b=!0;break;case 131:break;case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+C.toString(16))}var k=0,U=521;C==2&&(k=m.read_shift(2)),m.l+=3,C!=2&&(k=m.read_shift(4)),k>1048576&&(k=1e6),C!=2&&(U=m.read_shift(2));var V=m.read_shift(2),G=d.codepage||1252;C!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(G=t[m[m.l]]),m.l+=1,m.l+=2),R&&(m.l+=36);for(var Q=[],J={},Z=Math.min(m.length,C==2?521:U-10-(S?264:0)),K=R?32:11;m.l<Z&&m[m.l]!=13;)switch(J={},J.name=ud.utils.decode(G,m.slice(m.l,m.l+K)).replace(/[\u0000\r\n].*$/g,""),m.l+=K,J.type=String.fromCharCode(m.read_shift(1)),C!=2&&!R&&(J.offset=m.read_shift(4)),J.len=m.read_shift(1),C==2&&(J.offset=m.read_shift(2)),J.dec=m.read_shift(1),J.name.length&&Q.push(J),C!=2&&(m.l+=R?13:14),J.type){case"B":(!S||J.len!=8)&&d.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+J.name+":"+J.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+J.type)}if(m[m.l]!==13&&(m.l=U-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=U;var M=0,P=0;for(h[0]=[],P=0;P!=Q.length;++P)h[0][P]=Q[P].name;for(;k-- >0;){if(m[m.l]===42){m.l+=V;continue}for(++m.l,h[++M]=[],P=0,P=0;P!=Q.length;++P){var O=m.slice(m.l,m.l+Q[P].len);m.l+=Q[P].len,Yi(O,0);var re=ud.utils.decode(G,O);switch(Q[P].type){case"C":re.trim().length&&(h[M][P]=re.replace(/\s+$/,""));break;case"D":re.length===8?h[M][P]=new Date(+re.slice(0,4),+re.slice(4,6)-1,+re.slice(6,8)):h[M][P]=re;break;case"F":h[M][P]=parseFloat(re.trim());break;case"+":case"I":h[M][P]=R?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(re.trim().toUpperCase()){case"Y":case"T":h[M][P]=!0;break;case"N":case"F":h[M][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+re+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+C.toString(16));h[M][P]="##MEMO##"+(R?parseInt(re.trim(),10):O.read_shift(4));break;case"N":re=re.replace(/\u0000/g,"").trim(),re&&re!="."&&(h[M][P]=+re||0);break;case"@":h[M][P]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":h[M][P]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":h[M][P]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[M][P]=-O.read_shift(-8,"f");break;case"B":if(S&&Q[P].len==8){h[M][P]=O.read_shift(8,"f");break}case"G":case"P":O.l+=Q[P].len;break;case"0":if(Q[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Q[P].type)}}}if(C!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=Q,h}function n(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=x0(r(c,h),h);return m["!cols"]=h.DBF.map(function(C){return{wch:C.len,DBF:C}}),delete h.DBF,m}function i(c,d){try{return OA(n(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,d){var h=d||{};if(+h.codepage>=0&&ao(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=Rw(),C=Vw(c,{header:1,raw:!0,cellDates:!0}),b=C[0],S=C.slice(1),R=c["!cols"]||[],k=0,U=0,V=0,G=1;for(k=0;k<b.length;++k){if(((R[k]||{}).DBF||{}).name){b[k]=R[k].DBF.name,++V;continue}if(b[k]!=null){if(++V,typeof b[k]=="number"&&(b[k]=b[k].toString(10)),typeof b[k]!="string")throw new Error("DBF Invalid column name "+b[k]+" |"+typeof b[k]+"|");if(b.indexOf(b[k])!==k){for(U=0;U<1024;++U)if(b.indexOf(b[k]+"_"+U)==-1){b[k]+="_"+U;break}}}}var Q=ni(c["!ref"]),J=[],Z=[],K=[];for(k=0;k<=Q.e.c-Q.s.c;++k){var M="",P="",O=0,re=[];for(U=0;U<S.length;++U)S[U][k]!=null&&re.push(S[U][k]);if(re.length==0||b[k]==null){J[k]="?";continue}for(U=0;U<re.length;++U){switch(typeof re[U]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=re[U]instanceof Date?"D":"C";break;default:P="C"}O=Math.max(O,String(re[U]).length),M=M&&M!=P?"C":P}O>250&&(O=250),P=((R[k]||{}).DBF||{}).type,P=="C"&&R[k].DBF.len>O&&(O=R[k].DBF.len),M=="B"&&P=="N"&&(M="N",K[k]=R[k].DBF.dec,O=R[k].DBF.len),Z[k]=M=="C"||P=="N"?O:s[M]||0,G+=Z[k],J[k]=M}var te=m.next(32);for(te.write_shift(4,318902576),te.write_shift(4,S.length),te.write_shift(2,296+32*V),te.write_shift(2,G),k=0;k<4;++k)te.write_shift(4,0);for(te.write_shift(4,0|(+e[xR]||3)<<8),k=0,U=0;k<b.length;++k)if(b[k]!=null){var q=m.next(32),X=(b[k].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,X,"sbcs"),q.write_shift(1,J[k]=="?"?"C":J[k],"sbcs"),q.write_shift(4,U),q.write_shift(1,Z[k]||s[J[k]]||0),q.write_shift(1,K[k]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),U+=Z[k]||s[J[k]]||0}var Re=m.next(264);for(Re.write_shift(4,13),k=0;k<65;++k)Re.write_shift(4,0);for(k=0;k<S.length;++k){var xe=m.next(G);for(xe.write_shift(1,0),U=0;U<b.length;++U)if(b[U]!=null)switch(J[U]){case"L":xe.write_shift(1,S[k][U]==null?63:S[k][U]?84:70);break;case"B":xe.write_shift(8,S[k][U]||0,"f");break;case"N":var me="0";for(typeof S[k][U]=="number"&&(me=S[k][U].toFixed(K[U]||0)),V=0;V<Z[U]-me.length;++V)xe.write_shift(1,32);xe.write_shift(1,me,"sbcs");break;case"D":S[k][U]?(xe.write_shift(4,("0000"+S[k][U].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(S[k][U].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+S[k][U].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(S[k][U]!=null?S[k][U]:"").slice(0,Z[U]);for(xe.write_shift(1,Ce,"sbcs"),V=0;V<Z[U]-Ce.length;++V)xe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}})(),Nq=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Mo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,S){var R=t[S];return typeof R=="number"?UB(R):R},n=function(b,S,R){var k=S.charCodeAt(0)-32<<4|R.charCodeAt(0)-48;return k==59?b:UB(k)};t["|"]=254;function i(b,S){switch(S.type){case"base64":return s(Ea(b),S);case"binary":return s(b,S);case"buffer":return s(Hr&&Buffer.isBuffer(b)?b.toString("binary"):Lc(b),S);case"array":return s(Sc(b),S)}throw new Error("Unrecognized type "+S.type)}function s(b,S){var R=b.split(/[\n\r]+/),k=-1,U=-1,V=0,G=0,Q=[],J=[],Z=null,K={},M=[],P=[],O=[],re=0,te;for(+S.codepage>=0&&ao(+S.codepage);V!==R.length;++V){re=0;var q=R[V].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),X=q.replace(/;;/g,"\0").split(";").map(function(ue){return ue.replace(/\u0000/g,";")}),Re=X[0],xe;if(q.length>0)switch(Re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&J.push(q.slice(3).replace(/;;/g,";"));break;case"C":var me=!1,Ce=!1,We=!1,be=!1,Ye=-1,ie=-1;for(G=1;G<X.length;++G)switch(X[G].charAt(0)){case"A":break;case"X":U=parseInt(X[G].slice(1))-1,Ce=!0;break;case"Y":for(k=parseInt(X[G].slice(1))-1,Ce||(U=0),te=Q.length;te<=k;++te)Q[te]=[];break;case"K":xe=X[G].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(lo(xe))?isNaN(l0(xe).getDate())||(xe=Oi(xe)):(xe=lo(xe),Z!==null&&p0(Z)&&(xe=Up(xe))),me=!0;break;case"E":be=!0;var W=Xu(X[G].slice(1),{r:k,c:U});Q[k][U]=[Q[k][U],W];break;case"S":We=!0,Q[k][U]=[Q[k][U],"S5S"];break;case"G":break;case"R":Ye=parseInt(X[G].slice(1))-1;break;case"C":ie=parseInt(X[G].slice(1))-1;break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+q)}if(me&&(Q[k][U]&&Q[k][U].length==2?Q[k][U][0]=xe:Q[k][U]=xe,Z=null),We){if(be)throw new Error("SYLK shared formula cannot have own formula");var oe=Ye>-1&&Q[Ye][ie];if(!oe||!oe[1])throw new Error("SYLK shared formula cannot find base");Q[k][U][1]=S8(oe[1],{r:k-Ye,c:U-ie})}break;case"F":var ae=0;for(G=1;G<X.length;++G)switch(X[G].charAt(0)){case"X":U=parseInt(X[G].slice(1))-1,++ae;break;case"Y":for(k=parseInt(X[G].slice(1))-1,te=Q.length;te<=k;++te)Q[te]=[];break;case"M":re=parseInt(X[G].slice(1))/20;break;case"F":break;case"G":break;case"P":Z=J[parseInt(X[G].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[G].slice(1).split(" "),te=parseInt(O[0],10);te<=parseInt(O[1],10);++te)re=parseInt(O[2],10),P[te-1]=re===0?{hidden:!0}:{wch:re},A0(P[te-1]);break;case"C":U=parseInt(X[G].slice(1))-1,P[U]||(P[U]={});break;case"R":k=parseInt(X[G].slice(1))-1,M[k]||(M[k]={}),re>0?(M[k].hpt=re,M[k].hpx=md(re)):re===0&&(M[k].hidden=!0);break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+q)}ae<1&&(Z=null);break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+q)}}return M.length>0&&(K["!rows"]=M),P.length>0&&(K["!cols"]=P),S&&S.sheetRows&&(Q=Q.slice(0,S.sheetRows)),[Q,K]}function o(b,S){var R=i(b,S),k=R[0],U=R[1],V=x0(k,S);return Mo(U).forEach(function(G){V[G]=U[G]}),V}function c(b,S){return OA(o(b,S),S)}function d(b,S,R,k){var U="C;Y"+(R+1)+";X"+(k+1)+";K";switch(b.t){case"n":U+=b.v||0,b.f&&!b.F&&(U+=";E"+pY(b.f,{r:R,c:k}));break;case"b":U+=b.v?"TRUE":"FALSE";break;case"e":U+=b.w||b.v;break;case"d":U+='"'+(b.w||b.v)+'"';break;case"s":U+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return U}function h(b,S){S.forEach(function(R,k){var U="F;W"+(k+1)+" "+(k+1)+" ";R.hidden?U+="0":(typeof R.width=="number"&&!R.wpx&&(R.wpx=j1(R.width)),typeof R.wpx=="number"&&!R.wch&&(R.wch=G1(R.wpx)),typeof R.wch=="number"&&(U+=Math.round(R.wch))),U.charAt(U.length-1)!=" "&&b.push(U)})}function m(b,S){S.forEach(function(R,k){var U="F;";R.hidden?U+="M0;":R.hpt?U+="M"+20*R.hpt+";":R.hpx&&(U+="M"+20*T8(R.hpx)+";"),U.length>2&&b.push(U+"R"+(k+1))})}function C(b,S){var R=["ID;PWXL;N;E"],k=[],U=ni(b["!ref"]),V,G=Array.isArray(b),Q=`\r
`;R.push("P;PGeneral"),R.push("F;P0;DG0G8;M255"),b["!cols"]&&h(R,b["!cols"]),b["!rows"]&&m(R,b["!rows"]),R.push("B;Y"+(U.e.r-U.s.r+1)+";X"+(U.e.c-U.s.c+1)+";D"+[U.s.c,U.s.r,U.e.c,U.e.r].join(" "));for(var J=U.s.r;J<=U.e.r;++J)for(var Z=U.s.c;Z<=U.e.c;++Z){var K=vr({r:J,c:Z});V=G?(b[J]||[])[Z]:b[K],!(!V||V.v==null&&(!V.f||V.F))&&k.push(d(V,b,J,Z))}return R.join(Q)+Q+k.join(Q)+Q+"E"+Q}return{to_workbook:c,to_sheet:o,from_sheet:C}})(),Fq=(function(){function t(s,o){switch(o.type){case"base64":return e(Ea(s),o);case"binary":return e(s,o);case"buffer":return e(Hr&&Buffer.isBuffer(s)?s.toString("binary"):Lc(s),o);case"array":return e(Sc(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),d=-1,h=-1,m=0,C=[];m!==c.length;++m){if(c[m].trim()==="BOT"){C[++d]=[],h=0;continue}if(!(d<0)){var b=c[m].trim().split(","),S=b[0],R=b[1];++m;for(var k=c[m]||"";(k.match(/["]/g)||[]).length&1&&m<c.length-1;)k+=`
`+c[++m];switch(k=k.trim(),+S){case-1:if(k==="BOT"){C[++d]=[],h=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?C[d][h]=!0:k==="FALSE"?C[d][h]=!1:isNaN(lo(R))?isNaN(l0(R).getDate())?C[d][h]=R:C[d][h]=Oi(R):C[d][h]=lo(R),++h;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),C[d][h++]=k!==""?k:null;break}if(k==="EOD")break}}return o&&o.sheetRows&&(C=C.slice(0,o.sheetRows)),C}function r(s,o){return x0(t(s,o),o)}function n(s,o){return OA(r(s,o),o)}var i=(function(){var s=function(d,h,m,C,b){d.push(h),d.push(m+","+C),d.push('"'+b.replace(/"/g,'""')+'"')},o=function(d,h,m,C){d.push(h+","+m),d.push(h==1?'"'+C.replace(/"/g,'""')+'"':C)};return function(d){var h=[],m=ni(d["!ref"]),C,b=Array.isArray(d);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,m.e.r-m.s.r+1,""),s(h,"TUPLES",0,m.e.c-m.s.c+1,""),s(h,"DATA",0,0,"");for(var S=m.s.r;S<=m.e.r;++S){o(h,-1,0,"BOT");for(var R=m.s.c;R<=m.e.c;++R){var k=vr({r:S,c:R});if(C=b?(d[S]||[])[R]:d[k],!C){o(h,1,0,"");continue}switch(C.t){case"n":var U=C.w;!U&&C.v!=null&&(U=C.v),U==null?C.f&&!C.F?o(h,1,0,"="+C.f):o(h,1,0,""):o(h,0,U,"V");break;case"b":o(h,0,C.v?1:0,C.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(C.v)?C.v:'="'+C.v+'"');break;case"d":C.w||(C.w=za(C.z||br[14],Ds(Oi(C.v)))),o(h,0,C.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var V=`\r
`,G=h.join(V);return G}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Rq=(function(){function t(C){return C.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(C){return C.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(C,b){for(var S=C.split(`
`),R=-1,k=-1,U=0,V=[];U!==S.length;++U){var G=S[U].trim().split(":");if(G[0]==="cell"){var Q=Rs(G[1]);if(V.length<=Q.r)for(R=V.length;R<=Q.r;++R)V[R]||(V[R]=[]);switch(R=Q.r,k=Q.c,G[2]){case"t":V[R][k]=t(G[3]);break;case"v":V[R][k]=+G[3];break;case"vtf":var J=G[G.length-1];case"vtc":switch(G[3]){case"nl":V[R][k]=!!+G[4];break;default:V[R][k]=+G[4];break}G[2]=="vtf"&&(V[R][k]=[V[R][k],J])}}}return b&&b.sheetRows&&(V=V.slice(0,b.sheetRows)),V}function n(C,b){return x0(r(C,b),b)}function i(C,b){return OA(n(C,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(C){if(!C||!C["!ref"])return"";for(var b=[],S=[],R,k="",U=m0(C["!ref"]),V=Array.isArray(C),G=U.s.r;G<=U.e.r;++G)for(var Q=U.s.c;Q<=U.e.c;++Q)if(k=vr({r:G,c:Q}),R=V?(C[G]||[])[Q]:C[k],!(!R||R.v==null||R.t==="z")){switch(S=["cell",k,"t"],R.t){case"s":case"str":S.push(e(R.v));break;case"n":R.f?(S[2]="vtf",S[3]="n",S[4]=R.v,S[5]=e(R.f)):(S[2]="v",S[3]=R.v);break;case"b":S[2]="vt"+(R.f?"f":"c"),S[3]="nl",S[4]=R.v?"1":"0",S[5]=e(R.f||(R.v?"TRUE":"FALSE"));break;case"d":var J=Ds(Oi(R.v));S[2]="vtc",S[3]="nd",S[4]=""+J,S[5]=R.w||za(R.z||br[14],J);break;case"e":continue}b.push(S.join(":"))}return b.push("sheet:c:"+(U.e.c-U.s.c+1)+":r:"+(U.e.r-U.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(C){return[s,o,c,o,h(C),d].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}})(),gd=(function(){function t(m,C,b,S,R){R.raw?C[b][S]=m:m===""||(m==="TRUE"?C[b][S]=!0:m==="FALSE"?C[b][S]=!1:isNaN(lo(m))?isNaN(l0(m).getDate())?C[b][S]=m:C[b][S]=Oi(m):C[b][S]=lo(m))}function e(m,C){var b=C||{},S=[];if(!m||m.length===0)return S;for(var R=m.split(/[\r\n]/),k=R.length-1;k>=0&&R[k].length===0;)--k;for(var U=10,V=0,G=0;G<=k;++G)V=R[G].indexOf(" "),V==-1?V=R[G].length:V++,U=Math.max(U,V);for(G=0;G<=k;++G){S[G]=[];var Q=0;for(t(R[G].slice(0,U).trim(),S,G,Q,b),Q=1;Q<=(R[G].length-U)/10+1;++Q)t(R[G].slice(U+(Q-1)*10,U+Q*10).trim(),S,G,Q,b)}return b.sheetRows&&(S=S.slice(0,b.sheetRows)),S}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var C={},b=!1,S=0,R=0;S<m.length;++S)(R=m.charCodeAt(S))==34?b=!b:!b&&R in r&&(C[R]=(C[R]||0)+1);R=[];for(S in C)Object.prototype.hasOwnProperty.call(C,S)&&R.push([C[S],S]);if(!R.length){C=n;for(S in C)Object.prototype.hasOwnProperty.call(C,S)&&R.push([C[S],S])}return R.sort(function(k,U){return k[0]-U[0]||n[k[1]]-n[U[1]]}),r[R.pop()[1]]||44}function s(m,C){var b=C||{},S="",R=b.dense?[]:{},k={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(S=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(S=m.charAt(4),m=m.slice(6)):S=i(m.slice(0,1024)):b&&b.FS?S=b.FS:S=i(m.slice(0,1024));var U=0,V=0,G=0,Q=0,J=0,Z=S.charCodeAt(0),K=!1,M=0,P=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var O=b.dateNF!=null?jK(b.dateNF):null;function re(){var te=m.slice(Q,J),q={};if(te.charAt(0)=='"'&&te.charAt(te.length-1)=='"'&&(te=te.slice(1,-1).replace(/""/g,'"')),te.length===0)q.t="z";else if(b.raw)q.t="s",q.v=te;else if(te.trim().length===0)q.t="s",q.v=te;else if(te.charCodeAt(0)==61)te.charCodeAt(1)==34&&te.charCodeAt(te.length-1)==34?(q.t="s",q.v=te.slice(2,-1).replace(/""/g,'"')):xY(te)?(q.t="n",q.f=te.slice(1)):(q.t="s",q.v=te);else if(te=="TRUE")q.t="b",q.v=!0;else if(te=="FALSE")q.t="b",q.v=!1;else if(!isNaN(G=lo(te)))q.t="n",b.cellText!==!1&&(q.w=te),q.v=G;else if(!isNaN(l0(te).getDate())||O&&te.match(O)){q.z=b.dateNF||br[14];var X=0;O&&te.match(O)&&(te=GK(te,b.dateNF,te.match(O)||[]),X=1),b.cellDates?(q.t="d",q.v=Oi(te,X)):(q.t="n",q.v=Ds(Oi(te,X))),b.cellText!==!1&&(q.w=za(q.z,q.v instanceof Date?Ds(q.v):q.v)),b.cellNF||delete q.z}else q.t="s",q.v=te;if(q.t=="z"||(b.dense?(R[U]||(R[U]=[]),R[U][V]=q):R[vr({c:V,r:U})]=q),Q=J+1,P=m.charCodeAt(Q),k.e.c<V&&(k.e.c=V),k.e.r<U&&(k.e.r=U),M==Z)++V;else if(V=0,++U,b.sheetRows&&b.sheetRows<=U)return!0}e:for(;J<m.length;++J)switch(M=m.charCodeAt(J)){case 34:P===34&&(K=!K);break;case Z:case 10:case 13:if(!K&&re())break e;break}return J-Q>0&&re(),R["!ref"]=zr(k),R}function o(m,C){return!(C&&C.PRN)||C.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,C):x0(e(m,C),C)}function c(m,C){var b="",S=C.type=="string"?[0,0,0,0]:My(m,C);switch(C.type){case"base64":b=Ea(m);break;case"binary":b=m;break;case"buffer":C.codepage==65001?b=m.toString("utf8"):C.codepage&&typeof ud<"u"||(b=Hr&&Buffer.isBuffer(m)?m.toString("binary"):Lc(m));break;case"array":b=Sc(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+C.type)}return S[0]==239&&S[1]==187&&S[2]==191?b=Sn(b.slice(3)):C.type!="string"&&C.type!="buffer"&&C.codepage==65001?b=Sn(b):C.type=="binary"&&typeof ud<"u",b.slice(0,19)=="socialcalc:version:"?Rq.to_sheet(C.type=="string"?b:Sn(b),C):o(b,C)}function d(m,C){return OA(c(m,C),C)}function h(m){for(var C=[],b=ni(m["!ref"]),S,R=Array.isArray(m),k=b.s.r;k<=b.e.r;++k){for(var U=[],V=b.s.c;V<=b.e.c;++V){var G=vr({r:k,c:V});if(S=R?(m[k]||[])[V]:m[G],!S||S.v==null){U.push("          ");continue}for(var Q=(S.w||(Il(S),S.w)||"").slice(0,10);Q.length<10;)Q+=" ";U.push(Q+(V===0?" ":""))}C.push(U.join(""))}return C.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}})();function kq(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=Nq.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return gd.to_workbook(t,e)}}var Xf=(function(){function t(W,oe,ae){if(W){Yi(W,W.l||0);for(var ue=ae.Enum||Ye;W.l<W.length;){var Ee=W.read_shift(2),qe=ue[Ee]||ue[65535],Ne=W.read_shift(2),Me=W.l+Ne,Ze=qe.f&&qe.f(W,Ne,ae);if(W.l=Me,oe(Ze,qe,Ee))return}}}function e(W,oe){switch(oe.type){case"base64":return r(so(Ea(W)),oe);case"binary":return r(so(W),oe);case"buffer":case"array":return r(W,oe)}throw"Unsupported type "+oe.type}function r(W,oe){if(!W)return W;var ae=oe||{},ue=ae.dense?[]:{},Ee="Sheet1",qe="",Ne=0,Me={},Ze=[],Tt=[],le={s:{r:0,c:0},e:{r:0,c:0}},tt=ae.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)ae.Enum=Ye,t(W,function(at,Nt,Rt){switch(Rt){case 0:ae.vers=at,at>=4096&&(ae.qpro=!0);break;case 6:le=at;break;case 204:at&&(qe=at);break;case 222:qe=at;break;case 15:case 51:ae.qpro||(at[1].v=at[1].v.slice(1));case 13:case 14:case 16:Rt==14&&(at[2]&112)==112&&(at[2]&15)>1&&(at[2]&15)<15&&(at[1].z=ae.dateNF||br[14],ae.cellDates&&(at[1].t="d",at[1].v=Up(at[1].v))),ae.qpro&&at[3]>Ne&&(ue["!ref"]=zr(le),Me[Ee]=ue,Ze.push(Ee),ue=ae.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},Ne=at[3],Ee=qe||"Sheet"+(Ne+1),qe="");var fr=ae.dense?(ue[at[0].r]||[])[at[0].c]:ue[vr(at[0])];if(fr){fr.t=at[1].t,fr.v=at[1].v,at[1].z!=null&&(fr.z=at[1].z),at[1].f!=null&&(fr.f=at[1].f);break}ae.dense?(ue[at[0].r]||(ue[at[0].r]=[]),ue[at[0].r][at[0].c]=at[1]):ue[vr(at[0])]=at[1];break}},ae);else if(W[2]==26||W[2]==14)ae.Enum=ie,W[2]==14&&(ae.qpro=!0,W.l=0),t(W,function(at,Nt,Rt){switch(Rt){case 204:Ee=at;break;case 22:at[1].v=at[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(at[3]>Ne&&(ue["!ref"]=zr(le),Me[Ee]=ue,Ze.push(Ee),ue=ae.dense?[]:{},le={s:{r:0,c:0},e:{r:0,c:0}},Ne=at[3],Ee="Sheet"+(Ne+1)),tt>0&&at[0].r>=tt)break;ae.dense?(ue[at[0].r]||(ue[at[0].r]=[]),ue[at[0].r][at[0].c]=at[1]):ue[vr(at[0])]=at[1],le.e.c<at[0].c&&(le.e.c=at[0].c),le.e.r<at[0].r&&(le.e.r=at[0].r);break;case 27:at[14e3]&&(Tt[at[14e3][0]]=at[14e3][1]);break;case 1537:Tt[at[0]]=at[1],at[0]==Ne&&(Ee=at[1]);break}},ae);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(ue["!ref"]=zr(le),Me[qe||Ee]=ue,Ze.push(qe||Ee),!Tt.length)return{SheetNames:Ze,Sheets:Me};for(var yt={},kt=[],ct=0;ct<Tt.length;++ct)Me[Ze[ct]]?(kt.push(Tt[ct]||Ze[ct]),yt[Tt[ct]]=Me[Tt[ct]]||Me[Ze[ct]]):(kt.push(Tt[ct]),yt[Tt[ct]]={"!ref":"A1"});return{SheetNames:kt,Sheets:yt}}function n(W,oe){var ae=oe||{};if(+ae.codepage>=0&&ao(+ae.codepage),ae.type=="string")throw new Error("Cannot write WK1 to JS string");var ue=Rw(),Ee=ni(W["!ref"]),qe=Array.isArray(W),Ne=[];no(ue,0,s(1030)),no(ue,6,d(Ee));for(var Me=Math.min(Ee.e.r,8191),Ze=Ee.s.r;Ze<=Me;++Ze)for(var Tt=ts(Ze),le=Ee.s.c;le<=Ee.e.c;++le){Ze===Ee.s.r&&(Ne[le]=Ii(le));var tt=Ne[le]+Tt,yt=qe?(W[Ze]||[])[le]:W[tt];if(!(!yt||yt.t=="z"))if(yt.t=="n")(yt.v|0)==yt.v&&yt.v>=-32768&&yt.v<=32767?no(ue,13,S(Ze,le,yt.v)):no(ue,14,k(Ze,le,yt.v));else{var kt=Il(yt);no(ue,15,C(Ze,le,kt.slice(0,239)))}}return no(ue,1),ue.end()}function i(W,oe){var ae=oe||{};if(+ae.codepage>=0&&ao(+ae.codepage),ae.type=="string")throw new Error("Cannot write WK3 to JS string");var ue=Rw();no(ue,0,o(W));for(var Ee=0,qe=0;Ee<W.SheetNames.length;++Ee)(W.Sheets[W.SheetNames[Ee]]||{})["!ref"]&&no(ue,27,be(W.SheetNames[Ee],qe++));var Ne=0;for(Ee=0;Ee<W.SheetNames.length;++Ee){var Me=W.Sheets[W.SheetNames[Ee]];if(!(!Me||!Me["!ref"])){for(var Ze=ni(Me["!ref"]),Tt=Array.isArray(Me),le=[],tt=Math.min(Ze.e.r,8191),yt=Ze.s.r;yt<=tt;++yt)for(var kt=ts(yt),ct=Ze.s.c;ct<=Ze.e.c;++ct){yt===Ze.s.r&&(le[ct]=Ii(ct));var at=le[ct]+kt,Nt=Tt?(Me[yt]||[])[ct]:Me[at];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")no(ue,23,re(yt,ct,Ne,Nt.v));else{var Rt=Il(Nt);no(ue,22,M(yt,ct,Ne,Rt.slice(0,239)))}}++Ne}}return no(ue,1),ue.end()}function s(W){var oe=Ti(2);return oe.write_shift(2,W),oe}function o(W){var oe=Ti(26);oe.write_shift(2,4096),oe.write_shift(2,4),oe.write_shift(4,0);for(var ae=0,ue=0,Ee=0,qe=0;qe<W.SheetNames.length;++qe){var Ne=W.SheetNames[qe],Me=W.Sheets[Ne];if(!(!Me||!Me["!ref"])){++Ee;var Ze=m0(Me["!ref"]);ae<Ze.e.r&&(ae=Ze.e.r),ue<Ze.e.c&&(ue=Ze.e.c)}}return ae>8191&&(ae=8191),oe.write_shift(2,ae),oe.write_shift(1,Ee),oe.write_shift(1,ue),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(1,1),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(4,0),oe}function c(W,oe,ae){var ue={s:{c:0,r:0},e:{c:0,r:0}};return oe==8&&ae.qpro?(ue.s.c=W.read_shift(1),W.l++,ue.s.r=W.read_shift(2),ue.e.c=W.read_shift(1),W.l++,ue.e.r=W.read_shift(2),ue):(ue.s.c=W.read_shift(2),ue.s.r=W.read_shift(2),oe==12&&ae.qpro&&(W.l+=2),ue.e.c=W.read_shift(2),ue.e.r=W.read_shift(2),oe==12&&ae.qpro&&(W.l+=2),ue.s.c==65535&&(ue.s.c=ue.e.c=ue.s.r=ue.e.r=0),ue)}function d(W){var oe=Ti(8);return oe.write_shift(2,W.s.c),oe.write_shift(2,W.s.r),oe.write_shift(2,W.e.c),oe.write_shift(2,W.e.r),oe}function h(W,oe,ae){var ue=[{c:0,r:0},{t:"n",v:0},0,0];return ae.qpro&&ae.vers!=20768?(ue[0].c=W.read_shift(1),ue[3]=W.read_shift(1),ue[0].r=W.read_shift(2),W.l+=2):(ue[2]=W.read_shift(1),ue[0].c=W.read_shift(2),ue[0].r=W.read_shift(2)),ue}function m(W,oe,ae){var ue=W.l+oe,Ee=h(W,oe,ae);if(Ee[1].t="s",ae.vers==20768){W.l++;var qe=W.read_shift(1);return Ee[1].v=W.read_shift(qe,"utf8"),Ee}return ae.qpro&&W.l++,Ee[1].v=W.read_shift(ue-W.l,"cstr"),Ee}function C(W,oe,ae){var ue=Ti(7+ae.length);ue.write_shift(1,255),ue.write_shift(2,oe),ue.write_shift(2,W),ue.write_shift(1,39);for(var Ee=0;Ee<ue.length;++Ee){var qe=ae.charCodeAt(Ee);ue.write_shift(1,qe>=128?95:qe)}return ue.write_shift(1,0),ue}function b(W,oe,ae){var ue=h(W,oe,ae);return ue[1].v=W.read_shift(2,"i"),ue}function S(W,oe,ae){var ue=Ti(7);return ue.write_shift(1,255),ue.write_shift(2,oe),ue.write_shift(2,W),ue.write_shift(2,ae,"i"),ue}function R(W,oe,ae){var ue=h(W,oe,ae);return ue[1].v=W.read_shift(8,"f"),ue}function k(W,oe,ae){var ue=Ti(13);return ue.write_shift(1,255),ue.write_shift(2,oe),ue.write_shift(2,W),ue.write_shift(8,ae,"f"),ue}function U(W,oe,ae){var ue=W.l+oe,Ee=h(W,oe,ae);if(Ee[1].v=W.read_shift(8,"f"),ae.qpro)W.l=ue;else{var qe=W.read_shift(2);J(W.slice(W.l,W.l+qe),Ee),W.l+=qe}return Ee}function V(W,oe,ae){var ue=oe&32768;return oe&=-32769,oe=(ue?W:0)+(oe>=8192?oe-16384:oe),(ue?"":"$")+(ae?Ii(oe):ts(oe))}var G={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Q=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function J(W,oe){Yi(W,0);for(var ae=[],ue=0,Ee="",qe="",Ne="",Me="";W.l<W.length;){var Ze=W[W.l++];switch(Ze){case 0:ae.push(W.read_shift(8,"f"));break;case 1:qe=V(oe[0].c,W.read_shift(2),!0),Ee=V(oe[0].r,W.read_shift(2),!1),ae.push(qe+Ee);break;case 2:{var Tt=V(oe[0].c,W.read_shift(2),!0),le=V(oe[0].r,W.read_shift(2),!1);qe=V(oe[0].c,W.read_shift(2),!0),Ee=V(oe[0].r,W.read_shift(2),!1),ae.push(Tt+le+":"+qe+Ee)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:ae.push("("+ae.pop()+")");break;case 5:ae.push(W.read_shift(2));break;case 6:{for(var tt="";Ze=W[W.l++];)tt+=String.fromCharCode(Ze);ae.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:ae.push("-"+ae.pop());break;case 23:ae.push("+"+ae.pop());break;case 22:ae.push("NOT("+ae.pop()+")");break;case 20:case 21:Me=ae.pop(),Ne=ae.pop(),ae.push(["AND","OR"][Ze-20]+"("+Ne+","+Me+")");break;default:if(Ze<32&&Q[Ze])Me=ae.pop(),Ne=ae.pop(),ae.push(Ne+Q[Ze]+Me);else if(G[Ze]){if(ue=G[Ze][1],ue==69&&(ue=W[W.l++]),ue>ae.length){console.error("WK1 bad formula parse 0x"+Ze.toString(16)+":|"+ae.join("|")+"|");return}var yt=ae.slice(-ue);ae.length-=ue,ae.push(G[Ze][0]+"("+yt.join(",")+")")}else return Ze<=7?console.error("WK1 invalid opcode "+Ze.toString(16)):Ze<=24?console.error("WK1 unsupported op "+Ze.toString(16)):Ze<=30?console.error("WK1 invalid opcode "+Ze.toString(16)):Ze<=115?console.error("WK1 unsupported function opcode "+Ze.toString(16)):console.error("WK1 unrecognized opcode "+Ze.toString(16))}}ae.length==1?oe[1].f=""+ae[0]:console.error("WK1 bad formula parse |"+ae.join("|")+"|")}function Z(W){var oe=[{c:0,r:0},{t:"n",v:0},0];return oe[0].r=W.read_shift(2),oe[3]=W[W.l++],oe[0].c=W[W.l++],oe}function K(W,oe){var ae=Z(W);return ae[1].t="s",ae[1].v=W.read_shift(oe-4,"cstr"),ae}function M(W,oe,ae,ue){var Ee=Ti(6+ue.length);Ee.write_shift(2,W),Ee.write_shift(1,ae),Ee.write_shift(1,oe),Ee.write_shift(1,39);for(var qe=0;qe<ue.length;++qe){var Ne=ue.charCodeAt(qe);Ee.write_shift(1,Ne>=128?95:Ne)}return Ee.write_shift(1,0),Ee}function P(W,oe){var ae=Z(W);ae[1].v=W.read_shift(2);var ue=ae[1].v>>1;if(ae[1].v&1)switch(ue&7){case 0:ue=(ue>>3)*5e3;break;case 1:ue=(ue>>3)*500;break;case 2:ue=(ue>>3)/20;break;case 3:ue=(ue>>3)/200;break;case 4:ue=(ue>>3)/2e3;break;case 5:ue=(ue>>3)/2e4;break;case 6:ue=(ue>>3)/16;break;case 7:ue=(ue>>3)/64;break}return ae[1].v=ue,ae}function O(W,oe){var ae=Z(W),ue=W.read_shift(4),Ee=W.read_shift(4),qe=W.read_shift(2);if(qe==65535)return ue===0&&Ee===3221225472?(ae[1].t="e",ae[1].v=15):ue===0&&Ee===3489660928?(ae[1].t="e",ae[1].v=42):ae[1].v=0,ae;var Ne=qe&32768;return qe=(qe&32767)-16446,ae[1].v=(1-Ne*2)*(Ee*Math.pow(2,qe+32)+ue*Math.pow(2,qe)),ae}function re(W,oe,ae,ue){var Ee=Ti(14);if(Ee.write_shift(2,W),Ee.write_shift(1,ae),Ee.write_shift(1,oe),ue==0)return Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(2,65535),Ee;var qe=0,Ne=0,Me=0,Ze=0;return ue<0&&(qe=1,ue=-ue),Ne=Math.log2(ue)|0,ue/=Math.pow(2,Ne-31),Ze=ue>>>0,(Ze&2147483648)==0&&(ue/=2,++Ne,Ze=ue>>>0),ue-=Ze,Ze|=2147483648,Ze>>>=0,ue*=Math.pow(2,32),Me=ue>>>0,Ee.write_shift(4,Me),Ee.write_shift(4,Ze),Ne+=16383+(qe?32768:0),Ee.write_shift(2,Ne),Ee}function te(W,oe){var ae=O(W);return W.l+=oe-14,ae}function q(W,oe){var ae=Z(W),ue=W.read_shift(4);return ae[1].v=ue>>6,ae}function X(W,oe){var ae=Z(W),ue=W.read_shift(8,"f");return ae[1].v=ue,ae}function Re(W,oe){var ae=X(W);return W.l+=oe-10,ae}function xe(W,oe){return W[W.l+oe-1]==0?W.read_shift(oe,"cstr"):""}function me(W,oe){var ae=W[W.l++];ae>oe-1&&(ae=oe-1);for(var ue="";ue.length<ae;)ue+=String.fromCharCode(W[W.l++]);return ue}function Ce(W,oe,ae){if(!(!ae.qpro||oe<21)){var ue=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var Ee=W.read_shift(oe-21,"cstr");return[ue,Ee]}}function We(W,oe){for(var ae={},ue=W.l+oe;W.l<ue;){var Ee=W.read_shift(2);if(Ee==14e3){for(ae[Ee]=[0,""],ae[Ee][0]=W.read_shift(2);W[W.l];)ae[Ee][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return ae}function be(W,oe){var ae=Ti(5+W.length);ae.write_shift(2,14e3),ae.write_shift(2,oe);for(var ue=0;ue<W.length;++ue){var Ee=W.charCodeAt(ue);ae[ae.l++]=Ee>127?95:Ee}return ae[ae.l++]=0,ae}var Ye={0:{n:"BOF",f:vi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:R},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:U},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:me},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:te},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:We},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:Re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function Dq(t){var e={},r=t.match(Cs),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=lr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=fy[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Uq=(function(){var t=dd("t"),e=dd("rPr");function r(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Xr(o[1])},d=s.match(e);return d&&(c.s=Dq(d[1])),c}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(i).map(r).filter(function(c){return c.v})}})(),Mq=(function(){var e=/(\r\n|\n)/g;function r(i,s,o){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var d=i.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(s.push("<"+d+">"),o.push("</"+d+">")),o.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Oq=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Lq=/<(?:\w+:)?r>/,Pq=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Sy(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Xr(Sn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Sn(t),r&&(n.h=wy(n.t))):t.match(Lq)&&(n.r=Sn(t),n.t=Xr(Sn((t.replace(Pq,"").match(Oq)||[]).join("").replace(Cs,""))),r&&(n.h=Mq(Uq(n.r)))),n):{t:""}}var Qq=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Hq=/<(?:\w+:)?(?:si|sstItem)>/g,Vq=/<\/(?:\w+:)?(?:si|sstItem)>/;function jq(t,e){var r=[],n="";if(!t)return r;var i=t.match(Qq);if(i){n=i[2].replace(Hq,"").split(Vq);for(var s=0;s!=n.length;++s){var o=Sy(n[s].trim(),e);o!=null&&(r[r.length]=o)}i=lr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function Gq(t){return[t.read_shift(4),t.read_shift(4)]}function Kq(t,e){var r=[],n=!1;return Fl(t,function(s,o,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function v8(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function yl(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function zq(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=yl(t,4),e.U=yl(t,4),e.W=yl(t,4),e}function Wq(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function qq(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(Wq(t));return e}function Xq(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function Yq(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=yl(t,4),e.U=yl(t,4),e.W=yl(t,4),e}function Jq(t){var e=Yq(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function y8(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function C8(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Zq(t){var e=yl(t);switch(e.Minor){case 2:return[e.Minor,$q(t)];case 3:return[e.Minor,eX()];case 4:return[e.Minor,tX(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function $q(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=y8(t,r),i=C8(t,t.length-t.l);return{t:"Std",h:n,v:i}}function eX(){throw new Error("File is password-protected: ECMA-376 Extensible")}function tX(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Cs,function(s){var o=lr(s);switch(Po(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=o[c]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function rX(t,e){var r={},n=r.EncryptionVersionInfo=yl(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=y8(t,i),e-=i,r.EncryptionVerifier=C8(t,e),r}function nX(t){var e={},r=e.EncryptionVersionInfo=yl(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function iX(t){var e=0,r,n=v8(t),i=n.length+1,s,o,c,d,h;for(r=kA(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)o=r[s],c=(e&16384)===0?0:1,d=e<<1&32767,h=c|d,e=h^o;return e^52811}var E8=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},i=function(o,c){return n(o^c)},s=function(o){for(var c=e[o.length-1],d=104,h=o.length-1;h>=0;--h)for(var m=o[h],C=0;C!=7;++C)m&64&&(c^=r[d]),m*=2,--d;return c};return function(o){for(var c=v8(o),d=s(c),h=c.length,m=kA(16),C=0;C!=16;++C)m[C]=0;var b,S,R;for((h&1)===1&&(b=d>>8,m[h]=i(t[0],b),--h,b=d&255,S=c[c.length-1],m[h]=i(S,b));h>0;)--h,b=d>>8,m[h]=i(c[h],b),--h,b=d&255,m[h]=i(c[h],b);for(h=15,R=15-c.length;R>0;)b=d>>8,m[h]=i(t[R],b),--h,--R,b=d&255,m[h]=i(c[h],b),--h,--R;return m}})(),sX=function(t,e,r,n,i){i||(i=e),n||(n=E8(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=n[r],o=(o>>5|o<<3)&255,i[s]=o,++r;return[i,r,n]},aX=function(t){var e=0,r=E8(t);return function(n){var i=sX("",n,e,r);return e=i[1],i[0]}};function oX(t,e,r,n){var i={key:vi(t),verificationBytes:vi(t)};return r.password&&(i.verifier=iX(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=aX(r.password)),i}function lX(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=nX(t):n.Data=rX(t,e),n}function AX(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?lX(t,e-2,n):oX(t,r.biff>=8?e:e-2,r,n),n}var cX=(function(){function t(i,s){switch(s.type){case"base64":return e(Ea(i),s);case"binary":return e(i,s);case"buffer":return e(Hr&&Buffer.isBuffer(i)?i.toString("binary"):Lc(i),s);case"array":return e(Sc(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},c=o.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,C){Array.isArray(c)&&(c[C]=[]);for(var b=/\\\w+\b/g,S=0,R,k=-1;R=b.exec(m);){switch(R[0]){case"\\cell":var U=m.slice(S,b.lastIndex-R[0].length);if(U[0]==" "&&(U=U.slice(1)),++k,U.length){var V={v:U,t:"s"};Array.isArray(c)?c[C][k]=V:c[vr({r:C,c:k})]=V}break}S=b.lastIndex}k>h.e.c&&(h.e.c=k)}),c["!ref"]=zr(h),c}function r(i,s){return OA(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],o=ni(i["!ref"]),c,d=Array.isArray(i),h=o.s.r;h<=o.e.r;++h){s.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var C=vr({r:h,c:m});c=d?(i[h]||[])[m]:i[C],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Il(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function uX(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function pd(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function fX(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),o=i-s;if(o===0)return[0,0,e];var c=0,d=0,h=i+s;switch(d=o/(h>1?2-h:h),i){case e:c=((r-n)/o+6)%6;break;case r:c=(n-e)/o+2;break;case n:c=(e-r)/o+4;break}return[c/6,d,h/2]}function dX(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,o=[s,s,s],c=6*e,d;if(r!==0)switch(c|0){case 0:case 6:d=i*c,o[0]+=i,o[1]+=d;break;case 1:d=i*(2-c),o[0]+=d,o[1]+=i;break;case 2:d=i*(c-2),o[1]+=i,o[2]+=d;break;case 3:d=i*(4-c),o[1]+=d,o[2]+=i;break;case 4:d=i*(c-4),o[2]+=i,o[0]+=d;break;case 5:d=i*(6-c),o[2]+=d,o[0]+=i;break}for(var h=0;h!=3;++h)o[h]=Math.round(o[h]*255);return o}function V1(t,e){if(e===0)return t;var r=fX(uX(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),pd(dX(r))}var b8=6,hX=15,gX=1,Fs=b8;function j1(t){return Math.floor((t+Math.round(128/Fs)/256)*Fs)}function G1(t){return Math.floor((t-5)/Fs*100+.5)/100}function Mw(t){return Math.round((t*Fs+5)/Fs*256)/256}function I2(t){return Mw(G1(j1(t)))}function Ny(t){var e=Math.abs(t-I2(t)),r=Fs;if(e>.005)for(Fs=gX;Fs<hX;++Fs)Math.abs(t-I2(t))<=e&&(e=Math.abs(t-I2(t)),r=Fs);Fs=r}function A0(t){t.width?(t.wpx=j1(t.width),t.wch=G1(t.wpx),t.MDW=Fs):t.wpx?(t.wch=G1(t.wpx),t.width=Mw(t.wch),t.MDW=Fs):typeof t.wch=="number"&&(t.width=Mw(t.wch),t.wpx=j1(t.width),t.MDW=Fs),t.customWidth&&delete t.customWidth}var pX=96,_8=pX;function T8(t){return t*96/_8}function md(t){return t*_8/96}var mX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function xX(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(Cs)||[]).forEach(function(o){var c=lr(o);switch(Po(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=Pn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=Pn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function wX(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(Cs)||[]).forEach(function(o){var c=lr(o);switch(Po(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function vX(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(Cs)||[]).forEach(function(o){var c=lr(o);switch(Po(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=Sn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?Pn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?Pn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?Pn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?Pn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?Pn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?Pn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?Pn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=fy[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=Pn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var d=vc[i.color.index];i.color.index==81&&(d=vc[1]),d||(d=vc[1]),i.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=V1(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function yX(t,e,r){e.NumberFmt=[];for(var n=Mo(br),i=0;i<n.length;++i)e.NumberFmt[n[i]]=br[n[i]];var s=t[0].match(Cs);if(s)for(i=0;i<s.length;++i){var o=lr(s[i]);switch(Po(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Xr(Sn(o.formatCode)),d=parseInt(o.numFmtId,10);if(e.NumberFmt[d]=c,d>0){if(d>392){for(d=392;d>60&&e.NumberFmt[d]!=null;--d);e.NumberFmt[d]=c}wc(c,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Ng=["numFmtId","fillId","fontId","borderId","xfId"],Fg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function CX(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Cs)||[]).forEach(function(s){var o=lr(s),c=0;switch(Po(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],c=0;c<Ng.length;++c)n[Ng[c]]&&(n[Ng[c]]=parseInt(n[Ng[c]],10));for(c=0;c<Fg.length;++c)n[Fg[c]]&&(n[Fg[c]]=Pn(n[Fg[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};o.vertical&&(d.vertical=o.vertical),o.horizontal&&(d.horizontal=o.horizontal),o.textRotation!=null&&(d.textRotation=o.textRotation),o.indent&&(d.indent=o.indent),o.wrapText&&(d.wrapText=Pn(o.wrapText)),n.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var EX=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,d,h){var m={};if(!c)return m;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var C;return(C=c.match(e))&&yX(C,m,h),(C=c.match(i))&&vX(C,m,d,h),(C=c.match(n))&&wX(C,m,d,h),(C=c.match(s))&&xX(C,m,d,h),(C=c.match(r))&&CX(C,m,h),m}})();function bX(t,e){var r=t.read_shift(2),n=ws(t);return[r,n]}function _X(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=Uz(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=Dz(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ws(t),n}var TX=ys;function BX(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var IX=ys;function SX(t,e,r){var n={};n.NumberFmt=[];for(var i in br)n.NumberFmt[i]=br[i];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Fl(t,function(d,h,m){switch(m){case 44:n.NumberFmt[d[0]]=d[1],wc(d[1],d[0]);break;case 43:n.Fonts.push(d),d.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(d.color.rgb=V1(e.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(m),o=!0;break;case 38:s.pop(),o=!1;break;default:if(h.T>0)s.push(m);else if(h.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var NX=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function FX(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Cs)||[]).forEach(function(i){var s=lr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[NX.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function RX(){}function kX(){}var DX=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,UX=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,MX=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function OX(t,e,r){e.themeElements={};var n;[["clrScheme",DX,FX],["fontScheme",UX,RX],["fmtScheme",MX,kX]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var LX=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function B8(t,e){(!t||t.length===0)&&(t=PX());var r,n={};if(!(r=t.match(LX)))throw new Error("themeElements not found in theme");return OX(r[0],n,e),n.raw=t,n}function PX(t,e){var r=[LR];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function QX(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var o;try{o=OR(s,{type:"array"})}catch{return}var c=va(o,"theme/theme/theme1.xml",!0);if(c)return B8(c,r)}}function HX(t){return t.read_shift(4)}function VX(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=jX(t,4);break;case 2:e.xclrValue=d8(t);break;case 3:e.xclrValue=HX(t);break;case 4:t.l+=4;break}return t.l+=8,e}function jX(t,e){return ys(t,e)}function GX(t,e){return ys(t,e)}function KX(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=VX(t);break;case 6:n[1]=GX(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function zX(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(KX(t,r-t.l));return{ixfe:n,ext:s}}function WX(t,e){e.forEach(function(r){r[0]})}function qX(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ws(t)}}function XX(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function YX(t){return t.l+=4,t.read_shift(4)!=0}function JX(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],o=!1,c=2;return Fl(t,function(d,h,m){switch(m){case 335:n.Types.push({name:d.name});break;case 51:d.forEach(function(C){c==1?n.Cell.push({type:n.Types[C[0]-1].name,index:C[1]}):c==0&&n.Value.push({type:n.Types[C[0]-1].name,index:C[1]})});break;case 337:c=d?1:0;break;case 338:c=2;break;case 35:s.push(m),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!h.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function ZX(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,o;return t.replace(Cs,function(c){var d=lr(c);switch(Po(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<n.Types.length;++h)n.Types[h].name==d.name&&(o=n.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[d.t-1].name,index:+d.v}):s==0&&n.Value.push({type:n.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+d.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return c}),n}function $X(t){var e=[];if(!t)return e;var r=1;return(t.match(Cs)||[]).forEach(function(n){var i=lr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function eY(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=vr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function tY(t,e,r){var n=[];return Fl(t,function(s,o,c){switch(c){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function rY(t,e,r,n){if(!t)return t;var i=n||{},s=!1;Fl(t,function(c,d,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!d.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},i)}function nY(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function v4(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(o){var c=Rs(o.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[o.ref]=s;var d=ni(t["!ref"]||"BDWGO1000001:A1");d.s.r>c.r&&(d.s.r=c.r),d.e.r<c.r&&(d.e.r=c.r),d.s.c>c.c&&(d.s.c=c.c),d.e.c<c.c&&(d.e.c=c.c);var h=zr(d);h!==t["!ref"]&&(t["!ref"]=h)}s.c||(s.c=[]);var m={a:o.author,t:o.t,r:o.r,T:r};o.h&&(m.h=o.h);for(var C=s.c.length-1;C>=0;--C){if(!r&&s.c[C].T)return;r&&!s.c[C].T&&s.c.splice(C,1)}if(r&&n){for(C=0;C<n.length;++C)if(m.a==n[C].id){m.a=n[C].name||m.a;break}}s.c.push(m)})}function iY(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var d=lr(c[0]),h={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},m=Rs(d.ref);if(!(e.sheetRows&&e.sheetRows<=m.r)){var C=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),b=!!C&&!!C[1]&&Sy(C[1])||{r:"",t:"",h:""};h.r=b.r,b.r=="<t></t>"&&(b.t=b.h=""),h.t=(b.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(h.h=b.h),n.push(h)}}}}),n}function sY(t,e){var r=[],n=!1,i={},s=0;return t.replace(Cs,function(c,d){var h=lr(c);switch(Po(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=d+c.length;break;case"</text>":i.t=t.slice(s,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return c}),r}function aY(t,e){var r=[],n=!1;return t.replace(Cs,function(s){var o=lr(s);switch(Po(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function oY(t){var e={};e.iauthor=t.read_shift(4);var r=Qc(t);return e.rfx=r.s,e.ref=vr(r.s),t.l+=16,e}var lY=ws;function AY(t,e){var r=[],n=[],i={},s=!1;return Fl(t,function(c,d,h){switch(h){case 632:n.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}var cY="application/vnd.ms-office.vbaProject";function uY(t){var e=Kr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Kr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Kr.write(e)}function fY(){return{"!type":"dialog"}}function dY(){return{"!type":"dialog"}}function hY(){return{"!type":"macro"}}function gY(){return{"!type":"macro"}}var Xu=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,o){var c=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return c?m+=e.c:--m,d?h+=e.r:--h,i+(c?"":"$")+Ii(m)+(d?"":"$")+ts(h)}return function(i,s){return e=s,i.replace(t,r)}})(),I8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pY=(function(){return function(e,r){return e.replace(I8,function(n,i,s,o,c,d){var h=Ey(o)-(s?0:r.c),m=Cy(d)-(c?0:r.r),C=m==0?"":c?m+1:"["+m+"]",b=h==0?"":s?h+1:"["+h+"]";return i+"R"+C+"C"+b})}})();function S8(t,e){return t.replace(I8,function(r,n,i,s,o,c){return n+(i=="$"?i+s:Ii(Ey(s)+e.c))+(o=="$"?o+c:ts(Cy(c)+e.r))})}function mY(t,e,r){var n=m0(e),i=n.s,s=Rs(r),o={r:s.r-i.r,c:s.c-i.c};return S8(t,o)}function xY(t){return t.length!=1}function y4(t){return t.replace(/_xlfn\./g,"")}function mi(t){t.l+=1}function DA(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function N8(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return F8(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),o=DA(t),c=DA(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function F8(t){var e=DA(t),r=DA(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function wY(t,e,r){if(r.biff<8)return F8(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=DA(t),o=DA(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function R8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return vY(t);var n=t.read_shift(r&&r.biff==12?4:2),i=DA(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function vY(t){var e=DA(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function yY(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function CY(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return EY(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function EY(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function bY(t,e,r){var n=(t[t.l++]&96)>>5,i=N8(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function _Y(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=N8(t,s,r);return[n,i,o]}function TY(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function BY(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function IY(t,e,r){var n=(t[t.l++]&96)>>5,i=wY(t,e-1,r);return[n,i]}function SY(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function C4(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function NY(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function FY(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function RY(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kY(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function DY(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function k8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function UY(t){return t.read_shift(2),k8(t)}function MY(t){return t.read_shift(2),k8(t)}function OY(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=R8(t,0,r);return[n,i]}function LY(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=CY(t,0,r);return[n,i]}function PY(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=R8(t,0,r);return[n,i,s]}function QY(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[HJ[i],M8[i],n]}function HY(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:VY(t);return[i,(s[0]===0?M8:QJ)[s[1]]]}function VY(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function jY(t,e,r){t.l+=r&&r.biff==2?3:4}function GY(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function KY(t){return t.l++,Hc[t.read_shift(1)]}function zY(t){return t.l++,t.read_shift(2)}function WY(t){return t.l++,t.read_shift(1)!==0}function qY(t){return t.l++,hs(t)}function XY(t,e,r){return t.l++,Pd(t,e-1,r)}function YY(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ci(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Hc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=hs(t);break;case 2:r[1]=Vc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function JY(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Qc:Mp)(t));return i}function ZY(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=YY(t,r.biff);return o}function $Y(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function eJ(t,e,r){if(r.biff==5)return tJ(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function tJ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function rJ(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function nJ(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function iJ(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function sJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var aJ=ys,oJ=ys,lJ=ys;function Hd(t,e,r){return t.l+=2,[yY(t)]}function Fy(t){return t.l+=6,[]}var AJ=Hd,cJ=Fy,uJ=Fy,fJ=Hd;function D8(t){return t.l+=2,[vi(t),t.read_shift(2)&1]}var dJ=Hd,hJ=D8,gJ=Fy,pJ=Hd,mJ=Hd,xJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wJ(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=xJ[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:i,C:s}}function vJ(t){return t.l+=2,[t.read_shift(4)]}function yJ(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function CJ(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function EJ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bJ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _J(t){return t.l+=4,[0,0]}var E4={1:{n:"PtgExp",f:GY},2:{n:"PtgTbl",f:lJ},3:{n:"PtgAdd",f:mi},4:{n:"PtgSub",f:mi},5:{n:"PtgMul",f:mi},6:{n:"PtgDiv",f:mi},7:{n:"PtgPower",f:mi},8:{n:"PtgConcat",f:mi},9:{n:"PtgLt",f:mi},10:{n:"PtgLe",f:mi},11:{n:"PtgEq",f:mi},12:{n:"PtgGe",f:mi},13:{n:"PtgGt",f:mi},14:{n:"PtgNe",f:mi},15:{n:"PtgIsect",f:mi},16:{n:"PtgUnion",f:mi},17:{n:"PtgRange",f:mi},18:{n:"PtgUplus",f:mi},19:{n:"PtgUminus",f:mi},20:{n:"PtgPercent",f:mi},21:{n:"PtgParen",f:mi},22:{n:"PtgMissArg",f:mi},23:{n:"PtgStr",f:XY},26:{n:"PtgSheet",f:yJ},27:{n:"PtgEndSheet",f:CJ},28:{n:"PtgErr",f:KY},29:{n:"PtgBool",f:WY},30:{n:"PtgInt",f:zY},31:{n:"PtgNum",f:qY},32:{n:"PtgArray",f:SY},33:{n:"PtgFunc",f:QY},34:{n:"PtgFuncVar",f:HY},35:{n:"PtgName",f:$Y},36:{n:"PtgRef",f:OY},37:{n:"PtgArea",f:bY},38:{n:"PtgMemArea",f:rJ},39:{n:"PtgMemErr",f:aJ},40:{n:"PtgMemNoMem",f:oJ},41:{n:"PtgMemFunc",f:nJ},42:{n:"PtgRefErr",f:iJ},43:{n:"PtgAreaErr",f:TY},44:{n:"PtgRefN",f:LY},45:{n:"PtgAreaN",f:IY},46:{n:"PtgMemAreaN",f:EJ},47:{n:"PtgMemNoMemN",f:bJ},57:{n:"PtgNameX",f:eJ},58:{n:"PtgRef3d",f:PY},59:{n:"PtgArea3d",f:_Y},60:{n:"PtgRefErr3d",f:sJ},61:{n:"PtgAreaErr3d",f:BY},255:{}},TJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},BJ={1:{n:"PtgElfLel",f:D8},2:{n:"PtgElfRw",f:pJ},3:{n:"PtgElfCol",f:AJ},6:{n:"PtgElfRwV",f:mJ},7:{n:"PtgElfColV",f:fJ},10:{n:"PtgElfRadical",f:dJ},11:{n:"PtgElfRadicalS",f:gJ},13:{n:"PtgElfColS",f:cJ},15:{n:"PtgElfColSV",f:uJ},16:{n:"PtgElfRadicalLel",f:hJ},25:{n:"PtgList",f:wJ},29:{n:"PtgSxName",f:vJ},255:{}},IJ={0:{n:"PtgAttrNoop",f:_J},1:{n:"PtgAttrSemi",f:DY},2:{n:"PtgAttrIf",f:RY},4:{n:"PtgAttrChoose",f:NY},8:{n:"PtgAttrGoto",f:FY},16:{n:"PtgAttrSum",f:jY},32:{n:"PtgAttrBaxcel",f:C4},33:{n:"PtgAttrBaxcel",f:C4},64:{n:"PtgAttrSpace",f:UY},65:{n:"PtgAttrSpaceSemi",f:MY},128:{n:"PtgAttrIfError",f:kY},255:{}};function Vd(t,e,r,n){if(n.biff<8)return ys(t,e);for(var i=t.l+e,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ZY(t,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=JY(t,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=i-t.l,e!==0&&s.push(ys(t,e)),s}function jd(t,e,r){for(var n=t.l+e,i,s,o=[];n!=t.l;)e=n-t.l,s=t[t.l],i=E4[s]||E4[TJ[s]],(s===24||s===25)&&(i=(s===24?BJ:IJ)[t[t.l+1]]),!i||!i.f?ys(t,e):o.push([i.n,i.f(t,e,r)]);return o}function SJ(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var NJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function FJ(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function U8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function b4(t,e,r){var n=U8(t,e,r);return n=="#REF"?n:FJ(n,r)}function fs(t,e,r,n,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],d,h,m,C=0,b=0,S,R="";if(!t[0]||!t[0][0])return"";for(var k=-1,U="",V=0,G=t[0].length;V<G;++V){var Q=t[0][V];switch(Q[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),k>=0){switch(t[0][k][1][0]){case 0:U=ri(" ",t[0][k][1][1]);break;case 1:U=ri("\r",t[0][k][1][1]);break;default:if(U="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}h=h+U,k=-1}c.push(h+NJ[Q[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Kf(Q[1][1],o,i),c.push(zf(m,s));break;case"PtgRefN":m=r?Kf(Q[1][1],r,i):Q[1][1],c.push(zf(m,s));break;case"PtgRef3d":C=Q[1][1],m=Kf(Q[1][2],o,i),R=b4(n,C,i),c.push(R+"!"+zf(m,s));break;case"PtgFunc":case"PtgFuncVar":var J=Q[1][0],Z=Q[1][1];J||(J=0),J&=127;var K=J==0?[]:c.slice(-J);c.length-=J,Z==="User"&&(Z=K.shift()),c.push(Z+"("+K.join(",")+")");break;case"PtgBool":c.push(Q[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(Q[1]);break;case"PtgNum":c.push(String(Q[1]));break;case"PtgStr":c.push('"'+Q[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(Q[1]);break;case"PtgAreaN":S=i4(Q[1][1],r?{s:r}:o,i),c.push(T2(S,i));break;case"PtgArea":S=i4(Q[1][1],o,i),c.push(T2(S,i));break;case"PtgArea3d":C=Q[1][1],S=Q[1][2],R=b4(n,C,i),c.push(R+"!"+T2(S,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=Q[1][2];var M=(n.names||[])[b-1]||(n[0]||[])[b],P=M?M.Name:"SH33TJSNAME"+String(b);P&&P.slice(0,6)=="_xlfn."&&!i.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var O=Q[1][1];b=Q[1][2];var re;if(i.biff<=5)O<0&&(O=-O),n[O]&&(re=n[O][b]);else{var te="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][b]&&n[O][b].itab>0&&(te=n.SheetNames[n[O][b].itab-1]+"!"):te=n.SheetNames[b-1]+"!"),n[O]&&n[O][b])te+=n[O][b].Name;else if(n[0]&&n[0][b])te+=n[0][b].Name;else{var q=(U8(n,O,i)||"").split(";;");q[b-1]?te=q[b-1]:te+="SH33TJSERRX"}c.push(te);break}re||(re={Name:"SH33TJSERRY"}),c.push(re.Name);break;case"PtgParen":var X="(",Re=")";if(k>=0){switch(U="",t[0][k][1][0]){case 2:X=ri(" ",t[0][k][1][1])+X;break;case 3:X=ri("\r",t[0][k][1][1])+X;break;case 4:Re=ri(" ",t[0][k][1][1])+Re;break;case 5:Re=ri("\r",t[0][k][1][1])+Re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}k=-1}c.push(X+c.pop()+Re);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:Q[1][1],r:Q[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[vr(m)]){var me=n.sharedf[vr(m)];c.push(fs(me,o,xe,n,i))}else{var Ce=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(fs(h[1],o,xe,n,i)),Ce=!0;break}Ce||c.push(Q[1])}break;case"PtgArray":c.push("{"+SJ(Q[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":k=V;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+Q[1].idx+"[#"+Q[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Q));default:throw new Error("Unrecognized Formula Token: "+String(Q))}var We=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&k>=0&&We.indexOf(t[0][V][0])==-1){Q=t[0][k];var be=!0;switch(Q[1][0]){case 4:be=!1;case 0:U=ri(" ",Q[1][1]);break;case 5:be=!1;case 1:U=ri("\r",Q[1][1]);break;default:if(U="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Q[1][0])}c.push((be?U:"")+c.pop()+(be?"":U)),k=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function RJ(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],ys(t,e-2)];var c=jd(t,o,r);return e!==o+i&&(s=Vd(t,e-o-i,c,r)),t.l=n,[c,s]}function kJ(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],ys(t,e-2)];var c=jd(t,o,r);return e!==o+i&&(s=Vd(t,e-o-i,c,r)),t.l=n,[c,s]}function DJ(t,e,r,n){var i=t.l+e,s=jd(t,n,r),o;return i!==t.l&&(o=Vd(t,i-t.l,s,r)),[s,o]}function UJ(t,e,r){var n=t.l+e,i,s=t.read_shift(2),o=jd(t,s,r);return s==65535?[[],ys(t,e-2)]:(e!==s+2&&(i=Vd(t,n-s-2,o,r)),[o,i])}function MJ(t){var e;if(pl(t,t.l+6)!==65535)return[hs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function S2(t,e,r){var n=t.l+e,i=Qo(t);r.biff==2&&++t.l;var s=MJ(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=kJ(t,n-t.l,r);return{cell:i,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function Op(t,e,r){var n=t.read_shift(4),i=jd(t,n,r),s=t.read_shift(4),o=s>0?Vd(t,s,i,r):null;return[i,o]}var OJ=Op,Lp=Op,LJ=Op,PJ=Op,QJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},M8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},HJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _4(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function N2(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Yf={},Yu={};function Jf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function O8(t,e,r,n,i,s){try{n.cellNF&&(t.z=br[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Oi(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(br[e]==null&&wc(VK[e]||"General",e),t.t==="e")t.w=t.w||Hc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=fd(t.v);else if(t.t==="d"){var o=Ds(t.v);(o|0)===o?t.w=o.toString(10):t.w=fd(o)}else{if(t.v===void 0)return"";t.w=Ic(t.v,Yu)}else t.t==="d"?t.w=za(e,Ds(t.v),Yu):t.w=za(e,t.v,Yu)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=V1(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=V1(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function VJ(t,e){var r=ni(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=zr(r))}var jJ=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GJ=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,KJ=/<(?:\w:)?hyperlink [^>]*>/mg,zJ=/"(\w*:\w*)"/,WJ=/<(?:\w:)?col\b[^>]*[\/]?>/g,qJ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,XJ=/<(?:\w:)?pageMargins[^>]*\/>/g,L8=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,YJ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,JJ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function ZJ(t,e,r,n,i,s,o){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",m="",C=t.match(GJ);C?(h=t.slice(0,C.index),m=t.slice(C.index+C[0].length)):h=m=t;var b=h.match(L8);b?Ry(b[0],c,i,r):(b=h.match(YJ))&&$J(b[0],b[1]||"",c,i,r);var S=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(S>0){var R=h.slice(S,S+50).match(zJ);R&&VJ(c,R[1])}var k=h.match(JJ);k&&k[1]&&sZ(k[1],i);var U=[];if(e.cellStyles){var V=h.match(WJ);V&&rZ(U,V)}C&&aZ(C[1],c,e,d,s,o);var G=m.match(qJ);G&&(c["!autofilter"]=nZ(G[0]));var Q=[],J=m.match(jJ);if(J)for(S=0;S!=J.length;++S)Q[S]=ni(J[S].slice(J[S].indexOf('"')+1));var Z=m.match(KJ);Z&&eZ(c,Z,n);var K=m.match(XJ);if(K&&(c["!margins"]=tZ(lr(K[0]))),!c["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(c["!ref"]=zr(d)),e.sheetRows>0&&c["!ref"]){var M=ni(c["!ref"]);e.sheetRows<=+M.e.r&&(M.e.r=e.sheetRows-1,M.e.r>d.e.r&&(M.e.r=d.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>d.e.c&&(M.e.c=d.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),c["!fullref"]=c["!ref"],c["!ref"]=zr(M))}return U.length>0&&(c["!cols"]=U),Q.length>0&&(c["!merges"]=Q),c}function Ry(t,e,r,n){var i=lr(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Xr(Sn(i.codeName)))}function $J(t,e,r,n,i){Ry(t.slice(0,t.indexOf(">")),r,n,i)}function eZ(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=lr(Sn(e[i]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Xr(s.location))):(s.Target="#"+Xr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=ni(s.ref),d=c.s.r;d<=c.e.r;++d)for(var h=c.s.c;h<=c.e.c;++h){var m=vr({c:h,r:d});n?(t[d]||(t[d]=[]),t[d][h]||(t[d][h]={t:"z",v:void 0}),t[d][h].l=s):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=s)}}}function tZ(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function rZ(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=lr(e[n],!0);i.hidden&&(i.hidden=Pn(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,Ny(i.width)),A0(i);s<=o;)t[s++]=es(i)}}function nZ(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var iZ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function sZ(t,e){e.Views||(e.Views=[{}]),(t.match(iZ)||[]).forEach(function(r,n){var i=lr(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Pn(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var aZ=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=dd("v"),o=dd("f");return function(d,h,m,C,b,S){for(var R=0,k="",U=[],V=[],G=0,Q=0,J=0,Z="",K,M,P=0,O=0,re,te,q=0,X=0,Re=Array.isArray(S.CellXf),xe,me=[],Ce=[],We=Array.isArray(h),be=[],Ye={},ie=!1,W=!!m.sheetStubs,oe=d.split(e),ae=0,ue=oe.length;ae!=ue;++ae){k=oe[ae].trim();var Ee=k.length;if(Ee!==0){var qe=0;e:for(R=0;R<Ee;++R)switch(k[R]){case">":if(k[R-1]!="/"){++R;break e}if(m&&m.cellStyles){if(M=lr(k.slice(qe,R),!0),P=M.r!=null?parseInt(M.r,10):P+1,O=-1,m.sheetRows&&m.sheetRows<P)continue;Ye={},ie=!1,M.ht&&(ie=!0,Ye.hpt=parseFloat(M.ht),Ye.hpx=md(Ye.hpt)),M.hidden=="1"&&(ie=!0,Ye.hidden=!0),M.outlineLevel!=null&&(ie=!0,Ye.level=+M.outlineLevel),ie&&(be[P-1]=Ye)}break;case"<":qe=R;break}if(qe>=R)break;if(M=lr(k.slice(qe,R),!0),P=M.r!=null?parseInt(M.r,10):P+1,O=-1,!(m.sheetRows&&m.sheetRows<P)){C.s.r>P-1&&(C.s.r=P-1),C.e.r<P-1&&(C.e.r=P-1),m&&m.cellStyles&&(Ye={},ie=!1,M.ht&&(ie=!0,Ye.hpt=parseFloat(M.ht),Ye.hpx=md(Ye.hpt)),M.hidden=="1"&&(ie=!0,Ye.hidden=!0),M.outlineLevel!=null&&(ie=!0,Ye.level=+M.outlineLevel),ie&&(be[P-1]=Ye)),U=k.slice(R).split(t);for(var Ne=0;Ne!=U.length&&U[Ne].trim().charAt(0)=="<";++Ne);for(U=U.slice(Ne),R=0;R!=U.length;++R)if(k=U[R].trim(),k.length!==0){if(V=k.match(r),G=R,Q=0,J=0,k="<c "+(k.slice(0,1)=="<"?">":"")+k,V!=null&&V.length===2){for(G=0,Z=V[1],Q=0;Q!=Z.length&&!((J=Z.charCodeAt(Q)-64)<1||J>26);++Q)G=26*G+J;--G,O=G}else++O;for(Q=0;Q!=k.length&&k.charCodeAt(Q)!==62;++Q);if(++Q,M=lr(k.slice(0,Q),!0),M.r||(M.r=vr({r:P-1,c:O})),Z=k.slice(Q),K={t:""},(V=Z.match(s))!=null&&V[1]!==""&&(K.v=Xr(V[1])),m.cellFormula){if((V=Z.match(o))!=null&&V[1]!==""){if(K.f=Xr(Sn(V[1])).replace(/\r\n/g,`
`),m.xlfn||(K.f=y4(K.f)),V[0].indexOf('t="array"')>-1)K.F=(Z.match(i)||[])[1],K.F.indexOf(":")>-1&&me.push([ni(K.F),K.F]);else if(V[0].indexOf('t="shared"')>-1){te=lr(V[0]);var Me=Xr(Sn(V[1]));m.xlfn||(Me=y4(Me)),Ce[parseInt(te.si,10)]=[te,Me,M.r]}}else(V=Z.match(/<f[^>]*\/>/))&&(te=lr(V[0]),Ce[te.si]&&(K.f=mY(Ce[te.si][1],Ce[te.si][2],M.r)));var Ze=Rs(M.r);for(Q=0;Q<me.length;++Q)Ze.r>=me[Q][0].s.r&&Ze.r<=me[Q][0].e.r&&Ze.c>=me[Q][0].s.c&&Ze.c<=me[Q][0].e.c&&(K.F=me[Q][1])}if(M.t==null&&K.v===void 0)if(K.f||K.F)K.v=0,K.t="n";else if(W)K.t="z";else continue;else K.t=M.t||"n";switch(C.s.c>O&&(C.s.c=O),C.e.c<O&&(C.e.c=O),K.t){case"n":if(K.v==""||K.v==null){if(!W)continue;K.t="z"}else K.v=parseFloat(K.v);break;case"s":if(typeof K.v>"u"){if(!W)continue;K.t="z"}else re=Yf[parseInt(K.v,10)],K.v=re.t,K.r=re.r,m.cellHTML&&(K.h=re.h);break;case"str":K.t="s",K.v=K.v!=null?Sn(K.v):"",m.cellHTML&&(K.h=wy(K.v));break;case"inlineStr":V=Z.match(n),K.t="s",V!=null&&(re=Sy(V[1]))?(K.v=re.t,m.cellHTML&&(K.h=re.h)):K.v="";break;case"b":K.v=Pn(K.v);break;case"d":m.cellDates?K.v=Oi(K.v,1):(K.v=Ds(Oi(K.v,1)),K.t="n");break;case"e":(!m||m.cellText!==!1)&&(K.w=K.v),K.v=s8[K.v];break}if(q=X=0,xe=null,Re&&M.s!==void 0&&(xe=S.CellXf[M.s],xe!=null&&(xe.numFmtId!=null&&(q=xe.numFmtId),m.cellStyles&&xe.fillId!=null&&(X=xe.fillId))),O8(K,q,X,m,b,S),m.cellDates&&Re&&K.t=="n"&&p0(br[q])&&(K.t="d",K.v=Up(K.v)),M.cm&&m.xlmeta){var Tt=(m.xlmeta.Cell||[])[+M.cm-1];Tt&&Tt.type=="XLDAPR"&&(K.D=!0)}if(We){var le=Rs(M.r);h[le.r]||(h[le.r]=[]),h[le.r][le.c]=K}else h[M.r]=K}}}}be.length>0&&(h["!rows"]=be)}})();function oZ(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}var lZ=Qc;function AZ(){}function cZ(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=Rz(t),r}function uZ(t){var e=qa(t);return[e]}function fZ(t){var e=Pc(t);return[e]}function dZ(t){var e=qa(t),r=t.read_shift(1);return[e,r,"b"]}function hZ(t){var e=Pc(t),r=t.read_shift(1);return[e,r,"b"]}function gZ(t){var e=qa(t),r=t.read_shift(1);return[e,r,"e"]}function pZ(t){var e=Pc(t),r=t.read_shift(1);return[e,r,"e"]}function mZ(t){var e=qa(t),r=t.read_shift(4);return[e,r,"s"]}function xZ(t){var e=Pc(t),r=t.read_shift(4);return[e,r,"s"]}function wZ(t){var e=qa(t),r=hs(t);return[e,r,"n"]}function P8(t){var e=Pc(t),r=hs(t);return[e,r,"n"]}function vZ(t){var e=qa(t),r=Ty(t);return[e,r,"n"]}function yZ(t){var e=Pc(t),r=Ty(t);return[e,r,"n"]}function CZ(t){var e=qa(t),r=by(t);return[e,r,"is"]}function EZ(t){var e=qa(t),r=ws(t);return[e,r,"str"]}function bZ(t){var e=Pc(t),r=ws(t);return[e,r,"str"]}function _Z(t,e,r){var n=t.l+e,i=qa(t);i.r=r["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(r.cellFormula){t.l+=2;var c=Lp(t,n-t.l,r);o[3]=fs(c,null,i,r.supbooks,r)}else t.l=n;return o}function TZ(t,e,r){var n=t.l+e,i=qa(t);i.r=r["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(r.cellFormula){t.l+=2;var c=Lp(t,n-t.l,r);o[3]=fs(c,null,i,r.supbooks,r)}else t.l=n;return o}function BZ(t,e,r){var n=t.l+e,i=qa(t);i.r=r["!row"];var s=hs(t),o=[i,s,"n"];if(r.cellFormula){t.l+=2;var c=Lp(t,n-t.l,r);o[3]=fs(c,null,i,r.supbooks,r)}else t.l=n;return o}function IZ(t,e,r){var n=t.l+e,i=qa(t);i.r=r["!row"];var s=ws(t),o=[i,s,"str"];if(r.cellFormula){t.l+=2;var c=Lp(t,n-t.l,r);o[3]=fs(c,null,i,r.supbooks,r)}else t.l=n;return o}var SZ=Qc;function NZ(t,e){var r=t.l+e,n=Qc(t),i=_y(t),s=ws(t),o=ws(t),c=ws(t);t.l=r;var d={rfx:n,relId:i,loc:s,display:c};return o&&(d.Tooltip=o),d}function FZ(){}function RZ(t,e,r){var n=t.l+e,i=r8(t),s=t.read_shift(1),o=[i];if(o[2]=s,r.cellFormula){var c=OJ(t,n-t.l,r);o[1]=c}else t.l=n;return o}function kZ(t,e,r){var n=t.l+e,i=Qc(t),s=[i];if(r.cellFormula){var o=PJ(t,n-t.l,r);s[1]=o,t.l=n}else t.l=n;return s}var DZ=["left","right","top","bottom","header","footer"];function UZ(t){var e={};return DZ.forEach(function(r){e[r]=hs(t)}),e}function MZ(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function OZ(){}function LZ(){}function PZ(t,e,r,n,i,s,o){if(!t)return t;var c=e||{};n||(n={"!id":{}});var d=c.dense?[]:{},h,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=!1,b=!1,S,R,k,U,V,G,Q,J,Z,K=[];c.biff=12,c["!row"]=0;var M=0,P=!1,O=[],re={},te=c.supbooks||i.supbooks||[[]];if(te.sharedf=re,te.arrayf=O,te.SheetNames=i.SheetNames||i.Sheets.map(function(We){return We.name}),!c.supbooks&&(c.supbooks=te,i.Names))for(var q=0;q<i.Names.length;++q)te[0][q+1]=i.Names[q];var X=[],Re=[],xe=!1;K1[16]={n:"BrtShortReal",f:P8};var me;if(Fl(t,function(be,Ye,ie){if(!b)switch(ie){case 148:h=be;break;case 0:S=be,c.sheetRows&&c.sheetRows<=S.r&&(b=!0),J=ts(U=S.r),c["!row"]=S.r,(be.hidden||be.hpt||be.level!=null)&&(be.hpt&&(be.hpx=md(be.hpt)),Re[be.r]=be);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(R={t:be[2]},be[2]){case"n":R.v=be[1];break;case"s":Q=Yf[be[1]],R.v=Q.t,R.r=Q.r;break;case"b":R.v=!!be[1];break;case"e":R.v=be[1],c.cellText!==!1&&(R.w=Hc[R.v]);break;case"str":R.t="s",R.v=be[1];break;case"is":R.t="s",R.v=be[1].t;break}if((k=o.CellXf[be[0].iStyleRef])&&O8(R,k.numFmtId,null,c,s,o),V=be[0].c==-1?V+1:be[0].c,c.dense?(d[U]||(d[U]=[]),d[U][V]=R):d[Ii(V)+J]=R,c.cellFormula){for(P=!1,M=0;M<O.length;++M){var W=O[M];S.r>=W[0].s.r&&S.r<=W[0].e.r&&V>=W[0].s.c&&V<=W[0].e.c&&(R.F=zr(W[0]),P=!0)}!P&&be.length>3&&(R.f=be[3])}if(m.s.r>S.r&&(m.s.r=S.r),m.s.c>V&&(m.s.c=V),m.e.r<S.r&&(m.e.r=S.r),m.e.c<V&&(m.e.c=V),c.cellDates&&k&&R.t=="n"&&p0(br[k.numFmtId])){var oe=hc(R.v);oe&&(R.t="d",R.v=new Date(oe.y,oe.m-1,oe.d,oe.H,oe.M,oe.S,oe.u))}me&&(me.type=="XLDAPR"&&(R.D=!0),me=void 0);break;case 1:case 12:if(!c.sheetStubs||C)break;R={t:"z",v:void 0},V=be[0].c==-1?V+1:be[0].c,c.dense?(d[U]||(d[U]=[]),d[U][V]=R):d[Ii(V)+J]=R,m.s.r>S.r&&(m.s.r=S.r),m.s.c>V&&(m.s.c=V),m.e.r<S.r&&(m.e.r=S.r),m.e.c<V&&(m.e.c=V),me&&(me.type=="XLDAPR"&&(R.D=!0),me=void 0);break;case 176:K.push(be);break;case 49:me=((c.xlmeta||{}).Cell||[])[be-1];break;case 494:var ae=n["!id"][be.relId];for(ae?(be.Target=ae.Target,be.loc&&(be.Target+="#"+be.loc),be.Rel=ae):be.relId==""&&(be.Target="#"+be.loc),U=be.rfx.s.r;U<=be.rfx.e.r;++U)for(V=be.rfx.s.c;V<=be.rfx.e.c;++V)c.dense?(d[U]||(d[U]=[]),d[U][V]||(d[U][V]={t:"z",v:void 0}),d[U][V].l=be):(G=vr({c:V,r:U}),d[G]||(d[G]={t:"z",v:void 0}),d[G].l=be);break;case 426:if(!c.cellFormula)break;O.push(be),Z=c.dense?d[U][V]:d[Ii(V)+J],Z.f=fs(be[1],m,{r:S.r,c:V},te,c),Z.F=zr(be[0]);break;case 427:if(!c.cellFormula)break;re[vr(be[0].s)]=be[1],Z=c.dense?d[U][V]:d[Ii(V)+J],Z.f=fs(be[1],m,{r:S.r,c:V},te,c);break;case 60:if(!c.cellStyles)break;for(;be.e>=be.s;)X[be.e--]={width:be.w/256,hidden:!!(be.flags&1),level:be.level},xe||(xe=!0,Ny(be.w/256)),A0(X[be.e+1]);break;case 161:d["!autofilter"]={ref:zr(be)};break;case 476:d["!margins"]=be;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),be.name&&(i.Sheets[r].CodeName=be.name),(be.above||be.left)&&(d["!outline"]={above:be.above,left:be.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),be.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:C=!0;break;case 36:C=!1;break;case 37:C=!0;break;case 38:C=!1;break;default:if(!Ye.T){if(!C||c.WTF)throw new Error("Unexpected record 0x"+ie.toString(16))}}},c),delete c.supbooks,delete c["!row"],!d["!ref"]&&(m.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(d["!ref"]=zr(h||m)),c.sheetRows&&d["!ref"]){var Ce=ni(d["!ref"]);c.sheetRows<=+Ce.e.r&&(Ce.e.r=c.sheetRows-1,Ce.e.r>m.e.r&&(Ce.e.r=m.e.r),Ce.e.r<Ce.s.r&&(Ce.s.r=Ce.e.r),Ce.e.c>m.e.c&&(Ce.e.c=m.e.c),Ce.e.c<Ce.s.c&&(Ce.s.c=Ce.e.c),d["!fullref"]=d["!ref"],d["!ref"]=zr(Ce))}return K.length>0&&(d["!merges"]=K),X.length>0&&(d["!cols"]=X),Re.length>0&&(d["!rows"]=Re),d}function QZ(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var i=Xr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function HZ(t,e,r,n,i,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,d=0,h="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(C){var b=QZ(C);m.s.r=m.s.c=0,m.e.c=c,h=Ii(c),b[0].forEach(function(S,R){o[h+ts(R)]={t:"n",v:S,z:b[1]},d=R}),m.e.r<d&&(m.e.r=d),++c}),c>0&&(o["!ref"]=zr(m)),o}function VZ(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(L8);return c&&Ry(c[0],s,i,r),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function jZ(t,e){t.l+=10;var r=ws(t);return{name:r}}function GZ(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Fl(t,function(d,h,m){switch(m){case 550:s["!rel"]=d;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),d.name&&(i.Sheets[r].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var Q8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],KZ=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zZ=[],WZ=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function T4(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Pn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function B4(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Pn(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function H8(t){B4(t.WBProps,Q8),B4(t.CalcPr,WZ),T4(t.WBView,KZ),T4(t.Sheets,zZ),Yu.date1904=Pn(t.WBProps.date1904)}var qZ="][*?/\\".split("");function XZ(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qZ.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var YZ=/<\w+:workbook/;function JZ(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},o=0;if(t.replace(Cs,function(d,h){var m=lr(d);switch(Po(m[0])){case"<?xml":break;case"<workbook":d.match(YZ)&&(i="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Q8.forEach(function(C){if(m[C[0]]!=null)switch(C[2]){case"bool":r.WBProps[C[0]]=Pn(m[C[0]]);break;case"int":r.WBProps[C[0]]=parseInt(m[C[0]],10);break;default:r.WBProps[C[0]]=m[C[0]]}}),m.codeName&&(r.WBProps.CodeName=Sn(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Xr(Sn(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Sn(m.name),m.comment&&(s.Comment=m.comment),m.localSheetId&&(s.Sheet=+m.localSheetId),Pn(m.hidden||"0")&&(s.Hidden=!0),o=h+d.length;break;case"</definedName>":s.Ref=Xr(Sn(t.slice(o,h))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return d}),gz.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return H8(r),r}function ZZ(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=kw(t),r.name=ws(t),r}function $Z(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?ws(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function e$(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function t$(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=kz(t),o=LJ(t,0,r),c=_y(t);t.l=n;var d={Name:s,Ptg:o};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function r$(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],K1[16]={n:"BrtFRTArchID$",f:e$},Fl(t,function(d,h,m){switch(m){case 156:o.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(e.SID=d.Sheet),d.Ref=fs(d.Ptg,null,null,o,e),delete e.SID,delete d.Ptg,s.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([m,d]):o[0]=[m,d],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(d),o.XTI=o.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!h.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},e),H8(r),r.Names=s,r.supbooks=o,r}function n$(t,e,r){return e.slice(-4)===".bin"?r$(t,r):JZ(t,r)}function i$(t,e,r,n,i,s,o,c){return e.slice(-4)===".bin"?PZ(t,n,r,i,s,o,c):ZJ(t,n,r,i,s,o,c)}function s$(t,e,r,n,i,s,o,c){return e.slice(-4)===".bin"?GZ(t,n,r,i,s):VZ(t,n,r,i,s)}function a$(t,e,r,n,i,s,o,c){return e.slice(-4)===".bin"?hY():gY()}function o$(t,e,r,n,i,s,o,c){return e.slice(-4)===".bin"?fY():dY()}function l$(t,e,r,n){return e.slice(-4)===".bin"?SX(t,r,n):EX(t,r,n)}function A$(t,e,r){return B8(t,r)}function c$(t,e,r){return e.slice(-4)===".bin"?Kq(t,r):jq(t,r)}function u$(t,e,r){return e.slice(-4)===".bin"?AY(t,r):iY(t,r)}function f$(t,e,r){return e.slice(-4)===".bin"?tY(t):$X(t)}function d$(t,e,r,n){return r.slice(-4)===".bin"?rY(t,e,r,n):void 0}function h$(t,e,r){return e.slice(-4)===".bin"?JX(t,e,r):ZX(t,e,r)}var V8=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,j8=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ro(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(V8),s,o,c,d;if(i)for(d=0;d!=i.length;++d)s=i[d].match(j8),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),n[c]=s[2].slice(1,s[2].length-1));return n}function g$(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(V8),i,s,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(j8),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),r[o]=i[2].slice(1,i[2].length-1));return r}var Zf;function p$(t,e){var r=Zf[t]||Xr(t);return r==="General"?Ic(e):za(r,e)}function m$(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Pn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Oi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Xr(e)]=i}function x$(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Hc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=fd(t.v):t.w=Ic(t.v):t.w=p$(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=Zf[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&p0(n)){var i=hc(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function w$(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=mX[n.Pattern]||n.Pattern)}t[e.ID]=e}function v$(t,e,r,n,i,s,o,c,d,h){var m="General",C=n.StyleID,b={};h=h||{};var S=[],R=0;for(C===void 0&&c&&(C=c.StyleID),C===void 0&&o&&(C=o.StyleID);s[C]!==void 0&&(s[C].nf&&(m=s[C].nf),s[C].Interior&&S.push(s[C].Interior),!!s[C].Parent);)C=s[C].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Pn(t);break;case"String":n.t="s",n.r=XB(Xr(t)),n.v=t.indexOf("<")>-1?Xr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Oi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Xr(t):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=s8[t],h.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=XB(e||t));break}if(x$(n,m,h),h.cellFormula!==!1)if(n.Formula){var k=Xr(n.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),n.f=Xu(k,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Xu("RC:RC",i):n.ArrayRange&&(n.F=Xu(n.ArrayRange,i),d.push([ni(n.F),n.F]))}else for(R=0;R<d.length;++R)i.r>=d[R][0].s.r&&i.r<=d[R][0].e.r&&i.c>=d[R][0].s.c&&i.c<=d[R][0].e.c&&(n.F=d[R][1]);h.cellStyles&&(S.forEach(function(U){!b.patternType&&U.patternType&&(b.patternType=U.patternType)}),n.s=b),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function y$(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function F2(t,e){var r=e||{};FR();var n=Bf(vy(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Sn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=es(r);return o.type="string",gd.to_workbook(n,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Nt){i.indexOf("<"+Nt)>=0&&(s=!0)}),s)return N$(n,r);Zf={"General Number":"General","General Date":br[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":br[15],"Short Date":br[14],"Long Time":br[19],"Medium Time":br[18],"Short Time":br[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:br[2],Standard:br[4],Percent:br[10],Scientific:br[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,d=[],h,m={},C=[],b=r.dense?[]:{},S="",R={},k={},U=ro('<Data ss:Type="String">'),V=0,G=0,Q=0,J={s:{r:2e6,c:2e6},e:{r:0,c:0}},Z={},K={},M="",P=0,O=[],re={},te={},q=0,X=[],Re=[],xe={},me=[],Ce,We=!1,be=[],Ye=[],ie={},W=0,oe=0,ae={Sheets:[],WBProps:{date1904:!1}},ue={};hd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Ee="";c=hd.exec(n);)switch(c[3]=(Ee=c[3]).toLowerCase()){case"data":if(Ee=="data"){if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break}if(d[d.length-1][1])break;c[1]==="/"?v$(n.slice(V,c.index),M,U,d[d.length-1][0]=="comment"?xe:R,{c:G,r:Q},Z,me[G],k,be,r):(M="",U=ro(c[0]),V=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Re.length>0&&(R.c=Re),(!r.sheetRows||r.sheetRows>Q)&&R.v!==void 0&&(r.dense?(b[Q]||(b[Q]=[]),b[Q][G]=R):b[Ii(G)+ts(Q)]=R),R.HRef&&(R.l={Target:Xr(R.HRef)},R.HRefScreenTip&&(R.l.Tooltip=R.HRefScreenTip),delete R.HRef,delete R.HRefScreenTip),(R.MergeAcross||R.MergeDown)&&(W=G+(parseInt(R.MergeAcross,10)|0),oe=Q+(parseInt(R.MergeDown,10)|0),O.push({s:{c:G,r:Q},e:{c:W,r:oe}})),!r.sheetStubs)R.MergeAcross?G=W+1:++G;else if(R.MergeAcross||R.MergeDown){for(var qe=G;qe<=W;++qe)for(var Ne=Q;Ne<=oe;++Ne)(qe>G||Ne>Q)&&(r.dense?(b[Ne]||(b[Ne]=[]),b[Ne][qe]={t:"z"}):b[Ii(qe)+ts(Ne)]={t:"z"});G=W+1}else++G;else R=g$(c[0]),R.Index&&(G=+R.Index-1),G<J.s.c&&(J.s.c=G),G>J.e.c&&(J.e.c=G),c[0].slice(-2)==="/>"&&++G,Re=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(Q<J.s.r&&(J.s.r=Q),Q>J.e.r&&(J.e.r=Q),c[0].slice(-2)==="/>"&&(k=ro(c[0]),k.Index&&(Q=+k.Index-1)),G=0,++Q):(k=ro(c[0]),k.Index&&(Q=+k.Index-1),ie={},(k.AutoFitHeight=="0"||k.Height)&&(ie.hpx=parseInt(k.Height,10),ie.hpt=T8(ie.hpx),Ye[Q]=ie),k.Hidden=="1"&&(ie.hidden=!0,Ye[Q]=ie));break;case"worksheet":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"));C.push(S),J.s.r<=J.e.r&&J.s.c<=J.e.c&&(b["!ref"]=zr(J),r.sheetRows&&r.sheetRows<=J.e.r&&(b["!fullref"]=b["!ref"],J.e.r=r.sheetRows-1,b["!ref"]=zr(J))),O.length&&(b["!merges"]=O),me.length>0&&(b["!cols"]=me),Ye.length>0&&(b["!rows"]=Ye),m[S]=b}else J={s:{r:2e6,c:2e6},e:{r:0,c:0}},Q=G=0,d.push([c[3],!1]),h=ro(c[0]),S=Xr(h.Name),b=r.dense?[]:{},O=[],be=[],Ye=[],ue={name:S,Hidden:0},ae.Sheets.push(ue);break;case"table":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else{if(c[0].slice(-2)=="/>")break;d.push([c[3],!1]),me=[],We=!1}break;case"style":c[1]==="/"?w$(Z,K,r):K=ro(c[0]);break;case"numberformat":K.nf=Xr(ro(c[0]).Format||"General"),Zf[K.nf]&&(K.nf=Zf[K.nf]);for(var Me=0;Me!=392&&br[Me]!=K.nf;++Me);if(Me==392){for(Me=57;Me!=392;++Me)if(br[Me]==null){wc(K.nf,Me);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(Ce=ro(c[0]),Ce.Hidden&&(Ce.hidden=!0,delete Ce.Hidden),Ce.Width&&(Ce.wpx=parseInt(Ce.Width,10)),!We&&Ce.wpx>10){We=!0,Fs=b8;for(var Ze=0;Ze<me.length;++Ze)me[Ze]&&A0(me[Ze])}We&&A0(Ce),me[Ce.Index-1||me.length]=Ce;for(var Tt=0;Tt<+Ce.Span;++Tt)me[me.length]=es(Ce);break;case"namedrange":if(c[1]==="/")break;ae.Names||(ae.Names=[]);var le=lr(c[0]),tt={Name:le.Name,Ref:Xu(le.RefersTo.slice(1),{r:0,c:0})};ae.Sheets.length>0&&(tt.Sheet=ae.Sheets.length-1),ae.Names.push(tt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?M+=n.slice(P,c.index):P=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;K.Interior=ro(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?iW(re,Ee,n.slice(q,c.index)):q=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else d.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"));y$(xe),Re.push(xe)}else d.push([c[3],!1]),h=ro(c[0]),xe={a:h.Author};break;case"autofilter":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var yt=ro(c[0]);b["!autofilter"]={ref:Xu(yt.Range).replace(/\$/g,"")},d.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((h=d.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break;case"null":break;default:if(d.length==0&&c[3]=="document"||d.length==0&&c[3]=="uof")return k4(n,r);var kt=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:kt=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:kt=!1}break;case"excelworkbook":switch(c[3]){case"date1904":ae.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:kt=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:kt=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(q,c.index)){case"SheetHidden":ue.Hidden=1;break;case"SheetVeryHidden":ue.Hidden=2;break}else q=c.index+c[0].length;break;case"header":b["!margins"]||Jf(b["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(b["!margins"].header=+lr(c[0]).Margin);break;case"footer":b["!margins"]||Jf(b["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(b["!margins"].footer=+lr(c[0]).Margin);break;case"pagemargins":var ct=lr(c[0]);b["!margins"]||Jf(b["!margins"]={},"xlml"),isNaN(+ct.Top)||(b["!margins"].top=+ct.Top),isNaN(+ct.Left)||(b["!margins"].left=+ct.Left),isNaN(+ct.Right)||(b["!margins"].right=+ct.Right),isNaN(+ct.Bottom)||(b["!margins"].bottom=+ct.Bottom);break;case"displayrighttoleft":ae.Views||(ae.Views=[]),ae.Views[0]||(ae.Views[0]={}),ae.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":b["!outline"]||(b["!outline"]={}),b["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:kt=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:kt=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:kt=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:kt=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:kt=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:kt=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:kt=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:kt=!1}break;case"smarttags":break;default:kt=!1;break}if(kt||c[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?m$(te,Ee,X,n.slice(q,c.index)):(X=c,q=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+d.join("|")}var at={};return!r.bookSheets&&!r.bookProps&&(at.Sheets=m),at.SheetNames=C,at.Workbook=ae,at.SSF=es(br),at.Props=re,at.Custprops=te,at}function Ow(t,e){switch(Uy(e=e||{}),e.type||"base64"){case"base64":return F2(Ea(t),e);case"binary":case"buffer":case"file":return F2(t,e);case"array":return F2(Lc(t),e)}}function C$(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Mz(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=Oz(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var E$=[60,1084,2066,2165,2175];function b$(t,e,r,n,i){var s=n,o=[],c=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}o.push(c),r.l+=s;for(var d=pl(r,r.l),h=Lw[d],m=0;h!=null&&E$.indexOf(d)>-1;)s=pl(r,r.l+2),m=r.l+4,d==2066?m+=4:(d==2165||d==2175)&&(m+=12),c=r.slice(m,r.l+4+s),o.push(c),r.l+=4+s,h=Lw[d=pl(r,r.l)];var C=gA(o);Yi(C,0);var b=0;C.lens=[];for(var S=0;S<o.length;++S)C.lens.push(b),b+=o[S].length;if(C.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+C.length+" < "+n;return e.f(C,C.length,i)}function Bo(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=br[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Hc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=fd(t.v):t.w=Ic(t.v):t.w=za(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&p0(br[n]||String(n))){var i=hc(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Rg(t,e,r){return{v:t,ixfe:e,t:r}}function _$(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},o={},c=null,d=[],h="",m={},C,b="",S,R,k,U,V={},G=[],Q,J,Z=[],K=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},O=function(Bt){return Bt<8?vc[Bt]:Bt<64&&K[Bt-8]||vc[Bt]},re=function(Bt,Yt,Br){var Gt=Yt.XF.data;if(!(!Gt||!Gt.patternType||!Br||!Br.cellStyles)){Yt.s={},Yt.s.patternType=Gt.patternType;var Be;(Be=pd(O(Gt.icvFore)))&&(Yt.s.fgColor={rgb:Be}),(Be=pd(O(Gt.icvBack)))&&(Yt.s.bgColor={rgb:Be})}},te=function(Bt,Yt,Br){if(!(ie>1)&&!(Br.sheetRows&&Bt.r>=Br.sheetRows)){if(Br.cellStyles&&Yt.XF&&Yt.XF.data&&re(Bt,Yt,Br),delete Yt.ixfe,delete Yt.XF,C=Bt,b=vr(Bt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Bt.r<o.s.r&&(o.s.r=Bt.r),Bt.c<o.s.c&&(o.s.c=Bt.c),Bt.r+1>o.e.r&&(o.e.r=Bt.r+1),Bt.c+1>o.e.c&&(o.e.c=Bt.c+1),Br.cellFormula&&Yt.f){for(var Gt=0;Gt<G.length;++Gt)if(!(G[Gt][0].s.c>Bt.c||G[Gt][0].s.r>Bt.r)&&!(G[Gt][0].e.c<Bt.c||G[Gt][0].e.r<Bt.r)){Yt.F=zr(G[Gt][0]),(G[Gt][0].s.c!=Bt.c||G[Gt][0].s.r!=Bt.r)&&delete Yt.f,Yt.f&&(Yt.f=""+fs(G[Gt][1],o,Bt,be,q));break}}Br.dense?(i[Bt.r]||(i[Bt.r]=[]),i[Bt.r][Bt.c]=Yt):i[b]=Yt}},q={enc:!1,sbcch:0,snames:[],sharedf:V,arrayf:G,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(q.password=e.password);var X,Re=[],xe=[],me=[],Ce=[],We=!1,be=[];be.SheetNames=q.snames,be.sharedf=q.sharedf,be.arrayf=q.arrayf,be.names=[],be.XTI=[];var Ye=0,ie=0,W=0,oe=[],ae=[],ue;q.codepage=1200,ao(1200);for(var Ee=!1;t.l<t.length-1;){var qe=t.l,Ne=t.read_shift(2);if(Ne===0&&Ye===10)break;var Me=t.l===t.length?0:t.read_shift(2),Ze=Lw[Ne];if(Ze&&Ze.f){if(e.bookSheets&&Ye===133&&Ne!==133)break;if(Ye=Ne,Ze.r===2||Ze.r==12){var Tt=t.read_shift(2);if(Me-=2,!q.enc&&Tt!==Ne&&((Tt&255)<<8|Tt>>8)!==Ne)throw new Error("rt mismatch: "+Tt+"!="+Ne);Ze.r==12&&(t.l+=10,Me-=10)}var le={};if(Ne===10?le=Ze.f(t,Me,q):le=b$(Ne,Ze,t,Me,q),ie==0&&[9,521,1033,2057].indexOf(Ye)===-1)continue;switch(Ne){case 34:r.opts.Date1904=M.WBProps.date1904=le;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(q.enc||(t.l=0),q.enc=le,!e.password)throw new Error("File is password-protected");if(le.valid==null)throw new Error("Encryption scheme unsupported");if(!le.valid)throw new Error("Password is incorrect");break;case 92:q.lastuser=le;break;case 66:var tt=Number(le);switch(tt){case 21010:tt=1200;break;case 32768:tt=1e4;break;case 32769:tt=1252;break}ao(q.codepage=tt),Ee=!0;break;case 317:q.rrtabid=le;break;case 25:q.winlocked=le;break;case 439:r.opts.RefreshAll=le;break;case 12:r.opts.CalcCount=le;break;case 16:r.opts.CalcDelta=le;break;case 17:r.opts.CalcIter=le;break;case 13:r.opts.CalcMode=le;break;case 14:r.opts.CalcPrecision=le;break;case 95:r.opts.CalcSaveRecalc=le;break;case 15:q.CalcRefMode=le;break;case 2211:r.opts.FullCalc=le;break;case 129:le.fDialog&&(i["!type"]="dialog"),le.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),le.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:Z.push(le);break;case 430:be.push([le]),be[be.length-1].XTI=[];break;case 35:case 547:be[be.length-1].push(le);break;case 24:case 536:ue={Name:le.Name,Ref:fs(le.rgce,o,null,be,q)},le.itab>0&&(ue.Sheet=le.itab-1),be.names.push(ue),be[0]||(be[0]=[],be[0].XTI=[]),be[be.length-1].push(le),le.Name=="_xlnm._FilterDatabase"&&le.itab>0&&le.rgce&&le.rgce[0]&&le.rgce[0][0]&&le.rgce[0][0][0]=="PtgArea3d"&&(ae[le.itab-1]={ref:zr(le.rgce[0][0][1][2])});break;case 22:q.ExternCount=le;break;case 23:be.length==0&&(be[0]=[],be[0].XTI=[]),be[be.length-1].XTI=be[be.length-1].XTI.concat(le),be.XTI=be.XTI.concat(le);break;case 2196:if(q.biff<8)break;ue!=null&&(ue.Comment=le[1]);break;case 18:i["!protect"]=le;break;case 19:le!==0&&q.WTF&&console.error("Password verifier: "+le);break;case 133:s[le.pos]=le,q.snames.push(le.name);break;case 10:{if(--ie)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=zr(o),e.sheetRows&&e.sheetRows<=o.e.r){var yt=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=zr(o),o.e.r=yt}o.e.r++,o.e.c++}Re.length>0&&(i["!merges"]=Re),xe.length>0&&(i["!objects"]=xe),me.length>0&&(i["!cols"]=me),Ce.length>0&&(i["!rows"]=Ce),M.Sheets.push(P)}h===""?m=i:n[h]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(q.biff===8&&(q.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[le.BIFFVer]||8),q.biffguess=le.BIFFVer==0,le.BIFFVer==0&&le.dt==4096&&(q.biff=5,Ee=!0,ao(q.codepage=28591)),q.biff==8&&le.BIFFVer==0&&le.dt==16&&(q.biff=2),ie++)break;if(i=e.dense?[]:{},q.biff<8&&!Ee&&(Ee=!0,ao(q.codepage=e.codepage||1252)),q.biff<5||le.BIFFVer==0&&le.dt==4096){h===""&&(h="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var kt={pos:t.l-Me,name:h};s[kt.pos]=kt,q.snames.push(h)}else h=(s[qe]||{name:""}).name;le.dt==32&&(i["!type"]="chart"),le.dt==64&&(i["!type"]="macro"),Re=[],xe=[],q.arrayf=G=[],me=[],Ce=[],We=!1,P={Hidden:(s[qe]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[le.r]||[])[le.c]:i[vr({c:le.c,r:le.r})])&&++le.c,Q={ixfe:le.ixfe,XF:Z[le.ixfe]||{},v:le.val,t:"n"},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e);break;case 5:case 517:Q={ixfe:le.ixfe,XF:Z[le.ixfe],v:le.val,t:le.t},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e);break;case 638:Q={ixfe:le.ixfe,XF:Z[le.ixfe],v:le.rknum,t:"n"},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e);break;case 189:for(var ct=le.c;ct<=le.C;++ct){var at=le.rkrec[ct-le.c][0];Q={ixfe:at,XF:Z[at],v:le.rkrec[ct-le.c][1],t:"n"},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:ct,r:le.r},Q,e)}break;case 6:case 518:case 1030:{if(le.val=="String"){c=le;break}if(Q=Rg(le.val,le.cell.ixfe,le.tt),Q.XF=Z[Q.ixfe],e.cellFormula){var Nt=le.formula;if(Nt&&Nt[0]&&Nt[0][0]&&Nt[0][0][0]=="PtgExp"){var Rt=Nt[0][0][1][0],fr=Nt[0][0][1][1],bt=vr({r:Rt,c:fr});V[bt]?Q.f=""+fs(le.formula,o,le.cell,be,q):Q.F=((e.dense?(i[Rt]||[])[fr]:i[bt])||{}).F}else Q.f=""+fs(le.formula,o,le.cell,be,q)}W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te(le.cell,Q,e),c=le}break;case 7:case 519:if(c)c.val=le,Q=Rg(le,c.cell.ixfe,"s"),Q.XF=Z[Q.ixfe],e.cellFormula&&(Q.f=""+fs(c.formula,o,c.cell,be,q)),W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te(c.cell,Q,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{G.push(le);var nn=vr(le[0].s);if(S=e.dense?(i[le[0].s.r]||[])[le[0].s.c]:i[nn],e.cellFormula&&S){if(!c||!nn||!S)break;S.f=""+fs(le[1],o,le[0],be,q),S.F=zr(le[0])}}break;case 1212:{if(!e.cellFormula)break;if(b){if(!c)break;V[vr(c.cell)]=le[0],S=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[vr(c.cell)],(S||{}).f=""+fs(le[0],o,C,be,q)}}break;case 253:Q=Rg(d[le.isst].t,le.ixfe,"s"),d[le.isst].h&&(Q.h=d[le.isst].h),Q.XF=Z[Q.ixfe],W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e);break;case 513:e.sheetStubs&&(Q={ixfe:le.ixfe,XF:Z[le.ixfe],t:"z"},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e));break;case 190:if(e.sheetStubs)for(var Yr=le.c;Yr<=le.C;++Yr){var Qe=le.ixfe[Yr-le.c];Q={ixfe:Qe,XF:Z[Qe],t:"z"},W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:Yr,r:le.r},Q,e)}break;case 214:case 516:case 4:Q=Rg(le.val,le.ixfe,"s"),Q.XF=Z[Q.ixfe],W>0&&(Q.z=oe[Q.ixfe>>8&63]),Bo(Q,e,r.opts.Date1904),te({c:le.c,r:le.r},Q,e);break;case 0:case 512:ie===1&&(o=le);break;case 252:d=le;break;case 1054:if(q.biff==4){oe[W++]=le[1];for(var Ue=0;Ue<W+163&&br[Ue]!=le[1];++Ue);Ue>=163&&wc(le[1],W+163)}else wc(le[1],le[0]);break;case 30:{oe[W++]=le;for(var ot=0;ot<W+163&&br[ot]!=le;++ot);ot>=163&&wc(le,W+163)}break;case 229:Re=Re.concat(le);break;case 93:xe[le.cmo[0]]=q.lastobj=le;break;case 438:q.lastobj.TxO=le;break;case 127:q.lastobj.ImData=le;break;case 440:for(U=le[0].s.r;U<=le[0].e.r;++U)for(k=le[0].s.c;k<=le[0].e.c;++k)S=e.dense?(i[U]||[])[k]:i[vr({c:k,r:U})],S&&(S.l=le[1]);break;case 2048:for(U=le[0].s.r;U<=le[0].e.r;++U)for(k=le[0].s.c;k<=le[0].e.c;++k)S=e.dense?(i[U]||[])[k]:i[vr({c:k,r:U})],S&&S.l&&(S.l.Tooltip=le[1]);break;case 28:{if(q.biff<=5&&q.biff>=2)break;S=e.dense?(i[le[0].r]||[])[le[0].c]:i[vr(le[0])];var Dt=xe[le[2]];S||(e.dense?(i[le[0].r]||(i[le[0].r]=[]),S=i[le[0].r][le[0].c]={t:"z"}):S=i[vr(le[0])]={t:"z"},o.e.r=Math.max(o.e.r,le[0].r),o.s.r=Math.min(o.s.r,le[0].r),o.e.c=Math.max(o.e.c,le[0].c),o.s.c=Math.min(o.s.c,le[0].c)),S.c||(S.c=[]),R={a:le[1],t:Dt.TxO.t},S.c.push(R)}break;case 2173:WX(Z[le.ixfe],le.ext);break;case 125:{if(!q.cellStyles)break;for(;le.e>=le.s;)me[le.e--]={width:le.w/256,level:le.level||0,hidden:!!(le.flags&1)},We||(We=!0,Ny(le.w/256)),A0(me[le.e+1])}break;case 520:{var Zt={};le.level!=null&&(Ce[le.r]=Zt,Zt.level=le.level),le.hidden&&(Ce[le.r]=Zt,Zt.hidden=!0),le.hpt&&(Ce[le.r]=Zt,Zt.hpt=le.hpt,Zt.hpx=md(le.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Jf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=le;break;case 161:i["!margins"]||Jf(i["!margins"]={}),i["!margins"].header=le.header,i["!margins"].footer=le.footer;break;case 574:le.RTL&&(M.Views[0].RTL=!0);break;case 146:K=le;break;case 2198:X=le;break;case 140:J=le;break;case 442:h?P.CodeName=le||P.name:M.WBProps.CodeName=le||"ThisWorkbook";break}}else Ze||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),t.l+=Me}return r.SheetNames=Mo(s).sort(function(ut,Bt){return Number(ut)-Number(Bt)}).map(function(ut){return s[ut].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&ae.forEach(function(ut,Bt){r.Sheets[r.SheetNames[Bt]]["!autofilter"]=ut}),r.Strings=d,r.SSF=es(br),q.enc&&(r.Encryption=q.enc),X&&(r.Themes=X),r.Metadata={},J!==void 0&&(r.Metadata.Country=J),be.names.length>0&&(M.Names=be.names),r.Workbook=M,r}var I4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function T$(t,e,r){var n=Kr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=u4(n,jz,I4.DSI);for(var s in i)e[s]=i[s]}catch(h){if(r.WTF)throw h}var o=Kr.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=u4(o,Gz,I4.SI);for(var d in c)e[d]==null&&(e[d]=c[d])}catch(h){if(r.WTF)throw h}e.HeadingPairs&&e.TitlesOfParts&&(o8(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function G8(t,e){e||(e={}),Uy(e),wR(),e.codepage&&dy(e.codepage);var r,n;if(t.FullPaths){if(Kr.find(t,"/encryption"))throw new Error("File is password-protected");r=Kr.find(t,"!CompObj"),n=Kr.find(t,"/Workbook")||Kr.find(t,"/Book")}else{switch(e.type){case"base64":t=so(Ea(t));break;case"binary":t=so(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Yi(t,0),n={content:t}}var i,s;if(r&&C$(r),e.bookProps&&!e.bookSheets)i={};else{var o=Hr?"buffer":"array";if(n&&n.content)i=_$(n.content,e);else if((s=Kr.find(t,"PerfectOffice_MAIN"))&&s.content)i=Xf.to_workbook(s.content,(e.type=o,e));else if((s=Kr.find(t,"NativeContent_MAIN"))&&s.content)i=Xf.to_workbook(s.content,(e.type=o,e));else throw(s=Kr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Kr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=uY(t))}var c={};return t.FullPaths&&T$(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var K1={0:{f:oZ},1:{f:uZ},2:{f:vZ},3:{f:gZ},4:{f:dZ},5:{f:wZ},6:{f:EZ},7:{f:mZ},8:{f:IZ},9:{f:BZ},10:{f:_Z},11:{f:TZ},12:{f:fZ},13:{f:yZ},14:{f:pZ},15:{f:hZ},16:{f:P8},17:{f:bZ},18:{f:xZ},19:{f:by},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:t$},40:{},42:{},43:{f:_X},44:{f:bX},45:{f:TX},46:{f:IX},47:{f:BX},48:{},49:{f:Sz},50:{},51:{f:XX},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:w8},62:{f:CZ},63:{f:eY},64:{f:OZ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ys,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:MZ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cZ},148:{f:lZ,p:16},151:{f:FZ},152:{},153:{f:$Z},154:{},155:{},156:{f:ZZ},157:{},158:{},159:{T:1,f:Gq},160:{T:-1},161:{T:1,f:Qc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qX},336:{T:-1},337:{f:YX,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:x8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:RZ},427:{f:kZ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:UZ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:AZ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:NZ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lY},633:{T:1},634:{T:-1},635:{T:1,f:oY},636:{T:-1},637:{f:Fz},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jZ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:LZ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Lw={6:{f:S2},10:{f:oA},12:{f:vi},13:{f:vi},14:{f:ci},15:{f:ci},16:{f:hs},17:{f:ci},18:{f:ci},19:{f:vi},20:{f:g4},21:{f:g4},23:{f:x8},24:{f:m4},25:{f:ci},26:{},27:{},28:{f:sq},29:{},34:{f:ci},35:{f:p4},38:{f:hs},39:{f:hs},40:{f:hs},41:{f:hs},42:{f:ci},43:{f:ci},47:{f:AX},49:{f:QW},51:{f:vi},60:{},61:{f:OW},64:{f:ci},65:{f:PW},66:{f:vi},77:{},80:{},81:{},82:{},85:{f:vi},89:{},90:{},91:{},92:{f:SW},93:{f:oq},94:{},95:{f:ci},96:{},97:{},99:{f:ci},125:{f:w8},128:{f:YW},129:{f:NW},130:{f:vi},131:{f:ci},132:{f:ci},133:{f:FW},134:{},140:{f:dq},141:{f:vi},144:{},146:{f:gq},151:{},152:{},153:{},154:{},155:{},156:{f:vi},157:{},158:{},160:{f:vq},161:{f:mq},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:zW},190:{f:WW},193:{f:oA},197:{},198:{},199:{},200:{},201:{},202:{f:ci},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:vi},220:{},221:{f:ci},222:{},224:{f:XW},225:{f:IW},226:{f:oA},227:{},229:{f:aq},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:RW},253:{f:HW},255:{f:kW},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:f8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ci},353:{f:oA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:ZW},431:{f:ci},432:{},433:{},434:{},437:{},438:{f:cq},439:{f:ci},440:{f:uq},441:{},442:{f:Qd},443:{},444:{f:vi},445:{},446:{},448:{f:oA},449:{f:MW,r:2},450:{f:oA},512:{f:d4},513:{f:wq},515:{f:JW},516:{f:VW},517:{f:h4},519:{f:yq},520:{f:DW},523:{},545:{f:x4},549:{f:f4},566:{},574:{f:LW},638:{f:KW},659:{},1048:{},1054:{f:jW},1084:{},1212:{f:rq},2048:{f:fq},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Sg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:oA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:pq,r:12},2173:{f:zX,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ci,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:tq,r:12},2197:{},2198:{f:QX,r:12},2199:{},2200:{},2201:{},2202:{f:nq,r:12},2203:{f:oA},2204:{},2205:{},2206:{},2207:{},2211:{f:UW},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:vi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:xq},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:hq},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:d4},1:{},2:{f:_q},3:{f:bq},4:{f:Eq},5:{f:h4},7:{f:Tq},8:{},9:{f:Sg},11:{},22:{f:vi},30:{f:GW},31:{},32:{},33:{f:x4},36:{},37:{f:f4},50:{f:Bq},62:{},52:{},67:{},68:{f:vi},69:{},86:{},126:{},127:{f:Cq},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Iq},223:{},234:{},354:{},421:{},518:{f:S2},521:{f:Sg},536:{f:m4},547:{f:p4},561:{},579:{},1030:{f:S2},1033:{f:Sg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function no(t,e,r,n){var i=e;if(!isNaN(i)){var s=(r||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&$R(r)&&t.push(r)}}function S4(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,c=s&&s.index||t.length,d=JK(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,m=0,C=0,b=0,S={s:{r:1e7,c:1e7},e:{r:0,c:0}},R=[];for(o=0;o<d.length;++o){var k=d[o].trim(),U=k.slice(0,3).toLowerCase();if(U=="<tr"){if(++h,r.sheetRows&&r.sheetRows<=h){--h;break}m=0;continue}if(!(U!="<td"&&U!="<th")){var V=k.split(/<\/t[dh]>/i);for(c=0;c<V.length;++c){var G=V[c].trim();if(G.match(/<t[dh]/i)){for(var Q=G,J=0;Q.charAt(0)=="<"&&(J=Q.indexOf(">"))>-1;)Q=Q.slice(J+1);for(var Z=0;Z<R.length;++Z){var K=R[Z];K.s.c==m&&K.s.r<h&&h<=K.e.r&&(m=K.e.c+1,Z=-1)}var M=lr(G.slice(0,G.indexOf(">")));b=M.colspan?+M.colspan:1,((C=+M.rowspan)>1||b>1)&&R.push({s:{r:h,c:m},e:{r:h+(C||1)-1,c:m+b-1}});var P=M.t||M["data-t"]||"";if(!Q.length){m+=b;continue}if(Q=QR(Q),S.s.r>h&&(S.s.r=h),S.e.r<h&&(S.e.r=h),S.s.c>m&&(S.s.c=m),S.e.c<m&&(S.e.c=m),!Q.length){m+=b;continue}var O={t:"s",v:Q};r.raw||!Q.trim().length||P=="s"||(Q==="TRUE"?O={t:"b",v:!0}:Q==="FALSE"?O={t:"b",v:!1}:isNaN(lo(Q))?isNaN(l0(Q).getDate())||(O={t:"d",v:Oi(Q)},r.cellDates||(O={t:"n",v:Ds(O.v)}),O.z=r.dateNF||br[14]):O={t:"n",v:lo(Q)}),r.dense?(n[h]||(n[h]=[]),n[h][m]=O):n[vr({r:h,c:m})]=O,m+=b}}}}return n["!ref"]=zr(S),R.length&&(n["!merges"]=R),n}function B$(t,e,r,n){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,d=0,h=0;h<i.length;++h)if(!(i[h].s.r>r||i[h].s.c>o)&&!(i[h].e.r<r||i[h].e.c<o)){if(i[h].s.r<r||i[h].s.c<o){c=-1;break}c=i[h].e.r-i[h].s.r+1,d=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var m=vr({r,c:o}),C=n.dense?(t[r]||[])[o]:t[m],b=C&&C.v!=null&&(C.h||wy(C.w||(Il(C),C.w)||""))||"",S={};c>1&&(S.rowspan=c),d>1&&(S.colspan=d),n.editable?b='<span contenteditable="true">'+b+"</span>":C&&(S["data-t"]=C&&C.t||"z",C.v!=null&&(S["data-v"]=C.v),C.z!=null&&(S["data-z"]=C.z),C.l&&(C.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+C.l.Target+'">'+b+"</a>")),S.id=(n.id||"sjs")+"-"+m,s.push(dz("td",b,S))}}var R="<tr>";return R+s.join("")+"</tr>"}var I$='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',S$="</body></html>";function N$(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return OA(S4(r[0],e),e);var n=Oy();return r.forEach(function(i,s){Ly(n,S4(i,e),"Sheet"+(s+1))}),n}function F$(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function R$(t,e){var r=e||{},n=r.header!=null?r.header:I$,i=r.footer!=null?r.footer:S$,s=[n],o=m0(t["!ref"]);r.dense=Array.isArray(t),s.push(F$(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)s.push(B$(t,o,c,r));return s.push("</table>"+i),s.join("")}function K8(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Rs(n.origin):n.origin;i=o.r,s=o.c}var c=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var m=m0(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),i==-1&&(h.e.r=i=m.e.r+1)}var C=[],b=0,S=t["!rows"]||(t["!rows"]=[]),R=0,k=0,U=0,V=0,G=0,Q=0;for(t["!cols"]||(t["!cols"]=[]);R<c.length&&k<d;++R){var J=c[R];if(N4(J)){if(n.display)continue;S[k]={hidden:!0}}var Z=J.children;for(U=V=0;U<Z.length;++U){var K=Z[U];if(!(n.display&&N4(K))){var M=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):QR(K.innerHTML),P=K.getAttribute("data-z")||K.getAttribute("z");for(b=0;b<C.length;++b){var O=C[b];O.s.c==V+s&&O.s.r<k+i&&k+i<=O.e.r&&(V=O.e.c+1-s,b=-1)}Q=+K.getAttribute("colspan")||1,((G=+K.getAttribute("rowspan")||1)>1||Q>1)&&C.push({s:{r:k+i,c:V+s},e:{r:k+i+(G||1)-1,c:V+s+(Q||1)-1}});var re={t:"s",v:M},te=K.getAttribute("data-t")||K.getAttribute("t")||"";M!=null&&(M.length==0?re.t=te||"z":n.raw||M.trim().length==0||te=="s"||(M==="TRUE"?re={t:"b",v:!0}:M==="FALSE"?re={t:"b",v:!1}:isNaN(lo(M))?isNaN(l0(M).getDate())||(re={t:"d",v:Oi(M)},n.cellDates||(re={t:"n",v:Ds(re.v)}),re.z=n.dateNF||br[14]):re={t:"n",v:lo(M)})),re.z===void 0&&P!=null&&(re.z=P);var q="",X=K.getElementsByTagName("A");if(X&&X.length)for(var Re=0;Re<X.length&&!(X[Re].hasAttribute("href")&&(q=X[Re].getAttribute("href"),q.charAt(0)!="#"));++Re);q&&q.charAt(0)!="#"&&(re.l={Target:q}),n.dense?(t[k+i]||(t[k+i]=[]),t[k+i][V+s]=re):t[vr({c:V+s,r:k+i})]=re,h.e.c<V+s&&(h.e.c=V+s),V+=Q}}++k}return C.length&&(t["!merges"]=(t["!merges"]||[]).concat(C)),h.e.r=Math.max(h.e.r,k-1+i),t["!ref"]=zr(h),k>=d&&(t["!fullref"]=zr((h.e.r=c.length-R+k-1+i,h))),t}function z8(t,e){var r=e||{},n=r.dense?[]:{};return K8(n,t,e)}function k$(t,e){return OA(z8(t,e),e)}function N4(t){var e="",r=D$(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function D$(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function U$(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Xr(e.replace(/<[^>]*>/g,""));return[r]}var F4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function W8(t,e){var r=e||{},n=vy(t),i=[],s,o,c={name:""},d="",h=0,m,C,b={},S=[],R=r.dense?[]:{},k,U,V={value:""},G="",Q=0,J=[],Z=-1,K=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,O={},re=[],te={},q=0,X=0,Re=[],xe=1,me=1,Ce=[],We={Names:[]},be={},Ye=["",""],ie=[],W={},oe="",ae=0,ue=!1,Ee=!1,qe=0;for(hd.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");k=hd.exec(n);)switch(k[3]=k[3].replace(/_.*$/,"")){case"table":case"":k[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?R["!ref"]=zr(M):R["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=M.e.r&&(R["!fullref"]=R["!ref"],M.e.r=r.sheetRows-1,R["!ref"]=zr(M)),re.length&&(R["!merges"]=re),Re.length&&(R["!rows"]=Re),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),S.push(m.name),b[m.name]=R,Ee=!1):k[0].charAt(k[0].length-2)!=="/"&&(m=lr(k[0],!1),Z=K=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,R=r.dense?[]:{},re=[],Re=[],Ee=!0);break;case"table-row-group":k[1]==="/"?--P:++P;break;case"table-row":case"":if(k[1]==="/"){Z+=xe,xe=1;break}if(C=lr(k[0],!1),C.?Z=C.-1:Z==-1&&(Z=0),xe=+C["number-rows-repeated"]||1,xe<10)for(qe=0;qe<xe;++qe)P>0&&(Re[Z+qe]={level:P});K=-1;break;case"covered-table-cell":k[1]!=="/"&&++K,r.sheetStubs&&(r.dense?(R[Z]||(R[Z]=[]),R[Z][K]={t:"z"}):R[vr({r:Z,c:K})]={t:"z"}),G="",J=[];break;case"table-cell":case"":if(k[0].charAt(k[0].length-2)==="/")++K,V=lr(k[0],!1),me=parseInt(V["number-columns-repeated"]||"1",10),U={t:"z",v:null},V.formula&&r.cellFormula!=!1&&(U.f=_4(Xr(V.formula))),(V.||V["value-type"])=="string"&&(U.t="s",U.v=Xr(V["string-value"]||""),r.dense?(R[Z]||(R[Z]=[]),R[Z][K]=U):R[vr({r:Z,c:K})]=U),K+=me-1;else if(k[1]!=="/"){++K,G="",Q=0,J=[],me=1;var Ne=xe?Z+xe-1:Z;if(K>M.e.c&&(M.e.c=K),K<M.s.c&&(M.s.c=K),Z<M.s.r&&(M.s.r=Z),Ne>M.e.r&&(M.e.r=Ne),V=lr(k[0],!1),ie=[],W={},U={t:V.||V["value-type"],v:null},r.cellFormula)if(V.formula&&(V.formula=Xr(V.formula)),V["number-matrix-columns-spanned"]&&V["number-matrix-rows-spanned"]&&(q=parseInt(V["number-matrix-rows-spanned"],10)||0,X=parseInt(V["number-matrix-columns-spanned"],10)||0,te={s:{r:Z,c:K},e:{r:Z+q-1,c:K+X-1}},U.F=zr(te),Ce.push([te,U.F])),V.formula)U.f=_4(V.formula);else for(qe=0;qe<Ce.length;++qe)Z>=Ce[qe][0].s.r&&Z<=Ce[qe][0].e.r&&K>=Ce[qe][0].s.c&&K<=Ce[qe][0].e.c&&(U.F=Ce[qe][1]);switch((V["number-columns-spanned"]||V["number-rows-spanned"])&&(q=parseInt(V["number-rows-spanned"],10)||0,X=parseInt(V["number-columns-spanned"],10)||0,te={s:{r:Z,c:K},e:{r:Z+q-1,c:K+X-1}},re.push(te)),V["number-columns-repeated"]&&(me=parseInt(V["number-columns-repeated"],10)),U.t){case"boolean":U.t="b",U.v=Pn(V["boolean-value"]);break;case"float":U.t="n",U.v=parseFloat(V.value);break;case"percentage":U.t="n",U.v=parseFloat(V.value);break;case"currency":U.t="n",U.v=parseFloat(V.value);break;case"date":U.t="d",U.v=Oi(V["date-value"]),r.cellDates||(U.t="n",U.v=Ds(U.v)),U.z="m/d/yy";break;case"time":U.t="n",U.v=qK(V["time-value"])/86400,r.cellDates&&(U.t="d",U.v=Up(U.v)),U.z="HH:MM:SS";break;case"number":U.t="n",U.v=parseFloat(V.);break;default:if(U.t==="string"||U.t==="text"||!U.t)U.t="s",V["string-value"]!=null&&(G=Xr(V["string-value"]),J=[]);else throw new Error("Unsupported value type "+U.t)}}else{if(ue=!1,U.t==="s"&&(U.v=G||"",J.length&&(U.R=J),ue=Q==0),be.Target&&(U.l=be),ie.length>0&&(U.c=ie,ie=[]),G&&r.cellText!==!1&&(U.w=G),ue&&(U.t="z",delete U.v),(!ue||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=Z))for(var Me=0;Me<xe;++Me){if(me=parseInt(V["number-columns-repeated"]||"1",10),r.dense)for(R[Z+Me]||(R[Z+Me]=[]),R[Z+Me][K]=Me==0?U:es(U);--me>0;)R[Z+Me][K+me]=es(U);else for(R[vr({r:Z+Me,c:K})]=U;--me>0;)R[vr({r:Z+Me,c:K+me})]=es(U);M.e.c<=K&&(M.e.c=K)}me=parseInt(V["number-columns-repeated"]||"1",10),K+=me-1,me=0,U={},G="",J=[]}be={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!0]);break;case"annotation":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s;W.t=G,J.length&&(W.R=J),W.a=oe,ie.push(W)}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!1]);oe="",ae=0,G="",Q=0,J=[];break;case"creator":k[1]==="/"?oe=n.slice(ae,k.index):ae=k.index+k[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(k[1]==="/"){if((s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&i.push([k[3],!1]);G="",Q=0,J=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(k[1]==="/"){if(O[c.name]=d,(s=i.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&(d="",c=lr(k[0],!1),i.push([k[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),d+=F4[k[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),d+=F4[k[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(k[0].slice(-2)==="/>")break;if(k[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":d+=n.slice(h,k.index);break}else h=k.index+k[0].length;break;case"named-range":o=lr(k[0],!1),Ye=N2(o["cell-range-address"]);var Ze={Name:o.name,Ref:Ye[0]+"!"+Ye[1]};Ee&&(Ze.Sheet=S.length),We.Names.push(Ze);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(k[1]==="/"&&(!V||!V["string-value"])){var Tt=U$(n.slice(Q,k.index));G=(G.length>0?G+`
`:"")+Tt[0]}else lr(k[0],!1),Q=k.index+k[0].length;break;case"s":break;case"database-range":if(k[1]==="/")break;try{Ye=N2(lr(k[0])["target-range-address"]),b[Ye[0]]["!autofilter"]={ref:Ye[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(k[1]!=="/"){if(be=lr(k[0],!1),!be.href)break;be.Target=Xr(be.href),delete be.href,be.Target.charAt(0)=="#"&&be.Target.indexOf(".")>-1?(Ye=N2(be.Target.slice(1)),be.Target="#"+Ye[0]+"!"+Ye[1]):be.Target.match(/^\.\.[\\\/]/)&&(be.Target=be.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(k[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(k)}}var le={Sheets:b,SheetNames:S,Workbook:We};return r.bookSheets&&delete le.Sheets,le}function R4(t,e){e=e||{},Qa(t,"META-INF/manifest.xml")&&Jz(wi(t,"META-INF/manifest.xml"),e);var r=va(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=W8(Sn(r),e);return Qa(t,"meta.xml")&&(n.Props=a8(wi(t,"meta.xml"))),n}function k4(t,e){return W8(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ky(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Sn(Lc(t))}function Qw(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function D4(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function M$(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function xd(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ni(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ps(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=xd(t,r),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var d=r[0];t[r[0]++]>=128;);c=t.slice(d,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=xd(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var h={data:c,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function Dy(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function O$(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=xd(t,n),s=ps(t.slice(n[0],n[0]+i));n[0]+=i;var o={id:Ni(s[1][0].data),messages:[]};s[2].forEach(function(c){var d=ps(c.data),h=Ni(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(o.merge=Ni(s[3][0].data)>>>0>0),r.push(o)}return r}function L$(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=xd(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}i.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,h=0;if(s==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,s==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Qw(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(i.push(i[0].slice(-d)),h-=d;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-d,-d+h))}}var m=Qw(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function P$(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(L$(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Qw(e)}function Q$(t,e,r,n){var i=ky(t),s=i.getUint32(4,!0),o=(n>1?12:8)+D4(s&(n>1?3470:398))*4,c=-1,d=-1,h=NaN,m=new Date(2001,0,1);s&512&&(c=i.getUint32(o,!0),o+=4),o+=D4(s&(n>1?12288:4096))*4,s&16&&(d=i.getUint32(o,!0),o+=4),s&32&&(h=i.getFloat64(o,!0),o+=8),s&64&&(m.setTime(m.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var C;switch(t[2]){case 0:break;case 2:C={t:"n",v:h};break;case 3:C={t:"s",v:e[d]};break;case 5:C={t:"d",v:m};break;case 6:C={t:"b",v:h>0};break;case 7:C={t:"n",v:h/86400};break;case 8:C={t:"e",v:0};break;case 9:if(c>-1)C={t:"s",v:r[c]};else if(d>-1)C={t:"s",v:e[d]};else if(!isNaN(h))C={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return C}function H$(t,e,r){var n=ky(t),i=n.getUint32(8,!0),s=12,o=-1,c=-1,d=NaN,h=NaN,m=new Date(2001,0,1);i&1&&(d=M$(t,s),s+=16),i&2&&(h=n.getFloat64(s,!0),s+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=n.getUint32(s,!0),s+=4),i&16&&(o=n.getUint32(s,!0),s+=4);var C;switch(t[1]){case 0:break;case 2:C={t:"n",v:d};break;case 3:C={t:"s",v:e[c]};break;case 5:C={t:"d",v:m};break;case 6:C={t:"b",v:h>0};break;case 7:C={t:"n",v:h/86400};break;case 8:C={t:"e",v:0};break;case 9:if(o>-1)C={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:C={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return C}function V$(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Q$(t,e,r,t[0]);case 5:return H$(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function BA(t){var e=ps(t);return xd(e[1][0].data)}function U4(t,e){var r=ps(e.data),n=Ni(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(o){var c=ps(o.data),d=Ni(c[1][0].data)>>>0;switch(n){case 1:s[d]=Pw(c[3][0].data);break;case 8:{var h=t[BA(c[9][0].data)][0],m=ps(h.data),C=t[BA(m[1][0].data)][0],b=Ni(C.meta[1][0].data);if(b!=2001)throw new Error("2000 unexpected reference to ".concat(b));var S=ps(C.data);s[d]=S[3].map(function(R){return Pw(R.data)}).join("")}break}}),s}function j$(t,e){var r,n,i,s,o,c,d,h,m,C,b,S,R,k,U=ps(t),V=Ni(U[1][0].data)>>>0,G=Ni(U[2][0].data)>>>0,Q=((n=(r=U[8])==null?void 0:r[0])==null?void 0:n.data)&&Ni(U[8][0].data)>0||!1,J,Z;if((s=(i=U[7])==null?void 0:i[0])!=null&&s.data&&e!=0)J=(c=(o=U[7])==null?void 0:o[0])==null?void 0:c.data,Z=(h=(d=U[6])==null?void 0:d[0])==null?void 0:h.data;else if((C=(m=U[4])==null?void 0:m[0])!=null&&C.data&&e!=1)J=(S=(b=U[4])==null?void 0:b[0])==null?void 0:S.data,Z=(k=(R=U[3])==null?void 0:R[0])==null?void 0:k.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var K=Q?4:1,M=ky(J),P=[],O=0;O<J.length/2;++O){var re=M.getUint16(O*2,!0);re<65535&&P.push([O,re])}if(P.length!=G)throw"Expected ".concat(G," cells, found ").concat(P.length);var te=[];for(O=0;O<P.length-1;++O)te[P[O][0]]=Z.subarray(P[O][1]*K,P[O+1][1]*K);return P.length>=1&&(te[P[P.length-1][0]]=Z.subarray(P[P.length-1][1]*K)),{R:V,cells:te}}function G$(t,e){var r,n=ps(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Ni(n[7][0].data)>>>0>0?1:0:-1,s=Dy(n[5],function(o){return j$(o,i)});return{nrows:Ni(n[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(d,h){if(o[c.R][h])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(h));o[c.R][h]=d}),o},[])}}function K$(t,e,r){var n,i=ps(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ni(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ni(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=zr(s);var o=ps(i[4][0].data),c=U4(t,t[BA(o[4][0].data)][0]),d=(n=o[17])!=null&&n[0]?U4(t,t[BA(o[17][0].data)][0]):[],h=ps(o[3][0].data),m=0;h[1].forEach(function(C){var b=ps(C.data),S=t[BA(b[2][0].data)][0],R=Ni(S.meta[1][0].data);if(R!=6002)throw new Error("6001 unexpected reference to ".concat(R));var k=G$(t,S);k.data.forEach(function(U,V){U.forEach(function(G,Q){var J=vr({r:m+V,c:Q}),Z=V$(G,c,d);Z&&(r[J]=Z)})}),m+=k.nrows})}function z$(t,e){var r=ps(e.data),n={"!ref":"A1"},i=t[BA(r[2][0].data)],s=Ni(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return K$(t,i[0],n),n}function W$(t,e){var r,n=ps(e.data),i={name:(r=n[1])!=null&&r[0]?Pw(n[1][0].data):"",sheets:[]},s=Dy(n[2],BA);return s.forEach(function(o){t[o].forEach(function(c){var d=Ni(c.meta[1][0].data);d==6e3&&i.sheets.push(z$(t,c))})}),i}function q$(t,e){var r=Oy(),n=ps(e.data),i=Dy(n[1],BA);if(i.forEach(function(s){t[s].forEach(function(o){var c=Ni(o.meta[1][0].data);if(c==2){var d=W$(t,o);d.sheets.forEach(function(h,m){Ly(r,h,m==0?d.name:d.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function R2(t){var e,r,n,i,s={},o=[];if(t.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var h;try{h=P$(d.content)}catch(C){return console.log("?? "+d.content.length+" "+(C.message||C))}var m;try{m=O$(h)}catch(C){return console.log("## "+(C.message||C))}m.forEach(function(C){s[C.id]=C.messages,o.push(C.id)})}}),!o.length)throw new Error("File has no messages");var c=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ni(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(d){s[d].forEach(function(h){var m=Ni(h.meta[1][0].data)>>>0;if(m==1)if(!c)c=h;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return q$(s,c)}function X$(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Uy(t){X$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Y$(t){return Pu.WS.indexOf(t)>-1?"sheet":t==Pu.CS?"chart":t==Pu.DS?"dialog":t==Pu.MS?"macro":t&&t.length?t:"sheet"}function J$(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Y$(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Z$(t,e,r,n,i,s,o,c,d,h,m,C){try{s[n]=Wf(va(t,r,!0),e);var b=wi(t,e),S;switch(c){case"sheet":S=i$(b,e,i,d,s[n],h,m,C);break;case"chart":if(S=s$(b,e,i,d,s[n],h,m,C),!S||!S["!drawel"])break;var R=Sf(S["!drawel"].Target,e),k=Dw(R),U=nY(va(t,R,!0),Wf(va(t,k,!0),R)),V=Sf(U,R),G=Dw(V);S=HZ(va(t,V,!0),V,d,Wf(va(t,G,!0),V),h,S);break;case"macro":S=a$(b,e,i,d,s[n],h,m,C);break;case"dialog":S=o$(b,e,i,d,s[n],h,m,C);break;default:throw new Error("Unrecognized sheet type "+c)}o[n]=S;var Q=[];s&&s[n]&&Mo(s[n]).forEach(function(J){var Z="";if(s[n][J].Type==Pu.CMNT){Z=Sf(s[n][J].Target,e);var K=u$(wi(t,Z,!0),Z,d);if(!K||!K.length)return;v4(S,K,!1)}s[n][J].Type==Pu.TCMNT&&(Z=Sf(s[n][J].Target,e),Q=Q.concat(sY(wi(t,Z,!0),d)))}),Q&&Q.length&&v4(S,Q,!0,d.people||[])}catch(J){if(d.WTF)throw J}}function Ma(t){return t.charAt(0)=="/"?t.slice(1):t}function $$(t,e){if(FR(),e=e||{},Uy(e),Qa(t,"META-INF/manifest.xml")||Qa(t,"objectdata.xml"))return R4(t,e);if(Qa(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof R2<"u"){if(t.FileIndex)return R2(t);var r=Kr.utils.cfb_new();return WB(t).forEach(function(Re){ez(r,Re,$K(t,Re))}),R2(r)}throw new Error("Unsupported NUMBERS file")}if(!Qa(t,"[Content_Types].xml"))throw Qa(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Qa(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=WB(t),i=Xz(va(t,"[Content_Types].xml")),s=!1,o,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",wi(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!wi(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var d={},h={};if(!e.bookSheets&&!e.bookProps){if(Yf=[],i.sst)try{Yf=c$(wi(t,Ma(i.sst)),i.sst,e)}catch(Re){if(e.WTF)throw Re}e.cellStyles&&i.themes.length&&(d=A$(va(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(h=l$(wi(t,Ma(i.style)),i.style,d,e))}i.links.map(function(Re){try{var xe=Wf(va(t,Dw(Ma(Re))),Re);return d$(wi(t,Ma(Re)),xe,Re,e)}catch{}});var m=n$(wi(t,Ma(i.workbooks[0])),i.workbooks[0],e),C={},b="";i.coreprops.length&&(b=wi(t,Ma(i.coreprops[0]),!0),b&&(C=a8(b)),i.extprops.length!==0&&(b=wi(t,Ma(i.extprops[0]),!0),b&&eW(b,C,e)));var S={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(b=va(t,Ma(i.custprops[0]),!0),b&&(S=rW(b,e)));var R={};if((e.bookSheets||e.bookProps)&&(m.Sheets?o=m.Sheets.map(function(xe){return xe.name}):C.Worksheets&&C.SheetNames.length>0&&(o=C.SheetNames),e.bookProps&&(R.Props=C,R.Custprops=S),e.bookSheets&&typeof o<"u"&&(R.SheetNames=o),e.bookSheets?R.SheetNames:e.bookProps))return R;o={};var k={};e.bookDeps&&i.calcchain&&(k=f$(wi(t,Ma(i.calcchain)),i.calcchain));var U=0,V={},G,Q;{var J=m.Sheets;C.Worksheets=J.length,C.SheetNames=[];for(var Z=0;Z!=J.length;++Z)C.SheetNames[Z]=J[Z].name}var K=s?"bin":"xml",M=i.workbooks[0].lastIndexOf("/"),P=(i.workbooks[0].slice(0,M+1)+"_rels/"+i.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");Qa(t,P)||(P="xl/_rels/workbook."+K+".rels");var O=Wf(va(t,P,!0),P.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=h$(wi(t,Ma(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=aY(wi(t,Ma(i.people[0])),e)),O&&(O=J$(O,m.Sheets));var re=wi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(U=0;U!=C.Worksheets;++U){var te="sheet";if(O&&O[U]?(G="xl/"+O[U][1].replace(/[\/]?xl\//,""),Qa(t,G)||(G=O[U][1]),Qa(t,G)||(G=P.replace(/_rels\/.*$/,"")+O[U][1]),te=O[U][2]):(G="xl/worksheets/sheet"+(U+1-re)+"."+K,G=G.replace(/sheet0\./,"sheet.")),Q=G.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(U!=e.sheets)continue e;break;case"string":if(C.SheetNames[U].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var q=!1,X=0;X!=e.sheets.length;++X)typeof e.sheets[X]=="number"&&e.sheets[X]==U&&(q=1),typeof e.sheets[X]=="string"&&e.sheets[X].toLowerCase()==C.SheetNames[U].toLowerCase()&&(q=1);if(!q)continue e}}Z$(t,G,Q,C.SheetNames[U],U,V,o,te,e,m,d,h)}return R={Directory:i,Workbook:m,Props:C,Custprops:S,Deps:k,Sheets:o,SheetNames:C.SheetNames,Strings:Yf,Styles:h,Themes:d,SSF:es(br)},e&&e.bookFiles&&(t.files?(R.keys=n,R.files=t.files):(R.keys=[],R.files={},t.FullPaths.forEach(function(Re,xe){Re=Re.replace(/^Root Entry[\/]/,""),R.keys.push(Re),R.files[Re]=t.FileIndex[xe]}))),e&&e.bookVBA&&(i.vba.length>0?R.vbaraw=wi(t,Ma(i.vba[0]),!0):i.defaults&&i.defaults.bin===cY&&(R.vbaraw=wi(t,"xl/vbaProject.bin",!0))),R}function eee(t,e){var r=e||{},n="Workbook",i=Kr.find(t,n);try{if(n="/!DataSpaces/Version",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(zq(i.content),n="/!DataSpaces/DataSpaceMap",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=qq(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Xq(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Jq(i.content)}catch{}if(n="/EncryptionInfo",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=Zq(i.content);if(n="/EncryptedPackage",i=Kr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function My(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ea(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function tee(t,e){return Kr.find(t,"EncryptedPackage")?eee(t,e):G8(t,e)}function ree(t,e){var r,n=t,i=e||{};return i.type||(i.type=Hr&&Buffer.isBuffer(t)?"buffer":"base64"),r=OR(n,i),$$(r,i)}function q8(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Ow(t.slice(r),e);default:break e}return gd.to_workbook(t,e)}function nee(t,e){var r="",n=My(t,e);switch(e.type){case"base64":r=Ea(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Sc(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Sn(r)),e.type="binary",q8(r,e)}function iee(t,e){var r=t;return e.type=="base64"&&(r=Ea(r)),r=ud.utils.decode(1200,r.slice(2),"str"),e.type="binary",q8(r,e)}function see(t){return t.match(/[^\x00-\x7F]/)?Nf(t):t}function k2(t,e,r,n){return n?(r.type="string",gd.to_workbook(t,r)):gd.to_workbook(e,r)}function Hw(t,e){wR();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Hw(new Uint8Array(t),(r=es(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Yu={},r.dateNF&&(Yu.dateNF=r.dateNF),r.type||(r.type=Hr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Hr?"buffer":"binary",n=zK(t),typeof Uint8Array<"u"&&!Hr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=see(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return r=es(r),r.type="array",Hw(hy(n),r)}switch((i=My(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return tee(Kr.read(n,r),r);break;case 9:if(i[1]<=8)return G8(n,r);break;case 60:return Ow(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return kq(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Fq.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?ree(n,r):k2(t,n,r,s);case 239:return i[3]===60?Ow(n,r):k2(t,n,r,s);case 255:if(i[1]===254)return iee(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Xf.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Xf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return w4.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return cX.to_workbook(n,r);break;case 10:case 13:case 32:return nee(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Sq.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?w4.to_workbook(n,r):k2(t,n,r,s)}function aee(t,e,r,n,i,s,o,c){var d=ts(r),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),C=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch{b.__rowNum__=r}else b.__rowNum__=r;if(!o||t[r])for(var S=e.s.c;S<=e.e.c;++S){var R=o?t[r][S]:t[n[S]+d];if(R===void 0||R.t===void 0){if(h===void 0)continue;s[S]!=null&&(b[s[S]]=h);continue}var k=R.v;switch(R.t){case"z":if(k==null)break;continue;case"e":k=k==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+R.t)}if(s[S]!=null){if(k==null)if(R.t=="e"&&k===null)b[s[S]]=null;else if(h!==void 0)b[s[S]]=h;else if(m&&k===null)b[s[S]]=null;else continue;else b[s[S]]=m&&(R.t!=="n"||R.t==="n"&&c.rawNumbers!==!1)?k:Il(R,k,c);k!=null&&(C=!1)}}return{row:b,isempty:C}}function Vw(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],o=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof m){case"string":d=ni(m);break;case"number":d=ni(t["!ref"]),d.s.r=m;break;default:d=m}n>0&&(i=0);var C=ts(d.s.r),b=[],S=[],R=0,k=0,U=Array.isArray(t),V=d.s.r,G=0,Q={};U&&!t[V]&&(t[V]=[]);var J=h.skipHidden&&t["!cols"]||[],Z=h.skipHidden&&t["!rows"]||[];for(G=d.s.c;G<=d.e.c;++G)if(!(J[G]||{}).hidden)switch(b[G]=Ii(G),r=U?t[V][G]:t[b[G]+C],n){case 1:s[G]=G-d.s.c;break;case 2:s[G]=b[G];break;case 3:s[G]=h.header[G-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=Il(r,null,h),k=Q[o]||0,!k)Q[o]=1;else{do c=o+"_"+k++;while(Q[c]);Q[o]=k,Q[c]=1}s[G]=c}for(V=d.s.r+i;V<=d.e.r;++V)if(!(Z[V]||{}).hidden){var K=aee(t,d,V,b,n,s,U,h);(K.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(S[R++]=K.row)}return S.length=R,S}var M4=/"/g;function oee(t,e,r,n,i,s,o,c){for(var d=!0,h=[],m="",C=ts(r),b=e.s.c;b<=e.e.c;++b)if(n[b]){var S=c.dense?(t[r]||[])[b]:t[n[b]+C];if(S==null)m="";else if(S.v!=null){d=!1,m=""+(c.rawNumbers&&S.t=="n"?S.v:Il(S,null,c));for(var R=0,k=0;R!==m.length;++R)if((k=m.charCodeAt(R))===i||k===s||k===34||c.forceQuotes){m='"'+m.replace(M4,'""')+'"';break}m=="ID"&&(m='"ID"')}else S.f!=null&&!S.F?(d=!1,m="="+S.f,m.indexOf(",")>=0&&(m='"'+m.replace(M4,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&d?null:h.join(o)}function X8(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ni(t["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),m="",C=[];n.dense=Array.isArray(t);for(var b=n.skipHidden&&t["!cols"]||[],S=n.skipHidden&&t["!rows"]||[],R=i.s.c;R<=i.e.c;++R)(b[R]||{}).hidden||(C[R]=Ii(R));for(var k=0,U=i.s.r;U<=i.e.r;++U)(S[U]||{}).hidden||(m=oee(t,i,U,C,o,d,s,n),m!=null&&(n.strip&&(m=m.replace(h,"")),(m||n.blankrows!==!1)&&r.push((k++?c:"")+m)));return delete n.dense,r.join("")}function lee(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=X8(t,e);return r}function Aee(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ni(t["!ref"]),s="",o=[],c,d=[],h=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)o[c]=Ii(c);for(var m=i.s.r;m<=i.e.r;++m)for(s=ts(m),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+s,r=h?(t[m]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function Y8(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},o=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Rs(n.origin):n.origin;o=d.r,c=d.c}var h,m={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(s["!ref"]){var C=ni(s["!ref"]);m.e.c=Math.max(m.e.c,C.e.c),m.e.r=Math.max(m.e.r,C.e.r),o==-1&&(o=C.e.r+1,m.e.r=o+e.length-1+i)}else o==-1&&(o=0,m.e.r=e.length-1+i);var b=n.header||[],S=0;e.forEach(function(k,U){Mo(k).forEach(function(V){(S=b.indexOf(V))==-1&&(b[S=b.length]=V);var G=k[V],Q="z",J="",Z=vr({c:c+S,r:o+U+i});h=wd(s,Z),G&&typeof G=="object"&&!(G instanceof Date)?s[Z]=G:(typeof G=="number"?Q="n":typeof G=="boolean"?Q="b":typeof G=="string"?Q="s":G instanceof Date?(Q="d",n.cellDates||(Q="n",G=Ds(G)),J=n.dateNF||br[14]):G===null&&n.nullError&&(Q="e",G=0),h?(h.t=Q,h.v=G,delete h.w,delete h.R,J&&(h.z=J)):s[Z]=h={t:Q,v:G},J&&(h.z=J))})}),m.e.c=Math.max(m.e.c,c+b.length-1);var R=ts(o);if(i)for(S=0;S<b.length;++S)s[Ii(S+c)+R]={t:"s",v:b[S]};return s["!ref"]=zr(m),s}function cee(t,e){return Y8(null,t,e)}function wd(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Rs(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?wd(t,vr(e)):wd(t,vr({r:e,c:r||0}))}function uee(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Oy(){return{SheetNames:[],Sheets:{}}}function Ly(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=o+i)!=-1;++i);}if(XZ(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function fee(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=uee(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function dee(t,e){return t.z=e,t}function J8(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function hee(t,e,r){return J8(t,"#"+e,r)}function gee(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function pee(t,e,r,n){for(var i=typeof e!="string"?e:ni(e),s=typeof e=="string"?e:zr(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var d=wd(t,o,c);d.t="n",d.F=s,delete d.v,o==i.s.r&&c==i.s.c&&(d.f=r,n&&(d.D=!0))}return t}var mee={encode_col:Ii,encode_row:ts,encode_cell:vr,encode_range:zr,decode_col:Ey,decode_row:Cy,split_cell:Iz,decode_cell:Rs,decode_range:m0,format_cell:Il,sheet_add_aoa:t8,sheet_add_json:Y8,sheet_add_dom:K8,aoa_to_sheet:x0,json_to_sheet:cee,table_to_sheet:z8,table_to_book:k$,sheet_to_csv:X8,sheet_to_txt:lee,sheet_to_json:Vw,sheet_to_html:R$,sheet_to_formulae:Aee,sheet_to_row_object_array:Vw,sheet_get_cell:wd,book_new:Oy,book_append_sheet:Ly,book_set_sheet_visibility:fee,cell_set_number_format:dee,cell_set_hyperlink:J8,cell_set_internal_link:hee,cell_add_comment:gee,sheet_set_array_formula:pee,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Kt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Kt||(Kt={}));var O4=new Map([[Kt.QR_CODE,"QR_CODE"],[Kt.AZTEC,"AZTEC"],[Kt.CODABAR,"CODABAR"],[Kt.CODE_39,"CODE_39"],[Kt.CODE_93,"CODE_93"],[Kt.CODE_128,"CODE_128"],[Kt.DATA_MATRIX,"DATA_MATRIX"],[Kt.MAXICODE,"MAXICODE"],[Kt.ITF,"ITF"],[Kt.EAN_13,"EAN_13"],[Kt.EAN_8,"EAN_8"],[Kt.PDF_417,"PDF_417"],[Kt.RSS_14,"RSS_14"],[Kt.RSS_EXPANDED,"RSS_EXPANDED"],[Kt.UPC_A,"UPC_A"],[Kt.UPC_E,"UPC_E"],[Kt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),L4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(L4||(L4={}));function xee(t){return Object.values(Kt).includes(t)}var z1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(z1||(z1={}));var wee=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[z1.SCAN_TYPE_CAMERA,z1.SCAN_TYPE_FILE],t})(),Z8=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!O4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,O4.get(e))},t})(),P4=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),jw;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(jw||(jw={}));var vee=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:jw.UNKWOWN_ERROR}},t})(),yee=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function fl(t){return typeof t>"u"||t===null}var Qu=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),$8=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),c=0,d=o;c<d.length;c++){var h=d[c];if(s.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t})(),Ff={exports:{}},Cee=Ff.exports,Q4;function Eee(){return Q4||(Q4=1,(function(t,e){(function(r,n){n(e)})(Cee,(function(r){function n(Y){return Y==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,l){Y.__proto__=l}||function(Y,l){for(var u in l)l.hasOwnProperty(u)&&(Y[u]=l[u])};function s(Y,l){i(Y,l);function u(){this.constructor=Y}Y.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}function o(Y,l){var u=Object.setPrototypeOf;u?u(Y,l):Y.__proto__=l}function c(Y,l){l===void 0&&(l=Y.constructor);var u=Error.captureStackTrace;u&&u(Y,l)}var d=(function(Y){s(l,Y);function l(u){var g=this.constructor,x=Y.call(this,u)||this;return Object.defineProperty(x,"name",{value:g.name,enumerable:!1}),o(x,g.prototype),c(x),x}return l})(Error);class h extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}h.kind="Exception";class m extends h{}m.kind="ArgumentException";class C extends h{}C.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,u){return this.binarizer.getBlackRow(l,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,u,g,x){const w=this.binarizer.getLuminanceSource().crop(l,u,g,x);return new b(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends h{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class R{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(l,u,g,x,w){for(;w--;)g[x++]=l[u++]}static currentTimeMillis(){return Date.now()}}class U extends h{}U.kind="IndexOutOfBoundsException";class V extends U{constructor(l=void 0,u=void 0){super(u),this.index=l,this.message=u}}V.kind="ArrayIndexOutOfBoundsException";class G{static fill(l,u){for(let g=0,x=l.length;g<x;g++)l[g]=u}static fillWithin(l,u,g,x){G.rangeCheck(l.length,u,g);for(let w=u;w<g;w++)l[w]=x}static rangeCheck(l,u,g){if(u>g)throw new C("fromIndex("+u+") > toIndex("+g+")");if(u<0)throw new V(u);if(g>l)throw new V(g)}static asList(...l){return l}static create(l,u,g){return Array.from({length:l}).map(w=>Array.from({length:u}).fill(g))}static createInt32Array(l,u,g){return Array.from({length:l}).map(w=>Int32Array.from({length:u}).fill(g))}static equals(l,u){if(!l||!u||!l.length||!u.length||l.length!==u.length)return!1;for(let g=0,x=l.length;g<x;g++)if(l[g]!==u[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let u=1;for(const g of l)u=31*u+g;return u}static fillUint8Array(l,u){for(let g=0;g!==l.length;g++)l[g]=u}static copyOf(l,u){return l.slice(0,u)}static copyOfUint8Array(l,u){if(l.length<=u){const g=new Uint8Array(u);return g.set(l),g}return l.slice(0,u)}static copyOfRange(l,u,g){const x=g-u,w=new Int32Array(x);return k.arraycopy(l,u,w,0,x),w}static binarySearch(l,u,g){g===void 0&&(g=G.numberComparator);let x=0,w=l.length-1;for(;x<=w;){const y=w+x>>1,_=g(u,l[y]);if(_>0)x=y+1;else if(_<0)w=y-1;else return y}return-x-1}static numberComparator(l,u){return l-u}}class Q{static numberOfTrailingZeros(l){let u;if(l===0)return 32;let g=31;return u=l<<16,u!==0&&(g-=16,l=u),u=l<<8,u!==0&&(g-=8,l=u),u=l<<4,u!==0&&(g-=4,l=u),u=l<<2,u!==0&&(g-=2,l=u),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let u=1;return l>>>16||(u+=16,l<<=16),l>>>24||(u+=8,l<<=8),l>>>28||(u+=4,l<<=4),l>>>30||(u+=2,l<<=2),u-=l>>>31,u}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,u){return Math.trunc(l/u)}static parseInt(l,u=void 0){return parseInt(l,u)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class J{constructor(l,u){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,u==null?this.bits=J.makeArray(l):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const u=J.makeArray(l);k.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const u=this.size;if(l>=u)return u;const g=this.bits;let x=Math.floor(l/32),w=g[x];w&=~((1<<(l&31))-1);const y=g.length;for(;w===0;){if(++x===y)return u;w=g[x]}const _=x*32+Q.numberOfTrailingZeros(w);return _>u?u:_}getNextUnset(l){const u=this.size;if(l>=u)return u;const g=this.bits;let x=Math.floor(l/32),w=~g[x];w&=~((1<<(l&31))-1);const y=g.length;for(;w===0;){if(++x===y)return u;w=~g[x]}const _=x*32+Q.numberOfTrailingZeros(w);return _>u?u:_}setBulk(l,u){this.bits[Math.floor(l/32)]=u}setRange(l,u){if(u<l||l<0||u>this.size)throw new C;if(u===l)return;u--;const g=Math.floor(l/32),x=Math.floor(u/32),w=this.bits;for(let y=g;y<=x;y++){const _=y>g?0:l&31,D=(2<<(y<x?31:u&31))-(1<<_);w[y]|=D}}clear(){const l=this.bits.length,u=this.bits;for(let g=0;g<l;g++)u[g]=0}isRange(l,u,g){if(u<l||l<0||u>this.size)throw new C;if(u===l)return!0;u--;const x=Math.floor(l/32),w=Math.floor(u/32),y=this.bits;for(let _=x;_<=w;_++){const N=_>x?0:l&31,H=(2<<(_<w?31:u&31))-(1<<N)&4294967295;if((y[_]&H)!==(g?H:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,u){if(u<0||u>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let g=u;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const u=l.size;this.ensureCapacity(this.size+u);for(let g=0;g<u;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new C("Sizes don't match");const u=this.bits;for(let g=0,x=u.length;g<x;g++)u[g]^=l.bits[g]}toBytes(l,u,g,x){for(let w=0;w<x;w++){let y=0;for(let _=0;_<8;_++)this.get(l)&&(y|=1<<7-_),l++;u[g+w]=y}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),g=u+1,x=this.bits;for(let w=0;w<g;w++){let y=x[w];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,l[u-w]=y}if(this.size!==g*32){const w=g*32-this.size;let y=l[0]>>>w;for(let _=1;_<g;_++){const N=l[_];y|=N<<32-w,l[_-1]=y,y=N>>>w}l[g-1]=y}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof J))return!1;const u=l;return this.size===u.size&&G.equals(this.bits,u.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let l="";for(let u=0,g=this.size;u<g;u++)(u&7)===0&&(l+=" "),l+=this.get(u)?"X":".";return l}clone(){return new J(this.size,this.bits.slice())}}var Z;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var K=Z;class M extends h{static getFormatInstance(){return new M}}M.kind="FormatException";var P;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})(P||(P={}));class O{constructor(l,u,g,...x){this.valueIdentifier=l,this.name=g,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=x,O.VALUE_IDENTIFIER_TO_ECI.set(l,this),O.NAME_TO_ECI.set(g,this);const w=this.values;for(let y=0,_=w.length;y!==_;y++){const N=w[y];O.VALUES_TO_ECI.set(N,this)}for(const y of x)O.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new M("incorect value");const u=O.VALUES_TO_ECI.get(l);if(u===void 0)throw new M("incorect value");return u}static getCharacterSetECIByName(l){const u=O.NAME_TO_ECI.get(l);if(u===void 0)throw new M("incorect value");return u}equals(l){if(!(l instanceof O))return!1;const u=l;return this.getName()===u.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(P.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(P.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(P.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(P.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(P.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(P.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(P.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(P.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(P.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(P.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(P.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(P.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(P.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(P.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(P.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(P.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(P.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(P.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(P.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(P.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(P.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(P.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(P.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(P.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(P.Big5,28,"Big5"),O.GB18030=new O(P.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(P.EUC_KR,30,"EUC_KR","EUC-KR");class re extends h{}re.kind="UnsupportedOperationException";class te{static decode(l,u){const g=this.encodingName(u);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!te.isBrowser()&&l==="ISO-8859-1"}static encode(l,u){const g=this.encodingName(u);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof O?l:O.getCharacterSetECIByName(l)}static decodeFallback(l,u){const g=this.encodingCharacterSet(u);if(te.isDecodeFallbackSupported(g)){let x="";for(let w=0,y=l.length;w<y;w++){let _=l[w].toString(16);_.length<2&&(_="0"+_),x+="%"+_}return decodeURIComponent(x)}if(g.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new re(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(O.UTF8)||l.equals(O.ISO8859_1)||l.equals(O.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),x=[];for(let w=0;w<g.length;w++)x.push(g[w].charCodeAt(0));return new Uint8Array(x)}}class q{static castAsNonUtf8Char(l,u=null){const g=u?u.getName():this.ISO88591;return te.decode(new Uint8Array([l]),g)}static guessEncoding(l,u){if(u!=null&&u.get(K.CHARACTER_SET)!==void 0)return u.get(K.CHARACTER_SET).toString();const g=l.length;let x=!0,w=!0,y=!0,_=0,N=0,D=0,H=0,ee=0,se=0,we=0,Te=0,Se=0,Oe=0,$e=0;const _t=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Et=0;Et<g&&(x||w||y);Et++){const pt=l[Et]&255;y&&(_>0?(pt&128)===0?y=!1:_--:(pt&128)!==0&&((pt&64)===0?y=!1:(_++,(pt&32)===0?N++:(_++,(pt&16)===0?D++:(_++,(pt&8)===0?H++:y=!1))))),x&&(pt>127&&pt<160?x=!1:pt>159&&(pt<192||pt===215||pt===247)&&$e++),w&&(ee>0?pt<64||pt===127||pt>252?w=!1:ee--:pt===128||pt===160||pt>239?w=!1:pt>160&&pt<224?(se++,Te=0,we++,we>Se&&(Se=we)):pt>127?(ee++,we=0,Te++,Te>Oe&&(Oe=Te)):(we=0,Te=0))}return y&&_>0&&(y=!1),w&&ee>0&&(w=!1),y&&(_t||N+D+H>0)?q.UTF8:w&&(q.ASSUME_SHIFT_JIS||Se>=3||Oe>=3)?q.SHIFT_JIS:x&&w?Se===2&&se===2||$e*10>=g?q.SHIFT_JIS:q.ISO88591:x?q.ISO88591:w?q.SHIFT_JIS:y?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(l,...u){let g=-1;function x(y,_,N,D,H,ee){if(y==="%%")return"%";if(u[++g]===void 0)return;y=D?parseInt(D.substr(1)):void 0;let se=H?parseInt(H.substr(1)):void 0,we;switch(ee){case"s":we=u[g];break;case"c":we=u[g][0];break;case"f":we=parseFloat(u[g]).toFixed(y);break;case"p":we=parseFloat(u[g]).toPrecision(y);break;case"e":we=parseFloat(u[g]).toExponential(y);break;case"x":we=parseInt(u[g]).toString(se||16);break;case"d":we=parseFloat(parseInt(u[g],se||10).toPrecision(y)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(se);let Te=parseInt(N),Se=N&&N[0]+""=="0"?"0":" ";for(;we.length<Te;)we=_!==void 0?we+Se:Se+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,x)}static getBytes(l,u){return te.encode(l,u)}static getCharCode(l,u=0){return l.charCodeAt(u)}static getCharAt(l){return String.fromCharCode(l)}}q.SHIFT_JIS=O.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=O.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=O.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class X{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=q.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,u,g){for(let x=u;u<u+g;x++)this.append(l[x]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,u){this.value=this.value.substr(0,l)+u+this.value.substr(l+1)}substring(l,u){return this.value.substring(l,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,u){this.value=this.value.substr(0,l)+u+this.value.substr(l+u.length)}}class Re{constructor(l,u,g,x){if(this.width=l,this.height=u,this.rowSize=g,this.bits=x,u==null&&(u=l),this.height=u,l<1||u<1)throw new C("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const u=l.length,g=l[0].length,x=new Re(g,u);for(let w=0;w<u;w++){const y=l[w];for(let _=0;_<g;_++)y[_]&&x.set(_,w)}return x}static parseFromString(l,u,g){if(l===null)throw new C("stringRepresentation cannot be null");const x=new Array(l.length);let w=0,y=0,_=-1,N=0,D=0;for(;D<l.length;)if(l.charAt(D)===`
`||l.charAt(D)==="\r"){if(w>y){if(_===-1)_=w-y;else if(w-y!==_)throw new C("row lengths do not match");y=w,N++}D++}else if(l.substring(D,D+u.length)===u)D+=u.length,x[w]=!0,w++;else if(l.substring(D,D+g.length)===g)D+=g.length,x[w]=!1,w++;else throw new C("illegal character encountered: "+l.substring(D));if(w>y){if(_===-1)_=w-y;else if(w-y!==_)throw new C("row lengths do not match");N++}const H=new Re(_,N);for(let ee=0;ee<w;ee++)x[ee]&&H.set(Math.floor(ee%_),Math.floor(ee/_));return H}get(l,u){const g=u*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,u){const g=u*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,u){const g=u*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,u){const g=u*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new C("input matrix dimensions do not match");const u=new J(Math.floor(this.width/32)+1),g=this.rowSize,x=this.bits;for(let w=0,y=this.height;w<y;w++){const _=w*g,N=l.getRow(w,u).getBitArray();for(let D=0;D<g;D++)x[_+D]^=N[D]}}clear(){const l=this.bits,u=l.length;for(let g=0;g<u;g++)l[g]=0}setRegion(l,u,g,x){if(u<0||l<0)throw new C("Left and top must be nonnegative");if(x<1||g<1)throw new C("Height and width must be at least 1");const w=l+g,y=u+x;if(y>this.height||w>this.width)throw new C("The region must fit inside the matrix");const _=this.rowSize,N=this.bits;for(let D=u;D<y;D++){const H=D*_;for(let ee=l;ee<w;ee++)N[H+Math.floor(ee/32)]|=1<<(ee&31)&4294967295}}getRow(l,u){u==null||u.getSize()<this.width?u=new J(this.width):u.clear();const g=this.rowSize,x=this.bits,w=l*g;for(let y=0;y<g;y++)u.setBulk(y*32,x[w+y]);return u}setRow(l,u){k.arraycopy(u.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),u=this.getHeight();let g=new J(l),x=new J(l);for(let w=0,y=Math.floor((u+1)/2);w<y;w++)g=this.getRow(w,g),x=this.getRow(u-1-w,x),g.reverse(),x.reverse(),this.setRow(w,x),this.setRow(u-1-w,g)}getEnclosingRectangle(){const l=this.width,u=this.height,g=this.rowSize,x=this.bits;let w=l,y=u,_=-1,N=-1;for(let D=0;D<u;D++)for(let H=0;H<g;H++){const ee=x[D*g+H];if(ee!==0){if(D<y&&(y=D),D>N&&(N=D),H*32<w){let se=0;for(;(ee<<31-se&4294967295)===0;)se++;H*32+se<w&&(w=H*32+se)}if(H*32+31>_){let se=31;for(;!(ee>>>se);)se--;H*32+se>_&&(_=H*32+se)}}}return _<w||N<y?null:Int32Array.from([w,y,_-w+1,N-y+1])}getTopLeftOnBit(){const l=this.rowSize,u=this.bits;let g=0;for(;g<u.length&&u[g]===0;)g++;if(g===u.length)return null;const x=g/l;let w=g%l*32;const y=u[g];let _=0;for(;(y<<31-_&4294967295)===0;)_++;return w+=_,Int32Array.from([w,x])}getBottomRightOnBit(){const l=this.rowSize,u=this.bits;let g=u.length-1;for(;g>=0&&u[g]===0;)g--;if(g<0)return null;const x=Math.floor(g/l);let w=Math.floor(g%l)*32;const y=u[g];let _=31;for(;!(y>>>_);)_--;return w+=_,Int32Array.from([w,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof Re))return!1;const u=l;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&G.equals(this.bits,u.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+G.hashCode(this.bits),l}toString(l="X ",u="  ",g=`
`){return this.buildToString(l,u,g)}buildToString(l,u,g){let x=new X;for(let w=0,y=this.height;w<y;w++){for(let _=0,N=this.width;_<N;_++)x.append(this.get(_,w)?l:u);x.append(g)}return x.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class xe extends h{static getNotFoundInstance(){return new xe}}xe.kind="NotFoundException";class me extends R{constructor(l){super(l),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(l,u){const g=this.getLuminanceSource(),x=g.getWidth();u==null||u.getSize()<x?u=new J(x):u.clear(),this.initArrays(x);const w=g.getRow(l,this.luminances),y=this.buckets;for(let N=0;N<x;N++)y[(w[N]&255)>>me.LUMINANCE_SHIFT]++;const _=me.estimateBlackPoint(y);if(x<3)for(let N=0;N<x;N++)(w[N]&255)<_&&u.set(N);else{let N=w[0]&255,D=w[1]&255;for(let H=1;H<x-1;H++){const ee=w[H+1]&255;(D*4-N-ee)/2<_&&u.set(H),N=D,D=ee}}return u}getBlackMatrix(){const l=this.getLuminanceSource(),u=l.getWidth(),g=l.getHeight(),x=new Re(u,g);this.initArrays(u);const w=this.buckets;for(let N=1;N<5;N++){const D=Math.floor(g*N/5),H=l.getRow(D,this.luminances),ee=Math.floor(u*4/5);for(let se=Math.floor(u/5);se<ee;se++){const we=H[se]&255;w[we>>me.LUMINANCE_SHIFT]++}}const y=me.estimateBlackPoint(w),_=l.getMatrix();for(let N=0;N<g;N++){const D=N*u;for(let H=0;H<u;H++)(_[D+H]&255)<y&&x.set(H,N)}return x}createBinarizer(l){return new me(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const u=this.buckets;for(let g=0;g<me.LUMINANCE_BUCKETS;g++)u[g]=0}static estimateBlackPoint(l){const u=l.length;let g=0,x=0,w=0;for(let H=0;H<u;H++)l[H]>w&&(x=H,w=l[H]),l[H]>g&&(g=l[H]);let y=0,_=0;for(let H=0;H<u;H++){const ee=H-x,se=l[H]*ee*ee;se>_&&(y=H,_=se)}if(x>y){const H=x;x=y,y=H}if(y-x<=u/16)throw new xe;let N=y-1,D=-1;for(let H=y-1;H>x;H--){const ee=H-x,se=ee*ee*(y-H)*(g-l[H]);se>D&&(N=H,D=se)}return N<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class Ce extends me{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),u=l.getWidth(),g=l.getHeight();if(u>=Ce.MINIMUM_DIMENSION&&g>=Ce.MINIMUM_DIMENSION){const x=l.getMatrix();let w=u>>Ce.BLOCK_SIZE_POWER;(u&Ce.BLOCK_SIZE_MASK)!==0&&w++;let y=g>>Ce.BLOCK_SIZE_POWER;(g&Ce.BLOCK_SIZE_MASK)!==0&&y++;const _=Ce.calculateBlackPoints(x,w,y,u,g),N=new Re(u,g);Ce.calculateThresholdForBlock(x,w,y,u,g,_,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new Ce(l)}static calculateThresholdForBlock(l,u,g,x,w,y,_){const N=w-Ce.BLOCK_SIZE,D=x-Ce.BLOCK_SIZE;for(let H=0;H<g;H++){let ee=H<<Ce.BLOCK_SIZE_POWER;ee>N&&(ee=N);const se=Ce.cap(H,2,g-3);for(let we=0;we<u;we++){let Te=we<<Ce.BLOCK_SIZE_POWER;Te>D&&(Te=D);const Se=Ce.cap(we,2,u-3);let Oe=0;for(let _t=-2;_t<=2;_t++){const Et=y[se+_t];Oe+=Et[Se-2]+Et[Se-1]+Et[Se]+Et[Se+1]+Et[Se+2]}const $e=Oe/25;Ce.thresholdBlock(l,Te,ee,$e,x,_)}}}static cap(l,u,g){return l<u?u:l>g?g:l}static thresholdBlock(l,u,g,x,w,y){for(let _=0,N=g*w+u;_<Ce.BLOCK_SIZE;_++,N+=w)for(let D=0;D<Ce.BLOCK_SIZE;D++)(l[N+D]&255)<=x&&y.set(u+D,g+_)}static calculateBlackPoints(l,u,g,x,w){const y=w-Ce.BLOCK_SIZE,_=x-Ce.BLOCK_SIZE,N=new Array(g);for(let D=0;D<g;D++){N[D]=new Int32Array(u);let H=D<<Ce.BLOCK_SIZE_POWER;H>y&&(H=y);for(let ee=0;ee<u;ee++){let se=ee<<Ce.BLOCK_SIZE_POWER;se>_&&(se=_);let we=0,Te=255,Se=0;for(let $e=0,_t=H*x+se;$e<Ce.BLOCK_SIZE;$e++,_t+=x){for(let Et=0;Et<Ce.BLOCK_SIZE;Et++){const pt=l[_t+Et]&255;we+=pt,pt<Te&&(Te=pt),pt>Se&&(Se=pt)}if(Se-Te>Ce.MIN_DYNAMIC_RANGE)for($e++,_t+=x;$e<Ce.BLOCK_SIZE;$e++,_t+=x)for(let Et=0;Et<Ce.BLOCK_SIZE;Et++)we+=l[_t+Et]&255}let Oe=we>>Ce.BLOCK_SIZE_POWER*2;if(Se-Te<=Ce.MIN_DYNAMIC_RANGE&&(Oe=Te/2,D>0&&ee>0)){const $e=(N[D-1][ee]+2*N[D][ee-1]+N[D-1][ee-1])/4;Te<$e&&(Oe=$e)}N[D][ee]=Oe}}return N}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class We{constructor(l,u){this.width=l,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,u,g,x){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let u=new X;for(let g=0;g<this.height;g++){const x=this.getRow(g,l);for(let w=0;w<this.width;w++){const y=x[w]&255;let _;y<64?_="#":y<128?_="+":y<192?_=".":_=" ",u.append(_)}u.append(`
`)}return u.toString()}}class be extends We{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,u){const g=this.delegate.getRow(l,u),x=this.getWidth();for(let w=0;w<x;w++)g[w]=255-(g[w]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(u);for(let x=0;x<u;x++)g[x]=255-(l[x]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,u,g,x){return new be(this.delegate.crop(l,u,g,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new be(this.delegate.rotateCounterClockwise45())}}class Ye extends We{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=Ye.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const u=l.getContext("2d").getImageData(0,0,l.width,l.height);return Ye.toGrayscaleBuffer(u.data,l.width,l.height)}static toGrayscaleBuffer(l,u,g){const x=new Uint8ClampedArray(u*g);for(let w=0,y=0,_=l.length;w<_;w+=4,y++){let N;if(l[w+3]===0)N=255;else{const H=l[w],ee=l[w+1],se=l[w+2];N=306*H+601*ee+117*se+512>>10}x[y]=N}return x}getRow(l,u){if(l<0||l>=this.getHeight())throw new C("Requested row is outside the image: "+l);const g=this.getWidth(),x=l*g;return u===null?u=this.buffer.slice(x,x+g):(u.length<g&&(u=new Uint8ClampedArray(g)),u.set(this.buffer.slice(x,x+g))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,u,g,x){return super.crop(l,u,g,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const u=this.getTempCanvasElement(),g=u.getContext("2d"),x=l*Ye.DEGREE_TO_RADIANS,w=this.canvas.width,y=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(x))*w+Math.abs(Math.sin(x))*y),N=Math.ceil(Math.abs(Math.sin(x))*w+Math.abs(Math.cos(x))*y);return u.width=_,u.height=N,g.translate(_/2,N/2),g.rotate(x),g.drawImage(this.canvas,w/-2,y/-2),this.buffer=Ye.makeBufferFromCanvasImageData(u),this}invert(){return new be(this)}}Ye.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(l,u,g){this.deviceId=l,this.label=u,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var W=(globalThis||qh||self||window||void 0)&&(globalThis||qh||self||window||void 0).__awaiter||function(Y,l,u,g){function x(w){return w instanceof u?w:new u(function(y){y(w)})}return new(u||(u=Promise))(function(w,y){function _(H){try{D(g.next(H))}catch(ee){y(ee)}}function N(H){try{D(g.throw(H))}catch(ee){y(ee)}}function D(H){H.done?w(H.value):x(H.value).then(_,N)}D((g=g.apply(Y,l||[])).next())})};class oe{constructor(l,u=500,g){this.reader=l,this.timeBetweenScansMillis=u,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return W(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const g of l){const x=g.kind==="video"?"videoinput":g.kind;if(x!=="videoinput")continue;const w=g.deviceId||g.id,y=g.label||`Video device ${u.length+1}`,_=g.groupId,N={deviceId:w,label:y,kind:x,groupId:_};u.push(N)}return u})}getVideoInputDevices(){return W(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ie(u.deviceId,u.label))})}findDeviceById(l){return W(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,u){return W(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,u)})}decodeOnceFromVideoDevice(l,u){return W(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeOnceFromConstraints(x,u)})}decodeOnceFromConstraints(l,u){return W(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,u)})}decodeOnceFromStream(l,u){return W(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,u);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,u,g){return W(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,u,g)})}decodeFromVideoDevice(l,u,g){return W(this,void 0,void 0,function*(){let x;l?x={deviceId:{exact:l}}:x={facingMode:"environment"};const w={video:x};return yield this.decodeFromConstraints(w,u,g)})}decodeFromConstraints(l,u,g){return W(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(x,u,g)})}decodeFromStream(l,u,g){return W(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(l,u);return yield this.decodeContinuously(x,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,u){return W(this,void 0,void 0,function*(){const g=this.prepareVideoElement(u);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((u,g)=>this.playVideoOnLoad(l,()=>u()))}playVideoOnLoad(l,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",u),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return W(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,u){const g=document.getElementById(l);if(!g)throw new m(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==u.toLowerCase())throw new m(`element with id '${l}' must be an ${u} element`);return g}decodeFromImage(l,u){if(!l&&!u)throw new m("either imageElement with a src set or an url must be provided");return u&&!l?this.decodeFromImageUrl(u):this.decodeFromImageElement(l)}decodeFromVideo(l,u){if(!l&&!u)throw new m("Either an element with a src set or an URL must be provided");return u&&!l?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,u,g){if(l===void 0&&u===void 0)throw new m("Either an element with a src set or an URL must be provided");return u&&!l?this.decodeFromVideoUrlContinuously(u,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const u=this.prepareImageElement(l);this.imageElement=u;let g;return this.isImageLoaded(u)?g=this.decodeOnce(u,!1,!0):g=this._decodeOnLoadImage(u),g}decodeFromVideoElement(l){const u=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(l,u){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,u)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const u=this.prepareVideoElement(l);return this.videoElement=u,u}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const g=this._decodeOnLoadImage(u);return u.src=l,g}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),g=this.decodeFromVideoElement(u);return u.src=l,g}decodeFromVideoUrlContinuously(l,u){if(!l)throw new m("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(g,u);return g.src=l,x}_decodeOnLoadImage(l){return new Promise((u,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(u,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return W(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,u){return W(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,u)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let u;return typeof l>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof l=="string"&&(u=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(u=l),u}prepareVideoElement(l){let u;return!l&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof l=="string"&&(u=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(u=l),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(l,u=!0,g=!0){this._stopAsyncDecode=!1;const x=(w,y)=>{if(this._stopAsyncDecode){y(new xe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(l);w(_)}catch(_){const N=u&&_ instanceof xe,H=(_ instanceof S||_ instanceof M)&&g;if(N||H)return setTimeout(x,this._timeBetweenDecodingAttempts,w,y);y(_)}};return new Promise((w,y)=>x(w,y))}decodeContinuously(l,u){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(l);u(x,null),setTimeout(g,this.timeBetweenScansMillis)}catch(x){u(null,x);const w=x instanceof S||x instanceof M,y=x instanceof xe;(w||y)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const u=this.createBinaryBitmap(l);return this.decodeBitmap(u)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,u,g){u||(u={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(l,u,g=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const u=this.getCaptureCanvas(l),g=new Ye(u),x=new Ce(g);return new b(x)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const u=this.createCaptureCanvas(l);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let g,x;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,x=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,x=l.naturalHeight||l.height)),u.style.width=g+"px",u.style.height=x+"px",u.width=g,u.height=x,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,u){try{l.srcObject=u}catch{l.src=URL.createObjectURL(u)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(l,u,g=u==null?0:8*u.length,x,w,y=k.currentTimeMillis()){this.text=l,this.rawBytes=u,this.numBits=g,this.resultPoints=x,this.format=w,this.timestamp=y,this.text=l,this.rawBytes=u,g==null?this.numBits=u==null?0:8*u.length:this.numBits=g,this.resultPoints=x,this.format=w,this.resultMetadata=null,y==null?this.timestamp=k.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,u)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const u=this.resultPoints;if(u===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(u.length+l.length);k.arraycopy(u,0,g,0,u.length),k.arraycopy(l,0,g,u.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ue;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var Ee=ue,qe;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qe||(qe={}));var Ne=qe;class Me{constructor(l,u,g,x,w=-1,y=-1){this.rawBytes=l,this.text=u,this.byteSegments=g,this.ecLevel=x,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=y,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ze{exp(l){return this.expTable[l]}log(l){if(l===0)throw new C;return this.logTable[l]}static addOrSubtract(l,u){return l^u}}class Tt{constructor(l,u){if(u.length===0)throw new C;this.field=l;const g=u.length;if(g>1&&u[0]===0){let x=1;for(;x<g&&u[x]===0;)x++;x===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-x),k.arraycopy(u,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const u=this.coefficients;let g;if(l===1){g=0;for(let y=0,_=u.length;y!==_;y++){const N=u[y];g=Ze.addOrSubtract(g,N)}return g}g=u[0];const x=u.length,w=this.field;for(let y=1;y<x;y++)g=Ze.addOrSubtract(w.multiply(l,g),u[y]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let u=this.coefficients,g=l.coefficients;if(u.length>g.length){const y=u;u=g,g=y}let x=new Int32Array(g.length);const w=g.length-u.length;k.arraycopy(g,0,x,0,w);for(let y=w;y<g.length;y++)x[y]=Ze.addOrSubtract(u[y-w],g[y]);return new Tt(this.field,x)}multiply(l){if(!this.field.equals(l.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const u=this.coefficients,g=u.length,x=l.coefficients,w=x.length,y=new Int32Array(g+w-1),_=this.field;for(let N=0;N<g;N++){const D=u[N];for(let H=0;H<w;H++)y[N+H]=Ze.addOrSubtract(y[N+H],_.multiply(D,x[H]))}return new Tt(_,y)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const u=this.coefficients.length,g=this.field,x=new Int32Array(u),w=this.coefficients;for(let y=0;y<u;y++)x[y]=g.multiply(w[y],l);return new Tt(g,x)}multiplyByMonomial(l,u){if(l<0)throw new C;if(u===0)return this.field.getZero();const g=this.coefficients,x=g.length,w=new Int32Array(x+l),y=this.field;for(let _=0;_<x;_++)w[_]=y.multiply(g[_],u);return new Tt(y,w)}divide(l){if(!this.field.equals(l.field))throw new C("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new C("Divide by 0");const u=this.field;let g=u.getZero(),x=this;const w=l.getCoefficient(l.getDegree()),y=u.inverse(w);for(;x.getDegree()>=l.getDegree()&&!x.isZero();){const _=x.getDegree()-l.getDegree(),N=u.multiply(x.getCoefficient(x.getDegree()),y),D=l.multiplyByMonomial(_,N),H=u.buildMonomial(_,N);g=g.addOrSubtract(H),x=x.addOrSubtract(D)}return[g,x]}toString(){let l="";for(let u=this.getDegree();u>=0;u--){let g=this.getCoefficient(u);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),u===0||g!==1){const x=this.field.log(g);x===0?l+="1":x===1?l+="a":(l+="a^",l+=x)}u!==0&&(u===1?l+="x":(l+="x^",l+=u))}}return l}}class le extends h{}le.kind="ArithmeticException";class tt extends Ze{constructor(l,u,g){super(),this.primitive=l,this.size=u,this.generatorBase=g;const x=new Int32Array(u);let w=1;for(let _=0;_<u;_++)x[_]=w,w*=2,w>=u&&(w^=l,w&=u-1);this.expTable=x;const y=new Int32Array(u);for(let _=0;_<u-1;_++)y[x[_]]=_;this.logTable=y,this.zero=new Tt(this,Int32Array.from([0])),this.one=new Tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,u){if(l<0)throw new C;if(u===0)return this.zero;const g=new Int32Array(l+1);return g[0]=u,new Tt(this,g)}inverse(l){if(l===0)throw new le;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,u){return l===0||u===0?0:this.expTable[(this.logTable[l]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class yt extends h{}yt.kind="ReedSolomonException";class kt extends h{}kt.kind="IllegalStateException";class ct{constructor(l){this.field=l}decode(l,u){const g=this.field,x=new Tt(g,l),w=new Int32Array(u);let y=!0;for(let we=0;we<u;we++){const Te=x.evaluateAt(g.exp(we+g.getGeneratorBase()));w[w.length-1-we]=Te,Te!==0&&(y=!1)}if(y)return;const _=new Tt(g,w),N=this.runEuclideanAlgorithm(g.buildMonomial(u,1),_,u),D=N[0],H=N[1],ee=this.findErrorLocations(D),se=this.findErrorMagnitudes(H,ee);for(let we=0;we<ee.length;we++){const Te=l.length-1-g.log(ee[we]);if(Te<0)throw new yt("Bad error location");l[Te]=tt.addOrSubtract(l[Te],se[we])}}runEuclideanAlgorithm(l,u,g){if(l.getDegree()<u.getDegree()){const we=l;l=u,u=we}const x=this.field;let w=l,y=u,_=x.getZero(),N=x.getOne();for(;y.getDegree()>=(g/2|0);){let we=w,Te=_;if(w=y,_=N,w.isZero())throw new yt("r_{i-1} was zero");y=we;let Se=x.getZero();const Oe=w.getCoefficient(w.getDegree()),$e=x.inverse(Oe);for(;y.getDegree()>=w.getDegree()&&!y.isZero();){const _t=y.getDegree()-w.getDegree(),Et=x.multiply(y.getCoefficient(y.getDegree()),$e);Se=Se.addOrSubtract(x.buildMonomial(_t,Et)),y=y.addOrSubtract(w.multiplyByMonomial(_t,Et))}if(N=Se.multiply(_).addOrSubtract(Te),y.getDegree()>=w.getDegree())throw new kt("Division algorithm failed to reduce polynomial?")}const D=N.getCoefficient(0);if(D===0)throw new yt("sigmaTilde(0) was zero");const H=x.inverse(D),ee=N.multiplyScalar(H),se=y.multiplyScalar(H);return[ee,se]}findErrorLocations(l){const u=l.getDegree();if(u===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(u);let x=0;const w=this.field;for(let y=1;y<w.getSize()&&x<u;y++)l.evaluateAt(y)===0&&(g[x]=w.inverse(y),x++);if(x!==u)throw new yt("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,u){const g=u.length,x=new Int32Array(g),w=this.field;for(let y=0;y<g;y++){const _=w.inverse(u[y]);let N=1;for(let D=0;D<g;D++)if(y!==D){const H=w.multiply(u[D],_),ee=(H&1)===0?H|1:H&-2;N=w.multiply(N,ee)}x[y]=w.multiply(l.evaluateAt(_),w.inverse(N)),w.getGeneratorBase()!==0&&(x[y]=w.multiply(x[y],_))}return x}}var at;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(at||(at={}));class Nt{decode(l){this.ddata=l;let u=l.getBits(),g=this.extractBits(u),x=this.correctBits(g),w=Nt.convertBoolArrayToByteArray(x),y=Nt.getEncodedData(x),_=new Me(w,y,null,null);return _.setNumBits(x.length),_}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let u=l.length,g=at.UPPER,x=at.UPPER,w="",y=0;for(;y<u;)if(x===at.BINARY){if(u-y<5)break;let _=Nt.readCode(l,y,5);if(y+=5,_===0){if(u-y<11)break;_=Nt.readCode(l,y,11)+31,y+=11}for(let N=0;N<_;N++){if(u-y<8){y=u;break}const D=Nt.readCode(l,y,8);w+=q.castAsNonUtf8Char(D),y+=8}x=g}else{let _=x===at.DIGIT?4:5;if(u-y<_)break;let N=Nt.readCode(l,y,_);y+=_;let D=Nt.getCharacter(x,N);D.startsWith("CTRL_")?(g=x,x=Nt.getTable(D.charAt(5)),D.charAt(6)==="L"&&(g=x)):(w+=D,x=g)}return w}static getTable(l){switch(l){case"L":return at.LOWER;case"P":return at.PUNCT;case"M":return at.MIXED;case"D":return at.DIGIT;case"B":return at.BINARY;case"U":default:return at.UPPER}}static getCharacter(l,u){switch(l){case at.UPPER:return Nt.UPPER_TABLE[u];case at.LOWER:return Nt.LOWER_TABLE[u];case at.MIXED:return Nt.MIXED_TABLE[u];case at.PUNCT:return Nt.PUNCT_TABLE[u];case at.DIGIT:return Nt.DIGIT_TABLE[u];default:throw new kt("Bad table")}}correctBits(l){let u,g;this.ddata.getNbLayers()<=2?(g=6,u=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,u=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,u=tt.AZTEC_DATA_10):(g=12,u=tt.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),w=l.length/g;if(w<x)throw new M;let y=l.length%g,_=new Int32Array(w);for(let se=0;se<w;se++,y+=g)_[se]=Nt.readCode(l,y,g);try{new ct(u).decode(_,w-x)}catch(se){throw new M(se)}let N=(1<<g)-1,D=0;for(let se=0;se<x;se++){let we=_[se];if(we===0||we===N)throw new M;(we===1||we===N-1)&&D++}let H=new Array(x*g-D),ee=0;for(let se=0;se<x;se++){let we=_[se];if(we===1||we===N-1)H.fill(we>1,ee,ee+g-1),ee+=g-1;else for(let Te=g-1;Te>=0;--Te)H[ee++]=(we&1<<Te)!==0}return H}extractBits(l){let u=this.ddata.isCompact(),g=this.ddata.getNbLayers(),x=(u?11:14)+g*4,w=new Int32Array(x),y=new Array(this.totalBitsInLayer(g,u));if(u)for(let _=0;_<w.length;_++)w[_]=_;else{let _=x+1+2*Q.truncDivision(Q.truncDivision(x,2)-1,15),N=x/2,D=Q.truncDivision(_,2);for(let H=0;H<N;H++){let ee=H+Q.truncDivision(H,15);w[N-H-1]=D-ee-1,w[N+H]=D+ee+1}}for(let _=0,N=0;_<g;_++){let D=(g-_)*4+(u?9:12),H=_*2,ee=x-1-H;for(let se=0;se<D;se++){let we=se*2;for(let Te=0;Te<2;Te++)y[N+we+Te]=l.get(w[H+Te],w[H+se]),y[N+2*D+we+Te]=l.get(w[H+se],w[ee-Te]),y[N+4*D+we+Te]=l.get(w[ee-Te],w[ee-se]),y[N+6*D+we+Te]=l.get(w[ee-se],w[H+Te])}N+=D*8}return y}static readCode(l,u,g){let x=0;for(let w=u;w<u+g;w++)x<<=1,l[w]&&(x|=1);return x}static readByte(l,u){let g=l.length-u;return g>=8?Nt.readCode(l,u,8):Nt.readCode(l,u,g)<<8-g}static convertBoolArrayToByteArray(l){let u=new Uint8Array((l.length+7)/8);for(let g=0;g<u.length;g++)u[g]=Nt.readByte(l,8*g);return u}totalBitsInLayer(l,u){return((u?88:112)+16*l)*l}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Rt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,u,g,x){const w=l-g,y=u-x;return Math.sqrt(w*w+y*y)}static sum(l){let u=0;for(let g=0,x=l.length;g!==x;g++){const w=l[g];u+=w}return u}}class fr{static floatToIntBits(l){return l}}fr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class bt{constructor(l,u){this.x=l,this.y=u}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof bt){const u=l;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*fr.floatToIntBits(this.x)+fr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const u=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),x=this.distance(l[0],l[2]);let w,y,_;if(g>=u&&g>=x?(y=l[0],w=l[1],_=l[2]):x>=g&&x>=u?(y=l[1],w=l[0],_=l[2]):(y=l[2],w=l[0],_=l[1]),this.crossProductZ(w,y,_)<0){const N=w;w=_,_=N}l[0]=w,l[1]=y,l[2]=_}static distance(l,u){return Rt.distance(l.x,l.y,u.x,u.y)}static crossProductZ(l,u,g){const x=u.x,w=u.y;return(g.x-x)*(l.y-w)-(g.y-w)*(l.x-x)}}class nn{constructor(l,u){this.bits=l,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Yr extends nn{constructor(l,u,g,x,w){super(l,u),this.compact=g,this.nbDatablocks=x,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qe{constructor(l,u,g,x){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),u==null&&(u=Qe.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),x==null&&(x=l.getHeight()/2|0);const w=u/2|0;if(this.leftInit=g-w,this.rightInit=g+w,this.upInit=x-w,this.downInit=x+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}detect(){let l=this.leftInit,u=this.rightInit,g=this.upInit,x=this.downInit,w=!1,y=!0,_=!1,N=!1,D=!1,H=!1,ee=!1;const se=this.width,we=this.height;for(;y;){y=!1;let Te=!0;for(;(Te||!N)&&u<se;)Te=this.containsBlackPoint(g,x,u,!1),Te?(u++,y=!0,N=!0):N||u++;if(u>=se){w=!0;break}let Se=!0;for(;(Se||!D)&&x<we;)Se=this.containsBlackPoint(l,u,x,!0),Se?(x++,y=!0,D=!0):D||x++;if(x>=we){w=!0;break}let Oe=!0;for(;(Oe||!H)&&l>=0;)Oe=this.containsBlackPoint(g,x,l,!1),Oe?(l--,y=!0,H=!0):H||l--;if(l<0){w=!0;break}let $e=!0;for(;($e||!ee)&&g>=0;)$e=this.containsBlackPoint(l,u,g,!0),$e?(g--,y=!0,ee=!0):ee||g--;if(g<0){w=!0;break}y&&(_=!0)}if(!w&&_){const Te=u-l;let Se=null;for(let Et=1;Se===null&&Et<Te;Et++)Se=this.getBlackPointOnSegment(l,x-Et,l+Et,x);if(Se==null)throw new xe;let Oe=null;for(let Et=1;Oe===null&&Et<Te;Et++)Oe=this.getBlackPointOnSegment(l,g+Et,l+Et,g);if(Oe==null)throw new xe;let $e=null;for(let Et=1;$e===null&&Et<Te;Et++)$e=this.getBlackPointOnSegment(u,g+Et,u-Et,g);if($e==null)throw new xe;let _t=null;for(let Et=1;_t===null&&Et<Te;Et++)_t=this.getBlackPointOnSegment(u,x-Et,u-Et,x);if(_t==null)throw new xe;return this.centerEdges(_t,Se,$e,Oe)}else throw new xe}getBlackPointOnSegment(l,u,g,x){const w=Rt.round(Rt.distance(l,u,g,x)),y=(g-l)/w,_=(x-u)/w,N=this.image;for(let D=0;D<w;D++){const H=Rt.round(l+D*y),ee=Rt.round(u+D*_);if(N.get(H,ee))return new bt(H,ee)}return null}centerEdges(l,u,g,x){const w=l.getX(),y=l.getY(),_=u.getX(),N=u.getY(),D=g.getX(),H=g.getY(),ee=x.getX(),se=x.getY(),we=Qe.CORR;return w<this.width/2?[new bt(ee-we,se+we),new bt(_+we,N+we),new bt(D-we,H-we),new bt(w+we,y-we)]:[new bt(ee+we,se+we),new bt(_+we,N-we),new bt(D-we,H+we),new bt(w-we,y-we)]}containsBlackPoint(l,u,g,x){const w=this.image;if(x){for(let y=l;y<=u;y++)if(w.get(y,g))return!0}else for(let y=l;y<=u;y++)if(w.get(g,y))return!0;return!1}}Qe.INIT_SIZE=10,Qe.CORR=1;class Ue{static checkAndNudgePoints(l,u){const g=l.getWidth(),x=l.getHeight();let w=!0;for(let y=0;y<u.length&&w;y+=2){const _=Math.floor(u[y]),N=Math.floor(u[y+1]);if(_<-1||_>g||N<-1||N>x)throw new xe;w=!1,_===-1?(u[y]=0,w=!0):_===g&&(u[y]=g-1,w=!0),N===-1?(u[y+1]=0,w=!0):N===x&&(u[y+1]=x-1,w=!0)}w=!0;for(let y=u.length-2;y>=0&&w;y-=2){const _=Math.floor(u[y]),N=Math.floor(u[y+1]);if(_<-1||_>g||N<-1||N>x)throw new xe;w=!1,_===-1?(u[y]=0,w=!0):_===g&&(u[y]=g-1,w=!0),N===-1?(u[y+1]=0,w=!0):N===x&&(u[y+1]=x-1,w=!0)}}}class ot{constructor(l,u,g,x,w,y,_,N,D){this.a11=l,this.a21=u,this.a31=g,this.a12=x,this.a22=w,this.a32=y,this.a13=_,this.a23=N,this.a33=D}static quadrilateralToQuadrilateral(l,u,g,x,w,y,_,N,D,H,ee,se,we,Te,Se,Oe){const $e=ot.quadrilateralToSquare(l,u,g,x,w,y,_,N);return ot.squareToQuadrilateral(D,H,ee,se,we,Te,Se,Oe).times($e)}transformPoints(l){const u=l.length,g=this.a11,x=this.a12,w=this.a13,y=this.a21,_=this.a22,N=this.a23,D=this.a31,H=this.a32,ee=this.a33;for(let se=0;se<u;se+=2){const we=l[se],Te=l[se+1],Se=w*we+N*Te+ee;l[se]=(g*we+y*Te+D)/Se,l[se+1]=(x*we+_*Te+H)/Se}}transformPointsWithValues(l,u){const g=this.a11,x=this.a12,w=this.a13,y=this.a21,_=this.a22,N=this.a23,D=this.a31,H=this.a32,ee=this.a33,se=l.length;for(let we=0;we<se;we++){const Te=l[we],Se=u[we],Oe=w*Te+N*Se+ee;l[we]=(g*Te+y*Se+D)/Oe,u[we]=(x*Te+_*Se+H)/Oe}}static squareToQuadrilateral(l,u,g,x,w,y,_,N){const D=l-g+w-_,H=u-x+y-N;if(D===0&&H===0)return new ot(g-l,w-g,l,x-u,y-x,u,0,0,1);{const ee=g-w,se=_-w,we=x-y,Te=N-y,Se=ee*Te-se*we,Oe=(D*Te-se*H)/Se,$e=(ee*H-D*we)/Se;return new ot(g-l+Oe*g,_-l+$e*_,l,x-u+Oe*x,N-u+$e*N,u,Oe,$e,1)}}static quadrilateralToSquare(l,u,g,x,w,y,_,N){return ot.squareToQuadrilateral(l,u,g,x,w,y,_,N).buildAdjoint()}buildAdjoint(){return new ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new ot(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Dt extends Ue{sampleGrid(l,u,g,x,w,y,_,N,D,H,ee,se,we,Te,Se,Oe,$e,_t,Et){const pt=ot.quadrilateralToQuadrilateral(x,w,y,_,N,D,H,ee,se,we,Te,Se,Oe,$e,_t,Et);return this.sampleGridWithTransform(l,u,g,pt)}sampleGridWithTransform(l,u,g,x){if(u<=0||g<=0)throw new xe;const w=new Re(u,g),y=new Float32Array(2*u);for(let _=0;_<g;_++){const N=y.length,D=_+.5;for(let H=0;H<N;H+=2)y[H]=H/2+.5,y[H+1]=D;x.transformPoints(y),Ue.checkAndNudgePoints(l,y);try{for(let H=0;H<N;H+=2)l.get(Math.floor(y[H]),Math.floor(y[H+1]))&&w.set(H/2,_)}catch{throw new xe}}return w}}class Zt{static setGridSampler(l){Zt.gridSampler=l}static getInstance(){return Zt.gridSampler}}Zt.gridSampler=new Dt;class ut{constructor(l,u){this.x=l,this.y=u}toResultPoint(){return new bt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Bt{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let u=this.getMatrixCenter(),g=this.getBullsEyeCorners(u);if(l){let y=g[0];g[0]=g[2],g[2]=y}this.extractParameters(g);let x=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),w=this.getMatrixCornerPoints(g);return new Yr(x,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new xe;let u=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],u),this.sampleLine(l[1],l[2],u),this.sampleLine(l[2],l[3],u),this.sampleLine(l[3],l[0],u)]);this.shift=this.getRotation(g,u);let x=0;for(let y=0;y<4;y++){let _=g[(this.shift+y)%4];this.compact?(x<<=7,x+=_>>1&127):(x<<=10,x+=(_>>2&992)+(_>>1&31))}let w=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(l,u){let g=0;l.forEach((x,w,y)=>{let _=(x>>u-2<<1)+(x&1);g=(g<<3)+_}),g=((g&1)<<11)+(g>>1);for(let x=0;x<4;x++)if(Q.bitCount(g^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new xe}getCorrectedParameterData(l,u){let g,x;u?(g=7,x=2):(g=10,x=4);let w=g-x,y=new Int32Array(g);for(let N=g-1;N>=0;--N)y[N]=l&15,l>>=4;try{new ct(tt.AZTEC_PARAM).decode(y,w)}catch{throw new xe}let _=0;for(let N=0;N<x;N++)_=(_<<4)+y[N];return _}getBullsEyeCorners(l){let u=l,g=l,x=l,w=l,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ee=this.getFirstDifferent(u,y,1,-1),se=this.getFirstDifferent(g,y,1,1),we=this.getFirstDifferent(x,y,-1,1),Te=this.getFirstDifferent(w,y,-1,-1);if(this.nbCenterLayers>2){let Se=this.distancePoint(Te,ee)*this.nbCenterLayers/(this.distancePoint(w,u)*(this.nbCenterLayers+2));if(Se<.75||Se>1.25||!this.isWhiteOrBlackRectangle(ee,se,we,Te))break}u=ee,g=se,x=we,w=Te,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;let _=new bt(u.getX()+.5,u.getY()-.5),N=new bt(g.getX()+.5,g.getY()+.5),D=new bt(x.getX()-.5,x.getY()+.5),H=new bt(w.getX()-.5,w.getY()-.5);return this.expandSquare([_,N,D,H],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,u,g,x;try{let _=new Qe(this.image).detect();l=_[0],u=_[1],g=_[2],x=_[3]}catch{let N=this.image.getWidth()/2,D=this.image.getHeight()/2;l=this.getFirstDifferent(new ut(N+7,D-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new ut(N+7,D+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new ut(N-7,D+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new ut(N-7,D-7),!1,-1,-1).toResultPoint()}let w=Rt.round((l.getX()+x.getX()+u.getX()+g.getX())/4),y=Rt.round((l.getY()+x.getY()+u.getY()+g.getY())/4);try{let _=new Qe(this.image,15,w,y).detect();l=_[0],u=_[1],g=_[2],x=_[3]}catch{l=this.getFirstDifferent(new ut(w+7,y-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new ut(w+7,y+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new ut(w-7,y+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new ut(w-7,y-7),!1,-1,-1).toResultPoint()}return w=Rt.round((l.getX()+x.getX()+u.getX()+g.getX())/4),y=Rt.round((l.getY()+x.getY()+u.getY()+g.getY())/4),new ut(w,y)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,u,g,x,w){let y=Zt.getInstance(),_=this.getDimension(),N=_/2-this.nbCenterLayers,D=_/2+this.nbCenterLayers;return y.sampleGrid(l,_,_,N,N,D,N,D,D,N,D,u.getX(),u.getY(),g.getX(),g.getY(),x.getX(),x.getY(),w.getX(),w.getY())}sampleLine(l,u,g){let x=0,w=this.distanceResultPoint(l,u),y=w/g,_=l.getX(),N=l.getY(),D=y*(u.getX()-l.getX())/w,H=y*(u.getY()-l.getY())/w;for(let ee=0;ee<g;ee++)this.image.get(Rt.round(_+ee*D),Rt.round(N+ee*H))&&(x|=1<<g-ee-1);return x}isWhiteOrBlackRectangle(l,u,g,x){let w=3;l=new ut(l.getX()-w,l.getY()+w),u=new ut(u.getX()-w,u.getY()-w),g=new ut(g.getX()+w,g.getY()-w),x=new ut(x.getX()+w,x.getY()+w);let y=this.getColor(x,l);if(y===0)return!1;let _=this.getColor(l,u);return _!==y||(_=this.getColor(u,g),_!==y)?!1:(_=this.getColor(g,x),_===y)}getColor(l,u){let g=this.distancePoint(l,u),x=(u.getX()-l.getX())/g,w=(u.getY()-l.getY())/g,y=0,_=l.getX(),N=l.getY(),D=this.image.get(l.getX(),l.getY()),H=Math.ceil(g);for(let se=0;se<H;se++)_+=x,N+=w,this.image.get(Rt.round(_),Rt.round(N))!==D&&y++;let ee=y/g;return ee>.1&&ee<.9?0:ee<=.1===D?1:-1}getFirstDifferent(l,u,g,x){let w=l.getX()+g,y=l.getY()+x;for(;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=g,y+=x;for(w-=g,y-=x;this.isValid(w,y)&&this.image.get(w,y)===u;)w+=g;for(w-=g;this.isValid(w,y)&&this.image.get(w,y)===u;)y+=x;return y-=x,new ut(w,y)}expandSquare(l,u,g){let x=g/(2*u),w=l[0].getX()-l[2].getX(),y=l[0].getY()-l[2].getY(),_=(l[0].getX()+l[2].getX())/2,N=(l[0].getY()+l[2].getY())/2,D=new bt(_+x*w,N+x*y),H=new bt(_-x*w,N-x*y);w=l[1].getX()-l[3].getX(),y=l[1].getY()-l[3].getY(),_=(l[1].getX()+l[3].getX())/2,N=(l[1].getY()+l[3].getY())/2;let ee=new bt(_+x*w,N+x*y),se=new bt(_-x*w,N-x*y);return[D,ee,H,se]}isValid(l,u){return l>=0&&l<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(l){let u=Rt.round(l.getX()),g=Rt.round(l.getY());return this.isValid(u,g)}distancePoint(l,u){return Rt.distance(l.getX(),l.getY(),u.getX(),u.getY())}distanceResultPoint(l,u){return Rt.distance(l.getX(),l.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(l,u=null){let g=null,x=new Bt(l.getBlackMatrix()),w=null,y=null;try{let H=x.detectMirror(!1);w=H.getPoints(),this.reportFoundResultPoints(u,w),y=new Nt().decode(H)}catch(H){g=H}if(y==null)try{let H=x.detectMirror(!0);w=H.getPoints(),this.reportFoundResultPoints(u,w),y=new Nt().decode(H)}catch(H){throw g??H}let _=new ae(y.getText(),y.getRawBytes(),y.getNumBits(),w,Ee.AZTEC,k.currentTimeMillis()),N=y.getByteSegments();N!=null&&_.putMetadata(Ne.BYTE_SEGMENTS,N);let D=y.getECLevel();return D!=null&&_.putMetadata(Ne.ERROR_CORRECTION_LEVEL,D),_}reportFoundResultPoints(l,u){if(l!=null){let g=l.get(K.NEED_RESULT_POINT_CALLBACK);g!=null&&u.forEach((x,w,y)=>{g.foundPossibleResultPoint(x)})}}reset(){}}class Br extends oe{constructor(l=500){super(new Yt,l)}}class Gt{decode(l,u){try{return this.doDecode(l,u)}catch{if(u&&u.get(K.TRY_HARDER)===!0&&l.isRotateSupported()){const w=l.rotateCounterClockwise(),y=this.doDecode(w,u),_=y.getResultMetadata();let N=270;_!==null&&_.get(Ne.ORIENTATION)===!0&&(N=N+_.get(Ne.ORIENTATION)%360),y.putMetadata(Ne.ORIENTATION,N);const D=y.getResultPoints();if(D!==null){const H=w.getHeight();for(let ee=0;ee<D.length;ee++)D[ee]=new bt(H-D[ee].getY()-1,D[ee].getX())}return y}else throw new xe}}reset(){}doDecode(l,u){const g=l.getWidth(),x=l.getHeight();let w=new J(g);const y=u&&u.get(K.TRY_HARDER)===!0,_=Math.max(1,x>>(y?8:5));let N;y?N=x:N=15;const D=Math.trunc(x/2);for(let H=0;H<N;H++){const ee=Math.trunc((H+1)/2),se=(H&1)===0,we=D+_*(se?ee:-ee);if(we<0||we>=x)break;try{w=l.getBlackRow(we,w)}catch{continue}for(let Te=0;Te<2;Te++){if(Te===1&&(w.reverse(),u&&u.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const Se=new Map;u.forEach((Oe,$e)=>Se.set($e,Oe)),Se.delete(K.NEED_RESULT_POINT_CALLBACK),u=Se}try{const Se=this.decodeRow(we,w,u);if(Te===1){Se.putMetadata(Ne.ORIENTATION,180);const Oe=Se.getResultPoints();Oe!==null&&(Oe[0]=new bt(g-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new bt(g-Oe[1].getX()-1,Oe[1].getY()))}return Se}catch{}}}throw new xe}static recordPattern(l,u,g){const x=g.length;for(let D=0;D<x;D++)g[D]=0;const w=l.getSize();if(u>=w)throw new xe;let y=!l.get(u),_=0,N=u;for(;N<w;){if(l.get(N)!==y)g[_]++;else{if(++_===x)break;g[_]=1,y=!y}N++}if(!(_===x||_===x-1&&N===w))throw new xe}static recordPatternInReverse(l,u,g){let x=g.length,w=l.get(u);for(;u>0&&x>=0;)l.get(--u)!==w&&(x--,w=!w);if(x>=0)throw new xe;Gt.recordPattern(l,u+1,g)}static patternMatchVariance(l,u,g){const x=l.length;let w=0,y=0;for(let D=0;D<x;D++)w+=l[D],y+=u[D];if(w<y)return Number.POSITIVE_INFINITY;const _=w/y;g*=_;let N=0;for(let D=0;D<x;D++){const H=l[D],ee=u[D]*_,se=H>ee?H-ee:ee-H;if(se>g)return Number.POSITIVE_INFINITY;N+=se}return N/w}}class Be extends Gt{static findStartPattern(l){const u=l.getSize(),g=l.getNextSet(0);let x=0,w=Int32Array.from([0,0,0,0,0,0]),y=g,_=!1;const N=6;for(let D=g;D<u;D++)if(l.get(D)!==_)w[x]++;else{if(x===N-1){let H=Be.MAX_AVG_VARIANCE,ee=-1;for(let se=Be.CODE_START_A;se<=Be.CODE_START_C;se++){const we=Gt.patternMatchVariance(w,Be.CODE_PATTERNS[se],Be.MAX_INDIVIDUAL_VARIANCE);we<H&&(H=we,ee=se)}if(ee>=0&&l.isRange(Math.max(0,y-(D-y)/2),y,!1))return Int32Array.from([y,D,ee]);y+=w[0]+w[1],w=w.slice(2,w.length-1),w[x-1]=0,w[x]=0,x--}else x++;w[x]=1,_=!_}throw new xe}static decodeCode(l,u,g){Gt.recordPattern(l,g,u);let x=Be.MAX_AVG_VARIANCE,w=-1;for(let y=0;y<Be.CODE_PATTERNS.length;y++){const _=Be.CODE_PATTERNS[y],N=this.patternMatchVariance(u,_,Be.MAX_INDIVIDUAL_VARIANCE);N<x&&(x=N,w=y)}if(w>=0)return w;throw new xe}decodeRow(l,u,g){const x=g&&g.get(K.ASSUME_GS1)===!0,w=Be.findStartPattern(u),y=w[2];let _=0;const N=new Uint8Array(20);N[_++]=y;let D;switch(y){case Be.CODE_START_A:D=Be.CODE_CODE_A;break;case Be.CODE_START_B:D=Be.CODE_CODE_B;break;case Be.CODE_START_C:D=Be.CODE_CODE_C;break;default:throw new M}let H=!1,ee=!1,se="",we=w[0],Te=w[1];const Se=Int32Array.from([0,0,0,0,0,0]);let Oe=0,$e=0,_t=y,Et=0,pt=!0,Ir=!1,gr=!1;for(;!H;){const qo=ee;switch(ee=!1,Oe=$e,$e=Be.decodeCode(u,Se,Te),N[_++]=$e,$e!==Be.CODE_STOP&&(pt=!0),$e!==Be.CODE_STOP&&(Et++,_t+=Et*$e),we=Te,Te+=Se.reduce((Kd,b0)=>Kd+b0,0),$e){case Be.CODE_START_A:case Be.CODE_START_B:case Be.CODE_START_C:throw new M}switch(D){case Be.CODE_CODE_A:if($e<64)gr===Ir?se+=String.fromCharCode(32+$e):se+=String.fromCharCode(32+$e+128),gr=!1;else if($e<96)gr===Ir?se+=String.fromCharCode($e-64):se+=String.fromCharCode($e+64),gr=!1;else switch($e!==Be.CODE_STOP&&(pt=!1),$e){case Be.CODE_FNC_1:x&&(se.length===0?se+="]C1":se+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_A:!Ir&&gr?(Ir=!0,gr=!1):Ir&&gr?(Ir=!1,gr=!1):gr=!0;break;case Be.CODE_SHIFT:ee=!0,D=Be.CODE_CODE_B;break;case Be.CODE_CODE_B:D=Be.CODE_CODE_B;break;case Be.CODE_CODE_C:D=Be.CODE_CODE_C;break;case Be.CODE_STOP:H=!0;break}break;case Be.CODE_CODE_B:if($e<96)gr===Ir?se+=String.fromCharCode(32+$e):se+=String.fromCharCode(32+$e+128),gr=!1;else switch($e!==Be.CODE_STOP&&(pt=!1),$e){case Be.CODE_FNC_1:x&&(se.length===0?se+="]C1":se+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_B:!Ir&&gr?(Ir=!0,gr=!1):Ir&&gr?(Ir=!1,gr=!1):gr=!0;break;case Be.CODE_SHIFT:ee=!0,D=Be.CODE_CODE_A;break;case Be.CODE_CODE_A:D=Be.CODE_CODE_A;break;case Be.CODE_CODE_C:D=Be.CODE_CODE_C;break;case Be.CODE_STOP:H=!0;break}break;case Be.CODE_CODE_C:if($e<100)$e<10&&(se+="0"),se+=$e;else switch($e!==Be.CODE_STOP&&(pt=!1),$e){case Be.CODE_FNC_1:x&&(se.length===0?se+="]C1":se+="");break;case Be.CODE_CODE_A:D=Be.CODE_CODE_A;break;case Be.CODE_CODE_B:D=Be.CODE_CODE_B;break;case Be.CODE_STOP:H=!0;break}break}qo&&(D=D===Be.CODE_CODE_A?Be.CODE_CODE_B:Be.CODE_CODE_A)}const Zn=Te-we;if(Te=u.getNextUnset(Te),!u.isRange(Te,Math.min(u.getSize(),Te+(Te-we)/2),!1))throw new xe;if(_t-=Et*Oe,_t%103!==Oe)throw new S;const Ks=se.length;if(Ks===0)throw new xe;Ks>0&&pt&&(D===Be.CODE_CODE_C?se=se.substring(0,Ks-2):se=se.substring(0,Ks-1));const ji=(w[1]+w[0])/2,on=we+Zn/2,bi=N.length,Ts=new Uint8Array(bi);for(let qo=0;qo<bi;qo++)Ts[qo]=N[qo];const Ol=[new bt(ji,l),new bt(on,l)];return new ae(se,Ts,0,Ol,Ee.CODE_128,new Date().getTime())}}Be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Be.MAX_AVG_VARIANCE=.25,Be.MAX_INDIVIDUAL_VARIANCE=.7,Be.CODE_SHIFT=98,Be.CODE_CODE_C=99,Be.CODE_CODE_B=100,Be.CODE_CODE_A=101,Be.CODE_FNC_1=102,Be.CODE_FNC_2=97,Be.CODE_FNC_3=96,Be.CODE_FNC_4_A=101,Be.CODE_FNC_4_B=100,Be.CODE_START_A=103,Be.CODE_START_B=104,Be.CODE_START_C=105,Be.CODE_STOP=106;class Lt extends Gt{constructor(l=!1,u=!1){super(),this.usingCheckDigit=l,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,u,g){let x=this.counters;x.fill(0),this.decodeRowResult="";let w=Lt.findAsteriskPattern(u,x),y=u.getNextSet(w[1]),_=u.getSize(),N,D;do{Lt.recordPattern(u,y,x);let Se=Lt.toNarrowWidePattern(x);if(Se<0)throw new xe;N=Lt.patternToChar(Se),this.decodeRowResult+=N,D=y;for(let Oe of x)y+=Oe;y=u.getNextSet(y)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let H=0;for(let Se of x)H+=Se;let ee=y-D-H;if(y!==_&&ee*2<H)throw new xe;if(this.usingCheckDigit){let Se=this.decodeRowResult.length-1,Oe=0;for(let $e=0;$e<Se;$e++)Oe+=Lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Se)!==Lt.ALPHABET_STRING.charAt(Oe%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,Se)}if(this.decodeRowResult.length===0)throw new xe;let se;this.extendedMode?se=Lt.decodeExtended(this.decodeRowResult):se=this.decodeRowResult;let we=(w[1]+w[0])/2,Te=D+H/2;return new ae(se,null,0,[new bt(we,l),new bt(Te,l)],Ee.CODE_39,new Date().getTime())}static findAsteriskPattern(l,u){let g=l.getSize(),x=l.getNextSet(0),w=0,y=x,_=!1,N=u.length;for(let D=x;D<g;D++)if(l.get(D)!==_)u[w]++;else{if(w===N-1){if(this.toNarrowWidePattern(u)===Lt.ASTERISK_ENCODING&&l.isRange(Math.max(0,y-Math.floor((D-y)/2)),y,!1))return[y,D];y+=u[0]+u[1],u.copyWithin(0,2,2+w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,_=!_}throw new xe}static toNarrowWidePattern(l){let u=l.length,g=0,x;do{let w=2147483647;for(let N of l)N<w&&N>g&&(w=N);g=w,x=0;let y=0,_=0;for(let N=0;N<u;N++){let D=l[N];D>g&&(_|=1<<u-1-N,x++,y+=D)}if(x===3){for(let N=0;N<u&&x>0;N++){let D=l[N];if(D>g&&(x--,D*2>=y))return-1}return _}}while(x>3);return-1}static patternToChar(l){for(let u=0;u<Lt.CHARACTER_ENCODINGS.length;u++)if(Lt.CHARACTER_ENCODINGS[u]===l)return Lt.ALPHABET_STRING.charAt(u);if(l===Lt.ASTERISK_ENCODING)return"*";throw new xe}static decodeExtended(l){let u=l.length,g="";for(let x=0;x<u;x++){let w=l.charAt(x);if(w==="+"||w==="$"||w==="%"||w==="/"){let y=l.charAt(x+1),_="\0";switch(w){case"+":if(y>="A"&&y<="Z")_=String.fromCharCode(y.charCodeAt(0)+32);else throw new M;break;case"$":if(y>="A"&&y<="Z")_=String.fromCharCode(y.charCodeAt(0)-64);else throw new M;break;case"%":if(y>="A"&&y<="E")_=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")_=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")_=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")_=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")_="\0";else if(y==="V")_="@";else if(y==="W")_="`";else if(y==="X"||y==="Y"||y==="Z")_="";else throw new M;break;case"/":if(y>="A"&&y<="O")_=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")_=":";else throw new M;break}g+=_,x++}else g+=w}return g}}Lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Lt.ASTERISK_ENCODING=148;class ke extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,u,g){let x=this.decodeStart(u),w=this.decodeEnd(u),y=new X;ke.decodeMiddle(u,x[1],w[0],y);let _=y.toString(),N=null;g!=null&&(N=g.get(K.ALLOWED_LENGTHS)),N==null&&(N=ke.DEFAULT_ALLOWED_LENGTHS);let D=_.length,H=!1,ee=0;for(let Te of N){if(D===Te){H=!0;break}Te>ee&&(ee=Te)}if(!H&&D>ee&&(H=!0),!H)throw new M;const se=[new bt(x[1],l),new bt(w[0],l)];return new ae(_,null,0,se,Ee.ITF,new Date().getTime())}static decodeMiddle(l,u,g,x){let w=new Int32Array(10),y=new Int32Array(5),_=new Int32Array(5);for(w.fill(0),y.fill(0),_.fill(0);u<g;){Gt.recordPattern(l,u,w);for(let D=0;D<5;D++){let H=2*D;y[D]=w[H],_[D]=w[H+1]}let N=ke.decodeDigit(y);x.append(N.toString()),N=this.decodeDigit(_),x.append(N.toString()),w.forEach(function(D){u+=D})}}decodeStart(l){let u=ke.skipWhiteSpace(l),g=ke.findGuardPattern(l,u,ke.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,u){let g=this.narrowLineWidth*10;g=g<u?g:u;for(let x=u-1;g>0&&x>=0&&!l.get(x);x--)g--;if(g!==0)throw new xe}static skipWhiteSpace(l){const u=l.getSize(),g=l.getNextSet(0);if(g===u)throw new xe;return g}decodeEnd(l){l.reverse();try{let u=ke.skipWhiteSpace(l),g;try{g=ke.findGuardPattern(l,u,ke.END_PATTERN_REVERSED[0])}catch(w){w instanceof xe&&(g=ke.findGuardPattern(l,u,ke.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let x=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-x,g}finally{l.reverse()}}static findGuardPattern(l,u,g){let x=g.length,w=new Int32Array(x),y=l.getSize(),_=!1,N=0,D=u;w.fill(0);for(let H=u;H<y;H++)if(l.get(H)!==_)w[N]++;else{if(N===x-1){if(Gt.patternMatchVariance(w,g,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return[D,H];D+=w[0]+w[1],k.arraycopy(w,2,w,0,N-1),w[N-1]=0,w[N]=0,N--}else N++;w[N]=1,_=!_}throw new xe}static decodeDigit(l){let u=ke.MAX_AVG_VARIANCE,g=-1,x=ke.PATTERNS.length;for(let w=0;w<x;w++){let y=ke.PATTERNS[w],_=Gt.patternMatchVariance(l,y,ke.MAX_INDIVIDUAL_VARIANCE);_<u?(u=_,g=w):_===u&&(g=-1)}if(g>=0)return g%10;throw new xe}}ke.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ke.MAX_AVG_VARIANCE=.38,ke.MAX_INDIVIDUAL_VARIANCE=.5,ke.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ke.START_PATTERN=Int32Array.from([1,1,1,1]),ke.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let u=!1,g,x=0,w=Int32Array.from([0,0,0]);for(;!u;){w=Int32Array.from([0,0,0]),g=Mt.findGuardPattern(l,x,!1,this.START_END_PATTERN,w);let y=g[0];x=g[1];let _=y-(x-y);_>=0&&(u=l.isRange(_,y,!1))}return g}static checkChecksum(l){return Mt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let u=l.length;if(u===0)return!1;let g=parseInt(l.charAt(u-1),10);return Mt.getStandardUPCEANChecksum(l.substring(0,u-1))===g}static getStandardUPCEANChecksum(l){let u=l.length,g=0;for(let x=u-1;x>=0;x-=2){let w=l.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;g+=w}g*=3;for(let x=u-2;x>=0;x-=2){let w=l.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;g+=w}return(1e3-g)%10}static decodeEnd(l,u){return Mt.findGuardPattern(l,u,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,u,g,x){return this.findGuardPattern(l,u,g,x,new Int32Array(x.length))}static findGuardPattern(l,u,g,x,w){let y=l.getSize();u=g?l.getNextUnset(u):l.getNextSet(u);let _=0,N=u,D=x.length,H=g;for(let ee=u;ee<y;ee++)if(l.get(ee)!==H)w[_]++;else{if(_===D-1){if(Gt.patternMatchVariance(w,x,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([N,ee]);N+=w[0]+w[1];let se=w.slice(2,w.length-1);for(let we=0;we<_-1;we++)w[we]=se[we];w[_-1]=0,w[_]=0,_--}else _++;w[_]=1,H=!H}throw new xe}static decodeDigit(l,u,g,x){this.recordPattern(l,g,u);let w=this.MAX_AVG_VARIANCE,y=-1,_=x.length;for(let N=0;N<_;N++){let D=x[N],H=Gt.patternMatchVariance(u,D,Mt.MAX_INDIVIDUAL_VARIANCE);H<w&&(w=H,y=N)}if(y>=0)return y;throw new xe}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class dr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,u,g){let x=this.decodeRowStringBuffer,w=this.decodeMiddle(u,g,x),y=x.toString(),_=dr.parseExtensionString(y),N=[new bt((g[0]+g[1])/2,l),new bt(w,l)],D=new ae(y,null,0,N,Ee.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&D.putAllMetadata(_),D}decodeMiddle(l,u,g){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=l.getSize(),y=u[1],_=0;for(let D=0;D<5&&y<w;D++){let H=Mt.decodeDigit(l,x,y,Mt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+H%10);for(let ee of x)y+=ee;H>=10&&(_|=1<<4-D),D!==4&&(y=l.getNextSet(y),y=l.getNextUnset(y))}if(g.length!==5)throw new xe;let N=this.determineCheckDigit(_);if(dr.extensionChecksum(g.toString())!==N)throw new xe;return y}static extensionChecksum(l){let u=l.length,g=0;for(let x=u-2;x>=0;x-=2)g+=l.charAt(x).charCodeAt(0)-48;g*=3;for(let x=u-1;x>=0;x-=2)g+=l.charAt(x).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let u=0;u<10;u++)if(l===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new xe}static parseExtensionString(l){if(l.length!==5)return null;let u=dr.parseExtension5String(l);return u==null?null:new Map([[Ne.SUGGESTED_PRICE,u]])}static parseExtension5String(l){let u;switch(l.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let g=parseInt(l.substring(1)),x=(g/100).toString(),w=g%100,y=w<10?"0"+w:w.toString();return u+x+"."+y}}class Rr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,u,g){let x=this.decodeRowStringBuffer,w=this.decodeMiddle(u,g,x),y=x.toString(),_=Rr.parseExtensionString(y),N=[new bt((g[0]+g[1])/2,l),new bt(w,l)],D=new ae(y,null,0,N,Ee.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&D.putAllMetadata(_),D}decodeMiddle(l,u,g){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=l.getSize(),y=u[1],_=0;for(let N=0;N<2&&y<w;N++){let D=Mt.decodeDigit(l,x,y,Mt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+D%10);for(let H of x)y+=H;D>=10&&(_|=1<<1-N),N!==1&&(y=l.getNextSet(y),y=l.getNextUnset(y))}if(g.length!==2)throw new xe;if(parseInt(g.toString())%4!==_)throw new xe;return y}static parseExtensionString(l){return l.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(l)]])}}class Nn{static decodeRow(l,u,g){let x=Mt.findGuardPattern(u,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new dr().decodeRow(l,u,x)}catch{return new Rr().decodeRow(l,u,x)}}}Nn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ar extends Mt{constructor(){super(),this.decodeRowStringBuffer="",ar.L_AND_G_PATTERNS=ar.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let u=ar.L_PATTERNS[l-10],g=new Int32Array(u.length);for(let x=0;x<u.length;x++)g[x]=u[u.length-x-1];ar.L_AND_G_PATTERNS[l]=g}}decodeRow(l,u,g){let x=ar.findStartGuardPattern(u),w=g==null?null:g.get(K.NEED_RESULT_POINT_CALLBACK);if(w!=null){const pt=new bt((x[0]+x[1])/2,l);w.foundPossibleResultPoint(pt)}let y=this.decodeMiddle(u,x,this.decodeRowStringBuffer),_=y.rowOffset,N=y.resultString;if(w!=null){const pt=new bt(_,l);w.foundPossibleResultPoint(pt)}let D=this.decodeEnd(u,_);if(w!=null){const pt=new bt((D[0]+D[1])/2,l);w.foundPossibleResultPoint(pt)}let H=D[1],ee=H+(H-D[0]);if(ee>=u.getSize()||!u.isRange(H,ee,!1))throw new xe;let se=N.toString();if(se.length<8)throw new M;if(!ar.checkChecksum(se))throw new S;let we=(x[1]+x[0])/2,Te=(D[1]+D[0])/2,Se=this.getBarcodeFormat(),Oe=[new bt(we,l),new bt(Te,l)],$e=new ae(se,null,0,Oe,Se,new Date().getTime()),_t=0;try{let pt=Nn.decodeRow(l,u,D[1]);$e.putMetadata(Ne.UPC_EAN_EXTENSION,pt.getText()),$e.putAllMetadata(pt.getResultMetadata()),$e.addResultPoints(pt.getResultPoints()),_t=pt.getText().length}catch{}let Et=g==null?null:g.get(K.ALLOWED_EAN_EXTENSIONS);if(Et!=null){let pt=!1;for(let Ir in Et)if(_t.toString()===Ir){pt=!0;break}if(!pt)throw new xe}return $e}decodeEnd(l,u){return ar.findGuardPattern(l,u,!1,ar.START_END_PATTERN,new Int32Array(ar.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return ar.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let u=l.length;if(u===0)return!1;let g=parseInt(l.charAt(u-1),10);return ar.getStandardUPCEANChecksum(l.substring(0,u-1))===g}static getStandardUPCEANChecksum(l){let u=l.length,g=0;for(let x=u-1;x>=0;x-=2){let w=l.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;g+=w}g*=3;for(let x=u-2;x>=0;x-=2){let w=l.charAt(x).charCodeAt(0)-48;if(w<0||w>9)throw new M;g+=w}return(1e3-g)%10}}class Kn extends ar{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,u,g){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=l.getSize(),y=u[1],_=0;for(let D=0;D<6&&y<w;D++){let H=ar.decodeDigit(l,x,y,ar.L_AND_G_PATTERNS);g+=String.fromCharCode(48+H%10);for(let ee of x)y+=ee;H>=10&&(_|=1<<5-D)}g=Kn.determineFirstDigit(g,_),y=ar.findGuardPattern(l,y,!0,ar.MIDDLE_PATTERN,new Int32Array(ar.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&y<w;D++){let H=ar.decodeDigit(l,x,y,ar.L_PATTERNS);g+=String.fromCharCode(48+H);for(let ee of x)y+=ee}return{rowOffset:y,resultString:g}}getBarcodeFormat(){return Ee.EAN_13}static determineFirstDigit(l,u){for(let g=0;g<10;g++)if(u===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new xe}}Kn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vr extends ar{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,u,g){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=l.getSize(),y=u[1];for(let N=0;N<4&&y<w;N++){let D=ar.decodeDigit(l,x,y,ar.L_PATTERNS);g+=String.fromCharCode(48+D);for(let H of x)y+=H}y=ar.findGuardPattern(l,y,!0,ar.MIDDLE_PATTERN,new Int32Array(ar.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&y<w;N++){let D=ar.decodeDigit(l,x,y,ar.L_PATTERNS);g+=String.fromCharCode(48+D);for(let H of x)y+=H}return{rowOffset:y,resultString:g}}getBarcodeFormat(){return Ee.EAN_8}}class zn extends ar{constructor(){super(...arguments),this.ean13Reader=new Kn}getBarcodeFormat(){return Ee.UPC_A}decode(l,u){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,u,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,u,g))}decodeMiddle(l,u,g){return this.ean13Reader.decodeMiddle(l,u,g)}maybeReturnResult(l){let u=l.getText();if(u.charAt(0)==="0"){let g=new ae(u.substring(1),null,null,l.getResultPoints(),Ee.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new xe}reset(){this.ean13Reader.reset()}}class yn extends ar{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,u,g){const x=this.decodeMiddleCounters.map(D=>D);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const w=l.getSize();let y=u[1],_=0;for(let D=0;D<6&&y<w;D++){const H=yn.decodeDigit(l,x,y,yn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+H%10);for(let ee of x)y+=ee;H>=10&&(_|=1<<5-D)}let N=yn.determineNumSysAndCheckDigit(g,_);return{rowOffset:y,resultString:N}}decodeEnd(l,u){return yn.findGuardPatternWithoutCounters(l,u,!0,yn.MIDDLE_END_PATTERN)}checkChecksum(l){return ar.checkChecksum(yn.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,u){for(let g=0;g<=1;g++)for(let x=0;x<10;x++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][x]){let w=String.fromCharCode(48+g),y=String.fromCharCode(48+x);return w+l+y}throw xe.getNotFoundInstance()}getBarcodeFormat(){return Ee.UPC_E}static convertUPCEtoUPCA(l){const u=l.slice(1,7).split("").map(w=>w.charCodeAt(0)),g=new X;g.append(l.charAt(0));let x=u[5];switch(x){case 0:case 1:case 2:g.appendChars(u,0,2),g.append(x),g.append("0000"),g.appendChars(u,2,3);break;case 3:g.appendChars(u,0,3),g.append("00000"),g.appendChars(u,3,2);break;case 4:g.appendChars(u,0,4),g.append("00000"),g.append(u[4]);break;default:g.appendChars(u,0,5),g.append("0000"),g.append(x);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ie extends Gt{constructor(l){super();let u=l==null?null:l.get(K.POSSIBLE_FORMATS),g=[];n(u)?(g.push(new Kn),g.push(new zn),g.push(new Vr),g.push(new yn)):(u.indexOf(Ee.EAN_13)>-1&&g.push(new Kn),u.indexOf(Ee.UPC_A)>-1&&g.push(new zn),u.indexOf(Ee.EAN_8)>-1&&g.push(new Vr),u.indexOf(Ee.UPC_E)>-1&&g.push(new yn)),this.readers=g}decodeRow(l,u,g){for(let x of this.readers)try{const w=x.decodeRow(l,u,g),y=w.getBarcodeFormat()===Ee.EAN_13&&w.getText().charAt(0)==="0",_=g==null?null:g.get(K.POSSIBLE_FORMATS),N=_==null||_.includes(Ee.UPC_A);if(y&&N){const D=w.getRawBytes(),H=new ae(w.getText().substring(1),D,D?D.length:null,w.getResultPoints(),Ee.UPC_A);return H.putAllMetadata(w.getResultMetadata()),H}return w}catch{}throw new xe}reset(){for(let l of this.readers)l.reset()}}class At extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,u){for(let g=0;g<u.length;g++)if(Gt.patternMatchVariance(l,u[g],At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return g;throw new xe}static count(l){return Rt.sum(new Int32Array(l))}static increment(l,u){let g=0,x=u[0];for(let w=1;w<l.length;w++)u[w]>x&&(x=u[w],g=w);l[g]++}static decrement(l,u){let g=0,x=u[0];for(let w=1;w<l.length;w++)u[w]<x&&(x=u[w],g=w);l[g]--}static isFinderPattern(l){let u=l[0]+l[1],g=u+l[2]+l[3],x=u/g;if(x>=At.MIN_FINDER_PATTERN_RATIO&&x<=At.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let _ of l)_>y&&(y=_),_<w&&(w=_);return y<10*w}return!1}}At.MAX_AVG_VARIANCE=.2,At.MAX_INDIVIDUAL_VARIANCE=.45,At.MIN_FINDER_PATTERN_RATIO=9.5/12,At.MAX_FINDER_PATTERN_RATIO=12.5/14;class st{constructor(l,u){this.value=l,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof st))return!1;const u=l;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mt{constructor(l,u,g,x,w){this.value=l,this.startEnd=u,this.value=l,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new bt(g,w)),this.resultPoints.push(new bt(x,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof mt))return!1;const u=l;return this.value===u.value}hashCode(){return this.value}}class Pt{constructor(){}static getRSSvalue(l,u,g){let x=0;for(let N of l)x+=N;let w=0,y=0,_=l.length;for(let N=0;N<_-1;N++){let D;for(D=1,y|=1<<N;D<l[N];D++,y&=~(1<<N)){let H=Pt.combins(x-D-1,_-N-2);if(g&&y===0&&x-D-(_-N-1)>=_-N-1&&(H-=Pt.combins(x-D-(_-N),_-N-2)),_-N-1>1){let ee=0;for(let se=x-D-(_-N-2);se>u;se--)ee+=Pt.combins(x-D-se-1,_-N-3);H-=ee*(_-1-N)}else x-D>u&&H--;w+=H}x-=D}return w}static combins(l,u){let g,x;l-u>u?(x=u,g=l-u):(x=l-u,g=u);let w=1,y=1;for(let _=l;_>g;_--)w*=_,y<=x&&(w/=y,y++);for(;y<=x;)w/=y,y++;return w}}class Wn{static buildBitArray(l){let u=l.length*2-1;l[l.length-1].getRightChar()==null&&(u-=1);let g=12*u,x=new J(g),w=0,_=l[0].getRightChar().getValue();for(let N=11;N>=0;--N)(_&1<<N)!=0&&x.set(w),w++;for(let N=1;N<l.length;++N){let D=l[N],H=D.getLeftChar().getValue();for(let ee=11;ee>=0;--ee)(H&1<<ee)!=0&&x.set(w),w++;if(D.getRightChar()!=null){let ee=D.getRightChar().getValue();for(let se=11;se>=0;--se)(ee&1<<se)!=0&&x.set(w),w++}}return x}}class Jr{constructor(l,u){u?this.decodedInformation=null:(this.finished=l,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pi{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Cn extends Pi{constructor(l,u){super(l),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class Es extends Pi{constructor(l,u,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ne extends Pi{constructor(l,u,g){if(super(l),u<0||u>10||g<0||g>10)throw new M;this.firstDigit=u,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ne.FNC1}isSecondDigitFNC1(){return this.secondDigit===ne.FNC1}isAnyFNC1(){return this.firstDigit===ne.FNC1||this.secondDigit===ne.FNC1}}ne.FNC1=10;class ce{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new xe;let u=l.substring(0,2);for(let w of ce.TWO_DIGIT_DATA_LENGTH)if(w[0]===u)return w[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,w[2],l):ce.processFixedAI(2,w[1],l);if(l.length<3)throw new xe;let g=l.substring(0,3);for(let w of ce.THREE_DIGIT_DATA_LENGTH)if(w[0]===g)return w[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,w[2],l):ce.processFixedAI(3,w[1],l);for(let w of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===g)return w[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,w[2],l):ce.processFixedAI(4,w[1],l);if(l.length<4)throw new xe;let x=l.substring(0,4);for(let w of ce.FOUR_DIGIT_DATA_LENGTH)if(w[0]===x)return w[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,w[2],l):ce.processFixedAI(4,w[1],l);throw new xe}static processFixedAI(l,u,g){if(g.length<l)throw new xe;let x=g.substring(0,l);if(g.length<l+u)throw new xe;let w=g.substring(l,l+u),y=g.substring(l+u),_="("+x+")"+w,N=ce.parseFieldsInGeneralPurpose(y);return N==null?_:_+N}static processVariableAI(l,u,g){let x=g.substring(0,l),w;g.length<l+u?w=g.length:w=l+u;let y=g.substring(l,w),_=g.substring(w),N="("+x+")"+y,D=ce.parseFieldsInGeneralPurpose(_);return D==null?N:N+D}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class de{constructor(l){this.buffer=new X,this.information=l}decodeAllCodes(l,u){let g=u,x=null;do{let w=this.decodeGeneralPurposeField(g,x),y=ce.parseFieldsInGeneralPurpose(w.getNewString());if(y!=null&&l.append(y),w.isRemaining()?x=""+w.getRemainingValue():x=null,g===w.getNewPosition())break;g=w.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let u=l;u<l+3;++u)if(this.information.get(u))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(l,4);return w===0?new ne(this.information.getSize(),ne.FNC1,ne.FNC1):new ne(this.information.getSize(),w-1,ne.FNC1)}let u=this.extractNumericValueFromBitArray(l,7),g=(u-8)/11,x=(u-8)%11;return new ne(l+7,g,x)}extractNumericValueFromBitArray(l,u){return de.extractNumericValueFromBitArray(this.information,l,u)}static extractNumericValueFromBitArray(l,u,g){let x=0;for(let w=0;w<g;++w)l.get(u+w)&&(x|=1<<g-w-1);return x}decodeGeneralPurposeField(l,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Es(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Es(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,u;do{let g=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),l=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),l=u.isFinished()):(u=this.parseNumericBlock(),l=u.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let u;return l.isSecondDigitFNC1()?u=new Es(this.current.getPosition(),this.buffer.toString()):u=new Es(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Jr(!0,u)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let u=new Es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,u)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let u=new Es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,u)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let u=new Es(this.current.getPosition(),this.buffer.toString());return new Jr(!0,u)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jr(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(l,5);if(u>=5&&u<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(l,8);return x>=232&&x<253}decodeIsoIec646(l){let u=this.extractNumericValueFromBitArray(l,5);if(u===15)return new Cn(l+5,Cn.FNC1);if(u>=5&&u<15)return new Cn(l+5,"0"+(u-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new Cn(l+7,""+(g+1));if(g>=90&&g<116)return new Cn(l+7,""+(g+7));let x=this.extractNumericValueFromBitArray(l,8),w;switch(x){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new M}return new Cn(l+8,w)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(l,5);if(u>=5&&u<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let u=this.extractNumericValueFromBitArray(l,5);if(u===15)return new Cn(l+5,Cn.FNC1);if(u>=5&&u<15)return new Cn(l+5,"0"+(u-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new Cn(l+6,""+(g+33));let x;switch(g){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new kt("Decoding invalid alphanumeric value: "+g)}return new Cn(l+6,x)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let u=0;u<5&&u+l<this.information.getSize();++u)if(u===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+u))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let u=l;u<l+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let u=0;u<4&&u+l<this.information.getSize();++u)if(this.information.get(l+u))return!1;return!0}}class he{constructor(l){this.information=l,this.generalDecoder=new de(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ge extends he{constructor(l){super(l)}encodeCompressedGtin(l,u){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,u,g)}encodeCompressedGtinWithoutAI(l,u,g){for(let x=0;x<4;++x){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*x,10);w/100===0&&l.append("0"),w/10===0&&l.append("0"),l.append(w)}ge.appendCheckDigit(l,g)}static appendCheckDigit(l,u){let g=0;for(let x=0;x<13;x++){let w=l.charAt(x+u).charCodeAt(0)-48;g+=(x&1)===0?3*w:w}g=10-g%10,g===10&&(g=0),l.append(g)}}ge.GTIN_SIZE=40;class ve extends ge{constructor(l){super(l)}parseInformation(){let l=new X;l.append("(01)");let u=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(ve.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,ve.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(l,ve.HEADER_SIZE+44)}}ve.HEADER_SIZE=4;class Ve extends he{constructor(l){super(l)}parseInformation(){let l=new X;return this.getGeneralDecoder().decodeAllCodes(l,Ve.HEADER_SIZE)}}Ve.HEADER_SIZE=5;class nt extends ge{constructor(l){super(l)}encodeCompressedWeight(l,u,g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u,g);this.addWeightCode(l,x);let w=this.checkWeight(x),y=1e5;for(let _=0;_<5;++_)w/y===0&&l.append("0"),y/=10;l.append(w)}}class Le extends nt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Le.HEADER_SIZE+nt.GTIN_SIZE+Le.WEIGHT_SIZE)throw new xe;let l=new X;return this.encodeCompressedGtin(l,Le.HEADER_SIZE),this.encodeCompressedWeight(l,Le.HEADER_SIZE+nt.GTIN_SIZE,Le.WEIGHT_SIZE),l.toString()}}Le.HEADER_SIZE=5,Le.WEIGHT_SIZE=15;class Ke extends Le{constructor(l){super(l)}addWeightCode(l,u){l.append("(3103)")}checkWeight(l){return l}}class ze extends Le{constructor(l){super(l)}addWeightCode(l,u){u<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ht extends ge{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ht.HEADER_SIZE+ge.GTIN_SIZE)throw new xe;let l=new X;this.encodeCompressedGtin(l,ht.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ht.HEADER_SIZE+ge.GTIN_SIZE,ht.LAST_DIGIT_SIZE);l.append("(392"),l.append(u),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(ht.HEADER_SIZE+ge.GTIN_SIZE+ht.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}ht.HEADER_SIZE=8,ht.LAST_DIGIT_SIZE=2;class xt extends ge{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<xt.HEADER_SIZE+ge.GTIN_SIZE)throw new xe;let l=new X;this.encodeCompressedGtin(l,xt.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(xt.HEADER_SIZE+ge.GTIN_SIZE,xt.LAST_DIGIT_SIZE);l.append("(393"),l.append(u),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(xt.HEADER_SIZE+ge.GTIN_SIZE+xt.LAST_DIGIT_SIZE,xt.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let x=this.getGeneralDecoder().decodeGeneralPurposeField(xt.HEADER_SIZE+ge.GTIN_SIZE+xt.LAST_DIGIT_SIZE+xt.FIRST_THREE_DIGITS_SIZE,null);return l.append(x.getNewString()),l.toString()}}xt.HEADER_SIZE=8,xt.LAST_DIGIT_SIZE=2,xt.FIRST_THREE_DIGITS_SIZE=10;class wt extends nt{constructor(l,u,g){super(l),this.dateCode=g,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE+wt.DATE_SIZE)throw new xe;let l=new X;return this.encodeCompressedGtin(l,wt.HEADER_SIZE),this.encodeCompressedWeight(l,wt.HEADER_SIZE+wt.GTIN_SIZE,wt.WEIGHT_SIZE),this.encodeCompressedDate(l,wt.HEADER_SIZE+wt.GTIN_SIZE+wt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,u){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(u,wt.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let x=g%32;g/=32;let w=g%12+1;g/=12;let y=g;y/10==0&&l.append("0"),l.append(y),w/10==0&&l.append("0"),l.append(w),x/10==0&&l.append("0"),l.append(x)}addWeightCode(l,u){l.append("("),l.append(this.firstAIdigits),l.append(u/1e5),l.append(")")}checkWeight(l){return l%1e5}}wt.HEADER_SIZE=8,wt.WEIGHT_SIZE=20,wt.DATE_SIZE=16;function Ct(Y){try{if(Y.get(1))return new ve(Y);if(!Y.get(2))return new Ve(Y);switch(de.extractNumericValueFromBitArray(Y,1,4)){case 4:return new Ke(Y);case 5:return new ze(Y)}switch(de.extractNumericValueFromBitArray(Y,1,5)){case 12:return new ht(Y);case 13:return new xt(Y)}switch(de.extractNumericValueFromBitArray(Y,1,7)){case 56:return new wt(Y,"310","11");case 57:return new wt(Y,"320","11");case 58:return new wt(Y,"310","13");case 59:return new wt(Y,"320","13");case 60:return new wt(Y,"310","15");case 61:return new wt(Y,"320","15");case 62:return new wt(Y,"310","17");case 63:return new wt(Y,"320","17")}}catch(l){throw console.log(l),new kt("unknown decoder: "+Y)}}class It{constructor(l,u,g,x){this.leftchar=l,this.rightchar=u,this.finderpattern=g,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,u){return l instanceof It?It.equalsOrNull(l.leftchar,u.leftchar)&&It.equalsOrNull(l.rightchar,u.rightchar)&&It.equalsOrNull(l.finderpattern,u.finderpattern):!1}static equalsOrNull(l,u){return l===null?u===null:It.equals(l,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ht{constructor(l,u,g){this.pairs=l,this.rowNumber=u,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,u){return l instanceof Ht?this.checkEqualitity(l,u)&&l.wasReversed===u.wasReversed:!1}checkEqualitity(l,u){if(!l||!u)return;let g;return l.forEach((x,w)=>{u.forEach(y=>{x.getLeftChar().getValue()===y.getLeftChar().getValue()&&x.getRightChar().getValue()===y.getRightChar().getValue()&&x.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(g=!0)})}),g}}class it extends At{constructor(l){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,u,g){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(l,u))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(l,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,u){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,l))}catch(w){if(w instanceof xe){if(!this.pairs.length)throw new xe;g=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(l,!1),x){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new xe}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),u}checkRows(l,u){for(let g=u;g<this.rows.length;g++){let x=this.rows[g];this.pairs.length=0;for(let y of l)this.pairs.push(y.getPairs());if(this.pairs.push(x.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(l);w.push(x);try{return this.checkRows(w,g+1)}catch(y){this.verbose&&console.log(y)}}throw new xe}static isValidSequence(l){for(let u of it.FINDER_PATTERN_SEQUENCES){if(l.length>u.length)continue;let g=!0;for(let x=0;x<l.length;x++)if(l[x].getFinderPattern().getValue()!=u[x]){g=!1;break}if(g)return!0}return!1}storeRow(l,u){let g=0,x=!1,w=!1;for(;g<this.rows.length;){let y=this.rows[g];if(y.getRowNumber()>l){w=y.isEquivalent(this.pairs);break}x=y.isEquivalent(this.pairs),g++}w||x||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Ht(this.pairs,l,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,u){for(let g of u)if(g.getPairs().length!==l.length){for(let x of g.getPairs())for(let w of l)if(It.equals(x,w))break}}static isPartialRow(l,u){for(let g of u){let x=!0;for(let w of l){let y=!1;for(let _ of g.getPairs())if(w.equals(_)){y=!0;break}if(!y){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(l){let u=Wn.buildBitArray(l),x=Ct(u).parseInformation(),w=l[0].getFinderPattern().getResultPoints(),y=l[l.length-1].getFinderPattern().getResultPoints(),_=[w[0],w[1],y[0],y[1]];return new ae(x,null,null,_,Ee.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),u=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let x=g.getChecksumPortion(),w=2;for(let _=1;_<this.pairs.size();++_){let N=this.pairs.get(_);x+=N.getLeftChar().getChecksumPortion(),w++;let D=N.getRightChar();D!=null&&(x+=D.getChecksumPortion(),w++)}return x%=211,211*(w-4)+x==u.getValue()}static getNextSecondBar(l,u){let g;return l.get(u)?(g=l.getNextUnset(u),g=l.getNextSet(g)):(g=l.getNextSet(u),g=l.getNextUnset(g)),g}retrieveNextPair(l,u,g){let x=u.length%2==0;this.startFromEven&&(x=!x);let w,y=!0,_=-1;do this.findNextPair(l,u,_),w=this.parseFoundFinderPattern(l,g,x),w==null?_=it.getNextSecondBar(l,this.startEnd[0]):y=!1;while(y);let N=this.decodeDataCharacter(l,w,x,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new xe;let D;try{D=this.decodeDataCharacter(l,w,x,!1)}catch(H){D=null,this.verbose&&console.log(H)}return new It(N,D,w,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,u,g){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let w=l.getSize(),y;g>=0?y=g:this.isEmptyPair(u)?y=0:y=u[u.length-1].getFinderPattern().getStartEnd()[1];let _=u.length%2!=0;this.startFromEven&&(_=!_);let N=!1;for(;y<w&&(N=!l.get(y),!!N);)y++;let D=0,H=y;for(let ee=y;ee<w;ee++)if(l.get(ee)!=N)x[D]++;else{if(D==3){if(_&&it.reverseCounters(x),it.isFinderPattern(x)){this.startEnd[0]=H,this.startEnd[1]=ee;return}_&&it.reverseCounters(x),H+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,D--}else D++;x[D]=1,N=!N}throw new xe}static reverseCounters(l){let u=l.length;for(let g=0;g<u/2;++g){let x=l[g];l[g]=l[u-g-1],l[u-g-1]=x}}parseFoundFinderPattern(l,u,g){let x,w,y;if(g){let D=this.startEnd[0]-1;for(;D>=0&&!l.get(D);)D--;D++,x=this.startEnd[0]-D,w=D,y=this.startEnd[1]}else w=this.startEnd[0],y=l.getNextUnset(this.startEnd[1]+1),x=y-this.startEnd[1];let _=this.getDecodeFinderCounters();k.arraycopy(_,0,_,1,_.length-1),_[0]=x;let N;try{N=this.parseFinderValue(_,it.FINDER_PATTERNS)}catch{return null}return new mt(N,[w,y],w,y,u)}decodeDataCharacter(l,u,g,x){let w=this.getDataCharacterCounters();for(let on=0;on<w.length;on++)w[on]=0;if(x)it.recordPatternInReverse(l,u.getStartEnd()[0],w);else{it.recordPattern(l,u.getStartEnd()[1],w);for(let on=0,bi=w.length-1;on<bi;on++,bi--){let Ts=w[on];w[on]=w[bi],w[bi]=Ts}}let y=17,_=Rt.sum(new Int32Array(w))/y,N=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(_-N)/N>.3)throw new xe;let D=this.getOddCounts(),H=this.getEvenCounts(),ee=this.getOddRoundingErrors(),se=this.getEvenRoundingErrors();for(let on=0;on<w.length;on++){let bi=1*w[on]/_,Ts=bi+.5;if(Ts<1){if(bi<.3)throw new xe;Ts=1}else if(Ts>8){if(bi>8.7)throw new xe;Ts=8}let Ol=on/2;(on&1)==0?(D[Ol]=Ts,ee[Ol]=bi-Ts):(H[Ol]=Ts,se[Ol]=bi-Ts)}this.adjustOddEvenCounts(y);let we=4*u.getValue()+(g?0:2)+(x?0:1)-1,Te=0,Se=0;for(let on=D.length-1;on>=0;on--){if(it.isNotA1left(u,g,x)){let bi=it.WEIGHTS[we][2*on];Se+=D[on]*bi}Te+=D[on]}let Oe=0;for(let on=H.length-1;on>=0;on--)if(it.isNotA1left(u,g,x)){let bi=it.WEIGHTS[we][2*on+1];Oe+=H[on]*bi}let $e=Se+Oe;if((Te&1)!=0||Te>13||Te<4)throw new xe;let _t=(13-Te)/2,Et=it.SYMBOL_WIDEST[_t],pt=9-Et,Ir=Pt.getRSSvalue(D,Et,!0),gr=Pt.getRSSvalue(H,pt,!1),Zn=it.EVEN_TOTAL_SUBSET[_t],Ks=it.GSUM[_t],ji=Ir*Zn+gr+Ks;return new st(ji,$e)}static isNotA1left(l,u,g){return!(l.getValue()==0&&u&&g)}adjustOddEvenCounts(l){let u=Rt.sum(new Int32Array(this.getOddCounts())),g=Rt.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1;u>13?w=!0:u<4&&(x=!0);let y=!1,_=!1;g>13?_=!0:g<4&&(y=!0);let N=u+g-l,D=(u&1)==1,H=(g&1)==0;if(N==1)if(D){if(H)throw new xe;w=!0}else{if(!H)throw new xe;_=!0}else if(N==-1)if(D){if(H)throw new xe;x=!0}else{if(!H)throw new xe;y=!0}else if(N==0){if(D){if(!H)throw new xe;u<g?(x=!0,_=!0):(w=!0,y=!0)}else if(H)throw new xe}else throw new xe;if(x){if(w)throw new xe;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(_)throw new xe;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class jr extends st{constructor(l,u,g){super(l,u),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class er extends At{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,u,g){const x=this.decodePair(u,!1,l,g);er.addOrTally(this.possibleLeftPairs,x),u.reverse();let w=this.decodePair(u,!0,l,g);er.addOrTally(this.possibleRightPairs,w),u.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&er.checkChecksum(y,_))return er.constructResult(y,_)}throw new xe}static addOrTally(l,u){if(u==null)return;let g=!1;for(let x of l)if(x.getValue()===u.getValue()){x.incrementCount(),g=!0;break}g||l.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,u){let g=4537077*l.getValue()+u.getValue(),x=new String(g).toString(),w=new X;for(let D=13-x.length;D>0;D--)w.append("0");w.append(x);let y=0;for(let D=0;D<13;D++){let H=w.charAt(D).charCodeAt(0)-48;y+=(D&1)===0?3*H:H}y=10-y%10,y===10&&(y=0),w.append(y.toString());let _=l.getFinderPattern().getResultPoints(),N=u.getFinderPattern().getResultPoints();return new ae(w.toString(),null,0,[_[0],_[1],N[0],N[1]],Ee.RSS_14,new Date().getTime())}static checkChecksum(l,u){let g=(l.getChecksumPortion()+16*u.getChecksumPortion())%79,x=9*l.getFinderPattern().getValue()+u.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,g===x}decodePair(l,u,g,x){try{let w=this.findFinderPattern(l,u),y=this.parseFoundFinderPattern(l,g,u,w),_=x==null?null:x.get(K.NEED_RESULT_POINT_CALLBACK);if(_!=null){let H=(w[0]+w[1])/2;u&&(H=l.getSize()-1-H),_.foundPossibleResultPoint(new bt(H,g))}let N=this.decodeDataCharacter(l,y,!0),D=this.decodeDataCharacter(l,y,!1);return new jr(1597*N.getValue()+D.getValue(),N.getChecksumPortion()+4*D.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(l,u,g){let x=this.getDataCharacterCounters();for(let Oe=0;Oe<x.length;Oe++)x[Oe]=0;if(g)Gt.recordPatternInReverse(l,u.getStartEnd()[0],x);else{Gt.recordPattern(l,u.getStartEnd()[1]+1,x);for(let Oe=0,$e=x.length-1;Oe<$e;Oe++,$e--){let _t=x[Oe];x[Oe]=x[$e],x[$e]=_t}}let w=g?16:15,y=Rt.sum(new Int32Array(x))/w,_=this.getOddCounts(),N=this.getEvenCounts(),D=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let Oe=0;Oe<x.length;Oe++){let $e=x[Oe]/y,_t=Math.floor($e+.5);_t<1?_t=1:_t>8&&(_t=8);let Et=Math.floor(Oe/2);(Oe&1)===0?(_[Et]=_t,D[Et]=$e-_t):(N[Et]=_t,H[Et]=$e-_t)}this.adjustOddEvenCounts(g,w);let ee=0,se=0;for(let Oe=_.length-1;Oe>=0;Oe--)se*=9,se+=_[Oe],ee+=_[Oe];let we=0,Te=0;for(let Oe=N.length-1;Oe>=0;Oe--)we*=9,we+=N[Oe],Te+=N[Oe];let Se=se+3*we;if(g){if((ee&1)!==0||ee>12||ee<4)throw new xe;let Oe=(12-ee)/2,$e=er.OUTSIDE_ODD_WIDEST[Oe],_t=9-$e,Et=Pt.getRSSvalue(_,$e,!1),pt=Pt.getRSSvalue(N,_t,!0),Ir=er.OUTSIDE_EVEN_TOTAL_SUBSET[Oe],gr=er.OUTSIDE_GSUM[Oe];return new st(Et*Ir+pt+gr,Se)}else{if((Te&1)!==0||Te>10||Te<4)throw new xe;let Oe=(10-Te)/2,$e=er.INSIDE_ODD_WIDEST[Oe],_t=9-$e,Et=Pt.getRSSvalue(_,$e,!0),pt=Pt.getRSSvalue(N,_t,!1),Ir=er.INSIDE_ODD_TOTAL_SUBSET[Oe],gr=er.INSIDE_GSUM[Oe];return new st(pt*Ir+Et+gr,Se)}}findFinderPattern(l,u){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=l.getSize(),w=!1,y=0;for(;y<x&&(w=!l.get(y),u!==w);)y++;let _=0,N=y;for(let D=y;D<x;D++)if(l.get(D)!==w)g[_]++;else{if(_===3){if(At.isFinderPattern(g))return[N,D];N+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,_--}else _++;g[_]=1,w=!w}throw new xe}parseFoundFinderPattern(l,u,g,x){let w=l.get(x[0]),y=x[0]-1;for(;y>=0&&w!==l.get(y);)y--;y++;const _=x[0]-y,N=this.getDecodeFinderCounters(),D=new Int32Array(N.length);k.arraycopy(N,0,D,1,N.length-1),D[0]=_;const H=this.parseFinderValue(D,er.FINDER_PATTERNS);let ee=y,se=x[1];return g&&(ee=l.getSize()-1-ee,se=l.getSize()-1-se),new mt(H,[y,x[1]],ee,se,u)}adjustOddEvenCounts(l,u){let g=Rt.sum(new Int32Array(this.getOddCounts())),x=Rt.sum(new Int32Array(this.getEvenCounts())),w=!1,y=!1,_=!1,N=!1;l?(g>12?y=!0:g<4&&(w=!0),x>12?N=!0:x<4&&(_=!0)):(g>11?y=!0:g<5&&(w=!0),x>10?N=!0:x<4&&(_=!0));let D=g+x-u,H=(g&1)===(l?1:0),ee=(x&1)===1;if(D===1)if(H){if(ee)throw new xe;y=!0}else{if(!ee)throw new xe;N=!0}else if(D===-1)if(H){if(ee)throw new xe;w=!0}else{if(!ee)throw new xe;_=!0}else if(D===0){if(H){if(!ee)throw new xe;g<x?(w=!0,N=!0):(y=!0,_=!0)}else if(ee)throw new xe}else throw new xe;if(w){if(y)throw new xe;At.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&At.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(N)throw new xe;At.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&At.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}er.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],er.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],er.OUTSIDE_GSUM=[0,161,961,2015,2715],er.INSIDE_GSUM=[0,336,1036,1516],er.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],er.INSIDE_ODD_WIDEST=[2,4,6,8],er.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Qn extends Gt{constructor(l,u){super(),this.readers=[],this.verbose=u===!0;const g=l?l.get(K.POSSIBLE_FORMATS):null,x=l&&l.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(Ee.EAN_13)||g.includes(Ee.UPC_A)||g.includes(Ee.EAN_8)||g.includes(Ee.UPC_E))&&this.readers.push(new Ie(l)),g.includes(Ee.CODE_39)&&this.readers.push(new Lt(x)),g.includes(Ee.CODE_128)&&this.readers.push(new Be),g.includes(Ee.ITF)&&this.readers.push(new ke),g.includes(Ee.RSS_14)&&this.readers.push(new er),g.includes(Ee.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new Ie(l)),this.readers.push(new Lt),this.readers.push(new Ie(l)),this.readers.push(new Be),this.readers.push(new ke),this.readers.push(new er),this.readers.push(new it(this.verbose)))}decodeRow(l,u,g){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(l,u,g)}catch{}throw new xe}reset(){this.readers.forEach(l=>l.reset())}}class Xa extends oe{constructor(l=500,u){super(new Qn(u),l,u)}}class Cr{constructor(l,u,g){this.ecCodewords=l,this.ecBlocks=[u],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class hr{constructor(l,u){this.count=l,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mr{constructor(l,u,g,x,w,y){this.versionNumber=l,this.symbolSizeRows=u,this.symbolSizeColumns=g,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=w,this.ecBlocks=y;let _=0;const N=y.getECCodewords(),D=y.getECBlocks();for(let H of D)_+=H.getCount()*(H.getDataCodewords()+N);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,u){if((l&1)!==0||(u&1)!==0)throw new M;for(let g of mr.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===u)return g;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new mr(1,10,10,8,8,new Cr(5,new hr(1,3))),new mr(2,12,12,10,10,new Cr(7,new hr(1,5))),new mr(3,14,14,12,12,new Cr(10,new hr(1,8))),new mr(4,16,16,14,14,new Cr(12,new hr(1,12))),new mr(5,18,18,16,16,new Cr(14,new hr(1,18))),new mr(6,20,20,18,18,new Cr(18,new hr(1,22))),new mr(7,22,22,20,20,new Cr(20,new hr(1,30))),new mr(8,24,24,22,22,new Cr(24,new hr(1,36))),new mr(9,26,26,24,24,new Cr(28,new hr(1,44))),new mr(10,32,32,14,14,new Cr(36,new hr(1,62))),new mr(11,36,36,16,16,new Cr(42,new hr(1,86))),new mr(12,40,40,18,18,new Cr(48,new hr(1,114))),new mr(13,44,44,20,20,new Cr(56,new hr(1,144))),new mr(14,48,48,22,22,new Cr(68,new hr(1,174))),new mr(15,52,52,24,24,new Cr(42,new hr(2,102))),new mr(16,64,64,14,14,new Cr(56,new hr(2,140))),new mr(17,72,72,16,16,new Cr(36,new hr(4,92))),new mr(18,80,80,18,18,new Cr(48,new hr(4,114))),new mr(19,88,88,20,20,new Cr(56,new hr(4,144))),new mr(20,96,96,22,22,new Cr(68,new hr(4,174))),new mr(21,104,104,24,24,new Cr(56,new hr(6,136))),new mr(22,120,120,18,18,new Cr(68,new hr(6,175))),new mr(23,132,132,20,20,new Cr(62,new hr(8,163))),new mr(24,144,144,22,22,new Cr(62,new hr(8,156),new hr(2,155))),new mr(25,8,18,6,16,new Cr(7,new hr(1,5))),new mr(26,8,32,6,14,new Cr(11,new hr(1,10))),new mr(27,12,26,10,24,new Cr(14,new hr(1,16))),new mr(28,12,36,10,16,new Cr(18,new hr(1,22))),new mr(29,16,36,14,16,new Cr(24,new hr(1,32))),new mr(30,16,48,14,22,new Cr(28,new hr(1,49)))]}}mr.VERSIONS=mr.buildVersions();class qn{constructor(l){const u=l.getHeight();if(u<8||u>144||(u&1)!==0)throw new M;this.version=qn.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const u=l.getHeight(),g=l.getWidth();return mr.getVersionForDimensions(u,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let u=0,g=4,x=0;const w=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let _=!1,N=!1,D=!1,H=!1;do if(g===w&&x===0&&!_)l[u++]=this.readCorner1(w,y)&255,g-=2,x+=2,_=!0;else if(g===w-2&&x===0&&(y&3)!==0&&!N)l[u++]=this.readCorner2(w,y)&255,g-=2,x+=2,N=!0;else if(g===w+4&&x===2&&(y&7)===0&&!D)l[u++]=this.readCorner3(w,y)&255,g-=2,x+=2,D=!0;else if(g===w-2&&x===0&&(y&7)===4&&!H)l[u++]=this.readCorner4(w,y)&255,g-=2,x+=2,H=!0;else{do g<w&&x>=0&&!this.readMappingMatrix.get(x,g)&&(l[u++]=this.readUtah(g,x,w,y)&255),g-=2,x+=2;while(g>=0&&x<y);g+=1,x+=3;do g>=0&&x<y&&!this.readMappingMatrix.get(x,g)&&(l[u++]=this.readUtah(g,x,w,y)&255),g+=2,x-=2;while(g<w&&x>=0);g+=3,x+=1}while(g<w||x<y);if(u!==this.version.getTotalCodewords())throw new M;return l}readModule(l,u,g,x){return l<0&&(l+=g,u+=4-(g+4&7)),u<0&&(u+=x,l+=4-(x+4&7)),this.readMappingMatrix.set(u,l),this.mappingBitMatrix.get(u,l)}readUtah(l,u,g,x){let w=0;return this.readModule(l-2,u-2,g,x)&&(w|=1),w<<=1,this.readModule(l-2,u-1,g,x)&&(w|=1),w<<=1,this.readModule(l-1,u-2,g,x)&&(w|=1),w<<=1,this.readModule(l-1,u-1,g,x)&&(w|=1),w<<=1,this.readModule(l-1,u,g,x)&&(w|=1),w<<=1,this.readModule(l,u-2,g,x)&&(w|=1),w<<=1,this.readModule(l,u-1,g,x)&&(w|=1),w<<=1,this.readModule(l,u,g,x)&&(w|=1),w}readCorner1(l,u){let g=0;return this.readModule(l-1,0,l,u)&&(g|=1),g<<=1,this.readModule(l-1,1,l,u)&&(g|=1),g<<=1,this.readModule(l-1,2,l,u)&&(g|=1),g<<=1,this.readModule(0,u-2,l,u)&&(g|=1),g<<=1,this.readModule(0,u-1,l,u)&&(g|=1),g<<=1,this.readModule(1,u-1,l,u)&&(g|=1),g<<=1,this.readModule(2,u-1,l,u)&&(g|=1),g<<=1,this.readModule(3,u-1,l,u)&&(g|=1),g}readCorner2(l,u){let g=0;return this.readModule(l-3,0,l,u)&&(g|=1),g<<=1,this.readModule(l-2,0,l,u)&&(g|=1),g<<=1,this.readModule(l-1,0,l,u)&&(g|=1),g<<=1,this.readModule(0,u-4,l,u)&&(g|=1),g<<=1,this.readModule(0,u-3,l,u)&&(g|=1),g<<=1,this.readModule(0,u-2,l,u)&&(g|=1),g<<=1,this.readModule(0,u-1,l,u)&&(g|=1),g<<=1,this.readModule(1,u-1,l,u)&&(g|=1),g}readCorner3(l,u){let g=0;return this.readModule(l-1,0,l,u)&&(g|=1),g<<=1,this.readModule(l-1,u-1,l,u)&&(g|=1),g<<=1,this.readModule(0,u-3,l,u)&&(g|=1),g<<=1,this.readModule(0,u-2,l,u)&&(g|=1),g<<=1,this.readModule(0,u-1,l,u)&&(g|=1),g<<=1,this.readModule(1,u-3,l,u)&&(g|=1),g<<=1,this.readModule(1,u-2,l,u)&&(g|=1),g<<=1,this.readModule(1,u-1,l,u)&&(g|=1),g}readCorner4(l,u){let g=0;return this.readModule(l-3,0,l,u)&&(g|=1),g<<=1,this.readModule(l-2,0,l,u)&&(g|=1),g<<=1,this.readModule(l-1,0,l,u)&&(g|=1),g<<=1,this.readModule(0,u-2,l,u)&&(g|=1),g<<=1,this.readModule(0,u-1,l,u)&&(g|=1),g<<=1,this.readModule(1,u-1,l,u)&&(g|=1),g<<=1,this.readModule(2,u-1,l,u)&&(g|=1),g<<=1,this.readModule(3,u-1,l,u)&&(g|=1),g}extractDataRegion(l){const u=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==u)throw new C("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),y=u/x|0,_=g/w|0,N=y*x,D=_*w,H=new Re(D,N);for(let ee=0;ee<y;++ee){const se=ee*x;for(let we=0;we<_;++we){const Te=we*w;for(let Se=0;Se<x;++Se){const Oe=ee*(x+2)+1+Se,$e=se+Se;for(let _t=0;_t<w;++_t){const Et=we*(w+2)+1+_t;if(l.get(Et,Oe)){const pt=Te+_t;H.set(pt,$e)}}}}}return H}}class ba{constructor(l,u){this.numDataCodewords=l,this.codewords=u}static getDataBlocks(l,u){const g=u.getECBlocks();let x=0;const w=g.getECBlocks();for(let Se of w)x+=Se.getCount();const y=new Array(x);let _=0;for(let Se of w)for(let Oe=0;Oe<Se.getCount();Oe++){const $e=Se.getDataCodewords(),_t=g.getECCodewords()+$e;y[_++]=new ba($e,new Uint8Array(_t))}const D=y[0].codewords.length-g.getECCodewords(),H=D-1;let ee=0;for(let Se=0;Se<H;Se++)for(let Oe=0;Oe<_;Oe++)y[Oe].codewords[Se]=l[ee++];const se=u.getVersionNumber()===24,we=se?8:_;for(let Se=0;Se<we;Se++)y[Se].codewords[D-1]=l[ee++];const Te=y[0].codewords.length;for(let Se=D;Se<Te;Se++)for(let Oe=0;Oe<_;Oe++){const $e=se?(Oe+8)%_:Oe,_t=se&&$e>7?Se-1:Se;y[$e].codewords[_t]=l[ee++]}if(ee!==l.length)throw new C;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ns{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new C(""+l);let u=0,g=this.bitOffset,x=this.byteOffset;const w=this.bytes;if(g>0){const y=8-g,_=l<y?l:y,N=y-_,D=255>>8-_<<N;u=(w[x]&D)>>N,l-=_,g+=_,g===8&&(g=0,x++)}if(l>0){for(;l>=8;)u=u<<8|w[x]&255,x++,l-=8;if(l>0){const y=8-l,_=255>>y<<y;u=u<<l|(w[x]&_)>>y,g+=l}}return this.bitOffset=g,this.byteOffset=x,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lr;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lr||(Lr={}));class ia{static decode(l){const u=new ns(l),g=new X,x=new X,w=new Array;let y=Lr.ASCII_ENCODE;do if(y===Lr.ASCII_ENCODE)y=this.decodeAsciiSegment(u,g,x);else{switch(y){case Lr.C40_ENCODE:this.decodeC40Segment(u,g);break;case Lr.TEXT_ENCODE:this.decodeTextSegment(u,g);break;case Lr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,g);break;case Lr.EDIFACT_ENCODE:this.decodeEdifactSegment(u,g);break;case Lr.BASE256_ENCODE:this.decodeBase256Segment(u,g,w);break;default:throw new M}y=Lr.ASCII_ENCODE}while(y!==Lr.PAD_ENCODE&&u.available()>0);return x.length()>0&&g.append(x.toString()),new Me(l,g.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(l,u,g){let x=!1;do{let w=l.readBits(8);if(w===0)throw new M;if(w<=128)return x&&(w+=128),u.append(String.fromCharCode(w-1)),Lr.ASCII_ENCODE;if(w===129)return Lr.PAD_ENCODE;if(w<=229){const y=w-130;y<10&&u.append("0"),u.append(""+y)}else switch(w){case 230:return Lr.C40_ENCODE;case 231:return Lr.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:u.append("[)>05"),g.insert(0,"");break;case 237:u.append("[)>06"),g.insert(0,"");break;case 238:return Lr.ANSIX12_ENCODE;case 239:return Lr.TEXT_ENCODE;case 240:return Lr.EDIFACT_ENCODE;case 241:break;default:if(w!==254||l.available()!==0)throw new M;break}}while(l.available()>0);return Lr.ASCII_ENCODE}static decodeC40Segment(l,u){let g=!1;const x=[];let w=0;do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),x);for(let _=0;_<3;_++){const N=x[_];switch(w){case 0:if(N<3)w=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[N];g?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),g=!1):u.append(D)}else throw new M;break;case 1:g?(u.append(String.fromCharCode(N+128)),g=!1):u.append(String.fromCharCode(N)),w=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[N];g?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),g=!1):u.append(D)}else switch(N){case 27:u.append("");break;case 30:g=!0;break;default:throw new M}w=0;break;case 3:g?(u.append(String.fromCharCode(N+224)),g=!1):u.append(String.fromCharCode(N+96)),w=0;break;default:throw new M}}}while(l.available()>0)}static decodeTextSegment(l,u){let g=!1,x=[],w=0;do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),x);for(let _=0;_<3;_++){const N=x[_];switch(w){case 0:if(N<3)w=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[N];g?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),g=!1):u.append(D)}else throw new M;break;case 1:g?(u.append(String.fromCharCode(N+128)),g=!1):u.append(String.fromCharCode(N)),w=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[N];g?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),g=!1):u.append(D)}else switch(N){case 27:u.append("");break;case 30:g=!0;break;default:throw new M}w=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[N];g?(u.append(String.fromCharCode(D.charCodeAt(0)+128)),g=!1):u.append(D),w=0}else throw new M;break;default:throw new M}}}while(l.available()>0)}static decodeAnsiX12Segment(l,u){const g=[];do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),g);for(let w=0;w<3;w++){const y=g[w];switch(y){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(y<14)u.append(String.fromCharCode(y+44));else if(y<40)u.append(String.fromCharCode(y+51));else throw new M;break}}}while(l.available()>0)}static parseTwoBytes(l,u,g){let x=(l<<8)+u-1,w=Math.floor(x/1600);g[0]=w,x-=w*1600,w=Math.floor(x/40),g[1]=w,g[2]=x-w*40}static decodeEdifactSegment(l,u){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let x=l.readBits(6);if(x===31){const w=8-l.getBitOffset();w!==8&&l.readBits(w);return}(x&32)===0&&(x|=64),u.append(String.fromCharCode(x))}}while(l.available()>0)}static decodeBase256Segment(l,u,g){let x=1+l.getByteOffset();const w=this.unrandomize255State(l.readBits(8),x++);let y;if(w===0?y=l.available()/8|0:w<250?y=w:y=250*(w-249)+this.unrandomize255State(l.readBits(8),x++),y<0)throw new M;const _=new Uint8Array(y);for(let N=0;N<y;N++){if(l.available()<8)throw new M;_[N]=this.unrandomize255State(l.readBits(8),x++)}g.push(_);try{u.append(te.decode(_,q.ISO88591))}catch(N){throw new kt("Platform does not support required encoding: "+N.message)}}static unrandomize255State(l,u){const g=149*u%255+1,x=l-g;return x>=0?x:x+256}}ia.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ia.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ia.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ia.TEXT_SHIFT2_SET_CHARS=ia.C40_SHIFT2_SET_CHARS,ia.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class C0{constructor(){this.rsDecoder=new ct(tt.DATA_MATRIX_FIELD_256)}decode(l){const u=new qn(l),g=u.getVersion(),x=u.readCodewords(),w=ba.getDataBlocks(x,g);let y=0;for(let D of w)y+=D.getNumDataCodewords();const _=new Uint8Array(y),N=w.length;for(let D=0;D<N;D++){const H=w[D],ee=H.getCodewords(),se=H.getNumDataCodewords();this.correctErrors(ee,se);for(let we=0;we<se;we++)_[we*N+D]=ee[we]}return ia.decode(_)}correctErrors(l,u){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-u)}catch{throw new S}for(let x=0;x<u;x++)l[x]=g[x]}}class hn{constructor(l){this.image=l,this.rectangleDetector=new Qe(this.image)}detect(){const l=this.rectangleDetector.detect();let u=this.detectSolid1(l);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new xe;u=this.shiftToModuleCenter(u);const g=u[0],x=u[1],w=u[2],y=u[3];let _=this.transitionsBetween(g,y)+1,N=this.transitionsBetween(w,y)+1;(_&1)===1&&(_+=1),(N&1)===1&&(N+=1),4*_<7*N&&4*N<7*_&&(_=N=Math.max(_,N));let D=hn.sampleGrid(this.image,g,x,w,y,_,N);return new nn(D,[g,x,w,y])}static shiftPoint(l,u,g){let x=(u.getX()-l.getX())/(g+1),w=(u.getY()-l.getY())/(g+1);return new bt(l.getX()+x,l.getY()+w)}static moveAway(l,u,g){let x=l.getX(),w=l.getY();return x<u?x-=1:x+=1,w<g?w-=1:w+=1,new bt(x,w)}detectSolid1(l){let u=l[0],g=l[1],x=l[3],w=l[2],y=this.transitionsBetween(u,g),_=this.transitionsBetween(g,x),N=this.transitionsBetween(x,w),D=this.transitionsBetween(w,u),H=y,ee=[w,u,g,x];return H>_&&(H=_,ee[0]=u,ee[1]=g,ee[2]=x,ee[3]=w),H>N&&(H=N,ee[0]=g,ee[1]=x,ee[2]=w,ee[3]=u),H>D&&(ee[0]=x,ee[1]=w,ee[2]=u,ee[3]=g),ee}detectSolid2(l){let u=l[0],g=l[1],x=l[2],w=l[3],y=this.transitionsBetween(u,w),_=hn.shiftPoint(g,x,(y+1)*4),N=hn.shiftPoint(x,g,(y+1)*4),D=this.transitionsBetween(_,u),H=this.transitionsBetween(N,w);return D<H?(l[0]=u,l[1]=g,l[2]=x,l[3]=w):(l[0]=g,l[1]=x,l[2]=w,l[3]=u),l}correctTopRight(l){let u=l[0],g=l[1],x=l[2],w=l[3],y=this.transitionsBetween(u,w),_=this.transitionsBetween(g,w),N=hn.shiftPoint(u,g,(_+1)*4),D=hn.shiftPoint(x,g,(y+1)*4);y=this.transitionsBetween(N,w),_=this.transitionsBetween(D,w);let H=new bt(w.getX()+(x.getX()-g.getX())/(y+1),w.getY()+(x.getY()-g.getY())/(y+1)),ee=new bt(w.getX()+(u.getX()-g.getX())/(_+1),w.getY()+(u.getY()-g.getY())/(_+1));if(!this.isValid(H))return this.isValid(ee)?ee:null;if(!this.isValid(ee))return H;let se=this.transitionsBetween(N,H)+this.transitionsBetween(D,H),we=this.transitionsBetween(N,ee)+this.transitionsBetween(D,ee);return se>we?H:ee}shiftToModuleCenter(l){let u=l[0],g=l[1],x=l[2],w=l[3],y=this.transitionsBetween(u,w)+1,_=this.transitionsBetween(x,w)+1,N=hn.shiftPoint(u,g,_*4),D=hn.shiftPoint(x,g,y*4);y=this.transitionsBetween(N,w)+1,_=this.transitionsBetween(D,w)+1,(y&1)===1&&(y+=1),(_&1)===1&&(_+=1);let H=(u.getX()+g.getX()+x.getX()+w.getX())/4,ee=(u.getY()+g.getY()+x.getY()+w.getY())/4;u=hn.moveAway(u,H,ee),g=hn.moveAway(g,H,ee),x=hn.moveAway(x,H,ee),w=hn.moveAway(w,H,ee);let se,we;return N=hn.shiftPoint(u,g,_*4),N=hn.shiftPoint(N,w,y*4),se=hn.shiftPoint(g,u,_*4),se=hn.shiftPoint(se,x,y*4),D=hn.shiftPoint(x,w,_*4),D=hn.shiftPoint(D,g,y*4),we=hn.shiftPoint(w,x,_*4),we=hn.shiftPoint(we,u,y*4),[N,se,D,we]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,u,g,x,w,y,_){return Zt.getInstance().sampleGrid(l,y,_,.5,.5,y-.5,.5,y-.5,_-.5,.5,_-.5,u.getX(),u.getY(),w.getX(),w.getY(),x.getX(),x.getY(),g.getX(),g.getY())}transitionsBetween(l,u){let g=Math.trunc(l.getX()),x=Math.trunc(l.getY()),w=Math.trunc(u.getX()),y=Math.trunc(u.getY()),_=Math.abs(y-x)>Math.abs(w-g);if(_){let Se=g;g=x,x=Se,Se=w,w=y,y=Se}let N=Math.abs(w-g),D=Math.abs(y-x),H=-N/2,ee=x<y?1:-1,se=g<w?1:-1,we=0,Te=this.image.get(_?x:g,_?g:x);for(let Se=g,Oe=x;Se!==w;Se+=se){let $e=this.image.get(_?Oe:Se,_?Se:Oe);if($e!==Te&&(we++,Te=$e),H+=D,H>0){if(Oe===y)break;Oe+=ee,H-=N}}return we}}class Ms{constructor(){this.decoder=new C0}decode(l,u=null){let g,x;if(u!=null&&u.has(K.PURE_BARCODE)){const D=Ms.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(D),x=Ms.NO_POINTS}else{const D=new hn(l.getBlackMatrix()).detect();g=this.decoder.decode(D.getBits()),x=D.getPoints()}const w=g.getRawBytes(),y=new ae(g.getText(),w,8*w.length,x,Ee.DATA_MATRIX,k.currentTimeMillis()),_=g.getByteSegments();_!=null&&y.putMetadata(Ne.BYTE_SEGMENTS,_);const N=g.getECLevel();return N!=null&&y.putMetadata(Ne.ERROR_CORRECTION_LEVEL,N),y}reset(){}static extractPureBits(l){const u=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(u==null||g==null)throw new xe;const x=this.moduleSize(u,l);let w=u[1];const y=g[1];let _=u[0];const D=(g[0]-_+1)/x,H=(y-w+1)/x;if(D<=0||H<=0)throw new xe;const ee=x/2;w+=ee,_+=ee;const se=new Re(D,H);for(let we=0;we<H;we++){const Te=w+we*x;for(let Se=0;Se<D;Se++)l.get(_+Se*x,Te)&&se.set(Se,we)}return se}static moduleSize(l,u){const g=u.getWidth();let x=l[0];const w=l[1];for(;x<g&&u.get(x,w);)x++;if(x===g)throw new xe;const y=x-l[0];if(y===0)throw new xe;return y}}Ms.NO_POINTS=[];class Dl extends oe{constructor(l=500){super(new Ms,l)}}var is;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(is||(is={}));class or{constructor(l,u,g){this.value=l,this.stringValue=u,this.bits=g,or.FOR_BITS.set(g,this),or.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return or.L;case"M":return or.M;case"Q":return or.Q;case"H":return or.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof or))return!1;const u=l;return this.value===u.value}static forBits(l){if(l<0||l>=or.FOR_BITS.size)throw new C;return or.FOR_BITS.get(l)}}or.FOR_BITS=new Map,or.FOR_VALUE=new Map,or.L=new or(is.L,"L",1),or.M=new or(is.M,"M",0),or.Q=new or(is.Q,"Q",3),or.H=new or(is.H,"H",2);class Fn{constructor(l){this.errorCorrectionLevel=or.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,u){return Q.bitCount(l^u)}static decodeFormatInformation(l,u){const g=Fn.doDecodeFormatInformation(l,u);return g!==null?g:Fn.doDecodeFormatInformation(l^Fn.FORMAT_INFO_MASK_QR,u^Fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,u){let g=Number.MAX_SAFE_INTEGER,x=0;for(const w of Fn.FORMAT_INFO_DECODE_LOOKUP){const y=w[0];if(y===l||y===u)return new Fn(w[1]);let _=Fn.numBitsDiffering(l,y);_<g&&(x=w[1],g=_),l!==u&&(_=Fn.numBitsDiffering(u,y),_<g&&(x=w[1],g=_))}return g<=3?new Fn(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Fn))return!1;const u=l;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Fn.FORMAT_INFO_MASK_QR=21522,Fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class He{constructor(l,...u){this.ecCodewordsPerBlock=l,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const u=this.ecBlocks;for(const g of u)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class pe{constructor(l,u){this.count=l,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class St{constructor(l,u,...g){this.versionNumber=l,this.alignmentPatternCenters=u,this.ecBlocks=g;let x=0;const w=g[0].getECCodewordsPerBlock(),y=g[0].getECBlocks();for(const _ of y)x+=_.getCount()*(_.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new M;try{return this.getVersionForNumber((l-17)/4)}catch{throw new M}}static getVersionForNumber(l){if(l<1||l>40)throw new C;return St.VERSIONS[l-1]}static decodeVersionInformation(l){let u=Number.MAX_SAFE_INTEGER,g=0;for(let x=0;x<St.VERSION_DECODE_INFO.length;x++){const w=St.VERSION_DECODE_INFO[x];if(w===l)return St.getVersionForNumber(x+7);const y=Fn.numBitsDiffering(l,w);y<u&&(g=x+7,u=y)}return u<=3?St.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),u=new Re(l);u.setRegion(0,0,9,9),u.setRegion(l-8,0,8,9),u.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let x=0;x<g;x++){const w=this.alignmentPatternCenters[x]-2;for(let y=0;y<g;y++)x===0&&(y===0||y===g-1)||x===g-1&&y===0||u.setRegion(this.alignmentPatternCenters[y]-2,w,5,5)}return u.setRegion(6,9,1,l-17),u.setRegion(9,6,l-17,1),this.versionNumber>6&&(u.setRegion(l-11,0,3,6),u.setRegion(0,l-11,6,3)),u}toString(){return""+this.versionNumber}}St.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),St.VERSIONS=[new St(1,new Int32Array(0),new He(7,new pe(1,19)),new He(10,new pe(1,16)),new He(13,new pe(1,13)),new He(17,new pe(1,9))),new St(2,Int32Array.from([6,18]),new He(10,new pe(1,34)),new He(16,new pe(1,28)),new He(22,new pe(1,22)),new He(28,new pe(1,16))),new St(3,Int32Array.from([6,22]),new He(15,new pe(1,55)),new He(26,new pe(1,44)),new He(18,new pe(2,17)),new He(22,new pe(2,13))),new St(4,Int32Array.from([6,26]),new He(20,new pe(1,80)),new He(18,new pe(2,32)),new He(26,new pe(2,24)),new He(16,new pe(4,9))),new St(5,Int32Array.from([6,30]),new He(26,new pe(1,108)),new He(24,new pe(2,43)),new He(18,new pe(2,15),new pe(2,16)),new He(22,new pe(2,11),new pe(2,12))),new St(6,Int32Array.from([6,34]),new He(18,new pe(2,68)),new He(16,new pe(4,27)),new He(24,new pe(4,19)),new He(28,new pe(4,15))),new St(7,Int32Array.from([6,22,38]),new He(20,new pe(2,78)),new He(18,new pe(4,31)),new He(18,new pe(2,14),new pe(4,15)),new He(26,new pe(4,13),new pe(1,14))),new St(8,Int32Array.from([6,24,42]),new He(24,new pe(2,97)),new He(22,new pe(2,38),new pe(2,39)),new He(22,new pe(4,18),new pe(2,19)),new He(26,new pe(4,14),new pe(2,15))),new St(9,Int32Array.from([6,26,46]),new He(30,new pe(2,116)),new He(22,new pe(3,36),new pe(2,37)),new He(20,new pe(4,16),new pe(4,17)),new He(24,new pe(4,12),new pe(4,13))),new St(10,Int32Array.from([6,28,50]),new He(18,new pe(2,68),new pe(2,69)),new He(26,new pe(4,43),new pe(1,44)),new He(24,new pe(6,19),new pe(2,20)),new He(28,new pe(6,15),new pe(2,16))),new St(11,Int32Array.from([6,30,54]),new He(20,new pe(4,81)),new He(30,new pe(1,50),new pe(4,51)),new He(28,new pe(4,22),new pe(4,23)),new He(24,new pe(3,12),new pe(8,13))),new St(12,Int32Array.from([6,32,58]),new He(24,new pe(2,92),new pe(2,93)),new He(22,new pe(6,36),new pe(2,37)),new He(26,new pe(4,20),new pe(6,21)),new He(28,new pe(7,14),new pe(4,15))),new St(13,Int32Array.from([6,34,62]),new He(26,new pe(4,107)),new He(22,new pe(8,37),new pe(1,38)),new He(24,new pe(8,20),new pe(4,21)),new He(22,new pe(12,11),new pe(4,12))),new St(14,Int32Array.from([6,26,46,66]),new He(30,new pe(3,115),new pe(1,116)),new He(24,new pe(4,40),new pe(5,41)),new He(20,new pe(11,16),new pe(5,17)),new He(24,new pe(11,12),new pe(5,13))),new St(15,Int32Array.from([6,26,48,70]),new He(22,new pe(5,87),new pe(1,88)),new He(24,new pe(5,41),new pe(5,42)),new He(30,new pe(5,24),new pe(7,25)),new He(24,new pe(11,12),new pe(7,13))),new St(16,Int32Array.from([6,26,50,74]),new He(24,new pe(5,98),new pe(1,99)),new He(28,new pe(7,45),new pe(3,46)),new He(24,new pe(15,19),new pe(2,20)),new He(30,new pe(3,15),new pe(13,16))),new St(17,Int32Array.from([6,30,54,78]),new He(28,new pe(1,107),new pe(5,108)),new He(28,new pe(10,46),new pe(1,47)),new He(28,new pe(1,22),new pe(15,23)),new He(28,new pe(2,14),new pe(17,15))),new St(18,Int32Array.from([6,30,56,82]),new He(30,new pe(5,120),new pe(1,121)),new He(26,new pe(9,43),new pe(4,44)),new He(28,new pe(17,22),new pe(1,23)),new He(28,new pe(2,14),new pe(19,15))),new St(19,Int32Array.from([6,30,58,86]),new He(28,new pe(3,113),new pe(4,114)),new He(26,new pe(3,44),new pe(11,45)),new He(26,new pe(17,21),new pe(4,22)),new He(26,new pe(9,13),new pe(16,14))),new St(20,Int32Array.from([6,34,62,90]),new He(28,new pe(3,107),new pe(5,108)),new He(26,new pe(3,41),new pe(13,42)),new He(30,new pe(15,24),new pe(5,25)),new He(28,new pe(15,15),new pe(10,16))),new St(21,Int32Array.from([6,28,50,72,94]),new He(28,new pe(4,116),new pe(4,117)),new He(26,new pe(17,42)),new He(28,new pe(17,22),new pe(6,23)),new He(30,new pe(19,16),new pe(6,17))),new St(22,Int32Array.from([6,26,50,74,98]),new He(28,new pe(2,111),new pe(7,112)),new He(28,new pe(17,46)),new He(30,new pe(7,24),new pe(16,25)),new He(24,new pe(34,13))),new St(23,Int32Array.from([6,30,54,78,102]),new He(30,new pe(4,121),new pe(5,122)),new He(28,new pe(4,47),new pe(14,48)),new He(30,new pe(11,24),new pe(14,25)),new He(30,new pe(16,15),new pe(14,16))),new St(24,Int32Array.from([6,28,54,80,106]),new He(30,new pe(6,117),new pe(4,118)),new He(28,new pe(6,45),new pe(14,46)),new He(30,new pe(11,24),new pe(16,25)),new He(30,new pe(30,16),new pe(2,17))),new St(25,Int32Array.from([6,32,58,84,110]),new He(26,new pe(8,106),new pe(4,107)),new He(28,new pe(8,47),new pe(13,48)),new He(30,new pe(7,24),new pe(22,25)),new He(30,new pe(22,15),new pe(13,16))),new St(26,Int32Array.from([6,30,58,86,114]),new He(28,new pe(10,114),new pe(2,115)),new He(28,new pe(19,46),new pe(4,47)),new He(28,new pe(28,22),new pe(6,23)),new He(30,new pe(33,16),new pe(4,17))),new St(27,Int32Array.from([6,34,62,90,118]),new He(30,new pe(8,122),new pe(4,123)),new He(28,new pe(22,45),new pe(3,46)),new He(30,new pe(8,23),new pe(26,24)),new He(30,new pe(12,15),new pe(28,16))),new St(28,Int32Array.from([6,26,50,74,98,122]),new He(30,new pe(3,117),new pe(10,118)),new He(28,new pe(3,45),new pe(23,46)),new He(30,new pe(4,24),new pe(31,25)),new He(30,new pe(11,15),new pe(31,16))),new St(29,Int32Array.from([6,30,54,78,102,126]),new He(30,new pe(7,116),new pe(7,117)),new He(28,new pe(21,45),new pe(7,46)),new He(30,new pe(1,23),new pe(37,24)),new He(30,new pe(19,15),new pe(26,16))),new St(30,Int32Array.from([6,26,52,78,104,130]),new He(30,new pe(5,115),new pe(10,116)),new He(28,new pe(19,47),new pe(10,48)),new He(30,new pe(15,24),new pe(25,25)),new He(30,new pe(23,15),new pe(25,16))),new St(31,Int32Array.from([6,30,56,82,108,134]),new He(30,new pe(13,115),new pe(3,116)),new He(28,new pe(2,46),new pe(29,47)),new He(30,new pe(42,24),new pe(1,25)),new He(30,new pe(23,15),new pe(28,16))),new St(32,Int32Array.from([6,34,60,86,112,138]),new He(30,new pe(17,115)),new He(28,new pe(10,46),new pe(23,47)),new He(30,new pe(10,24),new pe(35,25)),new He(30,new pe(19,15),new pe(35,16))),new St(33,Int32Array.from([6,30,58,86,114,142]),new He(30,new pe(17,115),new pe(1,116)),new He(28,new pe(14,46),new pe(21,47)),new He(30,new pe(29,24),new pe(19,25)),new He(30,new pe(11,15),new pe(46,16))),new St(34,Int32Array.from([6,34,62,90,118,146]),new He(30,new pe(13,115),new pe(6,116)),new He(28,new pe(14,46),new pe(23,47)),new He(30,new pe(44,24),new pe(7,25)),new He(30,new pe(59,16),new pe(1,17))),new St(35,Int32Array.from([6,30,54,78,102,126,150]),new He(30,new pe(12,121),new pe(7,122)),new He(28,new pe(12,47),new pe(26,48)),new He(30,new pe(39,24),new pe(14,25)),new He(30,new pe(22,15),new pe(41,16))),new St(36,Int32Array.from([6,24,50,76,102,128,154]),new He(30,new pe(6,121),new pe(14,122)),new He(28,new pe(6,47),new pe(34,48)),new He(30,new pe(46,24),new pe(10,25)),new He(30,new pe(2,15),new pe(64,16))),new St(37,Int32Array.from([6,28,54,80,106,132,158]),new He(30,new pe(17,122),new pe(4,123)),new He(28,new pe(29,46),new pe(14,47)),new He(30,new pe(49,24),new pe(10,25)),new He(30,new pe(24,15),new pe(46,16))),new St(38,Int32Array.from([6,32,58,84,110,136,162]),new He(30,new pe(4,122),new pe(18,123)),new He(28,new pe(13,46),new pe(32,47)),new He(30,new pe(48,24),new pe(14,25)),new He(30,new pe(42,15),new pe(32,16))),new St(39,Int32Array.from([6,26,54,82,110,138,166]),new He(30,new pe(20,117),new pe(4,118)),new He(28,new pe(40,47),new pe(7,48)),new He(30,new pe(43,24),new pe(22,25)),new He(30,new pe(10,15),new pe(67,16))),new St(40,Int32Array.from([6,30,58,86,114,142,170]),new He(30,new pe(19,118),new pe(6,119)),new He(28,new pe(18,47),new pe(31,48)),new He(30,new pe(34,24),new pe(34,25)),new He(30,new pe(20,15),new pe(61,16)))];var Tn;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(Tn||(Tn={}));class ii{constructor(l,u){this.value=l,this.isMasked=u}unmaskBitMatrix(l,u){for(let g=0;g<u;g++)for(let x=0;x<u;x++)this.isMasked(g,x)&&l.flip(x,g)}}ii.values=new Map([[Tn.DATA_MASK_000,new ii(Tn.DATA_MASK_000,(Y,l)=>(Y+l&1)===0)],[Tn.DATA_MASK_001,new ii(Tn.DATA_MASK_001,(Y,l)=>(Y&1)===0)],[Tn.DATA_MASK_010,new ii(Tn.DATA_MASK_010,(Y,l)=>l%3===0)],[Tn.DATA_MASK_011,new ii(Tn.DATA_MASK_011,(Y,l)=>(Y+l)%3===0)],[Tn.DATA_MASK_100,new ii(Tn.DATA_MASK_100,(Y,l)=>(Math.floor(Y/2)+Math.floor(l/3)&1)===0)],[Tn.DATA_MASK_101,new ii(Tn.DATA_MASK_101,(Y,l)=>Y*l%6===0)],[Tn.DATA_MASK_110,new ii(Tn.DATA_MASK_110,(Y,l)=>Y*l%6<3)],[Tn.DATA_MASK_111,new ii(Tn.DATA_MASK_111,(Y,l)=>(Y+l+Y*l%3&1)===0)]]);class Os{constructor(l){const u=l.getHeight();if(u<21||(u&3)!==1)throw new M;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let w=0;w<6;w++)l=this.copyBit(w,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let w=5;w>=0;w--)l=this.copyBit(8,w,l);const u=this.bitMatrix.getHeight();let g=0;const x=u-7;for(let w=u-1;w>=x;w--)g=this.copyBit(8,w,g);for(let w=u-8;w<u;w++)g=this.copyBit(w,8,g);if(this.parsedFormatInfo=Fn.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),u=Math.floor((l-17)/4);if(u<=6)return St.getVersionForNumber(u);let g=0;const x=l-11;for(let y=5;y>=0;y--)for(let _=l-9;_>=x;_--)g=this.copyBit(_,y,g);let w=St.decodeVersionInformation(g);if(w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;g=0;for(let y=5;y>=0;y--)for(let _=l-9;_>=x;_--)g=this.copyBit(y,_,g);if(w=St.decodeVersionInformation(g),w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;throw new M}copyBit(l,u,g){return(this.isMirror?this.bitMatrix.get(u,l):this.bitMatrix.get(l,u))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),u=this.readVersion(),g=ii.values.get(l.getDataMask()),x=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,x);const w=u.buildFunctionPattern();let y=!0;const _=new Uint8Array(u.getTotalCodewords());let N=0,D=0,H=0;for(let ee=x-1;ee>0;ee-=2){ee===6&&ee--;for(let se=0;se<x;se++){const we=y?x-1-se:se;for(let Te=0;Te<2;Te++)w.get(ee-Te,we)||(H++,D<<=1,this.bitMatrix.get(ee-Te,we)&&(D|=1),H===8&&(_[N++]=D,H=0,D=0))}y=!y}if(N!==u.getTotalCodewords())throw new M;return _}remask(){if(this.parsedFormatInfo===null)return;const l=ii.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let u=0,g=l.getWidth();u<g;u++)for(let x=u+1,w=l.getHeight();x<w;x++)l.get(u,x)!==l.get(x,u)&&(l.flip(x,u),l.flip(u,x))}}class PA{constructor(l,u){this.numDataCodewords=l,this.codewords=u}static getDataBlocks(l,u,g){if(l.length!==u.getTotalCodewords())throw new C;const x=u.getECBlocksForLevel(g);let w=0;const y=x.getECBlocks();for(const Te of y)w+=Te.getCount();const _=new Array(w);let N=0;for(const Te of y)for(let Se=0;Se<Te.getCount();Se++){const Oe=Te.getDataCodewords(),$e=x.getECCodewordsPerBlock()+Oe;_[N++]=new PA(Oe,new Uint8Array($e))}const D=_[0].codewords.length;let H=_.length-1;for(;H>=0&&_[H].codewords.length!==D;)H--;H++;const ee=D-x.getECCodewordsPerBlock();let se=0;for(let Te=0;Te<ee;Te++)for(let Se=0;Se<N;Se++)_[Se].codewords[Te]=l[se++];for(let Te=H;Te<N;Te++)_[Te].codewords[ee]=l[se++];const we=_[0].codewords.length;for(let Te=ee;Te<we;Te++)for(let Se=0;Se<N;Se++){const Oe=Se<H?Te:Te+1;_[Se].codewords[Oe]=l[se++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fi;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(Fi||(Fi={}));class Jt{constructor(l,u,g,x){this.value=l,this.stringValue=u,this.characterCountBitsForVersions=g,this.bits=x,Jt.FOR_BITS.set(x,this),Jt.FOR_VALUE.set(l,this)}static forBits(l){const u=Jt.FOR_BITS.get(l);if(u===void 0)throw new C;return u}getCharacterCountBits(l){const u=l.getVersionNumber();let g;return u<=9?g=0:u<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Jt))return!1;const u=l;return this.value===u.value}toString(){return this.stringValue}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.TERMINATOR=new Jt(Fi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Jt.NUMERIC=new Jt(Fi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Jt.ALPHANUMERIC=new Jt(Fi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Jt.STRUCTURED_APPEND=new Jt(Fi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Jt.BYTE=new Jt(Fi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Jt.ECI=new Jt(Fi.ECI,"ECI",Int32Array.from([0,0,0]),7),Jt.KANJI=new Jt(Fi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Jt.FNC1_FIRST_POSITION=new Jt(Fi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Jt.FNC1_SECOND_POSITION=new Jt(Fi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Jt.HANZI=new Jt(Fi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class An{static decode(l,u,g,x){const w=new ns(l);let y=new X;const _=new Array;let N=-1,D=-1;try{let H=null,ee=!1,se;do{if(w.available()<4)se=Jt.TERMINATOR;else{const we=w.readBits(4);se=Jt.forBits(we)}switch(se){case Jt.TERMINATOR:break;case Jt.FNC1_FIRST_POSITION:case Jt.FNC1_SECOND_POSITION:ee=!0;break;case Jt.STRUCTURED_APPEND:if(w.available()<16)throw new M;N=w.readBits(8),D=w.readBits(8);break;case Jt.ECI:const we=An.parseECIValue(w);if(H=O.getCharacterSetECIByValue(we),H===null)throw new M;break;case Jt.HANZI:const Te=w.readBits(4),Se=w.readBits(se.getCharacterCountBits(u));Te===An.GB2312_SUBSET&&An.decodeHanziSegment(w,y,Se);break;default:const Oe=w.readBits(se.getCharacterCountBits(u));switch(se){case Jt.NUMERIC:An.decodeNumericSegment(w,y,Oe);break;case Jt.ALPHANUMERIC:An.decodeAlphanumericSegment(w,y,Oe,ee);break;case Jt.BYTE:An.decodeByteSegment(w,y,Oe,H,_,x);break;case Jt.KANJI:An.decodeKanjiSegment(w,y,Oe);break;default:throw new M}break}}while(se!==Jt.TERMINATOR)}catch{throw new M}return new Me(l,y.toString(),_.length===0?null:_,g===null?null:g.toString(),N,D)}static decodeHanziSegment(l,u,g){if(g*13>l.available())throw new M;const x=new Uint8Array(2*g);let w=0;for(;g>0;){const y=l.readBits(13);let _=y/96<<8&4294967295|y%96;_<959?_+=41377:_+=42657,x[w]=_>>8&255,x[w+1]=_&255,w+=2,g--}try{u.append(te.decode(x,q.GB2312))}catch(y){throw new M(y)}}static decodeKanjiSegment(l,u,g){if(g*13>l.available())throw new M;const x=new Uint8Array(2*g);let w=0;for(;g>0;){const y=l.readBits(13);let _=y/192<<8&4294967295|y%192;_<7936?_+=33088:_+=49472,x[w]=_>>8,x[w+1]=_,w+=2,g--}try{u.append(te.decode(x,q.SHIFT_JIS))}catch(y){throw new M(y)}}static decodeByteSegment(l,u,g,x,w,y){if(8*g>l.available())throw new M;const _=new Uint8Array(g);for(let D=0;D<g;D++)_[D]=l.readBits(8);let N;x===null?N=q.guessEncoding(_,y):N=x.getName();try{u.append(te.decode(_,N))}catch(D){throw new M(D)}w.push(_)}static toAlphaNumericChar(l){if(l>=An.ALPHANUMERIC_CHARS.length)throw new M;return An.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,u,g,x){const w=u.length();for(;g>1;){if(l.available()<11)throw new M;const y=l.readBits(11);u.append(An.toAlphaNumericChar(Math.floor(y/45))),u.append(An.toAlphaNumericChar(y%45)),g-=2}if(g===1){if(l.available()<6)throw new M;u.append(An.toAlphaNumericChar(l.readBits(6)))}if(x)for(let y=w;y<u.length();y++)u.charAt(y)==="%"&&(y<u.length()-1&&u.charAt(y+1)==="%"?u.deleteCharAt(y+1):u.setCharAt(y,""))}static decodeNumericSegment(l,u,g){for(;g>=3;){if(l.available()<10)throw new M;const x=l.readBits(10);if(x>=1e3)throw new M;u.append(An.toAlphaNumericChar(Math.floor(x/100))),u.append(An.toAlphaNumericChar(Math.floor(x/10)%10)),u.append(An.toAlphaNumericChar(x%10)),g-=3}if(g===2){if(l.available()<7)throw new M;const x=l.readBits(7);if(x>=100)throw new M;u.append(An.toAlphaNumericChar(Math.floor(x/10))),u.append(An.toAlphaNumericChar(x%10))}else if(g===1){if(l.available()<4)throw new M;const x=l.readBits(4);if(x>=10)throw new M;u.append(An.toAlphaNumericChar(x))}}static parseECIValue(l){const u=l.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const g=l.readBits(8);return(u&63)<<8&4294967295|g}if((u&224)===192){const g=l.readBits(16);return(u&31)<<16&4294967295|g}throw new M}}An.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",An.GB2312_SUBSET=1;class Gc{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const u=l[0];l[0]=l[2],l[2]=u}}class E0{constructor(){this.rsDecoder=new ct(tt.QR_CODE_FIELD_256)}decodeBooleanArray(l,u){return this.decodeBitMatrix(Re.parseFromBooleanArray(l),u)}decodeBitMatrix(l,u){const g=new Os(l);let x=null;try{return this.decodeBitMatrixParser(g,u)}catch(w){x=w}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const w=this.decodeBitMatrixParser(g,u);return w.setOther(new Gc(!0)),w}catch(w){throw x!==null?x:w}}decodeBitMatrixParser(l,u){const g=l.readVersion(),x=l.readFormatInformation().getErrorCorrectionLevel(),w=l.readCodewords(),y=PA.getDataBlocks(w,g,x);let _=0;for(const H of y)_+=H.getNumDataCodewords();const N=new Uint8Array(_);let D=0;for(const H of y){const ee=H.getCodewords(),se=H.getNumDataCodewords();this.correctErrors(ee,se);for(let we=0;we<se;we++)N[D++]=ee[we]}return An.decode(N,g,x,u)}correctErrors(l,u){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-u)}catch{throw new S}for(let x=0;x<u;x++)l[x]=g[x]}}class Ls extends bt{constructor(l,u,g){super(l,u),this.estimatedModuleSize=g}aboutEquals(l,u,g){if(Math.abs(u-this.getY())<=l&&Math.abs(g-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,u,g){const x=(this.getX()+u)/2,w=(this.getY()+l)/2,y=(this.estimatedModuleSize+g)/2;return new Ls(x,w,y)}}class Hn{constructor(l,u,g,x,w,y,_){this.image=l,this.startX=u,this.startY=g,this.width=x,this.height=w,this.moduleSize=y,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,u=this.height,g=this.width,x=l+g,w=this.startY+u/2,y=new Int32Array(3),_=this.image;for(let N=0;N<u;N++){const D=w+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));y[0]=0,y[1]=0,y[2]=0;let H=l;for(;H<x&&!_.get(H,D);)H++;let ee=0;for(;H<x;){if(_.get(H,D))if(ee===1)y[1]++;else if(ee===2){if(this.foundPatternCross(y)){const se=this.handlePossibleCenter(y,D,H);if(se!==null)return se}y[0]=y[2],y[1]=1,y[2]=0,ee=1}else y[++ee]++;else ee===1&&ee++,y[ee]++;H++}if(this.foundPatternCross(y)){const se=this.handlePossibleCenter(y,D,x);if(se!==null)return se}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe}static centerFromEnd(l,u){return u-l[2]-l[1]/2}foundPatternCross(l){const u=this.moduleSize,g=u/2;for(let x=0;x<3;x++)if(Math.abs(u-l[x])>=g)return!1;return!0}crossCheckVertical(l,u,g,x){const w=this.image,y=w.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let N=l;for(;N>=0&&w.get(u,N)&&_[1]<=g;)_[1]++,N--;if(N<0||_[1]>g)return NaN;for(;N>=0&&!w.get(u,N)&&_[0]<=g;)_[0]++,N--;if(_[0]>g)return NaN;for(N=l+1;N<y&&w.get(u,N)&&_[1]<=g;)_[1]++,N++;if(N===y||_[1]>g)return NaN;for(;N<y&&!w.get(u,N)&&_[2]<=g;)_[2]++,N++;if(_[2]>g)return NaN;const D=_[0]+_[1]+_[2];return 5*Math.abs(D-x)>=2*x?NaN:this.foundPatternCross(_)?Hn.centerFromEnd(_,N):NaN}handlePossibleCenter(l,u,g){const x=l[0]+l[1]+l[2],w=Hn.centerFromEnd(l,g),y=this.crossCheckVertical(u,w,2*l[1],x);if(!isNaN(y)){const _=(l[0]+l[1]+l[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(_,y,w))return D.combineEstimate(y,w,_);const N=new Ls(w,y,_);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class xo extends bt{constructor(l,u,g,x){super(l,u),this.estimatedModuleSize=g,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,u,g){if(Math.abs(u-this.getY())<=l&&Math.abs(g-this.getX())<=l){const x=Math.abs(l-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(l,u,g){const x=this.count+1,w=(this.count*this.getX()+u)/x,y=(this.count*this.getY()+l)/x,_=(this.count*this.estimatedModuleSize+g)/x;return new xo(w,y,_,x)}}class Ul{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gn{constructor(l,u){this.image=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const u=l!=null&&l.get(K.TRY_HARDER)!==void 0,g=l!=null&&l.get(K.PURE_BARCODE)!==void 0,x=this.image,w=x.getHeight(),y=x.getWidth();let _=Math.floor(3*w/(4*gn.MAX_MODULES));(_<gn.MIN_SKIP||u)&&(_=gn.MIN_SKIP);let N=!1;const D=new Int32Array(5);for(let ee=_-1;ee<w&&!N;ee+=_){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let se=0;for(let we=0;we<y;we++)if(x.get(we,ee))(se&1)===1&&se++,D[se]++;else if((se&1)===0)if(se===4)if(gn.foundPatternCross(D)){if(this.handlePossibleCenter(D,ee,we,g)===!0)if(_=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const Se=this.findRowSkip();Se>D[2]&&(ee+=Se-D[2]-_,we=y-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,se=3;continue}se=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,se=3;else D[++se]++;else D[se]++;gn.foundPatternCross(D)&&this.handlePossibleCenter(D,ee,y,g)===!0&&(_=D[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const H=this.selectBestPatterns();return bt.orderBestPatterns(H),new Ul(H)}static centerFromEnd(l,u){return u-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let u=0;for(let w=0;w<5;w++){const y=l[w];if(y===0)return!1;u+=y}if(u<7)return!1;const g=u/7,x=g/2;return Math.abs(g-l[0])<x&&Math.abs(g-l[1])<x&&Math.abs(3*g-l[2])<3*x&&Math.abs(g-l[3])<x&&Math.abs(g-l[4])<x}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,u,g,x){const w=this.getCrossCheckStateCount();let y=0;const _=this.image;for(;l>=y&&u>=y&&_.get(u-y,l-y);)w[2]++,y++;if(l<y||u<y)return!1;for(;l>=y&&u>=y&&!_.get(u-y,l-y)&&w[1]<=g;)w[1]++,y++;if(l<y||u<y||w[1]>g)return!1;for(;l>=y&&u>=y&&_.get(u-y,l-y)&&w[0]<=g;)w[0]++,y++;if(w[0]>g)return!1;const N=_.getHeight(),D=_.getWidth();for(y=1;l+y<N&&u+y<D&&_.get(u+y,l+y);)w[2]++,y++;if(l+y>=N||u+y>=D)return!1;for(;l+y<N&&u+y<D&&!_.get(u+y,l+y)&&w[3]<g;)w[3]++,y++;if(l+y>=N||u+y>=D||w[3]>=g)return!1;for(;l+y<N&&u+y<D&&_.get(u+y,l+y)&&w[4]<g;)w[4]++,y++;if(w[4]>=g)return!1;const H=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(H-x)<2*x&&gn.foundPatternCross(w)}crossCheckVertical(l,u,g,x){const w=this.image,y=w.getHeight(),_=this.getCrossCheckStateCount();let N=l;for(;N>=0&&w.get(u,N);)_[2]++,N--;if(N<0)return NaN;for(;N>=0&&!w.get(u,N)&&_[1]<=g;)_[1]++,N--;if(N<0||_[1]>g)return NaN;for(;N>=0&&w.get(u,N)&&_[0]<=g;)_[0]++,N--;if(_[0]>g)return NaN;for(N=l+1;N<y&&w.get(u,N);)_[2]++,N++;if(N===y)return NaN;for(;N<y&&!w.get(u,N)&&_[3]<g;)_[3]++,N++;if(N===y||_[3]>=g)return NaN;for(;N<y&&w.get(u,N)&&_[4]<g;)_[4]++,N++;if(_[4]>=g)return NaN;const D=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(D-x)>=2*x?NaN:gn.foundPatternCross(_)?gn.centerFromEnd(_,N):NaN}crossCheckHorizontal(l,u,g,x){const w=this.image,y=w.getWidth(),_=this.getCrossCheckStateCount();let N=l;for(;N>=0&&w.get(N,u);)_[2]++,N--;if(N<0)return NaN;for(;N>=0&&!w.get(N,u)&&_[1]<=g;)_[1]++,N--;if(N<0||_[1]>g)return NaN;for(;N>=0&&w.get(N,u)&&_[0]<=g;)_[0]++,N--;if(_[0]>g)return NaN;for(N=l+1;N<y&&w.get(N,u);)_[2]++,N++;if(N===y)return NaN;for(;N<y&&!w.get(N,u)&&_[3]<g;)_[3]++,N++;if(N===y||_[3]>=g)return NaN;for(;N<y&&w.get(N,u)&&_[4]<g;)_[4]++,N++;if(_[4]>=g)return NaN;const D=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(D-x)>=x?NaN:gn.foundPatternCross(_)?gn.centerFromEnd(_,N):NaN}handlePossibleCenter(l,u,g,x){const w=l[0]+l[1]+l[2]+l[3]+l[4];let y=gn.centerFromEnd(l,g),_=this.crossCheckVertical(u,Math.floor(y),l[2],w);if(!isNaN(_)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(_),l[2],w),!isNaN(y)&&(!x||this.crossCheckDiagonal(Math.floor(_),Math.floor(y),l[2],w)))){const N=w/7;let D=!1;const H=this.possibleCenters;for(let ee=0,se=H.length;ee<se;ee++){const we=H[ee];if(we.aboutEquals(N,_,y)){H[ee]=we.combineEstimate(_,y,N),D=!0;break}}if(!D){const ee=new xo(y,_,N);H.push(ee),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ee)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const g of this.possibleCenters)if(g.getCount()>=gn.CENTER_QUORUM)if(u==null)u=g;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-g.getX())-Math.abs(u.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,u=0;const g=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=gn.CENTER_QUORUM&&(l++,u+=y.getEstimatedModuleSize());if(l<3)return!1;const x=u/g;let w=0;for(const y of this.possibleCenters)w+=Math.abs(y.getEstimatedModuleSize()-x);return w<=.05*u}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new xe;const u=this.possibleCenters;let g;if(l>3){let x=0,w=0;for(const N of this.possibleCenters){const D=N.getEstimatedModuleSize();x+=D,w+=D*D}g=x/l;let y=Math.sqrt(w/l-g*g);u.sort((N,D)=>{const H=Math.abs(D.getEstimatedModuleSize()-g),ee=Math.abs(N.getEstimatedModuleSize()-g);return H<ee?-1:H>ee?1:0});const _=Math.max(.2*g,y);for(let N=0;N<u.length&&u.length>3;N++){const D=u[N];Math.abs(D.getEstimatedModuleSize()-g)>_&&(u.splice(N,1),N--)}}if(u.length>3){let x=0;for(const w of u)x+=w.getEstimatedModuleSize();g=x/u.length,u.sort((w,y)=>{if(y.getCount()===w.getCount()){const _=Math.abs(y.getEstimatedModuleSize()-g),N=Math.abs(w.getEstimatedModuleSize()-g);return _<N?1:_>N?-1:0}else return y.getCount()-w.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}gn.CENTER_QUORUM=2,gn.MIN_SKIP=3,gn.MAX_MODULES=57;class Ei{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(K.NEED_RESULT_POINT_CALLBACK);const g=new gn(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const u=l.getTopLeft(),g=l.getTopRight(),x=l.getBottomLeft(),w=this.calculateModuleSize(u,g,x);if(w<1)throw new xe("No pattern found in proccess finder.");const y=Ei.computeDimension(u,g,x,w),_=St.getProvisionalVersionForDimension(y),N=_.getDimensionForVersion()-7;let D=null;if(_.getAlignmentPatternCenters().length>0){const we=g.getX()-u.getX()+x.getX(),Te=g.getY()-u.getY()+x.getY(),Se=1-3/N,Oe=Math.floor(u.getX()+Se*(we-u.getX())),$e=Math.floor(u.getY()+Se*(Te-u.getY()));for(let _t=4;_t<=16;_t<<=1)try{D=this.findAlignmentInRegion(w,Oe,$e,_t);break}catch(Et){if(!(Et instanceof xe))throw Et}}const H=Ei.createTransform(u,g,x,D,y),ee=Ei.sampleGrid(this.image,H,y);let se;return D===null?se=[x,u,g]:se=[x,u,g,D],new nn(ee,se)}static createTransform(l,u,g,x,w){const y=w-3.5;let _,N,D,H;return x!==null?(_=x.getX(),N=x.getY(),D=y-3,H=D):(_=u.getX()-l.getX()+g.getX(),N=u.getY()-l.getY()+g.getY(),D=y,H=y),ot.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,D,H,3.5,y,l.getX(),l.getY(),u.getX(),u.getY(),_,N,g.getX(),g.getY())}static sampleGrid(l,u,g){return Zt.getInstance().sampleGridWithTransform(l,g,g,u)}static computeDimension(l,u,g,x){const w=Rt.round(bt.distance(l,u)/x),y=Rt.round(bt.distance(l,g)/x);let _=Math.floor((w+y)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new xe("Dimensions could be not found.")}return _}calculateModuleSize(l,u,g){return(this.calculateModuleSizeOneWay(l,u)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,u){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(u.getX()),Math.floor(u.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?x/7:isNaN(x)?g/7:(g+x)/14}sizeOfBlackWhiteBlackRunBothWays(l,u,g,x){let w=this.sizeOfBlackWhiteBlackRun(l,u,g,x),y=1,_=l-(g-l);_<0?(y=l/(l-_),_=0):_>=this.image.getWidth()&&(y=(this.image.getWidth()-1-l)/(_-l),_=this.image.getWidth()-1);let N=Math.floor(u-(x-u)*y);return y=1,N<0?(y=u/(u-N),N=0):N>=this.image.getHeight()&&(y=(this.image.getHeight()-1-u)/(N-u),N=this.image.getHeight()-1),_=Math.floor(l+(_-l)*y),w+=this.sizeOfBlackWhiteBlackRun(l,u,_,N),w-1}sizeOfBlackWhiteBlackRun(l,u,g,x){const w=Math.abs(x-u)>Math.abs(g-l);if(w){let we=l;l=u,u=we,we=g,g=x,x=we}const y=Math.abs(g-l),_=Math.abs(x-u);let N=-y/2;const D=l<g?1:-1,H=u<x?1:-1;let ee=0;const se=g+D;for(let we=l,Te=u;we!==se;we+=D){const Se=w?Te:we,Oe=w?we:Te;if(ee===1===this.image.get(Se,Oe)){if(ee===2)return Rt.distance(we,Te,l,u);ee++}if(N+=_,N>0){if(Te===x)break;Te+=H,N-=y}}return ee===2?Rt.distance(g+D,x,l,u):NaN}findAlignmentInRegion(l,u,g,x){const w=Math.floor(x*l),y=Math.max(0,u-w),_=Math.min(this.image.getWidth()-1,u+w);if(_-y<l*3)throw new xe("Alignment top exceeds estimated module size.");const N=Math.max(0,g-w),D=Math.min(this.image.getHeight()-1,g+w);if(D-N<l*3)throw new xe("Alignment bottom exceeds estimated module size.");return new Hn(this.image,y,N,_-y,D-N,l,this.resultPointCallback).find()}}class sa{constructor(){this.decoder=new E0}getDecoder(){return this.decoder}decode(l,u){let g,x;if(u!=null&&u.get(K.PURE_BARCODE)!==void 0){const N=sa.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(N,u),x=sa.NO_POINTS}else{const N=new Ei(l.getBlackMatrix()).detect(u);g=this.decoder.decodeBitMatrix(N.getBits(),u),x=N.getPoints()}g.getOther()instanceof Gc&&g.getOther().applyMirroredCorrection(x);const w=new ae(g.getText(),g.getRawBytes(),void 0,x,Ee.QR_CODE,void 0),y=g.getByteSegments();y!==null&&w.putMetadata(Ne.BYTE_SEGMENTS,y);const _=g.getECLevel();return _!==null&&w.putMetadata(Ne.ERROR_CORRECTION_LEVEL,_),g.hasStructuredAppend()&&(w.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),w.putMetadata(Ne.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),w}reset(){}static extractPureBits(l){const u=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(u===null||g===null)throw new xe;const x=this.moduleSize(u,l);let w=u[1],y=g[1],_=u[0],N=g[0];if(_>=N||w>=y)throw new xe;if(y-w!==N-_&&(N=_+(y-w),N>=l.getWidth()))throw new xe;const D=Math.round((N-_+1)/x),H=Math.round((y-w+1)/x);if(D<=0||H<=0)throw new xe;if(H!==D)throw new xe;const ee=Math.floor(x/2);w+=ee,_+=ee;const se=_+Math.floor((D-1)*x)-N;if(se>0){if(se>ee)throw new xe;_-=se}const we=w+Math.floor((H-1)*x)-y;if(we>0){if(we>ee)throw new xe;w-=we}const Te=new Re(D,H);for(let Se=0;Se<H;Se++){const Oe=w+Math.floor(Se*x);for(let $e=0;$e<D;$e++)l.get(_+Math.floor($e*x),Oe)&&Te.set($e,Se)}return Te}static moduleSize(l,u){const g=u.getHeight(),x=u.getWidth();let w=l[0],y=l[1],_=!0,N=0;for(;w<x&&y<g;){if(_!==u.get(w,y)){if(++N===5)break;_=!_}w++,y++}if(w===x||y===g)throw new xe;return(w-l[0])/7}}sa.NO_POINTS=new Array;class tr{PDF417Common(){}static getBitCountSum(l){return Rt.sum(l)}static toIntArray(l){if(l==null||!l.length)return tr.EMPTY_INT_ARRAY;const u=new Int32Array(l.length);let g=0;for(const x of l)u[g++]=x;return u}static getCodeword(l){const u=G.binarySearch(tr.SYMBOL_TABLE,l&262143);return u<0?-1:(tr.CODEWORD_TABLE[u]-1)%tr.NUMBER_OF_CODEWORDS}}tr.NUMBER_OF_CODEWORDS=929,tr.MAX_CODEWORDS_IN_BARCODE=tr.NUMBER_OF_CODEWORDS-1,tr.MIN_ROWS_IN_BARCODE=3,tr.MAX_ROWS_IN_BARCODE=90,tr.MODULES_IN_CODEWORD=17,tr.MODULES_IN_STOP_PATTERN=18,tr.BARS_IN_MODULE=8,tr.EMPTY_INT_ARRAY=new Int32Array([]),tr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),tr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Kc{constructor(l,u){this.bits=l,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class rr{static detectMultiple(l,u,g){let x=l.getBlackMatrix(),w=rr.detect(g,x);return w.length||(x=x.clone(),x.rotate180(),w=rr.detect(g,x)),new Kc(x,w)}static detect(l,u){const g=new Array;let x=0,w=0,y=!1;for(;x<u.getHeight();){const _=rr.findVertices(u,x,w);if(_[0]==null&&_[3]==null){if(!y)break;y=!1,w=0;for(const N of g)N[1]!=null&&(x=Math.trunc(Math.max(x,N[1].getY()))),N[3]!=null&&(x=Math.max(x,Math.trunc(N[3].getY())));x+=rr.ROW_STEP;continue}if(y=!0,g.push(_),!l)break;_[2]!=null?(w=Math.trunc(_[2].getX()),x=Math.trunc(_[2].getY())):(w=Math.trunc(_[4].getX()),x=Math.trunc(_[4].getY()))}return g}static findVertices(l,u,g){const x=l.getHeight(),w=l.getWidth(),y=new Array(8);return rr.copyToResult(y,rr.findRowsWithPattern(l,x,w,u,g,rr.START_PATTERN),rr.INDEXES_START_PATTERN),y[4]!=null&&(g=Math.trunc(y[4].getX()),u=Math.trunc(y[4].getY())),rr.copyToResult(y,rr.findRowsWithPattern(l,x,w,u,g,rr.STOP_PATTERN),rr.INDEXES_STOP_PATTERN),y}static copyToResult(l,u,g){for(let x=0;x<g.length;x++)l[g[x]]=u[x]}static findRowsWithPattern(l,u,g,x,w,y){const _=new Array(4);let N=!1;const D=new Int32Array(y.length);for(;x<u;x+=rr.ROW_STEP){let ee=rr.findGuardPattern(l,w,x,g,!1,y,D);if(ee!=null){for(;x>0;){const se=rr.findGuardPattern(l,w,--x,g,!1,y,D);if(se!=null)ee=se;else{x++;break}}_[0]=new bt(ee[0],x),_[1]=new bt(ee[1],x),N=!0;break}}let H=x+1;if(N){let ee=0,se=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;H<u;H++){const we=rr.findGuardPattern(l,se[0],H,g,!1,y,D);if(we!=null&&Math.abs(se[0]-we[0])<rr.MAX_PATTERN_DRIFT&&Math.abs(se[1]-we[1])<rr.MAX_PATTERN_DRIFT)se=we,ee=0;else{if(ee>rr.SKIPPED_ROW_COUNT_MAX)break;ee++}}H-=ee+1,_[2]=new bt(se[0],H),_[3]=new bt(se[1],H)}return H-x<rr.BARCODE_MIN_HEIGHT&&G.fill(_,null),_}static findGuardPattern(l,u,g,x,w,y,_){G.fillWithin(_,0,_.length,0);let N=u,D=0;for(;l.get(N,g)&&N>0&&D++<rr.MAX_PIXEL_DRIFT;)N--;let H=N,ee=0,se=y.length;for(let we=w;H<x;H++)if(l.get(H,g)!==we)_[ee]++;else{if(ee===se-1){if(rr.patternMatchVariance(_,y,rr.MAX_INDIVIDUAL_VARIANCE)<rr.MAX_AVG_VARIANCE)return new Int32Array([N,H]);N+=_[0]+_[1],k.arraycopy(_,2,_,0,ee-1),_[ee-1]=0,_[ee]=0,ee--}else ee++;_[ee]=1,we=!we}return ee===se-1&&rr.patternMatchVariance(_,y,rr.MAX_INDIVIDUAL_VARIANCE)<rr.MAX_AVG_VARIANCE?new Int32Array([N,H-1]):null}static patternMatchVariance(l,u,g){let x=l.length,w=0,y=0;for(let D=0;D<x;D++)w+=l[D],y+=u[D];if(w<y)return 1/0;let _=w/y;g*=_;let N=0;for(let D=0;D<x;D++){let H=l[D],ee=u[D]*_,se=H>ee?H-ee:ee-H;if(se>g)return 1/0;N+=se}return N/w}}rr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),rr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),rr.MAX_AVG_VARIANCE=.42,rr.MAX_INDIVIDUAL_VARIANCE=.8,rr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),rr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),rr.MAX_PIXEL_DRIFT=3,rr.MAX_PATTERN_DRIFT=5,rr.SKIPPED_ROW_COUNT_MAX=25,rr.ROW_STEP=5,rr.BARCODE_MIN_HEIGHT=10;class cn{constructor(l,u){if(u.length===0)throw new C;this.field=l;let g=u.length;if(g>1&&u[0]===0){let x=1;for(;x<g&&u[x]===0;)x++;x===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-x),k.arraycopy(u,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let x=0;for(let w of this.coefficients)x=this.field.add(x,w);return x}let u=this.coefficients[0],g=this.coefficients.length;for(let x=1;x<g;x++)u=this.field.add(this.field.multiply(l,u),this.coefficients[x]);return u}add(l){if(!this.field.equals(l.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let u=this.coefficients,g=l.coefficients;if(u.length>g.length){let y=u;u=g,g=y}let x=new Int32Array(g.length),w=g.length-u.length;k.arraycopy(g,0,x,0,w);for(let y=w;y<g.length;y++)x[y]=this.field.add(u[y-w],g[y]);return new cn(this.field,x)}subtract(l){if(!this.field.equals(l.field))throw new C("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof cn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new cn(this.field,new Int32Array([0]));let u=this.coefficients,g=u.length,x=l.coefficients,w=x.length,y=new Int32Array(g+w-1);for(let _=0;_<g;_++){let N=u[_];for(let D=0;D<w;D++)y[_+D]=this.field.add(y[_+D],this.field.multiply(N,x[D]))}return new cn(this.field,y)}negative(){let l=this.coefficients.length,u=new Int32Array(l);for(let g=0;g<l;g++)u[g]=this.field.subtract(0,this.coefficients[g]);return new cn(this.field,u)}multiplyScalar(l){if(l===0)return new cn(this.field,new Int32Array([0]));if(l===1)return this;let u=this.coefficients.length,g=new Int32Array(u);for(let x=0;x<u;x++)g[x]=this.field.multiply(this.coefficients[x],l);return new cn(this.field,g)}multiplyByMonomial(l,u){if(l<0)throw new C;if(u===0)return new cn(this.field,new Int32Array([0]));let g=this.coefficients.length,x=new Int32Array(g+l);for(let w=0;w<g;w++)x[w]=this.field.multiply(this.coefficients[w],u);return new cn(this.field,x)}toString(){let l=new X;for(let u=this.getDegree();u>=0;u--){let g=this.getCoefficient(u);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(u===0||g!==1)&&l.append(g),u!==0&&(u===1?l.append("x"):(l.append("x^"),l.append(u))))}return l.toString()}}class QA{add(l,u){return(l+u)%this.modulus}subtract(l,u){return(this.modulus+l-u)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new C;return this.logTable[l]}inverse(l){if(l===0)throw new le;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,u){return l===0||u===0?0:this.expTable[(this.logTable[l]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Ps extends QA{constructor(l,u){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let x=0;x<l;x++)this.expTable[x]=g,g=g*u%l;for(let x=0;x<l-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new cn(this,new Int32Array([0])),this.one=new cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,u){if(l<0)throw new C;if(u===0)return this.zero;let g=new Int32Array(l+1);return g[0]=u,new cn(this,g)}}Ps.PDF417_GF=new Ps(tr.NUMBER_OF_CODEWORDS,3);class ss{constructor(){this.field=Ps.PDF417_GF}decode(l,u,g){let x=new cn(this.field,l),w=new Int32Array(u),y=!1;for(let Te=u;Te>0;Te--){let Se=x.evaluateAt(this.field.exp(Te));w[u-Te]=Se,Se!==0&&(y=!0)}if(!y)return 0;let _=this.field.getOne();if(g!=null)for(const Te of g){let Se=this.field.exp(l.length-1-Te),Oe=new cn(this.field,new Int32Array([this.field.subtract(0,Se),1]));_=_.multiply(Oe)}let N=new cn(this.field,w),D=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),N,u),H=D[0],ee=D[1],se=this.findErrorLocations(H),we=this.findErrorMagnitudes(ee,H,se);for(let Te=0;Te<se.length;Te++){let Se=l.length-1-this.field.log(se[Te]);if(Se<0)throw S.getChecksumInstance();l[Se]=this.field.subtract(l[Se],we[Te])}return se.length}runEuclideanAlgorithm(l,u,g){if(l.getDegree()<u.getDegree()){let se=l;l=u,u=se}let x=l,w=u,y=this.field.getZero(),_=this.field.getOne();for(;w.getDegree()>=Math.round(g/2);){let se=x,we=y;if(x=w,y=_,x.isZero())throw S.getChecksumInstance();w=se;let Te=this.field.getZero(),Se=x.getCoefficient(x.getDegree()),Oe=this.field.inverse(Se);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){let $e=w.getDegree()-x.getDegree(),_t=this.field.multiply(w.getCoefficient(w.getDegree()),Oe);Te=Te.add(this.field.buildMonomial($e,_t)),w=w.subtract(x.multiplyByMonomial($e,_t))}_=Te.multiply(y).subtract(we).negative()}let N=_.getCoefficient(0);if(N===0)throw S.getChecksumInstance();let D=this.field.inverse(N),H=_.multiply(D),ee=w.multiply(D);return[H,ee]}findErrorLocations(l){let u=l.getDegree(),g=new Int32Array(u),x=0;for(let w=1;w<this.field.getSize()&&x<u;w++)l.evaluateAt(w)===0&&(g[x]=this.field.inverse(w),x++);if(x!==u)throw S.getChecksumInstance();return g}findErrorMagnitudes(l,u,g){let x=u.getDegree(),w=new Int32Array(x);for(let D=1;D<=x;D++)w[x-D]=this.field.multiply(D,u.getCoefficient(D));let y=new cn(this.field,w),_=g.length,N=new Int32Array(_);for(let D=0;D<_;D++){let H=this.field.inverse(g[D]),ee=this.field.subtract(0,l.evaluateAt(H)),se=this.field.inverse(y.evaluateAt(H));N[D]=this.field.multiply(ee,se)}return N}}class Qs{constructor(l,u,g,x,w){l instanceof Qs?this.constructor_2(l):this.constructor_1(l,u,g,x,w)}constructor_1(l,u,g,x,w){const y=u==null||g==null,_=x==null||w==null;if(y&&_)throw new xe;y?(u=new bt(0,x.getY()),g=new bt(0,w.getY())):_&&(x=new bt(l.getWidth()-1,u.getY()),w=new bt(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=u,this.bottomLeft=g,this.topRight=x,this.bottomRight=w,this.minX=Math.trunc(Math.min(u.getX(),g.getX())),this.maxX=Math.trunc(Math.max(x.getX(),w.getX())),this.minY=Math.trunc(Math.min(u.getY(),x.getY())),this.maxY=Math.trunc(Math.max(g.getY(),w.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,u){return l==null?u:u==null?l:new Qs(l.image,l.topLeft,l.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(l,u,g){let x=this.topLeft,w=this.bottomLeft,y=this.topRight,_=this.bottomRight;if(l>0){let N=g?this.topLeft:this.topRight,D=Math.trunc(N.getY()-l);D<0&&(D=0);let H=new bt(N.getX(),D);g?x=H:y=H}if(u>0){let N=g?this.bottomLeft:this.bottomRight,D=Math.trunc(N.getY()+u);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let H=new bt(N.getX(),D);g?w=H:_=H}return new Qs(this.image,x,w,y,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class _a{constructor(l,u,g,x){this.columnCount=l,this.errorCorrectionLevel=x,this.rowCountUpperPart=u,this.rowCountLowerPart=g,this.rowCount=u+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hs{constructor(){this.buffer=""}static form(l,u){let g=-1;function x(y,_,N,D,H,ee){if(y==="%%")return"%";if(u[++g]===void 0)return;y=D?parseInt(D.substr(1)):void 0;let se=H?parseInt(H.substr(1)):void 0,we;switch(ee){case"s":we=u[g];break;case"c":we=u[g][0];break;case"f":we=parseFloat(u[g]).toFixed(y);break;case"p":we=parseFloat(u[g]).toPrecision(y);break;case"e":we=parseFloat(u[g]).toExponential(y);break;case"x":we=parseInt(u[g]).toString(se||16);break;case"d":we=parseFloat(parseInt(u[g],se||10).toPrecision(y)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(se);let Te=parseInt(N),Se=N&&N[0]+""=="0"?"0":" ";for(;we.length<Te;)we=_!==void 0?we+Se:Se+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,x)}format(l,...u){this.buffer+=Hs.form(l,u)}toString(){return this.buffer}}class aa{constructor(l){this.boundingBox=new Qs(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let u=this.getCodeword(l);if(u!=null)return u;for(let g=1;g<aa.MAX_NEARBY_DISTANCE;g++){let x=this.imageRowToCodewordIndex(l)-g;if(x>=0&&(u=this.codewords[x],u!=null)||(x=this.imageRowToCodewordIndex(l)+g,x<this.codewords.length&&(u=this.codewords[x],u!=null)))return u}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,u){this.codewords[this.imageRowToCodewordIndex(l)]=u}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Hs;let u=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",u++);continue}l.format("%3d: %3d|%3d%n",u++,g.getRowNumber(),g.getValue())}return l.toString()}}aa.MAX_NEARBY_DISTANCE=5;class Vs{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let u=this.values.get(l);u==null&&(u=0),u++,this.values.set(l,u)}getValue(){let l=-1,u=new Array;for(const[g,x]of this.values.entries()){const w={getKey:()=>g,getValue:()=>x};w.getValue()>l?(l=w.getValue(),u=[],u.push(w.getKey())):w.getValue()===l&&u.push(w.getKey())}return tr.toIntArray(u)}getConfidence(l){return this.values.get(l)}}class pn extends aa{constructor(l,u){super(l),this._isLeft=u}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,l);let g=this.getBoundingBox(),x=this._isLeft?g.getTopLeft():g.getTopRight(),w=this._isLeft?g.getBottomLeft():g.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=this.imageRowToCodewordIndex(Math.trunc(w.getY())),N=-1,D=1,H=0;for(let ee=y;ee<_;ee++){if(u[ee]==null)continue;let se=u[ee],we=se.getRowNumber()-N;if(we===0)H++;else if(we===1)D=Math.max(D,H),H=1,N=se.getRowNumber();else if(we<0||se.getRowNumber()>=l.getRowCount()||we>ee)u[ee]=null;else{let Te;D>2?Te=(D-2)*we:Te=we;let Se=Te>=ee;for(let Oe=1;Oe<=Te&&!Se;Oe++)Se=u[ee-Oe]!=null;Se?u[ee]=null:(N=se.getRowNumber(),H=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let u=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let x=g.getRowNumber();if(x>=u.length)continue;u[x]++}return u}adjustIncompleteIndicatorColumnRowNumbers(l){let u=this.getBoundingBox(),g=this._isLeft?u.getTopLeft():u.getTopRight(),x=this._isLeft?u.getBottomLeft():u.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),y=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=this.getCodewords(),N=-1;for(let D=w;D<y;D++){if(_[D]==null)continue;let H=_[D];H.setRowNumberAsRowIndicatorColumn();let ee=H.getRowNumber()-N;ee===0||(ee===1?N=H.getRowNumber():H.getRowNumber()>=l.getRowCount()?_[D]=null:N=H.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),u=new Vs,g=new Vs,x=new Vs,w=new Vs;for(let _ of l){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let N=_.getValue()%30,D=_.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:g.setValue(N*3+1);break;case 1:w.setValue(N/3),x.setValue(N%3);break;case 2:u.setValue(N+1);break}}if(u.getValue().length===0||g.getValue().length===0||x.getValue().length===0||w.getValue().length===0||u.getValue()[0]<1||g.getValue()[0]+x.getValue()[0]<tr.MIN_ROWS_IN_BARCODE||g.getValue()[0]+x.getValue()[0]>tr.MAX_ROWS_IN_BARCODE)return null;let y=new _a(u.getValue()[0],g.getValue()[0],x.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(l,y),y}removeIncorrectCodewords(l,u){for(let g=0;g<l.length;g++){let x=l[g];if(l[g]==null)continue;let w=x.getValue()%30,y=x.getRowNumber();if(y>u.getRowCount()){l[g]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:w*3+1!==u.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(w/3)!==u.getErrorCorrectionLevel()||w%3!==u.getRowCountLowerPart())&&(l[g]=null);break;case 2:w+1!==u.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xn{constructor(l,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=tr.MAX_CODEWORDS_IN_BARCODE,u;do u=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let g=this.detectionResultColumns[u].getCodewords();for(let x=0;x<g.length;x++)g[x]!=null&&(g[x].hasValidRowNumber()||this.adjustRowNumbers(u,x,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&u[g]!=null&&l[g].getRowNumber()===u[g].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let w=this.detectionResultColumns[x].getCodewords()[g];w!=null&&(w.setRowNumber(l[g].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<u.length;g++){if(u[g]==null)continue;let x=u[g].getRowNumber(),w=0;for(let y=this.barcodeColumnCount+1;y>0&&w<this.ADJUST_ROW_NUMBER_SKIP;y--){let _=this.detectionResultColumns[y].getCodewords()[g];_!=null&&(w=Xn.adjustRowNumberIfValid(x,w,_),_.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,u=this.detectionResultColumns[0].getCodewords();for(let g=0;g<u.length;g++){if(u[g]==null)continue;let x=u[g].getRowNumber(),w=0;for(let y=1;y<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;y++){let _=this.detectionResultColumns[y].getCodewords()[g];_!=null&&(w=Xn.adjustRowNumberIfValid(x,w,_),_.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,u,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),u=0):++u),u}adjustRowNumbers(l,u,g){if(!this.detectionResultColumns[l-1])return;let x=g[u],w=this.detectionResultColumns[l-1].getCodewords(),y=w;this.detectionResultColumns[l+1]!=null&&(y=this.detectionResultColumns[l+1].getCodewords());let _=new Array(14);_[2]=w[u],_[3]=y[u],u>0&&(_[0]=g[u-1],_[4]=w[u-1],_[5]=y[u-1]),u>1&&(_[8]=g[u-2],_[10]=w[u-2],_[11]=y[u-2]),u<g.length-1&&(_[1]=g[u+1],_[6]=w[u+1],_[7]=y[u+1]),u<g.length-2&&(_[9]=g[u+2],_[12]=w[u+2],_[13]=y[u+2]);for(let N of _)if(Xn.adjustRowNumber(x,N))return}static adjustRowNumber(l,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===l.getBucket()?(l.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,u){this.detectionResultColumns[l]=u}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Hs;for(let g=0;g<l.getCodewords().length;g++){u.format("CW %3d:",g);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){u.format("    |   ");continue}let w=this.detectionResultColumns[x].getCodewords()[g];if(w==null){u.format("    |   ");continue}u.format(" %3d|%3d",w.getRowNumber(),w.getValue())}u.format("%n")}return u.toString()}}class bs{constructor(l,u,g,x){this.rowNumber=bs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(u),this.bucket=Math.trunc(g),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==bs.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}bs.BARCODE_ROW_UNKNOWN=-1;class Yn{static initialize(){for(let l=0;l<tr.SYMBOL_TABLE.length;l++){let u=tr.SYMBOL_TABLE[l],g=u&1;for(let x=0;x<tr.BARS_IN_MODULE;x++){let w=0;for(;(u&1)===g;)w+=1,u>>=1;g=u&1,Yn.RATIOS_TABLE[l]||(Yn.RATIOS_TABLE[l]=new Array(tr.BARS_IN_MODULE)),Yn.RATIOS_TABLE[l][tr.BARS_IN_MODULE-x-1]=Math.fround(w/tr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let u=Yn.getDecodedCodewordValue(Yn.sampleBitCounts(l));return u!==-1?u:Yn.getClosestDecodedValue(l)}static sampleBitCounts(l){let u=Rt.sum(l),g=new Int32Array(tr.BARS_IN_MODULE),x=0,w=0;for(let y=0;y<tr.MODULES_IN_CODEWORD;y++){let _=u/(2*tr.MODULES_IN_CODEWORD)+y*u/tr.MODULES_IN_CODEWORD;w+l[x]<=_&&(w+=l[x],x++),g[x]++}return g}static getDecodedCodewordValue(l){let u=Yn.getBitValue(l);return tr.getCodeword(u)===-1?-1:u}static getBitValue(l){let u=0;for(let g=0;g<l.length;g++)for(let x=0;x<l[g];x++)u=u<<1|(g%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(l){let u=Rt.sum(l),g=new Array(tr.BARS_IN_MODULE);if(u>1)for(let y=0;y<g.length;y++)g[y]=Math.fround(l[y]/u);let x=fr.MAX_VALUE,w=-1;this.bSymbolTableReady||Yn.initialize();for(let y=0;y<Yn.RATIOS_TABLE.length;y++){let _=0,N=Yn.RATIOS_TABLE[y];for(let D=0;D<tr.BARS_IN_MODULE;D++){let H=Math.fround(N[D]-g[D]);if(_+=Math.fround(H*H),_>=x)break}_<x&&(x=_,w=tr.SYMBOL_TABLE[y])}return w}}Yn.bSymbolTableReady=!1,Yn.RATIOS_TABLE=new Array(tr.SYMBOL_TABLE.length).map(Y=>new Array(tr.BARS_IN_MODULE));class Ya{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class HA{static parseLong(l,u=void 0){return parseInt(l,u)}}class Ja extends h{}Ja.kind="NullPointerException";class Ml{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,u,g){if(l==null)throw new Ja;if(u<0||u>l.length||g<0||u+g>l.length||u+g<0)throw new U;if(g===0)return;for(let x=0;x<g;x++)this.write(l[u+x])}flush(){}close(){}}class Qi extends h{}class Ho extends Ml{constructor(l=32){if(super(),this.count=0,l<0)throw new C("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new Qi;g=Q.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,u,g){if(u<0||u>l.length||g<0||u+g-l.length>0)throw new U;this.ensureCapacity(this.count+g),k.arraycopy(l,u,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Wr;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Wr||(Wr={}));function wo(){if(typeof window<"u")return window.BigInt||null;if(typeof qh<"u")return qh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vo;function js(Y){if(typeof Vo>"u"&&(Vo=wo()),Vo===null)throw new Error("BigInt is not supported!");return Vo(Y)}function vo(){let Y=[];Y[0]=js(1);let l=js(900);Y[1]=l;for(let u=2;u<16;u++)Y[u]=Y[u-1]*l;return Y}class Je{static decode(l,u){let g=new X(""),x=O.ISO8859_1;g.enableDecoding(x);let w=1,y=l[w++],_=new Ya;for(;w<l[0];){switch(y){case Je.TEXT_COMPACTION_MODE_LATCH:w=Je.textCompaction(l,w,g);break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:w=Je.byteCompaction(y,l,x,w,g);break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w++]);break;case Je.NUMERIC_COMPACTION_MODE_LATCH:w=Je.numericCompaction(l,w,g);break;case Je.ECI_CHARSET:O.getCharacterSetECIByValue(l[w++]);break;case Je.ECI_GENERAL_PURPOSE:w+=2;break;case Je.ECI_USER_DEFINED:w++;break;case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=Je.decodeMacroBlock(l,w,_);break;case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:throw new M;default:w--,w=Je.textCompaction(l,w,g);break}if(w<l.length)y=l[w++];else throw M.getFormatInstance()}if(g.length()===0)throw M.getFormatInstance();let N=new Me(null,g.toString(),null,u);return N.setOther(_),N}static decodeMacroBlock(l,u,g){if(u+Je.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw M.getFormatInstance();let x=new Int32Array(Je.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<Je.NUMBER_OF_SEQUENCE_CODEWORDS;_++,u++)x[_]=l[u];g.setSegmentIndex(Q.parseInt(Je.decodeBase900toBase10(x,Je.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new X;u=Je.textCompaction(l,u,w),g.setFileId(w.toString());let y=-1;for(l[u]===Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=u+1);u<l[0];)switch(l[u]){case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,l[u]){case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new X;u=Je.textCompaction(l,u+1,_),g.setFileName(_.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new X;u=Je.textCompaction(l,u+1,N),g.setSender(N.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new X;u=Je.textCompaction(l,u+1,D),g.setAddressee(D.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let H=new X;u=Je.numericCompaction(l,u+1,H),g.setSegmentCount(Q.parseInt(H.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ee=new X;u=Je.numericCompaction(l,u+1,ee),g.setTimestamp(HA.parseLong(ee.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let se=new X;u=Je.numericCompaction(l,u+1,se),g.setChecksum(Q.parseInt(se.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let we=new X;u=Je.numericCompaction(l,u+1,we),g.setFileSize(HA.parseLong(we.toString()));break;default:throw M.getFormatInstance()}break;case Je.MACRO_PDF417_TERMINATOR:u++,g.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(y!==-1){let _=u-y;g.isLastSegment()&&_--,g.setOptionalData(G.copyOfRange(l,y,y+_))}return u}static textCompaction(l,u,g){let x=new Int32Array((l[0]-u)*2),w=new Int32Array((l[0]-u)*2),y=0,_=!1;for(;u<l[0]&&!_;){let N=l[u++];if(N<Je.TEXT_COMPACTION_MODE_LATCH)x[y]=N/30,x[y+1]=N%30,y+=2;else switch(N){case Je.TEXT_COMPACTION_MODE_LATCH:x[y++]=Je.TEXT_COMPACTION_MODE_LATCH;break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:u--,_=!0;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[y]=Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=l[u++],w[y]=N,y++;break}}return Je.decodeTextCompaction(x,w,y,g),u}static decodeTextCompaction(l,u,g,x){let w=Wr.ALPHA,y=Wr.ALPHA,_=0;for(;_<g;){let N=l[_],D="";switch(w){case Wr.ALPHA:if(N<26)D=String.fromCharCode(65+N);else switch(N){case 26:D=" ";break;case Je.LL:w=Wr.LOWER;break;case Je.ML:w=Wr.MIXED;break;case Je.PS:y=w,w=Wr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[_]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break;case Wr.LOWER:if(N<26)D=String.fromCharCode(97+N);else switch(N){case 26:D=" ";break;case Je.AS:y=w,w=Wr.ALPHA_SHIFT;break;case Je.ML:w=Wr.MIXED;break;case Je.PS:y=w,w=Wr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[_]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break;case Wr.MIXED:if(N<Je.PL)D=Je.MIXED_CHARS[N];else switch(N){case Je.PL:w=Wr.PUNCT;break;case 26:D=" ";break;case Je.LL:w=Wr.LOWER;break;case Je.AL:w=Wr.ALPHA;break;case Je.PS:y=w,w=Wr.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[_]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break;case Wr.PUNCT:if(N<Je.PAL)D=Je.PUNCT_CHARS[N];else switch(N){case Je.PAL:w=Wr.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[_]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break;case Wr.ALPHA_SHIFT:if(w=y,N<26)D=String.fromCharCode(65+N);else switch(N){case 26:D=" ";break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break;case Wr.PUNCT_SHIFT:if(w=y,N<Je.PAL)D=Je.PUNCT_CHARS[N];else switch(N){case Je.PAL:w=Wr.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(u[_]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Wr.ALPHA;break}break}D!==""&&x.append(D),_++}}static byteCompaction(l,u,g,x,w){let y=new Ho,_=0,N=0,D=!1;switch(l){case Je.BYTE_COMPACTION_MODE_LATCH:let H=new Int32Array(6),ee=u[x++];for(;x<u[0]&&!D;)switch(H[_++]=ee,N=900*N+ee,ee=u[x++],ee){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:x--,D=!0;break;default:if(_%5===0&&_>0){for(let se=0;se<6;++se)y.write(Number(js(N)>>js(8*(5-se))));N=0,_=0}break}x===u[0]&&ee<Je.TEXT_COMPACTION_MODE_LATCH&&(H[_++]=ee);for(let se=0;se<_;se++)y.write(H[se]);break;case Je.BYTE_COMPACTION_MODE_LATCH_6:for(;x<u[0]&&!D;){let se=u[x++];if(se<Je.TEXT_COMPACTION_MODE_LATCH)_++,N=900*N+se;else switch(se){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:x--,D=!0;break}if(_%5===0&&_>0){for(let we=0;we<6;++we)y.write(Number(js(N)>>js(8*(5-we))));N=0,_=0}}break}return w.append(te.decode(y.toByteArray(),g)),x}static numericCompaction(l,u,g){let x=0,w=!1,y=new Int32Array(Je.MAX_NUMERIC_CODEWORDS);for(;u<l[0]&&!w;){let _=l[u++];if(u===l[0]&&(w=!0),_<Je.TEXT_COMPACTION_MODE_LATCH)y[x]=_,x++;else switch(_){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:u--,w=!0;break}(x%Je.MAX_NUMERIC_CODEWORDS===0||_===Je.NUMERIC_COMPACTION_MODE_LATCH||w)&&x>0&&(g.append(Je.decodeBase900toBase10(y,x)),x=0)}return u}static decodeBase900toBase10(l,u){let g=js(0);for(let w=0;w<u;w++)g+=Je.EXP900[u-w-1]*js(l[w]);let x=g.toString();if(x.charAt(0)!=="1")throw new M;return x.substring(1)}}Je.TEXT_COMPACTION_MODE_LATCH=900,Je.BYTE_COMPACTION_MODE_LATCH=901,Je.NUMERIC_COMPACTION_MODE_LATCH=902,Je.BYTE_COMPACTION_MODE_LATCH_6=924,Je.ECI_USER_DEFINED=925,Je.ECI_GENERAL_PURPOSE=926,Je.ECI_CHARSET=927,Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Je.MACRO_PDF417_TERMINATOR=922,Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Je.MAX_NUMERIC_CODEWORDS=15,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Je.PL=25,Je.LL=27,Je.AS=27,Je.ML=28,Je.AL=28,Je.PS=29,Je.PAL=29,Je.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Je.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Je.EXP900=wo()?vo():[],Je.NUMBER_OF_SEQUENCE_CODEWORDS=2;class cr{constructor(){}static decode(l,u,g,x,w,y,_){let N=new Qs(l,u,g,x,w),D=null,H=null,ee;for(let Te=!0;;Te=!1){if(u!=null&&(D=cr.getRowIndicatorColumn(l,N,u,!0,y,_)),x!=null&&(H=cr.getRowIndicatorColumn(l,N,x,!1,y,_)),ee=cr.merge(D,H),ee==null)throw xe.getNotFoundInstance();let Se=ee.getBoundingBox();if(Te&&Se!=null&&(Se.getMinY()<N.getMinY()||Se.getMaxY()>N.getMaxY()))N=Se;else break}ee.setBoundingBox(N);let se=ee.getBarcodeColumnCount()+1;ee.setDetectionResultColumn(0,D),ee.setDetectionResultColumn(se,H);let we=D!=null;for(let Te=1;Te<=se;Te++){let Se=we?Te:se-Te;if(ee.getDetectionResultColumn(Se)!==void 0)continue;let Oe;Se===0||Se===se?Oe=new pn(N,Se===0):Oe=new aa(N),ee.setDetectionResultColumn(Se,Oe);let $e=-1,_t=$e;for(let Et=N.getMinY();Et<=N.getMaxY();Et++){if($e=cr.getStartColumn(ee,Se,Et,we),$e<0||$e>N.getMaxX()){if(_t===-1)continue;$e=_t}let pt=cr.detectCodeword(l,N.getMinX(),N.getMaxX(),we,$e,Et,y,_);pt!=null&&(Oe.setCodeword(Et,pt),_t=$e,y=Math.min(y,pt.getWidth()),_=Math.max(_,pt.getWidth()))}}return cr.createDecoderResult(ee)}static merge(l,u){if(l==null&&u==null)return null;let g=cr.getBarcodeMetadata(l,u);if(g==null)return null;let x=Qs.merge(cr.adjustBoundingBox(l),cr.adjustBoundingBox(u));return new Xn(g,x)}static adjustBoundingBox(l){if(l==null)return null;let u=l.getRowHeights();if(u==null)return null;let g=cr.getMax(u),x=0;for(let _ of u)if(x+=g-_,_>0)break;let w=l.getCodewords();for(let _=0;x>0&&w[_]==null;_++)x--;let y=0;for(let _=u.length-1;_>=0&&(y+=g-u[_],!(u[_]>0));_--);for(let _=w.length-1;y>0&&w[_]==null;_--)y--;return l.getBoundingBox().addMissingRows(x,y,l.isLeft())}static getMax(l){let u=-1;for(let g of l)u=Math.max(u,g);return u}static getBarcodeMetadata(l,u){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let x;return u==null||(x=u.getBarcodeMetadata())==null?g:g.getColumnCount()!==x.getColumnCount()&&g.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&g.getRowCount()!==x.getRowCount()?null:g}static getRowIndicatorColumn(l,u,g,x,w,y){let _=new pn(u,x);for(let N=0;N<2;N++){let D=N===0?1:-1,H=Math.trunc(Math.trunc(g.getX()));for(let ee=Math.trunc(Math.trunc(g.getY()));ee<=u.getMaxY()&&ee>=u.getMinY();ee+=D){let se=cr.detectCodeword(l,0,l.getWidth(),x,H,ee,w,y);se!=null&&(_.setCodeword(ee,se),x?H=se.getStartX():H=se.getEndX())}}return _}static adjustCodewordCount(l,u){let g=u[0][1],x=g.getValue(),w=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-cr.getNumberOfECCodeWords(l.getBarcodeECLevel());if(x.length===0){if(w<1||w>tr.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();g.setValue(w)}else x[0]!==w&&g.setValue(w)}static createDecoderResult(l){let u=cr.createBarcodeMatrix(l);cr.adjustCodewordCount(l,u);let g=new Array,x=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),w=[],y=new Array;for(let N=0;N<l.getBarcodeRowCount();N++)for(let D=0;D<l.getBarcodeColumnCount();D++){let H=u[N][D+1].getValue(),ee=N*l.getBarcodeColumnCount()+D;H.length===0?g.push(ee):H.length===1?x[ee]=H[0]:(y.push(ee),w.push(H))}let _=new Array(w.length);for(let N=0;N<_.length;N++)_[N]=w[N];return cr.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),x,tr.toIntArray(g),tr.toIntArray(y),_)}static createDecoderResultFromAmbiguousValues(l,u,g,x,w){let y=new Int32Array(x.length),_=100;for(;_-- >0;){for(let N=0;N<y.length;N++)u[x[N]]=w[N][y[N]];try{return cr.decodeCodewords(u,l,g)}catch(N){if(!(N instanceof S))throw N}if(y.length===0)throw S.getChecksumInstance();for(let N=0;N<y.length;N++)if(y[N]<w[N].length-1){y[N]++;break}else if(y[N]=0,N===y.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(l){let u=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let x=0;x<u.length;x++)for(let w=0;w<u[x].length;w++)u[x][w]=new Vs;let g=0;for(let x of l.getDetectionResultColumns()){if(x!=null){for(let w of x.getCodewords())if(w!=null){let y=w.getRowNumber();if(y>=0){if(y>=u.length)continue;u[y][g].setValue(w.getValue())}}}g++}return u}static isValidBarcodeColumn(l,u){return u>=0&&u<=l.getBarcodeColumnCount()+1}static getStartColumn(l,u,g,x){let w=x?1:-1,y=null;if(cr.isValidBarcodeColumn(l,u-w)&&(y=l.getDetectionResultColumn(u-w).getCodeword(g)),y!=null)return x?y.getEndX():y.getStartX();if(y=l.getDetectionResultColumn(u).getCodewordNearby(g),y!=null)return x?y.getStartX():y.getEndX();if(cr.isValidBarcodeColumn(l,u-w)&&(y=l.getDetectionResultColumn(u-w).getCodewordNearby(g)),y!=null)return x?y.getEndX():y.getStartX();let _=0;for(;cr.isValidBarcodeColumn(l,u-w);){u-=w;for(let N of l.getDetectionResultColumn(u).getCodewords())if(N!=null)return(x?N.getEndX():N.getStartX())+w*_*(N.getEndX()-N.getStartX());_++}return x?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,u,g,x,w,y,_,N){w=cr.adjustCodewordStartColumn(l,u,g,x,w,y);let D=cr.getModuleBitCount(l,u,g,x,w,y);if(D==null)return null;let H,ee=Rt.sum(D);if(x)H=w+ee;else{for(let Te=0;Te<D.length/2;Te++){let Se=D[Te];D[Te]=D[D.length-1-Te],D[D.length-1-Te]=Se}H=w,w=H-ee}if(!cr.checkCodewordSkew(ee,_,N))return null;let se=Yn.getDecodedValue(D),we=tr.getCodeword(se);return we===-1?null:new bs(w,H,cr.getCodewordBucketNumber(se),we)}static getModuleBitCount(l,u,g,x,w,y){let _=w,N=new Int32Array(8),D=0,H=x?1:-1,ee=x;for(;(x?_<g:_>=u)&&D<N.length;)l.get(_,y)===ee?(N[D]++,_+=H):(D++,ee=!ee);return D===N.length||_===(x?g:u)&&D===N.length-1?N:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,u,g,x,w,y){let _=w,N=x?-1:1;for(let D=0;D<2;D++){for(;(x?_>=u:_<g)&&x===l.get(_,y);){if(Math.abs(w-_)>cr.CODEWORD_SKEW_SIZE)return w;_+=N}N=-N,x=!x}return _}static checkCodewordSkew(l,u,g){return u-cr.CODEWORD_SKEW_SIZE<=l&&l<=g+cr.CODEWORD_SKEW_SIZE}static decodeCodewords(l,u,g){if(l.length===0)throw M.getFormatInstance();let x=1<<u+1,w=cr.correctErrors(l,g,x);cr.verifyCodewordCount(l,x);let y=Je.decode(l,""+u);return y.setErrorsCorrected(w),y.setErasures(g.length),y}static correctErrors(l,u,g){if(u!=null&&u.length>g/2+cr.MAX_ERRORS||g<0||g>cr.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return cr.errorCorrection.decode(l,g,u)}static verifyCodewordCount(l,u){if(l.length<4)throw M.getFormatInstance();let g=l[0];if(g>l.length)throw M.getFormatInstance();if(g===0)if(u<l.length)l[0]=l.length-u;else throw M.getFormatInstance()}static getBitCountForCodeword(l){let u=new Int32Array(8),g=0,x=u.length-1;for(;!((l&1)!==g&&(g=l&1,x--,x<0));)u[x]++,l>>=1;return u}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return cr.getCodewordBucketNumber(cr.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let u=new Hs;for(let g=0;g<l.length;g++){u.format("Row %2d: ",g);for(let x=0;x<l[g].length;x++){let w=l[g][x];w.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}u.format("%n")}return u.toString()}}cr.CODEWORD_SKEW_SIZE=2,cr.MAX_ERRORS=3,cr.MAX_EC_CODEWORDS=512,cr.errorCorrection=new ss;class si{decode(l,u=null){let g=si.decode(l,u,!1);if(g==null||g.length===0||g[0]==null)throw xe.getNotFoundInstance();return g[0]}decodeMultiple(l,u=null){try{return si.decode(l,u,!0)}catch(g){throw g instanceof M||g instanceof S?xe.getNotFoundInstance():g}}static decode(l,u,g){const x=new Array,w=rr.detectMultiple(l,u,g);for(const y of w.getPoints()){const _=cr.decode(w.getBits(),y[4],y[5],y[6],y[7],si.getMinCodewordWidth(y),si.getMaxCodewordWidth(y)),N=new ae(_.getText(),_.getRawBytes(),void 0,y,Ee.PDF_417);N.putMetadata(Ne.ERROR_CORRECTION_LEVEL,_.getECLevel());const D=_.getOther();D!=null&&N.putMetadata(Ne.PDF417_EXTRA_METADATA,D),x.push(N)}return x.map(y=>y)}static getMaxWidth(l,u){return l==null||u==null?0:Math.trunc(Math.abs(l.getX()-u.getX()))}static getMinWidth(l,u){return l==null||u==null?Q.MAX_VALUE:Math.trunc(Math.abs(l.getX()-u.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(si.getMaxWidth(l[0],l[4]),si.getMaxWidth(l[6],l[2])*tr.MODULES_IN_CODEWORD/tr.MODULES_IN_STOP_PATTERN),Math.max(si.getMaxWidth(l[1],l[5]),si.getMaxWidth(l[7],l[3])*tr.MODULES_IN_CODEWORD/tr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(si.getMinWidth(l[0],l[4]),si.getMinWidth(l[6],l[2])*tr.MODULES_IN_CODEWORD/tr.MODULES_IN_STOP_PATTERN),Math.min(si.getMinWidth(l[1],l[5]),si.getMinWidth(l[7],l[3])*tr.MODULES_IN_CODEWORD/tr.MODULES_IN_STOP_PATTERN)))}reset(){}}class jo extends h{}jo.kind="ReaderException";class yo{constructor(l,u){this.verbose=l===!0,u&&this.setHints(u)}decode(l,u){return u&&this.setHints(u),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const u=!n(l)&&l.get(K.TRY_HARDER)===!0,g=n(l)?null:l.get(K.POSSIBLE_FORMATS),x=new Array;if(!n(g)){const w=g.some(y=>y===Ee.UPC_A||y===Ee.UPC_E||y===Ee.EAN_13||y===Ee.EAN_8||y===Ee.CODABAR||y===Ee.CODE_39||y===Ee.CODE_93||y===Ee.CODE_128||y===Ee.ITF||y===Ee.RSS_14||y===Ee.RSS_EXPANDED);w&&!u&&x.push(new Qn(l,this.verbose)),g.includes(Ee.QR_CODE)&&x.push(new sa),g.includes(Ee.DATA_MATRIX)&&x.push(new Ms),g.includes(Ee.AZTEC)&&x.push(new Yt),g.includes(Ee.PDF_417)&&x.push(new si),w&&u&&x.push(new Qn(l,this.verbose))}x.length===0&&(u||x.push(new Qn(l,this.verbose)),x.push(new sa),x.push(new Ms),x.push(new Yt),x.push(new si),u&&x.push(new Qn(l,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new jo("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(l,this.hints)}catch(g){if(g instanceof jo)continue}throw new xe("No MultiFormat Readers were able to detect the code.")}}class VA extends oe{constructor(l=null,u=500){const g=new yo;g.setHints(l),super(g,u)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class zc extends oe{constructor(l=500){super(new si,l)}}class jA extends oe{constructor(l=500){super(new sa,l)}}var Go;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(Go||(Go={}));var Mn=Go;class Ta{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Tt(l,Int32Array.from([1])))}buildGenerator(l){const u=this.cachedGenerators;if(l>=u.length){let g=u[u.length-1];const x=this.field;for(let w=u.length;w<=l;w++){const y=g.multiply(new Tt(x,Int32Array.from([1,x.exp(w-1+x.getGeneratorBase())])));u.push(y),g=y}}return u[l]}encode(l,u){if(u===0)throw new C("No error correction bytes");const g=l.length-u;if(g<=0)throw new C("No data bytes provided");const x=this.buildGenerator(u),w=new Int32Array(g);k.arraycopy(l,0,w,0,g);let y=new Tt(this.field,w);y=y.multiplyByMonomial(u,1);const N=y.divide(x)[1].getCoefficients(),D=u-N.length;for(let H=0;H<D;H++)l[g+H]=0;k.arraycopy(N,0,l,g+D,N.length)}}class En{constructor(){}static applyMaskPenaltyRule1(l){return En.applyMaskPenaltyRule1Internal(l,!0)+En.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let u=0;const g=l.getArray(),x=l.getWidth(),w=l.getHeight();for(let y=0;y<w-1;y++){const _=g[y];for(let N=0;N<x-1;N++){const D=_[N];D===_[N+1]&&D===g[y+1][N]&&D===g[y+1][N+1]&&u++}}return En.N2*u}static applyMaskPenaltyRule3(l){let u=0;const g=l.getArray(),x=l.getWidth(),w=l.getHeight();for(let y=0;y<w;y++)for(let _=0;_<x;_++){const N=g[y];_+6<x&&N[_]===1&&N[_+1]===0&&N[_+2]===1&&N[_+3]===1&&N[_+4]===1&&N[_+5]===0&&N[_+6]===1&&(En.isWhiteHorizontal(N,_-4,_)||En.isWhiteHorizontal(N,_+7,_+11))&&u++,y+6<w&&g[y][_]===1&&g[y+1][_]===0&&g[y+2][_]===1&&g[y+3][_]===1&&g[y+4][_]===1&&g[y+5][_]===0&&g[y+6][_]===1&&(En.isWhiteVertical(g,_,y-4,y)||En.isWhiteVertical(g,_,y+7,y+11))&&u++}return u*En.N3}static isWhiteHorizontal(l,u,g){u=Math.max(u,0),g=Math.min(g,l.length);for(let x=u;x<g;x++)if(l[x]===1)return!1;return!0}static isWhiteVertical(l,u,g,x){g=Math.max(g,0),x=Math.min(x,l.length);for(let w=g;w<x;w++)if(l[w][u]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let u=0;const g=l.getArray(),x=l.getWidth(),w=l.getHeight();for(let N=0;N<w;N++){const D=g[N];for(let H=0;H<x;H++)D[H]===1&&u++}const y=l.getHeight()*l.getWidth();return Math.floor(Math.abs(u*2-y)*10/y)*En.N4}static getDataMaskBit(l,u,g){let x,w;switch(l){case 0:x=g+u&1;break;case 1:x=g&1;break;case 2:x=u%3;break;case 3:x=(g+u)%3;break;case 4:x=Math.floor(g/2)+Math.floor(u/3)&1;break;case 5:w=g*u,x=(w&1)+w%3;break;case 6:w=g*u,x=(w&1)+w%3&1;break;case 7:w=g*u,x=w%3+(g+u&1)&1;break;default:throw new C("Invalid mask pattern: "+l)}return x===0}static applyMaskPenaltyRule1Internal(l,u){let g=0;const x=u?l.getHeight():l.getWidth(),w=u?l.getWidth():l.getHeight(),y=l.getArray();for(let _=0;_<x;_++){let N=0,D=-1;for(let H=0;H<w;H++){const ee=u?y[_][H]:y[H][_];ee===D?N++:(N>=5&&(g+=En.N1+(N-5)),N=1,D=ee)}N>=5&&(g+=En.N1+(N-5))}return g}}En.N1=3,En.N2=3,En.N3=40,En.N4=10;class Ko{constructor(l,u){this.width=l,this.height=u;const g=new Array(u);for(let x=0;x!==u;x++)g[x]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,u){return this.bytes[u][l]}getArray(){return this.bytes}setNumber(l,u,g){this.bytes[u][l]=g}setBoolean(l,u,g){this.bytes[u][l]=g?1:0}clear(l){for(const u of this.bytes)G.fill(u,l)}equals(l){if(!(l instanceof Ko))return!1;const u=l;if(this.width!==u.width||this.height!==u.height)return!1;for(let g=0,x=this.height;g<x;++g){const w=this.bytes[g],y=u.bytes[g];for(let _=0,N=this.width;_<N;++_)if(w[_]!==y[_])return!1}return!0}toString(){const l=new X;for(let u=0,g=this.height;u<g;++u){const x=this.bytes[u];for(let w=0,y=this.width;w<y;++w)switch(x[w]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Hi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new X;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Hi.NUM_MASK_PATTERNS}}Hi.NUM_MASK_PATTERNS=8;class qr extends h{}qr.kind="WriterException";class $t{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,u,g,x,w){$t.clearMatrix(w),$t.embedBasicPatterns(g,w),$t.embedTypeInfo(u,x,w),$t.maybeEmbedVersionInfo(g,w),$t.embedDataBits(l,x,w)}static embedBasicPatterns(l,u){$t.embedPositionDetectionPatternsAndSeparators(u),$t.embedDarkDotAtLeftBottomCorner(u),$t.maybeEmbedPositionAdjustmentPatterns(l,u),$t.embedTimingPatterns(u)}static embedTypeInfo(l,u,g){const x=new J;$t.makeTypeInfoBits(l,u,x);for(let w=0,y=x.getSize();w<y;++w){const _=x.get(x.getSize()-1-w),N=$t.TYPE_INFO_COORDINATES[w],D=N[0],H=N[1];if(g.setBoolean(D,H,_),w<8){const ee=g.getWidth()-w-1;g.setBoolean(ee,8,_)}else{const se=g.getHeight()-7+(w-8);g.setBoolean(8,se,_)}}}static maybeEmbedVersionInfo(l,u){if(l.getVersionNumber()<7)return;const g=new J;$t.makeVersionInfoBits(l,g);let x=17;for(let w=0;w<6;++w)for(let y=0;y<3;++y){const _=g.get(x);x--,u.setBoolean(w,u.getHeight()-11+y,_),u.setBoolean(u.getHeight()-11+y,w,_)}}static embedDataBits(l,u,g){let x=0,w=-1,y=g.getWidth()-1,_=g.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);_>=0&&_<g.getHeight();){for(let N=0;N<2;++N){const D=y-N;if(!$t.isEmpty(g.get(D,_)))continue;let H;x<l.getSize()?(H=l.get(x),++x):H=!1,u!==255&&En.getDataMaskBit(u,D,_)&&(H=!H),g.setBoolean(D,_,H)}_+=w}w=-w,_+=w,y-=2}if(x!==l.getSize())throw new qr("Not all bits consumed: "+x+"/"+l.getSize())}static findMSBSet(l){return 32-Q.numberOfLeadingZeros(l)}static calculateBCHCode(l,u){if(u===0)throw new C("0 polynomial");const g=$t.findMSBSet(u);for(l<<=g-1;$t.findMSBSet(l)>=g;)l^=u<<$t.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,u,g){if(!Hi.isValidMaskPattern(u))throw new qr("Invalid mask pattern");const x=l.getBits()<<3|u;g.appendBits(x,5);const w=$t.calculateBCHCode(x,$t.TYPE_INFO_POLY);g.appendBits(w,10);const y=new J;if(y.appendBits($t.TYPE_INFO_MASK_PATTERN,15),g.xor(y),g.getSize()!==15)throw new qr("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,u){u.appendBits(l.getVersionNumber(),6);const g=$t.calculateBCHCode(l.getVersionNumber(),$t.VERSION_INFO_POLY);if(u.appendBits(g,12),u.getSize()!==18)throw new qr("should not happen but we got: "+u.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let u=8;u<l.getWidth()-8;++u){const g=(u+1)%2;$t.isEmpty(l.get(u,6))&&l.setNumber(u,6,g),$t.isEmpty(l.get(6,u))&&l.setNumber(6,u,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new qr;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,u,g){for(let x=0;x<8;++x){if(!$t.isEmpty(g.get(l+x,u)))throw new qr;g.setNumber(l+x,u,0)}}static embedVerticalSeparationPattern(l,u,g){for(let x=0;x<7;++x){if(!$t.isEmpty(g.get(l,u+x)))throw new qr;g.setNumber(l,u+x,0)}}static embedPositionAdjustmentPattern(l,u,g){for(let x=0;x<5;++x){const w=$t.POSITION_ADJUSTMENT_PATTERN[x];for(let y=0;y<5;++y)g.setNumber(l+y,u+x,w[y])}}static embedPositionDetectionPattern(l,u,g){for(let x=0;x<7;++x){const w=$t.POSITION_DETECTION_PATTERN[x];for(let y=0;y<7;++y)g.setNumber(l+y,u+x,w[y])}}static embedPositionDetectionPatternsAndSeparators(l){const u=$t.POSITION_DETECTION_PATTERN[0].length;$t.embedPositionDetectionPattern(0,0,l),$t.embedPositionDetectionPattern(l.getWidth()-u,0,l),$t.embedPositionDetectionPattern(0,l.getWidth()-u,l);const g=8;$t.embedHorizontalSeparationPattern(0,g-1,l),$t.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),$t.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const x=7;$t.embedVerticalSeparationPattern(x,0,l),$t.embedVerticalSeparationPattern(l.getHeight()-x-1,0,l),$t.embedVerticalSeparationPattern(x,l.getHeight()-x,l)}static maybeEmbedPositionAdjustmentPatterns(l,u){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,x=$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let w=0,y=x.length;w!==y;w++){const _=x[w];if(_>=0)for(let N=0;N!==y;N++){const D=x[N];D>=0&&$t.isEmpty(u.get(D,_))&&$t.embedPositionAdjustmentPattern(D-2,_-2,u)}}}}$t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$t.VERSION_INFO_POLY=7973,$t.TYPE_INFO_POLY=1335,$t.TYPE_INFO_MASK_PATTERN=21522;class Wc{constructor(l,u){this.dataBytes=l,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class an{constructor(){}static calculateMaskPenalty(l){return En.applyMaskPenaltyRule1(l)+En.applyMaskPenaltyRule2(l)+En.applyMaskPenaltyRule3(l)+En.applyMaskPenaltyRule4(l)}static encode(l,u,g=null){let x=an.DEFAULT_BYTE_MODE_ENCODING;const w=g!==null&&g.get(Mn.CHARACTER_SET)!==void 0;w&&(x=g.get(Mn.CHARACTER_SET).toString());const y=this.chooseMode(l,x),_=new J;if(y===Jt.BYTE&&(w||an.DEFAULT_BYTE_MODE_ENCODING!==x)){const Et=O.getCharacterSetECIByName(x);Et!==void 0&&this.appendECI(Et,_)}this.appendModeInfo(y,_);const N=new J;this.appendBytes(l,y,N,x);let D;if(g!==null&&g.get(Mn.QR_VERSION)!==void 0){const Et=Number.parseInt(g.get(Mn.QR_VERSION).toString(),10);D=St.getVersionForNumber(Et);const pt=this.calculateBitsNeeded(y,_,N,D);if(!this.willFit(pt,D,u))throw new qr("Data too big for requested version")}else D=this.recommendVersion(u,y,_,N);const H=new J;H.appendBitArray(_);const ee=y===Jt.BYTE?N.getSizeInBytes():l.length;this.appendLengthInfo(ee,D,y,H),H.appendBitArray(N);const se=D.getECBlocksForLevel(u),we=D.getTotalCodewords()-se.getTotalECCodewords();this.terminateBits(we,H);const Te=this.interleaveWithECBytes(H,D.getTotalCodewords(),we,se.getNumBlocks()),Se=new Hi;Se.setECLevel(u),Se.setMode(y),Se.setVersion(D);const Oe=D.getDimensionForVersion(),$e=new Ko(Oe,Oe),_t=this.chooseMaskPattern(Te,u,D,$e);return Se.setMaskPattern(_t),$t.buildMatrix(Te,u,D,_t,$e),Se.setMatrix($e),Se}static recommendVersion(l,u,g,x){const w=this.calculateBitsNeeded(u,g,x,St.getVersionForNumber(1)),y=this.chooseVersion(w,l),_=this.calculateBitsNeeded(u,g,x,y);return this.chooseVersion(_,l)}static calculateBitsNeeded(l,u,g,x){return u.getSize()+l.getCharacterCountBits(x)+g.getSize()}static getAlphanumericCode(l){return l<an.ALPHANUMERIC_TABLE.length?an.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,u=null){if(O.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(l))return Jt.KANJI;let g=!1,x=!1;for(let w=0,y=l.length;w<y;++w){const _=l.charAt(w);if(an.isDigit(_))g=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)x=!0;else return Jt.BYTE}return x?Jt.ALPHANUMERIC:g?Jt.NUMERIC:Jt.BYTE}static isOnlyDoubleByteKanji(l){let u;try{u=te.encode(l,O.SJIS)}catch{return!1}const g=u.length;if(g%2!==0)return!1;for(let x=0;x<g;x+=2){const w=u[x]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(l,u,g,x){let w=Number.MAX_SAFE_INTEGER,y=-1;for(let _=0;_<Hi.NUM_MASK_PATTERNS;_++){$t.buildMatrix(l,u,g,_,x);let N=this.calculateMaskPenalty(x);N<w&&(w=N,y=_)}return y}static chooseVersion(l,u){for(let g=1;g<=40;g++){const x=St.getVersionForNumber(g);if(an.willFit(l,x,u))return x}throw new qr("Data too big")}static willFit(l,u,g){const x=u.getTotalCodewords(),y=u.getECBlocksForLevel(g).getTotalECCodewords(),_=x-y,N=(l+7)/8;return _>=N}static terminateBits(l,u){const g=l*8;if(u.getSize()>g)throw new qr("data bits cannot fit in the QR Code"+u.getSize()+" > "+g);for(let y=0;y<4&&u.getSize()<g;++y)u.appendBit(!1);const x=u.getSize()&7;if(x>0)for(let y=x;y<8;y++)u.appendBit(!1);const w=l-u.getSizeInBytes();for(let y=0;y<w;++y)u.appendBits((y&1)===0?236:17,8);if(u.getSize()!==g)throw new qr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,u,g,x,w,y){if(x>=g)throw new qr("Block ID too large");const _=l%g,N=g-_,D=Math.floor(l/g),H=D+1,ee=Math.floor(u/g),se=ee+1,we=D-ee,Te=H-se;if(we!==Te)throw new qr("EC bytes mismatch");if(g!==N+_)throw new qr("RS blocks mismatch");if(l!==(ee+we)*N+(se+Te)*_)throw new qr("Total bytes mismatch");x<N?(w[0]=ee,y[0]=we):(w[0]=se,y[0]=Te)}static interleaveWithECBytes(l,u,g,x){if(l.getSizeInBytes()!==g)throw new qr("Number of bits and data bytes does not match");let w=0,y=0,_=0;const N=new Array;for(let H=0;H<x;++H){const ee=new Int32Array(1),se=new Int32Array(1);an.getNumDataBytesAndNumECBytesForBlockID(u,g,x,H,ee,se);const we=ee[0],Te=new Uint8Array(we);l.toBytes(8*w,Te,0,we);const Se=an.generateECBytes(Te,se[0]);N.push(new Wc(Te,Se)),y=Math.max(y,we),_=Math.max(_,Se.length),w+=ee[0]}if(g!==w)throw new qr("Data bytes does not match offset");const D=new J;for(let H=0;H<y;++H)for(const ee of N){const se=ee.getDataBytes();H<se.length&&D.appendBits(se[H],8)}for(let H=0;H<_;++H)for(const ee of N){const se=ee.getErrorCorrectionBytes();H<se.length&&D.appendBits(se[H],8)}if(u!==D.getSizeInBytes())throw new qr("Interleaving error: "+u+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(l,u){const g=l.length,x=new Int32Array(g+u);for(let y=0;y<g;y++)x[y]=l[y]&255;new Ta(tt.QR_CODE_FIELD_256).encode(x,u);const w=new Uint8Array(u);for(let y=0;y<u;y++)w[y]=x[g+y];return w}static appendModeInfo(l,u){u.appendBits(l.getBits(),4)}static appendLengthInfo(l,u,g,x){const w=g.getCharacterCountBits(u);if(l>=1<<w)throw new qr(l+" is bigger than "+((1<<w)-1));x.appendBits(l,w)}static appendBytes(l,u,g,x){switch(u){case Jt.NUMERIC:an.appendNumericBytes(l,g);break;case Jt.ALPHANUMERIC:an.appendAlphanumericBytes(l,g);break;case Jt.BYTE:an.append8BitBytes(l,g,x);break;case Jt.KANJI:an.appendKanjiBytes(l,g);break;default:throw new qr("Invalid mode: "+u)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const u=an.getDigit(l);return u>=0&&u<=9}static appendNumericBytes(l,u){const g=l.length;let x=0;for(;x<g;){const w=an.getDigit(l.charAt(x));if(x+2<g){const y=an.getDigit(l.charAt(x+1)),_=an.getDigit(l.charAt(x+2));u.appendBits(w*100+y*10+_,10),x+=3}else if(x+1<g){const y=an.getDigit(l.charAt(x+1));u.appendBits(w*10+y,7),x+=2}else u.appendBits(w,4),x++}}static appendAlphanumericBytes(l,u){const g=l.length;let x=0;for(;x<g;){const w=an.getAlphanumericCode(l.charCodeAt(x));if(w===-1)throw new qr;if(x+1<g){const y=an.getAlphanumericCode(l.charCodeAt(x+1));if(y===-1)throw new qr;u.appendBits(w*45+y,11),x+=2}else u.appendBits(w,6),x++}}static append8BitBytes(l,u,g){let x;try{x=te.encode(l,g)}catch(w){throw new qr(w)}for(let w=0,y=x.length;w!==y;w++){const _=x[w];u.appendBits(_,8)}}static appendKanjiBytes(l,u){let g;try{g=te.encode(l,O.SJIS)}catch(w){throw new qr(w)}const x=g.length;for(let w=0;w<x;w+=2){const y=g[w]&255,_=g[w+1]&255,N=y<<8&4294967295|_;let D=-1;if(N>=33088&&N<=40956?D=N-33088:N>=57408&&N<=60351&&(D=N-49472),D===-1)throw new qr("Invalid byte sequence");const H=(D>>8)*192+(D&255);u.appendBits(H,13)}}static appendECI(l,u){u.appendBits(Jt.ECI.getBits(),4),u.appendBits(l.getValue(),8)}}an.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),an.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class Gs{write(l,u,g,x=null){if(l.length===0)throw new C("Found empty contents");if(u<0||g<0)throw new C("Requested dimensions are too small: "+u+"x"+g);let w=or.L,y=Gs.QUIET_ZONE_SIZE;x!==null&&(x.get(Mn.ERROR_CORRECTION)!==void 0&&(w=or.fromString(x.get(Mn.ERROR_CORRECTION).toString())),x.get(Mn.MARGIN)!==void 0&&(y=Number.parseInt(x.get(Mn.MARGIN).toString(),10)));const _=an.encode(l,w,x);return this.renderResult(_,u,g,y)}writeToDom(l,u,g,x,w=null){typeof l=="string"&&(l=document.querySelector(l));const y=this.write(u,g,x,w);l&&l.appendChild(y)}renderResult(l,u,g,x){const w=l.getMatrix();if(w===null)throw new kt;const y=w.getWidth(),_=w.getHeight(),N=y+x*2,D=_+x*2,H=Math.max(u,N),ee=Math.max(g,D),se=Math.min(Math.floor(H/N),Math.floor(ee/D)),we=Math.floor((H-y*se)/2),Te=Math.floor((ee-_*se)/2),Se=this.createSVGElement(H,ee);for(let Oe=0,$e=Te;Oe<_;Oe++,$e+=se)for(let _t=0,Et=we;_t<y;_t++,Et+=se)if(w.get(_t,Oe)===1){const pt=this.createSvgRectElement(Et,$e,se,se);Se.appendChild(pt)}return Se}createSVGElement(l,u){const g=document.createElementNS(Gs.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",u.toString()),g}createSvgRectElement(l,u,g,x){const w=document.createElementNS(Gs.SVG_NS,"rect");return w.setAttributeNS(null,"x",l.toString()),w.setAttributeNS(null,"y",u.toString()),w.setAttributeNS(null,"height",g.toString()),w.setAttributeNS(null,"width",x.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Gs.QUIET_ZONE_SIZE=4,Gs.SVG_NS="http://www.w3.org/2000/svg";class Jn{encode(l,u,g,x,w){if(l.length===0)throw new C("Found empty contents");if(u!==Ee.QR_CODE)throw new C("Can only encode QR_CODE, but got "+u);if(g<0||x<0)throw new C(`Requested dimensions are too small: ${g}x${x}`);let y=or.L,_=Jn.QUIET_ZONE_SIZE;w!==null&&(w.get(Mn.ERROR_CORRECTION)!==void 0&&(y=or.fromString(w.get(Mn.ERROR_CORRECTION).toString())),w.get(Mn.MARGIN)!==void 0&&(_=Number.parseInt(w.get(Mn.MARGIN).toString(),10)));const N=an.encode(l,y,w);return Jn.renderResult(N,g,x,_)}static renderResult(l,u,g,x){const w=l.getMatrix();if(w===null)throw new kt;const y=w.getWidth(),_=w.getHeight(),N=y+x*2,D=_+x*2,H=Math.max(u,N),ee=Math.max(g,D),se=Math.min(Math.floor(H/N),Math.floor(ee/D)),we=Math.floor((H-y*se)/2),Te=Math.floor((ee-_*se)/2),Se=new Re(H,ee);for(let Oe=0,$e=Te;Oe<_;Oe++,$e+=se)for(let _t=0,Et=we;_t<y;_t++,Et+=se)w.get(_t,Oe)===1&&Se.setRegion(Et,$e,se,se);return Se}}Jn.QUIET_ZONE_SIZE=4;class qc{encode(l,u,g,x,w){let y;switch(u){case Ee.QR_CODE:y=new Jn;break;default:throw new C("No encoder available for format "+u)}return y.encode(l,u,g,x,w)}}class _s extends We{constructor(l,u,g,x,w,y,_,N){if(super(y,_),this.yuvData=l,this.dataWidth=u,this.dataHeight=g,this.left=x,this.top=w,x+y>u||w+_>g)throw new C("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(y,_)}getRow(l,u){if(l<0||l>=this.getHeight())throw new C("Requested row is outside the image: "+l);const g=this.getWidth();(u==null||u.length<g)&&(u=new Uint8ClampedArray(g));const x=(l+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,x,u,0,g),u}getMatrix(){const l=this.getWidth(),u=this.getHeight();if(l===this.dataWidth&&u===this.dataHeight)return this.yuvData;const g=l*u,x=new Uint8ClampedArray(g);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return k.arraycopy(this.yuvData,w,x,0,g),x;for(let y=0;y<u;y++){const _=y*l;k.arraycopy(this.yuvData,w,x,_,l),w+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,u,g,x){return new _s(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+u,g,x,!1)}renderThumbnail(){const l=this.getWidth()/_s.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/_s.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*u),x=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let y=0;y<u;y++){const _=y*l;for(let N=0;N<l;N++){const D=x[w+N*_s.THUMBNAIL_SCALE_FACTOR]&255;g[_+N]=4278190080|D*65793}w+=this.dataWidth*_s.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/_s.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/_s.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,u){const g=this.yuvData;for(let x=0,w=this.top*this.dataWidth+this.left;x<u;x++,w+=this.dataWidth){const y=w+l/2;for(let _=w,N=w+l-1;_<y;_++,N--){const D=g[_];g[_]=g[N],g[N]=D}}}invert(){return new be(this)}}_s.THUMBNAIL_SCALE_FACTOR=2;class Ba extends We{constructor(l,u,g,x,w,y,_){if(super(u,g),this.dataWidth=x,this.dataHeight=w,this.left=y,this.top=_,l.BYTES_PER_ELEMENT===4){const N=u*g,D=new Uint8ClampedArray(N);for(let H=0;H<N;H++){const ee=l[H],se=ee>>16&255,we=ee>>7&510,Te=ee&255;D[H]=(se+we+Te)/4&255}this.luminances=D}else this.luminances=l;if(x===void 0&&(this.dataWidth=u),w===void 0&&(this.dataHeight=g),y===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+g>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(l,u){if(l<0||l>=this.getHeight())throw new C("Requested row is outside the image: "+l);const g=this.getWidth();(u==null||u.length<g)&&(u=new Uint8ClampedArray(g));const x=(l+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,x,u,0,g),u}getMatrix(){const l=this.getWidth(),u=this.getHeight();if(l===this.dataWidth&&u===this.dataHeight)return this.luminances;const g=l*u,x=new Uint8ClampedArray(g);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return k.arraycopy(this.luminances,w,x,0,g),x;for(let y=0;y<u;y++){const _=y*l;k.arraycopy(this.luminances,w,x,_,l),w+=this.dataWidth}return x}isCropSupported(){return!0}crop(l,u,g,x){return new Ba(this.luminances,g,x,this.dataWidth,this.dataHeight,this.left+l,this.top+u)}invert(){return new be(this)}}class B extends O{static forName(l){return this.getCharacterSetECIByName(l)}}class L{}L.ISO_8859_1=O.ISO8859_1;class z{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class fe{static singletonList(l){return[l]}static min(l,u){return l.sort(u)[0]}}class Pe{constructor(l){this.previous=l}getPrevious(){return this.previous}}class et extends Pe{constructor(l,u,g){super(l),this.value=u,this.bitCount=g}appendTo(l,u){l.appendBits(this.value,this.bitCount)}add(l,u){return new et(this,l,u)}addBinaryShift(l,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new et(this,l,u)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+Q.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class Ft extends et{constructor(l,u,g){super(l,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=g}appendTo(l,u){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(u[this.binaryShiftStart+g],8)}addBinaryShift(l,u){return new Ft(this,l,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zr(Y,l,u){return new Ft(Y,l,u)}function Bn(Y,l,u){return new et(Y,l,u)}const _r=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bn=0,Vn=1,ai=2,Vi=3,Ri=4,Za=new et(null,0,0),zo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Kp(Y){for(let l of Y)G.fill(l,-1);return Y[bn][Ri]=0,Y[Vn][Ri]=0,Y[Vn][bn]=28,Y[Vi][Ri]=0,Y[ai][Ri]=0,Y[ai][bn]=15,Y}const GA=Kp(G.createInt32Array(6,6));class oa{constructor(l,u,g,x){this.token=l,this.mode=u,this.binaryShiftByteCount=g,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,u){let g=this.bitCount,x=this.token;if(l!==this.mode){let y=zo[this.mode][l];x=Bn(x,y&65535,y>>16),g+=y>>16}let w=l===ai?4:5;return x=Bn(x,u,w),new oa(x,l,0,g+w)}shiftAndAppend(l,u){let g=this.token,x=this.mode===ai?4:5;return g=Bn(g,GA[this.mode][l],x),g=Bn(g,u,5),new oa(g,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(l){let u=this.token,g=this.mode,x=this.bitCount;if(this.mode===Ri||this.mode===ai){let _=zo[g][bn];u=Bn(u,_&65535,_>>16),x+=_>>16,g=bn}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new oa(u,g,this.binaryShiftByteCount+1,x+w);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(l+1)),y}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Zr(u,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new oa(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let u=this.bitCount+(zo[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?u+=oa.calculateBinaryShiftCost(l)-oa.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(u+=10),u<=l.bitCount}toBitArray(l){let u=[];for(let x=this.endBinaryShift(l.length).token;x!==null;x=x.getPrevious())u.unshift(x);let g=new J;for(const x of u)x.appendTo(g,l);return g}toString(){return q.format("%s bits=%d bytes=%d",_r[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}oa.INITIAL_STATE=new oa(Za,bn,0,0);function Gd(Y){const l=q.getCharCode(" "),u=q.getCharCode("."),g=q.getCharCode(",");Y[bn][l]=1;const x=q.getCharCode("Z"),w=q.getCharCode("A");for(let se=w;se<=x;se++)Y[bn][se]=se-w+2;Y[Vn][l]=1;const y=q.getCharCode("z"),_=q.getCharCode("a");for(let se=_;se<=y;se++)Y[Vn][se]=se-_+2;Y[ai][l]=1;const N=q.getCharCode("9"),D=q.getCharCode("0");for(let se=D;se<=N;se++)Y[ai][se]=se-D+2;Y[ai][g]=12,Y[ai][u]=13;const H=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let se=0;se<H.length;se++)Y[Vi][q.getCharCode(H[se])]=se;const ee=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let se=0;se<ee.length;se++)q.getCharCode(ee[se])>0&&(Y[Ri][q.getCharCode(ee[se])]=se);return Y}const KA=Gd(G.createInt32Array(5,256));class Wo{constructor(l){this.text=l}encode(){const l=q.getCharCode(" "),u=q.getCharCode(`
`);let g=fe.singletonList(oa.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let y,_=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case q.getCharCode("\r"):y=_===u?2:0;break;case q.getCharCode("."):y=_===l?3:0;break;case q.getCharCode(","):y=_===l?4:0;break;case q.getCharCode(":"):y=_===l?5:0;break;default:y=0}y>0?(g=Wo.updateStateListForPair(g,w,y),w++):g=this.updateStateListForChar(g,w)}return fe.min(g,(w,y)=>w.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,u){const g=[];for(let x of l)this.updateStateForChar(x,u,g);return Wo.simplifyStates(g)}updateStateForChar(l,u,g){let x=this.text[u]&255,w=KA[l.getMode()][x]>0,y=null;for(let _=0;_<=Ri;_++){let N=KA[_][x];if(N>0){if(y==null&&(y=l.endBinaryShift(u)),!w||_===l.getMode()||_===ai){const D=y.latchAndAppend(_,N);g.push(D)}if(!w&&GA[l.getMode()][_]>=0){const D=y.shiftAndAppend(_,N);g.push(D)}}}if(l.getBinaryShiftByteCount()>0||KA[l.getMode()][x]===0){let _=l.addBinaryShiftChar(u);g.push(_)}}static updateStateListForPair(l,u,g){const x=[];for(let w of l)this.updateStateForPair(w,u,g,x);return this.simplifyStates(x)}static updateStateForPair(l,u,g,x){let w=l.endBinaryShift(u);if(x.push(w.latchAndAppend(Ri,g)),l.getMode()!==Ri&&x.push(w.shiftAndAppend(Ri,g)),g===3||g===4){let y=w.latchAndAppend(ai,16-g).latchAndAppend(ai,1);x.push(y)}if(l.getBinaryShiftByteCount()>0){let y=l.addBinaryShiftChar(u).addBinaryShiftChar(u+1);x.push(y)}}static simplifyStates(l){let u=[];for(const g of l){let x=!0;for(const w of u){if(w.isBetterThanOrEqualTo(g)){x=!1;break}g.isBetterThanOrEqualTo(w)&&(u=u.filter(y=>y!==w))}x&&u.push(g)}return u}}class kr{constructor(){}static encodeBytes(l){return kr.encode(l,kr.DEFAULT_EC_PERCENT,kr.DEFAULT_AZTEC_LAYERS)}static encode(l,u,g){let x=new Wo(l).encode(),w=Q.truncDivision(x.getSize()*u,100)+11,y=x.getSize()+w,_,N,D,H,ee;if(g!==kr.DEFAULT_AZTEC_LAYERS){if(_=g<0,N=Math.abs(g),N>(_?kr.MAX_NB_BITS_COMPACT:kr.MAX_NB_BITS))throw new C(q.format("Illegal value %s for layers",g));D=kr.totalBitsInLayer(N,_),H=kr.WORD_SIZE[N];let pt=D-D%H;if(ee=kr.stuffBits(x,H),ee.getSize()+w>pt)throw new C("Data to large for user specified layer");if(_&&ee.getSize()>H*64)throw new C("Data to large for user specified layer")}else{H=0,ee=null;for(let pt=0;;pt++){if(pt>kr.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(_=pt<=3,N=_?pt+1:pt,D=kr.totalBitsInLayer(N,_),y>D)continue;(ee==null||H!==kr.WORD_SIZE[N])&&(H=kr.WORD_SIZE[N],ee=kr.stuffBits(x,H));let Ir=D-D%H;if(!(_&&ee.getSize()>H*64)&&ee.getSize()+w<=Ir)break}}let se=kr.generateCheckWords(ee,D,H),we=ee.getSize()/H,Te=kr.generateModeMessage(_,N,we),Se=(_?11:14)+N*4,Oe=new Int32Array(Se),$e;if(_){$e=Se;for(let pt=0;pt<Oe.length;pt++)Oe[pt]=pt}else{$e=Se+1+2*Q.truncDivision(Q.truncDivision(Se,2)-1,15);let pt=Q.truncDivision(Se,2),Ir=Q.truncDivision($e,2);for(let gr=0;gr<pt;gr++){let Zn=gr+Q.truncDivision(gr,15);Oe[pt-gr-1]=Ir-Zn-1,Oe[pt+gr]=Ir+Zn+1}}let _t=new Re($e);for(let pt=0,Ir=0;pt<N;pt++){let gr=(N-pt)*4+(_?9:12);for(let Zn=0;Zn<gr;Zn++){let Ks=Zn*2;for(let ji=0;ji<2;ji++)se.get(Ir+Ks+ji)&&_t.set(Oe[pt*2+ji],Oe[pt*2+Zn]),se.get(Ir+gr*2+Ks+ji)&&_t.set(Oe[pt*2+Zn],Oe[Se-1-pt*2-ji]),se.get(Ir+gr*4+Ks+ji)&&_t.set(Oe[Se-1-pt*2-ji],Oe[Se-1-pt*2-Zn]),se.get(Ir+gr*6+Ks+ji)&&_t.set(Oe[Se-1-pt*2-Zn],Oe[pt*2+ji])}Ir+=gr*8}if(kr.drawModeMessage(_t,_,$e,Te),_)kr.drawBullsEye(_t,Q.truncDivision($e,2),5);else{kr.drawBullsEye(_t,Q.truncDivision($e,2),7);for(let pt=0,Ir=0;pt<Q.truncDivision(Se,2)-1;pt+=15,Ir+=16)for(let gr=Q.truncDivision($e,2)&1;gr<$e;gr+=2)_t.set(Q.truncDivision($e,2)-Ir,gr),_t.set(Q.truncDivision($e,2)+Ir,gr),_t.set(gr,Q.truncDivision($e,2)-Ir),_t.set(gr,Q.truncDivision($e,2)+Ir)}let Et=new z;return Et.setCompact(_),Et.setSize($e),Et.setLayers(N),Et.setCodeWords(we),Et.setMatrix(_t),Et}static drawBullsEye(l,u,g){for(let x=0;x<g;x+=2)for(let w=u-x;w<=u+x;w++)l.set(w,u-x),l.set(w,u+x),l.set(u-x,w),l.set(u+x,w);l.set(u-g,u-g),l.set(u-g+1,u-g),l.set(u-g,u-g+1),l.set(u+g,u-g),l.set(u+g,u-g+1),l.set(u+g,u+g-1)}static generateModeMessage(l,u,g){let x=new J;return l?(x.appendBits(u-1,2),x.appendBits(g-1,6),x=kr.generateCheckWords(x,28,4)):(x.appendBits(u-1,5),x.appendBits(g-1,11),x=kr.generateCheckWords(x,40,4)),x}static drawModeMessage(l,u,g,x){let w=Q.truncDivision(g,2);if(u)for(let y=0;y<7;y++){let _=w-3+y;x.get(y)&&l.set(_,w-5),x.get(y+7)&&l.set(w+5,_),x.get(20-y)&&l.set(_,w+5),x.get(27-y)&&l.set(w-5,_)}else for(let y=0;y<10;y++){let _=w-5+y+Q.truncDivision(y,5);x.get(y)&&l.set(_,w-7),x.get(y+10)&&l.set(w+7,_),x.get(29-y)&&l.set(_,w+7),x.get(39-y)&&l.set(w-7,_)}}static generateCheckWords(l,u,g){let x=l.getSize()/g,w=new Ta(kr.getGF(g)),y=Q.truncDivision(u,g),_=kr.bitsToWords(l,g,y);w.encode(_,y-x);let N=u%g,D=new J;D.appendBits(0,N);for(const H of Array.from(_))D.appendBits(H,g);return D}static bitsToWords(l,u,g){let x=new Int32Array(g),w,y;for(w=0,y=l.getSize()/u;w<y;w++){let _=0;for(let N=0;N<u;N++)_|=l.get(w*u+N)?1<<u-N-1:0;x[w]=_}return x}static getGF(l){switch(l){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new C("Unsupported word size "+l)}}static stuffBits(l,u){let g=new J,x=l.getSize(),w=(1<<u)-2;for(let y=0;y<x;y+=u){let _=0;for(let N=0;N<u;N++)(y+N>=x||l.get(y+N))&&(_|=1<<u-1-N);(_&w)===w?(g.appendBits(_&w,u),y--):(_&w)===0?(g.appendBits(_|1,u),y--):g.appendBits(_,u)}return g}static totalBitsInLayer(l,u){return((u?88:112)+16*l)*l}}kr.DEFAULT_EC_PERCENT=33,kr.DEFAULT_AZTEC_LAYERS=0,kr.MAX_NB_BITS=32,kr.MAX_NB_BITS_COMPACT=4,kr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zA{encode(l,u,g,x){return this.encodeWithHints(l,u,g,x,null)}encodeWithHints(l,u,g,x,w){let y=L.ISO_8859_1,_=kr.DEFAULT_EC_PERCENT,N=kr.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(Mn.CHARACTER_SET)&&(y=B.forName(w.get(Mn.CHARACTER_SET).toString())),w.has(Mn.ERROR_CORRECTION)&&(_=Q.parseInt(w.get(Mn.ERROR_CORRECTION).toString())),w.has(Mn.AZTEC_LAYERS)&&(N=Q.parseInt(w.get(Mn.AZTEC_LAYERS).toString()))),zA.encodeLayers(l,u,g,x,y,_,N)}static encodeLayers(l,u,g,x,w,y,_){if(u!==Ee.AZTEC)throw new C("Can only encode AZTEC, but got "+u);let N=kr.encode(q.getBytes(l,w),y,_);return zA.renderResult(N,g,x)}static renderResult(l,u,g){let x=l.getMatrix();if(x==null)throw new kt;let w=x.getWidth(),y=x.getHeight(),_=Math.max(u,w),N=Math.max(g,y),D=Math.min(_/w,N/y),H=(_-w*D)/2,ee=(N-y*D)/2,se=new Re(_,N);for(let we=0,Te=ee;we<y;we++,Te+=D)for(let Se=0,Oe=H;Se<w;Se++,Oe+=D)x.get(Se,we)&&se.setRegion(Oe,Te,D,D);return se}}r.AbstractExpandedDecoder=he,r.ArgumentException=m,r.ArithmeticException=le,r.AztecCode=z,r.AztecCodeReader=Yt,r.AztecCodeWriter=zA,r.AztecDecoder=Nt,r.AztecDetector=Bt,r.AztecDetectorResult=Yr,r.AztecEncoder=kr,r.AztecHighLevelEncoder=Wo,r.AztecPoint=ut,r.BarcodeFormat=Ee,r.Binarizer=R,r.BinaryBitmap=b,r.BitArray=J,r.BitMatrix=Re,r.BitSource=ns,r.BrowserAztecCodeReader=Br,r.BrowserBarcodeReader=Xa,r.BrowserCodeReader=oe,r.BrowserDatamatrixCodeReader=Dl,r.BrowserMultiFormatReader=VA,r.BrowserPDF417Reader=zc,r.BrowserQRCodeReader=jA,r.BrowserQRCodeSvgWriter=Gs,r.CharacterSetECI=O,r.ChecksumException=S,r.Code128Reader=Be,r.Code39Reader=Lt,r.DataMatrixDecodedBitStreamParser=ia,r.DataMatrixReader=Ms,r.DecodeHintType=K,r.DecoderResult=Me,r.DefaultGridSampler=Dt,r.DetectorResult=nn,r.EAN13Reader=Kn,r.EncodeHintType=Mn,r.Exception=h,r.FormatException=M,r.GenericGF=tt,r.GenericGFPoly=Tt,r.GlobalHistogramBinarizer=me,r.GridSampler=Ue,r.GridSamplerInstance=Zt,r.HTMLCanvasElementLuminanceSource=Ye,r.HybridBinarizer=Ce,r.ITFReader=ke,r.IllegalArgumentException=C,r.IllegalStateException=kt,r.InvertedLuminanceSource=be,r.LuminanceSource=We,r.MathUtils=Rt,r.MultiFormatOneDReader=Qn,r.MultiFormatReader=yo,r.MultiFormatWriter=qc,r.NotFoundException=xe,r.OneDReader=Gt,r.PDF417DecodedBitStreamParser=Je,r.PDF417DecoderErrorCorrection=ss,r.PDF417Reader=si,r.PDF417ResultMetadata=Ya,r.PerspectiveTransform=ot,r.PlanarYUVLuminanceSource=_s,r.QRCodeByteMatrix=Ko,r.QRCodeDataMask=ii,r.QRCodeDecodedBitStreamParser=An,r.QRCodeDecoderErrorCorrectionLevel=or,r.QRCodeDecoderFormatInformation=Fn,r.QRCodeEncoder=an,r.QRCodeEncoderQRCode=Hi,r.QRCodeMaskUtil=En,r.QRCodeMatrixUtil=$t,r.QRCodeMode=Jt,r.QRCodeReader=sa,r.QRCodeVersion=St,r.QRCodeWriter=Jn,r.RGBLuminanceSource=Ba,r.RSS14Reader=er,r.RSSExpandedReader=it,r.ReaderException=jo,r.ReedSolomonDecoder=ct,r.ReedSolomonEncoder=Ta,r.ReedSolomonException=yt,r.Result=ae,r.ResultMetadataType=Ne,r.ResultPoint=bt,r.StringUtils=q,r.UnsupportedOperationException=re,r.VideoInputDevice=ie,r.WhiteRectangleDetector=Qe,r.WriterException=qr,r.ZXingArrays=G,r.ZXingCharset=B,r.ZXingInteger=Q,r.ZXingStandardCharsets=L,r.ZXingStringBuilder=X,r.ZXingStringEncoding=te,r.ZXingSystem=k,r.createAbstractExpandedDecoder=Ct,Object.defineProperty(r,"__esModule",{value:!0})}))})(Ff,Ff.exports)),Ff.exports}var jn=Eee();const bee=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var H4=(function(){function t(e,r,n){if(this.formatMap=new Map([[Kt.QR_CODE,jn.BarcodeFormat.QR_CODE],[Kt.AZTEC,jn.BarcodeFormat.AZTEC],[Kt.CODABAR,jn.BarcodeFormat.CODABAR],[Kt.CODE_39,jn.BarcodeFormat.CODE_39],[Kt.CODE_93,jn.BarcodeFormat.CODE_93],[Kt.CODE_128,jn.BarcodeFormat.CODE_128],[Kt.DATA_MATRIX,jn.BarcodeFormat.DATA_MATRIX],[Kt.MAXICODE,jn.BarcodeFormat.MAXICODE],[Kt.ITF,jn.BarcodeFormat.ITF],[Kt.EAN_13,jn.BarcodeFormat.EAN_13],[Kt.EAN_8,jn.BarcodeFormat.EAN_8],[Kt.PDF_417,jn.BarcodeFormat.PDF_417],[Kt.RSS_14,jn.BarcodeFormat.RSS_14],[Kt.RSS_EXPANDED,jn.BarcodeFormat.RSS_EXPANDED],[Kt.UPC_A,jn.BarcodeFormat.UPC_A],[Kt.UPC_E,jn.BarcodeFormat.UPC_E],[Kt.UPC_EAN_EXTENSION,jn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!bee)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(jn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(jn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new jn.MultiFormatReader(this.verbose,this.hints),n=new jn.HTMLCanvasElementLuminanceSource(e),i=new jn.BinaryBitmap(new jn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:Z8.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),_ee=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},Tee=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},V4=(function(){function t(e,r,n){if(this.formatMap=new Map([[Kt.QR_CODE,"qr_code"],[Kt.AZTEC,"aztec"],[Kt.CODABAR,"codabar"],[Kt.CODE_39,"code_39"],[Kt.CODE_93,"code_93"],[Kt.CODE_128,"code_128"],[Kt.DATA_MATRIX,"data_matrix"],[Kt.ITF,"itf"],[Kt.EAN_13,"ean_13"],[Kt.EAN_8,"ean_8"],[Kt.PDF_417,"pdf417"],[Kt.UPC_A,"upc_a"],[Kt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return _ee(this,void 0,void 0,function(){var r,n;return Tee(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:Z8.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var o=s[i],c=o.boundingBox.width*o.boundingBox.height;c>n&&(n=c,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),j4=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},G4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Bee=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&V4.isSupported()?(this.primaryDecoder=new V4(e,n,i),this.secondaryDecoder=new H4(e,n,i)):this.primaryDecoder=new H4(e,n,i)}return t.prototype.decodeAsync=function(e){return j4(this,void 0,void 0,function(){var r;return G4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return j4(this,void 0,void 0,function(){var r,n;return G4(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),Py=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),W1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},q1=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ek=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),Iee=(function(t){Py(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(ek),See=(function(t){Py(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(Iee),Nee=(function(t){Py(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(ek),Fee=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new See(this.track)},t.prototype.torchFeature=function(){return new Nee(this.track)},t})(),Ree=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return W1(this,void 0,void 0,function(){var s,o;return q1(this,function(c){switch(c.label){case 0:return s=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:c.sent(),c.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return W1(this,void 0,void 0,function(){return q1(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Fee(this.getFirstTrackOrFail())},t})(),kee=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return W1(this,void 0,void 0,function(){return q1(this,function(i){return[2,Ree.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return W1(this,void 0,void 0,function(){var r,n;return q1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),K4=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},z4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Dee=(function(){function t(){}return t.failIfNotSupported=function(){return K4(this,void 0,void 0,function(){return z4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return K4(this,void 0,void 0,function(){return z4(this,function(r){return[2,kee.create(e)]})})},t})(),Uee=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(m){try{h(n.next(m))}catch(C){o(C)}}function d(m){try{h(n.throw(m))}catch(C){o(C)}}function h(m){m.done?s(m.value):i(m.value).then(c,d)}h((n=n.apply(t,e||[])).next())})},Mee=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(m){h=[6,m],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Oee=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Qu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Qu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Uee(this,void 0,void 0,function(){var e,r,n,i,s,o,c;return Mee(this,function(d){switch(d.label){case 0:return e=function(h){for(var m=h.getVideoTracks(),C=0,b=m;C<b.length;C++){var S=b[C];S.enabled=!1,S.stop(),h.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],s=0,o=n;s<o.length;s++)c=o[s],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var o=[],c=0,d=s;c<d.length;c++){var h=d[c];h.kind==="video"&&o.push({id:h.id,label:h.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t})(),ti;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ti||(ti={}));var Lee=(function(){function t(){this.state=ti.NOT_STARTED,this.onGoingTransactionNewState=ti.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ti.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ti.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ti.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ti.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ti.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ti.UNKNOWN:throw"Transition from unknown is not allowed";case ti.NOT_STARTED:this.failIfNewStateIs(e,[ti.PAUSED]);break;case ti.SCANNING:break;case ti.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),Pee=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ti.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ti.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ti.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ti.PAUSED},t})(),Qee=(function(){function t(){}return t.create=function(){return new Pee(new Lee)},t})(),Hee=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),xa=(function(t){Hee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(wee),Vee=(function(){function t(e,r){this.logger=r,this.fps=xa.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=xa.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?$8.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!fl(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),tk=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new yee(this.verbose),this.qrcode=new Bee(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qee.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var c=Vee.create(r,this.logger);this.clearElement();var d=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=d,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:xa.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var C=this,b=this.stateManagerProxy.startTransition(ti.SCANNING);return new Promise(function(S,R){var k=h?c.videoConstraints:C.createVideoConstraints(e);if(!k){b.cancel(),R("videoConstraints should be defined");return}var U={};(!h||c.aspectRatio)&&(U.aspectRatio=c.aspectRatio);var V={onRenderSurfaceReady:function(G,Q){C.setupUi(G,Q,c),C.isScanning=!0,C.foreverScan(c,n,o)}};Dee.failIfNotSupported().then(function(G){G.create(k).then(function(Q){return Q.render(s.element,U,V).then(function(J){C.renderedCamera=J,b.execute(),S(null)}).catch(function(J){b.cancel(),R(J)})}).catch(function(Q){b.cancel(),R(Qu.errorGettingUserMedia(Q))})}).catch(function(G){b.cancel(),R(Qu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ti.PAUSED),this.showPausedState(),(fl(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ti.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ti.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(xa.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fl(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var c=o.width,d=o.height,h=document.getElementById(n.elementId),m=h.clientWidth?h.clientWidth:xa.DEFAULT_WIDTH,C=Math.max(h.clientHeight?h.clientHeight:d,xa.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(c,d,m,C);if(r){var S=n.createCanvasElement(m,C,"qr-canvas-visible");S.style.display="inline-block",h.appendChild(S);var R=S.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=m,R.canvas.height=C,R.drawImage(o,0,0,c,d,b.x,b.y,b.width,b.height)}var k=xa.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(o.width,b.width),V=Math.max(o.height,b.height),G=U+2*k,Q=V+2*k,J=n.createCanvasElement(G,Q);h.appendChild(J);var Z=J.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=G,Z.canvas.height=Q,Z.drawImage(o,0,0,c,d,k,k,U,V);try{n.qrcode.decodeRobustlyAsync(J).then(function(K){i(P4.createFromQrcodeResult(K))}).catch(s)}catch(K){s("QR code parse error, error = ".concat(K))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Oee.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!$8.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Kt.QR_CODE,Kt.AZTEC,Kt.CODABAR,Kt.CODE_39,Kt.CODE_93,Kt.CODE_128,Kt.DATA_MATRIX,Kt.MAXICODE,Kt.ITF,Kt.EAN_13,Kt.EAN_8,Kt.PDF_417,Kt.RSS_14,Kt.RSS_EXPANDED,Kt.UPC_A,Kt.UPC_E,Kt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];xee(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(fl(e))return!0;if(!fl(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(fl(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return fl(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s),c=function(h){if(h<xa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xa.MIN_QR_BOX_SIZE,"px.")},d=function(h){return h>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};c(o.width),c(o.height),o.width=d(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=fl(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,c={x:0,y:0,width:e,height:r},d=o?this.getShadedRegionBounds(e,r,s):c,h=this.createCanvasElement(d.width,d.height),m={willReadFrequently:!0},C=h.getContext("2d",m);C.canvas.width=d.width,C.canvas.height=d.height,this.element.append(h),o&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=C,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Qu.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,P4.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=Qu.codeParseError(i);return r(s,vee.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,c=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,h=this.qrRegion.height*c,m=this.qrRegion.x*o,C=this.qrRegion.y*c;this.context.drawImage(s,m,C,d,h,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(S){!S&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(S){i.logger.logError("Error happend while scanning context",S),b()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(R){if(R in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var d=Object.keys(e)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var h=e.facingMode;if(typeof h=="string"){if(o(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(o(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof h;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(s in C)return{deviceId:{exact:C["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var b=typeof C;throw"Invalid type of 'deviceId' = ".concat(b)}}}var S=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,o=(i-r)/2;return{x:s,y:o,width:e,height:r}}else{var c=e,d=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(d)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?xa.BORDER_SHADER_MATCH_COLOR:xa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=fl(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,c=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(xa.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,h=40;this.insertShaderBorders(s,h,d,-d,null,0,!0),this.insertShaderBorders(s,h,d,-d,null,0,!1),this.insertShaderBorders(s,h,d,null,-d,0,!0),this.insertShaderBorders(s,h,d,null,-d,0,!1),this.insertShaderBorders(s,d,h+d,-d,null,-d,!0),this.insertShaderBorders(s,d,h+d,null,-d,-d,!0),this.insertShaderBorders(s,d,h+d,-d,null,-d,!1),this.insertShaderBorders(s,d,h+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,o,c){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=xa.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),s!==null&&(d.style.bottom="".concat(s,"px")),c?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),W4;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(W4||(W4={}));const jee=({currentUser:t,products:e,onAddProduct:r,onUpdateProduct:n,onDeleteProduct:i,onLogout:s,onNavigateToHome:o,onNavigateToCreateInvoice:c,onNavigateToCustomers:d,onNavigateToSettings:h,isSelectionMode:m=!1,onSelectProduct:C,onStartInvoiceWithProduct:b,selectedItems:S=[],settings:R,invoicePriceMode:k="retail",initialSearchTerm:U=""})=>{var Gt;const[V,G]=ye.useState(U),[Q,J]=ye.useState(!1),[Z,K]=ye.useState(!1),[M,P]=ye.useState(!1),[O,re]=ye.useState(!1),[te,q]=ye.useState(!1),[X,Re]=ye.useState([]),xe=ye.useRef(null),me=ye.useRef(null),[Ce,We]=ye.useState(null),[be,Ye]=ye.useState([]),ie=ye.useRef(null),W=ye.useRef(null),[oe,ae]=ye.useState(null),[ue,Ee]=ye.useState(null),[qe,Ne]=ye.useState(null),[Me,Ze]=ye.useState(null),[Tt,le]=ye.useState(1),[tt,yt]=ye.useState(""),[kt,ct]=ye.useState(null),at=ye.useRef(null),Nt=ye.useRef(!1),Rt=ye.useRef(null),fr=ye.useRef(null),bt=ye.useRef(null),nn=ye.useRef(null);ye.useEffect(()=>{U&&G(U)},[U]);const Yr=ye.useMemo(()=>t.role==="admin"||t.permissions.isManager||t.permissions.viewWholesalePrice,[t]),[Qe,Ue]=ye.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});ye.useEffect(()=>()=>{me.current&&me.current.getTracks().forEach(Be=>Be.stop())},[]),ye.useEffect(()=>{let Be=null,Lt=!0;if(Q){const ke=setTimeout(()=>{if(Lt)try{Be=new tk("reader"),bt.current=Be,Be.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},Mt=>{Lt&&(G(Mt),J(!1))},()=>{}).catch(()=>{Lt&&J(!1)})}catch{Lt&&J(!1)}},300);return()=>{Lt=!1,clearTimeout(ke),Be!=null&&Be.isScanning&&Be.stop().then(()=>Be==null?void 0:Be.clear()).catch(()=>{})}}},[Q]),ye.useEffect(()=>(Ce&&W.current&&(ie.current&&ie.current.destroy(),ie.current=new Cropper(W.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{ie.current&&ie.current.destroy()}),[Ce]);const ot=async()=>{q(!0);try{const Be=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});me.current=Be,xe.current&&(xe.current.srcObject=Be)}catch{q(!1)}},Dt=()=>{me.current&&me.current.getTracks().forEach(Be=>Be.stop()),q(!1)},Zt=()=>{var Be;if(xe.current){const Lt=document.createElement("canvas");Lt.width=xe.current.videoWidth,Lt.height=xe.current.videoHeight,(Be=Lt.getContext("2d"))==null||Be.drawImage(xe.current,0,0),Re(ke=>[...ke,Lt.toDataURL("image/jpeg",.9)])}};ye.useEffect(()=>{ue&&nn.current&&setTimeout(()=>{try{JsBarcode(nn.current,ue.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[ue]);const ut=Be=>{var Mt;const Lt=(Mt=Be.target.files)==null?void 0:Mt[0];if(!Lt)return;re(!0);const ke=new FileReader;ke.onload=async dr=>{var Rr,Nn;try{const ar=Hw((Rr=dr.target)==null?void 0:Rr.result,{type:"array"}),Kn=mee.sheet_to_json(ar.Sheets[ar.SheetNames[0]],{defval:""});for(const Vr of Kn){const zn=(Nn=Vr[" "]||Vr.||Vr.name)==null?void 0:Nn.toString().trim(),yn=parseFloat(Vr.||Vr.||Vr.price)||0;zn&&yn>0&&r({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:zn,code:Vr.||`ID-${Math.floor(Math.random()*9e4)}`,price:yn,wholesalePrice:parseFloat(Vr.)||0,purchasePrice:parseFloat(Vr.)||0,stock:parseInt(Vr.)||0,category:Vr.||""})}}catch{}finally{re(!1),Be.target.value=""}},ke.readAsArrayBuffer(Lt)},Bt=Be=>{const Lt=Be.target.files;if(Lt&&Lt.length>0){const ke=[];Array.from(Lt).forEach(Mt=>{ke.push(new Promise(dr=>{const Rr=new FileReader;Rr.onloadend=()=>dr(Rr.result),Rr.readAsDataURL(Mt)}))}),Promise.all(ke).then(Mt=>{We(Mt[0]),Ye(Mt.slice(1))})}Be.target.value=""},Yt=ye.useMemo(()=>e.filter(Be=>Be.name.toLowerCase().includes(V.toLowerCase())||Be.code.toLowerCase().includes(V.toLowerCase())||Be.id===V),[V,e]),Br=()=>{Me&&(i(Me),Ze(null),Ee(null))};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsx("input",{type:"file",ref:Rt,onChange:ut,accept:".xlsx, .xls, .csv",className:"hidden"}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:m?" ":""}),m&&f.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),f.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:k==="wholesale"?" : ":" :  "})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[m&&f.jsxs("button",{onClick:c,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[f.jsx("span",{children:" "}),f.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:S.reduce((Be,Lt)=>Be+Lt.count,0)})]}),!m&&t.permissions.editProducts&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>{var Be;return(Be=Rt.current)==null?void 0:Be.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),f.jsx("path",{d:"M8 13h2"}),f.jsx("path",{d:"M8 17h2"}),f.jsx("path",{d:"M14 13h2"}),f.jsx("path",{d:"M14 17h2"})]})}),f.jsx("button",{onClick:()=>{Ue({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),K(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:V,onChange:Be=>G(Be.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),f.jsx("button",{onClick:()=>J(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),f.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),f.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),f.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),f.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:Yt.length>0?Yt.map(Be=>{var ke,Mt;const Lt=((ke=S.find(dr=>dr.id===Be.id))==null?void 0:ke.count)||0;return f.jsxs("div",{onClick:()=>{m&&C?C({id:Be.id,name:Be.name,price:k==="wholesale"?Be.wholesalePrice:Be.price},1):Ee(Be)},onTouchStart:()=>{at.current=setTimeout(()=>{Nt.current=!0,ae(Be),le(1),yt((k==="wholesale"?Be.wholesalePrice:Be.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(at.current),setTimeout(()=>Nt.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${Lt>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[Lt>0&&f.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",Lt]}),f.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[f.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(Mt=Be.images)!=null&&Mt[0]?f.jsx("img",{src:Be.images[0],className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:Be.name}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:Be.code}),f.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:Be.category})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),f.jsxs("div",{className:"text-lg font-black",children:[(k==="wholesale"?Be.wholesalePrice:Be.price).toFixed(2)," ."]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),f.jsxs("div",{className:`text-sm font-black ${Be.stock>0?"text-gray-200":"text-red-500"}`,children:[Be.stock," "]})]})]})]},Be.id)}):f.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),te&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsx("video",{ref:xe,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[f.jsx("button",{onClick:Dt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:Zt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),f.jsx("button",{onClick:()=>{X.length>0&&(We(X[0]),Ye(X.slice(1)),Dt())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),Ce&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[f.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:f.jsx("img",{ref:W,src:Ce,className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[f.jsx("button",{onClick:()=>{if(ie.current){const Be=ie.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);Ue(Lt=>({...Lt,images:[...Lt.images,Be]})),be.length>0?(We(be[0]),Ye(Lt=>Lt.slice(1))):We(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),f.jsx("button",{onClick:()=>We(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(Z||M)&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:()=>{K(!1),P(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black",children:Z?" ":" "})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:Qe.images.map((Be,Lt)=>f.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Be,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>Ue(ke=>({...ke,images:ke.images.filter((Mt,dr)=>dr!==Lt)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})})]},Lt))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:ot,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsxs("div",{onClick:()=>{var Be;return(Be=fr.current)==null?void 0:Be.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "}),f.jsx("input",{ref:fr,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Bt})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:Qe.name,onChange:Be=>Ue({...Qe,name:Be.target.value})}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Qe.price,onChange:Be=>Ue({...Qe,price:Be.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Qe.wholesalePrice,onChange:Be=>Ue({...Qe,wholesalePrice:Be.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Qe.purchasePrice,onChange:Be=>Ue({...Qe,purchasePrice:Be.target.value})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:Qe.code,onChange:Be=>Ue({...Qe,code:Be.target.value})}),f.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:Qe.stock,onChange:Be=>Ue({...Qe,stock:Be.target.value})})]}),f.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:Qe.category,onChange:Be=>Ue({...Qe,category:Be.target.value}),children:[f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""})]})]})]}),f.jsx("button",{onClick:()=>{if(Z){if(!Qe.name||!Qe.price)return;r({id:Date.now().toString(),name:Qe.name,code:Qe.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(Qe.price),wholesalePrice:parseFloat(Qe.wholesalePrice||"0"),purchasePrice:parseFloat(Qe.purchasePrice||"0"),stock:parseInt(Qe.stock||"0"),category:Qe.category,image:Qe.images[0],images:Qe.images}),K(!1)}else qe&&(n({id:qe,name:Qe.name,code:Qe.code,price:parseFloat(Qe.price),wholesalePrice:parseFloat(Qe.wholesalePrice||"0"),purchasePrice:parseFloat(Qe.purchasePrice||"0"),stock:parseInt(Qe.stock||"0"),category:Qe.category,image:Qe.images[0],images:Qe.images}),P(!1),Ne(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:Z?"":""})]})}),ue&&f.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("div",{className:"flex gap-2",children:t.permissions.editProducts&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{Ue({name:ue.name,code:ue.code,price:ue.price.toString(),wholesalePrice:ue.wholesalePrice.toString(),purchasePrice:ue.purchasePrice.toString(),stock:ue.stock.toString(),category:ue.category,images:ue.images||[]}),Ne(ue.id),Ee(null),P(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),f.jsxs("button",{onClick:()=>Ze(ue.id),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 font-bold text-xs flex items-center gap-1.5",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),""]})]})}),f.jsx("div",{onClick:()=>{var Be;return ct(((Be=ue.images)==null?void 0:Be[0])||ue.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(Gt=ue.images)!=null&&Gt[0]?f.jsx("img",{src:ue.images[0],className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]})})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),f.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:ue.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-[#57b385]",children:ue.price.toFixed(2)})]}),Yr&&f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-orange-400",children:ue.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&f.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),f.jsx("div",{className:"text-sm font-black text-red-400",children:ue.purchasePrice.toFixed(2)})]})]}),f.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 font-bold text-sm",children:ue.code}),f.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-black ${ue.stock>0?"text-white":"text-red-500"}`,children:[ue.stock," "]}),f.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:f.jsx("svg",{ref:nn,className:"w-full h-auto max-h-20"})})]}),f.jsx("button",{onClick:()=>Ee(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),Me&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"               ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Br,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>Ze(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),oe&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:m?" ":"  "}),f.jsx("p",{className:"text-xl font-black text-white",children:oe.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:tt,onChange:Be=>yt(Be.target.value)}),f.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[f.jsx("button",{onClick:()=>le(Be=>Be+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:Tt,onChange:Be=>le(parseInt(Be.target.value)||1)}),f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),f.jsx("button",{onClick:()=>le(Be=>Math.max(1,Be-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),f.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),f.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(tt)||0)*Tt).toFixed(2)," ."]})]})]}),f.jsxs("div",{className:"flex gap-4 pt-2",children:[f.jsx("button",{onClick:()=>{m&&C?C({id:oe.id,name:oe.name,price:parseFloat(tt)||0},Tt):b&&b({id:oe.id,name:oe.name,price:parseFloat(tt)||0},Tt),ae(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:m?"":" "}),f.jsx("button",{onClick:()=>ae(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),Q&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[f.jsx("button",{onClick:()=>J(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-lg font-bold",children:" "}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[f.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:f.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),f.jsx("button",{onClick:()=>J(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),kt&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>ct(null),children:[f.jsx("img",{src:kt,className:"max-w-full max-h-full object-contain shadow-2xl"}),f.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[f.jsx(kg,{onClick:o,icon:f.jsx(Gee,{}),label:""}),f.jsx(kg,{icon:f.jsx(Kee,{}),label:"",active:!m}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:c,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${t.permissions.createInvoices?m?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:f.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:m?f.jsx("path",{d:"M20 6L9 17l-5-5"}):f.jsxs(f.Fragment,{children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),f.jsx(kg,{onClick:d,icon:f.jsx(zee,{}),label:""}),f.jsx(kg,{onClick:h,icon:f.jsx(Wee,{}),label:""})]})]})},kg=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),Gee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Kee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),zee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Wee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),qee=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:r,items:n,setInvoiceItems:i,products:s,onUpdateQuantity:o,onClearInvoice:c,onAddManualItem:d,onSaveInvoice:h,initialInvoice:m,settings:C,onUpdateItem:b,customerName:S,setCustomerName:R,customerPhone:k,setCustomerPhone:U,priceMode:V,setPriceMode:G})=>{const[Q,J]=ye.useState(new Date().toISOString().split("T")[0]),[Z,K]=ye.useState(!1),[M,P]=ye.useState(""),[O,re]=ye.useState(""),[te,q]=ye.useState(""),[X,Re]=ye.useState(""),[xe,me]=ye.useState(null),[Ce,We]=ye.useState({name:"",price:"",count:1}),[be,Ye]=ye.useState(!1),[ie,W]=ye.useState("direct"),[oe,ae]=ye.useState(""),[ue,Ee]=ye.useState(!1);ye.useEffect(()=>{m?(J(m.date),P(m.id),Ye(m.type==="paid"),W(m.method),Ee(m.type==="partial"),ae(m.paidAmount>0?m.paidAmount.toString():""),m.priceMode&&G(m.priceMode)):P(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[m,G]);const qe=ct=>{ct!==V&&(G(ct),i(at=>at.map(Nt=>{if(Nt.isManual)return Nt;const Rt=s.find(bt=>bt.id===Nt.id);if(!Rt)return Nt;const fr=ct==="wholesale"?Rt.wholesalePrice:Rt.price;return{...Nt,price:fr,total:fr*Nt.count}})),navigator.vibrate&&navigator.vibrate(40))},Ne=ye.useMemo(()=>n.reduce((ct,at)=>ct+at.total,0),[n]),Me=ye.useMemo(()=>ue?parseFloat(oe)||0:be?Ne:0,[be,ue,oe,Ne]),Ze=ye.useMemo(()=>Math.max(0,Ne-Me),[Ne,Me]),Tt=ct=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(ct),le=()=>{if(O&&te){const ct=parseFloat(X)||0;d(O,parseFloat(te),ct),re(""),q(""),Re(""),K(!1)}},tt=ct=>{me(ct),We({name:ct.productName,price:ct.price.toString(),count:ct.count})},yt=()=>{xe&&Ce.name&&Ce.price&&(b(xe.id,{productName:Ce.name,price:parseFloat(Ce.price),count:Ce.count}),me(null))},kt=(ct=!1)=>{const at=Me,Nt=Ze;let Rt="unpaid";Nt<=0?Rt="paid":at>0&&(Rt="partial");const fr={id:M,creatorName:m&&m.creatorName||t.name,name:S||" ",phone:k,amount:Ne,paidAmount:at,remainingAmount:Nt,date:Q,type:Rt,method:ie,createdAt:m?m.createdAt:Date.now(),items:[...n],payments:m?m.payments:at>0?[{id:`init-${Date.now()}`,amount:at,timestamp:Date.now(),method:ie}]:[],priceMode:V};ct&&hF(fr,C),h(fr)};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h1",{className:"text-xl font-bold",children:m?" ":" "}),f.jsx("button",{onClick:c,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[f.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[f.jsxs("button",{onClick:()=>qe("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${V==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),f.jsxs("button",{onClick:()=>qe("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${V==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:S,onChange:ct=>R(ct.target.value)}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:k,onChange:ct=>U(ct.target.value)}),f.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:Q,onChange:ct=>J(ct.target.value)})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${V==="wholesale"?"border-orange-500/20":""}`,children:[f.jsx("div",{className:`w-10 h-10 ${V==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),f.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),f.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),f.jsxs("button",{onClick:()=>K(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[f.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>{Ye(!0),Ee(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${be&&!ue?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),f.jsx("button",{onClick:()=>Ee(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ue?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),f.jsx("button",{onClick:()=>{Ye(!1),Ee(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!be&&!ue?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),ue&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:oe,onChange:ct=>ae(ct.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>W("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ie==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),f.jsx("button",{onClick:()=>W("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ie==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),f.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[f.jsx("div",{className:"flex items-center gap-2 px-1",children:f.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?f.jsx("div",{className:"space-y-3",children:n.map(ct=>f.jsxs("div",{onClick:()=>tt(ct),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx("button",{onClick:at=>{at.stopPropagation(),o(ct.id,-ct.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsxs("div",{className:"text-right flex-1 pr-3",children:[f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ct.isManual&&f.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),f.jsx("h3",{className:"font-bold text-white text-base",children:ct.productName})]}),f.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[Tt(ct.price)," "]})]})]}),f.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:at=>{at.stopPropagation(),o(ct.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:ct.count}),f.jsx("button",{onClick:at=>{at.stopPropagation(),o(ct.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),f.jsxs("div",{className:"text-left",children:[f.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),f.jsxs("span",{className:"text-[#57b385] font-black",children:[Tt(ct.total)," ."]})]})]})]},ct.id))}):f.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),f.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),f.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),f.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[Tt(Ne)," ",f.jsx("span",{className:"text-sm",children:"."})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),f.jsxs("h3",{className:`text-xl font-black ${Ze>0?"text-red-500":"text-gray-500"}`,children:[Tt(Ze)," ."]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:()=>kt(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),f.jsxs("button",{onClick:()=>kt(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),Z&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),f.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:O,onChange:ct=>re(ct.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:te,onChange:ct=>q(ct.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("button",{onClick:()=>Re(ct=>(parseFloat(ct)||0)+1+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:X,onChange:ct=>Re(ct.target.value),placeholder:"0"}),f.jsx("button",{onClick:()=>Re(ct=>Math.max(0,(parseFloat(ct)||0)-1)+""),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:le,disabled:!O||!te,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!O||!te?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),f.jsx("button",{onClick:()=>K(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),xe&&f.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),f.jsx("h3",{className:"text-xl font-black text-white",children:" "}),f.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:Ce.name,onChange:ct=>We({...Ce,name:ct.target.value}),autoFocus:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:Ce.price,onChange:ct=>We({...Ce,price:ct.target.value})})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),f.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[f.jsx("button",{onClick:()=>We(ct=>({...ct,count:Math.max(1,ct.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),f.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:Ce.count,onChange:ct=>We(at=>({...at,count:Math.max(1,parseInt(ct.target.value)||1)}))}),f.jsx("button",{onClick:()=>We(ct=>({...ct,count:Math.max(1,ct.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:yt,disabled:!Ce.name||!Ce.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!Ce.name||!Ce.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),f.jsx("button",{onClick:()=>me(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},Xee=({currentUser:t,onNavigateToHome:e,settings:r,onUpdateSettings:n,invoices:i,onEditInvoice:s,onNavigateToProducts:o,onNavigateToCustomers:c,onNavigateToCreateInvoice:d,onLogout:h,onNavigateToRecycleBin:m,staffList:C,onAddStaff:b,onUpdateStaff:S,onDeleteStaff:R})=>{var Yr,Qe,Ue,ot,Dt,Zt,ut,Bt,Yt,Br,Gt,Be,Lt;const[k,U]=ye.useState(!1),[V,G]=ye.useState(!1),[Q,J]=ye.useState(!1),[Z,K]=ye.useState(null),[M,P]=ye.useState(null),[O,re]=ye.useState(null),[te,q]=ye.useState(null),[X,Re]=ye.useState(!1),[xe,me]=ye.useState(""),[Ce,We]=ye.useState(!1),[be,Ye]=ye.useState({text:"",type:""}),[ie,W]=ye.useState({name:"",phone:"",email:"",password:""}),[oe,ae]=ye.useState({name:"",phone:"",email:"",password:""}),ue=ye.useRef(null),Ee=ye.useRef(null),qe=ye.useRef(!1),Ne=t.role==="admin"||t.permissions.isManager;ye.useEffect(()=>{let ke=null;if(k){const Mt=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{ke=new tk("invoice-reader"),ue.current=ke,ke.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},dr=>{const Rr=i.find(Nn=>Nn.id===dr);Rr&&(U(!1),re(Rr))},()=>{}).catch(dr=>{U(!1)})}catch{U(!1)}},300);return()=>{clearTimeout(Mt),ke&&ke.isScanning&&ke.stop().then(()=>ke==null?void 0:ke.clear()).catch(console.error)}}},[k,i]);const Me=()=>{const ke="abcdefghijklmnopqrstuvwxyz0123456789";let Mt="";for(let dr=0;dr<8;dr++)Mt+=ke[Math.floor(Math.random()*ke.length)];return Mt},Ze=ke=>{var dr;const Mt=(dr=ke.target.files)==null?void 0:dr[0];if(Mt){const Rr=new FileReader;Rr.onloadend=()=>n(Nn=>({...Nn,businessLogo:Rr.result})),Rr.readAsDataURL(Mt)}},Tt=ke=>{!Ne||ke.status==="pending"||(qe.current=!1,Ee.current=setTimeout(()=>{qe.current=!0,P(ke),ae({name:ke.name,phone:ke.phone,email:ke.email||"",password:ke.password}),J(!0),navigator.vibrate&&navigator.vibrate(60)},600))},le=ke=>{Ee.current&&(clearTimeout(Ee.current),!qe.current&&Ne&&ke.status==="approved"&&K(ke))},tt=async()=>{if(!ie.name||!ie.email||!ie.password)return;const ke={id:Date.now().toString(),name:ie.name,phone:ie.phone,email:ie.email,password:ie.password,status:"approved",permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};await b(ke),W({name:"",phone:"",email:"",password:""}),G(!1)},yt=async ke=>{try{await Ru(Xt(Ut,"staff",ke),{status:"approved"}),navigator.vibrate&&navigator.vibrate([50,30,50])}catch(Mt){console.error(Mt)}},kt=async ke=>{window.confirm("     ")&&await pa(Xt(Ut,"staff",ke))},ct=async()=>{!M||!oe.name||!oe.password||(await S({...M,name:oe.name,phone:oe.phone,email:oe.email,password:oe.password}),J(!1),P(null))},at=async()=>{if(!xe||xe.length<6){Ye({text:"     6   ",type:"error"});return}We(!0);try{const ke=pc.currentUser;ke&&(await y9(ke,xe),Ye({text:"    ",type:"success"}),setTimeout(()=>{Re(!1),me(""),Ye({text:"",type:""})},2e3))}catch(ke){ke.code==="auth/requires-recent-login"?Ye({text:"          ",type:"error"}):Ye({text:"   ",type:"error"})}finally{We(!1)}},Nt=async(ke,Mt)=>{const dr=C.find(Nn=>Nn.id===ke);if(!dr)return;let Rr={...dr.permissions};Mt==="isManager"?!dr.permissions.isManager?Rr={manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}:Rr.isManager=!1:Rr[Mt]=!Rr[Mt],await S({...dr,permissions:Rr})},Rt=async()=>{te&&(await R(te),q(null),K(null))},fr=ke=>{const Mt=`   MAMA:
: ${ke.email}
  : ${ke.password}

     .`;navigator.clipboard.writeText(Mt),navigator.vibrate&&navigator.vibrate(30),alert("     ")},bt=C.filter(ke=>ke.status==="pending"),nn=C.filter(ke=>ke.status==="approved"&&ke.id!==t.uid);return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h1",{className:"text-xl font-bold",children:""}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[f.jsx(uf,{title:" ",icon:f.jsx(Yee,{}),children:f.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-sm font-bold text-white",children:t.name}),f.jsx("p",{className:"text-[10px] text-gray-500",children:Ne?" ":" ( )"})]}),Ne?f.jsx("button",{onClick:()=>Re(!0),className:"px-4 py-2 bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 rounded-xl text-[10px] font-black active:scale-95 transition-all",children:"  "}):f.jsx("div",{className:"text-[9px] text-red-500/80 font-bold bg-red-500/5 px-3 py-2 rounded-xl border border-red-500/10 text-center leading-tight",children:"     "})]})}),Ne&&f.jsxs(f.Fragment,{children:[f.jsx(uf,{title:"  ",icon:f.jsx(Jee,{}),children:f.jsxs("div",{className:"space-y-4",children:[bt.length>0&&f.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2 duration-500",children:[f.jsxs("p",{className:"text-[10px] text-orange-500 font-black uppercase tracking-wider flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full animate-ping"}),"   (",bt.length,")"]}),bt.map(ke=>f.jsxs("div",{className:"bg-orange-500/5 border border-orange-500/20 p-4 rounded-2xl flex flex-col gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center text-orange-500 font-black",children:ke.name.charAt(0)}),f.jsxs("div",{className:"text-right flex-1",children:[f.jsx("h4",{className:"text-sm font-bold",children:ke.name}),f.jsx("span",{className:"text-[9px] text-gray-500",children:ke.email})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>yt(ke.id),className:"flex-1 bg-orange-500 text-white py-2.5 rounded-xl text-[10px] font-black active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>kt(ke.id),className:"px-4 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-2.5 rounded-xl text-[10px] font-bold active:scale-95 transition-all",children:""})]})]},ke.id))]}),f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"  (  )"}),f.jsxs("div",{className:"space-y-3",children:[nn.map(ke=>f.jsxs("div",{onTouchStart:()=>Tt(ke),onTouchEnd:()=>le(ke),onMouseDown:()=>{Ne&&(Ee.current=setTimeout(()=>{qe.current=!0,P(ke),ae({name:ke.name,phone:ke.phone,email:ke.email||"",password:ke.password}),J(!0)},600))},onMouseUp:()=>{Ee.current&&(clearTimeout(Ee.current),!qe.current&&Ne&&K(ke)),qe.current=!1},className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${ke.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:ke.name.charAt(0)}),f.jsxs("div",{className:"text-right",children:[f.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[ke.name,ke.permissions.isManager&&f.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),f.jsx("span",{className:"text-[9px] text-gray-500 font-mono tracking-tighter",children:ke.email})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:Mt=>{Mt.stopPropagation(),fr(ke)},className:"p-2 bg-white/5 rounded-lg text-gray-500 hover:text-indigo-400 transition-colors",title:"  ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:f.jsx("path",{d:"m9 18 6-6-6-6"})})]})]},ke.id)),nn.length===0&&bt.length===0&&f.jsx("div",{className:"text-center py-6 text-gray-600 border border-dashed border-gray-800 rounded-2xl text-xs font-bold",children:"    "})]}),f.jsxs("button",{onClick:()=>G(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),f.jsx(uf,{title:"  ()",icon:f.jsx(Zee,{}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(Oa,{label:"  ",value:r.loginEmail,onChange:ke=>n(Mt=>({...Mt,loginEmail:ke}))}),f.jsx(Oa,{label:"   ()",value:r.loginPassword,onChange:ke=>n(Mt=>({...Mt,loginPassword:ke}))}),f.jsx("p",{className:"text-[9px] text-gray-600 px-2 leading-tight",children:"          ."})]})})]}),f.jsx(uf,{title:" ",icon:f.jsx($ee,{}),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>U(!0),className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[f.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),f.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),f.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),f.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),f.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]}),Ne&&f.jsxs("button",{onClick:m,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-red-500/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[f.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-xl flex items-center justify-center text-red-500 group-hover:scale-110 transition-transform",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsx("span",{className:"text-sm font-bold text-gray-200",children:" "})]})]})}),Ne&&f.jsx(uf,{title:" ",icon:f.jsx(ete,{}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?f.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[f.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),f.jsx("circle",{cx:"9",cy:"9",r:"2"}),f.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),f.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ze}),f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),f.jsx(Oa,{label:"  ",value:r.userName,onChange:ke=>n(Mt=>({...Mt,userName:ke}))}),f.jsx(Oa,{label:" ",value:r.businessName,onChange:ke=>n(Mt=>({...Mt,businessName:ke}))}),f.jsx(Oa,{label:"  ",value:r.specialOrderLabel||" ",onChange:ke=>n(Mt=>({...Mt,specialOrderLabel:ke}))})]})}),f.jsx("div",{className:"pt-4 md:col-span-2",children:f.jsxs("button",{onClick:h,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[f.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),f.jsx("polyline",{points:"16 17 21 12 16 7"}),f.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})," "]})})]}),X&&f.jsx("div",{className:"fixed inset-0 z-[550] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-indigo-500/30 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[f.jsx("button",{onClick:()=>Re(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-indigo-400",children:"   "})]}),be.text&&f.jsx("div",{className:`p-3 rounded-xl text-center text-xs font-bold border ${be.type==="error"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:be.text}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Oa,{label:"  ",type:"password",value:xe,onChange:me}),f.jsx("p",{className:"text-[10px] text-gray-500 text-center px-4 leading-relaxed",children:"          ."})]}),f.jsx("button",{onClick:at,disabled:Ce||!xe,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 ${Ce?"bg-gray-800 opacity-50":"bg-indigo-600 shadow-indigo-900/20"}`,children:Ce?" ...":" "})]})}),V&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[f.jsx("button",{onClick:()=>G(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black",children:" "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Oa,{label:" ",value:ie.name,onChange:ke=>W({...ie,name:ke})}),f.jsx(Oa,{label:" ",value:ie.email,onChange:ke=>W({...ie,email:ke})}),f.jsxs("div",{className:"relative",children:[f.jsx(Oa,{label:" ",value:ie.password,onChange:ke=>W({...ie,password:ke})}),f.jsx("button",{onClick:()=>W({...ie,password:Me()}),className:"absolute top-0 left-0 text-[8px] bg-indigo-500 text-white px-2 py-1 rounded font-black active:scale-90 transition-transform",children:" "})]})]}),f.jsx("button",{onClick:tt,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),Q&&f.jsx("div",{className:"fixed inset-0 z-[550] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-orange-500/30 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[f.jsx("button",{onClick:()=>J(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-orange-500",children:"  "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-center",children:f.jsx("p",{className:"text-[10px] text-red-500 font-black",children:" :     "})}),f.jsx(Oa,{label:" ",value:oe.name,onChange:ke=>ae({...oe,name:ke})}),f.jsx(Oa,{label:" ",value:oe.email,onChange:ke=>ae({...oe,email:ke})}),f.jsxs("div",{className:"p-4 bg-orange-500/5 border border-orange-500/10 rounded-3xl space-y-3",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Oa,{label:"  ",value:oe.password,onChange:ke=>ae({...oe,password:ke})}),f.jsx("button",{onClick:()=>ae({...oe,password:Me()}),className:"absolute top-0 left-0 text-[8px] bg-orange-500 text-white px-2 py-1 rounded font-black active:scale-90",children:""})]}),f.jsx("p",{className:"text-[8px] text-gray-500 text-center leading-tight",children:"     .        ."})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{onClick:ct,className:"w-full bg-orange-600 py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all shadow-orange-900/20",children:" "}),f.jsxs("button",{onClick:()=>fr({...M,email:oe.email,password:oe.password}),className:"w-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 py-3 rounded-2xl font-bold active:scale-95 flex items-center justify-center gap-2 text-xs",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),"  "]})]})]})}),Z&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh] custom-scrollbar",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[f.jsx("button",{onClick:()=>K(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",Z.name]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-orange-500/5 p-5 rounded-[2rem] border border-orange-500/10",children:f.jsx(ga,{label:" ",description:"    ",enabled:((Yr=C.find(ke=>ke.id===Z.id))==null?void 0:Yr.permissions.isManager)||!1,onToggle:()=>Nt(Z.id,"isManager")})}),f.jsxs("div",{className:"grid grid-cols-1 gap-4 bg-black/40 p-6 rounded-[2.5rem] border border-gray-800",children:[f.jsx("h3",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-2 px-2",children:"  "}),f.jsx(ga,{label:" ",description:"   ",enabled:((Qe=C.find(ke=>ke.id===Z.id))==null?void 0:Qe.permissions.viewNotifications)||!1,onToggle:()=>Nt(Z.id,"viewNotifications")}),f.jsx(ga,{label:"  ",description:"    ",enabled:((Ue=C.find(ke=>ke.id===Z.id))==null?void 0:Ue.permissions.viewAllWork)||!1,onToggle:()=>Nt(Z.id,"viewAllWork")}),f.jsx(ga,{label:"  ",description:"   ",enabled:((ot=C.find(ke=>ke.id===Z.id))==null?void 0:ot.permissions.viewAdminInvoices)||!1,onToggle:()=>Nt(Z.id,"viewAdminInvoices")}),f.jsx(ga,{label:"  ",description:"   ",enabled:((Dt=C.find(ke=>ke.id===Z.id))==null?void 0:Dt.permissions.viewPurchasePrice)||!1,onToggle:()=>Nt(Z.id,"viewPurchasePrice")}),f.jsx(ga,{label:"  ",description:"    ",enabled:((Zt=C.find(ke=>ke.id===Z.id))==null?void 0:Zt.permissions.viewWholesalePrice)||!1,onToggle:()=>Nt(Z.id,"viewWholesalePrice")})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4 bg-black/40 p-6 rounded-[2.5rem] border border-gray-800",children:[f.jsx("h3",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-2 px-2",children:"  "}),f.jsx(ga,{label:" ",description:"    ",enabled:((ut=C.find(ke=>ke.id===Z.id))==null?void 0:ut.permissions.createInvoices)||!1,onToggle:()=>Nt(Z.id,"createInvoices")}),f.jsx(ga,{label:" ",description:"    ",enabled:((Bt=C.find(ke=>ke.id===Z.id))==null?void 0:Bt.permissions.manageDebt)||!1,onToggle:()=>Nt(Z.id,"manageDebt")}),f.jsx(ga,{label:" ",description:"   ",enabled:((Yt=C.find(ke=>ke.id===Z.id))==null?void 0:Yt.permissions.editProducts)||!1,onToggle:()=>Nt(Z.id,"editProducts")}),f.jsx(ga,{label:"  ",description:"    ",enabled:((Br=C.find(ke=>ke.id===Z.id))==null?void 0:Br.permissions.manageSuppliers)||!1,onToggle:()=>Nt(Z.id,"manageSuppliers")}),f.jsx(ga,{label:" ",description:"     ",enabled:((Gt=C.find(ke=>ke.id===Z.id))==null?void 0:Gt.permissions.manageRequests)||!1,onToggle:()=>Nt(Z.id,"manageRequests")}),f.jsx(ga,{label:"  ",description:"   ",enabled:((Be=C.find(ke=>ke.id===Z.id))==null?void 0:Be.permissions.manageCheckbook)||!1,onToggle:()=>Nt(Z.id,"manageCheckbook")}),f.jsx(ga,{label:"  ",description:"   ",enabled:((Lt=C.find(ke=>ke.id===Z.id))==null?void 0:Lt.permissions.manageSpecialOrders)||!1,onToggle:()=>Nt(Z.id,"manageSpecialOrders")})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-800",children:[f.jsx("button",{onClick:()=>K(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all shadow-xl shadow-green-900/20",children:"  "}),f.jsx("button",{onClick:()=>q(Z.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:"   "})]})]})}),te&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"                ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Rt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>q(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),k&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>U(!1),className:"absolute bottom-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),O&&f.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 text-center animate-in zoom-in duration-300",children:[f.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),f.jsxs("p",{className:"text-gray-500 text-sm",children:[O.name," - ",O.date]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{re(null),s(O)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95",children:" "}),f.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Dg,{onClick:e,icon:f.jsx(tte,{}),label:""}),f.jsx(Dg,{onClick:o,icon:f.jsx(rte,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:d,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:f.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Dg,{onClick:c,icon:f.jsx(nte,{}),label:""}),f.jsx(Dg,{onClick:()=>{},icon:f.jsx(ite,{}),label:"",active:!0})]})]})},uf=({title:t,icon:e,children:r})=>f.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),f.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),r]}),Oa=({label:t,value:e,onChange:r,type:n="text"})=>f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),f.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:i=>r(i.target.value)})]}),ga=({label:t,description:e,enabled:r,onToggle:n})=>f.jsxs("div",{className:"flex items-center justify-between py-2.5 px-2 hover:bg-white/5 rounded-2xl transition-colors",children:[f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),f.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),f.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ml-4 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:f.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),Dg=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),Yee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),Jee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Zee=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),$ee=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),ete=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),tte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),rte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),nte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),ite=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ste=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:i,invoices:s,generalPayments:o,onAddGeneralPayment:c,onDeleteGeneralPayment:d,onDeleteCustomer:h,onProcessPayment:m,onEditInvoice:C,settings:b})=>{const[S,R]=ye.useState(""),[k,U]=ye.useState(null),[V,G]=ye.useState(null),[Q,J]=ye.useState("full"),[Z,K]=ye.useState(""),[M,P]=ye.useState("direct"),[O,re]=ye.useState(""),[te,q]=ye.useState("direct"),[X,Re]=ye.useState(null),[xe,me]=ye.useState(!1),[Ce,We]=ye.useState(!1),be=ye.useRef(null),[Ye,ie]=ye.useState(!1),W=ye.useRef(null),oe=ye.useMemo(()=>{const le=new Map;return s.forEach(tt=>{const yt=le.get(tt.name)||{name:tt.name,phone:tt.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:tt.date,lastInvoiceTimestamp:tt.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};yt.totalPurchased+=tt.amount,yt.totalPaid+=tt.paidAmount,yt.totalDebt+=tt.remainingAmount,yt.invoiceCount+=1,yt.invoices.push(tt),tt.createdAt>=yt.lastInvoiceTimestamp&&(yt.lastInvoiceDate=tt.date,yt.lastInvoiceTimestamp=tt.createdAt,tt.phone&&(yt.phone=tt.phone)),le.set(tt.name,yt)}),o.forEach(tt=>{const yt=le.get(tt.customerName);if(yt)yt.totalDebt-=tt.amount,yt.totalPaid+=tt.amount,yt.generalPayments||(yt.generalPayments=[]),yt.generalPayments.push(tt);else{const kt={name:tt.customerName,totalPurchased:0,totalPaid:tt.amount,totalDebt:-tt.amount,lastInvoiceDate:tt.date,lastInvoiceTimestamp:tt.timestamp,invoiceCount:0,invoices:[],generalPayments:[tt]};le.set(tt.customerName,kt)}}),Array.from(le.values()).filter(tt=>tt.name.includes(S)).sort((tt,yt)=>yt.lastInvoiceTimestamp-tt.lastInvoiceTimestamp)},[s,o,S]),ae=ye.useMemo(()=>k&&oe.find(le=>le.name===k)||null,[oe,k]);ye.useEffect(()=>{k&&window.scrollTo({top:0,behavior:"smooth"})},[k]);const ue=le=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(le),Ee=()=>{if(!V)return;const le=Q==="full"?V.remainingAmount:parseFloat(Z)||0;le>0&&(m(V.id,le,M),G(null),K(""),J("full"))},qe=()=>{const le=parseFloat(O);if(!le||le<=0||!ae)return;const tt={id:`gen-pay-${Date.now()}`,customerName:ae.name,amount:le,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:te};c(tt),re(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},Ne=()=>{X&&(d(X),Re(null))},Me=()=>{k&&h&&(h(k),U(null),me(!1))},Ze=async()=>{if(!(!ae||!be.current)){We(!0);try{(await RA(be.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async tt=>{if(!tt){We(!1),alert("  ");return}try{const yt=new ClipboardItem({"image/png":tt});await navigator.clipboard.write([yt]);let kt=ae.phone?ae.phone.replace(/\D/g,""):"";(kt.startsWith("06")||kt.startsWith("07")||kt.startsWith("05"))&&(kt="212"+kt.substring(1)),window.open(kt?`https://wa.me/${kt}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{We(!1)}},"image/png",1)}catch{We(!1)}}},Tt=async()=>{if(!(!ae||!W.current)){ie(!0);try{(await RA(W.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async tt=>{if(!tt){ie(!1),alert("  ");return}try{const yt=new ClipboardItem({"image/png":tt});await navigator.clipboard.write([yt]);let kt=ae.phone?ae.phone.replace(/\D/g,""):"";(kt.startsWith("06")||kt.startsWith("07")||kt.startsWith("05"))&&(kt="212"+kt.substring(1)),window.open(kt?`https://wa.me/${kt}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{ie(!1)}},"image/png",1)}catch{ie(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[ae&&f.jsxs("div",{ref:be,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:b.businessName}),f.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("div",{style:{marginBottom:"25px"},children:[f.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),f.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:ae.name}),ae.phone&&f.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:ae.phone})]}),f.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[f.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),f.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[ue(ae.totalDebt)," DH"]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:f.jsxs("p",{children:["   - ",b.signatureName||"MAMA App"]})})]}),ae&&f.jsxs("div",{ref:W,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:b.businessName}),f.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",ae.name]}),f.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[f.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),f.jsx("tbody",{children:ae.invoices.sort((le,tt)=>le.createdAt-tt.createdAt).map((le,tt)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[f.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:le.date}),f.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:ue(le.amount)})]},tt))})]}),f.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[ue(ae.totalPurchased)," ."]})]}),ae.generalPayments&&ae.generalPayments.length>0&&f.jsxs("div",{style:{marginTop:"20px"},children:[f.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[f.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),f.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),f.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),f.jsx("tbody",{children:ae.generalPayments.sort((le,tt)=>le.timestamp-tt.timestamp).map((le,tt)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[f.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(le.date).toLocaleDateString("ar-MA")}),f.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:le.method==="direct"?"":""}),f.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:ue(le.amount)})]},tt))})]})]}),f.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[f.jsx("span",{style:{fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[ue(ae.totalPaid)," ."]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[f.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),f.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[ue(ae.totalDebt)," DH"]})]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:f.jsx("p",{children:b.signatureName||"MAMA App"})})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:S,onChange:le=>R(le.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:oe.length>0?oe.map(le=>{const tt=le.totalPurchased>0?Math.max(0,le.totalDebt)/le.totalPurchased*100:0;return f.jsxs("div",{onClick:()=>U(le.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:f.jsx("span",{className:"text-xl font-black",children:le.name.charAt(0)})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:le.name}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",le.lastInvoiceDate]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsxs("div",{className:"text-sm font-black text-white",children:[ue(le.totalPurchased)," ."]})]}),f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsxs("div",{className:`text-sm font-black ${le.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[ue(le.totalDebt)," ."]})]})]}),le.totalPurchased>0&&f.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all duration-1000 ${le.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,tt)}%`}})})]},le.name)}):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold",children:"    "})}),ae&&f.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[f.jsx("button",{onClick:()=>{U(null),re("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:"  "}),t.role==="admin"?f.jsx("button",{onClick:()=>me(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all",title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:ae.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black",children:ae.name}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[ae.phone&&f.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),f.jsx("a",{href:`tel:${ae.phone}`,children:ae.phone})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[ae.invoiceCount," "]}),f.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${ae.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[f.jsxs("span",{className:`text-[10px] font-bold px-2 ${ae.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",ue(ae.totalDebt)," ."]}),ae.totalDebt>0&&f.jsx("button",{onClick:Ze,disabled:Ce,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${Ce?"opacity-50 cursor-wait":""}`,children:Ce?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),ae.totalDebt>0&&t.permissions.manageDebt&&f.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[f.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[f.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),f.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:O,onChange:le=>re(le.target.value)}),f.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),f.jsx("button",{onClick:()=>q(le=>le==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${te==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:te==="direct"?"":""})]}),parseFloat(O)>0&&f.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",f.jsxs("span",{className:"text-white font-bold",children:[ue(Math.max(0,ae.totalDebt-parseFloat(O)))," ."]})]}),f.jsxs("button",{onClick:qe,disabled:!O||parseFloat(O)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${O?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),ae.generalPayments&&ae.generalPayments.length>0&&f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[f.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),f.jsx("div",{className:"space-y-3",children:ae.generalPayments.sort((le,tt)=>tt.timestamp-le.timestamp).map(le=>f.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-white font-black text-sm",children:[ue(le.amount)," ."]}),f.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[f.jsx("span",{children:new Date(le.date).toLocaleDateString("ar-MA")}),f.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",le.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&f.jsx("button",{onClick:()=>Re(le.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},le.id))})]}),f.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),f.jsx("div",{className:"space-y-3",children:ae.invoices.sort((le,tt)=>tt.createdAt-le.createdAt).map(le=>f.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-black text-white",children:le.id}),f.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${le.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":le.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:le.type==="paid"?"":le.type==="partial"?" ":""})]}),f.jsx("span",{className:"text-[10px] text-gray-500",children:le.date})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[le.type!=="paid"&&t.permissions.manageDebt&&f.jsx("button",{onClick:()=>G(le),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:f.jsx("span",{className:"text-[10px] font-bold",children:" "})}),f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>C(le),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-white",children:ue(le.amount)})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:ue(le.paidAmount)})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),f.jsx("span",{className:"text-[10px] font-black text-red-500",children:ue(le.remainingAmount)})]})]}),le.payments&&le.payments.length>0&&f.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[f.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),le.payments.map((tt,yt)=>f.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[f.jsx("span",{className:"text-gray-400",children:new Date(tt.timestamp).toLocaleDateString("ar-MA")}),f.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",ue(tt.amount)," . (",tt.method==="direct"?"":"",")"]})]},yt))]})]},le.id))})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[f.jsx("button",{onClick:()=>{U(null),re("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),f.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:f.jsx("button",{onClick:Tt,disabled:Ye||ae.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${Ye?"opacity-50 cursor-wait":""}`,children:Ye?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),xe&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),f.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),f.jsxs("p",{className:"text-sm text-gray-400",children:['      "',k,'"        .']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>me(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),X&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Ne,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>Re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),V&&f.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"16 12 12 8 8 12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),f.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",f.jsxs("span",{className:"text-red-500 font-black",children:[ue(V.remainingAmount)," ."]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[f.jsx("button",{onClick:()=>J("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${Q==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),f.jsx("button",{onClick:()=>J("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${Q==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),Q==="partial"&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),f.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:Z,onChange:le=>K(le.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("button",{onClick:()=>P("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${M==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),f.jsx("button",{onClick:()=>P("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${M==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:Ee,disabled:Q==="partial"&&(!Z||parseFloat(Z)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${Q==="partial"&&(!Z||parseFloat(Z)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),f.jsx("button",{onClick:()=>G(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[f.jsx(Ug,{onClick:e,icon:f.jsx(ate,{}),label:""}),f.jsx(Ug,{onClick:r,icon:f.jsx(ote,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{disabled:!t.permissions.createInvoices,onClick:i,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Ug,{icon:f.jsx(lte,{}),label:"",active:!0}),f.jsx(Ug,{onClick:n,icon:f.jsx(Ate,{}),label:""})]})]})},Ug=({icon:t,label:e,active:r=!1,onClick:n})=>f.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[f.jsx("div",{className:r?"scale-110":"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),ate=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),ote=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),lte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Ate=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),cte=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:i})=>{const[s,o]=ye.useState("all"),c=ye.useMemo(()=>s==="all"?e:e.filter(C=>C.type===s),[e,s]),d=ye.useMemo(()=>({unread:e.filter(C=>!C.isRead).length,debt:e.filter(C=>C.type==="debt").length,stock:e.filter(C=>C.type==="stock").length,sale:e.filter(C=>C.type==="sale").length}),[e]),h=C=>{const b=Date.now()-C,S=Math.floor(b/6e4);if(S<1)return"";if(S<60)return` ${S} `;const R=Math.floor(S/60);return R<24?` ${R} `:new Date(C).toLocaleDateString("ar-MA")},m=C=>{switch(C){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[f.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h1",{className:"text-xl font-black",children:" "}),f.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",d.unread,"  "]})]}),f.jsx("button",{onClick:n,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),f.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[f.jsx(Mg,{active:s==="all",label:"",count:e.length,onClick:()=>o("all"),color:"gray"}),f.jsx(Mg,{active:s==="debt",label:"",count:d.debt,onClick:()=>o("debt"),color:"red"}),f.jsx(Mg,{active:s==="stock",label:"",count:d.stock,onClick:()=>o("stock"),color:"orange"}),f.jsx(Mg,{active:s==="sale",label:"",count:d.sale,onClick:()=>o("sale"),color:"green"})]}),f.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:f.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:c.length>0?c.map(C=>{const b=m(C.type);return f.jsxs("div",{onClick:()=>i(C.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${C.isRead?"bg-[#111111] border-gray-800/40":`${b.bg} ${b.border} shadow-lg shadow-black/20`}`,children:[!C.isRead&&f.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${b.dot} animate-pulse shadow-lg`}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${b.iconBg} ${b.iconColor} shadow-inner`,children:[C.type==="debt"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),C.type==="stock"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),C.type==="sale"&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),f.jsxs("div",{className:"flex-1 text-right space-y-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:h(C.timestamp)}),f.jsx("h4",{className:`text-base font-black ${C.isRead?"text-gray-200":"text-white"}`,children:C.title})]}),f.jsx("p",{className:`text-xs leading-relaxed ${C.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:C.message})]})]})]},C.id)}):f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),f.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[f.jsx(Og,{onClick:t,icon:f.jsx(ute,{}),label:""}),f.jsx(Og,{onClick:()=>{},icon:f.jsx(fte,{}),label:""}),f.jsx("div",{className:"relative -top-6",children:f.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),f.jsx(Og,{onClick:()=>{},icon:f.jsx(dte,{}),label:""}),f.jsx(Og,{onClick:()=>{},icon:f.jsx(hte,{}),label:""})]})]})},Mg=({active:t,label:e,count:r,onClick:n,color:i})=>{const s={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return f.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${s[i]}`,children:[e,f.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},Og=({icon:t,label:e,onClick:r})=>f.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[f.jsx("div",{className:"",children:t}),f.jsx("span",{className:"text-[10px] font-bold",children:e})]}),ute=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),fte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),f.jsx("path",{d:"M12 22V12"})]}),dte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),hte=()=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),gte=({currentUser:t,onNavigateToHome:e,onAddInvoice:r,onUpdateInvoice:n,onDeleteInvoice:i,onDeleteSupplier:s,invoices:o})=>{const[c,d]=ye.useState(!1),[h,m]=ye.useState(null),[C,b]=ye.useState(null),[S,R]=ye.useState(""),[k,U]=ye.useState(!1),[V,G]=ye.useState(!1),Q=ye.useRef(null),J=ye.useRef(null),[Z,K]=ye.useState(null),[M,P]=ye.useState([]),[O,re]=ye.useState(null),[te,q]=ye.useState([]),X=ye.useRef(null),Re=ye.useRef(null),xe=ye.useRef(null),[me,Ce]=ye.useState(null),[We,be]=ye.useState(""),[Ye,ie]=ye.useState(""),[W,oe]=ye.useState(""),[ae,ue]=ye.useState(""),[Ee,qe]=ye.useState(new Date().toISOString().split("T")[0]),[Ne,Me]=ye.useState(new Date().toISOString().split("T")[0]),Ze=ye.useMemo(()=>{const Ue=new Map;return o.forEach(ot=>{const Dt=Ue.get(ot.supplierName)||{name:ot.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:ot.date,invoiceCount:0,invoices:[]},Zt=ot.amount-(ot.paidAmount||0);Dt.totalAmount+=ot.amount,Dt.totalPaid+=ot.paidAmount||0,Dt.totalRemaining+=Zt,Dt.invoiceCount+=1,Dt.invoices.push(ot),new Date(ot.date)>new Date(Dt.lastInvoiceDate)&&(Dt.lastInvoiceDate=ot.date),Ue.set(ot.supplierName,Dt)}),Array.from(Ue.values()).filter(ot=>ot.name.includes(S)).sort((ot,Dt)=>new Date(Dt.lastInvoiceDate).getTime()-new Date(ot.lastInvoiceDate).getTime())},[o,S]),Tt=ye.useMemo(()=>C&&Ze.find(Ue=>Ue.name===C)||null,[Ze,C]);ye.useEffect(()=>()=>{J.current&&J.current.getTracks().forEach(Ue=>Ue.stop())},[]);const le=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}G(!0);try{const Ue=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});J.current=Ue,Q.current&&(Q.current.srcObject=Ue,Q.current.onloadedmetadata=()=>{var ot;(ot=Q.current)==null||ot.play().catch(Dt=>console.error("Play error",Dt))})}catch{G(!1),alert("  .")}},tt=()=>{J.current&&(J.current.getTracks().forEach(Ue=>Ue.stop()),J.current=null),Q.current&&(Q.current.srcObject=null),G(!1)},yt=()=>{if(Q.current){const Ue=document.createElement("canvas");Ue.width=Q.current.videoWidth,Ue.height=Q.current.videoHeight;const ot=Ue.getContext("2d");if(ot){ot.drawImage(Q.current,0,0);const Dt=Ue.toDataURL("image/jpeg",.9);K(Dt),tt()}}};ye.useEffect(()=>(Z&&Re.current&&(X.current&&X.current.destroy(),X.current=new Cropper(Re.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1})),()=>{X.current&&(X.current.destroy(),X.current=null)}),[Z]);const kt=Ue=>{const ot=Ue.target.files;if(ot&&ot.length>0){const Dt=[];Array.from(ot).forEach(Zt=>{Dt.push(new Promise(ut=>{const Bt=new FileReader;Bt.onloadend=()=>ut(Bt.result),Bt.readAsDataURL(Zt)}))}),Promise.all(Dt).then(Zt=>{K(Zt[0]),q(Zt.slice(1))})}Ue.target.value=""},ct=()=>{if(X.current){const ot=X.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);P(Dt=>[...Dt,ot]),te.length>0?(K(te[0]),q(Dt=>Dt.slice(1))):K(null)}},at=()=>{te.length>0?(K(te[0]),q(Ue=>Ue.slice(1))):K(null)},Nt=Ue=>{P(ot=>ot.filter((Dt,Zt)=>Zt!==Ue))},Rt=Ue=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Ue),fr=()=>{be(C||""),ie(""),oe(""),ue(""),P([]),q([]),Me(new Date().toISOString().split("T")[0]),qe(new Date().toISOString().split("T")[0]),Ce(null)},bt=Ue=>{Ce(Ue.id),be(Ue.supplierName),ie(Ue.amount.toString()),oe(Ue.paidAmount?Ue.paidAmount.toString():""),ue(""),qe(new Date().toISOString().split("T")[0]),Me(Ue.date),Ue.images&&Ue.images.length>0?P(Ue.images):Ue.image?P([Ue.image]):P([]),d(!0)},nn=()=>{if(!We||!Ye)return;const Ue=(parseFloat(W)||0)+(parseFloat(ae)||0),ot=o.find(ut=>ut.id===me);let Dt=(ot==null?void 0:ot.payments)||[];!me&&Ue>0?Dt=[{id:`pay-${Date.now()}`,amount:Ue,timestamp:new Date(Ne).getTime(),method:"direct"}]:me&&parseFloat(ae)>0&&(Dt=[...Dt,{id:`pay-${Date.now()}`,amount:parseFloat(ae),timestamp:new Date(Ee).getTime(),method:"direct"}]);const Zt={id:me||`sup-${Date.now()}`,supplierName:We,amount:parseFloat(Ye),paidAmount:Ue,date:Ne,image:M.length>0?M[0]:void 0,images:M,createdAt:me&&(ot==null?void 0:ot.createdAt)||Date.now(),payments:Dt};me?n(Zt):r(Zt),d(!1),fr()},Yr=()=>{C&&(s(C),b(null),U(!1))},Qe=Ze.reduce((Ue,ot)=>Ue+ot.totalRemaining,0);return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[f.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),f.jsxs("span",{className:"text-xl font-black text-red-500",children:[Rt(Qe)," ."]})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:S,onChange:Ue=>R(Ue.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:Ze.length>0?Ze.map(Ue=>f.jsxs("div",{onClick:()=>b(Ue.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:f.jsx("span",{className:"text-xl font-black",children:Ue.name.charAt(0)})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:Ue.name}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",Ue.invoiceCount]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsx("div",{className:"text-sm font-black text-white",children:Rt(Ue.totalAmount)})]}),f.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),f.jsx("div",{className:`text-sm font-black ${Ue.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:Rt(Ue.totalRemaining)})]})]}),f.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,Ue.totalRemaining/Math.max(1,Ue.totalAmount)*100)}%`}})})]},Ue.name)):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold col-span-full",children:"    "})}),f.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:f.jsxs("button",{onClick:()=>{fr(),d(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),Tt&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:f.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[f.jsx("button",{onClick:()=>b(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:"  "}),t.role==="admin"?f.jsx("button",{onClick:()=>U(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white active:scale-90 transition-all shadow-lg shadow-red-900/20",title:"   ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}):f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:Tt.name.charAt(0)}),f.jsx("h3",{className:"text-2xl font-black",children:Tt.name}),f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",Rt(Tt.totalRemaining)," ."]}),f.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[Tt.invoiceCount," "]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),f.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:Tt.invoices.sort((Ue,ot)=>new Date(ot.date).getTime()-new Date(Ue.date).getTime()).map(Ue=>{const ot=Ue.amount-(Ue.paidAmount||0);return f.jsxs("div",{onClick:()=>m(Ue),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-white font-bold text-sm",children:Ue.date}),f.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",Rt(Ue.paidAmount||0)]})]})]}),f.jsxs("div",{className:"text-left",children:[f.jsxs("div",{className:"text-white font-black text-sm",children:[Rt(Ue.amount)," ."]}),f.jsx("div",{className:`text-[10px] font-bold ${ot>0?"text-red-500":"text-green-500"}`,children:ot>0?`: ${Rt(ot)}`:""})]})]},Ue.id)})})]})]}),f.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:f.jsx("button",{onClick:()=>b(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),k&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),f.jsxs("p",{className:"text-sm text-gray-400",children:['       "',C,'"         .']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Yr,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>U(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),h&&f.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[f.jsx("button",{onClick:()=>m(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),f.jsxs("div",{className:"text-center space-y-1",children:[f.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsx("h3",{className:"text-2xl font-black text-white",children:h.supplierName}),f.jsx("p",{className:"text-sm text-gray-500 font-bold",children:h.date})]}),f.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),f.jsx("span",{className:"text-lg font-black text-white",children:Rt(h.amount)})]}),f.jsx("div",{className:"w-full h-px bg-gray-800"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),f.jsx("span",{className:"text-sm font-black text-[#57b385]",children:Rt(h.paidAmount||0)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),f.jsx("span",{className:`text-sm font-black ${h.amount-(h.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:Rt(h.amount-(h.paidAmount||0))})]})]}),h.images&&h.images.length>0&&f.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.images.map((Ue,ot)=>f.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>re(Ue),children:f.jsx("img",{src:Ue,alt:"Bon",className:"w-full h-full object-cover"})},ot))}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>bt(h),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),f.jsx("button",{onClick:()=>{i(h.id),m(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),V&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[f.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[f.jsx("video",{ref:Q,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:f.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),f.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[f.jsx("button",{onClick:tt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:yt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),f.jsx("div",{className:"w-14"})]})]})}),c&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:me?" ":"  "}),f.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),M.length>0&&f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:M.map((Ue,ot)=>f.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Ue,alt:`Img ${ot}`,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>Nt(ot),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},ot))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:le,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsxs("div",{onClick:()=>{var Ue;return(Ue=xe.current)==null?void 0:Ue.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),f.jsx("input",{ref:xe,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:kt})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:We,onChange:Ue=>be(Ue.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:Ye,onChange:Ue=>ie(Ue.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:me?" ":" "}),f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:W,onChange:Ue=>oe(Ue.target.value),readOnly:!!me})]})]}),me&&f.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[f.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),f.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:ae,onChange:Ue=>ue(Ue.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:Ne,onChange:Ue=>Me(Ue.target.value)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:nn,disabled:!We||!Ye,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),f.jsx("button",{onClick:()=>{d(!1),fr()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Z&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[f.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:f.jsx("img",{ref:Re,src:Z,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[f.jsx("button",{onClick:ct,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),f.jsx("button",{onClick:at,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),O&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>re(null),children:[f.jsx("img",{src:O,alt:"Full",className:"max-w-full max-h-full object-contain"}),f.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},pte=({onNavigateToHome:t,requests:e,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:i,settings:s})=>{var Yr;const[o,c]=ye.useState(!1),[d,h]=ye.useState(null),[m,C]=ye.useState(""),[b,S]=ye.useState(null),[R,k]=ye.useState(!1),[U,V]=ye.useState([]),G=ye.useRef(null),Q=ye.useRef(null),[J,Z]=ye.useState(""),[K,M]=ye.useState([]),[P,O]=ye.useState(null),[re,te]=ye.useState([]),[q,X]=ye.useState(null),[Re,xe]=ye.useState(null),[me,Ce]=ye.useState(!1),[We,be]=ye.useState(!1),Ye=ye.useRef(null),ie=ye.useRef(null),W=ye.useRef(null),oe=ye.useRef(null),ae=ye.useRef(null);ye.useEffect(()=>()=>{Q.current&&Q.current.getTracks().forEach(Qe=>Qe.stop())},[]);const ue=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}V([]),k(!0);try{const Qe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});Q.current=Qe,G.current&&(G.current.srcObject=Qe,G.current.onloadedmetadata=()=>{var Ue;(Ue=G.current)==null||Ue.play().catch(ot=>console.error("Play error",ot))})}catch(Qe){console.error("Camera access error:",Qe),k(!1);let Ue="  .";(Qe.name==="NotAllowedError"||Qe.name==="PermissionDeniedError")&&(Ue="    .      ."),alert(Ue)}},Ee=()=>{Q.current&&(Q.current.getTracks().forEach(Qe=>Qe.stop()),Q.current=null),G.current&&(G.current.srcObject=null),k(!1)},qe=()=>{if(G.current){const Qe=document.createElement("canvas");Qe.width=G.current.videoWidth,Qe.height=G.current.videoHeight;const Ue=Qe.getContext("2d");if(Ue){Ue.drawImage(G.current,0,0);const ot=Qe.toDataURL("image/jpeg",.9);V(Dt=>[...Dt,ot]),navigator.vibrate&&navigator.vibrate(50)}}},Ne=()=>{U.length>0&&(O(U[0]),te(U.slice(1))),Ee()};ye.useEffect(()=>{if(P&&ae.current){oe.current&&oe.current.destroy();const Qe=new Cropper(ae.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});oe.current=Qe}return()=>{oe.current&&(oe.current.destroy(),oe.current=null)}},[P]);const Me=ye.useMemo(()=>e.filter(Qe=>Qe.status==="pending").filter(Qe=>Qe.productName.toLowerCase().includes(m.toLowerCase())),[e,m]),Ze=()=>{Z(""),M([]),te([]),S(null)},Tt=()=>{Ze(),c(!0)},le=Qe=>{S(Qe.id),Z(Qe.productName),Qe.images&&Qe.images.length>0?M(Qe.images):Qe.image?M([Qe.image]):M([]),c(!0),h(null)},tt=Qe=>{const Ue=Qe.target.files;if(Ue&&Ue.length>0){const ot=[];Array.from(Ue).forEach(Dt=>{ot.push(new Promise(Zt=>{const ut=new FileReader;ut.onloadend=()=>Zt(ut.result),ut.readAsDataURL(Dt)}))}),Promise.all(ot).then(Dt=>{O(Dt[0]),te(Dt.slice(1))})}Qe.target.value=""},yt=()=>{if(oe.current){const Ue=oe.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);M(ot=>[...ot,Ue]),re.length>0?(O(re[0]),te(ot=>ot.slice(1))):O(null)}},kt=()=>{re.length>0?(O(re[0]),te(Qe=>Qe.slice(1))):O(null)},ct=Qe=>{M(Ue=>Ue.filter((ot,Dt)=>Dt!==Qe))},at=()=>{var Ue;if(!J)return;const Qe={id:b||`req-${Date.now()}`,productName:J,image:K.length>0?K[0]:void 0,images:K,status:"pending",createdAt:b&&((Ue=e.find(ot=>ot.id===b))==null?void 0:Ue.createdAt)||Date.now()};b?n(Qe):r(Qe),c(!1),Ze()},Nt=()=>{Re&&(i(Re),xe(null),h(null))},Rt=async()=>{if(!(!d||!ie.current)){Ce(!0);try{(await RA(ie.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){Ce(!1),alert("  ");return}try{const ot=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([ot]),window.open("https://wa.me/","_blank")}catch(ot){console.error("Clipboard failed",ot),alert("       ."),window.open("https://wa.me/","_blank")}finally{Ce(!1)}},"image/png",1)}catch(Qe){console.error("Share error",Qe),Ce(!1)}}},fr=async()=>{if(!(Me.length===0||!Ye.current)){be(!0);try{(await RA(Ye.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){be(!1),alert("  ");return}try{const ot=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([ot]),window.open("https://wa.me/","_blank")}catch(ot){console.error("Clipboard failed",ot),window.open("https://wa.me/","_blank")}finally{be(!1)}},"image/png",1)}catch(Qe){console.error("Share error",Qe),be(!1)}}},bt=()=>{if(!d)return;const Qe=window.open("","_blank");if(!Qe){alert("   ");return}const Ue=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${d.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(d.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${d.productName}</p>
          </div>
          <div class="images">
            ${(d.images||[]).map(ot=>`<img src="${ot}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Qe.document.write(Ue),Qe.document.close()},nn=()=>{if(Me.length===0)return;const Qe=window.open("","_blank");if(!Qe){alert("   ");return}const Ue=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${Me.map((ot,Dt)=>`
                <tr>
                  <td>${Dt+1}</td>
                  <td><strong>${ot.productName}</strong></td>
                  <td>${new Date(ot.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Qe.document.write(Ue),Qe.document.close()};return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{ref:ie,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),f.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",d?new Date(d.createdAt).toLocaleDateString("ar-MA"):""]})]}),f.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[f.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),f.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:d==null?void 0:d.productName})]})]}),f.jsxs("div",{ref:Ye,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),f.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[f.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),f.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),f.jsx("tbody",{children:Me.map((Qe,Ue)=>f.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[f.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:Qe.productName}),f.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},Ue))})]}),f.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:f.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",Me.length]})})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:m,onChange:Qe=>C(Qe.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:Me.length>0?Me.map(Qe=>{var Ue;return f.jsxs("div",{onClick:()=>h(Qe),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[f.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:Qe.image||Qe.images&&Qe.images.length>0?f.jsx("img",{src:((Ue=Qe.images)==null?void 0:Ue[0])||Qe.image,alt:"req",className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),f.jsx("path",{d:"M12 11h4"}),f.jsx("path",{d:"M12 16h4"}),f.jsx("path",{d:"M8 11h.01"}),f.jsx("path",{d:"M8 16h.01"})]})}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:Qe.productName}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(Qe.createdAt).toLocaleDateString("ar-MA")]})]}),f.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]},Qe.id)}):f.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),f.jsx("p",{children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[f.jsx("button",{onClick:nn,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:fr,disabled:We,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${We?"opacity-50 cursor-wait":""}`,title:"  ",children:We?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:Tt,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),d&&f.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[f.jsx("button",{onClick:()=>h(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),f.jsxs("div",{className:"text-center space-y-3",children:[f.jsx("div",{onClick:()=>{var Ue;const Qe=((Ue=d.images)==null?void 0:Ue[0])||d.image;Qe&&X(Qe)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:d.image||d.images&&d.images.length>0?f.jsx("img",{src:((Yr=d.images)==null?void 0:Yr[0])||d.image,alt:"req",className:"w-full h-full object-cover"}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),f.jsx("h3",{className:"text-2xl font-black text-white",children:d.productName}),f.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(d.createdAt).toLocaleDateString("ar-MA")})]}),d.images&&d.images.length>1&&f.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.images.slice(1).map((Qe,Ue)=>f.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>X(Qe),children:f.jsx("img",{src:Qe,alt:"req",className:"w-full h-full object-cover"})},Ue))}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:Rt,disabled:me,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${me?"opacity-50":""}`,children:[me?f.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:f.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),f.jsxs("button",{onClick:bt,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:()=>le(d),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),f.jsx("button",{onClick:()=>xe(d.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),o&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:b?" ":" "}),f.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),K.length>0&&f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:K.map((Qe,Ue)=>f.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[f.jsx("img",{src:Qe,alt:`Img ${Ue}`,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>ct(Ue),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Ue))}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{onClick:ue,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:""})]}),f.jsx("div",{onClick:()=>{var Qe;return(Qe=W.current)==null?void 0:Qe.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:f.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),f.jsx("input",{ref:W,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:tt})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:J,onChange:Qe=>Z(Qe.target.value),placeholder:"  ...",autoFocus:!0})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:at,disabled:!J,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${J?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:b?" ":" "}),f.jsx("button",{onClick:()=>c(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),R&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[f.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[f.jsx("video",{ref:G,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),U.length>0&&f.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:f.jsxs("span",{className:"text-sm font-black text-white",children:[U.length,"  "]})}),f.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:f.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),f.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[f.jsx("button",{onClick:Ee,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),f.jsx("button",{onClick:qe,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),U.length>0?f.jsx("button",{onClick:Ne,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}):f.jsx("div",{className:"w-14"})]})]})}),P&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[f.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:f.jsx("img",{ref:ae,src:P,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[f.jsx("div",{className:"flex-1",children:f.jsx("button",{onClick:yt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:re.length>0?` (${re.length+1} )`:" "})}),f.jsx("div",{className:"flex-1",children:f.jsx("button",{onClick:kt,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:re.length>0?"":""})})]})]})}),Re&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:Nt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>xe(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),q&&f.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>X(null),children:[f.jsx("img",{src:q,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),f.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},mte=({onNavigateToHome:t,checks:e,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:i,settings:s})=>{const[o,c]=ye.useState("primary"),[d,h]=ye.useState(!1),[m,C]=ye.useState(""),[b,S]=ye.useState(null),[R,k]=ye.useState(null),[U,V]=ye.useState(!1),G=ye.useRef(null),[Q,J]=ye.useState(null),[Z,K]=ye.useState(new Date().toISOString().split("T")[0]),[M,P]=ye.useState(""),[O,re]=ye.useState(""),[te,q]=ye.useState(new Date().toISOString().split("T")[0]),[X,Re]=ye.useState(""),xe=new Date().toISOString().split("T")[0],me=ye.useMemo(()=>o==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[o]),Ce=ye.useMemo(()=>e.filter(Ne=>{if((Ne.checkbookType||"primary")!==o||!(Ne.name.includes(m)||Ne.amount.toString().includes(m)||Ne.serialNumber&&Ne.serialNumber.includes(m)))return!1;if(R!==null)try{if(parseInt(Ne.paymentDate.split("-")[1],10)!==R)return!1}catch{return!1}return!0}),[e,m,R,o]),We=ye.useMemo(()=>Ce.reduce((Ne,Me)=>Me.paymentDate<xe?Ne:Ne+Me.amount,0),[Ce,xe]),be=()=>{const Ne=new Date;if(K(Ne.toISOString().split("T")[0]),P(""),re(""),R!==null){const Me=Ne.getFullYear(),Ze=new Date(Me,R,0).getDate(),Tt=Math.min(Ne.getDate(),Ze),le=R.toString().padStart(2,"0"),tt=Tt.toString().padStart(2,"0");q(`${Me}-${le}-${tt}`)}else q(Ne.toISOString().split("T")[0]);Re(""),S(null)},Ye=()=>{be(),h(!0)},ie=Ne=>{S(Ne.id),K(Ne.creationDate),P(Ne.name),re(Ne.amount.toString()),q(Ne.paymentDate),Re(Ne.serialNumber||""),h(!0)},W=()=>{var Me;if(!M||!O)return;const Ne={id:b||`chk-${Date.now()}`,creationDate:Z,name:M,amount:parseFloat(O),paymentDate:te,serialNumber:X,checkbookType:o,createdAt:b&&((Me=e.find(Ze=>Ze.id===b))==null?void 0:Me.createdAt)||Date.now()};b?n(Ne):r(Ne),h(!1),be()},oe=()=>{Q&&(i(Q),J(null),h(!1),be())},ae=()=>{if(Ce.length===0){alert("   ");return}const Ne=window.open("","_blank");if(!Ne){alert("   ");return}const Me=R?` ${R}`:" ",Ze=o==="primary"?"  1":"  2",Tt=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${s.businessName}</h3>
                <h2>   - ${Ze}</h2>
                <p>: ${Me}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${Ce.map(le=>{const tt=le.paymentDate<xe;return`
                        <tr>
                            <td>${le.name} ${tt?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${le.paymentDate}</td>
                            <td class="amount-col">${le.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${We.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;Ne.document.write(Tt),Ne.document.close()},ue=async()=>{if(Ce.length!==0&&G.current){V(!0);try{(await RA(G.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Me=>{if(!Me){alert("  "),V(!1);return}try{const Ze=new ClipboardItem({"image/png":Me});await navigator.clipboard.write([Ze]),window.open("https://wa.me/","_blank")}catch(Ze){console.error("Clipboard failed",Ze),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{V(!1)}},"image/png",1)}catch(Ne){console.error("Error generating report image",Ne),V(!1),alert("    ")}}},Ee=R?` ${R}`:" ",qe=o==="primary"?"  1":"  2";return f.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[f.jsxs("div",{ref:G,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[f.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),f.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",qe,")"]}),f.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",Ee]}),f.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),f.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),f.jsx("tbody",{children:Ce.map((Ne,Me)=>{const Ze=Ne.paymentDate<xe;return f.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Ze?"#f0fff4":"transparent"},children:[f.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[Ne.name,Ze&&f.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),f.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:Ne.paymentDate}),f.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:Ne.amount.toFixed(2)})]},Me)})})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),f.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[We.toFixed(2)," ."]})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsxs("span",{className:`text-[10px] ${me.accentColor} font-bold transition-colors`,children:[me.name," -  "]})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 pb-4 md:pt-4",children:f.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[f.jsx("button",{onClick:()=>c("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${o==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),f.jsx("button",{onClick:()=>c("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${o==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),f.jsx("div",{className:"px-6 pb-4",children:f.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-8 h-8 ${me.lightBg} rounded-lg flex items-center justify-center ${me.accentColor} transition-colors`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",me.name]}),f.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),f.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[We.toFixed(2)," ",f.jsx("span",{className:`text-xs ${me.accentColor}`,children:"."})]})]})}),f.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${me.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:m,onChange:Ne=>C(Ne.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),f.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[f.jsx("button",{onClick:()=>k(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${R===null?`${me.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(Ne,Me)=>Me+1).map(Ne=>f.jsx("button",{onClick:()=>k(Ne===R?null:Ne),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${R===Ne?`${me.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:Ne},Ne))]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:Ce.length>0?Ce.map(Ne=>{const Me=Ne.paymentDate<xe;return f.jsxs("div",{onClick:()=>ie(Ne),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${Me?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${Me?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${me.accentColor}`}`,children:Me?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6 9 17l-5-5"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${Me?"text-green-100":"text-white"}`,children:Ne.name}),Ne.serialNumber&&f.jsxs("span",{className:`text-[10px] ${me.lightBg} ${me.lightText} px-1.5 py-0.5 rounded border ${me.borderLight} font-mono`,children:["#",Ne.serialNumber]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",Ne.paymentDate]}),Me&&f.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),f.jsxs("div",{className:"text-left",children:[f.jsx("span",{className:`text-lg font-black ${Me?"text-green-500":"text-white"}`,children:Ne.amount.toFixed(2)}),f.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),f.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),f.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:f.jsxs("span",{children:[" : ",Ne.creationDate]})})]},Ne.id)}):f.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),f.jsx("p",{children:"   "})]})}),f.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[f.jsx("button",{onClick:ae,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:ue,disabled:U,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${U?"opacity-50 cursor-wait":""}`,title:"   ",children:U?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:Ye,className:`pointer-events-auto ${me.btnBg} text-white px-8 py-4 rounded-full font-black ${me.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:" "})]})}),d&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:b?" ":" "}),f.jsx("p",{className:`text-xs ${me.accentColor} font-bold`,children:me.name})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:Z,onChange:Ne=>K(Ne.target.value)})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:X,onChange:Ne=>Re(Ne.target.value),placeholder:"  "})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),f.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:M,onChange:Ne=>P(Ne.target.value),placeholder:"  ...",autoFocus:!0})]}),f.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),f.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:O,onChange:Ne=>re(Ne.target.value),placeholder:"0.00"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),f.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${me.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:te,onChange:Ne=>q(Ne.target.value)})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:W,disabled:!M||!O,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!M||!O?"bg-gray-800 opacity-50":`${me.btnBg}`}`,children:""})}),b&&f.jsx("button",{onClick:()=>J(b),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),f.jsx("button",{onClick:()=>h(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Q&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:oe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>J(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},xte=({onNavigateToHome:t,orders:e,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:i,settings:s})=>{const[o,c]=ye.useState(!1),[d,h]=ye.useState(""),[m,C]=ye.useState(null),[b,S]=ye.useState(null),[R,k]=ye.useState("pending"),[U,V]=ye.useState([]),[G,Q]=ye.useState(""),[J,Z]=ye.useState(""),[K,M]=ye.useState(!1),P=ye.useRef(null),O=ye.useMemo(()=>e.filter(ie=>{var ae;const W=(ae=ie.items)==null?void 0:ae.some(ue=>ue.name.toLowerCase().includes(d.toLowerCase())),oe=ie.productName&&ie.productName.toLowerCase().includes(d.toLowerCase());return W||oe}).sort((ie,W)=>W.createdAt-ie.createdAt),[e,d]),re=()=>{V([]),Q(""),Z(""),C(null),k("pending")},te=()=>{re(),c(!0)},q=ie=>{C(ie.id),Q(""),Z(""),k(ie.status||"pending"),ie.items&&ie.items.length>0?V([...ie.items]):ie.productName?V([{id:`legacy-${Date.now()}`,name:ie.productName,quantity:ie.quantity||1}]):V([]),c(!0)},X=()=>{if(!G||!J)return;const ie={id:`item-${Date.now()}-${Math.random()}`,name:G,quantity:parseFloat(J)};V(W=>[...W,ie]),Q(""),Z("")},Re=ie=>{V(W=>W.filter(oe=>oe.id!==ie))},xe=(ie,W,oe)=>{V(ae=>ae.map(ue=>ue.id===ie?{...ue,[W]:W==="quantity"?parseFloat(oe)||0:oe}:ue))},me=()=>{var W;if(U.length===0)return;const ie={id:m||`ord-${Date.now()}`,items:U,status:R,createdAt:m&&((W=e.find(oe=>oe.id===m))==null?void 0:W.createdAt)||Date.now()};m?n(ie):r(ie),c(!1),re()},Ce=(ie,W)=>{ie.stopPropagation();const oe=W.status==="completed"?"pending":"completed";n({...W,status:oe}),navigator.vibrate&&navigator.vibrate(40)},We=()=>{b&&(i(b),S(null),c(!1),re())},be=()=>{if(U.length===0)return;const ie=window.open("","_blank");if(!ie){alert("   ");return}const W=s.specialOrderLabel||" ",oe=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${W}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header"><h3>${s.businessName}</h3><h2>${W}</h2><p>: ${new Date().toLocaleDateString("ar-MA")}</p></div>
          <ul>${U.map(ae=>`<li><span>${ae.name}</span><span>${ae.quantity}</span></li>`).join("")}</ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;ie.document.write(oe),ie.document.close()},Ye=async()=>{if(!(U.length===0||!P.current)){M(!0);try{(await RA(P.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,width:600})).toBlob(async W=>{if(!W){M(!1);return}try{const oe=new ClipboardItem({"image/png":W});await navigator.clipboard.write([oe]),window.open("https://wa.me/","_blank")}catch{window.open("https://wa.me/","_blank")}finally{M(!1)}},"image/png",1)}catch{M(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative font-['Tajawal']",children:[f.jsxs("div",{ref:P,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"50px",backgroundColor:"white",color:"black",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{textAlign:"center",borderBottom:"5px solid #e11d48",paddingBottom:"20px",marginBottom:"30px"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#666",marginBottom:"5px"},children:s.businessName}),f.jsx("h1",{style:{fontSize:"36px",fontWeight:"900",margin:0,color:"#e11d48"},children:s.specialOrderLabel||" "}),f.jsxs("p",{style:{fontSize:"18px",color:"#444",marginTop:"10px"},children:[" : ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{backgroundColor:"#fff1f2",color:"#e11d48"},children:[f.jsx("th",{style:{textAlign:"right",padding:"20px",borderBottom:"3px solid #e11d48",fontSize:"22px"},children:" "}),f.jsx("th",{style:{textAlign:"center",padding:"20px",borderBottom:"3px solid #e11d48",fontSize:"22px",width:"30%"},children:""})]})}),f.jsx("tbody",{children:U.map((ie,W)=>f.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[f.jsx("td",{style:{padding:"20px 10px",fontSize:"22px",fontWeight:"bold"},children:ie.name}),f.jsx("td",{style:{padding:"20px 10px",fontSize:"26px",fontWeight:"900",textAlign:"center",color:"#e11d48"},children:ie.quantity})]},W))})]}),f.jsxs("div",{style:{marginTop:"50px",borderTop:"2px solid #eee",paddingTop:"20px",textAlign:"center"},children:[f.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold"},children:["  : ",U.length]}),f.jsx("p",{style:{fontSize:"14px",color:"#999",marginTop:"10px"},children:"    MAMA "})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),f.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:d,onChange:ie=>h(ie.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:O.length>0?O.map(ie=>{var W,oe;return f.jsxs("div",{onClick:()=>q(ie),className:`bg-[#111111] rounded-2xl border ${ie.status==="completed"?"border-[#57b385]/40 bg-[#57b385]/5":"border-gray-800/60"} p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600`,children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:`w-12 h-12 min-w-[48px] rounded-xl border flex items-center justify-center transition-all ${ie.status==="completed"?"bg-[#57b385]/10 border-[#57b385]/20 text-[#57b385]":"bg-[#1a1a1a] border-gray-800 text-rose-500"}`,children:ie.status==="completed"?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-black text-xs text-gray-400",children:new Date(ie.createdAt).toLocaleDateString("ar-MA")}),f.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded-full font-black ${ie.status==="completed"?"bg-[#57b385] text-white":"bg-rose-500 text-white"}`,children:ie.status==="completed"?"":" "})]}),f.jsxs("div",{className:"space-y-1",children:[(W=ie.items)==null?void 0:W.slice(0,3).map((ae,ue)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-white font-bold text-sm line-clamp-1",children:ae.name}),f.jsxs("span",{className:`text-[9px] px-1.5 py-0.5 rounded font-mono font-black ${ie.status==="completed"?"bg-[#57b385]/20 text-[#57b385]":"bg-rose-500/10 text-rose-500"}`,children:["x",ae.quantity]})]},ue)),((oe=ie.items)==null?void 0:oe.length)>3&&f.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",ie.items.length-3,"  ..."]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("button",{onClick:ae=>Ce(ae,ie),className:`p-2 rounded-xl border transition-all active:scale-90 ${ie.status==="completed"?"bg-[#1a1a1a] text-gray-500 border-gray-800":"bg-[#57b385]/10 text-[#57b385] border-[#57b385]/20"}`,title:ie.status==="completed"?" ":" ",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})}),f.jsx("div",{className:"bg-[#1a1a1a] p-2 rounded-xl border border-gray-800 flex items-center justify-center",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]})]},ie.id)}):f.jsx("div",{className:"text-center py-20 text-gray-600 opacity-50 col-span-full font-bold",children:"    "})}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:f.jsxs("button",{onClick:te,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),f.jsx("span",{children:"  "})]})}),o&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[95vh]",children:[f.jsxs("div",{className:"text-center flex-shrink-0",children:[f.jsx("h3",{className:"text-xl font-black text-white mb-1",children:m?" ":"  "}),f.jsx("div",{className:"flex justify-center mt-2",children:f.jsxs("div",{className:"bg-black/40 p-1 rounded-xl border border-gray-800 flex gap-1",children:[f.jsx("button",{onClick:()=>k("pending"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black transition-all ${R==="pending"?"bg-rose-600 text-white":"text-gray-500"}`,children:" "}),f.jsx("button",{onClick:()=>k("completed"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black transition-all ${R==="completed"?"bg-[#57b385] text-white":"text-gray-500"}`,children:" "})]})})]}),f.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0 bg-black/20 p-3 rounded-2xl border border-gray-800/50",children:[f.jsx("div",{className:"flex-1 space-y-1",children:f.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-2.5 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:G,onChange:ie=>Q(ie.target.value),placeholder:"  ...",onKeyDown:ie=>ie.key==="Enter"&&X()})}),f.jsx("div",{className:"w-16 space-y-1",children:f.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-2.5 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:J,onChange:ie=>Z(ie.target.value),placeholder:"",onKeyDown:ie=>ie.key==="Enter"&&X()})}),f.jsx("button",{onClick:X,disabled:!G||!J,className:`w-10 h-10 rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!G||!J?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:U.length>0?U.map(ie=>f.jsx("div",{className:"bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50 space-y-2",children:f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsx("button",{onClick:()=>Re(ie.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90 flex-shrink-0",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),f.jsx("input",{type:"text",className:"flex-1 bg-transparent text-right font-bold text-sm text-white outline-none border-b border-transparent focus:border-rose-500/30",value:ie.name,onChange:W=>xe(ie.id,"name",W.target.value)}),f.jsx("input",{type:"number",className:"w-12 bg-black/40 rounded-lg text-center font-black text-xs text-rose-500 p-1 border border-gray-800",value:ie.quantity,onChange:W=>xe(ie.id,"quantity",W.target.value)})]})},ie.id)):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),f.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),f.jsx("p",{children:"  "})]})}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:me,disabled:U.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${U.length===0?"bg-gray-800 opacity-50":R==="completed"?"bg-[#57b385] hover:brightness-110 shadow-[#57b385]/20":"bg-rose-600 hover:bg-rose-500 shadow-rose-900/20"}`,children:m?" ":" "}),f.jsx("button",{onClick:be,disabled:U.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),f.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),f.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),f.jsx("button",{onClick:Ye,disabled:U.length===0||K,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${K?"opacity-50 cursor-wait":""}`,children:K?f.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),f.jsxs("div",{className:"flex gap-2",children:[m&&f.jsx("button",{onClick:()=>S(m),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),f.jsx("button",{onClick:()=>c(!1),className:"flex-1 bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),b&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:We,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),f.jsx("button",{onClick:()=>S(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},wte=Object.prototype.toString,vte=t=>wte.call(t)==="[object Error]",yte=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Cte(t){if(!(t&&vte(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:r,stack:n}=t;return r==="Load failed"?n===void 0||"__sentry_captured__"in t:r.startsWith("error sending request for url")?!0:yte.has(r)}function Ete(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Lg(t,e,{min:r=0,allowInfinity:n=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<r)throw new TypeError(`Expected \`${t}\` to be  ${r}.`)}}class rk extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function bte(t,e){const r=Math.max(1,t+1),n=e.randomize?Math.random()+1:1;let i=Math.round(n*e.minTimeout*e.factor**(r-1));return i=Math.min(i,e.maxTimeout),i}function q4(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function _te({error:t,attemptNumber:e,retriesConsumed:r,startTime:n,options:i}){var S,R,k,U;const s=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(s instanceof rk)throw s.originalError;const o=Number.isFinite(i.retries)?Math.max(0,i.retries-r):i.retries,c=i.maxRetryTime??Number.POSITIVE_INFINITY,d=Object.freeze({error:s,attemptNumber:e,retriesLeft:o,retriesConsumed:r});if(await i.onFailedAttempt(d),q4(n,c)<=0)throw s;const h=await i.shouldConsumeRetry(d),m=q4(n,c);if(m<=0||o<=0)throw s;if(s instanceof TypeError&&!Cte(s)){if(h)throw s;return(S=i.signal)==null||S.throwIfAborted(),!1}if(!await i.shouldRetry(d))throw s;if(!h)return(R=i.signal)==null||R.throwIfAborted(),!1;const C=bte(r,i),b=Math.min(C,m);return(k=i.signal)==null||k.throwIfAborted(),b>0&&await new Promise((V,G)=>{var Z,K;const Q=()=>{var M;clearTimeout(J),(M=i.signal)==null||M.removeEventListener("abort",Q),G(i.signal.reason)},J=setTimeout(()=>{var M;(M=i.signal)==null||M.removeEventListener("abort",Q),V()},b);i.unref&&((Z=J.unref)==null||Z.call(J)),(K=i.signal)==null||K.addEventListener("abort",Q,{once:!0})}),(U=i.signal)==null||U.throwIfAborted(),!0}async function Tte(t,e={}){var s,o,c;if(e={...e},Ete(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Lg("factor",e.factor,{min:0,allowInfinity:!1}),Lg("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Lg("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Lg("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(s=e.signal)==null||s.throwIfAborted();let r=0,n=0;const i=performance.now();for(;!Number.isFinite(e.retries)||n<=e.retries;){r++;try{(o=e.signal)==null||o.throwIfAborted();const d=await t(r);return(c=e.signal)==null||c.throwIfAborted(),d}catch(d){await _te({error:d,attemptNumber:r,retriesConsumed:n,startTime:i,options:e})&&n++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Bte={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ite,Ste;function Nte(){return{geminiUrl:Ite,vertexUrl:Ste}}function Fte(t,e,r,n){var i,s;if(!(t!=null&&t.baseUrl)){const o=Nte();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:r:(s=o.geminiUrl)!==null&&s!==void 0?s:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl{}function Ot(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function T(t,e,r){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(r))t[c]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(r))for(let h=0;h<d.length;h++){const m=d[h];T(m,e.slice(s+1),r[h])}else for(const h of d)T(h,e.slice(s+1),r)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];T(d[0],e.slice(s+1),r);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function E(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(c=>E(c,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function Rte(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),s=n.split("."),o=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&s.length>c)for(let d=c;d<s.length;d++){const h=s[d];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&o.add(h)}Gw(t,i,s,0,o)}}function Gw(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const s=e[n];if(s.endsWith("[]")){const o=s.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const d of c[o])Gw(d,e,r,n+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(h=>!h.startsWith("_")&&!i.has(h)),d={};for(const h of c)d[h]=o[h];for(const[h,m]of Object.entries(d)){const C=[];for(const b of r.slice(n))b==="*"?C.push(h):C.push(b);T(o,C,m)}for(const h of c)delete o[h]}}else{const o=t;s in o&&Gw(o[s],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kte(t){const e={},r=E(t,["operationName"]);r!=null&&T(e,["operationName"],r);const n=E(t,["resourceName"]);return n!=null&&T(e,["_url","resourceName"],n),e}function Dte(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["response","generateVideoResponse"]);return o!=null&&T(e,["response"],Mte(o)),e}function Ute(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["response"]);return o!=null&&T(e,["response"],Ote(o)),e}function Mte(t){const e={},r=E(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Lte(o))),T(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&T(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function Ote(t){const e={},r=E(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Pte(o))),T(e,["generatedVideos"],s)}const n=E(t,["raiMediaFilteredCount"]);n!=null&&T(e,["raiMediaFilteredCount"],n);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function Lte(t){const e={},r=E(t,["video"]);return r!=null&&T(e,["video"],Kte(r)),e}function Pte(t){const e={},r=E(t,["_self"]);return r!=null&&T(e,["video"],zte(r)),e}function Qte(t){const e={},r=E(t,["operationName"]);return r!=null&&T(e,["_url","operationName"],r),e}function Hte(t){const e={},r=E(t,["operationName"]);return r!=null&&T(e,["_url","operationName"],r),e}function Vte(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["response"]);return o!=null&&T(e,["response"],jte(o)),e}function jte(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function nk(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["response"]);return o!=null&&T(e,["response"],Gte(o)),e}function Gte(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function Kte(t){const e={},r=E(t,["uri"]);r!=null&&T(e,["uri"],r);const n=E(t,["encodedVideo"]);n!=null&&T(e,["videoBytes"],Qy(n));const i=E(t,["encoding"]);return i!=null&&T(e,["mimeType"],i),e}function zte(t){const e={},r=E(t,["gcsUri"]);r!=null&&T(e,["uri"],r);const n=E(t,["bytesBase64Encoded"]);n!=null&&T(e,["videoBytes"],Qy(n));const i=E(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var X4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(X4||(X4={}));var Y4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Y4||(Y4={}));var J4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(J4||(J4={}));var gs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gs||(gs={}));var Z4;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Z4||(Z4={}));var $4;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})($4||($4={}));var eI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eI||(eI={}));var tI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tI||(tI={}));var rI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(rI||(rI={}));var nI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nI||(nI={}));var iI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(iI||(iI={}));var sI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(sI||(sI={}));var aI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(aI||(aI={}));var oI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(oI||(oI={}));var lI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(lI||(lI={}));var AI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(AI||(AI={}));var cI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cI||(cI={}));var uI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uI||(uI={}));var fI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fI||(fI={}));var dI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(dI||(dI={}));var hI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hI||(hI={}));var X1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(X1||(X1={}));var gI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gI||(gI={}));var pI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pI||(pI={}));var mI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mI||(mI={}));var Kw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Kw||(Kw={}));var xI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xI||(xI={}));var wI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(wI||(wI={}));var zw;(function(t){t.COLLECTION="COLLECTION"})(zw||(zw={}));var vI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(vI||(vI={}));var yI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yI||(yI={}));var CI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(CI||(CI={}));var EI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(EI||(EI={}));var bI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bI||(bI={}));var _I;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_I||(_I={}));var TI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(TI||(TI={}));var BI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(BI||(BI={}));var II;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(II||(II={}));var SI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(SI||(SI={}));var NI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(NI||(NI={}));var FI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(FI||(FI={}));var RI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(RI||(RI={}));var kI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(kI||(kI={}));var DI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(DI||(DI={}));var UI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(UI||(UI={}));var MI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(MI||(MI={}));var OI;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(OI||(OI={}));var LI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(LI||(LI={}));var PI;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(PI||(PI={}));var QI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(QI||(QI={}));var HI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(HI||(HI={}));var VI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(VI||(VI={}));var jI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(jI||(jI={}));var GI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(GI||(GI={}));var KI;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KI||(KI={}));var zI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(zI||(zI={}));var Hu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hu||(Hu={}));class Ww{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class ff{get text(){var e,r,n,i,s,o,c,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const C=[];for(const b of(d=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[S,R]of Object.entries(b))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(R!==null||R!==void 0)&&C.push(S);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;m=!0,h+=b.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var e,r,n,i,s,o,c,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const C of(d=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[b,S]of Object.entries(C))b!=="inlineData"&&(S!==null||S!==void 0)&&m.push(b);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,r,n,i,s,o,c,d;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(d=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,r,n,i,s,o,c,d,h;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,r,n,i,s,o,c,d,h;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class WI{}class qI{}class Wte{}class qte{}class Xte{}class Yte{}class XI{}class YI{}class JI{}class Jte{}class Y1{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Y1;let i;const s=e;return r?i=Ute(s):i=Dte(s),Object.assign(n,i),n}}class ZI{}class $I{}class eS{}class tS{}class Zte{}class $te{}class ere{}class Hy{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Hy,s=Vte(e);return Object.assign(n,s),n}}class tre{}class rre{}class nre{}class ire{}class rS{}class sre{get text(){var e,r,n;let i="",s=!1;const o=[];for(const c of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[d,h]of Object.entries(c))d!=="text"&&d!=="thought"&&h!==null&&o.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,r,n;let i="";const s=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,d]of Object.entries(o))c!=="inlineData"&&d!==null&&s.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class are{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vy{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Vy,s=nk(e);return Object.assign(n,s),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ik(t,e){const r=rn(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function sk(t){return Array.isArray(t)?t.map(e=>J1(e)):[J1(t)]}function J1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ak(t){const e=J1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ok(t){const e=J1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>nS(e)):[nS(t)]}function qw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function iS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function sS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ms(t){if(t==null)throw new Error("ContentUnion is required");return qw(t)?t:{role:"user",parts:lk(t)}}function jy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=ms(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=ms(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>ms(r)):[ms(e)]}function Ka(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(iS(t)||sS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ms(t)]}const e=[],r=[],n=qw(t[0]);for(const i of t){const s=qw(i);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(iS(i)||sS(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:lk(r)}),e}function ore(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(gs).includes(r[0].toUpperCase())?r[0].toUpperCase():gs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(gs).includes(n.toUpperCase())?n.toUpperCase():gs.TYPE_UNSPECIFIED})}}function Ju(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&ore(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(gs).includes(c.toUpperCase())?c.toUpperCase():gs.TYPE_UNSPECIFIED}else if(r.includes(o))e[o]=Ju(c);else if(n.includes(o)){const d=[];for(const h of c){if(h.type=="null"){e.nullable=!0;continue}d.push(Ju(h))}e[o]=d}else if(i.includes(o)){const d={};for(const[h,m]of Object.entries(c))d[h]=Ju(m);e[o]=d}else{if(o==="additionalProperties")continue;e[o]=c}return e}function Gy(t){return Ju(t)}function Ky(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function w0(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ju(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ju(e.response));return t}function v0(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function lre(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function kl(t,e){if(typeof e!="string")throw new Error("name must be a string");return lre(t,e,"cachedContents")}function Ak(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function LA(t){return Qy(t)}function Are(t){return t!=null&&typeof t=="object"&&"name"in t}function cre(t){return t!=null&&typeof t=="object"&&"video"in t}function ure(t){return t!=null&&typeof t=="object"&&"uri"in t}function ck(t){var e;let r;if(Are(t)&&(r=t.name),!(ure(t)&&(r=t.uri,r===void 0))&&!(cre(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function uk(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function fk(t){for(const e of["models","tunedModels","publisherModels"])if(fre(t,e))return t[e];return[]}function fre(t,e){return t!==null&&typeof t=="object"&&e in t}function dre(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function hre(t,e={}){const r=[],n=new Set;for(const i of t){const s=i.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const o=dre(i,e);o.functionDeclarations&&r.push(...o.functionDeclarations)}return{functionDeclarations:r}}function dk(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function gre(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hk(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const d=o.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function y0(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function gk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pre(t){const e={},r=E(t,["responsesFile"]);r!=null&&T(e,["fileName"],r);const n=E(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Yre(o))),T(e,["inlinedResponses"],s)}const i=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["inlinedEmbedContentResponses"],s)}return e}function mre(t){const e={},r=E(t,["predictionsFormat"]);r!=null&&T(e,["format"],r);const n=E(t,["gcsDestination","outputUriPrefix"]);n!=null&&T(e,["gcsUri"],n);const i=E(t,["bigqueryDestination","outputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function xre(t){const e={},r=E(t,["format"]);r!=null&&T(e,["predictionsFormat"],r);const n=E(t,["gcsUri"]);n!=null&&T(e,["gcsDestination","outputUriPrefix"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&T(e,["bigqueryDestination","outputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function i1(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata","displayName"]);n!=null&&T(e,["displayName"],n);const i=E(t,["metadata","state"]);i!=null&&T(e,["state"],gk(i));const s=E(t,["metadata","createTime"]);s!=null&&T(e,["createTime"],s);const o=E(t,["metadata","endTime"]);o!=null&&T(e,["endTime"],o);const c=E(t,["metadata","updateTime"]);c!=null&&T(e,["updateTime"],c);const d=E(t,["metadata","model"]);d!=null&&T(e,["model"],d);const h=E(t,["metadata","output"]);return h!=null&&T(e,["dest"],pre(hk(h))),e}function Xw(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["displayName"]);n!=null&&T(e,["displayName"],n);const i=E(t,["state"]);i!=null&&T(e,["state"],gk(i));const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["createTime"]);o!=null&&T(e,["createTime"],o);const c=E(t,["startTime"]);c!=null&&T(e,["startTime"],c);const d=E(t,["endTime"]);d!=null&&T(e,["endTime"],d);const h=E(t,["updateTime"]);h!=null&&T(e,["updateTime"],h);const m=E(t,["model"]);m!=null&&T(e,["model"],m);const C=E(t,["inputConfig"]);C!=null&&T(e,["src"],wre(C));const b=E(t,["outputConfig"]);b!=null&&T(e,["dest"],mre(hk(b)));const S=E(t,["completionStats"]);return S!=null&&T(e,["completionStats"],S),e}function wre(t){const e={},r=E(t,["instancesFormat"]);r!=null&&T(e,["format"],r);const n=E(t,["gcsSource","uris"]);n!=null&&T(e,["gcsUri"],n);const i=E(t,["bigquerySource","inputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function vre(t,e){const r={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=E(e,["fileName"]);n!=null&&T(r,["fileName"],n);const i=E(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Xre(t,o))),T(r,["requests","requests"],s)}return r}function yre(t){const e={},r=E(t,["format"]);r!=null&&T(e,["instancesFormat"],r);const n=E(t,["gcsUri"]);n!=null&&T(e,["gcsSource","uris"],n);const i=E(t,["bigqueryUri"]);if(i!=null&&T(e,["bigquerySource","inputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Cre(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function Ere(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function bre(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function _re(t){const e={},r=E(t,["content"]);r!=null&&T(e,["content"],r);const n=E(t,["citationMetadata"]);n!=null&&T(e,["citationMetadata"],Tre(n));const i=E(t,["tokenCount"]);i!=null&&T(e,["tokenCount"],i);const s=E(t,["finishReason"]);s!=null&&T(e,["finishReason"],s);const o=E(t,["avgLogprobs"]);o!=null&&T(e,["avgLogprobs"],o);const c=E(t,["groundingMetadata"]);c!=null&&T(e,["groundingMetadata"],c);const d=E(t,["index"]);d!=null&&T(e,["index"],d);const h=E(t,["logprobsResult"]);h!=null&&T(e,["logprobsResult"],h);const m=E(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(S=>S)),T(e,["safetyRatings"],b)}const C=E(t,["urlContextMetadata"]);return C!=null&&T(e,["urlContextMetadata"],C),e}function Tre(t){const e={},r=E(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),T(e,["citations"],n)}return e}function pk(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>nne(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function Bre(t,e){const r={},n=E(t,["displayName"]);if(e!==void 0&&n!=null&&T(e,["batch","displayName"],n),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Ire(t,e){const r={},n=E(t,["displayName"]);e!==void 0&&n!=null&&T(e,["displayName"],n);const i=E(t,["dest"]);return e!==void 0&&i!=null&&T(e,["outputConfig"],xre(gre(i))),r}function aS(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["_url","model"],rn(t,n));const i=E(e,["src"]);i!=null&&T(r,["batch","inputConfig"],vre(t,dk(t,i)));const s=E(e,["config"]);return s!=null&&Bre(s,r),r}function Sre(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],rn(t,n));const i=E(e,["src"]);i!=null&&T(r,["inputConfig"],yre(dk(t,i)));const s=E(e,["config"]);return s!=null&&Ire(s,r),r}function Nre(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&T(e,["batch","displayName"],n),r}function Fre(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["_url","model"],rn(t,n));const i=E(e,["src"]);i!=null&&T(r,["batch","inputConfig"],Lre(t,i));const s=E(e,["config"]);return s!=null&&Nre(s,r),r}function Rre(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function kre(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function Dre(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);return s!=null&&T(e,["error"],s),e}function Ure(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);return s!=null&&T(e,["error"],s),e}function Mre(t,e){const r={},n=E(e,["contents"]);if(n!=null){let s=jy(t,n);Array.isArray(s)&&(s=s.map(o=>o)),T(r,["requests[]","request","content"],s)}const i=E(e,["config"]);return i!=null&&(T(r,["_self"],Ore(i,r)),Rte(r,{"requests[].*":"requests[].request.*"})),r}function Ore(t,e){const r={},n=E(t,["taskType"]);e!==void 0&&n!=null&&T(e,["requests[]","taskType"],n);const i=E(t,["title"]);e!==void 0&&i!=null&&T(e,["requests[]","title"],i);const s=E(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&T(e,["requests[]","outputDimensionality"],s),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Lre(t,e){const r={},n=E(e,["fileName"]);n!=null&&T(r,["file_name"],n);const i=E(e,["inlinedRequests"]);return i!=null&&T(r,["requests"],Mre(t,i)),r}function Pre(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function Qre(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hre(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&T(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&T(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Vre(t,e,r){const n={},i=E(e,["systemInstruction"]);r!==void 0&&i!=null&&T(r,["systemInstruction"],pk(ms(i)));const s=E(e,["temperature"]);s!=null&&T(n,["temperature"],s);const o=E(e,["topP"]);o!=null&&T(n,["topP"],o);const c=E(e,["topK"]);c!=null&&T(n,["topK"],c);const d=E(e,["candidateCount"]);d!=null&&T(n,["candidateCount"],d);const h=E(e,["maxOutputTokens"]);h!=null&&T(n,["maxOutputTokens"],h);const m=E(e,["stopSequences"]);m!=null&&T(n,["stopSequences"],m);const C=E(e,["responseLogprobs"]);C!=null&&T(n,["responseLogprobs"],C);const b=E(e,["logprobs"]);b!=null&&T(n,["logprobs"],b);const S=E(e,["presencePenalty"]);S!=null&&T(n,["presencePenalty"],S);const R=E(e,["frequencyPenalty"]);R!=null&&T(n,["frequencyPenalty"],R);const k=E(e,["seed"]);k!=null&&T(n,["seed"],k);const U=E(e,["responseMimeType"]);U!=null&&T(n,["responseMimeType"],U);const V=E(e,["responseSchema"]);V!=null&&T(n,["responseSchema"],Gy(V));const G=E(e,["responseJsonSchema"]);if(G!=null&&T(n,["responseJsonSchema"],G),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=E(e,["safetySettings"]);if(r!==void 0&&Q!=null){let X=Q;Array.isArray(X)&&(X=X.map(Re=>ine(Re))),T(r,["safetySettings"],X)}const J=E(e,["tools"]);if(r!==void 0&&J!=null){let X=v0(J);Array.isArray(X)&&(X=X.map(Re=>ane(w0(Re)))),T(r,["tools"],X)}const Z=E(e,["toolConfig"]);if(r!==void 0&&Z!=null&&T(r,["toolConfig"],sne(Z)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=E(e,["cachedContent"]);r!==void 0&&K!=null&&T(r,["cachedContent"],kl(t,K));const M=E(e,["responseModalities"]);M!=null&&T(n,["responseModalities"],M);const P=E(e,["mediaResolution"]);P!=null&&T(n,["mediaResolution"],P);const O=E(e,["speechConfig"]);if(O!=null&&T(n,["speechConfig"],Ky(O)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=E(e,["thinkingConfig"]);re!=null&&T(n,["thinkingConfig"],re);const te=E(e,["imageConfig"]);te!=null&&T(n,["imageConfig"],qre(te));const q=E(e,["enableEnhancedCivicAnswers"]);if(q!=null&&T(n,["enableEnhancedCivicAnswers"],q),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function jre(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["candidates"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>_re(h))),T(e,["candidates"],d)}const i=E(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const s=E(t,["promptFeedback"]);s!=null&&T(e,["promptFeedback"],s);const o=E(t,["responseId"]);o!=null&&T(e,["responseId"],o);const c=E(t,["usageMetadata"]);return c!=null&&T(e,["usageMetadata"],c),e}function Gre(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function Kre(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],y0(t,n)),r}function zre(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function Wre(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function qre(t){const e={},r=E(t,["aspectRatio"]);r!=null&&T(e,["aspectRatio"],r);const n=E(t,["imageSize"]);if(n!=null&&T(e,["imageSize"],n),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Xre(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["request","model"],rn(t,n));const i=E(e,["contents"]);if(i!=null){let c=Ka(i);Array.isArray(c)&&(c=c.map(d=>pk(d))),T(r,["request","contents"],c)}const s=E(e,["metadata"]);s!=null&&T(r,["metadata"],s);const o=E(e,["config"]);return o!=null&&T(r,["request","generationConfig"],Vre(t,o,E(r,["request"],{}))),r}function Yre(t){const e={},r=E(t,["response"]);r!=null&&T(e,["response"],jre(r));const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["error"]);return i!=null&&T(e,["error"],i),e}function Jre(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);if(e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Zre(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const s=E(t,["filter"]);return e!==void 0&&s!=null&&T(e,["_query","filter"],s),r}function $re(t){const e={},r=E(t,["config"]);return r!=null&&Jre(r,e),e}function ene(t){const e={},r=E(t,["config"]);return r!=null&&Zre(r,e),e}function tne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>i1(o))),T(e,["batchJobs"],s)}return e}function rne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Xw(o))),T(e,["batchJobs"],s)}return e}function nne(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],Pre(s));const o=E(t,["functionCall"]);o!=null&&T(e,["functionCall"],Qre(o));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&T(e,["inlineData"],Cre(d));const h=E(t,["text"]);h!=null&&T(e,["text"],h);const m=E(t,["thought"]);m!=null&&T(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&T(e,["videoMetadata"],b),e}function ine(t){const e={},r=E(t,["category"]);if(r!=null&&T(e,["category"],r),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=E(t,["threshold"]);return n!=null&&T(e,["threshold"],n),e}function sne(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&T(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&T(e,["functionCallingConfig"],Hre(n)),e}function ane(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),T(e,["functionDeclarations"],m)}const o=E(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],zre(o));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Wre(c));const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const h=E(t,["urlContext"]);return h!=null&&T(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Sl||(Sl={}));class jc{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,s;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!n||Object.keys(n).length===0?o={config:{}}:typeof n=="object"?o=Object.assign({},n):o=n,o.config&&(o.config.pageToken=r.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class one extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new jc(Sl.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=aS(this.apiClient,e),n=r._url,i=Ot("{model}:batchGenerateContent",n),c=r.batch.inputConfig.requests,d=c.requests,h=[];for(const m of d){const C=Object.assign({},m);if(C.systemInstruction){const b=C.systemInstruction;delete C.systemInstruction;const S=C.request;S.systemInstruction=b,C.request=S}h.push(C)}return c.requests=h,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?n.dest=`${s.slice(0,-6)}/dest`:n.dest=`${s}_dest_${i}`;else if(o)n.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Sre(this.apiClient,e);return c=Ot("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>Xw(m))}else{const h=aS(this.apiClient,e);return c=Ot("{model}:batchGenerateContent",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>i1(m))}}async createEmbeddingsInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Fre(this.apiClient,e);return s=Ot("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>i1(d))}}async get(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Kre(this.apiClient,e);return c=Ot("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>Xw(m))}else{const h=Gre(this.apiClient,e);return c=Ot("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>i1(m))}}async cancel(e){var r,n,i,s;let o="",c={};if(this.apiClient.isVertexAI()){const d=bre(this.apiClient,e);o=Ot("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const d=Ere(this.apiClient,e);o=Ot("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=ene(e);return c=Ot("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=rne(m),b=new rS;return Object.assign(b,C),b})}else{const h=$re(e);return c=Ot("batches",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=tne(m),b=new rS;return Object.assign(b,C),b})}}async delete(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=kre(this.apiClient,e);return c=Ot("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>Ure(m))}else{const h=Rre(this.apiClient,e);return c=Ot("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>Dre(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lne(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function oS(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fne(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function Ane(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let m=Ka(o);Array.isArray(m)&&(m=m.map(C=>oS(C))),T(e,["contents"],m)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&T(e,["systemInstruction"],oS(ms(c)));const d=E(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(C=>kne(C))),T(e,["tools"],m)}const h=E(t,["toolConfig"]);if(e!==void 0&&h!=null&&T(e,["toolConfig"],Rne(h)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function cne(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const o=E(t,["contents"]);if(e!==void 0&&o!=null){let C=Ka(o);Array.isArray(C)&&(C=C.map(b=>b)),T(e,["contents"],C)}const c=E(t,["systemInstruction"]);e!==void 0&&c!=null&&T(e,["systemInstruction"],ms(c));const d=E(t,["tools"]);if(e!==void 0&&d!=null){let C=d;Array.isArray(C)&&(C=C.map(b=>Dne(b))),T(e,["tools"],C)}const h=E(t,["toolConfig"]);e!==void 0&&h!=null&&T(e,["toolConfig"],h);const m=E(t,["kmsKeyName"]);return e!==void 0&&m!=null&&T(e,["encryption_spec","kmsKeyName"],m),r}function une(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],ik(t,n));const i=E(e,["config"]);return i!=null&&Ane(i,r),r}function fne(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["model"],ik(t,n));const i=E(e,["config"]);return i!=null&&cne(i,r),r}function dne(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],kl(t,n)),r}function hne(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],kl(t,n)),r}function gne(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function pne(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function mne(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function xne(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wne(t){const e={},r=E(t,["allowedFunctionNames"]);r!=null&&T(e,["allowedFunctionNames"],r);const n=E(t,["mode"]);if(n!=null&&T(e,["mode"],n),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vne(t){const e={},r=E(t,["description"]);r!=null&&T(e,["description"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const o=E(t,["response"]);o!=null&&T(e,["response"],o);const c=E(t,["responseJsonSchema"]);if(c!=null&&T(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function yne(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],kl(t,n)),r}function Cne(t,e){const r={},n=E(e,["name"]);return n!=null&&T(r,["_url","name"],kl(t,n)),r}function Ene(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function bne(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function _ne(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Tne(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Bne(t){const e={},r=E(t,["config"]);return r!=null&&_ne(r,e),e}function Ine(t){const e={},r=E(t,["config"]);return r!=null&&Tne(r,e),e}function Sne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["cachedContents"],s)}return e}function Nne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["cachedContents"],s)}return e}function Fne(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],mne(s));const o=E(t,["functionCall"]);o!=null&&T(e,["functionCall"],xne(o));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&T(e,["inlineData"],lne(d));const h=E(t,["text"]);h!=null&&T(e,["text"],h);const m=E(t,["thought"]);m!=null&&T(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&T(e,["videoMetadata"],b),e}function Rne(t){const e={},r=E(t,["retrievalConfig"]);r!=null&&T(e,["retrievalConfig"],r);const n=E(t,["functionCallingConfig"]);return n!=null&&T(e,["functionCallingConfig"],wne(n)),e}function kne(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),T(e,["functionDeclarations"],m)}const o=E(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Ene(o));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],bne(c));const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const h=E(t,["urlContext"]);return h!=null&&T(e,["urlContext"],h),e}function Dne(t){const e={},r=E(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&T(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&T(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&T(e,["enterpriseWebSearch"],s);const o=E(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(b=>vne(b))),T(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const d=E(t,["googleSearch"]);d!=null&&T(e,["googleSearch"],d);const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const m=E(t,["urlContext"]);return m!=null&&T(e,["urlContext"],m),e}function Une(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),r}function Mne(t,e){const r={},n=E(t,["ttl"]);e!==void 0&&n!=null&&T(e,["ttl"],n);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),r}function One(t,e){const r={},n=E(e,["name"]);n!=null&&T(r,["_url","name"],kl(t,n));const i=E(e,["config"]);return i!=null&&Une(i,r),r}function Lne(t,e){const r={},n=E(e,["name"]);n!=null&&T(r,["_url","name"],kl(t,n));const i=E(e,["config"]);return i!=null&&Mne(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pne extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new jc(Sl.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=fne(this.apiClient,e);return c=Ot("cachedContents",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const h=une(this.apiClient,e);return c=Ot("cachedContents",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async get(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Cne(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const h=yne(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=hne(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=pne(m),b=new eS;return Object.assign(b,C),b})}else{const h=dne(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=gne(m),b=new eS;return Object.assign(b,C),b})}}async update(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Lne(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>m)}else{const h=One(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async listInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Ine(e);return c=Ot("cachedContents",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Nne(m),b=new tS;return Object.assign(b,C),b})}else{const h=Bne(e);return c=Ot("cachedContents",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Sne(m),b=new tS;return Object.assign(b,C),b})}}}function Z1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function lS(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t){return this instanceof pr?(this.v=t,this):new pr(t)}function Ao(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(S){return function(R){return Promise.resolve(R).then(S,C)}}function c(S,R){n[S]&&(i[S]=function(k){return new Promise(function(U,V){s.push([S,k,U,V])>1||d(S,k)})},R&&(i[S]=R(i[S])))}function d(S,R){try{h(n[S](R))}catch(k){b(s[0][3],k)}}function h(S){S.value instanceof pr?Promise.resolve(S.value.v).then(m,C):b(s[0][2],S)}function m(S){d("next",S)}function C(S){d("throw",S)}function b(S,R){S(R),s.shift(),s.length&&d(s[0][0],s[0][1])}}function co(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof lS=="function"?lS(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(c,d){o=t[s](o),i(c,d,o.done,o.value)})}}function i(s,o,c,d){Promise.resolve(d).then(function(h){s({value:h,done:c})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:mk(r)}function mk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Hne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function AS(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let s=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),s&&!mk(t[n])&&(s=!1),n++;s?e.push(...i):e.pop()}return e}class Vne{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new jne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jne{constructor(e,r,n,i={},s=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Hne(s)}async sendMessage(e){var r;await this.sendPromise;const n=ms(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var s,o,c;const d=await i,h=(o=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,m=d.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let b=[];m!=null&&(b=(c=m.slice(C))!==null&&c!==void 0?c:[]);const S=h?[h]:[];this.recordHistory(n,S,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=ms(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,n)}getHistory(e=!1){const r=e?AS(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return Ao(this,arguments,function*(){var i,s,o,c,d,h;const m=[];try{for(var C=!0,b=co(e),S;S=yield pr(b.next()),i=S.done,!i;C=!0){c=S.value,C=!1;const R=c;if(Qne(R)){const k=(h=(d=R.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content;k!==void 0&&m.push(k)}yield yield pr(R)}}catch(R){s={error:R}}finally{try{!C&&!i&&(o=b.return)&&(yield pr(o.call(b)))}finally{if(s)throw s.error}}this.recordHistory(r,m)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(s=>s.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...AS(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gne(t){const e={},r=E(t,["file"]);return r!=null&&T(e,["file"],r),e}function Kne(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function zne(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","file"],ck(r)),e}function Wne(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}function qne(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","file"],ck(r)),e}function Xne(t){const e={},r=E(t,["uris"]);return r!=null&&T(e,["uris"],r),e}function Yne(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Jne(t){const e={},r=E(t,["config"]);return r!=null&&Yne(r,e),e}function Zne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["files"],s)}return e}function $ne(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eie extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new jc(Sl.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Jne(e);return s=Ot("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=Zne(d),m=new tre;return Object.assign(m,h),m})}}async createInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gne(e);return s=Ot("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Kne(d),m=new rre;return Object.assign(m,h),m})}}async get(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qne(e);return s=Ot("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=zne(e);return s=Ot("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=Wne(d),m=new nre;return Object.assign(m,h),m})}}async registerFilesInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Xne(e);return s=Ot("files:register",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=$ne(d),m=new ire;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function tie(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>mie(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function rie(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function nie(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iie(t){const e={},r=E(t,["description"]);r!=null&&T(e,["description"],r);const n=E(t,["name"]);n!=null&&T(e,["name"],n);const i=E(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const o=E(t,["response"]);o!=null&&T(e,["response"],o);const c=E(t,["responseJsonSchema"]);if(c!=null&&T(e,["responseJsonSchema"],c),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sie(t){const e={},r=E(t,["modelSelectionConfig"]);r!=null&&T(e,["modelConfig"],r);const n=E(t,["responseJsonSchema"]);n!=null&&T(e,["responseJsonSchema"],n);const i=E(t,["audioTimestamp"]);i!=null&&T(e,["audioTimestamp"],i);const s=E(t,["candidateCount"]);s!=null&&T(e,["candidateCount"],s);const o=E(t,["enableAffectiveDialog"]);o!=null&&T(e,["enableAffectiveDialog"],o);const c=E(t,["frequencyPenalty"]);c!=null&&T(e,["frequencyPenalty"],c);const d=E(t,["logprobs"]);d!=null&&T(e,["logprobs"],d);const h=E(t,["maxOutputTokens"]);h!=null&&T(e,["maxOutputTokens"],h);const m=E(t,["mediaResolution"]);m!=null&&T(e,["mediaResolution"],m);const C=E(t,["presencePenalty"]);C!=null&&T(e,["presencePenalty"],C);const b=E(t,["responseLogprobs"]);b!=null&&T(e,["responseLogprobs"],b);const S=E(t,["responseMimeType"]);S!=null&&T(e,["responseMimeType"],S);const R=E(t,["responseModalities"]);R!=null&&T(e,["responseModalities"],R);const k=E(t,["responseSchema"]);k!=null&&T(e,["responseSchema"],k);const U=E(t,["routingConfig"]);U!=null&&T(e,["routingConfig"],U);const V=E(t,["seed"]);V!=null&&T(e,["seed"],V);const G=E(t,["speechConfig"]);G!=null&&T(e,["speechConfig"],G);const Q=E(t,["stopSequences"]);Q!=null&&T(e,["stopSequences"],Q);const J=E(t,["temperature"]);J!=null&&T(e,["temperature"],J);const Z=E(t,["thinkingConfig"]);Z!=null&&T(e,["thinkingConfig"],Z);const K=E(t,["topK"]);K!=null&&T(e,["topK"],K);const M=E(t,["topP"]);if(M!=null&&T(e,["topP"],M),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aie(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function oie(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function lie(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const o=E(t,["topP"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","maxOutputTokens"],d);const h=E(t,["mediaResolution"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","mediaResolution"],h);const m=E(t,["seed"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],zy(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&T(e,["setup","generationConfig","thinkingConfig"],b);const S=E(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&T(e,["setup","systemInstruction"],tie(ms(R)));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let K=v0(k);Array.isArray(K)&&(K=K.map(M=>wie(w0(M)))),T(e,["setup","tools"],K)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&T(e,["setup","sessionResumption"],xie(U));const V=E(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","inputAudioTranscription"],V);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&T(e,["setup","contextWindowCompression"],J);const Z=E(t,["proactivity"]);if(e!==void 0&&Z!=null&&T(e,["setup","proactivity"],Z),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Aie(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],sie(n));const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const o=E(t,["topP"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","maxOutputTokens"],d);const h=E(t,["mediaResolution"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","mediaResolution"],h);const m=E(t,["seed"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],zy(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&T(e,["setup","generationConfig","thinkingConfig"],b);const S=E(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&T(e,["setup","systemInstruction"],ms(R));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let M=v0(k);Array.isArray(M)&&(M=M.map(P=>vie(w0(P)))),T(e,["setup","tools"],M)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&T(e,["setup","sessionResumption"],U);const V=E(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","inputAudioTranscription"],V);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&T(e,["setup","contextWindowCompression"],J);const Z=E(t,["proactivity"]);e!==void 0&&Z!=null&&T(e,["setup","proactivity"],Z);const K=E(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&T(e,["setup","explicitVadSignal"],K),r}function cie(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],rn(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],lie(i,r)),r}function uie(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],rn(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],Aie(i,r)),r}function fie(t){const e={},r=E(t,["musicGenerationConfig"]);return r!=null&&T(e,["musicGenerationConfig"],r),e}function die(t){const e={},r=E(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),T(e,["weightedPrompts"],n)}return e}function hie(t){const e={},r=E(t,["media"]);if(r!=null){let h=sk(r);Array.isArray(h)&&(h=h.map(m=>s1(m))),T(e,["mediaChunks"],h)}const n=E(t,["audio"]);n!=null&&T(e,["audio"],s1(ok(n)));const i=E(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&T(e,["video"],s1(ak(s)));const o=E(t,["text"]);o!=null&&T(e,["text"],o);const c=E(t,["activityStart"]);c!=null&&T(e,["activityStart"],c);const d=E(t,["activityEnd"]);return d!=null&&T(e,["activityEnd"],d),e}function gie(t){const e={},r=E(t,["media"]);if(r!=null){let h=sk(r);Array.isArray(h)&&(h=h.map(m=>m)),T(e,["mediaChunks"],h)}const n=E(t,["audio"]);n!=null&&T(e,["audio"],ok(n));const i=E(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&T(e,["video"],ak(s));const o=E(t,["text"]);o!=null&&T(e,["text"],o);const c=E(t,["activityStart"]);c!=null&&T(e,["activityStart"],c);const d=E(t,["activityEnd"]);return d!=null&&T(e,["activityEnd"],d),e}function pie(t){const e={},r=E(t,["setupComplete"]);r!=null&&T(e,["setupComplete"],r);const n=E(t,["serverContent"]);n!=null&&T(e,["serverContent"],n);const i=E(t,["toolCall"]);i!=null&&T(e,["toolCall"],i);const s=E(t,["toolCallCancellation"]);s!=null&&T(e,["toolCallCancellation"],s);const o=E(t,["usageMetadata"]);o!=null&&T(e,["usageMetadata"],yie(o));const c=E(t,["goAway"]);c!=null&&T(e,["goAway"],c);const d=E(t,["sessionResumptionUpdate"]);d!=null&&T(e,["sessionResumptionUpdate"],d);const h=E(t,["voiceActivityDetectionSignal"]);h!=null&&T(e,["voiceActivityDetectionSignal"],h);const m=E(t,["voiceActivity"]);return m!=null&&T(e,["voiceActivity"],Cie(m)),e}function mie(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],rie(s));const o=E(t,["functionCall"]);o!=null&&T(e,["functionCall"],nie(o));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&T(e,["inlineData"],s1(d));const h=E(t,["text"]);h!=null&&T(e,["text"],h);const m=E(t,["thought"]);m!=null&&T(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&T(e,["videoMetadata"],b),e}function xie(t){const e={},r=E(t,["handle"]);if(r!=null&&T(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wie(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),T(e,["functionDeclarations"],m)}const o=E(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],aie(o));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],oie(c));const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const h=E(t,["urlContext"]);return h!=null&&T(e,["urlContext"],h),e}function vie(t){const e={},r=E(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const n=E(t,["computerUse"]);if(n!=null&&T(e,["computerUse"],n),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&T(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&T(e,["enterpriseWebSearch"],s);const o=E(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(b=>iie(b))),T(e,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const d=E(t,["googleSearch"]);d!=null&&T(e,["googleSearch"],d);const h=E(t,["googleSearchRetrieval"]);h!=null&&T(e,["googleSearchRetrieval"],h);const m=E(t,["urlContext"]);return m!=null&&T(e,["urlContext"],m),e}function yie(t){const e={},r=E(t,["promptTokenCount"]);r!=null&&T(e,["promptTokenCount"],r);const n=E(t,["cachedContentTokenCount"]);n!=null&&T(e,["cachedContentTokenCount"],n);const i=E(t,["candidatesTokenCount"]);i!=null&&T(e,["responseTokenCount"],i);const s=E(t,["toolUsePromptTokenCount"]);s!=null&&T(e,["toolUsePromptTokenCount"],s);const o=E(t,["thoughtsTokenCount"]);o!=null&&T(e,["thoughtsTokenCount"],o);const c=E(t,["totalTokenCount"]);c!=null&&T(e,["totalTokenCount"],c);const d=E(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(R=>R)),T(e,["promptTokensDetails"],S)}const h=E(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(R=>R)),T(e,["cacheTokensDetails"],S)}const m=E(t,["candidatesTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(R=>R)),T(e,["responseTokensDetails"],S)}const C=E(t,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(R=>R)),T(e,["toolUsePromptTokensDetails"],S)}const b=E(t,["trafficType"]);return b!=null&&T(e,["trafficType"],b),e}function Cie(t){const e={},r=E(t,["type"]);return r!=null&&T(e,["voiceActivityType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eie(t,e){const r={},n=E(t,["data"]);if(n!=null&&T(r,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function bie(t,e){const r={},n=E(t,["content"]);n!=null&&T(r,["content"],n);const i=E(t,["citationMetadata"]);i!=null&&T(r,["citationMetadata"],_ie(i));const s=E(t,["tokenCount"]);s!=null&&T(r,["tokenCount"],s);const o=E(t,["finishReason"]);o!=null&&T(r,["finishReason"],o);const c=E(t,["avgLogprobs"]);c!=null&&T(r,["avgLogprobs"],c);const d=E(t,["groundingMetadata"]);d!=null&&T(r,["groundingMetadata"],d);const h=E(t,["index"]);h!=null&&T(r,["index"],h);const m=E(t,["logprobsResult"]);m!=null&&T(r,["logprobsResult"],m);const C=E(t,["safetyRatings"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(R=>R)),T(r,["safetyRatings"],S)}const b=E(t,["urlContextMetadata"]);return b!=null&&T(r,["urlContextMetadata"],b),r}function _ie(t,e){const r={},n=E(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(r,["citations"],i)}return r}function Tie(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let o=Ka(s);Array.isArray(o)&&(o=o.map(c=>c)),T(n,["contents"],o)}return n}function Bie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(r,["tokensInfo"],s)}return r}function Iie(t,e){const r={},n=E(t,["values"]);n!=null&&T(r,["values"],n);const i=E(t,["statistics"]);return i!=null&&T(r,["statistics"],Sie(i)),r}function Sie(t,e){const r={},n=E(t,["truncated"]);n!=null&&T(r,["truncated"],n);const i=E(t,["token_count"]);return i!=null&&T(r,["tokenCount"],i),r}function Pp(t,e){const r={},n=E(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Lse(o))),T(r,["parts"],s)}const i=E(t,["role"]);return i!=null&&T(r,["role"],i),r}function Nie(t,e){const r={},n=E(t,["controlType"]);n!=null&&T(r,["controlType"],n);const i=E(t,["enableControlImageComputation"]);return i!=null&&T(r,["computeControl"],i),r}function Fie(t,e){const r={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function Rie(t,e,r){const n={},i=E(t,["systemInstruction"]);e!==void 0&&i!=null&&T(e,["systemInstruction"],ms(i));const s=E(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>yk(d))),T(e,["tools"],c)}const o=E(t,["generationConfig"]);return e!==void 0&&o!=null&&T(e,["generationConfig"],Ese(o)),n}function kie(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let c=Ka(s);Array.isArray(c)&&(c=c.map(d=>Pp(d))),T(n,["contents"],c)}const o=E(e,["config"]);return o!=null&&Fie(o),n}function Die(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let c=Ka(s);Array.isArray(c)&&(c=c.map(d=>d)),T(n,["contents"],c)}const o=E(e,["config"]);return o!=null&&Rie(o,n),n}function Uie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);i!=null&&T(r,["totalTokens"],i);const s=E(t,["cachedContentTokenCount"]);return s!=null&&T(r,["cachedContentTokenCount"],s),r}function Mie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["totalTokens"]);return i!=null&&T(r,["totalTokens"],i),r}function Oie(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],rn(t,i)),n}function Lie(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],rn(t,i)),n}function Pie(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function Qie(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function Hie(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const o=E(t,["numberOfImages"]);e!==void 0&&o!=null&&T(e,["parameters","sampleCount"],o);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const d=E(t,["guidanceScale"]);e!==void 0&&d!=null&&T(e,["parameters","guidanceScale"],d);const h=E(t,["seed"]);e!==void 0&&h!=null&&T(e,["parameters","seed"],h);const m=E(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&T(e,["parameters","safetySetting"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const b=E(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&T(e,["parameters","includeSafetyAttributes"],b);const S=E(t,["includeRaiReason"]);e!==void 0&&S!=null&&T(e,["parameters","includeRaiReason"],S);const R=E(t,["language"]);e!==void 0&&R!=null&&T(e,["parameters","language"],R);const k=E(t,["outputMimeType"]);e!==void 0&&k!=null&&T(e,["parameters","outputOptions","mimeType"],k);const U=E(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&T(e,["parameters","outputOptions","compressionQuality"],U);const V=E(t,["addWatermark"]);e!==void 0&&V!=null&&T(e,["parameters","addWatermark"],V);const G=E(t,["labels"]);e!==void 0&&G!=null&&T(e,["labels"],G);const Q=E(t,["editMode"]);e!==void 0&&Q!=null&&T(e,["parameters","editMode"],Q);const J=E(t,["baseSteps"]);return e!==void 0&&J!=null&&T(e,["parameters","editConfig","baseSteps"],J),n}function Vie(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const o=E(e,["referenceImages"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>Gse(h))),T(n,["instances[0]","referenceImages"],d)}const c=E(e,["config"]);return c!=null&&Hie(c,n),n}function jie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Qp(o))),T(r,["generatedImages"],s)}return r}function Gie(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&T(e,["requests[]","taskType"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const o=E(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&T(e,["requests[]","outputDimensionality"],o),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Kie(t,e,r){const n={},i=E(t,["taskType"]);e!==void 0&&i!=null&&T(e,["instances[]","task_type"],i);const s=E(t,["title"]);e!==void 0&&s!=null&&T(e,["instances[]","title"],s);const o=E(t,["outputDimensionality"]);e!==void 0&&o!=null&&T(e,["parameters","outputDimensionality"],o);const c=E(t,["mimeType"]);e!==void 0&&c!=null&&T(e,["instances[]","mimeType"],c);const d=E(t,["autoTruncate"]);return e!==void 0&&d!=null&&T(e,["parameters","autoTruncate"],d),n}function zie(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let d=jy(t,s);Array.isArray(d)&&(d=d.map(h=>h)),T(n,["requests[]","content"],d)}const o=E(e,["config"]);o!=null&&Gie(o,n);const c=E(e,["model"]);return c!==void 0&&T(n,["requests[]","model"],rn(t,c)),n}function Wie(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let c=jy(t,s);Array.isArray(c)&&(c=c.map(d=>d)),T(n,["instances[]","content"],c)}const o=E(e,["config"]);return o!=null&&Kie(o,n),n}function qie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),T(r,["embeddings"],o)}const s=E(t,["metadata"]);return s!=null&&T(r,["metadata"],s),r}function Xie(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Iie(c))),T(r,["embeddings"],o)}const s=E(t,["metadata"]);return s!=null&&T(r,["metadata"],s),r}function Yie(t,e){const r={},n=E(t,["endpoint"]);n!=null&&T(r,["name"],n);const i=E(t,["deployedModelId"]);return i!=null&&T(r,["deployedModelId"],i),r}function Jie(t,e){const r={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&T(r,["fileUri"],n);const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function Zie(t,e){const r={},n=E(t,["id"]);n!=null&&T(r,["id"],n);const i=E(t,["args"]);i!=null&&T(r,["args"],i);const s=E(t,["name"]);if(s!=null&&T(r,["name"],s),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function $ie(t,e){const r={},n=E(t,["allowedFunctionNames"]);n!=null&&T(r,["allowedFunctionNames"],n);const i=E(t,["mode"]);if(i!=null&&T(r,["mode"],i),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function ese(t,e){const r={},n=E(t,["description"]);n!=null&&T(r,["description"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["parameters"]);s!=null&&T(r,["parameters"],s);const o=E(t,["parametersJsonSchema"]);o!=null&&T(r,["parametersJsonSchema"],o);const c=E(t,["response"]);c!=null&&T(r,["response"],c);const d=E(t,["responseJsonSchema"]);if(d!=null&&T(r,["responseJsonSchema"],d),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function tse(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&T(r,["systemInstruction"],Pp(ms(s)));const o=E(e,["temperature"]);o!=null&&T(i,["temperature"],o);const c=E(e,["topP"]);c!=null&&T(i,["topP"],c);const d=E(e,["topK"]);d!=null&&T(i,["topK"],d);const h=E(e,["candidateCount"]);h!=null&&T(i,["candidateCount"],h);const m=E(e,["maxOutputTokens"]);m!=null&&T(i,["maxOutputTokens"],m);const C=E(e,["stopSequences"]);C!=null&&T(i,["stopSequences"],C);const b=E(e,["responseLogprobs"]);b!=null&&T(i,["responseLogprobs"],b);const S=E(e,["logprobs"]);S!=null&&T(i,["logprobs"],S);const R=E(e,["presencePenalty"]);R!=null&&T(i,["presencePenalty"],R);const k=E(e,["frequencyPenalty"]);k!=null&&T(i,["frequencyPenalty"],k);const U=E(e,["seed"]);U!=null&&T(i,["seed"],U);const V=E(e,["responseMimeType"]);V!=null&&T(i,["responseMimeType"],V);const G=E(e,["responseSchema"]);G!=null&&T(i,["responseSchema"],Gy(G));const Q=E(e,["responseJsonSchema"]);if(Q!=null&&T(i,["responseJsonSchema"],Q),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=E(e,["safetySettings"]);if(r!==void 0&&J!=null){let Re=J;Array.isArray(Re)&&(Re=Re.map(xe=>Kse(xe))),T(r,["safetySettings"],Re)}const Z=E(e,["tools"]);if(r!==void 0&&Z!=null){let Re=v0(Z);Array.isArray(Re)&&(Re=Re.map(xe=>Zse(w0(xe)))),T(r,["tools"],Re)}const K=E(e,["toolConfig"]);if(r!==void 0&&K!=null&&T(r,["toolConfig"],Jse(K)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=E(e,["cachedContent"]);r!==void 0&&M!=null&&T(r,["cachedContent"],kl(t,M));const P=E(e,["responseModalities"]);P!=null&&T(i,["responseModalities"],P);const O=E(e,["mediaResolution"]);O!=null&&T(i,["mediaResolution"],O);const re=E(e,["speechConfig"]);if(re!=null&&T(i,["speechConfig"],Ky(re)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=E(e,["thinkingConfig"]);te!=null&&T(i,["thinkingConfig"],te);const q=E(e,["imageConfig"]);q!=null&&T(i,["imageConfig"],Ise(q));const X=E(e,["enableEnhancedCivicAnswers"]);if(X!=null&&T(i,["enableEnhancedCivicAnswers"],X),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function rse(t,e,r,n){const i={},s=E(e,["systemInstruction"]);r!==void 0&&s!=null&&T(r,["systemInstruction"],ms(s));const o=E(e,["temperature"]);o!=null&&T(i,["temperature"],o);const c=E(e,["topP"]);c!=null&&T(i,["topP"],c);const d=E(e,["topK"]);d!=null&&T(i,["topK"],d);const h=E(e,["candidateCount"]);h!=null&&T(i,["candidateCount"],h);const m=E(e,["maxOutputTokens"]);m!=null&&T(i,["maxOutputTokens"],m);const C=E(e,["stopSequences"]);C!=null&&T(i,["stopSequences"],C);const b=E(e,["responseLogprobs"]);b!=null&&T(i,["responseLogprobs"],b);const S=E(e,["logprobs"]);S!=null&&T(i,["logprobs"],S);const R=E(e,["presencePenalty"]);R!=null&&T(i,["presencePenalty"],R);const k=E(e,["frequencyPenalty"]);k!=null&&T(i,["frequencyPenalty"],k);const U=E(e,["seed"]);U!=null&&T(i,["seed"],U);const V=E(e,["responseMimeType"]);V!=null&&T(i,["responseMimeType"],V);const G=E(e,["responseSchema"]);G!=null&&T(i,["responseSchema"],Gy(G));const Q=E(e,["responseJsonSchema"]);Q!=null&&T(i,["responseJsonSchema"],Q);const J=E(e,["routingConfig"]);J!=null&&T(i,["routingConfig"],J);const Z=E(e,["modelSelectionConfig"]);Z!=null&&T(i,["modelConfig"],Z);const K=E(e,["safetySettings"]);if(r!==void 0&&K!=null){let We=K;Array.isArray(We)&&(We=We.map(be=>be)),T(r,["safetySettings"],We)}const M=E(e,["tools"]);if(r!==void 0&&M!=null){let We=v0(M);Array.isArray(We)&&(We=We.map(be=>yk(w0(be)))),T(r,["tools"],We)}const P=E(e,["toolConfig"]);r!==void 0&&P!=null&&T(r,["toolConfig"],P);const O=E(e,["labels"]);r!==void 0&&O!=null&&T(r,["labels"],O);const re=E(e,["cachedContent"]);r!==void 0&&re!=null&&T(r,["cachedContent"],kl(t,re));const te=E(e,["responseModalities"]);te!=null&&T(i,["responseModalities"],te);const q=E(e,["mediaResolution"]);q!=null&&T(i,["mediaResolution"],q);const X=E(e,["speechConfig"]);X!=null&&T(i,["speechConfig"],Ky(X));const Re=E(e,["audioTimestamp"]);Re!=null&&T(i,["audioTimestamp"],Re);const xe=E(e,["thinkingConfig"]);xe!=null&&T(i,["thinkingConfig"],xe);const me=E(e,["imageConfig"]);if(me!=null&&T(i,["imageConfig"],Sse(me)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Ce=E(e,["modelArmorConfig"]);return r!==void 0&&Ce!=null&&T(r,["modelArmorConfig"],Ce),i}function cS(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let c=Ka(s);Array.isArray(c)&&(c=c.map(d=>Pp(d))),T(n,["contents"],c)}const o=E(e,["config"]);return o!=null&&T(n,["generationConfig"],tse(t,o,n)),n}function uS(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["contents"]);if(s!=null){let c=Ka(s);Array.isArray(c)&&(c=c.map(d=>d)),T(n,["contents"],c)}const o=E(e,["config"]);return o!=null&&T(n,["generationConfig"],rse(t,o,n)),n}function fS(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>bie(m))),T(r,["candidates"],h)}const s=E(t,["modelVersion"]);s!=null&&T(r,["modelVersion"],s);const o=E(t,["promptFeedback"]);o!=null&&T(r,["promptFeedback"],o);const c=E(t,["responseId"]);c!=null&&T(r,["responseId"],c);const d=E(t,["usageMetadata"]);return d!=null&&T(r,["usageMetadata"],d),r}function dS(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(C=>C)),T(r,["candidates"],m)}const s=E(t,["createTime"]);s!=null&&T(r,["createTime"],s);const o=E(t,["modelVersion"]);o!=null&&T(r,["modelVersion"],o);const c=E(t,["promptFeedback"]);c!=null&&T(r,["promptFeedback"],c);const d=E(t,["responseId"]);d!=null&&T(r,["responseId"],d);const h=E(t,["usageMetadata"]);return h!=null&&T(r,["usageMetadata"],h),r}function nse(t,e,r){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["aspectRatio"]);e!==void 0&&s!=null&&T(e,["parameters","aspectRatio"],s);const o=E(t,["guidanceScale"]);if(e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=E(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&T(e,["parameters","safetySetting"],c);const d=E(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const h=E(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&T(e,["parameters","includeSafetyAttributes"],h);const m=E(t,["includeRaiReason"]);e!==void 0&&m!=null&&T(e,["parameters","includeRaiReason"],m);const C=E(t,["language"]);e!==void 0&&C!=null&&T(e,["parameters","language"],C);const b=E(t,["outputMimeType"]);e!==void 0&&b!=null&&T(e,["parameters","outputOptions","mimeType"],b);const S=E(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&T(e,["parameters","outputOptions","compressionQuality"],S),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=E(t,["imageSize"]);if(e!==void 0&&R!=null&&T(e,["parameters","sampleImageSize"],R),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ise(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const o=E(t,["numberOfImages"]);e!==void 0&&o!=null&&T(e,["parameters","sampleCount"],o);const c=E(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const d=E(t,["guidanceScale"]);e!==void 0&&d!=null&&T(e,["parameters","guidanceScale"],d);const h=E(t,["seed"]);e!==void 0&&h!=null&&T(e,["parameters","seed"],h);const m=E(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&T(e,["parameters","safetySetting"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const b=E(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&T(e,["parameters","includeSafetyAttributes"],b);const S=E(t,["includeRaiReason"]);e!==void 0&&S!=null&&T(e,["parameters","includeRaiReason"],S);const R=E(t,["language"]);e!==void 0&&R!=null&&T(e,["parameters","language"],R);const k=E(t,["outputMimeType"]);e!==void 0&&k!=null&&T(e,["parameters","outputOptions","mimeType"],k);const U=E(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&T(e,["parameters","outputOptions","compressionQuality"],U);const V=E(t,["addWatermark"]);e!==void 0&&V!=null&&T(e,["parameters","addWatermark"],V);const G=E(t,["labels"]);e!==void 0&&G!=null&&T(e,["labels"],G);const Q=E(t,["imageSize"]);e!==void 0&&Q!=null&&T(e,["parameters","sampleImageSize"],Q);const J=E(t,["enhancePrompt"]);return e!==void 0&&J!=null&&T(e,["parameters","enhancePrompt"],J),n}function sse(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const o=E(e,["config"]);return o!=null&&nse(o,n),n}function ase(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const o=E(e,["config"]);return o!=null&&ise(o,n),n}function ose(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>wse(c))),T(r,["generatedImages"],o)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&T(r,["positivePromptSafetyAttributes"],wk(s)),r}function lse(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Qp(c))),T(r,["generatedImages"],o)}const s=E(t,["positivePromptSafetyAttributes"]);return s!=null&&T(r,["positivePromptSafetyAttributes"],vk(s)),r}function Ase(t,e,r){const n={},i=E(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=E(t,["durationSeconds"]);if(e!==void 0&&s!=null&&T(e,["parameters","durationSeconds"],s),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=E(t,["aspectRatio"]);e!==void 0&&o!=null&&T(e,["parameters","aspectRatio"],o);const c=E(t,["resolution"]);e!==void 0&&c!=null&&T(e,["parameters","resolution"],c);const d=E(t,["personGeneration"]);if(e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=E(t,["negativePrompt"]);e!==void 0&&h!=null&&T(e,["parameters","negativePrompt"],h);const m=E(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&T(e,["parameters","enhancePrompt"],m),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const C=E(t,["lastFrame"]);e!==void 0&&C!=null&&T(e,["instances[0]","lastFrame"],Hp(C));const b=E(t,["referenceImages"]);if(e!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(R=>uae(R))),T(e,["instances[0]","referenceImages"],S)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function cse(t,e,r){const n={},i=E(t,["numberOfVideos"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["outputGcsUri"]);e!==void 0&&s!=null&&T(e,["parameters","storageUri"],s);const o=E(t,["fps"]);e!==void 0&&o!=null&&T(e,["parameters","fps"],o);const c=E(t,["durationSeconds"]);e!==void 0&&c!=null&&T(e,["parameters","durationSeconds"],c);const d=E(t,["seed"]);e!==void 0&&d!=null&&T(e,["parameters","seed"],d);const h=E(t,["aspectRatio"]);e!==void 0&&h!=null&&T(e,["parameters","aspectRatio"],h);const m=E(t,["resolution"]);e!==void 0&&m!=null&&T(e,["parameters","resolution"],m);const C=E(t,["personGeneration"]);e!==void 0&&C!=null&&T(e,["parameters","personGeneration"],C);const b=E(t,["pubsubTopic"]);e!==void 0&&b!=null&&T(e,["parameters","pubsubTopic"],b);const S=E(t,["negativePrompt"]);e!==void 0&&S!=null&&T(e,["parameters","negativePrompt"],S);const R=E(t,["enhancePrompt"]);e!==void 0&&R!=null&&T(e,["parameters","enhancePrompt"],R);const k=E(t,["generateAudio"]);e!==void 0&&k!=null&&T(e,["parameters","generateAudio"],k);const U=E(t,["lastFrame"]);e!==void 0&&U!=null&&T(e,["instances[0]","lastFrame"],mo(U));const V=E(t,["referenceImages"]);if(e!==void 0&&V!=null){let J=V;Array.isArray(J)&&(J=J.map(Z=>fae(Z))),T(e,["instances[0]","referenceImages"],J)}const G=E(t,["mask"]);e!==void 0&&G!=null&&T(e,["instances[0]","mask"],cae(G));const Q=E(t,["compressionQuality"]);return e!==void 0&&Q!=null&&T(e,["parameters","compressionQuality"],Q),n}function use(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["metadata"]);i!=null&&T(r,["metadata"],i);const s=E(t,["done"]);s!=null&&T(r,["done"],s);const o=E(t,["error"]);o!=null&&T(r,["error"],o);const c=E(t,["response","generateVideoResponse"]);return c!=null&&T(r,["response"],gse(c)),r}function fse(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["metadata"]);i!=null&&T(r,["metadata"],i);const s=E(t,["done"]);s!=null&&T(r,["done"],s);const o=E(t,["error"]);o!=null&&T(r,["error"],o);const c=E(t,["response"]);return c!=null&&T(r,["response"],pse(c)),r}function dse(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const o=E(e,["image"]);o!=null&&T(n,["instances[0]","image"],Hp(o));const c=E(e,["video"]);c!=null&&T(n,["instances[0]","video"],Ck(c));const d=E(e,["source"]);d!=null&&mse(d,n);const h=E(e,["config"]);return h!=null&&Ase(h,n),n}function hse(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const o=E(e,["image"]);o!=null&&T(n,["instances[0]","image"],mo(o));const c=E(e,["video"]);c!=null&&T(n,["instances[0]","video"],Ek(c));const d=E(e,["source"]);d!=null&&xse(d,n);const h=E(e,["config"]);return h!=null&&cse(h,n),n}function gse(t,e){const r={},n=E(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>yse(c))),T(r,["generatedVideos"],o)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&T(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&T(r,["raiMediaFilteredReasons"],s),r}function pse(t,e){const r={},n=E(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>Cse(c))),T(r,["generatedVideos"],o)}const i=E(t,["raiMediaFilteredCount"]);i!=null&&T(r,["raiMediaFilteredCount"],i);const s=E(t,["raiMediaFilteredReasons"]);return s!=null&&T(r,["raiMediaFilteredReasons"],s),r}function mse(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],Hp(s));const o=E(t,["video"]);return e!==void 0&&o!=null&&T(e,["instances[0]","video"],Ck(o)),n}function xse(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],mo(s));const o=E(t,["video"]);return e!==void 0&&o!=null&&T(e,["instances[0]","video"],Ek(o)),n}function wse(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["image"],Nse(n));const i=E(t,["raiFilteredReason"]);i!=null&&T(r,["raiFilteredReason"],i);const s=E(t,["_self"]);return s!=null&&T(r,["safetyAttributes"],wk(s)),r}function Qp(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["image"],xk(n));const i=E(t,["raiFilteredReason"]);i!=null&&T(r,["raiFilteredReason"],i);const s=E(t,["_self"]);s!=null&&T(r,["safetyAttributes"],vk(s));const o=E(t,["prompt"]);return o!=null&&T(r,["enhancedPrompt"],o),r}function vse(t,e){const r={},n=E(t,["_self"]);n!=null&&T(r,["mask"],xk(n));const i=E(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(r,["labels"],s)}return r}function yse(t,e){const r={},n=E(t,["video"]);return n!=null&&T(r,["video"],lae(n)),r}function Cse(t,e){const r={},n=E(t,["_self"]);return n!=null&&T(r,["video"],Aae(n)),r}function Ese(t,e){const r={},n=E(t,["modelSelectionConfig"]);n!=null&&T(r,["modelConfig"],n);const i=E(t,["responseJsonSchema"]);i!=null&&T(r,["responseJsonSchema"],i);const s=E(t,["audioTimestamp"]);s!=null&&T(r,["audioTimestamp"],s);const o=E(t,["candidateCount"]);o!=null&&T(r,["candidateCount"],o);const c=E(t,["enableAffectiveDialog"]);c!=null&&T(r,["enableAffectiveDialog"],c);const d=E(t,["frequencyPenalty"]);d!=null&&T(r,["frequencyPenalty"],d);const h=E(t,["logprobs"]);h!=null&&T(r,["logprobs"],h);const m=E(t,["maxOutputTokens"]);m!=null&&T(r,["maxOutputTokens"],m);const C=E(t,["mediaResolution"]);C!=null&&T(r,["mediaResolution"],C);const b=E(t,["presencePenalty"]);b!=null&&T(r,["presencePenalty"],b);const S=E(t,["responseLogprobs"]);S!=null&&T(r,["responseLogprobs"],S);const R=E(t,["responseMimeType"]);R!=null&&T(r,["responseMimeType"],R);const k=E(t,["responseModalities"]);k!=null&&T(r,["responseModalities"],k);const U=E(t,["responseSchema"]);U!=null&&T(r,["responseSchema"],U);const V=E(t,["routingConfig"]);V!=null&&T(r,["routingConfig"],V);const G=E(t,["seed"]);G!=null&&T(r,["seed"],G);const Q=E(t,["speechConfig"]);Q!=null&&T(r,["speechConfig"],Q);const J=E(t,["stopSequences"]);J!=null&&T(r,["stopSequences"],J);const Z=E(t,["temperature"]);Z!=null&&T(r,["temperature"],Z);const K=E(t,["thinkingConfig"]);K!=null&&T(r,["thinkingConfig"],K);const M=E(t,["topK"]);M!=null&&T(r,["topK"],M);const P=E(t,["topP"]);if(P!=null&&T(r,["topP"],P),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function bse(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],rn(t,i)),n}function _se(t,e,r){const n={},i=E(e,["model"]);return i!=null&&T(n,["_url","name"],rn(t,i)),n}function Tse(t,e){const r={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&T(r,["enableWidget"],n),r}function Bse(t,e){const r={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&T(r,["timeRangeFilter"],n),r}function Ise(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&T(r,["aspectRatio"],n);const i=E(t,["imageSize"]);if(i!=null&&T(r,["imageSize"],i),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function Sse(t,e){const r={},n=E(t,["aspectRatio"]);n!=null&&T(r,["aspectRatio"],n);const i=E(t,["imageSize"]);i!=null&&T(r,["imageSize"],i);const s=E(t,["personGeneration"]);s!=null&&T(r,["personGeneration"],s);const o=E(t,["outputMimeType"]);o!=null&&T(r,["imageOutputOptions","mimeType"],o);const c=E(t,["outputCompressionQuality"]);return c!=null&&T(r,["imageOutputOptions","compressionQuality"],c),r}function Nse(t,e){const r={},n=E(t,["bytesBase64Encoded"]);n!=null&&T(r,["imageBytes"],LA(n));const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function xk(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&T(r,["imageBytes"],LA(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function Hp(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&T(r,["bytesBase64Encoded"],LA(n));const i=E(t,["mimeType"]);return i!=null&&T(r,["mimeType"],i),r}function mo(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["imageBytes"]);i!=null&&T(r,["bytesBase64Encoded"],LA(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function Fse(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&T(r,["_query","pageSize"],s);const o=E(e,["pageToken"]);r!==void 0&&o!=null&&T(r,["_query","pageToken"],o);const c=E(e,["filter"]);r!==void 0&&c!=null&&T(r,["_query","filter"],c);const d=E(e,["queryBase"]);return r!==void 0&&d!=null&&T(r,["_url","models_url"],uk(t,d)),i}function Rse(t,e,r,n){const i={},s=E(e,["pageSize"]);r!==void 0&&s!=null&&T(r,["_query","pageSize"],s);const o=E(e,["pageToken"]);r!==void 0&&o!=null&&T(r,["_query","pageToken"],o);const c=E(e,["filter"]);r!==void 0&&c!=null&&T(r,["_query","filter"],c);const d=E(e,["queryBase"]);return r!==void 0&&d!=null&&T(r,["_url","models_url"],uk(t,d)),i}function kse(t,e,r){const n={},i=E(e,["config"]);return i!=null&&Fse(t,i,n),n}function Dse(t,e,r){const n={},i=E(e,["config"]);return i!=null&&Rse(t,i,n),n}function Use(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let o=fk(s);Array.isArray(o)&&(o=o.map(c=>Yw(c))),T(r,["models"],o)}return r}function Mse(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["_self"]);if(s!=null){let o=fk(s);Array.isArray(o)&&(o=o.map(c=>Jw(c))),T(r,["models"],o)}return r}function Ose(t,e){const r={},n=E(t,["maskMode"]);n!=null&&T(r,["maskMode"],n);const i=E(t,["segmentationClasses"]);i!=null&&T(r,["maskClasses"],i);const s=E(t,["maskDilation"]);return s!=null&&T(r,["dilation"],s),r}function Yw(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["displayName"]);i!=null&&T(r,["displayName"],i);const s=E(t,["description"]);s!=null&&T(r,["description"],s);const o=E(t,["version"]);o!=null&&T(r,["version"],o);const c=E(t,["_self"]);c!=null&&T(r,["tunedModelInfo"],$se(c));const d=E(t,["inputTokenLimit"]);d!=null&&T(r,["inputTokenLimit"],d);const h=E(t,["outputTokenLimit"]);h!=null&&T(r,["outputTokenLimit"],h);const m=E(t,["supportedGenerationMethods"]);m!=null&&T(r,["supportedActions"],m);const C=E(t,["temperature"]);C!=null&&T(r,["temperature"],C);const b=E(t,["maxTemperature"]);b!=null&&T(r,["maxTemperature"],b);const S=E(t,["topP"]);S!=null&&T(r,["topP"],S);const R=E(t,["topK"]);R!=null&&T(r,["topK"],R);const k=E(t,["thinking"]);return k!=null&&T(r,["thinking"],k),r}function Jw(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["name"],n);const i=E(t,["displayName"]);i!=null&&T(r,["displayName"],i);const s=E(t,["description"]);s!=null&&T(r,["description"],s);const o=E(t,["versionId"]);o!=null&&T(r,["version"],o);const c=E(t,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>Yie(S))),T(r,["endpoints"],b)}const d=E(t,["labels"]);d!=null&&T(r,["labels"],d);const h=E(t,["_self"]);h!=null&&T(r,["tunedModelInfo"],eae(h));const m=E(t,["defaultCheckpointId"]);m!=null&&T(r,["defaultCheckpointId"],m);const C=E(t,["checkpoints"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(S=>S)),T(r,["checkpoints"],b)}return r}function Lse(t,e){const r={},n=E(t,["mediaResolution"]);n!=null&&T(r,["mediaResolution"],n);const i=E(t,["codeExecutionResult"]);i!=null&&T(r,["codeExecutionResult"],i);const s=E(t,["executableCode"]);s!=null&&T(r,["executableCode"],s);const o=E(t,["fileData"]);o!=null&&T(r,["fileData"],Jie(o));const c=E(t,["functionCall"]);c!=null&&T(r,["functionCall"],Zie(c));const d=E(t,["functionResponse"]);d!=null&&T(r,["functionResponse"],d);const h=E(t,["inlineData"]);h!=null&&T(r,["inlineData"],Eie(h));const m=E(t,["text"]);m!=null&&T(r,["text"],m);const C=E(t,["thought"]);C!=null&&T(r,["thought"],C);const b=E(t,["thoughtSignature"]);b!=null&&T(r,["thoughtSignature"],b);const S=E(t,["videoMetadata"]);return S!=null&&T(r,["videoMetadata"],S),r}function Pse(t,e){const r={},n=E(t,["productImage"]);return n!=null&&T(r,["image"],mo(n)),r}function Qse(t,e,r){const n={},i=E(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const s=E(t,["baseSteps"]);e!==void 0&&s!=null&&T(e,["parameters","baseSteps"],s);const o=E(t,["outputGcsUri"]);e!==void 0&&o!=null&&T(e,["parameters","storageUri"],o);const c=E(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const d=E(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&T(e,["parameters","safetySetting"],d);const h=E(t,["personGeneration"]);e!==void 0&&h!=null&&T(e,["parameters","personGeneration"],h);const m=E(t,["addWatermark"]);e!==void 0&&m!=null&&T(e,["parameters","addWatermark"],m);const C=E(t,["outputMimeType"]);e!==void 0&&C!=null&&T(e,["parameters","outputOptions","mimeType"],C);const b=E(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&T(e,["parameters","outputOptions","compressionQuality"],b);const S=E(t,["enhancePrompt"]);e!==void 0&&S!=null&&T(e,["parameters","enhancePrompt"],S);const R=E(t,["labels"]);return e!==void 0&&R!=null&&T(e,["labels"],R),n}function Hse(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["source"]);s!=null&&jse(s,n);const o=E(e,["config"]);return o!=null&&Qse(o,n),n}function Vse(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qp(s))),T(r,["generatedImages"],i)}return r}function jse(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["personImage"]);e!==void 0&&s!=null&&T(e,["instances[0]","personImage","image"],mo(s));const o=E(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Pse(d))),T(e,["instances[0]","productImages"],c)}return n}function Gse(t,e){const r={},n=E(t,["referenceImage"]);n!=null&&T(r,["referenceImage"],mo(n));const i=E(t,["referenceId"]);i!=null&&T(r,["referenceId"],i);const s=E(t,["referenceType"]);s!=null&&T(r,["referenceType"],s);const o=E(t,["maskImageConfig"]);o!=null&&T(r,["maskImageConfig"],Ose(o));const c=E(t,["controlImageConfig"]);c!=null&&T(r,["controlImageConfig"],Nie(c));const d=E(t,["styleImageConfig"]);d!=null&&T(r,["styleImageConfig"],d);const h=E(t,["subjectImageConfig"]);return h!=null&&T(r,["subjectImageConfig"],h),r}function wk(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&T(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&T(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&T(r,["contentType"],s),r}function vk(t,e){const r={},n=E(t,["safetyAttributes","categories"]);n!=null&&T(r,["categories"],n);const i=E(t,["safetyAttributes","scores"]);i!=null&&T(r,["scores"],i);const s=E(t,["contentType"]);return s!=null&&T(r,["contentType"],s),r}function Kse(t,e){const r={},n=E(t,["category"]);if(n!=null&&T(r,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=E(t,["threshold"]);return i!=null&&T(r,["threshold"],i),r}function zse(t,e){const r={},n=E(t,["image"]);return n!=null&&T(r,["image"],mo(n)),r}function Wse(t,e,r){const n={},i=E(t,["mode"]);e!==void 0&&i!=null&&T(e,["parameters","mode"],i);const s=E(t,["maxPredictions"]);e!==void 0&&s!=null&&T(e,["parameters","maxPredictions"],s);const o=E(t,["confidenceThreshold"]);e!==void 0&&o!=null&&T(e,["parameters","confidenceThreshold"],o);const c=E(t,["maskDilation"]);e!==void 0&&c!=null&&T(e,["parameters","maskDilation"],c);const d=E(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&T(e,["parameters","binaryColorThreshold"],d);const h=E(t,["labels"]);return e!==void 0&&h!=null&&T(e,["labels"],h),n}function qse(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["source"]);s!=null&&Yse(s,n);const o=E(e,["config"]);return o!=null&&Wse(o,n),n}function Xse(t,e){const r={},n=E(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vse(s))),T(r,["generatedMasks"],i)}return r}function Yse(t,e,r){const n={},i=E(t,["prompt"]);e!==void 0&&i!=null&&T(e,["instances[0]","prompt"],i);const s=E(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],mo(s));const o=E(t,["scribbleImage"]);return e!==void 0&&o!=null&&T(e,["instances[0]","scribble"],zse(o)),n}function Jse(t,e){const r={},n=E(t,["retrievalConfig"]);n!=null&&T(r,["retrievalConfig"],n);const i=E(t,["functionCallingConfig"]);return i!=null&&T(r,["functionCallingConfig"],$ie(i)),r}function Zse(t,e){const r={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&T(r,["computerUse"],n);const i=E(t,["fileSearch"]);i!=null&&T(r,["fileSearch"],i);const s=E(t,["codeExecution"]);if(s!=null&&T(r,["codeExecution"],s),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=E(t,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(b=>b)),T(r,["functionDeclarations"],C)}const c=E(t,["googleMaps"]);c!=null&&T(r,["googleMaps"],Tse(c));const d=E(t,["googleSearch"]);d!=null&&T(r,["googleSearch"],Bse(d));const h=E(t,["googleSearchRetrieval"]);h!=null&&T(r,["googleSearchRetrieval"],h);const m=E(t,["urlContext"]);return m!=null&&T(r,["urlContext"],m),r}function yk(t,e){const r={},n=E(t,["retrieval"]);n!=null&&T(r,["retrieval"],n);const i=E(t,["computerUse"]);if(i!=null&&T(r,["computerUse"],i),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=E(t,["codeExecution"]);s!=null&&T(r,["codeExecution"],s);const o=E(t,["enterpriseWebSearch"]);o!=null&&T(r,["enterpriseWebSearch"],o);const c=E(t,["functionDeclarations"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>ese(S))),T(r,["functionDeclarations"],b)}const d=E(t,["googleMaps"]);d!=null&&T(r,["googleMaps"],d);const h=E(t,["googleSearch"]);h!=null&&T(r,["googleSearch"],h);const m=E(t,["googleSearchRetrieval"]);m!=null&&T(r,["googleSearchRetrieval"],m);const C=E(t,["urlContext"]);return C!=null&&T(r,["urlContext"],C),r}function $se(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&T(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&T(r,["updateTime"],s),r}function eae(t,e){const r={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["createTime"]);i!=null&&T(r,["createTime"],i);const s=E(t,["updateTime"]);return s!=null&&T(r,["updateTime"],s),r}function tae(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const o=E(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&T(e,["defaultCheckpointId"],o),n}function rae(t,e,r){const n={},i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const o=E(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&T(e,["defaultCheckpointId"],o),n}function nae(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","name"],rn(t,i));const s=E(e,["config"]);return s!=null&&tae(s,n),n}function iae(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["config"]);return s!=null&&rae(s,n),n}function sae(t,e,r){const n={},i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=E(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&T(e,["parameters","safetySetting"],s);const o=E(t,["personGeneration"]);e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o);const c=E(t,["includeRaiReason"]);e!==void 0&&c!=null&&T(e,["parameters","includeRaiReason"],c);const d=E(t,["outputMimeType"]);e!==void 0&&d!=null&&T(e,["parameters","outputOptions","mimeType"],d);const h=E(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&T(e,["parameters","outputOptions","compressionQuality"],h);const m=E(t,["enhanceInputImage"]);e!==void 0&&m!=null&&T(e,["parameters","upscaleConfig","enhanceInputImage"],m);const C=E(t,["imagePreservationFactor"]);e!==void 0&&C!=null&&T(e,["parameters","upscaleConfig","imagePreservationFactor"],C);const b=E(t,["labels"]);e!==void 0&&b!=null&&T(e,["labels"],b);const S=E(t,["numberOfImages"]);e!==void 0&&S!=null&&T(e,["parameters","sampleCount"],S);const R=E(t,["mode"]);return e!==void 0&&R!=null&&T(e,["parameters","mode"],R),n}function aae(t,e,r){const n={},i=E(e,["model"]);i!=null&&T(n,["_url","model"],rn(t,i));const s=E(e,["image"]);s!=null&&T(n,["instances[0]","image"],mo(s));const o=E(e,["upscaleFactor"]);o!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],o);const c=E(e,["config"]);return c!=null&&sae(c,n),n}function oae(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Qp(o))),T(r,["generatedImages"],s)}return r}function lae(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["uri"],n);const i=E(t,["encodedVideo"]);i!=null&&T(r,["videoBytes"],LA(i));const s=E(t,["encoding"]);return s!=null&&T(r,["mimeType"],s),r}function Aae(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["uri"],n);const i=E(t,["bytesBase64Encoded"]);i!=null&&T(r,["videoBytes"],LA(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}function cae(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["_self"],mo(n));const i=E(t,["maskMode"]);return i!=null&&T(r,["maskMode"],i),r}function uae(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["image"],Hp(n));const i=E(t,["referenceType"]);return i!=null&&T(r,["referenceType"],i),r}function fae(t,e){const r={},n=E(t,["image"]);n!=null&&T(r,["image"],mo(n));const i=E(t,["referenceType"]);return i!=null&&T(r,["referenceType"],i),r}function Ck(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["uri"],n);const i=E(t,["videoBytes"]);i!=null&&T(r,["encodedVideo"],LA(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["encoding"],s),r}function Ek(t,e){const r={},n=E(t,["uri"]);n!=null&&T(r,["gcsUri"],n);const i=E(t,["videoBytes"]);i!=null&&T(r,["bytesBase64Encoded"],LA(i));const s=E(t,["mimeType"]);return s!=null&&T(r,["mimeType"],s),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dae(t,e){const r={},n=E(t,["displayName"]);return e!==void 0&&n!=null&&T(e,["displayName"],n),r}function hae(t){const e={},r=E(t,["config"]);return r!=null&&dae(r,e),e}function gae(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&T(e,["_query","force"],n),r}function pae(t){const e={},r=E(t,["name"]);r!=null&&T(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&gae(n,e),e}function mae(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","name"],r),e}function xae(t,e){const r={},n=E(t,["customMetadata"]);if(e!==void 0&&n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["customMetadata"],s)}const i=E(t,["chunkingConfig"]);return e!==void 0&&i!=null&&T(e,["chunkingConfig"],i),r}function wae(t){const e={},r=E(t,["name"]);r!=null&&T(e,["name"],r);const n=E(t,["metadata"]);n!=null&&T(e,["metadata"],n);const i=E(t,["done"]);i!=null&&T(e,["done"],i);const s=E(t,["error"]);s!=null&&T(e,["error"],s);const o=E(t,["response"]);return o!=null&&T(e,["response"],yae(o)),e}function vae(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&T(e,["_url","file_search_store_name"],r);const n=E(t,["fileName"]);n!=null&&T(e,["fileName"],n);const i=E(t,["config"]);return i!=null&&xae(i,e),e}function yae(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["parent"]);n!=null&&T(e,["parent"],n);const i=E(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function Cae(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Eae(t){const e={},r=E(t,["config"]);return r!=null&&Cae(r,e),e}function bae(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["fileSearchStores"],s)}return e}function bk(t,e){const r={},n=E(t,["mimeType"]);e!==void 0&&n!=null&&T(e,["mimeType"],n);const i=E(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=E(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),T(e,["customMetadata"],c)}const o=E(t,["chunkingConfig"]);return e!==void 0&&o!=null&&T(e,["chunkingConfig"],o),r}function _ae(t){const e={},r=E(t,["fileSearchStoreName"]);r!=null&&T(e,["_url","file_search_store_name"],r);const n=E(t,["config"]);return n!=null&&bk(n,e),e}function Tae(t){const e={},r=E(t,["sdkHttpResponse"]);return r!=null&&T(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bae="Content-Type",Iae="X-Server-Timeout",Sae="User-Agent",Zw="x-goog-api-client",Nae="1.41.0",Fae=`google-genai-sdk/${Nae}`,Rae="v1beta1",kae="v1beta",Dae=5,Uae=[408,429,500,502,503,504];class Mae{constructor(e){var r,n,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(r=e.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Rae}else{if(!this.clientOptions.apiKey)throw new vd({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kae,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,r){return!(r.baseUrl&&r.baseUrlResourceScope===zw.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(r))typeof s=="object"?n[i]=Object.assign(Object.assign({},n[i]),s):s!==void 0&&(n[i]=s);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,r,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const s=new AbortController,o=s.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const c=setTimeout(()=>s.abort(),r.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return r&&r.extraBody!==null&&Oae(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await hS(i),new Ww(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await hS(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ao(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:m}=yield pr(i.read());if(h){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const C=s.decode(m,{stream:!0});try{const R=JSON.parse(C);if("error"in R){const k=JSON.parse(JSON.stringify(R.error)),U=k.status,V=k.code,G=`got status: ${U}. ${JSON.stringify(R)}`;if(V>=400&&V<600)throw new vd({message:G,status:V})}}catch(R){if(R.name==="ApiError")throw R}o+=C;let b=-1,S=0;for(;;){b=-1,S=0;for(const U of d){const V=o.indexOf(U);V!==-1&&(b===-1||V<b)&&(b=V,S=U.length)}if(b===-1)break;const R=o.substring(0,b);o=o.substring(b+S);const k=R.trim();if(k.startsWith(c)){const U=k.substring(c.length).trim();try{const V=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pr(new Ww(V))}catch(V){throw new Error(`exception parsing stream chunk ${U}. ${V}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){var n;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,r);const i=this.clientOptions.httpOptions.retryOptions;return Tte(async()=>{const o=await fetch(e,r);if(o.ok)return o;throw Uae.includes(o.status)?new Error(`Retryable HTTP Error: ${o.statusText}`):new rk(`Non-retryable exception ${o.statusText} sending request`)},{retries:((n=i.attempts)!==null&&n!==void 0?n:Dae)-1})}getDefaultHeaders(){const e={},r=Fae+" "+this.clientOptions.userAgentExtra;return e[Sae]=r,e[Zw]=r,e[Bae]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))n.append(i,s);e.timeout&&e.timeout>0&&n.append(Iae,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const c=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d={file:i},h=this.getFileName(e),m=Ot("upload/v1beta/files",d._url),C=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,h,d,r==null?void 0:r.httpOptions);return s.upload(e,C,this)}async uploadFileToFileSearchStore(e,r,n){var i;const s=this.clientOptions.uploader,o=await s.stat(r),c=String(o.size),d=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(r),C={};n!=null&&bk(n,C);const b=await this.fetchUploadUrl(h,c,d,m,C,n==null?void 0:n.httpOptions);return s.uploadToFileSearchStore(r,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,s,o){var c;let d={};o?d=o:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const h=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function hS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new vd({message:i,status:r}):new Error(i)}}function Oae(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))r=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,o){const c=Object.assign({},s);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=o[d],m=c[d];h&&typeof h=="object"&&!Array.isArray(h)&&m&&typeof m=="object"&&!Array.isArray(m)?c[d]=n(m,h):(m&&h&&typeof m!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof h}. Overwriting.`),c[d]=h)}return c}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lae="mcp_used/unknown";let Pae=!1;function _k(t){for(const e of t)if(Qae(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Pae}function Tk(t){var e;const r=(e=t[Zw])!==null&&e!==void 0?e:"";t[Zw]=(r+` ${Lae}`).trimStart()}function Qae(t){return t!==null&&typeof t=="object"&&t instanceof Wy}function Hae(t){return Ao(this,arguments,function*(r,n=100){let i,s=0;for(;s<n;){const o=yield pr(r.listTools({cursor:i}));for(const c of o.tools)yield yield pr(c),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class Wy{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Wy(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const m of this.mcpClients)try{for(var c=!0,d=(r=void 0,co(Hae(m))),h;h=await d.next(),e=h.done,!e;c=!0){i=h.value,c=!1;const C=i;o.push(C);const b=C.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=m}}catch(C){r={error:C}}finally{try{!c&&!e&&(n=d.return)&&await n.call(d)}finally{if(r)throw r.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),hre(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:n.name,arguments:n.args},void 0,s);r.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vae(t,e,r){const n=new are;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class jae{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=zae(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const m=new Promise(Q=>{h=Q}),C=e.callbacks,b=function(){h({})},S=this.apiClient,R={onopen:b,onmessage:Q=>{Vae(S,C.onmessage,Q)},onerror:(r=C==null?void 0:C.onerror)!==null&&r!==void 0?r:function(Q){},onclose:(n=C==null?void 0:C.onclose)!==null&&n!==void 0?n:function(Q){}},k=this.webSocketFactory.create(d,Kae(o),R);k.connect(),await m;const G={setup:{model:rn(this.apiClient,e.model)}};return k.send(JSON.stringify(G)),new Gae(k,this.apiClient)}}class Gae{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=die(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=fie(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Hu.PLAY)}pause(){this.sendPlaybackControl(Hu.PAUSE)}stop(){this.sendPlaybackControl(Hu.STOP)}resetContext(){this.sendPlaybackControl(Hu.RESET_CONTEXT)}close(){this.conn.close()}}function Kae(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function zae(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wae="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qae(t,e,r){const n=new sre;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=pie(s);Object.assign(n,o)}else Object.assign(n,s);e(n)}class Xae{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new jae(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,s,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&_k(e.config.tools)&&Tk(C);const b=$ae(C);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),re=this.apiClient.getLocation(),te=this.apiClient.getApiKey(),q=!!O&&!!re||!!te;this.apiClient.getCustomBaseUrl()&&!q?m=d:(m=`${d}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,m))}else{const O=this.apiClient.getApiKey();let re="BidiGenerateContent",te="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",te="access_token"),m=`${d}/ws/google.ai.generativelanguage.${h}.GenerativeService.${re}?${te}=${O}`}let S=()=>{};const R=new Promise(O=>{S=O}),k=e.callbacks,U=function(){var O;(O=k==null?void 0:k.onopen)===null||O===void 0||O.call(k),S({})},V=this.apiClient,G={onopen:U,onmessage:O=>{qae(V,k.onmessage,O)},onerror:(r=k==null?void 0:k.onerror)!==null&&r!==void 0?r:function(O){},onclose:(n=k==null?void 0:k.onclose)!==null&&n!==void 0?n:function(O){}},Q=this.webSocketFactory.create(m,Zae(b),G);Q.connect(),await R;let J=rn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const O=this.apiClient.getProject(),re=this.apiClient.getLocation();O&&re&&(J=`projects/${O}/locations/${re}/`+J)}let Z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[X1.AUDIO]}:e.config.responseModalities=[X1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],M=[];for(const O of K)if(this.isCallableTool(O)){const re=O;M.push(await re.tool())}else M.push(O);M.length>0&&(e.config.tools=M);const P={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=uie(this.apiClient,P):Z=cie(this.apiClient,P),delete Z.config,Q.send(JSON.stringify(Z)),new Jae(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Yae={turnComplete:!0};class Jae{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Ka(r.turns),e.isVertexAI()||(n=n.map(i=>Pp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Wae)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Yae),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:gie(e)}:r={realtimeInput:hie(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function Zae(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function $ae(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS=10;function pS(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(Zu(o)){i=!0;break}if(!i)return!0;const s=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Zu(t){return"callTool"in t&&typeof t.callTool=="function"}function eoe(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>Zu(i)))!==null&&n!==void 0?n:!1}function mS(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(Zu(n))return;const s=n;s.functionDeclarations&&s.functionDeclarations.length>0&&r.push(i)}),r}function xS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class toe extends Rl{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,s,o,c;const d=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!eoe(r)||pS(r.config))return await this.generateContentInternal(d);const h=mS(r);if(h.length>0){const k=h.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let m,C;const b=Ka(d.contents),S=(s=(i=(n=d.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:gS;let R=0;for(;R<S&&(m=await this.generateContentInternal(d),!(!m.functionCalls||m.functionCalls.length===0));){const k=m.candidates[0].content,U=[];for(const V of(c=(o=r.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Zu(V)){const Q=await V.callTool(m.functionCalls);U.push(...Q)}R++,C={role:"user",parts:U},d.contents=Ka(d.contents),d.contents.push(k),d.contents.push(C),xS(d.config)&&(b.push(k),b.push(C))}return xS(d.config)&&(m.automaticFunctionCallingHistory=b),m},this.generateContentStream=async r=>{var n,i,s,o,c;if(this.maybeMoveToResponseJsonSchem(r),pS(r.config)){const C=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(C)}const d=mS(r);if(d.length>0){const C=d.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${C}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,m=(c=(o=r==null?void 0:r.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let s;const o=[];if(n!=null&&n.generatedImages)for(const d of n.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:o.push(d);let c;return s?c={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:n.sdkHttpResponse},c}),this.list=async r=>{var n;const o={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((n=o.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new jc(Sl.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,s,o,c,d;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((o=(s=r.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((d=(c=r.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const s=(r=e.config)===null||r===void 0?void 0:r.tools;if(!s)return e;const o=await Promise.all(s.map(async d=>Zu(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&_k(e.config.tools)){const d=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let h=Object.assign({},d);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Tk(h),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(e){var r,n,i;const s=new Map;for(const o of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Zu(o)){const c=o,d=await c.tool();for(const h of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,c)}}return s}async processAfcStream(e){var r,n,i;const s=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:gS;let o=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(h,m,C){return Ao(this,arguments,function*(){for(var b,S,R,k,U,V;c<s;){o&&(c++,o=!1);const Z=yield pr(h.processParamsMaybeAddMcpUsage(C)),K=yield pr(h.generateContentStreamInternal(Z)),M=[],P=[];try{for(var G=!0,Q=(S=void 0,co(K)),J;J=yield pr(Q.next()),b=J.done,!b;G=!0){k=J.value,G=!1;const O=k;if(yield yield pr(O),O.candidates&&(!((U=O.candidates[0])===null||U===void 0)&&U.content)){P.push(O.candidates[0].content);for(const re of(V=O.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(c<s&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(re.functionCall.name)){const te=yield pr(m.get(re.functionCall.name).callTool([re.functionCall]));M.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(O){S={error:O}}finally{try{!G&&!b&&(R=Q.return)&&(yield pr(R.call(Q)))}finally{if(S)throw S.error}}if(M.length>0){o=!0;const O=new ff;O.candidates=[{content:{role:"user",parts:M}}],yield yield pr(O);const re=[];re.push(...P),re.push({role:"user",parts:M});const te=Ka(C.contents).concat(re);C.contents=te}else break}})})(this,d,e)}async generateContentInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=uS(this.apiClient,e);return c=Ot("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=dS(m),b=new ff;return Object.assign(b,C),b})}else{const h=cS(this.apiClient,e);return c=Ot("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=fS(m),b=new ff;return Object.assign(b,C),b})}}async generateContentStreamInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=uS(this.apiClient,e);return c=Ot("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),o.then(function(C){return Ao(this,arguments,function*(){var b,S,R,k;try{for(var U=!0,V=co(C),G;G=yield pr(V.next()),b=G.done,!b;U=!0){k=G.value,U=!1;const Q=k,J=dS(yield pr(Q.json()),e);J.sdkHttpResponse={headers:Q.headers};const Z=new ff;Object.assign(Z,J),yield yield pr(Z)}}catch(Q){S={error:Q}}finally{try{!U&&!b&&(R=V.return)&&(yield pr(R.call(V)))}finally{if(S)throw S.error}}})})}else{const h=cS(this.apiClient,e);return c=Ot("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(C){return Ao(this,arguments,function*(){var b,S,R,k;try{for(var U=!0,V=co(C),G;G=yield pr(V.next()),b=G.done,!b;U=!0){k=G.value,U=!1;const Q=k,J=fS(yield pr(Q.json()),e);J.sdkHttpResponse={headers:Q.headers};const Z=new ff;Object.assign(Z,J),yield yield pr(Z)}}catch(Q){S={error:Q}}finally{try{!U&&!b&&(R=V.return)&&(yield pr(R.call(V)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Wie(this.apiClient,e);return c=Ot("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Xie(m),b=new WI;return Object.assign(b,C),b})}else{const h=zie(this.apiClient,e);return c=Ot("{model}:batchEmbedContents",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=qie(m),b=new WI;return Object.assign(b,C),b})}}async generateImagesInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=ase(this.apiClient,e);return c=Ot("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=lse(m),b=new qI;return Object.assign(b,C),b})}else{const h=sse(this.apiClient,e);return c=Ot("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=ose(m),b=new qI;return Object.assign(b,C),b})}}async editImageInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Vie(this.apiClient,e);return s=Ot("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=jie(d),m=new Wte;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=aae(this.apiClient,e);return s=Ot("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=oae(d),m=new qte;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Hse(this.apiClient,e);return s=Ot("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Vse(d),m=new Xte;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=qse(this.apiClient,e);return s=Ot("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Xse(d),m=new Yte;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=_se(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>Jw(m))}else{const h=bse(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>Yw(m))}}async listInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Dse(this.apiClient,e);return c=Ot("{models_url}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Mse(m),b=new XI;return Object.assign(b,C),b})}else{const h=kse(this.apiClient,e);return c=Ot("{models_url}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Use(m),b=new XI;return Object.assign(b,C),b})}}async update(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=iae(this.apiClient,e);return c=Ot("{model}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>Jw(m))}else{const h=nae(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>Yw(m))}}async delete(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Lie(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Qie(m),b=new YI;return Object.assign(b,C),b})}else{const h=Oie(this.apiClient,e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Pie(m),b=new YI;return Object.assign(b,C),b})}}async countTokens(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Die(this.apiClient,e);return c=Ot("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Mie(m),b=new JI;return Object.assign(b,C),b})}else{const h=kie(this.apiClient,e);return c=Ot("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Uie(m),b=new JI;return Object.assign(b,C),b})}}async computeTokens(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Tie(this.apiClient,e);return s=Ot("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=Bie(d),m=new Jte;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=hse(this.apiClient,e);return c=Ot("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o.then(m=>{const C=fse(m),b=new Y1;return Object.assign(b,C),b})}else{const h=dse(this.apiClient,e);return c=Ot("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o.then(m=>{const C=use(m),b=new Y1;return Object.assign(b,C),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class roe extends Rl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:s}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Hte(e);return c=Ot("{operationName}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json()),o}else{const h=Qte(e);return c=Ot("{operationName}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),o}}async fetchPredictVideosOperationInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=kte(e);return s=Ot("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function noe(t){const e={},r=E(t,["data"]);if(r!=null&&T(e,["data"],r),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function ioe(t){const e={},r=E(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>doe(s))),T(e,["parts"],i)}const n=E(t,["role"]);return n!=null&&T(e,["role"],n),e}function soe(t,e,r){const n={},i=E(e,["expireTime"]);r!==void 0&&i!=null&&T(r,["expireTime"],i);const s=E(e,["newSessionExpireTime"]);r!==void 0&&s!=null&&T(r,["newSessionExpireTime"],s);const o=E(e,["uses"]);r!==void 0&&o!=null&&T(r,["uses"],o);const c=E(e,["liveConnectConstraints"]);r!==void 0&&c!=null&&T(r,["bidiGenerateContentSetup"],foe(t,c));const d=E(e,["lockAdditionalFields"]);return r!==void 0&&d!=null&&T(r,["fieldMask"],d),n}function aoe(t,e){const r={},n=E(e,["config"]);return n!=null&&T(r,["config"],soe(t,n,r)),r}function ooe(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["fileUri"]);r!=null&&T(e,["fileUri"],r);const n=E(t,["mimeType"]);return n!=null&&T(e,["mimeType"],n),e}function loe(t){const e={},r=E(t,["id"]);r!=null&&T(e,["id"],r);const n=E(t,["args"]);n!=null&&T(e,["args"],n);const i=E(t,["name"]);if(i!=null&&T(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aoe(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=E(t,["enableWidget"]);return r!=null&&T(e,["enableWidget"],r),e}function coe(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=E(t,["timeRangeFilter"]);return r!=null&&T(e,["timeRangeFilter"],r),e}function uoe(t,e){const r={},n=E(t,["generationConfig"]);e!==void 0&&n!=null&&T(e,["setup","generationConfig"],n);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const o=E(t,["topP"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topP"],o);const c=E(t,["topK"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","topK"],c);const d=E(t,["maxOutputTokens"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","maxOutputTokens"],d);const h=E(t,["mediaResolution"]);e!==void 0&&h!=null&&T(e,["setup","generationConfig","mediaResolution"],h);const m=E(t,["seed"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","seed"],m);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&T(e,["setup","generationConfig","speechConfig"],zy(C));const b=E(t,["thinkingConfig"]);e!==void 0&&b!=null&&T(e,["setup","generationConfig","thinkingConfig"],b);const S=E(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],S);const R=E(t,["systemInstruction"]);e!==void 0&&R!=null&&T(e,["setup","systemInstruction"],ioe(ms(R)));const k=E(t,["tools"]);if(e!==void 0&&k!=null){let K=v0(k);Array.isArray(K)&&(K=K.map(M=>goe(w0(M)))),T(e,["setup","tools"],K)}const U=E(t,["sessionResumption"]);e!==void 0&&U!=null&&T(e,["setup","sessionResumption"],hoe(U));const V=E(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","inputAudioTranscription"],V);const G=E(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&T(e,["setup","outputAudioTranscription"],G);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&T(e,["setup","realtimeInputConfig"],Q);const J=E(t,["contextWindowCompression"]);e!==void 0&&J!=null&&T(e,["setup","contextWindowCompression"],J);const Z=E(t,["proactivity"]);if(e!==void 0&&Z!=null&&T(e,["setup","proactivity"],Z),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function foe(t,e){const r={},n=E(e,["model"]);n!=null&&T(r,["setup","model"],rn(t,n));const i=E(e,["config"]);return i!=null&&T(r,["config"],uoe(i,r)),r}function doe(t){const e={},r=E(t,["mediaResolution"]);r!=null&&T(e,["mediaResolution"],r);const n=E(t,["codeExecutionResult"]);n!=null&&T(e,["codeExecutionResult"],n);const i=E(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&T(e,["fileData"],ooe(s));const o=E(t,["functionCall"]);o!=null&&T(e,["functionCall"],loe(o));const c=E(t,["functionResponse"]);c!=null&&T(e,["functionResponse"],c);const d=E(t,["inlineData"]);d!=null&&T(e,["inlineData"],noe(d));const h=E(t,["text"]);h!=null&&T(e,["text"],h);const m=E(t,["thought"]);m!=null&&T(e,["thought"],m);const C=E(t,["thoughtSignature"]);C!=null&&T(e,["thoughtSignature"],C);const b=E(t,["videoMetadata"]);return b!=null&&T(e,["videoMetadata"],b),e}function hoe(t){const e={},r=E(t,["handle"]);if(r!=null&&T(e,["handle"],r),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function goe(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=E(t,["computerUse"]);r!=null&&T(e,["computerUse"],r);const n=E(t,["fileSearch"]);n!=null&&T(e,["fileSearch"],n);const i=E(t,["codeExecution"]);if(i!=null&&T(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(C=>C)),T(e,["functionDeclarations"],m)}const o=E(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Aoe(o));const c=E(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],coe(c));const d=E(t,["googleSearchRetrieval"]);d!=null&&T(e,["googleSearchRetrieval"],d);const h=E(t,["urlContext"]);return h!=null&&T(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function poe(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(s=>`${r}.${s}`);e.push(...i)}else e.push(r)}return e.join(",")}function moe(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,r=s):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const s=poe(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(h=>o.includes(h)?`generationConfig.${h}`:h));const d=[];s&&d.push(s),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class xoe extends Rl{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=aoe(this.apiClient,e);s=Ot("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const d=moe(c,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),i.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function woe(t,e){const r={},n=E(t,["force"]);return e!==void 0&&n!=null&&T(e,["_query","force"],n),r}function voe(t){const e={},r=E(t,["name"]);r!=null&&T(e,["_url","name"],r);const n=E(t,["config"]);return n!=null&&woe(n,e),e}function yoe(t){const e={},r=E(t,["name"]);return r!=null&&T(e,["_url","name"],r),e}function Coe(t,e){const r={},n=E(t,["pageSize"]);e!==void 0&&n!=null&&T(e,["_query","pageSize"],n);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),r}function Eoe(t){const e={},r=E(t,["parent"]);r!=null&&T(e,["_url","parent"],r);const n=E(t,["config"]);return n!=null&&Coe(n,e),e}function boe(t){const e={},r=E(t,["sdkHttpResponse"]);r!=null&&T(e,["sdkHttpResponse"],r);const n=E(t,["nextPageToken"]);n!=null&&T(e,["nextPageToken"],n);const i=E(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),T(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _oe extends Rl{constructor(e){super(),this.apiClient=e,this.list=async r=>new jc(Sl.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yoe(e);return s=Ot("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=voe(e);i=Ot("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Eoe(e);return s=Ot("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=boe(d),m=new Zte;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Toe extends Rl{constructor(e,r=new _oe(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new jc(Sl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hae(e);return s=Ot("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mae(e);return s=Ot("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var r,n;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pae(e);i=Ot("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Eae(e);return s=Ot("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=bae(d),m=new $te;return Object.assign(m,h),m})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_ae(e);return s=Ot("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=Tae(d),m=new ere;return Object.assign(m,h),m})}}async importFile(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vae(e);return s=Ot("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),i.then(d=>{const h=wae(d),m=new Hy;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bk=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Bk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Boe=()=>Bk();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ev=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa extends Error{}class Us extends Wa{constructor(e,r,n,i){super(`${Us.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new Vp({message:n,cause:ev(r)});const s=r;return e===400?new Sk(e,s,n,i):e===401?new Nk(e,s,n,i):e===403?new Fk(e,s,n,i):e===404?new Rk(e,s,n,i):e===409?new kk(e,s,n,i):e===422?new Dk(e,s,n,i):e===429?new Uk(e,s,n,i):e>=500?new Mk(e,s,n,i):new Us(e,s,n,i)}}class tv extends Us{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vp extends Us{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class Ik extends Vp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Sk extends Us{}class Nk extends Us{}class Fk extends Us{}class Rk extends Us{}class kk extends Us{}class Dk extends Us{}class Uk extends Us{}class Mk extends Us{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ioe=/^[a-z][a-z0-9+.-]*:/i,Soe=t=>Ioe.test(t);let rv=t=>(rv=Array.isArray,rv(t));const Noe=rv;let Foe=Noe;const wS=Foe;function Roe(t){if(!t)return!0;for(const e in t)return!1;return!0}function koe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Doe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Wa(`${t} must be an integer`);if(e<0)throw new Wa(`${t} must be a positive integer`);return e},Uoe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Moe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ooe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Loe=()=>{var t,e,r,n,i;const s=Ooe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":yS(Deno.build.os),"X-Stainless-Arch":vS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":yS((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":vS((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Poe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Poe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,o=n[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const vS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",yS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Pg;const Qoe=()=>Pg??(Pg=Loe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hoe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ok(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Voe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ok({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function Lk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function joe(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Goe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function D2(t,e,r){return Pk(),new File(t,e??"unknown_file",r)}function Koe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const zoe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Woe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Qk(t),qoe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Xoe(t,e,r){if(Pk(),t=await t,Woe(t))return t instanceof File?t:D2([await t.arrayBuffer()],t.name);if(qoe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),D2(await nv(i),e,r)}const n=await nv(t);if(e||(e=Koe(t)),!(r!=null&&r.type)){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return D2(n,e,r)}async function nv(t){var e,r,n,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(Qk(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(zoe(t))try{for(var c=!0,d=co(t),h;h=await d.next(),e=h.done,!e;c=!0){i=h.value,c=!1;const m=i;o.push(...await nv(m))}}catch(m){r={error:m}}finally{try{!c&&!e&&(n=d.return)&&await n.call(d)}finally{if(r)throw r.error}}else{const m=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Yoe(t)}`)}return o}function Yoe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hk{constructor(e){this._client=e}}Hk._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const CS=Object.freeze(Object.create(null)),Joe=(t=Vk)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],o=r.reduce((m,C,b)=>{var S,R,k;/[?#]/.test(C)&&(i=!0);const U=n[b];let V=(i?encodeURIComponent:t)(""+U);return b!==n.length&&(U==null||typeof U=="object"&&U.toString===((k=Object.getPrototypeOf((R=Object.getPrototypeOf((S=U.hasOwnProperty)!==null&&S!==void 0?S:CS))!==null&&R!==void 0?R:CS))===null||k===void 0?void 0:k.toString))&&(V=U+"",s.push({start:m.length+C.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),m+C+(b===n.length?"":V)},""),c=o.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=d.exec(c))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((m,C)=>m.start-C.start),s.length>0){let m=0;const C=s.reduce((b,S)=>{const R=" ".repeat(S.start-m),k="^".repeat(S.length);return m=S.start+S.length,b+R+k},"");throw new Wa(`Path parameters result in path with invalid segments:
${s.map(b=>b.error).join(`
`)}
${o}
${C}`)}return o}),Qg=Joe(Vk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jk extends Hk{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,s=Z1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Wa("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Wa("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Qg`/${i}/interactions`,Object.assign(Object.assign({body:s},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Qg`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Qg`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const s=r??{},{api_version:o=this._client.apiVersion}=s,c=Z1(s,["api_version"]);return this._client.get(Qg`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}jk._key=Object.freeze(["interactions"]);class Gk extends jk{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zoe(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Hg;function qy(t){let e;return(Hg??(e=new globalThis.TextEncoder,Hg=e.encode.bind(e)))(t)}let Vg;function ES(t){let e;return(Vg??(e=new globalThis.TextDecoder,Vg=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?qy(e):e;this.buffer=Zoe([this.buffer,r]);const n=[];let i;for(;(i=$oe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(ES(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=ES(this.buffer.subarray(0,s));n.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}jp.NEWLINE_CHARS=new Set([`
`,"\r"]);jp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $oe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ele(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1={off:0,error:200,warn:300,info:400,debug:500},bS=(t,e,r)=>{if(t){if(koe($1,t))return t;Ss(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($1))}`)}};function Rf(){}function jg(t,e,r){return!e||$1[t]>$1[r]?Rf:e[t].bind(e)}const tle={error:Rf,warn:Rf,info:Rf,debug:Rf};let _S=new WeakMap;function Ss(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return tle;const i=_S.get(r);if(i&&i[0]===n)return i[1];const s={error:jg("error",r,n),warn:jg("warn",r,n),info:jg("info",r,n),debug:jg("debug",r,n)};return _S.set(r,[n,s]),s}const lc=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vu{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const s=n?Ss(n):console;function o(){return Ao(this,arguments,function*(){var d,h,m,C;if(i)throw new Wa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var S=!0,R=co(rle(e,r)),k;k=yield pr(R.next()),d=k.done,!d;S=!0){C=k.value,S=!1;const U=C;if(!b)if(U.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield pr(JSON.parse(U.data))}catch(V){throw s.error("Could not parse message into JSON:",U.data),s.error("From chunk:",U.raw),V}}}catch(U){h={error:U}}finally{try{!S&&!d&&(m=R.return)&&(yield pr(m.call(R)))}finally{if(h)throw h.error}}b=!0}catch(U){if($w(U))return yield pr(void 0);throw U}finally{b||r.abort()}})}return new Vu(o,r,n)}static fromReadableStream(e,r,n){let i=!1;function s(){return Ao(this,arguments,function*(){var d,h,m,C;const b=new jp,S=Lk(e);try{for(var R=!0,k=co(S),U;U=yield pr(k.next()),d=U.done,!d;R=!0){C=U.value,R=!1;const V=C;for(const G of b.decode(V))yield yield pr(G)}}catch(V){h={error:V}}finally{try{!R&&!d&&(m=k.return)&&(yield pr(m.call(k)))}finally{if(h)throw h.error}}for(const V of b.flush())yield yield pr(V)})}function o(){return Ao(this,arguments,function*(){var d,h,m,C;if(i)throw new Wa("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let b=!1;try{try{for(var S=!0,R=co(s()),k;k=yield pr(R.next()),d=k.done,!d;S=!0){C=k.value,S=!1;const U=C;b||U&&(yield yield pr(JSON.parse(U)))}}catch(U){h={error:U}}finally{try{!S&&!d&&(m=R.return)&&(yield pr(m.call(R)))}finally{if(h)throw h.error}}b=!0}catch(U){if($w(U))return yield pr(void 0);throw U}finally{b||r.abort()}})}return new Vu(o,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=n.next();e.push(o),r.push(o)}return s.shift()}});return[new Vu(()=>i(e),this.controller,this.client),new Vu(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return Ok({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const o=qy(JSON.stringify(i)+`
`);n.enqueue(o)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function rle(t,e){return Ao(this,arguments,function*(){var n,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wa("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wa("Attempted to iterate over a response with no body");const c=new ile,d=new jp,h=Lk(t.body);try{for(var m=!0,C=co(nle(h)),b;b=yield pr(C.next()),n=b.done,!n;m=!0){o=b.value,m=!1;const S=o;for(const R of d.decode(S)){const k=c.decode(R);k&&(yield yield pr(k))}}}catch(S){i={error:S}}finally{try{!m&&!n&&(s=C.return)&&(yield pr(s.call(C)))}finally{if(i)throw i.error}}for(const S of d.flush()){const R=c.decode(S);R&&(yield yield pr(R))}})}function nle(t){return Ao(this,arguments,function*(){var r,n,i,s;let o=new Uint8Array;try{for(var c=!0,d=co(t),h;h=yield pr(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const m=s;if(m==null)continue;const C=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?qy(m):m;let b=new Uint8Array(o.length+C.length);b.set(o),b.set(C,o.length),o=b;let S;for(;(S=ele(o))!==-1;)yield yield pr(o.slice(0,S)),o=o.slice(S)}}catch(m){n={error:m}}finally{try{!c&&!r&&(i=d.return)&&(yield pr(i.call(d)))}finally{if(n)throw n.error}}o.length>0&&(yield yield pr(o))})}class ile{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=sle(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function sle(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ale(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var c;if(e.options.stream)return Ss(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):Vu.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const d=r.headers.get("content-type"),h=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return Ss(t).debug(`[${n}] response parsed`,lc({retryOfRequestLogID:i,url:r.url,status:r.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xy extends Promise{constructor(e,r,n=ale){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Xy(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kk=Symbol("brand.privateNullableHeaders");function*ole(t){if(!t)return;if(Kk in t){const{values:n,nulls:i}=t;yield*n.entries();for(const s of i)yield[s,null];return}let e=!1,r;t instanceof Headers?r=t.entries():wS(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=wS(n[1])?n[1]:[n[1]];let o=!1;for(const c of s)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const df=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[s,o]of ole(n)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),o===null?(e.delete(s),r.add(c)):(e.append(s,o),r.delete(c))}}return{[Kk]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U2=t=>{var e,r,n,i,s,o;if(typeof globalThis.process<"u")return(n=(r=(e=Bte)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zk;class Gp{constructor(e){var r,n,i,s,o,c,d,{baseURL:h=U2("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(r=U2("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:C="v1beta"}=e,b=Z1(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:m,apiVersion:C},b),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(n=S.timeout)!==null&&n!==void 0?n:Gp.DEFAULT_TIMEOUT,this.logger=(i=S.logger)!==null&&i!==void 0?i:console;const R="warn";this.logLevel=R,this.logLevel=(o=(s=bS(S.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:bS(U2("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:R,this.fetchOptions=S.fetchOptions,this.maxRetries=(c=S.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=S.fetch)!==null&&d!==void 0?d:Hoe(),this.encoder=Goe,this._options=S,this.apiKey=m,this.apiVersion=C,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=df([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return df([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return df([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Wa(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Mu}`}defaultIdempotencyKey(){return`stainless-node-retry-${Boe()}`}makeStatusError(e,r,n,i){return Us.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,s=Soe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Roe(o)||(r=Object.assign(Object.assign({},o),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new Xy(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,s,o;const c=await e,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=d),await this.prepareOptions(c);const{req:h,url:m,timeout:C}=await this.buildRequest(c,{retryCount:d-r});await this.prepareRequest(h,{url:m,options:c});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=n===void 0?"":`, retryOf: ${n}`,R=Date.now();if(Ss(this).debug(`[${b}] sending request`,lc({retryOfRequestLogID:n,method:c.method,url:m,options:c,headers:h.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new tv;const k=new AbortController,U=await this.fetchWithTimeout(m,h,C,k).catch(ev),V=Date.now();if(U instanceof globalThis.Error){const Q=`retrying, ${r} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new tv;const J=$w(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(r)return Ss(this).info(`[${b}] connection ${J?"timed out":"failed"} - ${Q}`),Ss(this).debug(`[${b}] connection ${J?"timed out":"failed"} (${Q})`,lc({retryOfRequestLogID:n,url:m,durationMs:V-R,message:U.message})),this.retryRequest(c,r,n??b);throw Ss(this).info(`[${b}] connection ${J?"timed out":"failed"} - error; no more retries left`),Ss(this).debug(`[${b}] connection ${J?"timed out":"failed"} (error; no more retries left)`,lc({retryOfRequestLogID:n,url:m,durationMs:V-R,message:U.message})),J?new Ik:new Vp({cause:U})}const G=`[${b}${S}] ${h.method} ${m} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${V-R}ms`;if(!U.ok){const Q=await this.shouldRetry(U);if(r&&Q){const O=`retrying, ${r} attempts remaining`;return await joe(U.body),Ss(this).info(`${G} - ${O}`),Ss(this).debug(`[${b}] response error (${O})`,lc({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,durationMs:V-R})),this.retryRequest(c,r,n??b,U.headers)}const J=Q?"error; no more retries left":"error; not retryable";Ss(this).info(`${G} - ${J}`);const Z=await U.text().catch(O=>ev(O).message),K=Uoe(Z),M=K?void 0:Z;throw Ss(this).debug(`[${b}] response error (${J})`,lc({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,message:M,durationMs:Date.now()-R})),this.makeStatusError(U.status,K,M,U.headers)}return Ss(this).info(G),Ss(this).debug(`[${b}] response start`,lc({retryOfRequestLogID:n,url:U.url,status:U.status,headers:U.headers,durationMs:V-R})),{response:U,options:c,controller:k,requestLogID:b,retryOfRequestLogID:n,startTime:R}}async fetchWithTimeout(e,r,n,i){const s=r||{},{signal:o,method:c}=s,d=Z1(s,["signal","method"]),h=this._makeAbort(i);o&&o.addEventListener("abort",h,{once:!0});const m=setTimeout(h,n),C=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,b=Object.assign(Object.assign(Object.assign({signal:i.signal},C?{duplex:"half"}:{}),{method:"GET"}),d);c&&(b.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(m)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var s;let o;const c=i==null?void 0:i.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(o=h)}const d=i==null?void 0:i.get("retry-after");if(d&&!o){const h=parseFloat(d);Number.isNaN(h)?o=Date.parse(d)-Date.now():o=h*1e3}if(!(o&&0<=o&&o<60*1e3)){const h=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,h)}return await Moe(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const s=r-e,o=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,s;const o=Object.assign({},e),{method:c,path:d,query:h,defaultBaseURL:m}=o,C=this.buildURL(d,h,m);"timeout"in o&&Doe("timeout",o.timeout),o.timeout=(n=o.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:b,body:S}=this.buildBody({options:o}),R=await this.buildHeaders({options:e,method:c,bodyHeaders:b,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:R},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:C,timeout:o.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=df([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Qoe()),this._options.defaultHeaders,n,e.headers,o]);return this.validateHeaders(c),c.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=df([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Voe(e)}:this.encoder({body:e,headers:n})}}Gp.DEFAULT_TIMEOUT=6e4;class Li extends Gp{constructor(){super(...arguments),this.interactions=new Gk(this)}}zk=Li;Li.GeminiNextGenAPIClient=zk;Li.GeminiNextGenAPIClientError=Wa;Li.APIError=Us;Li.APIConnectionError=Vp;Li.APIConnectionTimeoutError=Ik;Li.APIUserAbortError=tv;Li.NotFoundError=Rk;Li.ConflictError=kk;Li.RateLimitError=Uk;Li.BadRequestError=Sk;Li.AuthenticationError=Nk;Li.InternalServerError=Mk;Li.PermissionDeniedError=Fk;Li.UnprocessableEntityError=Dk;Li.toFile=Xoe;Li.Interactions=Gk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lle(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function Ale(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function cle(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function ule(t,e){const r={},n=E(t,["sdkHttpResponse"]);return n!=null&&T(r,["sdkHttpResponse"],n),r}function fle(t,e,r){const n={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=E(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&T(e,["displayName"],i),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=E(t,["epochCount"]);e!==void 0&&s!=null&&T(e,["tuningTask","hyperparameters","epochCount"],s);const o=E(t,["learningRateMultiplier"]);if(o!=null&&T(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(E(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(E(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=E(t,["batchSize"]);e!==void 0&&c!=null&&T(e,["tuningTask","hyperparameters","batchSize"],c);const d=E(t,["learningRate"]);if(e!==void 0&&d!=null&&T(e,["tuningTask","hyperparameters","learningRate"],d),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(E(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(E(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(E(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(E(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(E(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return n}function dle(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const K=E(t,["validationDataset"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec"],M2(K))}else if(i==="PREFERENCE_TUNING"){const K=E(t,["validationDataset"]);e!==void 0&&K!=null&&T(e,["preferenceOptimizationSpec"],M2(K))}else if(i==="DISTILLATION"){const K=E(t,["validationDataset"]);e!==void 0&&K!=null&&T(e,["distillationSpec"],M2(K))}const s=E(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&T(e,["tunedModelDisplayName"],s);const o=E(t,["description"]);e!==void 0&&o!=null&&T(e,["description"],o);let c=E(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const K=E(t,["epochCount"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","hyperParameters","epochCount"],K)}else if(c==="PREFERENCE_TUNING"){const K=E(t,["epochCount"]);e!==void 0&&K!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],K)}else if(c==="DISTILLATION"){const K=E(t,["epochCount"]);e!==void 0&&K!=null&&T(e,["distillationSpec","hyperParameters","epochCount"],K)}let d=E(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const K=E(t,["learningRateMultiplier"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],K)}else if(d==="PREFERENCE_TUNING"){const K=E(t,["learningRateMultiplier"]);e!==void 0&&K!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],K)}else if(d==="DISTILLATION"){const K=E(t,["learningRateMultiplier"]);e!==void 0&&K!=null&&T(e,["distillationSpec","hyperParameters","learningRateMultiplier"],K)}let h=E(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const K=E(t,["exportLastCheckpointOnly"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","exportLastCheckpointOnly"],K)}else if(h==="PREFERENCE_TUNING"){const K=E(t,["exportLastCheckpointOnly"]);e!==void 0&&K!=null&&T(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],K)}else if(h==="DISTILLATION"){const K=E(t,["exportLastCheckpointOnly"]);e!==void 0&&K!=null&&T(e,["distillationSpec","exportLastCheckpointOnly"],K)}let m=E(r,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const K=E(t,["adapterSize"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","hyperParameters","adapterSize"],K)}else if(m==="PREFERENCE_TUNING"){const K=E(t,["adapterSize"]);e!==void 0&&K!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],K)}else if(m==="DISTILLATION"){const K=E(t,["adapterSize"]);e!==void 0&&K!=null&&T(e,["distillationSpec","hyperParameters","adapterSize"],K)}let C=E(r,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const K=E(t,["tuningMode"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","tuningMode"],K)}const b=E(t,["customBaseModel"]);e!==void 0&&b!=null&&T(e,["customBaseModel"],b);let S=E(r,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const K=E(t,["batchSize"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","hyperParameters","batchSize"],K)}let R=E(r,["config","method"]);if(R===void 0&&(R="SUPERVISED_FINE_TUNING"),R==="SUPERVISED_FINE_TUNING"){const K=E(t,["learningRate"]);e!==void 0&&K!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRate"],K)}const k=E(t,["labels"]);e!==void 0&&k!=null&&T(e,["labels"],k);const U=E(t,["beta"]);e!==void 0&&U!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","beta"],U);const V=E(t,["baseTeacherModel"]);e!==void 0&&V!=null&&T(e,["distillationSpec","baseTeacherModel"],V);const G=E(t,["tunedTeacherModelSource"]);e!==void 0&&G!=null&&T(e,["distillationSpec","tunedTeacherModelSource"],G);const Q=E(t,["sftLossWeightMultiplier"]);e!==void 0&&Q!=null&&T(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Q);const J=E(t,["outputUri"]);e!==void 0&&J!=null&&T(e,["outputUri"],J);const Z=E(t,["encryptionSpec"]);return e!==void 0&&Z!=null&&T(e,["encryptionSpec"],Z),n}function hle(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&T(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&_le(s);const o=E(t,["config"]);return o!=null&&fle(o,r),r}function gle(t,e){const r={},n=E(t,["baseModel"]);n!=null&&T(r,["baseModel"],n);const i=E(t,["preTunedModel"]);i!=null&&T(r,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&Tle(s,r,e);const o=E(t,["config"]);return o!=null&&dle(o,r,e),r}function ple(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function mle(t,e){const r={},n=E(t,["name"]);return n!=null&&T(r,["_url","name"],n),r}function xle(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const o=E(t,["filter"]);return e!==void 0&&o!=null&&T(e,["_query","filter"],o),n}function wle(t,e,r){const n={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const o=E(t,["filter"]);return e!==void 0&&o!=null&&T(e,["_query","filter"],o),n}function vle(t,e){const r={},n=E(t,["config"]);return n!=null&&xle(n,r),r}function yle(t,e){const r={},n=E(t,["config"]);return n!=null&&wle(n,r),r}function Cle(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Wk(c))),T(r,["tuningJobs"],o)}return r}function Ele(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["nextPageToken"]);i!=null&&T(r,["nextPageToken"],i);const s=E(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>iv(c))),T(r,["tuningJobs"],o)}return r}function ble(t,e){const r={},n=E(t,["name"]);n!=null&&T(r,["model"],n);const i=E(t,["name"]);return i!=null&&T(r,["endpoint"],i),r}function _le(t,e){const r={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=E(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),T(r,["examples","examples"],i)}return r}function Tle(t,e,r){const n={};let i=E(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=E(t,["gcsUri"]);e!==void 0&&o!=null&&T(e,["distillationSpec","promptDatasetUri"],o)}let s=E(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=E(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&T(e,["distillationSpec","promptDatasetUri"],o)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Wk(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["state"]);s!=null&&T(r,["state"],Ak(s));const o=E(t,["createTime"]);o!=null&&T(r,["createTime"],o);const c=E(t,["tuningTask","startTime"]);c!=null&&T(r,["startTime"],c);const d=E(t,["tuningTask","completeTime"]);d!=null&&T(r,["endTime"],d);const h=E(t,["updateTime"]);h!=null&&T(r,["updateTime"],h);const m=E(t,["description"]);m!=null&&T(r,["description"],m);const C=E(t,["baseModel"]);C!=null&&T(r,["baseModel"],C);const b=E(t,["_self"]);return b!=null&&T(r,["tunedModel"],ble(b)),r}function iv(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["state"]);s!=null&&T(r,["state"],Ak(s));const o=E(t,["createTime"]);o!=null&&T(r,["createTime"],o);const c=E(t,["startTime"]);c!=null&&T(r,["startTime"],c);const d=E(t,["endTime"]);d!=null&&T(r,["endTime"],d);const h=E(t,["updateTime"]);h!=null&&T(r,["updateTime"],h);const m=E(t,["error"]);m!=null&&T(r,["error"],m);const C=E(t,["description"]);C!=null&&T(r,["description"],C);const b=E(t,["baseModel"]);b!=null&&T(r,["baseModel"],b);const S=E(t,["tunedModel"]);S!=null&&T(r,["tunedModel"],S);const R=E(t,["preTunedModel"]);R!=null&&T(r,["preTunedModel"],R);const k=E(t,["supervisedTuningSpec"]);k!=null&&T(r,["supervisedTuningSpec"],k);const U=E(t,["preferenceOptimizationSpec"]);U!=null&&T(r,["preferenceOptimizationSpec"],U);const V=E(t,["distillationSpec"]);V!=null&&T(r,["distillationSpec"],V);const G=E(t,["tuningDataStats"]);G!=null&&T(r,["tuningDataStats"],G);const Q=E(t,["encryptionSpec"]);Q!=null&&T(r,["encryptionSpec"],Q);const J=E(t,["partnerModelTuningSpec"]);J!=null&&T(r,["partnerModelTuningSpec"],J);const Z=E(t,["customBaseModel"]);Z!=null&&T(r,["customBaseModel"],Z);const K=E(t,["experiment"]);K!=null&&T(r,["experiment"],K);const M=E(t,["labels"]);M!=null&&T(r,["labels"],M);const P=E(t,["outputUri"]);P!=null&&T(r,["outputUri"],P);const O=E(t,["pipelineJob"]);O!=null&&T(r,["pipelineJob"],O);const re=E(t,["serviceAccount"]);re!=null&&T(r,["serviceAccount"],re);const te=E(t,["tunedModelDisplayName"]);te!=null&&T(r,["tunedModelDisplayName"],te);const q=E(t,["veoTuningSpec"]);return q!=null&&T(r,["veoTuningSpec"],q),r}function Ble(t,e){const r={},n=E(t,["sdkHttpResponse"]);n!=null&&T(r,["sdkHttpResponse"],n);const i=E(t,["name"]);i!=null&&T(r,["name"],i);const s=E(t,["metadata"]);s!=null&&T(r,["metadata"],s);const o=E(t,["done"]);o!=null&&T(r,["done"],o);const c=E(t,["error"]);return c!=null&&T(r,["error"],c),r}function M2(t,e){const r={},n=E(t,["gcsUri"]);n!=null&&T(r,["validationDatasetUri"],n);const i=E(t,["vertexDatasetResource"]);return i!=null&&T(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ile extends Rl{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new jc(Sl.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},r),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Kw.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=mle(e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>iv(m))}else{const h=ple(e);return c=Ot("{name}",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>Wk(m))}}async listInternal(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=yle(e);return c=Ot("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Ele(m),b=new ZI;return Object.assign(b,C),b})}else{const h=vle(e);return c=Ot("tunedModels",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=Cle(m),b=new ZI;return Object.assign(b,C),b})}}async cancel(e){var r,n,i,s;let o,c="",d={};if(this.apiClient.isVertexAI()){const h=Ale(e);return c=Ot("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=ule(m),b=new $I;return Object.assign(b,C),b})}else{const h=lle(e);return c=Ot("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:m.headers},b})),o.then(m=>{const C=cle(m),b=new $I;return Object.assign(b,C),b})}}async tuneInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=gle(e,e);return s=Ot("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>iv(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hle(e);return s=Ot("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>Ble(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sle{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Nle=1024*1024*8,Fle=3,Rle=1e3,kle=2,ep="x-goog-upload-status";async function Dle(t,e,r){var n;const i=await qk(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[ep])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Ule(t,e,r){var n;const i=await qk(t,e,r),s=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[ep])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=nk(s),c=new Vy;return Object.assign(c,o),c}async function qk(t,e,r){var n,i;let s=0,o=0,c=new Ww(new Response),d="upload";for(s=t.size;o<s;){const h=Math.min(Nle,s-o),m=t.slice(o,o+h);o+h>=s&&(d+=", finalize");let C=0,b=Rle;for(;C<Fle&&(c=await r.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(o),"Content-Length":String(h)}}}),!(!((n=c==null?void 0:c.headers)===null||n===void 0)&&n[ep]));)C++,await Ole(b),b=b*kle;if(o+=h,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[ep])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function Mle(t){return{size:t.size,type:t.type}}function Ole(t){return new Promise(e=>setTimeout(e,t))}class Lle{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Dle(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ule(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Mle(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ple{create(e,r,n){return new Qle(e,r,n)}}class Qle{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TS="x-goog-api-key";class Hle{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(TS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(TS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vle="gl-node/";class jle{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const r=this.httpOptions;r!=null&&r.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Li({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:r==null?void 0:r.timeout,maxRetries:(e=r==null?void 0:r.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=n.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=Fte(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Hle(this.apiKey);this.apiClient=new Mae({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Vle+"web",uploader:new Lle,downloader:new Sle}),this.models=new toe(this.apiClient),this.live=new Xae(this.apiClient,i,new Ple),this.batches=new one(this.apiClient),this.chats=new Vne(this.models,this.apiClient),this.caches=new Pne(this.apiClient),this.files=new eie(this.apiClient),this.operations=new roe(this.apiClient),this.authTokens=new xoe(this.apiClient),this.tunings=new Ile(this.apiClient),this.fileSearchStores=new Toe(this.apiClient)}}const Yy=new jle({apiKey:"PLACEHOLDER_API_KEY"}),Gle=({currentUser:t,onNavigateToHome:e,quotes:r,onAddQuote:n,onUpdateQuote:i,onDeleteQuote:s,settings:o,products:c})=>{const[d,h]=ye.useState(!1),[m,C]=ye.useState(""),[b,S]=ye.useState(null),[R,k]=ye.useState(null),[U,V]=ye.useState(""),[G,Q]=ye.useState(""),[J,Z]=ye.useState([]),[K,M]=ye.useState(""),[P,O]=ye.useState(!1),[re,te]=ye.useState(!1),[q,X]=ye.useState(null),[Re,xe]=ye.useState([]),[me,Ce]=ye.useState([]),[We,be]=ye.useState(null),Ye=ye.useRef(null),ie=ye.useRef(null),W=ye.useRef(null),oe=ye.useRef(null),ae=ye.useRef(null),[ue,Ee]=ye.useState(!1),[qe,Ne]=ye.useState(""),[Me,Ze]=ye.useState(""),[Tt,le]=ye.useState(""),[tt,yt]=ye.useState(!1),kt=ye.useRef(null);ye.useEffect(()=>()=>{ie.current&&ie.current.getTracks().forEach(ut=>ut.stop())},[]),ye.useEffect(()=>(q&&oe.current&&(W.current&&W.current.destroy(),W.current=new Cropper(oe.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1})),()=>{W.current&&(W.current.destroy(),W.current=null)}),[q]);const ct=async()=>{te(!0);try{const ut=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280}},audio:!1});ie.current=ut,Ye.current&&(Ye.current.srcObject=ut,Ye.current.play())}catch{te(!1),alert("  ")}},at=()=>{ie.current&&ie.current.getTracks().forEach(ut=>ut.stop()),te(!1)},Nt=()=>{var ut;if(Ye.current){const Bt=document.createElement("canvas");Bt.width=Ye.current.videoWidth,Bt.height=Ye.current.videoHeight,(ut=Bt.getContext("2d"))==null||ut.drawImage(Ye.current,0,0),X(Bt.toDataURL("image/jpeg",.9)),at()}},Rt=ut=>{const Bt=ut.target.files;if(Bt&&Bt.length>0){const Yt=[];Array.from(Bt).forEach(Br=>{Yt.push(new Promise(Gt=>{const Be=new FileReader;Be.onloadend=()=>Gt(Be.result),Be.readAsDataURL(Br)}))}),Promise.all(Yt).then(Br=>{X(Br[0]),Ce(Br.slice(1))})}ut.target.value=""},fr=()=>{if(W.current){const Bt=W.current.getCroppedCanvas({maxWidth:1024}).toDataURL("image/jpeg",.8);xe(Yt=>[...Yt,Bt]),me.length>0?(X(me[0]),Ce(Yt=>Yt.slice(1))):(X(null),h(!0))}},bt=async()=>{if(Re.length!==0){O(!0);try{const ut=Re.map(Be=>({inlineData:{mimeType:"image/jpeg",data:Be.split(",")[1]}})),Yt=await Yy.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[...ut,{text:'Analyze these images of hand-written hardware store lists. Extract product names, prices, and quantities. Return ONLY a JSON array of objects with keys: "productName", "price", "count".'}]},config:{responseMimeType:"application/json",responseSchema:{type:gs.ARRAY,items:{type:gs.OBJECT,properties:{productName:{type:gs.STRING},price:{type:gs.NUMBER},count:{type:gs.NUMBER}},required:["productName","price","count"]}}}}),Gt=JSON.parse(Yt.text||"[]").map(Be=>({id:`ai-${Date.now()}-${Math.random()}`,productName:Be.productName,price:Be.price||0,count:Be.count||1,total:(Be.price||0)*(Be.count||1),isManual:!0}));Z(Be=>[...Be,...Gt]),navigator.vibrate&&navigator.vibrate([100,50,100])}catch(ut){console.error(ut),alert("    API Key  GitHub Secrets.")}finally{O(!1)}}},nn=(ut,Bt)=>{Z(Yt=>Yt.map(Br=>{if(Br.id===ut){const Gt={...Br,...Bt};return{...Gt,total:Gt.price*Gt.count}}return Br}))},Yr=ye.useMemo(()=>r.filter(ut=>ut.customerName.toLowerCase().includes(m.toLowerCase())),[r,m]),Qe=ye.useMemo(()=>J.length>0?J.reduce((ut,Bt)=>ut+Bt.total,0):parseFloat(K)||0,[J,K]),Ue=()=>{V(""),Q(""),Z([]),xe([]),M(""),k(null)},ot=()=>{var Bt;if(!U)return;const ut={id:R||`QT-${Date.now()}`,customerName:U,customerPhone:G,amount:Qe,date:new Date().toISOString().split("T")[0],createdAt:R&&((Bt=r.find(Yt=>Yt.id===R))==null?void 0:Bt.createdAt)||Date.now(),items:J,image:Re.length>0?Re[0]:void 0,images:Re,creatorName:t.name};R?i(ut):n(ut),h(!1),Ue()},Dt=ut=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(ut),Zt=async()=>{if(!(!b||!kt.current)){yt(!0);try{(await RA(kt.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,width:600})).toBlob(async Bt=>{if(!Bt){yt(!1);return}try{const Yt=new ClipboardItem({"image/png":Bt});await navigator.clipboard.write([Yt]),window.open("https://wa.me/","_blank")}catch{window.open("https://wa.me/","_blank")}finally{yt(!1)}},"image/png",1)}catch{yt(!1)}}};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative font-['Tajawal']",children:[f.jsx("input",{type:"file",ref:ae,accept:"image/*",multiple:!0,className:"hidden",onChange:Rt}),f.jsxs("div",{ref:kt,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",direction:"rtl",zIndex:-1},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"3px solid #f59e0b",paddingBottom:"20px",marginBottom:"30px"},children:[f.jsxs("div",{children:[o.businessLogo&&f.jsx("img",{src:o.businessLogo,alt:"Logo",style:{maxWidth:"80px",marginBottom:"10px"}}),f.jsx("h3",{style:{fontSize:"24px",fontWeight:"900",color:"#f59e0b",margin:0},children:o.businessName}),f.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"5px 0 0 0"},children:o.userName})]}),f.jsxs("div",{style:{textAlign:"left"},children:[f.jsx("h1",{style:{fontSize:"32px",fontWeight:"900",margin:0},children:" "}),f.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:[": ",f.jsx("span",{style:{fontWeight:"bold",color:"#000"},children:b==null?void 0:b.id})]}),f.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:[": ",f.jsx("span",{style:{fontWeight:"bold",color:"#000"},children:b==null?void 0:b.date})]})]})]}),f.jsxs("div",{style:{backgroundColor:"#fffbeb",border:"1px solid #fef3c7",padding:"20px",borderRadius:"15px",marginBottom:"30px"},children:[f.jsx("div",{style:{fontSize:"12px",color:"#92400e",fontWeight:"bold"},children:"  ():"}),f.jsx("div",{style:{fontSize:"20px",fontWeight:"900",marginTop:"5px"},children:b==null?void 0:b.customerName})]}),b!=null&&b.items&&b.items.length>0?f.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[f.jsx("thead",{children:f.jsxs("tr",{style:{borderBottom:"2px solid #000"},children:[f.jsx("th",{style:{textAlign:"right",padding:"15px",fontSize:"16px"},children:""}),f.jsx("th",{style:{textAlign:"center",padding:"15px",fontSize:"16px"},children:""}),f.jsx("th",{style:{textAlign:"center",padding:"15px",fontSize:"16px"},children:""}),f.jsx("th",{style:{textAlign:"left",padding:"15px",fontSize:"16px"},children:""})]})}),f.jsx("tbody",{children:b.items.map((ut,Bt)=>f.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[f.jsx("td",{style:{padding:"15px",fontSize:"15px",fontWeight:"bold"},children:ut.productName}),f.jsx("td",{style:{padding:"15px",textAlign:"center",fontSize:"15px"},children:ut.count}),f.jsx("td",{style:{padding:"15px",textAlign:"center",fontSize:"15px"},children:Dt(ut.price)}),f.jsx("td",{style:{padding:"15px",textAlign:"left",fontWeight:"900",fontSize:"15px"},children:Dt(ut.total)})]},Bt))})]}):f.jsx("div",{style:{textAlign:"center",padding:"40px",border:"2px dashed #ddd",borderRadius:"20px",marginBottom:"30px",color:"#999"},children:"  "}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#333",color:"white",padding:"25px",borderRadius:"15px"},children:[f.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),f.jsxs("span",{style:{fontSize:"28px",fontWeight:"900"},children:[b==null?void 0:b.amount.toFixed(2)," ."]})]}),f.jsxs("div",{style:{textAlign:"center",marginTop:"40px",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"20px"},children:[f.jsx("p",{style:{fontWeight:"bold",color:"#000"},children:"     7   "}),f.jsx("p",{children:o.signatureName})]})]}),f.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 border-b border-gray-800",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),f.jsx("span",{className:"text-[10px] text-amber-500 font-bold",children:"  "})]}),f.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-amber-500 outline-none transition-all text-right placeholder:text-gray-600 font-bold",value:m,onChange:ut=>C(ut.target.value)}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-4 space-y-3 pb-36",children:Yr.length>0?Yr.map(ut=>f.jsxs("div",{onClick:()=>S(ut),className:"bg-[#111111] border border-gray-800/40 p-5 rounded-[2rem] flex justify-between items-center active:scale-[0.98] cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-500 overflow-hidden",children:ut.image?f.jsx("img",{src:ut.image,className:"w-full h-full object-cover"}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6"})]})}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-sm font-black text-white",children:ut.customerName}),f.jsxs("p",{className:"text-[10px] text-gray-500",children:[ut.date," - ",ut.items.length||""," "]})]})]}),f.jsx("div",{className:"text-left",children:f.jsxs("span",{className:"text-sm font-black text-amber-500",children:[Dt(ut.amount)," ."]})})]},ut.id)):f.jsx("div",{className:"text-center py-20 text-gray-600 font-bold",children:"   "})}),f.jsxs("div",{className:"fixed bottom-6 left-6 right-6 z-30 flex gap-4",children:[f.jsxs("button",{onClick:()=>{var ut;return(ut=ae.current)==null?void 0:ut.click()},className:"flex-1 bg-amber-600 hover:bg-amber-500 text-white py-4 rounded-3xl font-black shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 border-4 border-[#0c0c0c]",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("span",{children:" "})]}),f.jsxs("button",{onClick:()=>{Ue(),h(!0)},className:"flex-1 bg-[#1a1a1a] text-gray-200 py-4 rounded-3xl font-black shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3 border border-gray-700",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("span",{children:" "})]})]}),b&&f.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50",children:[f.jsx("button",{onClick:()=>S(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 active:scale-90 transition-all",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsx("h2",{className:"text-xl font-bold",children:" "}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{k(b.id),V(b.customerName),Q(b.customerPhone||""),Z(b.items),xe(b.images||[]),M(b.amount.toString()),S(null),h(!0)},className:"p-3 bg-amber-500/10 rounded-2xl border border-amber-500/20 text-amber-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("button",{onClick:()=>{window.confirm("")&&(s(b.id),S(null))},className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})})})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6",children:[f.jsx("div",{className:"text-center",children:f.jsx("h3",{className:"text-2xl font-black",children:b.customerName})}),f.jsxs("div",{className:"bg-[#1a1a1a] p-5 rounded-2xl border border-gray-800 text-center",children:[f.jsx("p",{className:"text-xs text-gray-400",children:" "}),f.jsxs("h3",{className:"text-3xl font-black text-white",children:[Dt(b.amount)," ."]})]})]}),f.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 flex gap-3",children:[f.jsx("button",{onClick:Zt,disabled:tt,className:"flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 flex items-center justify-center gap-2",children:tt?" ...":"  "}),f.jsx("button",{onClick:()=>S(null),className:"px-8 bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]}),d&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh] relative",children:[P&&f.jsxs("div",{className:"absolute inset-0 z-50 bg-black/80 flex flex-col items-center justify-center rounded-[2.5rem] p-6 text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-amber-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("h3",{className:"text-xl font-black text-white",children:"  ..."})]}),f.jsx("h2",{className:"text-xl font-black text-center",children:R?" ":" "}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"flex-1 flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[Re.map((ut,Bt)=>f.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0 bg-black rounded-xl overflow-hidden border border-gray-800",children:[f.jsx("img",{src:ut,className:"w-full h-full object-cover"}),f.jsx("button",{onClick:()=>xe(Yt=>Yt.filter((Br,Gt)=>Gt!==Bt)),className:"absolute top-1 right-1 bg-red-600 rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-black",children:""})]},Bt)),f.jsxs("button",{onClick:()=>ct(),className:"w-24 h-24 flex-shrink-0 bg-gray-800 rounded-xl border border-dashed border-gray-600 flex flex-col items-center justify-center gap-1 text-gray-400 active:scale-95 transition-transform",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),f.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),f.jsx("span",{className:"text-[8px] font-bold",children:" "})]})]}),Re.length>0&&f.jsxs("button",{onClick:bt,disabled:P,className:"w-14 h-24 bg-amber-500/20 border border-amber-500/40 rounded-xl flex flex-col items-center justify-center gap-2 text-amber-500 active:scale-95 transition-all",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"}),f.jsx("path",{d:"M12 7v5l3 3"})]}),f.jsx("span",{className:"text-[8px] font-black",children:" AI"})]})]}),f.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-white text-right font-bold",value:U,onChange:ut=>V(ut.target.value)}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-white text-right text-sm",value:G,onChange:ut=>Q(ut.target.value)}),f.jsx("input",{type:"number",placeholder:" ()",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-4 text-amber-500 text-center font-black",value:K,onChange:ut=>M(ut.target.value)})]}),f.jsx("div",{className:"max-h-[220px] overflow-y-auto space-y-2 bg-black/40 p-2 rounded-2xl border border-gray-800/50",children:J.length>0?J.map(ut=>f.jsxs("div",{className:"bg-[#1a1a1a] p-3 rounded-xl border border-gray-800 flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("button",{onClick:()=>Z(Bt=>Bt.filter(Yt=>Yt.id!==ut.id)),className:"text-red-500/50 hover:text-red-500 p-1",children:""}),f.jsx("input",{type:"text",className:"flex-1 bg-transparent text-right font-bold text-sm text-white outline-none",value:ut.productName,onChange:Bt=>nn(ut.id,{productName:Bt.target.value})})]}),f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsxs("div",{className:"flex-1 flex items-center bg-black/50 rounded-lg border border-gray-800 px-2 h-9",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold ml-2",children:":"}),f.jsx("input",{type:"number",className:"w-full bg-transparent text-center font-black text-xs text-amber-500 outline-none",value:ut.price||"",onChange:Bt=>nn(ut.id,{price:parseFloat(Bt.target.value)||0})})]}),f.jsxs("div",{className:"w-20 flex items-center bg-black/50 rounded-lg border border-gray-800 px-2 h-9",children:[f.jsx("span",{className:"text-[9px] text-gray-500 font-bold ml-2",children:":"}),f.jsx("input",{type:"number",className:"w-full bg-transparent text-center font-black text-xs text-white outline-none",value:ut.count||"",onChange:Bt=>nn(ut.id,{count:parseFloat(Bt.target.value)||0})})]})]})]},ut.id)):f.jsx("div",{className:"py-8 text-center text-gray-600 italic text-xs",children:"    "})}),f.jsxs("button",{onClick:()=>Ee(!0),className:"w-full bg-blue-500/10 text-blue-500 border border-blue-500/20 py-3 rounded-xl text-xs font-black active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"  "]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[f.jsx("button",{onClick:ot,disabled:!U||J.length===0&&Re.length===0,className:"w-full bg-amber-600 py-4 rounded-2xl text-white font-black shadow-lg active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>{h(!1),Ue()},className:"w-full bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold active:scale-95",children:""})]})]})}),ue&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 flex items-center justify-center p-6 animate-in fade-in",children:f.jsxs("div",{className:"w-full max-w-xs bg-[#161616] p-6 rounded-3xl space-y-4 border border-gray-800 shadow-2xl",children:[f.jsx("h3",{className:"text-center font-black",children:"  "}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"text",placeholder:" ...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-right text-sm font-bold text-white outline-none",value:qe,onChange:ut=>Ne(ut.target.value)}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("input",{type:"number",placeholder:"...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-center text-sm font-black text-amber-500 outline-none",value:Me,onChange:ut=>Ze(ut.target.value)}),f.jsx("input",{type:"number",placeholder:"...",className:"w-full bg-black border border-gray-800 p-3 rounded-xl text-center text-sm font-black text-white outline-none",value:Tt,onChange:ut=>le(ut.target.value)})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[f.jsx("button",{onClick:()=>{qe&&(Z(ut=>[...ut,{id:`m-${Date.now()}`,productName:qe,price:parseFloat(Me)||0,count:parseFloat(Tt)||0,total:(parseFloat(Me)||0)*(parseFloat(Tt)||0),isManual:!0}]),Ne(""),Ze(""),le(""),Ee(!1))},className:"w-full bg-blue-600 py-3.5 rounded-xl font-black active:scale-95 transition-all shadow-lg",children:" "}),f.jsx("button",{onClick:()=>Ee(!1),className:"w-full text-gray-500 text-sm font-bold py-2",children:""})]})]})}),re&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[f.jsx("video",{ref:Ye,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[f.jsx("button",{onClick:at,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:""}),f.jsx("button",{onClick:Nt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center active:scale-90 transition-all border-[6px] border-white/20",children:f.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})})]})]}),q&&f.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex items-center justify-center animate-in fade-in duration-300",children:[f.jsx("div",{className:"flex-1 w-full bg-[#111111] flex items-center justify-center overflow-hidden",children:f.jsx("img",{ref:oe,src:q,className:"max-w-full max-h-full object-contain"})}),f.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 w-full",children:[f.jsx("button",{onClick:fr,className:"flex-1 bg-amber-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),f.jsx("button",{onClick:()=>X(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})]})},Kle=({onNavigateToHome:t})=>{const[e,r]=ye.useState(""),[n,i]=ye.useState(null),[s,o]=ye.useState(!1),[c,d]=ye.useState(!1),h=ye.useRef(null);ye.useEffect(()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;S&&(h.current=new S,h.current.continuous=!1,h.current.lang="ar-MA",h.current.interimResults=!1,h.current.onresult=R=>{const k=R.results[0][0].transcript;r(k),C(k)},h.current.onend=()=>d(!1),h.current.onerror=()=>d(!1))},[]);const m=()=>{var S,R;c?(S=h.current)==null||S.stop():(i(null),(R=h.current)==null||R.start(),d(!0),navigator.vibrate&&navigator.vibrate(50))},C=async(S=e)=>{if(S.trim()){o(!0);try{const R=!isNaN(Number(S.trim())),k=`You are a specialist translator for a hardware store (Droguerie) and a number-to-words converter.
      Task:
      1. If the input is a number: Translate the number [${S}] to Arabic words and French words.
      2. If the input is text: Translate the technical term (even in Moroccan Darija like "Robinet", "Sarout") to formal Arabic and technical French.
      Always return JSON with two fields: "ar" and "fr".`,U=await Yy.models.generateContent({model:"gemini-3-flash-preview",contents:S,config:{systemInstruction:k,responseMimeType:"application/json",responseSchema:{type:gs.OBJECT,properties:{ar:{type:gs.STRING,description:"   "},fr:{type:gs.STRING,description:"   "}},required:["ar","fr"]}}}),V=JSON.parse(U.text||'{"ar":"", "fr":"Error"}');i(V)}catch(R){console.error("Translation Error:",R),alert("    API    GitHub")}finally{o(!1)}}},b=S=>{navigator.clipboard.writeText(S),navigator.vibrate&&navigator.vibrate(30)};return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] sticky top-0 z-30",children:[f.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 active:scale-90 transition-all shadow-lg",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-black",children:"  "}),f.jsx("span",{className:"text-[9px] text-[#57b385] font-bold uppercase tracking-widest",children:"Droguerie Smart Translator"})]}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto pb-32 custom-scrollbar",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),"  (  )"]}),f.jsxs("div",{className:"relative group",children:[f.jsx("textarea",{placeholder:"  (: 1500)   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-[2rem] p-6 pr-6 pl-14 text-white focus:border-indigo-500 outline-none transition-all text-right font-bold text-lg min-h-[120px] resize-none shadow-inner",value:e,onChange:S=>r(S.target.value)}),f.jsx("button",{onClick:m,className:`absolute left-4 top-6 w-12 h-12 rounded-2xl flex items-center justify-center transition-all active:scale-90 ${c?"bg-red-500 animate-pulse text-white":"bg-gray-800 text-gray-400 border border-gray-700"}`,children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),f.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),f.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})})]}),f.jsx("button",{onClick:()=>C(),disabled:!e.trim()||s,className:`w-full py-5 rounded-[1.8rem] font-black text-lg shadow-xl transition-all active:scale-95 flex items-center justify-center gap-3 ${!e.trim()||s?"bg-gray-800 text-gray-600":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:s?" ...":""})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:`bg-[#111111] border rounded-[2rem] p-6 relative ${n?"border-[#57b385]/40 shadow-lg":"border-gray-800 opacity-50"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] bg-[#57b385]/10 text-[#57b385] px-3 py-1 rounded-full font-black",children:" (AR)"}),n&&f.jsx("button",{onClick:()=>b(n.ar),className:"p-2 bg-black/40 rounded-xl text-gray-500 border border-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]}),f.jsx("div",{className:"min-h-[60px] text-xl font-black text-right text-white leading-relaxed",children:n?n.ar:"..."})]}),f.jsxs("div",{className:`bg-[#111111] border rounded-[2rem] p-6 relative ${n?"border-blue-500/40 shadow-lg":"border-gray-800 opacity-50"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("span",{className:"text-[10px] bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full font-black",children:" (FR)"}),n&&f.jsx("button",{onClick:()=>b(n.fr),className:"p-2 bg-black/40 rounded-xl text-gray-500 border border-gray-800",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),f.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]}),f.jsx("div",{className:"min-h-[60px] text-xl font-black text-left text-white leading-relaxed font-sans",children:n?n.fr:"..."})]})]})]})]})},zle=({currentUser:t,onNavigateToSettings:e,trashItems:r,onRestore:n,onPermanentDelete:i,onEmptyTrash:s,nextCleanupDate:o})=>{var Q,J;const[c,d]=ye.useState("invoice"),[h,m]=ye.useState(""),[C,b]=ye.useState(!1),[S,R]=ye.useState(null),k=ye.useMemo(()=>t.role==="admin"||t.permissions.isManager,[t]),U=ye.useMemo(()=>{let Z=k?r:r.filter(P=>P.deletedBy===t.name),K=[];switch(c){case"invoice":K=Z.filter(P=>P.type==="invoice");break;case"debt":K=Z.filter(P=>P.type==="supplier-invoice");break;case"check":K=Z.filter(P=>P.type==="check");break;case"order":K=Z.filter(P=>P.type==="special-order"||P.type==="client-request");break;case"customer":K=Z.filter(P=>P.type==="customer"||P.type==="general-payment");break;case"product":K=Z.filter(P=>P.type==="product");break;default:K=[]}if(!h.trim())return K;const M=h.toLowerCase();return K.filter(P=>{var re,te,q,X,Re,xe,me,Ce,We,be,Ye;if(P.deletedBy.toLowerCase().includes(M))return!0;const O=P.data;return P.type==="invoice"?((re=O.name)==null?void 0:re.toLowerCase().includes(M))||((te=O.id)==null?void 0:te.toLowerCase().includes(M)):P.type==="supplier-invoice"?(q=O.supplierName)==null?void 0:q.toLowerCase().includes(M):P.type==="product"?((X=O.name)==null?void 0:X.toLowerCase().includes(M))||((Re=O.code)==null?void 0:Re.toLowerCase().includes(M)):P.type==="check"?((xe=O.name)==null?void 0:xe.toLowerCase().includes(M))||((me=O.serialNumber)==null?void 0:me.toLowerCase().includes(M)):P.type==="customer"?(Ce=O.name)==null?void 0:Ce.toLowerCase().includes(M):P.type==="general-payment"?(We=O.customerName)==null?void 0:We.toLowerCase().includes(M):P.type==="client-request"?(be=O.productName)==null?void 0:be.toLowerCase().includes(M):P.type==="special-order"?(Ye=O.items)==null?void 0:Ye.some(ie=>ie.name.toLowerCase().includes(M)):!1})},[r,c,h,t.name,k]),V=Z=>{const K=Date.now()-Z,M=Math.floor(K/6e4);if(M<1)return"";if(M<60)return` ${M} `;const P=Math.floor(M/60);return P<24?` ${P} `:new Date(Z).toLocaleDateString("ar-MA")},G=Z=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Z);return f.jsxs("div",{className:"w-full min-h-screen bg-[#0c0c0c] text-white flex flex-col overflow-hidden font-['Tajawal']",children:[f.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] z-20",children:[f.jsx("button",{onClick:e,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"m15 18-6-6 6-6"})})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h1",{className:"text-xl font-black",children:" "}),f.jsx("span",{className:"text-[10px] text-red-500 font-bold uppercase tracking-widest",children:k?"   ":"  "})]}),k?f.jsx("button",{onClick:()=>b(!0),disabled:r.length===0,className:`p-3 rounded-2xl border transition-all active:scale-90 ${r.length===0?"bg-gray-800/20 text-gray-700 border-gray-800/50":"bg-red-500/10 border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white"}`,title:"  ",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}):f.jsx("div",{className:"w-10"})]}),o&&f.jsxs("div",{className:"bg-red-500/5 border-b border-red-500/10 px-6 py-2 flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.jsxs("span",{className:"text-[9px] font-bold text-gray-400",children:["    : ",f.jsx("span",{className:"text-red-400 font-black",children:new Date(o).toLocaleDateString("ar-MA")})]})]}),f.jsxs("div",{className:"px-4 py-4 flex gap-2 overflow-x-auto no-scrollbar bg-black/20 border-b border-gray-800/20",children:[f.jsx(Iu,{active:c==="invoice",label:"",count:U.filter(Z=>Z.type==="invoice").length,onClick:()=>d("invoice")}),f.jsx(Iu,{active:c==="debt",label:"",count:U.filter(Z=>Z.type==="supplier-invoice").length,onClick:()=>d("debt")}),f.jsx(Iu,{active:c==="check",label:"",count:U.filter(Z=>Z.type==="check").length,onClick:()=>d("check")}),f.jsx(Iu,{active:c==="order",label:"",count:U.filter(Z=>Z.type==="special-order"||Z.type==="client-request").length,onClick:()=>d("order")}),f.jsx(Iu,{active:c==="customer",label:"",count:U.filter(Z=>Z.type==="customer"||Z.type==="general-payment").length,onClick:()=>d("customer")}),f.jsx(Iu,{active:c==="product",label:"",count:U.filter(Z=>Z.type==="product").length,onClick:()=>d("product")})]}),f.jsx("div",{className:"px-6 py-4",children:f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"text",placeholder:k?"     ...":"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-12 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm shadow-inner",value:h,onChange:Z=>m(Z.target.value)}),f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-red-500 transition-colors",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})}),h&&f.jsx("button",{onClick:()=>m(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]})})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar",children:U.length>0?U.map(Z=>f.jsxs("div",{onClick:()=>R(Z),className:"bg-[#111111] border border-gray-800/40 p-5 rounded-[2rem] flex items-center justify-between group animate-in slide-in-from-bottom-2 duration-300 cursor-pointer active:scale-[0.98] hover:border-gray-700 shadow-lg",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-black/40 rounded-2xl flex items-center justify-center text-gray-500 shadow-inner",children:[Z.type==="invoice"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Z.type==="supplier-invoice"&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"})}),Z.type==="product"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),f.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"})]}),Z.type==="check"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),f.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),Z.type==="customer"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),(Z.type==="client-request"||Z.type==="special-order")&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})}),Z.type==="general-payment"&&f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M12 2v20"}),f.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("h3",{className:"text-sm font-black text-white leading-tight",children:Z.type==="invoice"?Z.data.name:Z.type==="supplier-invoice"?Z.data.supplierName:Z.type==="product"?Z.data.name:Z.type==="client-request"?Z.data.productName:Z.type==="special-order"?" ":Z.type==="check"?`: ${Z.data.name}`:Z.type==="customer"?`: ${Z.data.name}`:`: ${Z.data.customerName}`}),f.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[": ",f.jsx("span",{className:"text-red-400 font-black",children:Z.deletedBy})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("span",{className:"text-[9px] text-gray-600 font-bold",children:V(Z.deletedAt)}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:K=>{K.stopPropagation(),n(Z)},className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center text-[#57b385] active:scale-90 transition-all border border-[#57b385]/20",title:"",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})})})]})]},Z.id)):f.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-gray-600 opacity-30 gap-3",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]}),f.jsx("p",{className:"font-black text-lg",children:h?"   ":"  "})]})}),S&&f.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[f.jsxs("div",{className:"text-center space-y-3",children:[f.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl mx-auto flex items-center justify-center text-red-500 border border-red-500/20 shadow-xl",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})}),f.jsx("h2",{className:"text-xl font-black text-white",children:" "}),f.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 text-sm shadow-inner text-right",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-gray-500",children:"  :"}),f.jsx("span",{className:"text-red-400 font-black",children:S.deletedBy})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-500",children:" :"}),f.jsx("span",{className:"text-gray-300 font-bold",children:new Date(S.deletedAt).toLocaleString("ar-MA")})]})]})]}),f.jsxs("div",{className:"bg-black/40 rounded-2xl p-5 border border-gray-800 space-y-4 shadow-inner text-right",children:[S.type==="product"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsx("span",{className:"font-bold",children:S.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsxs("span",{className:"font-bold text-[#57b385]",children:[G(S.data.price)," ."]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:S.data.stock})]})]}),(S.type==="invoice"||S.type==="supplier-invoice")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:S.type==="invoice"?S.data.name:S.data.supplierName})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsxs("span",{className:"font-black text-red-500",children:[G(S.data.amount)," ."]})]}),S.type==="invoice"&&f.jsxs("div",{className:"border-t border-gray-800 pt-3 mt-3",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2",children:" :"}),f.jsx("div",{className:"space-y-1",children:(Q=S.data.items)==null?void 0:Q.map((Z,K)=>f.jsxs("div",{className:"flex justify-between text-[11px] bg-black/20 p-2 rounded-lg",children:[f.jsx("span",{children:Z.productName}),f.jsxs("span",{className:"text-gray-400",children:["x",Z.count]})]},K))})]})]}),S.type==="check"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsx("span",{className:"font-bold",children:S.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:""}),f.jsxs("span",{className:"font-black text-purple-400",children:[G(S.data.amount)," ."]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsxs("span",{className:"font-mono text-gray-300",children:["#",S.data.serialNumber]})]})]}),S.type==="customer"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:" "}),f.jsx("span",{className:"font-bold",children:S.data.name})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-400 text-xs",children:"   "}),f.jsx("span",{className:"font-bold",children:S.data.invoiceCount})]})]}),S.type==="special-order"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2",children:"  :"}),(J=S.data.items)==null?void 0:J.map((Z,K)=>f.jsxs("div",{className:"flex justify-between text-sm bg-black/20 p-2 rounded-lg border border-gray-800",children:[f.jsx("span",{children:Z.name}),f.jsx("span",{className:"font-black text-rose-500",children:Z.quantity})]},K))]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("button",{onClick:()=>{n(S),R(null)},className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all flex items-center justify-center gap-2 shadow-lg shadow-green-900/20",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]})," "]}),f.jsx("button",{onClick:()=>{i(S.id),R(null)},className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-3 rounded-2xl font-bold active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>R(null),className:"w-full bg-[#1a1a1a] text-gray-500 py-3 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),C&&f.jsx("div",{className:"fixed inset-0 z-[600] bg-black/95 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-400",children:"         ."})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{s(),b(!1)},className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:"  "}),f.jsx("button",{onClick:()=>b(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},Iu=({active:t,label:e,count:r,onClick:n})=>f.jsxs("button",{onClick:n,className:`px-5 py-3 rounded-2xl border text-[11px] font-black transition-all flex items-center gap-2 active:scale-95 whitespace-nowrap ${t?"bg-white text-black border-white shadow-lg":"bg-white/5 text-gray-500 border-white/10 hover:border-white/20"}`,children:[e,f.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[9px] ${t?"bg-black text-white":"bg-black/40 text-gray-600"}`,children:r})]}),Wle=({products:t,invoices:e,currentUser:r,onAction:n,onSearchProduct:i})=>{const[s,o]=ye.useState(!1),[c,d]=ye.useState(!1),[h,m]=ye.useState(null),[C,b]=ye.useState(""),S=ye.useRef(null),R=()=>{const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(!V)return null;const G=new V;return G.continuous=!1,G.lang="ar-MA",G.interimResults=!0,G.onstart=()=>{o(!0),m(null),b(" ...")},G.onresult=Q=>{let J="";for(let Z=Q.resultIndex;Z<Q.results.length;++Z)J+=Q.results[Z][0].transcript;b(J),Q.results[0].isFinal&&U(J)},G.onend=()=>o(!1),G};ye.useEffect(()=>{S.current=R()},[]);const k=()=>{var V,G;if(s)(V=S.current)==null||V.stop();else{m(null),b("");try{(G=S.current)==null||G.start(),navigator.vibrate&&navigator.vibrate(50)}catch{o(!1)}}},U=async V=>{if(!(!V.trim()||V===" ...")){d(!0);try{const G=t.slice(0,30).map(P=>`${P.name}:${P.price}.`).join(", "),Q=`    MAMA. : ${r.name}. 
        : "${V}"
       : NAVIGATE: [products, customers, settings], SEARCH: [text], OPEN_INVOICE: [ID].
       :     .`,K=((await Yy.models.generateContent({model:"gemini-3-flash-preview",contents:V,config:{systemInstruction:Q}})).text||"").split(`
`).map(P=>P.trim()).filter(P=>P.length>0);let M="";for(const P of K)P.startsWith("NAVIGATE:")?n("NAVIGATE",P.split(":")[1].trim().toLowerCase()):P.startsWith("SEARCH:")?i(P.split(":")[1].trim()):P.startsWith("OPEN_INVOICE:")?n("OPEN_INVOICE",P.split(":")[1].trim()):M+=P+" ";m(M.trim()||"  ")}catch{m("     API Key  .")}finally{d(!1)}}};return f.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(C||h||c)&&f.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px]",children:[C&&!h&&f.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',C,'"']}),c?f.jsx("div",{className:"flex gap-1",children:f.jsx("div",{className:"w-1 h-1 bg-[#57b385] animate-bounce"})}):h&&f.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:h})]}),f.jsx("button",{onClick:k,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] ${s?"bg-red-500 animate-pulse":"bg-[#57b385]"}`,children:s?f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:f.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[f.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),f.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),f.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})})]})},qle=4320*60*60*1e3,Gg={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginEmail:"fouad1@gmail.com",loginPassword:"10203040",specialOrderLabel:" ",lastTrashCleanup:Date.now()},Xle=()=>{const[t,e]=ye.useState(null),[r,n]=ye.useState([]),[i,s]=ye.useState(""),[o,c]=ye.useState(""),[d,h]=ye.useState("retail"),[m,C]=ye.useState(!1),[b,S]=ye.useState(null),[R,k]=ye.useState(null),[U,V]=ye.useState(Gg),[G,Q]=ye.useState([]),[J,Z]=ye.useState([]),[K,M]=ye.useState([]),[P,O]=ye.useState([]),[re,te]=ye.useState([]),[q,X]=ye.useState([]),[Re,xe]=ye.useState([]),[me,Ce]=ye.useState([]),[We,be]=ye.useState([]),[Ye,ie]=ye.useState([]),[W,oe]=ye.useState([]),[ae,ue]=ye.useState(!0),[Ee,qe]=ye.useState(!1),[Ne,Me]=ye.useState("");ye.useEffect(()=>{let Ie=()=>{};const At=T9(pc,st=>{st?Ie=ha(Xt(Ut,"staff",st.uid),mt=>{var Pt;if(mt.exists()){const Wn=mt.data(),Jr=((Pt=st.email)==null?void 0:Pt.toLowerCase())===Gg.loginEmail.toLowerCase(),Pi=Jr?"approved":Wn.status;k({uid:st.uid,role:Wn.permissions.isManager||Jr?"admin":"staff",name:Wn.name,phone:Wn.phone,permissions:Wn.permissions,status:Pi}),e(Pi==="approved"?Cn=>Cn==="pending-approval"||Cn==="login"||Cn===null?"dashboard":Cn:"pending-approval"),ue(!1)}else setTimeout(async()=>{(await rL(Xt(Ut,"staff",st.uid))).exists()||(_T(pc),k(null),e("login"),ue(!1))},1500)}):(Ie&&Ie(),k(null),e(mt=>mt==="signup"?"signup":"login"),ue(!1))});return()=>{At(),Ie&&Ie()}},[]),ye.useEffect(()=>{const Ie=Xt(Ut,"settings","global"),At=ha(Ie,async st=>{if(st.exists()){const mt=st.data();V(Pt=>({...Gg,...mt})),qe(!0)}else await Sr(Ie,Gg),qe(!0)});return()=>At()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"staff"),At=>{const st=At.docs.map(mt=>({...mt.data(),id:mt.id}));Q(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"invoices"),At=>{const st=At.docs.map(mt=>({...mt.data(),items:mt.data().items||[],payments:mt.data().payments||[]}));st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),Z(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"supplier_invoices"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),M(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"client_requests"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),O(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"checks"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),te(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"special_orders"),At=>{const st=At.docs.map(mt=>{const Pt=mt.data();return!Pt.items&&Pt.productName&&(Pt.items=[{id:"legacy-1",name:Pt.productName,quantity:Pt.quantity||1}]),Pt});st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),X(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"quotes"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.createdAt-mt.createdAt),xe(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"trash"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.deletedAt-mt.deletedAt),oe(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"notifications"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.timestamp-mt.timestamp),Ce(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"general_payments"),At=>{const st=At.docs.map(mt=>mt.data());st.sort((mt,Pt)=>Pt.timestamp-mt.timestamp),be(st)});return()=>Ie()},[]),ye.useEffect(()=>{const Ie=ha(Js(Ut,"products"),At=>{const st=At.docs.map(mt=>mt.data());ie(st)});return()=>Ie()},[]);const Ze=async Ie=>{Ee&&V(At=>{const st=typeof Ie=="function"?Ie(At):Ie;return Ru(Xt(Ut,"settings","global"),JSON.parse(JSON.stringify(st))).catch(mt=>{Sr(Xt(Ut,"settings","global"),JSON.parse(JSON.stringify(st))).catch(console.error)}),st})},Tt=async Ie=>await Sr(Xt(Ut,"staff",Ie.id),JSON.parse(JSON.stringify(Ie))),le=async Ie=>await Sr(Xt(Ut,"staff",Ie.id),JSON.parse(JSON.stringify(Ie))),tt=async Ie=>{const At=G.find(st=>st.id===Ie);if(At){const st={id:`trash-staff-${Date.now()}`,type:"staff",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st)))}await pa(Xt(Ut,"staff",Ie))},yt=async Ie=>await Sr(Xt(Ut,"products",Ie.id),JSON.parse(JSON.stringify(Ie))),kt=async Ie=>await Sr(Xt(Ut,"products",Ie.id),JSON.parse(JSON.stringify(Ie))),ct=async Ie=>{const At=Ye.find(st=>st.id===Ie);if(At){const st={id:`trash-p-${Date.now()}`,type:"product",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"products",Ie))}},at=async Ie=>await Sr(Xt(Ut,"supplier_invoices",Ie.id),JSON.parse(JSON.stringify(Ie))),Nt=async Ie=>await Ru(Xt(Ut,"supplier_invoices",Ie.id),JSON.parse(JSON.stringify(Ie))),Rt=async Ie=>{const At=K.find(st=>st.id===Ie);if(At){const st={id:`trash-si-${Date.now()}`,type:"supplier-invoice",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"supplier_invoices",Ie))}},fr=async Ie=>{const At=Jx(Ut);(await Xx(Wx(Js(Ut,"supplier_invoices"),qx("supplierName","==",Ie)))).forEach(mt=>At.delete(mt.ref)),await At.commit()},bt=async Ie=>await Sr(Xt(Ut,"client_requests",Ie.id),JSON.parse(JSON.stringify(Ie))),nn=async Ie=>await Sr(Xt(Ut,"client_requests",Ie.id),JSON.parse(JSON.stringify(Ie))),Yr=async Ie=>{const At=P.find(st=>st.id===Ie);if(At){const st={id:`trash-cr-${Date.now()}`,type:"client-request",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"client_requests",Ie))}},Qe=async Ie=>await Sr(Xt(Ut,"checks",Ie.id),JSON.parse(JSON.stringify(Ie))),Ue=async Ie=>await Sr(Xt(Ut,"checks",Ie.id),JSON.parse(JSON.stringify(Ie))),ot=async Ie=>{const At=re.find(st=>st.id===Ie);if(At){const st={id:`trash-ch-${Date.now()}`,type:"check",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"checks",Ie))}},Dt=async Ie=>await Sr(Xt(Ut,"special_orders",Ie.id),JSON.parse(JSON.stringify(Ie))),Zt=async Ie=>await Sr(Xt(Ut,"special_orders",Ie.id),JSON.parse(JSON.stringify(Ie))),ut=async Ie=>{const At=q.find(st=>st.id===Ie);if(At){const st={id:`trash-so-${Date.now()}`,type:"special-order",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"special_orders",Ie))}},Bt=async Ie=>await Sr(Xt(Ut,"quotes",Ie.id),JSON.parse(JSON.stringify(Ie))),Yt=async Ie=>await Sr(Xt(Ut,"quotes",Ie.id),JSON.parse(JSON.stringify(Ie))),Br=async Ie=>{const At=Re.find(st=>st.id===Ie);if(At){const st={id:`trash-qt-${Date.now()}`,type:"quote",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"quotes",Ie))}},Gt=async Ie=>await Sr(Xt(Ut,"general_payments",Ie.id),JSON.parse(JSON.stringify(Ie))),Be=async Ie=>{const At=We.find(st=>st.id===Ie);if(At){const st={id:`trash-gp-${Date.now()}`,type:"general-payment",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"general_payments",Ie))}},Lt=async Ie=>{const At=J.find(st=>st.id===Ie);if(At){const st={id:`trash-inv-${Date.now()}`,type:"invoice",data:At,deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st))),await pa(Xt(Ut,"invoices",Ie)),await pa(Xt(Ut,"notifications",`debt-${Ie}`))}},ke=async Ie=>{const At=J.filter(Jr=>Jr.name===Ie).length,st={id:`trash-cust-${Date.now()}`,type:"customer",data:{name:Ie,invoiceCount:At},deletedAt:Date.now(),deletedBy:(R==null?void 0:R.name)||""};await Sr(Xt(Ut,"trash",st.id),JSON.parse(JSON.stringify(st)));const mt=Jx(Ut);(await Xx(Wx(Js(Ut,"invoices"),qx("name","==",Ie)))).forEach(Jr=>{mt.delete(Jr.ref),mt.delete(Xt(Ut,"notifications",`debt-${Jr.id}`))}),(await Xx(Wx(Js(Ut,"general_payments"),qx("customerName","==",Ie)))).forEach(Jr=>mt.delete(Jr.ref)),await mt.commit()},Mt=async()=>{await _T(pc),e("login"),k(null),dr()},dr=()=>{n([]),S(null),s(""),c(""),h("retail"),C(!1),Me("")},Rr=Ie=>{R!=null&&R.permissions.createInvoices&&(S(Ie),n(Ie.items),s(Ie.name),c(Ie.phone||""),h(Ie.priceMode||"retail"),e("create-invoice"))},Nn=(Ie,At)=>{R!=null&&R.permissions.createInvoices&&(dr(),s(Ie),c(At||""),e("create-invoice"))},ar=async Ie=>{await Sr(Xt(Ut,"invoices",Ie.id),JSON.parse(JSON.stringify(Ie)));for(const At of Ie.items)if(!At.isManual){const st=Ye.find(mt=>mt.id===At.id);if(st){let mt=At.count;if(b){const Pt=b.items.find(Wn=>Wn.id===At.id);Pt&&(mt=At.count-Pt.count)}mt!==0&&await Ru(Xt(Ut,"products",At.id),{stock:Math.max(0,st.stock-mt)})}}dr(),e("dashboard")},Kn=async Ie=>{try{Ie.type==="product"?await Sr(Xt(Ut,"products",Ie.data.id),Ie.data):Ie.type==="invoice"?await Sr(Xt(Ut,"invoices",Ie.data.id),Ie.data):Ie.type==="quote"?await Sr(Xt(Ut,"quotes",Ie.data.id),Ie.data):Ie.type==="client-request"?await Sr(Xt(Ut,"client_requests",Ie.data.id),Ie.data):Ie.type==="special-order"?await Sr(Xt(Ut,"special_orders",Ie.data.id),Ie.data):Ie.type==="supplier-invoice"?await Sr(Xt(Ut,"supplier_invoices",Ie.data.id),Ie.data):Ie.type==="check"?await Sr(Xt(Ut,"checks",Ie.data.id),Ie.data):Ie.type==="general-payment"?await Sr(Xt(Ut,"general_payments",Ie.data.id),Ie.data):Ie.type==="staff"&&await Sr(Xt(Ut,"staff",Ie.data.id),Ie.data),await pa(Xt(Ut,"trash",Ie.id)),navigator.vibrate&&navigator.vibrate(50)}catch(At){console.error(At)}},Vr=ye.useMemo(()=>R?R.role==="admin"||R.permissions.isManager||R.permissions.viewAllWork?J:J.filter(Ie=>Ie.creatorName===R.name):[],[J,R]),zn=ye.useMemo(()=>G.filter(Ie=>Ie.status==="pending").length,[G]),yn=(Ie,At)=>{if(Ie==="OPEN_INVOICE"&&At){const st=J.find(mt=>mt.id===At);st&&Rr(st)}else Ie==="OPEN_PRODUCT"&&At?(Me(At),e("products")):Ie==="NAVIGATE"?["dashboard","products","customers","settings","create-invoice","suppliers","recycle-bin","quotes","translation"].includes(At)&&e(At):Ie==="SEARCH"&&(Me(At||""),e("products"))};return ae?f.jsxs("div",{className:"min-h-screen bg-[#0c0c0c] flex flex-col items-center justify-center text-white font-['Tajawal'] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-radial-gradient opacity-20 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 animate-in fade-in duration-1000",children:[f.jsxs("div",{className:"w-24 h-24 bg-white/5 rounded-[2.5rem] border border-white/10 flex items-center justify-center shadow-2xl relative",children:[f.jsx("div",{className:"absolute inset-0 rounded-[2.5rem] border-4 border-[#57b385]/20 animate-ping"}),f.jsx("h1",{className:"text-4xl font-black text-[#57b385] tracking-tighter",children:"M"})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("h2",{className:"text-2xl font-black tracking-widest uppercase",children:"MAMA APP"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-300"})]})]}),f.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-[0.3em] mt-10",children:"Smart Business Management"})]})]}):f.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[t==="login"&&f.jsx(P7,{onNavigateToSignUp:()=>e("signup")}),t==="signup"&&f.jsx(Q7,{onNavigateToLogin:()=>e("login"),adminEmail:U.loginEmail}),t==="pending-approval"&&f.jsxs("div",{className:"min-h-screen bg-[#0c0c0c] flex flex-col items-center justify-center p-6 text-center animate-in fade-in duration-700",children:[f.jsxs("div",{className:"w-24 h-24 bg-orange-500/10 rounded-[2.5rem] border border-orange-500/20 flex items-center justify-center text-orange-500 mb-8 shadow-2xl relative",children:[f.jsx("div",{className:"absolute inset-0 rounded-[2.5rem] border-2 border-orange-500/10 animate-pulse"}),f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"}),f.jsx("path",{d:"m9 12 2 2 4-4"})]})]}),f.jsx("h2",{className:"text-3xl font-black mb-4",children:"  "}),f.jsxs("p",{className:"text-gray-400 max-w-xs leading-relaxed mb-10",children:[" ",f.jsx("span",{className:"text-white font-bold",children:R==null?void 0:R.name}),"    .          ."]}),f.jsx("button",{onClick:Mt,className:"px-10 py-4 bg-[#1a1a1a] rounded-2xl text-gray-400 font-bold border border-gray-800 active:scale-95 transition-all",children:" "})]}),t==="dashboard"&&R&&f.jsx(uK,{currentUser:R,onLogout:Mt,invoices:Vr,settings:U,products:Ye,onNavigateToProducts:()=>{Me(""),e("products")},onNavigateToCreateInvoice:()=>{b||dr(),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onNavigateToQuotes:()=>e("quotes"),onNavigateToTranslation:()=>e("translation"),onEditInvoice:Rr,onDeleteInvoice:Lt,onNewInvoiceForCustomer:Nn,unreadNotificationsCount:me.filter(Ie=>!Ie.isRead).length,pendingStaffCount:zn}),t==="products"&&R&&f.jsx(jee,{currentUser:R,products:Ye,onAddProduct:yt,onUpdateProduct:kt,onDeleteProduct:ct,onLogout:Mt,onNavigateToHome:()=>{Me(""),e("dashboard")},onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:m,onSelectProduct:(Ie,At)=>n(st=>st.find(Pt=>Pt.id===Ie.id)?st.filter(Pt=>Pt.id!==Ie.id):[...st,{...Ie,productName:Ie.name,count:At,total:Ie.price*At}]),onStartInvoiceWithProduct:(Ie,At)=>{dr(),n([{...Ie,productName:Ie.name,count:At,total:Ie.price*At}]),e("create-invoice")},selectedItems:r,settings:U,invoicePriceMode:d,initialSearchTerm:Ne}),t==="create-invoice"&&R&&f.jsx(qee,{currentUser:R,onNavigateToHome:()=>{dr(),e("dashboard")},onNavigateToProductSelection:()=>{C(!0),e("products")},items:r,setInvoiceItems:n,products:Ye,onUpdateQuantity:(Ie,At)=>n(st=>st.map(mt=>mt.id===Ie?{...mt,count:Math.max(0,mt.count+At),total:Math.max(0,mt.count+At)*mt.price}:mt).filter(mt=>mt.count>0)),onClearInvoice:dr,onAddManualItem:(Ie,At,st)=>n(mt=>[...mt,{id:`man-${Date.now()}`,productName:Ie,price:At,count:st,total:At*st,isManual:!0}]),onSaveInvoice:ar,initialInvoice:b,settings:U,onUpdateItem:(Ie,At)=>n(st=>st.map(mt=>mt.id===Ie?{...mt,...At,total:(At.price||mt.price)*(At.count||mt.count)}:mt)),customerName:i,setCustomerName:s,customerPhone:o,setCustomerPhone:c,priceMode:d,setPriceMode:h}),t==="quotes"&&R&&f.jsx(Gle,{currentUser:R,onNavigateToHome:()=>e("dashboard"),quotes:Re,onAddQuote:Bt,onUpdateQuote:Yt,onDeleteQuote:Br,settings:U,products:Ye}),t==="translation"&&R&&f.jsx(Kle,{onNavigateToHome:()=>e("dashboard")}),t==="settings"&&R&&f.jsx(Xee,{currentUser:R,onNavigateToHome:()=>e("dashboard"),settings:U,onUpdateSettings:Ze,onTriggerManualBackup:()=>{},invoices:J,onEditInvoice:Rr,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:Mt,onNavigateToRecycleBin:()=>e("recycle-bin"),staffList:G,onAddStaff:Tt,onUpdateStaff:le,onDeleteStaff:tt}),t==="customers"&&R&&f.jsx(ste,{currentUser:R,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:Vr,generalPayments:We,onAddGeneralPayment:Gt,onDeleteGeneralPayment:Be,onDeleteCustomer:ke,onProcessPayment:async(Ie,At,st)=>{const mt=J.find(Pt=>Pt.id===Ie);if(mt){const Pt=mt.paidAmount+At,Wn=Math.max(0,mt.amount-Pt),Jr={...mt,paidAmount:Pt,remainingAmount:Wn,type:Wn<=0?"paid":"partial",payments:[...mt.payments,{id:`pay-${Date.now()}`,amount:At,timestamp:Date.now(),method:st}]};await Sr(Xt(Ut,"invoices",Ie),JSON.parse(JSON.stringify(Jr)))}},onEditInvoice:Rr,settings:U}),t==="recycle-bin"&&R&&f.jsx(zle,{currentUser:R,onNavigateToSettings:()=>e("settings"),trashItems:W,onRestore:Kn,onPermanentDelete:async Ie=>await pa(Xt(Ut,"trash",Ie)),onEmptyTrash:async()=>{const Ie=Jx(Ut);W.forEach(At=>Ie.delete(Xt(Ut,"trash",At.id))),await Ie.commit()},nextCleanupDate:U.lastTrashCleanup?U.lastTrashCleanup+qle:void 0}),R&&t==="dashboard"&&f.jsx(Wle,{products:Ye,invoices:J,currentUser:R,onAction:yn,onSearchProduct:Ie=>{Me(Ie),e("products")}}),t==="notifications"&&R&&f.jsx(cte,{onNavigateToHome:()=>e("dashboard"),notifications:me,onMarkAllAsRead:()=>me.forEach(Ie=>Ru(Xt(Ut,"notifications",Ie.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:Ie=>Ru(Xt(Ut,"notifications",Ie),{isRead:!0})}),t==="suppliers"&&R&&f.jsx(gte,{currentUser:R,onNavigateToHome:()=>e("dashboard"),onAddInvoice:at,onUpdateInvoice:Nt,onDeleteInvoice:Rt,onDeleteSupplier:fr,invoices:K}),t==="client-requests"&&R&&f.jsx(pte,{onNavigateToHome:()=>e("dashboard"),requests:P,onAddRequest:bt,onUpdateRequest:nn,onDeleteRequest:Yr,settings:U}),t==="checkbook"&&R&&f.jsx(mte,{onNavigateToHome:()=>e("dashboard"),checks:re,onAddCheck:Qe,onUpdateCheck:Ue,onDeleteCheck:ot,settings:U}),t==="special-orders"&&R&&f.jsx(xte,{onNavigateToHome:()=>e("dashboard"),orders:q,onAddOrder:Dt,onUpdateOrder:Zt,onDeleteOrder:ut,settings:U})]})},Xk=document.getElementById("root");if(!Xk)throw new Error("Could not find root element to mount to");const Yle=bD.createRoot(Xk);Yle.render(f.jsx(pD.StrictMode,{children:f.jsx(Xle,{})}));

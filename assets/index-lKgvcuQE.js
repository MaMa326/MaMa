(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},_0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function jR(){if(IE)return _0;IE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var A=null;if(s!==void 0&&(A=""+s),i.key!==void 0&&(A=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:A,ref:i!==void 0?i:null,props:s}}return _0.Fragment=e,_0.jsx=n,_0.jsxs=n,_0}var NE;function GR(){return NE||(NE=1,Im.exports=jR()),Im.exports}var p=GR(),Nm={exports:{}},on={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function KR(){if(FE)return on;FE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),A=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),_=Symbol.iterator;function N(me){return me===null||typeof me!="object"?null:(me=_&&me[_]||me["@@iterator"],typeof me=="function"?me:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function j(me,Z,ge){this.props=me,this.context=Z,this.refs=k,this.updater=ge||D}j.prototype.isReactComponent={},j.prototype.setState=function(me,Z){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,Z,"setState")},j.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function K(){}K.prototype=j.prototype;function Q(me,Z,ge){this.props=me,this.context=Z,this.refs=k,this.updater=ge||D}var ne=Q.prototype=new K;ne.constructor=Q,R(ne,j.prototype),ne.isPureReactComponent=!0;var ae=Array.isArray;function ee(){}var M={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function O(me,Z,ge){var le=ge.ref;return{$$typeof:t,type:me,key:Z,ref:le!==void 0?le:null,props:ge}}function z(me,Z){return O(me.type,Z,me.props)}function J(me){return typeof me=="object"&&me!==null&&me.$$typeof===t}function W(me){var Z={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(ge){return Z[ge]})}var X=/\/+/g;function Me(me,Z){return typeof me=="object"&&me!==null&&me.key!=null?W(""+me.key):Z.toString(36)}function Ee(me){switch(me.status){case"fulfilled":return me.value;case"rejected":throw me.reason;default:switch(typeof me.status=="string"?me.then(ee,ee):(me.status="pending",me.then(function(Z){me.status==="pending"&&(me.status="fulfilled",me.value=Z)},function(Z){me.status==="pending"&&(me.status="rejected",me.reason=Z)})),me.status){case"fulfilled":return me.value;case"rejected":throw me.reason}}throw me}function ve(me,Z,ge,le,ue){var xe=typeof me;(xe==="undefined"||xe==="boolean")&&(me=null);var Ye=!1;if(me===null)Ye=!0;else switch(xe){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(me.$$typeof){case t:case e:Ye=!0;break;case x:return Ye=me._init,ve(Ye(me._payload),Z,ge,le,ue)}}if(Ye)return ue=ue(me),Ye=le===""?"."+Me(me,0):le,ae(ue)?(ge="",Ye!=null&&(ge=Ye.replace(X,"$&/")+"/"),ve(ue,Z,ge,"",function(Oe){return Oe})):ue!=null&&(J(ue)&&(ue=z(ue,ge+(ue.key==null||me&&me.key===ue.key?"":(""+ue.key).replace(X,"$&/")+"/")+Ye)),Z.push(ue)),1;Ye=0;var Ne=le===""?".":le+":";if(ae(me))for(var _e=0;_e<me.length;_e++)le=me[_e],xe=Ne+Me(le,_e),Ye+=ve(le,Z,ge,xe,ue);else if(_e=N(me),typeof _e=="function")for(me=_e.call(me),_e=0;!(le=me.next()).done;)le=le.value,xe=Ne+Me(le,_e++),Ye+=ve(le,Z,ge,xe,ue);else if(xe==="object"){if(typeof me.then=="function")return ve(Ee(me),Z,ge,le,ue);throw Z=String(me),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function oe(me,Z,ge){if(me==null)return me;var le=[],ue=0;return ve(me,le,"","",function(xe){return Z.call(ge,xe,ue++)}),le}function je(me){if(me._status===-1){var Z=me._result;Z=Z(),Z.then(function(ge){(me._status===0||me._status===-1)&&(me._status=1,me._result=ge)},function(ge){(me._status===0||me._status===-1)&&(me._status=2,me._result=ge)}),me._status===-1&&(me._status=0,me._result=Z)}if(me._status===1)return me._result.default;throw me._result}var Be=typeof reportError=="function"?reportError:function(me){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof me=="object"&&me!==null&&typeof me.message=="string"?String(me.message):String(me),error:me});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",me);return}console.error(me)},Ze={map:oe,forEach:function(me,Z,ge){oe(me,function(){Z.apply(this,arguments)},ge)},count:function(me){var Z=0;return oe(me,function(){Z++}),Z},toArray:function(me){return oe(me,function(Z){return Z})||[]},only:function(me){if(!J(me))throw Error("React.Children.only expected to receive a single React element child.");return me}};return on.Activity=C,on.Children=Ze,on.Component=j,on.Fragment=n,on.Profiler=i,on.PureComponent=Q,on.StrictMode=r,on.Suspense=h,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,on.__COMPILER_RUNTIME={__proto__:null,c:function(me){return M.H.useMemoCache(me)}},on.cache=function(me){return function(){return me.apply(null,arguments)}},on.cacheSignal=function(){return null},on.cloneElement=function(me,Z,ge){if(me==null)throw Error("The argument must be a React element, but you passed "+me+".");var le=R({},me.props),ue=me.key;if(Z!=null)for(xe in Z.key!==void 0&&(ue=""+Z.key),Z)!H.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(le[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)le.children=ge;else if(1<xe){for(var Ye=Array(xe),Ne=0;Ne<xe;Ne++)Ye[Ne]=arguments[Ne+2];le.children=Ye}return O(me.type,ue,le)},on.createContext=function(me){return me={$$typeof:A,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null},me.Provider=me,me.Consumer={$$typeof:s,_context:me},me},on.createElement=function(me,Z,ge){var le,ue={},xe=null;if(Z!=null)for(le in Z.key!==void 0&&(xe=""+Z.key),Z)H.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=Z[le]);var Ye=arguments.length-2;if(Ye===1)ue.children=ge;else if(1<Ye){for(var Ne=Array(Ye),_e=0;_e<Ye;_e++)Ne[_e]=arguments[_e+2];ue.children=Ne}if(me&&me.defaultProps)for(le in Ye=me.defaultProps,Ye)ue[le]===void 0&&(ue[le]=Ye[le]);return O(me,xe,ue)},on.createRef=function(){return{current:null}},on.forwardRef=function(me){return{$$typeof:u,render:me}},on.isValidElement=J,on.lazy=function(me){return{$$typeof:x,_payload:{_status:-1,_result:me},_init:je}},on.memo=function(me,Z){return{$$typeof:d,type:me,compare:Z===void 0?null:Z}},on.startTransition=function(me){var Z=M.T,ge={};M.T=ge;try{var le=me(),ue=M.S;ue!==null&&ue(ge,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ee,Be)}catch(xe){Be(xe)}finally{Z!==null&&ge.types!==null&&(Z.types=ge.types),M.T=Z}},on.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},on.use=function(me){return M.H.use(me)},on.useActionState=function(me,Z,ge){return M.H.useActionState(me,Z,ge)},on.useCallback=function(me,Z){return M.H.useCallback(me,Z)},on.useContext=function(me){return M.H.useContext(me)},on.useDebugValue=function(){},on.useDeferredValue=function(me,Z){return M.H.useDeferredValue(me,Z)},on.useEffect=function(me,Z){return M.H.useEffect(me,Z)},on.useEffectEvent=function(me){return M.H.useEffectEvent(me)},on.useId=function(){return M.H.useId()},on.useImperativeHandle=function(me,Z,ge){return M.H.useImperativeHandle(me,Z,ge)},on.useInsertionEffect=function(me,Z){return M.H.useInsertionEffect(me,Z)},on.useLayoutEffect=function(me,Z){return M.H.useLayoutEffect(me,Z)},on.useMemo=function(me,Z){return M.H.useMemo(me,Z)},on.useOptimistic=function(me,Z){return M.H.useOptimistic(me,Z)},on.useReducer=function(me,Z,ge){return M.H.useReducer(me,Z,ge)},on.useRef=function(me){return M.H.useRef(me)},on.useState=function(me){return M.H.useState(me)},on.useSyncExternalStore=function(me,Z,ge){return M.H.useSyncExternalStore(me,Z,ge)},on.useTransition=function(){return M.H.useTransition()},on.version="19.2.3",on}var RE;function X2(){return RE||(RE=1,Nm.exports=KR()),Nm.exports}var Se=X2();const zR=L4(Se);var Fm={exports:{}},T0={},Rm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function WR(){return DE||(DE=1,(function(t){function e(ve,oe){var je=ve.length;ve.push(oe);e:for(;0<je;){var Be=je-1>>>1,Ze=ve[Be];if(0<i(Ze,oe))ve[Be]=oe,ve[je]=Ze,je=Be;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var oe=ve[0],je=ve.pop();if(je!==oe){ve[0]=je;e:for(var Be=0,Ze=ve.length,me=Ze>>>1;Be<me;){var Z=2*(Be+1)-1,ge=ve[Z],le=Z+1,ue=ve[le];if(0>i(ge,je))le<Ze&&0>i(ue,ge)?(ve[Be]=ue,ve[le]=je,Be=le):(ve[Be]=ge,ve[Z]=je,Be=Z);else if(le<Ze&&0>i(ue,je))ve[Be]=ue,ve[le]=je,Be=le;else break e}}return oe}function i(ve,oe){var je=ve.sortIndex-oe.sortIndex;return je!==0?je:ve.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var A=Date,u=A.now();t.unstable_now=function(){return A.now()-u}}var h=[],d=[],x=1,C=null,_=3,N=!1,D=!1,R=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(ve){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=ve)r(d),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(d)}}function ae(ve){if(R=!1,ne(ve),!D)if(n(h)!==null)D=!0,ee||(ee=!0,W());else{var oe=n(d);oe!==null&&Ee(ae,oe.startTime-ve)}}var ee=!1,M=-1,H=5,O=-1;function z(){return k?!0:!(t.unstable_now()-O<H)}function J(){if(k=!1,ee){var ve=t.unstable_now();O=ve;var oe=!0;try{e:{D=!1,R&&(R=!1,K(M),M=-1),N=!0;var je=_;try{t:{for(ne(ve),C=n(h);C!==null&&!(C.expirationTime>ve&&z());){var Be=C.callback;if(typeof Be=="function"){C.callback=null,_=C.priorityLevel;var Ze=Be(C.expirationTime<=ve);if(ve=t.unstable_now(),typeof Ze=="function"){C.callback=Ze,ne(ve),oe=!0;break t}C===n(h)&&r(h),ne(ve)}else r(h);C=n(h)}if(C!==null)oe=!0;else{var me=n(d);me!==null&&Ee(ae,me.startTime-ve),oe=!1}}break e}finally{C=null,_=je,N=!1}oe=void 0}}finally{oe?W():ee=!1}}}var W;if(typeof Q=="function")W=function(){Q(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Me=X.port2;X.port1.onmessage=J,W=function(){Me.postMessage(null)}}else W=function(){j(J,0)};function Ee(ve,oe){M=j(function(){ve(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(ve){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var je=_;_=oe;try{return ve()}finally{_=je}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(ve,oe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var je=_;_=ve;try{return oe()}finally{_=je}},t.unstable_scheduleCallback=function(ve,oe,je){var Be=t.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Be+je:Be):je=Be,ve){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=je+Ze,ve={id:x++,callback:oe,priorityLevel:ve,startTime:je,expirationTime:Ze,sortIndex:-1},je>Be?(ve.sortIndex=je,e(d,ve),n(h)===null&&ve===n(d)&&(R?(K(M),M=-1):R=!0,Ee(ae,je-Be))):(ve.sortIndex=Ze,e(h,ve),D||N||(D=!0,ee||(ee=!0,W()))),ve},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(ve){var oe=_;return function(){var je=_;_=oe;try{return ve.apply(this,arguments)}finally{_=je}}}})(Dm)),Dm}var UE;function XR(){return UE||(UE=1,Rm.exports=WR()),Rm.exports}var Um={exports:{}},$i={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function qR(){if(kE)return $i;kE=1;var t=X2();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(h,d,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:C==null?null:""+C,children:h,containerInfo:d,implementation:x}}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$i.createPortal=function(h,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,x)},$i.flushSync=function(h){var d=A.T,x=r.p;try{if(A.T=null,r.p=2,h)return h()}finally{A.T=d,r.p=x,r.d.f()}},$i.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},$i.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},$i.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var x=d.as,C=u(x,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,N=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:N}):x==="script"&&r.d.X(h,{crossOrigin:C,integrity:_,fetchPriority:N,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$i.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=u(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},$i.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,C=u(x,d.crossOrigin);r.d.L(h,x,{crossOrigin:C,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$i.preloadModule=function(h,d){if(typeof h=="string")if(d){var x=u(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},$i.requestFormReset=function(h){r.d.r(h)},$i.unstable_batchedUpdates=function(h,d){return h(d)},$i.useFormState=function(h,d,x){return A.H.useFormState(h,d,x)},$i.useFormStatus=function(){return A.H.useHostTransitionStatus()},$i.version="19.2.3",$i}var ME;function YR(){if(ME)return Um.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=qR(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function JR(){if(OE)return T0;OE=1;var t=XR(),e=X2(),n=YR();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function A(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var g=a,v=l;;){var S=g.return;if(S===null)break;var F=S.alternate;if(F===null){if(v=S.return,v!==null){g=v;continue}break}if(S.child===F.child){for(F=S.child;F;){if(F===g)return h(S),a;if(F===v)return h(S),l;F=F.sibling}throw Error(r(188))}if(g.return!==v.return)g=S,v=F;else{for(var V=!1,ie=S.child;ie;){if(ie===g){V=!0,g=S,v=F;break}if(ie===v){V=!0,v=S,g=F;break}ie=ie.sibling}if(!V){for(ie=F.child;ie;){if(ie===g){V=!0,g=F,v=S;break}if(ie===v){V=!0,v=F,g=S;break}ie=ie.sibling}if(!V)throw Error(r(189))}}if(g.alternate!==v)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?a:l}function x(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=x(a),l!==null)return l;a=a.sibling}return null}var C=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function Me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case R:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case ae:return"Suspense";case ee:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case D:return"Portal";case Q:return a.displayName||"Context";case K:return(a._context.displayName||"Context")+".Consumer";case ne:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:Me(a.type)||"Memo";case H:l=a._payload,a=a._init;try{return Me(a(l))}catch{}}return null}var Ee=Array.isArray,ve=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function me(a){return{current:a}}function Z(a){0>Ze||(a.current=Be[Ze],Be[Ze]=null,Ze--)}function ge(a,l){Ze++,Be[Ze]=a.current,a.current=l}var le=me(null),ue=me(null),xe=me(null),Ye=me(null);function Ne(a,l){switch(ge(xe,l),ge(ue,a),ge(le,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?ZC(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=ZC(l),a=$C(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Z(le),ge(le,a)}function _e(){Z(le),Z(ue),Z(xe)}function Oe(a){a.memoizedState!==null&&ge(Ye,a);var l=le.current,g=$C(l,a.type);l!==g&&(ge(ue,a),ge(le,g))}function yt(a){ue.current===a&&(Z(le),Z(ue)),Ye.current===a&&(Z(Ye),y0._currentValue=je)}var pe,St;function kt(a){if(pe===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);pe=l&&l[1]||"",St=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+St}var Lt=!1;function Fe(a,l){if(!a||Lt)return"";Lt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(nt){var qe=nt}Reflect.construct(a,[],ct)}else{try{ct.call()}catch(nt){qe=nt}a.call(ct.prototype)}}else{try{throw Error()}catch(nt){qe=nt}(ct=a())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(nt){if(nt&&qe&&typeof nt.stack=="string")return[nt.stack,qe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=v.DetermineComponentFrameRoot(),V=F[0],ie=F[1];if(V&&ie){var Te=V.split(`
`),ze=ie.split(`
`);for(S=v=0;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;for(;S<ze.length&&!ze[S].includes("DetermineComponentFrameRoot");)S++;if(v===Te.length||S===ze.length)for(v=Te.length-1,S=ze.length-1;1<=v&&0<=S&&Te[v]!==ze[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Te[v]!==ze[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Te[v]!==ze[S]){var ot=`
`+Te[v].replace(" at new "," at ");return a.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",a.displayName)),ot}while(1<=v&&0<=S);break}}}finally{Lt=!1,Error.prepareStackTrace=g}return(g=a?a.displayName||a.name:"")?kt(g):""}function Ue(a,l){switch(a.tag){case 26:case 27:case 5:return kt(a.type);case 16:return kt("Lazy");case 13:return a.child!==l&&l!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Fe(a.type,!1);case 11:return Fe(a.type.render,!1);case 1:return Fe(a.type,!0);case 31:return kt("Activity");default:return""}}function gt(a){try{var l="",g=null;do l+=Ue(a,g),g=a,a=a.return;while(a);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Bt=Object.prototype.hasOwnProperty,dn=t.unstable_scheduleCallback,At=t.unstable_cancelCallback,Pn=t.unstable_shouldYield,dr=t.unstable_requestPaint,at=t.unstable_now,Nt=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,$t=t.unstable_UserBlockingPriority,un=t.unstable_NormalPriority,fn=t.unstable_LowPriority,tt=t.unstable_IdlePriority,we=t.log,Ge=t.unstable_setDisableYieldValue,st=null,De=null;function mt(a){if(typeof we=="function"&&Ge(a),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(st,a)}catch{}}var bt=Math.clz32?Math.clz32:br,mn=Math.log,Xi=Math.LN2;function br(a){return a>>>=0,a===0?32:31-(mn(a)/Xi|0)|0}var qi=256,Zt=262144,vi=4194304;function ui(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ni(a,l,g){var v=a.pendingLanes;if(v===0)return 0;var S=0,F=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var ie=v&134217727;return ie!==0?(v=ie&~F,v!==0?S=ui(v):(V&=ie,V!==0?S=ui(V):g||(g=ie&~a,g!==0&&(S=ui(g))))):(ie=v&~F,ie!==0?S=ui(ie):V!==0?S=ui(V):g||(g=v&~a,g!==0&&(S=ui(g)))),S===0?0:l!==0&&l!==S&&(l&F)===0&&(F=S&-S,g=l&-l,F>=g||F===32&&(g&4194048)!==0)?l:S}function Dr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ga(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(){var a=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),a}function yi(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function ds(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Wn(a,l,g,v,S,F){var V=a.pendingLanes;a.pendingLanes=g,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=g,a.entangledLanes&=g,a.errorRecoveryDisabledLanes&=g,a.shellSuspendCounter=0;var ie=a.entanglements,Te=a.expirationTimes,ze=a.hiddenUpdates;for(g=V&~g;0<g;){var ot=31-bt(g),ct=1<<ot;ie[ot]=0,Te[ot]=-1;var qe=ze[ot];if(qe!==null)for(ze[ot]=null,ot=0;ot<qe.length;ot++){var nt=qe[ot];nt!==null&&(nt.lane&=-536870913)}g&=~ct}v!==0&&So(a,v,0),F!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=F&~(V&~l))}function So(a,l,g){a.pendingLanes|=l,a.suspendedLanes&=~l;var v=31-bt(l);a.entangledLanes|=l,a.entanglements[v]=a.entanglements[v]|1073741824|g&261930}function ei(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var v=31-bt(g),S=1<<v;S&l|a[v]&l&&(a[v]|=l),g&=~S}}function Ss(a,l){var g=l&-l;return g=(g&42)!==0?1:Ur(g),(g&(a.suspendedLanes|l))!==0?0:g}function Ur(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function hs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function te(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:CE(a.type))}function se(a,l){var g=oe.p;try{return oe.p=a,l()}finally{oe.p=g}}var ce=Math.random().toString(36).slice(2),fe="__reactFiber$"+ce,de="__reactProps$"+ce,Ce="__reactContainer$"+ce,Ve="__reactEvents$"+ce,rt="__reactListeners$"+ce,Qe="__reactHandles$"+ce,We="__reactResources$"+ce,Xe="__reactMarker$"+ce;function ut(a){delete a[fe],delete a[de],delete a[Ve],delete a[rt],delete a[Qe]}function ht(a){var l=a[fe];if(l)return l;for(var g=a.parentNode;g;){if(l=g[Ce]||g[fe]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=aE(a);a!==null;){if(g=a[fe])return g;a=aE(a)}return l}a=g,g=a.parentNode}return null}function pt(a){if(a=a[fe]||a[Ce]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function wt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Et(a){var l=a[We];return l||(l=a[We]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Dt(a){a[Xe]=!0}var it=new Set,Rn={};function Gt(a,l){Sr(a,l),Sr(a+"Capture",l)}function Sr(a,l){for(Rn[a]=l,a=0;a<l.length;a++)it.add(l[a])}var Pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hn={},nn={};function an(a){return Bt.call(nn,a)?!0:Bt.call(hn,a)?!1:Pa.test(a)?nn[a]=!0:(hn[a]=!0,!1)}function kr(a,l,g){if(an(l))if(g===null)a.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+g)}}function pa(a,l,g){if(g===null)a.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+g)}}function Yi(a,l,g,v){if(v===null)a.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(g);return}a.setAttributeNS(l,g,""+v)}}function In(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Js(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Gu(a,l,g){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,F=v.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return S.call(this)},set:function(V){g=""+V,F.call(this,V)}}),Object.defineProperty(a,l,{enumerable:v.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function nr(a){if(!a._valueTracker){var l=Js(a)?"checked":"value";a._valueTracker=Gu(a,l,""+a[l])}}function Is(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),v="";return a&&(v=Js(a)?a.checked?"true":"false":a.value),a=v,a!==g?(l.setValue(a),!0):!1}function pA(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ji=/[\n"\\]/g;function Yt(a){return a.replace(Ji,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xr(a,l,g,v,S,F,V,ie){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),l!=null?V==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+In(l)):a.value!==""+In(l)&&(a.value=""+In(l)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),l!=null?he(a,V,In(l)):g!=null?he(a,V,In(g)):v!=null&&a.removeAttribute("value"),S==null&&F!=null&&(a.defaultChecked=!!F),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?a.name=""+In(ie):a.removeAttribute("name")}function He(a,l,g,v,S,F,V,ie){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.type=F),l!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||l!=null)){nr(a);return}g=g!=null?""+In(g):"",l=l!=null?""+In(l):g,ie||l===a.value||(a.value=l),a.defaultValue=l}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=ie?a.checked:!!v,a.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V),nr(a)}function he(a,l,g){l==="number"&&pA(a.ownerDocument)===a||a.defaultValue===""+g||(a.defaultValue=""+g)}function _t(a,l,g,v){if(a=a.options,l){l={};for(var S=0;S<g.length;S++)l["$"+g[S]]=!0;for(g=0;g<a.length;g++)S=l.hasOwnProperty("$"+a[g].value),a[g].selected!==S&&(a[g].selected=S),S&&v&&(a[g].defaultSelected=!0)}else{for(g=""+In(g),l=null,S=0;S<a.length;S++){if(a[S].value===g){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}l!==null||a[S].disabled||(l=a[S])}l!==null&&(l.selected=!0)}}function hr(a,l,g){if(l!=null&&(l=""+In(l),l!==a.value&&(a.value=l),g==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=g!=null?""+In(g):""}function Kr(a,l,g,v){if(l==null){if(v!=null){if(g!=null)throw Error(r(92));if(Ee(v)){if(1<v.length)throw Error(r(93));v=v[0]}g=v}g==null&&(g=""),l=g}g=In(l),a.defaultValue=g,v=a.textContent,v===g&&v!==""&&v!==null&&(a.value=v),nr(a)}function Ns(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ci(a,l,g){var v=l.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":v?a.setProperty(l,g):typeof g!="number"||g===0||vl.has(l)?l==="float"?a.cssFloat=g:a[l]=(""+g).trim():a[l]=g+"px"}function Vt(a,l,g){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var S in l)v=l[S],l.hasOwnProperty(S)&&g[S]!==v&&Ci(a,S,v)}else for(var F in l)l.hasOwnProperty(F)&&Ci(a,F,l[F])}function Jn(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(a){return Ku.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ir(){}var oo=null;function mA(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var rr=null,fi=null;function Zs(a){var l=pt(a);if(l&&(a=l.stateNode)){var g=a[de]||null;e:switch(a=l.stateNode,l.type){case"input":if(xr(a,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Yt(""+l)+'"][type="radio"]'),l=0;l<g.length;l++){var v=g[l];if(v!==a&&v.form===a.form){var S=v[de]||null;if(!S)throw Error(r(90));xr(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<g.length;l++)v=g[l],v.form===a.form&&Is(v)}break e;case"textarea":hr(a,g.value,g.defaultValue);break e;case"select":l=g.value,l!=null&&_t(a,!!g.multiple,l,!1)}}}var Kt=!1;function Cc(a,l,g){if(Kt)return a(l,g);Kt=!0;try{var v=a(l);return v}finally{if(Kt=!1,(rr!==null||fi!==null)&&(Od(),rr&&(l=rr,a=fi,fi=rr=null,Zs(l),a)))for(l=0;l<a.length;l++)Zs(a[l])}}function zt(a,l){var g=a.stateNode;if(g===null)return null;var v=g[de]||null;if(v===null)return null;g=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(r(231,l,typeof g));return g}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=!1;if(Zn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{yl=!1}var Zi=null,Ds=null,ma=null;function Us(){if(ma)return ma;var a,l=Ds,g=l.length,v,S="value"in Zi?Zi.value:Zi.textContent,F=S.length;for(a=0;a<g&&l[a]===S[a];a++);var V=g-a;for(v=1;v<=V&&l[g-v]===S[F-v];v++);return ma=S.slice(a,1<v?1-v:void 0)}function $s(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ks(){return!0}function ir(){return!1}function Mr(a){function l(g,v,S,F,V){this._reactName=g,this._targetInst=S,this.type=v,this.nativeEvent=F,this.target=V,this.currentTarget=null;for(var ie in a)a.hasOwnProperty(ie)&&(g=a[ie],this[ie]=g?g(F):F[ie]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ks:ir,this.isPropagationStopped=ir,this}return C(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),l}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=Mr(gs),Ha=C({},gs,{view:0,detail:0}),Cl=Mr(Ha),Va,xA,Fi,Io=C({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Fi&&(Fi&&a.type==="mousemove"?(Va=a.screenX-Fi.screenX,xA=a.screenY-Fi.screenY):xA=Va=0,Fi=a),Va)},movementY:function(a){return"movementY"in a?a.movementY:xA}}),Mn=Mr(Io),Ao=C({},Io,{dataTransfer:0}),No=Mr(Ao),Ms=C({},Ha,{relatedTarget:0}),lo=Mr(Ms),Je=C({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),en=Mr(Je),zr=C({},gs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fo=Mr(zr),co=C({},gs,{data:0}),El=Mr(co),Ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ro[a])?!!l[a]:!1}function xa(){return Er}var lr=C({},Ha,{key:function(a){if(a.key){var l=Ec[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=$s(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Bl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(a){return a.type==="keypress"?$s(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?$s(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Do=Mr(lr),Ri=C({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),On=Mr(Ri),jt=C({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Bc=Mr(jt),Xn=C({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Os=Mr(Xn),Lr=C({},Io,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_c=Mr(Lr),ps=C({},gs,{newState:0,oldState:0}),wa=Mr(ps),T=[9,13,27,32],L=Zn&&"CompositionEvent"in window,G=null;Zn&&"documentMode"in document&&(G=document.documentMode);var Ae=Zn&&"TextEvent"in window&&!G,Pe=Zn&&(!L||G&&8<G&&11>=G),et=" ",Tt=!1;function Hn(a,l){switch(a){case"keyup":return T.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gr(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xn=!1;function cr(a,l){switch(a){case"compositionend":return gr(l);case"keypress":return l.which!==32?null:(Tt=!0,et);case"textInput":return a=l.data,a===et&&Tt?null:a;default:return null}}function Nr(a,l){if(xn)return a==="compositionend"||!L&&Hn(a,l)?(a=Us(),ma=Ds=Zi=null,xn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pe&&l.locale!=="ko"?null:l.data;default:return null}}var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Di(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Wr[a.type]:l==="textarea"}function Ei(a,l,g,v){rr?fi?fi.push(v):fi=[v]:rr=v,l=Gd(l,"onChange"),0<l.length&&(g=new Or("onChange","change",null,g,v),a.push({event:g,listeners:l}))}var ja=null,Uo=null;function Vg(a){zC(a,0)}function _l(a){var l=wt(a);if(Is(l))return a}function ea(a,l){if(a==="change")return l}var td=!1;if(Zn){var Tl;if(Zn){var ko="oninput"in document;if(!ko){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),ko=typeof Bn.oninput=="function"}Tl=ko}else Tl=!1;td=Tl&&(!document.documentMode||9<document.documentMode)}function bl(){ja&&(ja.detachEvent("onpropertychange",q),Uo=ja=null)}function q(a){if(a.propertyName==="value"&&_l(Uo)){var l=[];Ei(l,Uo,a,mA(a)),Cc(Vg,l)}}function o(a,l,g){a==="focusin"?(bl(),ja=l,Uo=g,ja.attachEvent("onpropertychange",q)):a==="focusout"&&bl()}function c(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _l(Uo)}function f(a,l){if(a==="click")return _l(l)}function m(a,l){if(a==="input"||a==="change")return _l(l)}function w(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var y=typeof Object.is=="function"?Object.is:w;function B(a,l){if(y(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),v=Object.keys(l);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var S=g[v];if(!Bt.call(l,S)||!y(a[S],l[S]))return!1}return!0}function I(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function U(a,l){var g=I(a);a=0;for(var v;g;){if(g.nodeType===3){if(v=a+g.textContent.length,a<=l&&v>=l)return{node:g,offset:l-a};a=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=I(g)}}function P(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?P(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Y(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=pA(a.document);l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=pA(a.document)}return l}function re(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var ye=Zn&&"documentMode"in document&&11>=document.documentMode,be=null,Ie=null,Le=null,$e=!1;function Ct(a,l,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;$e||be==null||be!==pA(v)||(v=be,"selectionStart"in v&&re(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Le&&B(Le,v)||(Le=v,v=Gd(Ie,"onSelect"),0<v.length&&(l=new Or("onSelect","select",null,l,g),a.push({event:l,listeners:v}),l.target=be)))}function vt(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var dt={animationend:vt("Animation","AnimationEnd"),animationiteration:vt("Animation","AnimationIteration"),animationstart:vt("Animation","AnimationStart"),transitionrun:vt("Transition","TransitionRun"),transitionstart:vt("Transition","TransitionStart"),transitioncancel:vt("Transition","TransitionCancel"),transitionend:vt("Transition","TransitionEnd")},vn={},rn={};Zn&&(rn=document.createElement("div").style,"AnimationEvent"in window||(delete dt.animationend.animation,delete dt.animationiteration.animation,delete dt.animationstart.animation),"TransitionEvent"in window||delete dt.transitionend.transition);function Qr(a){if(vn[a])return vn[a];if(!dt[a])return a;var l=dt[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in rn)return vn[a]=l[g];return a}var Ls=Qr("animationend"),Ui=Qr("animationiteration"),qn=Qr("animationstart"),di=Qr("transitionrun"),ms=Qr("transitionstart"),wA=Qr("transitioncancel"),Mo=Qr("transitionend"),nd=new Map,zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zu.push("scrollEnd");function Ga(a,l){nd.set(a,l),Gt(l,[a])}var rd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},va=[],Tc=0,jg=0;function id(){for(var a=Tc,l=jg=Tc=0;l<a;){var g=va[l];va[l++]=null;var v=va[l];va[l++]=null;var S=va[l];va[l++]=null;var F=va[l];if(va[l++]=null,v!==null&&S!==null){var V=v.pending;V===null?S.next=S:(S.next=V.next,V.next=S),v.pending=S}F!==0&&bv(g,S,F)}}function sd(a,l,g,v){va[Tc++]=a,va[Tc++]=l,va[Tc++]=g,va[Tc++]=v,jg|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function Gg(a,l,g,v){return sd(a,l,g,v),ad(a)}function Sl(a,l){return sd(a,null,null,l),ad(a)}function bv(a,l,g){a.lanes|=g;var v=a.alternate;v!==null&&(v.lanes|=g);for(var S=!1,F=a.return;F!==null;)F.childLanes|=g,v=F.alternate,v!==null&&(v.childLanes|=g),F.tag===22&&(a=F.stateNode,a===null||a._visibility&1||(S=!0)),a=F,F=F.return;return a.tag===3?(F=a.stateNode,S&&l!==null&&(S=31-bt(g),a=F.hiddenUpdates,v=a[S],v===null?a[S]=[l]:v.push(l),l.lane=g|536870912),F):null}function ad(a){if(50<h0)throw h0=0,$p=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var bc={};function T8(a,l,g,v){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(a,l,g,v){return new T8(a,l,g,v)}function Kg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Oo(a,l){var g=a.alternate;return g===null?(g=ta(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&65011712,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g.refCleanup=a.refCleanup,g}function Sv(a,l){a.flags&=65011714;var g=a.alternate;return g===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,l=g.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function od(a,l,g,v,S,F){var V=0;if(v=a,typeof a=="function")Kg(a)&&(V=1);else if(typeof a=="string")V=FR(a,g,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=ta(31,g,l,S),a.elementType=O,a.lanes=F,a;case R:return Il(g.children,S,F,l);case k:V=8,S|=24;break;case j:return a=ta(12,g,l,S|2),a.elementType=j,a.lanes=F,a;case ae:return a=ta(13,g,l,S),a.elementType=ae,a.lanes=F,a;case ee:return a=ta(19,g,l,S),a.elementType=ee,a.lanes=F,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:V=10;break e;case K:V=9;break e;case ne:V=11;break e;case M:V=14;break e;case H:V=16,v=null;break e}V=29,g=Error(r(130,a===null?"null":typeof a,"")),v=null}return l=ta(V,g,l,S),l.elementType=a,l.type=v,l.lanes=F,l}function Il(a,l,g,v){return a=ta(7,a,v,l),a.lanes=g,a}function zg(a,l,g){return a=ta(6,a,null,l),a.lanes=g,a}function Iv(a){var l=ta(18,null,null,0);return l.stateNode=a,l}function Wg(a,l,g){return l=ta(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Nv=new WeakMap;function ya(a,l){if(typeof a=="object"&&a!==null){var g=Nv.get(a);return g!==void 0?g:(l={value:a,source:l,stack:gt(l)},Nv.set(a,l),l)}return{value:a,source:l,stack:gt(l)}}var Sc=[],Ic=0,Ad=null,Wu=0,Ca=[],Ea=0,vA=null,uo=1,fo="";function Lo(a,l){Sc[Ic++]=Wu,Sc[Ic++]=Ad,Ad=a,Wu=l}function Fv(a,l,g){Ca[Ea++]=uo,Ca[Ea++]=fo,Ca[Ea++]=vA,vA=a;var v=uo;a=fo;var S=32-bt(v)-1;v&=~(1<<S),g+=1;var F=32-bt(l)+S;if(30<F){var V=S-S%5;F=(v&(1<<V)-1).toString(32),v>>=V,S-=V,uo=1<<32-bt(l)+S|g<<S|v,fo=F+a}else uo=1<<F|g<<S|v,fo=a}function Xg(a){a.return!==null&&(Lo(a,1),Fv(a,1,0))}function qg(a){for(;a===Ad;)Ad=Sc[--Ic],Sc[Ic]=null,Wu=Sc[--Ic],Sc[Ic]=null;for(;a===vA;)vA=Ca[--Ea],Ca[Ea]=null,fo=Ca[--Ea],Ca[Ea]=null,uo=Ca[--Ea],Ca[Ea]=null}function Rv(a,l){Ca[Ea++]=uo,Ca[Ea++]=fo,Ca[Ea++]=vA,uo=l.id,fo=l.overflow,vA=a}var ki=null,wr=null,Nn=!1,yA=null,Ba=!1,Yg=Error(r(519));function CA(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xu(ya(l,a)),Yg}function Dv(a){var l=a.stateNode,g=a.type,v=a.memoizedProps;switch(l[fe]=a,l[de]=v,g){case"dialog":En("cancel",l),En("close",l);break;case"iframe":case"object":case"embed":En("load",l);break;case"video":case"audio":for(g=0;g<p0.length;g++)En(p0[g],l);break;case"source":En("error",l);break;case"img":case"image":case"link":En("error",l),En("load",l);break;case"details":En("toggle",l);break;case"input":En("invalid",l),He(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":En("invalid",l);break;case"textarea":En("invalid",l),Kr(l,v.value,v.defaultValue,v.children)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||l.textContent===""+g||v.suppressHydrationWarning===!0||YC(l.textContent,g)?(v.popover!=null&&(En("beforetoggle",l),En("toggle",l)),v.onScroll!=null&&En("scroll",l),v.onScrollEnd!=null&&En("scrollend",l),v.onClick!=null&&(l.onclick=Ir),l=!0):l=!1,l||CA(a,!0)}function Uv(a){for(ki=a.return;ki;)switch(ki.tag){case 5:case 31:case 13:Ba=!1;return;case 27:case 3:Ba=!0;return;default:ki=ki.return}}function Nc(a){if(a!==ki)return!1;if(!Nn)return Uv(a),Nn=!0,!1;var l=a.tag,g;if((g=l!==3&&l!==27)&&((g=l===5)&&(g=a.type,g=!(g!=="form"&&g!=="button")||hm(a.type,a.memoizedProps)),g=!g),g&&wr&&CA(a),Uv(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wr=sE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wr=sE(a)}else l===27?(l=wr,MA(a.type)?(a=wm,wm=null,wr=a):wr=l):wr=ki?Ta(a.stateNode.nextSibling):null;return!0}function Nl(){wr=ki=null,Nn=!1}function Jg(){var a=yA;return a!==null&&(Vs===null?Vs=a:Vs.push.apply(Vs,a),yA=null),a}function Xu(a){yA===null?yA=[a]:yA.push(a)}var Zg=me(null),Fl=null,Qo=null;function EA(a,l,g){ge(Zg,l._currentValue),l._currentValue=g}function Po(a){a._currentValue=Zg.current,Z(Zg)}function $g(a,l,g){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===g)break;a=a.return}}function ep(a,l,g,v){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var F=S.dependencies;if(F!==null){var V=S.child;F=F.firstContext;e:for(;F!==null;){var ie=F;F=S;for(var Te=0;Te<l.length;Te++)if(ie.context===l[Te]){F.lanes|=g,ie=F.alternate,ie!==null&&(ie.lanes|=g),$g(F.return,g,a),v||(V=null);break e}F=ie.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(r(341));V.lanes|=g,F=V.alternate,F!==null&&(F.lanes|=g),$g(V,g,a),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===a){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function Fc(a,l,g,v){a=null;for(var S=l,F=!1;S!==null;){if(!F){if((S.flags&524288)!==0)F=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var ie=S.type;y(S.pendingProps.value,V.value)||(a!==null?a.push(ie):a=[ie])}}else if(S===Ye.current){if(V=S.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(y0):a=[y0])}S=S.return}a!==null&&ep(l,a,g,v),l.flags|=262144}function ld(a){for(a=a.firstContext;a!==null;){if(!y(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Rl(a){Fl=a,Qo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Mi(a){return kv(Fl,a)}function cd(a,l){return Fl===null&&Rl(a),kv(a,l)}function kv(a,l){var g=l._currentValue;if(l={context:l,memoizedValue:g,next:null},Qo===null){if(a===null)throw Error(r(308));Qo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Qo=Qo.next=l;return g}var b8=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(g,v){a.push(v)}};this.abort=function(){l.aborted=!0,a.forEach(function(g){return g()})}},S8=t.unstable_scheduleCallback,I8=t.unstable_NormalPriority,ti={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new b8,data:new Map,refCount:0}}function qu(a){a.refCount--,a.refCount===0&&S8(I8,function(){a.controller.abort()})}var Yu=null,np=0,Rc=0,Dc=null;function N8(a,l){if(Yu===null){var g=Yu=[];np=0,Rc=sm(),Dc={status:"pending",value:void 0,then:function(v){g.push(v)}}}return np++,l.then(Mv,Mv),l}function Mv(){if(--np===0&&Yu!==null){Dc!==null&&(Dc.status="fulfilled");var a=Yu;Yu=null,Rc=0,Dc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function F8(a,l){var g=[],v={status:"pending",value:null,reason:null,then:function(S){g.push(S)}};return a.then(function(){v.status="fulfilled",v.value=l;for(var S=0;S<g.length;S++)(0,g[S])(l)},function(S){for(v.status="rejected",v.reason=S,S=0;S<g.length;S++)(0,g[S])(void 0)}),v}var Ov=ve.S;ve.S=function(a,l){vC=at(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&N8(a,l),Ov!==null&&Ov(a,l)};var Dl=me(null);function rp(){var a=Dl.current;return a!==null?a:ur.pooledCache}function ud(a,l){l===null?ge(Dl,Dl.current):ge(Dl,l.pool)}function Lv(){var a=rp();return a===null?null:{parent:ti._currentValue,pool:a}}var Uc=Error(r(460)),ip=Error(r(474)),fd=Error(r(542)),dd={then:function(){}};function Qv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pv(a,l,g){switch(g=a[g],g===void 0?a.push(l):g!==l&&(l.then(Ir,Ir),l=g),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Vv(a),a;default:if(typeof l.status=="string")l.then(Ir,Ir);else{if(a=ur,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(v){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=v}},function(v){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Vv(a),a}throw kl=l,Uc}}function Ul(a){try{var l=a._init;return l(a._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(kl=g,Uc):g}}var kl=null;function Hv(){if(kl===null)throw Error(r(459));var a=kl;return kl=null,a}function Vv(a){if(a===Uc||a===fd)throw Error(r(483))}var kc=null,Ju=0;function hd(a){var l=Ju;return Ju+=1,kc===null&&(kc=[]),Pv(kc,a,l)}function Zu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function gd(a,l){throw l.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function jv(a){function l(ke,Re){if(a){var Ke=ke.deletions;Ke===null?(ke.deletions=[Re],ke.flags|=16):Ke.push(Re)}}function g(ke,Re){if(!a)return null;for(;Re!==null;)l(ke,Re),Re=Re.sibling;return null}function v(ke){for(var Re=new Map;ke!==null;)ke.key!==null?Re.set(ke.key,ke):Re.set(ke.index,ke),ke=ke.sibling;return Re}function S(ke,Re){return ke=Oo(ke,Re),ke.index=0,ke.sibling=null,ke}function F(ke,Re,Ke){return ke.index=Ke,a?(Ke=ke.alternate,Ke!==null?(Ke=Ke.index,Ke<Re?(ke.flags|=67108866,Re):Ke):(ke.flags|=67108866,Re)):(ke.flags|=1048576,Re)}function V(ke){return a&&ke.alternate===null&&(ke.flags|=67108866),ke}function ie(ke,Re,Ke,lt){return Re===null||Re.tag!==6?(Re=zg(Ke,ke.mode,lt),Re.return=ke,Re):(Re=S(Re,Ke),Re.return=ke,Re)}function Te(ke,Re,Ke,lt){var Wt=Ke.type;return Wt===R?ot(ke,Re,Ke.props.children,lt,Ke.key):Re!==null&&(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===H&&Ul(Wt)===Re.type)?(Re=S(Re,Ke.props),Zu(Re,Ke),Re.return=ke,Re):(Re=od(Ke.type,Ke.key,Ke.props,null,ke.mode,lt),Zu(Re,Ke),Re.return=ke,Re)}function ze(ke,Re,Ke,lt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ke.containerInfo||Re.stateNode.implementation!==Ke.implementation?(Re=Wg(Ke,ke.mode,lt),Re.return=ke,Re):(Re=S(Re,Ke.children||[]),Re.return=ke,Re)}function ot(ke,Re,Ke,lt,Wt){return Re===null||Re.tag!==7?(Re=Il(Ke,ke.mode,lt,Wt),Re.return=ke,Re):(Re=S(Re,Ke),Re.return=ke,Re)}function ct(ke,Re,Ke){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=zg(""+Re,ke.mode,Ke),Re.return=ke,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case N:return Ke=od(Re.type,Re.key,Re.props,null,ke.mode,Ke),Zu(Ke,Re),Ke.return=ke,Ke;case D:return Re=Wg(Re,ke.mode,Ke),Re.return=ke,Re;case H:return Re=Ul(Re),ct(ke,Re,Ke)}if(Ee(Re)||W(Re))return Re=Il(Re,ke.mode,Ke,null),Re.return=ke,Re;if(typeof Re.then=="function")return ct(ke,hd(Re),Ke);if(Re.$$typeof===Q)return ct(ke,cd(ke,Re),Ke);gd(ke,Re)}return null}function qe(ke,Re,Ke,lt){var Wt=Re!==null?Re.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Wt!==null?null:ie(ke,Re,""+Ke,lt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case N:return Ke.key===Wt?Te(ke,Re,Ke,lt):null;case D:return Ke.key===Wt?ze(ke,Re,Ke,lt):null;case H:return Ke=Ul(Ke),qe(ke,Re,Ke,lt)}if(Ee(Ke)||W(Ke))return Wt!==null?null:ot(ke,Re,Ke,lt,null);if(typeof Ke.then=="function")return qe(ke,Re,hd(Ke),lt);if(Ke.$$typeof===Q)return qe(ke,Re,cd(ke,Ke),lt);gd(ke,Ke)}return null}function nt(ke,Re,Ke,lt,Wt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return ke=ke.get(Ke)||null,ie(Re,ke,""+lt,Wt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case N:return ke=ke.get(lt.key===null?Ke:lt.key)||null,Te(Re,ke,lt,Wt);case D:return ke=ke.get(lt.key===null?Ke:lt.key)||null,ze(Re,ke,lt,Wt);case H:return lt=Ul(lt),nt(ke,Re,Ke,lt,Wt)}if(Ee(lt)||W(lt))return ke=ke.get(Ke)||null,ot(Re,ke,lt,Wt,null);if(typeof lt.then=="function")return nt(ke,Re,Ke,hd(lt),Wt);if(lt.$$typeof===Q)return nt(ke,Re,Ke,cd(Re,lt),Wt);gd(Re,lt)}return null}function Qt(ke,Re,Ke,lt){for(var Wt=null,Vn=null,Ht=Re,wn=Re=0,Tn=null;Ht!==null&&wn<Ke.length;wn++){Ht.index>wn?(Tn=Ht,Ht=null):Tn=Ht.sibling;var jn=qe(ke,Ht,Ke[wn],lt);if(jn===null){Ht===null&&(Ht=Tn);break}a&&Ht&&jn.alternate===null&&l(ke,Ht),Re=F(jn,Re,wn),Vn===null?Wt=jn:Vn.sibling=jn,Vn=jn,Ht=Tn}if(wn===Ke.length)return g(ke,Ht),Nn&&Lo(ke,wn),Wt;if(Ht===null){for(;wn<Ke.length;wn++)Ht=ct(ke,Ke[wn],lt),Ht!==null&&(Re=F(Ht,Re,wn),Vn===null?Wt=Ht:Vn.sibling=Ht,Vn=Ht);return Nn&&Lo(ke,wn),Wt}for(Ht=v(Ht);wn<Ke.length;wn++)Tn=nt(Ht,ke,wn,Ke[wn],lt),Tn!==null&&(a&&Tn.alternate!==null&&Ht.delete(Tn.key===null?wn:Tn.key),Re=F(Tn,Re,wn),Vn===null?Wt=Tn:Vn.sibling=Tn,Vn=Tn);return a&&Ht.forEach(function(HA){return l(ke,HA)}),Nn&&Lo(ke,wn),Wt}function qt(ke,Re,Ke,lt){if(Ke==null)throw Error(r(151));for(var Wt=null,Vn=null,Ht=Re,wn=Re=0,Tn=null,jn=Ke.next();Ht!==null&&!jn.done;wn++,jn=Ke.next()){Ht.index>wn?(Tn=Ht,Ht=null):Tn=Ht.sibling;var HA=qe(ke,Ht,jn.value,lt);if(HA===null){Ht===null&&(Ht=Tn);break}a&&Ht&&HA.alternate===null&&l(ke,Ht),Re=F(HA,Re,wn),Vn===null?Wt=HA:Vn.sibling=HA,Vn=HA,Ht=Tn}if(jn.done)return g(ke,Ht),Nn&&Lo(ke,wn),Wt;if(Ht===null){for(;!jn.done;wn++,jn=Ke.next())jn=ct(ke,jn.value,lt),jn!==null&&(Re=F(jn,Re,wn),Vn===null?Wt=jn:Vn.sibling=jn,Vn=jn);return Nn&&Lo(ke,wn),Wt}for(Ht=v(Ht);!jn.done;wn++,jn=Ke.next())jn=nt(Ht,ke,wn,jn.value,lt),jn!==null&&(a&&jn.alternate!==null&&Ht.delete(jn.key===null?wn:jn.key),Re=F(jn,Re,wn),Vn===null?Wt=jn:Vn.sibling=jn,Vn=jn);return a&&Ht.forEach(function(VR){return l(ke,VR)}),Nn&&Lo(ke,wn),Wt}function or(ke,Re,Ke,lt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===R&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case N:e:{for(var Wt=Ke.key;Re!==null;){if(Re.key===Wt){if(Wt=Ke.type,Wt===R){if(Re.tag===7){g(ke,Re.sibling),lt=S(Re,Ke.props.children),lt.return=ke,ke=lt;break e}}else if(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===H&&Ul(Wt)===Re.type){g(ke,Re.sibling),lt=S(Re,Ke.props),Zu(lt,Ke),lt.return=ke,ke=lt;break e}g(ke,Re);break}else l(ke,Re);Re=Re.sibling}Ke.type===R?(lt=Il(Ke.props.children,ke.mode,lt,Ke.key),lt.return=ke,ke=lt):(lt=od(Ke.type,Ke.key,Ke.props,null,ke.mode,lt),Zu(lt,Ke),lt.return=ke,ke=lt)}return V(ke);case D:e:{for(Wt=Ke.key;Re!==null;){if(Re.key===Wt)if(Re.tag===4&&Re.stateNode.containerInfo===Ke.containerInfo&&Re.stateNode.implementation===Ke.implementation){g(ke,Re.sibling),lt=S(Re,Ke.children||[]),lt.return=ke,ke=lt;break e}else{g(ke,Re);break}else l(ke,Re);Re=Re.sibling}lt=Wg(Ke,ke.mode,lt),lt.return=ke,ke=lt}return V(ke);case H:return Ke=Ul(Ke),or(ke,Re,Ke,lt)}if(Ee(Ke))return Qt(ke,Re,Ke,lt);if(W(Ke)){if(Wt=W(Ke),typeof Wt!="function")throw Error(r(150));return Ke=Wt.call(Ke),qt(ke,Re,Ke,lt)}if(typeof Ke.then=="function")return or(ke,Re,hd(Ke),lt);if(Ke.$$typeof===Q)return or(ke,Re,cd(ke,Ke),lt);gd(ke,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Re!==null&&Re.tag===6?(g(ke,Re.sibling),lt=S(Re,Ke),lt.return=ke,ke=lt):(g(ke,Re),lt=zg(Ke,ke.mode,lt),lt.return=ke,ke=lt),V(ke)):g(ke,Re)}return function(ke,Re,Ke,lt){try{Ju=0;var Wt=or(ke,Re,Ke,lt);return kc=null,Wt}catch(Ht){if(Ht===Uc||Ht===fd)throw Ht;var Vn=ta(29,Ht,null,ke.mode);return Vn.lanes=lt,Vn.return=ke,Vn}finally{}}}var Ml=jv(!0),Gv=jv(!1),BA=!1;function sp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _A(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function TA(a,l,g){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(zn&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,l=ad(a),bv(a,null,g),l}return sd(a,v,l,g),ad(a)}function $u(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194048)!==0)){var v=l.lanes;v&=a.pendingLanes,g|=v,l.lanes=g,ei(a,g)}}function op(a,l){var g=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var S=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?S=F=V:F=F.next=V,g=g.next}while(g!==null);F===null?S=F=l:F=F.next=l}else S=F=l;g={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:F,shared:v.shared,callbacks:v.callbacks},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}var Ap=!1;function e0(){if(Ap){var a=Dc;if(a!==null)throw a}}function t0(a,l,g,v){Ap=!1;var S=a.updateQueue;BA=!1;var F=S.firstBaseUpdate,V=S.lastBaseUpdate,ie=S.shared.pending;if(ie!==null){S.shared.pending=null;var Te=ie,ze=Te.next;Te.next=null,V===null?F=ze:V.next=ze,V=Te;var ot=a.alternate;ot!==null&&(ot=ot.updateQueue,ie=ot.lastBaseUpdate,ie!==V&&(ie===null?ot.firstBaseUpdate=ze:ie.next=ze,ot.lastBaseUpdate=Te))}if(F!==null){var ct=S.baseState;V=0,ot=ze=Te=null,ie=F;do{var qe=ie.lane&-536870913,nt=qe!==ie.lane;if(nt?(_n&qe)===qe:(v&qe)===qe){qe!==0&&qe===Rc&&(Ap=!0),ot!==null&&(ot=ot.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Qt=a,qt=ie;qe=l;var or=g;switch(qt.tag){case 1:if(Qt=qt.payload,typeof Qt=="function"){ct=Qt.call(or,ct,qe);break e}ct=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=qt.payload,qe=typeof Qt=="function"?Qt.call(or,ct,qe):Qt,qe==null)break e;ct=C({},ct,qe);break e;case 2:BA=!0}}qe=ie.callback,qe!==null&&(a.flags|=64,nt&&(a.flags|=8192),nt=S.callbacks,nt===null?S.callbacks=[qe]:nt.push(qe))}else nt={lane:qe,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ot===null?(ze=ot=nt,Te=ct):ot=ot.next=nt,V|=qe;if(ie=ie.next,ie===null){if(ie=S.shared.pending,ie===null)break;nt=ie,ie=nt.next,nt.next=null,S.lastBaseUpdate=nt,S.shared.pending=null}}while(!0);ot===null&&(Te=ct),S.baseState=Te,S.firstBaseUpdate=ze,S.lastBaseUpdate=ot,F===null&&(S.shared.lanes=0),FA|=V,a.lanes=V,a.memoizedState=ct}}function Kv(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function zv(a,l){var g=a.callbacks;if(g!==null)for(a.callbacks=null,a=0;a<g.length;a++)Kv(g[a],l)}var Mc=me(null),pd=me(0);function Wv(a,l){a=qo,ge(pd,a),ge(Mc,l),qo=a|l.baseLanes}function lp(){ge(pd,qo),ge(Mc,Mc.current)}function cp(){qo=pd.current,Z(Mc),Z(pd)}var na=me(null),_a=null;function bA(a){var l=a.alternate;ge(Xr,Xr.current&1),ge(na,a),_a===null&&(l===null||Mc.current!==null||l.memoizedState!==null)&&(_a=a)}function up(a){ge(Xr,Xr.current),ge(na,a),_a===null&&(_a=a)}function Xv(a){a.tag===22?(ge(Xr,Xr.current),ge(na,a),_a===null&&(_a=a)):SA()}function SA(){ge(Xr,Xr.current),ge(na,na.current)}function ra(a){Z(na),_a===a&&(_a=null),Z(Xr)}var Xr=me(0);function md(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||mm(g)||xm(g)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ho=0,gn=null,sr=null,ni=null,xd=!1,Oc=!1,Ol=!1,wd=0,n0=0,Lc=null,R8=0;function Pr(){throw Error(r(321))}function fp(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!y(a[g],l[g]))return!1;return!0}function dp(a,l,g,v,S,F){return Ho=F,gn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ve.H=a===null||a.memoizedState===null?Fy:Sp,Ol=!1,F=g(v,S),Ol=!1,Oc&&(F=Yv(l,g,v,S)),qv(a),F}function qv(a){ve.H=s0;var l=sr!==null&&sr.next!==null;if(Ho=0,ni=sr=gn=null,xd=!1,n0=0,Lc=null,l)throw Error(r(300));a===null||ri||(a=a.dependencies,a!==null&&ld(a)&&(ri=!0))}function Yv(a,l,g,v){gn=a;var S=0;do{if(Oc&&(Lc=null),n0=0,Oc=!1,25<=S)throw Error(r(301));if(S+=1,ni=sr=null,a.updateQueue!=null){var F=a.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}ve.H=Ry,F=l(g,v)}while(Oc);return F}function D8(){var a=ve.H,l=a.useState()[0];return l=typeof l.then=="function"?r0(l):l,a=a.useState()[0],(sr!==null?sr.memoizedState:null)!==a&&(gn.flags|=1024),l}function hp(){var a=wd!==0;return wd=0,a}function gp(a,l,g){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~g}function pp(a){if(xd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}xd=!1}Ho=0,ni=sr=gn=null,Oc=!1,n0=wd=0,Lc=null}function xs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?gn.memoizedState=ni=a:ni=ni.next=a,ni}function qr(){if(sr===null){var a=gn.alternate;a=a!==null?a.memoizedState:null}else a=sr.next;var l=ni===null?gn.memoizedState:ni.next;if(l!==null)ni=l,sr=a;else{if(a===null)throw gn.alternate===null?Error(r(467)):Error(r(310));sr=a,a={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},ni===null?gn.memoizedState=ni=a:ni=ni.next=a}return ni}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function r0(a){var l=n0;return n0+=1,Lc===null&&(Lc=[]),a=Pv(Lc,a,l),l=gn,(ni===null?l.memoizedState:ni.next)===null&&(l=l.alternate,ve.H=l===null||l.memoizedState===null?Fy:Sp),a}function yd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return r0(a);if(a.$$typeof===Q)return Mi(a)}throw Error(r(438,String(a)))}function mp(a){var l=null,g=gn.updateQueue;if(g!==null&&(l=g.memoCache),l==null){var v=gn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),g===null&&(g=vd(),gn.updateQueue=g),g.memoCache=l,g=l.data[l.index],g===void 0)for(g=l.data[l.index]=Array(a),v=0;v<a;v++)g[v]=z;return l.index++,g}function Vo(a,l){return typeof l=="function"?l(a):l}function Cd(a){var l=qr();return xp(l,sr,a)}function xp(a,l,g){var v=a.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=g;var S=a.baseQueue,F=v.pending;if(F!==null){if(S!==null){var V=S.next;S.next=F.next,F.next=V}l.baseQueue=S=F,v.pending=null}if(F=a.baseState,S===null)a.memoizedState=F;else{l=S.next;var ie=V=null,Te=null,ze=l,ot=!1;do{var ct=ze.lane&-536870913;if(ct!==ze.lane?(_n&ct)===ct:(Ho&ct)===ct){var qe=ze.revertLane;if(qe===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),ct===Rc&&(ot=!0);else if((Ho&qe)===qe){ze=ze.next,qe===Rc&&(ot=!0);continue}else ct={lane:0,revertLane:ze.revertLane,gesture:null,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Te===null?(ie=Te=ct,V=F):Te=Te.next=ct,gn.lanes|=qe,FA|=qe;ct=ze.action,Ol&&g(F,ct),F=ze.hasEagerState?ze.eagerState:g(F,ct)}else qe={lane:ct,revertLane:ze.revertLane,gesture:ze.gesture,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Te===null?(ie=Te=qe,V=F):Te=Te.next=qe,gn.lanes|=ct,FA|=ct;ze=ze.next}while(ze!==null&&ze!==l);if(Te===null?V=F:Te.next=ie,!y(F,a.memoizedState)&&(ri=!0,ot&&(g=Dc,g!==null)))throw g;a.memoizedState=F,a.baseState=V,a.baseQueue=Te,v.lastRenderedState=F}return S===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function wp(a){var l=qr(),g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=a;var v=g.dispatch,S=g.pending,F=l.memoizedState;if(S!==null){g.pending=null;var V=S=S.next;do F=a(F,V.action),V=V.next;while(V!==S);y(F,l.memoizedState)||(ri=!0),l.memoizedState=F,l.baseQueue===null&&(l.baseState=F),g.lastRenderedState=F}return[F,v]}function Jv(a,l,g){var v=gn,S=qr(),F=Nn;if(F){if(g===void 0)throw Error(r(407));g=g()}else g=l();var V=!y((sr||S).memoizedState,g);if(V&&(S.memoizedState=g,ri=!0),S=S.queue,Cp(ey.bind(null,v,S,a),[a]),S.getSnapshot!==l||V||ni!==null&&ni.memoizedState.tag&1){if(v.flags|=2048,Qc(9,{destroy:void 0},$v.bind(null,v,S,g,l),null),ur===null)throw Error(r(349));F||(Ho&127)!==0||Zv(v,l,g)}return g}function Zv(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=gn.updateQueue,l===null?(l=vd(),gn.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function $v(a,l,g,v){l.value=g,l.getSnapshot=v,ty(l)&&ny(a)}function ey(a,l,g){return g(function(){ty(l)&&ny(a)})}function ty(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!y(a,g)}catch{return!0}}function ny(a){var l=Sl(a,2);l!==null&&js(l,a,2)}function vp(a){var l=xs();if(typeof a=="function"){var g=a;if(a=g(),Ol){mt(!0);try{g()}finally{mt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:a},l}function ry(a,l,g,v){return a.baseState=g,xp(a,sr,typeof v=="function"?v:Vo)}function U8(a,l,g,v,S){if(_d(a))throw Error(r(485));if(a=l.action,a!==null){var F={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){F.listeners.push(V)}};ve.T!==null?g(!0):F.isTransition=!1,v(F),g=l.pending,g===null?(F.next=l.pending=F,iy(l,F)):(F.next=g.next,l.pending=g.next=F)}}function iy(a,l){var g=l.action,v=l.payload,S=a.state;if(l.isTransition){var F=ve.T,V={};ve.T=V;try{var ie=g(S,v),Te=ve.S;Te!==null&&Te(V,ie),sy(a,l,ie)}catch(ze){yp(a,l,ze)}finally{F!==null&&V.types!==null&&(F.types=V.types),ve.T=F}}else try{F=g(S,v),sy(a,l,F)}catch(ze){yp(a,l,ze)}}function sy(a,l,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){ay(a,l,v)},function(v){return yp(a,l,v)}):ay(a,l,g)}function ay(a,l,g){l.status="fulfilled",l.value=g,oy(l),a.state=g,l=a.pending,l!==null&&(g=l.next,g===l?a.pending=null:(g=g.next,l.next=g,iy(a,g)))}function yp(a,l,g){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=g,oy(l),l=l.next;while(l!==v)}a.action=null}function oy(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Ay(a,l){return l}function ly(a,l){if(Nn){var g=ur.formState;if(g!==null){e:{var v=gn;if(Nn){if(wr){t:{for(var S=wr,F=Ba;S.nodeType!==8;){if(!F){S=null;break t}if(S=Ta(S.nextSibling),S===null){S=null;break t}}F=S.data,S=F==="F!"||F==="F"?S:null}if(S){wr=Ta(S.nextSibling),v=S.data==="F!";break e}}CA(v)}v=!1}v&&(l=g[0])}}return g=xs(),g.memoizedState=g.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:l},g.queue=v,g=Sy.bind(null,gn,v),v.dispatch=g,v=vp(!1),F=bp.bind(null,gn,!1,v.queue),v=xs(),S={state:l,dispatch:null,action:a,pending:null},v.queue=S,g=U8.bind(null,gn,S,F,g),S.dispatch=g,v.memoizedState=a,[l,g,!1]}function cy(a){var l=qr();return uy(l,sr,a)}function uy(a,l,g){if(l=xp(a,l,Ay)[0],a=Cd(Vo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=r0(l)}catch(V){throw V===Uc?fd:V}else v=l;l=qr();var S=l.queue,F=S.dispatch;return g!==l.memoizedState&&(gn.flags|=2048,Qc(9,{destroy:void 0},k8.bind(null,S,g),null)),[v,F,a]}function k8(a,l){a.action=l}function fy(a){var l=qr(),g=sr;if(g!==null)return uy(l,g,a);qr(),l=l.memoizedState,g=qr();var v=g.queue.dispatch;return g.memoizedState=a,[l,v,!1]}function Qc(a,l,g,v){return a={tag:a,create:g,deps:v,inst:l,next:null},l=gn.updateQueue,l===null&&(l=vd(),gn.updateQueue=l),g=l.lastEffect,g===null?l.lastEffect=a.next=a:(v=g.next,g.next=a,a.next=v,l.lastEffect=a),a}function dy(){return qr().memoizedState}function Ed(a,l,g,v){var S=xs();gn.flags|=a,S.memoizedState=Qc(1|l,{destroy:void 0},g,v===void 0?null:v)}function Bd(a,l,g,v){var S=qr();v=v===void 0?null:v;var F=S.memoizedState.inst;sr!==null&&v!==null&&fp(v,sr.memoizedState.deps)?S.memoizedState=Qc(l,F,g,v):(gn.flags|=a,S.memoizedState=Qc(1|l,F,g,v))}function hy(a,l){Ed(8390656,8,a,l)}function Cp(a,l){Bd(2048,8,a,l)}function M8(a){gn.flags|=4;var l=gn.updateQueue;if(l===null)l=vd(),gn.updateQueue=l,l.events=[a];else{var g=l.events;g===null?l.events=[a]:g.push(a)}}function gy(a){var l=qr().memoizedState;return M8({ref:l,nextImpl:a}),function(){if((zn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function py(a,l){return Bd(4,2,a,l)}function my(a,l){return Bd(4,4,a,l)}function xy(a,l){if(typeof l=="function"){a=a();var g=l(a);return function(){typeof g=="function"?g():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function wy(a,l,g){g=g!=null?g.concat([a]):null,Bd(4,4,xy.bind(null,l,a),g)}function Ep(){}function vy(a,l){var g=qr();l=l===void 0?null:l;var v=g.memoizedState;return l!==null&&fp(l,v[1])?v[0]:(g.memoizedState=[a,l],a)}function yy(a,l){var g=qr();l=l===void 0?null:l;var v=g.memoizedState;if(l!==null&&fp(l,v[1]))return v[0];if(v=a(),Ol){mt(!0);try{a()}finally{mt(!1)}}return g.memoizedState=[v,l],v}function Bp(a,l,g){return g===void 0||(Ho&1073741824)!==0&&(_n&261930)===0?a.memoizedState=l:(a.memoizedState=g,a=CC(),gn.lanes|=a,FA|=a,g)}function Cy(a,l,g,v){return y(g,l)?g:Mc.current!==null?(a=Bp(a,g,v),y(a,l)||(ri=!0),a):(Ho&42)===0||(Ho&1073741824)!==0&&(_n&261930)===0?(ri=!0,a.memoizedState=g):(a=CC(),gn.lanes|=a,FA|=a,l)}function Ey(a,l,g,v,S){var F=oe.p;oe.p=F!==0&&8>F?F:8;var V=ve.T,ie={};ve.T=ie,bp(a,!1,l,g);try{var Te=S(),ze=ve.S;if(ze!==null&&ze(ie,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ot=F8(Te,v);i0(a,l,ot,aa(a))}else i0(a,l,v,aa(a))}catch(ct){i0(a,l,{then:function(){},status:"rejected",reason:ct},aa())}finally{oe.p=F,V!==null&&ie.types!==null&&(V.types=ie.types),ve.T=V}}function O8(){}function _p(a,l,g,v){if(a.tag!==5)throw Error(r(476));var S=By(a).queue;Ey(a,S,l,je,g===null?O8:function(){return _y(a),g(v)})}function By(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:je},next:null};var g={};return l.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:g},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function _y(a){var l=By(a);l.next===null&&(l=a.alternate.memoizedState),i0(a,l.next.queue,{},aa())}function Tp(){return Mi(y0)}function Ty(){return qr().memoizedState}function by(){return qr().memoizedState}function L8(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var g=aa();a=_A(g);var v=TA(l,a,g);v!==null&&(js(v,l,g),$u(v,l,g)),l={cache:tp()},a.payload=l;return}l=l.return}}function Q8(a,l,g){var v=aa();g={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},_d(a)?Iy(l,g):(g=Gg(a,l,g,v),g!==null&&(js(g,a,v),Ny(g,l,v)))}function Sy(a,l,g){var v=aa();i0(a,l,g,v)}function i0(a,l,g,v){var S={lane:v,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(_d(a))Iy(l,S);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=l.lastRenderedReducer,F!==null))try{var V=l.lastRenderedState,ie=F(V,g);if(S.hasEagerState=!0,S.eagerState=ie,y(ie,V))return sd(a,l,S,0),ur===null&&id(),!1}catch{}finally{}if(g=Gg(a,l,S,v),g!==null)return js(g,a,v),Ny(g,l,v),!0}return!1}function bp(a,l,g,v){if(v={lane:2,revertLane:sm(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},_d(a)){if(l)throw Error(r(479))}else l=Gg(a,g,v,2),l!==null&&js(l,a,2)}function _d(a){var l=a.alternate;return a===gn||l!==null&&l===gn}function Iy(a,l){Oc=xd=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function Ny(a,l,g){if((g&4194048)!==0){var v=l.lanes;v&=a.pendingLanes,g|=v,l.lanes=g,ei(a,g)}}var s0={readContext:Mi,use:yd,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useLayoutEffect:Pr,useInsertionEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useSyncExternalStore:Pr,useId:Pr,useHostTransitionStatus:Pr,useFormState:Pr,useActionState:Pr,useOptimistic:Pr,useMemoCache:Pr,useCacheRefresh:Pr};s0.useEffectEvent=Pr;var Fy={readContext:Mi,use:yd,useCallback:function(a,l){return xs().memoizedState=[a,l===void 0?null:l],a},useContext:Mi,useEffect:hy,useImperativeHandle:function(a,l,g){g=g!=null?g.concat([a]):null,Ed(4194308,4,xy.bind(null,l,a),g)},useLayoutEffect:function(a,l){return Ed(4194308,4,a,l)},useInsertionEffect:function(a,l){Ed(4,2,a,l)},useMemo:function(a,l){var g=xs();l=l===void 0?null:l;var v=a();if(Ol){mt(!0);try{a()}finally{mt(!1)}}return g.memoizedState=[v,l],v},useReducer:function(a,l,g){var v=xs();if(g!==void 0){var S=g(l);if(Ol){mt(!0);try{g(l)}finally{mt(!1)}}}else S=l;return v.memoizedState=v.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},v.queue=a,a=a.dispatch=Q8.bind(null,gn,a),[v.memoizedState,a]},useRef:function(a){var l=xs();return a={current:a},l.memoizedState=a},useState:function(a){a=vp(a);var l=a.queue,g=Sy.bind(null,gn,l);return l.dispatch=g,[a.memoizedState,g]},useDebugValue:Ep,useDeferredValue:function(a,l){var g=xs();return Bp(g,a,l)},useTransition:function(){var a=vp(!1);return a=Ey.bind(null,gn,a.queue,!0,!1),xs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,g){var v=gn,S=xs();if(Nn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=l(),ur===null)throw Error(r(349));(_n&127)!==0||Zv(v,l,g)}S.memoizedState=g;var F={value:g,getSnapshot:l};return S.queue=F,hy(ey.bind(null,v,F,a),[a]),v.flags|=2048,Qc(9,{destroy:void 0},$v.bind(null,v,F,g,l),null),g},useId:function(){var a=xs(),l=ur.identifierPrefix;if(Nn){var g=fo,v=uo;g=(v&~(1<<32-bt(v)-1)).toString(32)+g,l="_"+l+"R_"+g,g=wd++,0<g&&(l+="H"+g.toString(32)),l+="_"}else g=R8++,l="_"+l+"r_"+g.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Tp,useFormState:ly,useActionState:ly,useOptimistic:function(a){var l=xs();l.memoizedState=l.baseState=a;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=g,l=bp.bind(null,gn,!0,g),g.dispatch=l,[a,l]},useMemoCache:mp,useCacheRefresh:function(){return xs().memoizedState=L8.bind(null,gn)},useEffectEvent:function(a){var l=xs(),g={impl:a};return l.memoizedState=g,function(){if((zn&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},Sp={readContext:Mi,use:yd,useCallback:vy,useContext:Mi,useEffect:Cp,useImperativeHandle:wy,useInsertionEffect:py,useLayoutEffect:my,useMemo:yy,useReducer:Cd,useRef:dy,useState:function(){return Cd(Vo)},useDebugValue:Ep,useDeferredValue:function(a,l){var g=qr();return Cy(g,sr.memoizedState,a,l)},useTransition:function(){var a=Cd(Vo)[0],l=qr().memoizedState;return[typeof a=="boolean"?a:r0(a),l]},useSyncExternalStore:Jv,useId:Ty,useHostTransitionStatus:Tp,useFormState:cy,useActionState:cy,useOptimistic:function(a,l){var g=qr();return ry(g,sr,a,l)},useMemoCache:mp,useCacheRefresh:by};Sp.useEffectEvent=gy;var Ry={readContext:Mi,use:yd,useCallback:vy,useContext:Mi,useEffect:Cp,useImperativeHandle:wy,useInsertionEffect:py,useLayoutEffect:my,useMemo:yy,useReducer:wp,useRef:dy,useState:function(){return wp(Vo)},useDebugValue:Ep,useDeferredValue:function(a,l){var g=qr();return sr===null?Bp(g,a,l):Cy(g,sr.memoizedState,a,l)},useTransition:function(){var a=wp(Vo)[0],l=qr().memoizedState;return[typeof a=="boolean"?a:r0(a),l]},useSyncExternalStore:Jv,useId:Ty,useHostTransitionStatus:Tp,useFormState:fy,useActionState:fy,useOptimistic:function(a,l){var g=qr();return sr!==null?ry(g,sr,a,l):(g.baseState=a,[a,g.queue.dispatch])},useMemoCache:mp,useCacheRefresh:by};Ry.useEffectEvent=gy;function Ip(a,l,g,v){l=a.memoizedState,g=g(v,l),g=g==null?l:C({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Np={enqueueSetState:function(a,l,g){a=a._reactInternals;var v=aa(),S=_A(v);S.payload=l,g!=null&&(S.callback=g),l=TA(a,S,v),l!==null&&(js(l,a,v),$u(l,a,v))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var v=aa(),S=_A(v);S.tag=1,S.payload=l,g!=null&&(S.callback=g),l=TA(a,S,v),l!==null&&(js(l,a,v),$u(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=aa(),v=_A(g);v.tag=2,l!=null&&(v.callback=l),l=TA(a,v,g),l!==null&&(js(l,a,g),$u(l,a,g))}};function Dy(a,l,g,v,S,F,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,F,V):l.prototype&&l.prototype.isPureReactComponent?!B(g,v)||!B(S,F):!0}function Uy(a,l,g,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,v),l.state!==a&&Np.enqueueReplaceState(l,l.state,null)}function Ll(a,l){var g=l;if("ref"in l){g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}if(a=a.defaultProps){g===l&&(g=C({},g));for(var S in a)g[S]===void 0&&(g[S]=a[S])}return g}function ky(a){rd(a)}function My(a){console.error(a)}function Oy(a){rd(a)}function Td(a,l){try{var g=a.onUncaughtError;g(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function Ly(a,l,g){try{var v=a.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Fp(a,l,g){return g=_A(g),g.tag=3,g.payload={element:null},g.callback=function(){Td(a,l)},g}function Qy(a){return a=_A(a),a.tag=3,a}function Py(a,l,g,v){var S=g.type.getDerivedStateFromError;if(typeof S=="function"){var F=v.value;a.payload=function(){return S(F)},a.callback=function(){Ly(l,g,v)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){Ly(l,g,v),typeof S!="function"&&(RA===null?RA=new Set([this]):RA.add(this));var ie=v.stack;this.componentDidCatch(v.value,{componentStack:ie!==null?ie:""})})}function P8(a,l,g,v,S){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=g.alternate,l!==null&&Fc(l,g,S,!0),g=na.current,g!==null){switch(g.tag){case 31:case 13:return _a===null?Ld():g.alternate===null&&Hr===0&&(Hr=3),g.flags&=-257,g.flags|=65536,g.lanes=S,v===dd?g.flags|=16384:(l=g.updateQueue,l===null?g.updateQueue=new Set([v]):l.add(v),nm(a,v,S)),!1;case 22:return g.flags|=65536,v===dd?g.flags|=16384:(l=g.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=l):(g=l.retryQueue,g===null?l.retryQueue=new Set([v]):g.add(v)),nm(a,v,S)),!1}throw Error(r(435,g.tag))}return nm(a,v,S),Ld(),!1}if(Nn)return l=na.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,v!==Yg&&(a=Error(r(422),{cause:v}),Xu(ya(a,g)))):(v!==Yg&&(l=Error(r(423),{cause:v}),Xu(ya(l,g))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,v=ya(v,g),S=Fp(a.stateNode,v,S),op(a,S),Hr!==4&&(Hr=2)),!1;var F=Error(r(520),{cause:v});if(F=ya(F,g),d0===null?d0=[F]:d0.push(F),Hr!==4&&(Hr=2),l===null)return!0;v=ya(v,g),g=l;do{switch(g.tag){case 3:return g.flags|=65536,a=S&-S,g.lanes|=a,a=Fp(g.stateNode,v,a),op(g,a),!1;case 1:if(l=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(RA===null||!RA.has(F))))return g.flags|=65536,S&=-S,g.lanes|=S,S=Qy(S),Py(S,a,g,v),op(g,S),!1}g=g.return}while(g!==null);return!1}var Rp=Error(r(461)),ri=!1;function Oi(a,l,g,v){l.child=a===null?Gv(l,null,g,v):Ml(l,a.child,g,v)}function Hy(a,l,g,v,S){g=g.render;var F=l.ref;if("ref"in v){var V={};for(var ie in v)ie!=="ref"&&(V[ie]=v[ie])}else V=v;return Rl(l),v=dp(a,l,g,V,F,S),ie=hp(),a!==null&&!ri?(gp(a,l,S),jo(a,l,S)):(Nn&&ie&&Xg(l),l.flags|=1,Oi(a,l,v,S),l.child)}function Vy(a,l,g,v,S){if(a===null){var F=g.type;return typeof F=="function"&&!Kg(F)&&F.defaultProps===void 0&&g.compare===null?(l.tag=15,l.type=F,jy(a,l,F,v,S)):(a=od(g.type,null,v,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(F=a.child,!Pp(a,S)){var V=F.memoizedProps;if(g=g.compare,g=g!==null?g:B,g(V,v)&&a.ref===l.ref)return jo(a,l,S)}return l.flags|=1,a=Oo(F,v),a.ref=l.ref,a.return=l,l.child=a}function jy(a,l,g,v,S){if(a!==null){var F=a.memoizedProps;if(B(F,v)&&a.ref===l.ref)if(ri=!1,l.pendingProps=v=F,Pp(a,S))(a.flags&131072)!==0&&(ri=!0);else return l.lanes=a.lanes,jo(a,l,S)}return Dp(a,l,g,v,S)}function Gy(a,l,g,v){var S=v.children,F=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(F=F!==null?F.baseLanes|g:g,a!==null){for(v=l.child=a.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~F}else v=0,l.child=null;return Ky(a,l,F,g,v)}if((g&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&ud(l,F!==null?F.cachePool:null),F!==null?Wv(l,F):lp(),Xv(l);else return v=l.lanes=536870912,Ky(a,l,F!==null?F.baseLanes|g:g,g,v)}else F!==null?(ud(l,F.cachePool),Wv(l,F),SA(),l.memoizedState=null):(a!==null&&ud(l,null),lp(),SA());return Oi(a,l,S,g),l.child}function a0(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Ky(a,l,g,v,S){var F=rp();return F=F===null?null:{parent:ti._currentValue,pool:F},l.memoizedState={baseLanes:g,cachePool:F},a!==null&&ud(l,null),lp(),Xv(l),a!==null&&Fc(a,l,v,!0),l.childLanes=S,null}function bd(a,l){return l=Id({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function zy(a,l,g){return Ml(l,a.child,null,g),a=bd(l,l.pendingProps),a.flags|=2,ra(l),l.memoizedState=null,a}function H8(a,l,g){var v=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Nn){if(v.mode==="hidden")return a=bd(l,v),l.lanes=536870912,a0(null,a);if(up(l),(a=wr)?(a=iE(a,Ba),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vA!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},g=Iv(a),g.return=l,l.child=g,ki=l,wr=null)):a=null,a===null)throw CA(l);return l.lanes=536870912,null}return bd(l,v)}var F=a.memoizedState;if(F!==null){var V=F.dehydrated;if(up(l),S)if(l.flags&256)l.flags&=-257,l=zy(a,l,g);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(ri||Fc(a,l,g,!1),S=(g&a.childLanes)!==0,ri||S){if(v=ur,v!==null&&(V=Ss(v,g),V!==0&&V!==F.retryLane))throw F.retryLane=V,Sl(a,V),js(v,a,V),Rp;Ld(),l=zy(a,l,g)}else a=F.treeContext,wr=Ta(V.nextSibling),ki=l,Nn=!0,yA=null,Ba=!1,a!==null&&Rv(l,a),l=bd(l,v),l.flags|=4096;return l}return a=Oo(a.child,{mode:v.mode,children:v.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Sd(a,l){var g=l.ref;if(g===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(a===null||a.ref!==g)&&(l.flags|=4194816)}}function Dp(a,l,g,v,S){return Rl(l),g=dp(a,l,g,v,void 0,S),v=hp(),a!==null&&!ri?(gp(a,l,S),jo(a,l,S)):(Nn&&v&&Xg(l),l.flags|=1,Oi(a,l,g,S),l.child)}function Wy(a,l,g,v,S,F){return Rl(l),l.updateQueue=null,g=Yv(l,v,g,S),qv(a),v=hp(),a!==null&&!ri?(gp(a,l,F),jo(a,l,F)):(Nn&&v&&Xg(l),l.flags|=1,Oi(a,l,g,F),l.child)}function Xy(a,l,g,v,S){if(Rl(l),l.stateNode===null){var F=bc,V=g.contextType;typeof V=="object"&&V!==null&&(F=Mi(V)),F=new g(v,F),l.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Np,l.stateNode=F,F._reactInternals=l,F=l.stateNode,F.props=v,F.state=l.memoizedState,F.refs={},sp(l),V=g.contextType,F.context=typeof V=="object"&&V!==null?Mi(V):bc,F.state=l.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(Ip(l,g,V,v),F.state=l.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(V=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),V!==F.state&&Np.enqueueReplaceState(F,F.state,null),t0(l,v,F,S),e0(),F.state=l.memoizedState),typeof F.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(a===null){F=l.stateNode;var ie=l.memoizedProps,Te=Ll(g,ie);F.props=Te;var ze=F.context,ot=g.contextType;V=bc,typeof ot=="object"&&ot!==null&&(V=Mi(ot));var ct=g.getDerivedStateFromProps;ot=typeof ct=="function"||typeof F.getSnapshotBeforeUpdate=="function",ie=l.pendingProps!==ie,ot||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie||ze!==V)&&Uy(l,F,v,V),BA=!1;var qe=l.memoizedState;F.state=qe,t0(l,v,F,S),e0(),ze=l.memoizedState,ie||qe!==ze||BA?(typeof ct=="function"&&(Ip(l,g,ct,v),ze=l.memoizedState),(Te=BA||Dy(l,g,Te,v,qe,ze,V))?(ot||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=ze),F.props=v,F.state=ze,F.context=V,v=Te):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{F=l.stateNode,ap(a,l),V=l.memoizedProps,ot=Ll(g,V),F.props=ot,ct=l.pendingProps,qe=F.context,ze=g.contextType,Te=bc,typeof ze=="object"&&ze!==null&&(Te=Mi(ze)),ie=g.getDerivedStateFromProps,(ze=typeof ie=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(V!==ct||qe!==Te)&&Uy(l,F,v,Te),BA=!1,qe=l.memoizedState,F.state=qe,t0(l,v,F,S),e0();var nt=l.memoizedState;V!==ct||qe!==nt||BA||a!==null&&a.dependencies!==null&&ld(a.dependencies)?(typeof ie=="function"&&(Ip(l,g,ie,v),nt=l.memoizedState),(ot=BA||Dy(l,g,ot,v,qe,nt,Te)||a!==null&&a.dependencies!==null&&ld(a.dependencies))?(ze||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,nt,Te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,nt,Te)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=nt),F.props=v,F.state=nt,F.context=Te,v=ot):(typeof F.componentDidUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&qe===a.memoizedState||(l.flags|=1024),v=!1)}return F=v,Sd(a,l),v=(l.flags&128)!==0,F||v?(F=l.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:F.render(),l.flags|=1,a!==null&&v?(l.child=Ml(l,a.child,null,S),l.child=Ml(l,null,g,S)):Oi(a,l,g,S),l.memoizedState=F.state,a=l.child):a=jo(a,l,S),a}function qy(a,l,g,v){return Nl(),l.flags|=256,Oi(a,l,g,v),l.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(a){return{baseLanes:a,cachePool:Lv()}}function Mp(a,l,g){return a=a!==null?a.childLanes&~g:0,l&&(a|=sa),a}function Yy(a,l,g){var v=l.pendingProps,S=!1,F=(l.flags&128)!==0,V;if((V=F)||(V=a!==null&&a.memoizedState===null?!1:(Xr.current&2)!==0),V&&(S=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,a===null){if(Nn){if(S?bA(l):SA(),(a=wr)?(a=iE(a,Ba),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vA!==null?{id:uo,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},g=Iv(a),g.return=l,l.child=g,ki=l,wr=null)):a=null,a===null)throw CA(l);return xm(a)?l.lanes=32:l.lanes=536870912,null}var ie=v.children;return v=v.fallback,S?(SA(),S=l.mode,ie=Id({mode:"hidden",children:ie},S),v=Il(v,S,g,null),ie.return=l,v.return=l,ie.sibling=v,l.child=ie,v=l.child,v.memoizedState=kp(g),v.childLanes=Mp(a,V,g),l.memoizedState=Up,a0(null,v)):(bA(l),Op(l,ie))}var Te=a.memoizedState;if(Te!==null&&(ie=Te.dehydrated,ie!==null)){if(F)l.flags&256?(bA(l),l.flags&=-257,l=Lp(a,l,g)):l.memoizedState!==null?(SA(),l.child=a.child,l.flags|=128,l=null):(SA(),ie=v.fallback,S=l.mode,v=Id({mode:"visible",children:v.children},S),ie=Il(ie,S,g,null),ie.flags|=2,v.return=l,ie.return=l,v.sibling=ie,l.child=v,Ml(l,a.child,null,g),v=l.child,v.memoizedState=kp(g),v.childLanes=Mp(a,V,g),l.memoizedState=Up,l=a0(null,v));else if(bA(l),xm(ie)){if(V=ie.nextSibling&&ie.nextSibling.dataset,V)var ze=V.dgst;V=ze,v=Error(r(419)),v.stack="",v.digest=V,Xu({value:v,source:null,stack:null}),l=Lp(a,l,g)}else if(ri||Fc(a,l,g,!1),V=(g&a.childLanes)!==0,ri||V){if(V=ur,V!==null&&(v=Ss(V,g),v!==0&&v!==Te.retryLane))throw Te.retryLane=v,Sl(a,v),js(V,a,v),Rp;mm(ie)||Ld(),l=Lp(a,l,g)}else mm(ie)?(l.flags|=192,l.child=a.child,l=null):(a=Te.treeContext,wr=Ta(ie.nextSibling),ki=l,Nn=!0,yA=null,Ba=!1,a!==null&&Rv(l,a),l=Op(l,v.children),l.flags|=4096);return l}return S?(SA(),ie=v.fallback,S=l.mode,Te=a.child,ze=Te.sibling,v=Oo(Te,{mode:"hidden",children:v.children}),v.subtreeFlags=Te.subtreeFlags&65011712,ze!==null?ie=Oo(ze,ie):(ie=Il(ie,S,g,null),ie.flags|=2),ie.return=l,v.return=l,v.sibling=ie,l.child=v,a0(null,v),v=l.child,ie=a.child.memoizedState,ie===null?ie=kp(g):(S=ie.cachePool,S!==null?(Te=ti._currentValue,S=S.parent!==Te?{parent:Te,pool:Te}:S):S=Lv(),ie={baseLanes:ie.baseLanes|g,cachePool:S}),v.memoizedState=ie,v.childLanes=Mp(a,V,g),l.memoizedState=Up,a0(a.child,v)):(bA(l),g=a.child,a=g.sibling,g=Oo(g,{mode:"visible",children:v.children}),g.return=l,g.sibling=null,a!==null&&(V=l.deletions,V===null?(l.deletions=[a],l.flags|=16):V.push(a)),l.child=g,l.memoizedState=null,g)}function Op(a,l){return l=Id({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Id(a,l){return a=ta(22,a,null,l),a.lanes=0,a}function Lp(a,l,g){return Ml(l,a.child,null,g),a=Op(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Jy(a,l,g){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),$g(a.return,l,g)}function Qp(a,l,g,v,S,F){var V=a.memoizedState;V===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:S,treeForkCount:F}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=g,V.tailMode=S,V.treeForkCount=F)}function Zy(a,l,g){var v=l.pendingProps,S=v.revealOrder,F=v.tail;v=v.children;var V=Xr.current,ie=(V&2)!==0;if(ie?(V=V&1|2,l.flags|=128):V&=1,ge(Xr,V),Oi(a,l,v,g),v=Nn?Wu:0,!ie&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Jy(a,g,l);else if(a.tag===19)Jy(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(g=l.child,S=null;g!==null;)a=g.alternate,a!==null&&md(a)===null&&(S=g),g=g.sibling;g=S,g===null?(S=l.child,l.child=null):(S=g.sibling,g.sibling=null),Qp(l,!1,S,g,F,v);break;case"backwards":case"unstable_legacy-backwards":for(g=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&md(a)===null){l.child=S;break}a=S.sibling,S.sibling=g,g=S,S=a}Qp(l,!0,g,null,F,v);break;case"together":Qp(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function jo(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),FA|=l.lanes,(g&l.childLanes)===0)if(a!==null){if(Fc(a,l,g,!1),(g&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,g=Oo(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=Oo(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function Pp(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ld(a)))}function V8(a,l,g){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),EA(l,ti,a.memoizedState.cache),Nl();break;case 27:case 5:Oe(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:EA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,up(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(bA(l),l.flags|=128,null):(g&l.child.childLanes)!==0?Yy(a,l,g):(bA(l),a=jo(a,l,g),a!==null?a.sibling:null);bA(l);break;case 19:var S=(a.flags&128)!==0;if(v=(g&l.childLanes)!==0,v||(Fc(a,l,g,!1),v=(g&l.childLanes)!==0),S){if(v)return Zy(a,l,g);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ge(Xr,Xr.current),v)break;return null;case 22:return l.lanes=0,Gy(a,l,g,l.pendingProps);case 24:EA(l,ti,a.memoizedState.cache)}return jo(a,l,g)}function $y(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps)ri=!0;else{if(!Pp(a,g)&&(l.flags&128)===0)return ri=!1,V8(a,l,g);ri=(a.flags&131072)!==0}else ri=!1,Nn&&(l.flags&1048576)!==0&&Fv(l,Wu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(a=Ul(l.elementType),l.type=a,typeof a=="function")Kg(a)?(v=Ll(a,v),l.tag=1,l=Xy(null,l,a,v,g)):(l.tag=0,l=Dp(null,l,a,v,g));else{if(a!=null){var S=a.$$typeof;if(S===ne){l.tag=11,l=Hy(null,l,a,v,g);break e}else if(S===M){l.tag=14,l=Vy(null,l,a,v,g);break e}}throw l=Me(a)||a,Error(r(306,l,""))}}return l;case 0:return Dp(a,l,l.type,l.pendingProps,g);case 1:return v=l.type,S=Ll(v,l.pendingProps),Xy(a,l,v,S,g);case 3:e:{if(Ne(l,l.stateNode.containerInfo),a===null)throw Error(r(387));v=l.pendingProps;var F=l.memoizedState;S=F.element,ap(a,l),t0(l,v,null,g);var V=l.memoizedState;if(v=V.cache,EA(l,ti,v),v!==F.cache&&ep(l,[ti],g,!0),e0(),v=V.element,F.isDehydrated)if(F={element:v,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=F,l.memoizedState=F,l.flags&256){l=qy(a,l,v,g);break e}else if(v!==S){S=ya(Error(r(424)),l),Xu(S),l=qy(a,l,v,g);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(wr=Ta(a.firstChild),ki=l,Nn=!0,yA=null,Ba=!0,g=Gv(l,null,v,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Nl(),v===S){l=jo(a,l,g);break e}Oi(a,l,v,g)}l=l.child}return l;case 26:return Sd(a,l),a===null?(g=cE(l.type,null,l.pendingProps,null))?l.memoizedState=g:Nn||(g=l.type,a=l.pendingProps,v=Kd(xe.current).createElement(g),v[fe]=l,v[de]=a,Li(v,g,a),Dt(v),l.stateNode=v):l.memoizedState=cE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Oe(l),a===null&&Nn&&(v=l.stateNode=oE(l.type,l.pendingProps,xe.current),ki=l,Ba=!0,S=wr,MA(l.type)?(wm=S,wr=Ta(v.firstChild)):wr=S),Oi(a,l,l.pendingProps.children,g),Sd(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Nn&&((S=v=wr)&&(v=xR(v,l.type,l.pendingProps,Ba),v!==null?(l.stateNode=v,ki=l,wr=Ta(v.firstChild),Ba=!1,S=!0):S=!1),S||CA(l)),Oe(l),S=l.type,F=l.pendingProps,V=a!==null?a.memoizedProps:null,v=F.children,hm(S,F)?v=null:V!==null&&hm(S,V)&&(l.flags|=32),l.memoizedState!==null&&(S=dp(a,l,D8,null,null,g),y0._currentValue=S),Sd(a,l),Oi(a,l,v,g),l.child;case 6:return a===null&&Nn&&((a=g=wr)&&(g=wR(g,l.pendingProps,Ba),g!==null?(l.stateNode=g,ki=l,wr=null,a=!0):a=!1),a||CA(l)),null;case 13:return Yy(a,l,g);case 4:return Ne(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=Ml(l,null,v,g):Oi(a,l,v,g),l.child;case 11:return Hy(a,l,l.type,l.pendingProps,g);case 7:return Oi(a,l,l.pendingProps,g),l.child;case 8:return Oi(a,l,l.pendingProps.children,g),l.child;case 12:return Oi(a,l,l.pendingProps.children,g),l.child;case 10:return v=l.pendingProps,EA(l,l.type,v.value),Oi(a,l,v.children,g),l.child;case 9:return S=l.type._context,v=l.pendingProps.children,Rl(l),S=Mi(S),v=v(S),l.flags|=1,Oi(a,l,v,g),l.child;case 14:return Vy(a,l,l.type,l.pendingProps,g);case 15:return jy(a,l,l.type,l.pendingProps,g);case 19:return Zy(a,l,g);case 31:return H8(a,l,g);case 22:return Gy(a,l,g,l.pendingProps);case 24:return Rl(l),v=Mi(ti),a===null?(S=rp(),S===null&&(S=ur,F=tp(),S.pooledCache=F,F.refCount++,F!==null&&(S.pooledCacheLanes|=g),S=F),l.memoizedState={parent:v,cache:S},sp(l),EA(l,ti,S)):((a.lanes&g)!==0&&(ap(a,l),t0(l,null,null,g),e0()),S=a.memoizedState,F=l.memoizedState,S.parent!==v?(S={parent:v,cache:v},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),EA(l,ti,v)):(v=F.cache,EA(l,ti,v),v!==S.cache&&ep(l,[ti],g,!0))),Oi(a,l,l.pendingProps.children,g),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Go(a){a.flags|=4}function Hp(a,l,g,v,S){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(S&335544128)===S)if(a.stateNode.complete)a.flags|=8192;else if(TC())a.flags|=8192;else throw kl=dd,ip}else a.flags&=-16777217}function eC(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gE(l))if(TC())a.flags|=8192;else throw kl=dd,ip}function Nd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Cr():536870912,a.lanes|=l,jc|=l)}function o0(a,l){if(!Nn)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function vr(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,v=0;if(l)for(var S=a.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)g|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=g,l}function j8(a,l,g){var v=l.pendingProps;switch(qg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(l),null;case 1:return vr(l),null;case 3:return g=l.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Po(ti),_e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Nc(l)?Go(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jg())),vr(l),null;case 26:var S=l.type,F=l.memoizedState;return a===null?(Go(l),F!==null?(vr(l),eC(l,F)):(vr(l),Hp(l,S,null,v,g))):F?F!==a.memoizedState?(Go(l),vr(l),eC(l,F)):(vr(l),l.flags&=-16777217):(a=a.memoizedProps,a!==v&&Go(l),vr(l),Hp(l,S,a,v,g)),null;case 27:if(yt(l),g=xe.current,S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return vr(l),null}a=le.current,Nc(l)?Dv(l):(a=oE(S,v,g),l.stateNode=a,Go(l))}return vr(l),null;case 5:if(yt(l),S=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return vr(l),null}if(F=le.current,Nc(l))Dv(l);else{var V=Kd(xe.current);switch(F){case 1:F=V.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:F=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":F=V.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":F=V.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":F=V.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?F.multiple=!0:v.size&&(F.size=v.size);break;default:F=typeof v.is=="string"?V.createElement(S,{is:v.is}):V.createElement(S)}}F[fe]=l,F[de]=v;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)F.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=F;e:switch(Li(F,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Go(l)}}return vr(l),Hp(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,g),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==v&&Go(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(a=xe.current,Nc(l)){if(a=l.stateNode,g=l.memoizedProps,v=null,S=ki,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}a[fe]=l,a=!!(a.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||YC(a.nodeValue,g)),a||CA(l,!0)}else a=Kd(a).createTextNode(v),a[fe]=l,l.stateNode=a}return vr(l),null;case 31:if(g=l.memoizedState,a===null||a.memoizedState!==null){if(v=Nc(l),g!==null){if(a===null){if(!v)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[fe]=l}else Nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vr(l),a=!1}else g=Jg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),a=!0;if(!a)return l.flags&256?(ra(l),l):(ra(l),null);if((l.flags&128)!==0)throw Error(r(558))}return vr(l),null;case 13:if(v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Nc(l),v!==null&&v.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[fe]=l}else Nl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vr(l),S=!1}else S=Jg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(ra(l),l):(ra(l),null)}return ra(l),(l.flags&128)!==0?(l.lanes=g,l):(g=v!==null,a=a!==null&&a.memoizedState!==null,g&&(v=l.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),F=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(F=v.memoizedState.cachePool.pool),F!==S&&(v.flags|=2048)),g!==a&&g&&(l.child.flags|=8192),Nd(l,l.updateQueue),vr(l),null);case 4:return _e(),a===null&&lm(l.stateNode.containerInfo),vr(l),null;case 10:return Po(l.type),vr(l),null;case 19:if(Z(Xr),v=l.memoizedState,v===null)return vr(l),null;if(S=(l.flags&128)!==0,F=v.rendering,F===null)if(S)o0(v,!1);else{if(Hr!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(F=md(a),F!==null){for(l.flags|=128,o0(v,!1),a=F.updateQueue,l.updateQueue=a,Nd(l,a),l.subtreeFlags=0,a=g,g=l.child;g!==null;)Sv(g,a),g=g.sibling;return ge(Xr,Xr.current&1|2),Nn&&Lo(l,v.treeForkCount),l.child}a=a.sibling}v.tail!==null&&at()>kd&&(l.flags|=128,S=!0,o0(v,!1),l.lanes=4194304)}else{if(!S)if(a=md(F),a!==null){if(l.flags|=128,S=!0,a=a.updateQueue,l.updateQueue=a,Nd(l,a),o0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!F.alternate&&!Nn)return vr(l),null}else 2*at()-v.renderingStartTime>kd&&g!==536870912&&(l.flags|=128,S=!0,o0(v,!1),l.lanes=4194304);v.isBackwards?(F.sibling=l.child,l.child=F):(a=v.last,a!==null?a.sibling=F:l.child=F,v.last=F)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=at(),a.sibling=null,g=Xr.current,ge(Xr,S?g&1|2:g&1),Nn&&Lo(l,v.treeForkCount),a):(vr(l),null);case 22:case 23:return ra(l),cp(),v=l.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(g&536870912)!==0&&(l.flags&128)===0&&(vr(l),l.subtreeFlags&6&&(l.flags|=8192)):vr(l),g=l.updateQueue,g!==null&&Nd(l,g.retryQueue),g=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==g&&(l.flags|=2048),a!==null&&Z(Dl),null;case 24:return g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Po(ti),vr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function G8(a,l){switch(qg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Po(ti),_e(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return yt(l),null;case 31:if(l.memoizedState!==null){if(ra(l),l.alternate===null)throw Error(r(340));Nl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(ra(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Nl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Z(Xr),null;case 4:return _e(),null;case 10:return Po(l.type),null;case 22:case 23:return ra(l),cp(),a!==null&&Z(Dl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Po(ti),null;case 25:return null;default:return null}}function tC(a,l){switch(qg(l),l.tag){case 3:Po(ti),_e();break;case 26:case 27:case 5:yt(l);break;case 4:_e();break;case 31:l.memoizedState!==null&&ra(l);break;case 13:ra(l);break;case 19:Z(Xr);break;case 10:Po(l.type);break;case 22:case 23:ra(l),cp(),a!==null&&Z(Dl);break;case 24:Po(ti)}}function A0(a,l){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var S=v.next;g=S;do{if((g.tag&a)===a){v=void 0;var F=g.create,V=g.inst;v=F(),V.destroy=v}g=g.next}while(g!==S)}}catch(ie){er(l,l.return,ie)}}function IA(a,l,g){try{var v=l.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var F=S.next;v=F;do{if((v.tag&a)===a){var V=v.inst,ie=V.destroy;if(ie!==void 0){V.destroy=void 0,S=l;var Te=g,ze=ie;try{ze()}catch(ot){er(S,Te,ot)}}}v=v.next}while(v!==F)}}catch(ot){er(l,l.return,ot)}}function nC(a){var l=a.updateQueue;if(l!==null){var g=a.stateNode;try{zv(l,g)}catch(v){er(a,a.return,v)}}}function rC(a,l,g){g.props=Ll(a.type,a.memoizedProps),g.state=a.memoizedState;try{g.componentWillUnmount()}catch(v){er(a,l,v)}}function l0(a,l){try{var g=a.ref;if(g!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof g=="function"?a.refCleanup=g(v):g.current=v}}catch(S){er(a,l,S)}}function ho(a,l){var g=a.ref,v=a.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(S){er(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(S){er(a,l,S)}else g.current=null}function iC(a){var l=a.type,g=a.memoizedProps,v=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(S){er(a,a.return,S)}}function Vp(a,l,g){try{var v=a.stateNode;fR(v,a.type,g,l),v[de]=l}catch(S){er(a,a.return,S)}}function sC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&MA(a.type)||a.tag===4}function jp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&MA(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gp(a,l,g){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(a,l):(l=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,l.appendChild(a),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Ir));else if(v!==4&&(v===27&&MA(a.type)&&(g=a.stateNode,l=null),a=a.child,a!==null))for(Gp(a,l,g),a=a.sibling;a!==null;)Gp(a,l,g),a=a.sibling}function Fd(a,l,g){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(v!==4&&(v===27&&MA(a.type)&&(g=a.stateNode),a=a.child,a!==null))for(Fd(a,l,g),a=a.sibling;a!==null;)Fd(a,l,g),a=a.sibling}function aC(a){var l=a.stateNode,g=a.memoizedProps;try{for(var v=a.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Li(l,v,g),l[fe]=a,l[de]=g}catch(F){er(a,a.return,F)}}var Ko=!1,ii=!1,Kp=!1,oC=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function K8(a,l){if(a=a.containerInfo,fm=Zd,a=Y(a),re(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var S=v.anchorOffset,F=v.focusNode;v=v.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var V=0,ie=-1,Te=-1,ze=0,ot=0,ct=a,qe=null;t:for(;;){for(var nt;ct!==g||S!==0&&ct.nodeType!==3||(ie=V+S),ct!==F||v!==0&&ct.nodeType!==3||(Te=V+v),ct.nodeType===3&&(V+=ct.nodeValue.length),(nt=ct.firstChild)!==null;)qe=ct,ct=nt;for(;;){if(ct===a)break t;if(qe===g&&++ze===S&&(ie=V),qe===F&&++ot===v&&(Te=V),(nt=ct.nextSibling)!==null)break;ct=qe,qe=ct.parentNode}ct=nt}g=ie===-1||Te===-1?null:{start:ie,end:Te}}else g=null}g=g||{start:0,end:0}}else g=null;for(dm={focusedElem:a,selectionRange:g},Zd=!1,Bi=l;Bi!==null;)if(l=Bi,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Bi=a;else for(;Bi!==null;){switch(l=Bi,F=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(g=0;g<a.length;g++)S=a[g],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&F!==null){a=void 0,g=l,S=F.memoizedProps,F=F.memoizedState,v=g.stateNode;try{var Qt=Ll(g.type,S);a=v.getSnapshotBeforeUpdate(Qt,F),v.__reactInternalSnapshotBeforeUpdate=a}catch(qt){er(g,g.return,qt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,g=a.nodeType,g===9)pm(a);else if(g===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":pm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Bi=a;break}Bi=l.return}}function AC(a,l,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:Wo(a,g),v&4&&A0(5,g);break;case 1:if(Wo(a,g),v&4)if(a=g.stateNode,l===null)try{a.componentDidMount()}catch(V){er(g,g.return,V)}else{var S=Ll(g.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(V){er(g,g.return,V)}}v&64&&nC(g),v&512&&l0(g,g.return);break;case 3:if(Wo(a,g),v&64&&(a=g.updateQueue,a!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{zv(a,l)}catch(V){er(g,g.return,V)}}break;case 27:l===null&&v&4&&aC(g);case 26:case 5:Wo(a,g),l===null&&v&4&&iC(g),v&512&&l0(g,g.return);break;case 12:Wo(a,g);break;case 31:Wo(a,g),v&4&&uC(a,g);break;case 13:Wo(a,g),v&4&&fC(a,g),v&64&&(a=g.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(g=eR.bind(null,g),vR(a,g))));break;case 22:if(v=g.memoizedState!==null||Ko,!v){l=l!==null&&l.memoizedState!==null||ii,S=Ko;var F=ii;Ko=v,(ii=l)&&!F?Xo(a,g,(g.subtreeFlags&8772)!==0):Wo(a,g),Ko=S,ii=F}break;case 30:break;default:Wo(a,g)}}function lC(a){var l=a.alternate;l!==null&&(a.alternate=null,lC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ut(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Br=null,Qs=!1;function zo(a,l,g){for(g=g.child;g!==null;)cC(a,l,g),g=g.sibling}function cC(a,l,g){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(st,g)}catch{}switch(g.tag){case 26:ii||ho(g,l),zo(a,l,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ii||ho(g,l);var v=Br,S=Qs;MA(g.type)&&(Br=g.stateNode,Qs=!1),zo(a,l,g),x0(g.stateNode),Br=v,Qs=S;break;case 5:ii||ho(g,l);case 6:if(v=Br,S=Qs,Br=null,zo(a,l,g),Br=v,Qs=S,Br!==null)if(Qs)try{(Br.nodeType===9?Br.body:Br.nodeName==="HTML"?Br.ownerDocument.body:Br).removeChild(g.stateNode)}catch(F){er(g,l,F)}else try{Br.removeChild(g.stateNode)}catch(F){er(g,l,F)}break;case 18:Br!==null&&(Qs?(a=Br,nE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,g.stateNode),Jc(a)):nE(Br,g.stateNode));break;case 4:v=Br,S=Qs,Br=g.stateNode.containerInfo,Qs=!0,zo(a,l,g),Br=v,Qs=S;break;case 0:case 11:case 14:case 15:IA(2,g,l),ii||IA(4,g,l),zo(a,l,g);break;case 1:ii||(ho(g,l),v=g.stateNode,typeof v.componentWillUnmount=="function"&&rC(g,l,v)),zo(a,l,g);break;case 21:zo(a,l,g);break;case 22:ii=(v=ii)||g.memoizedState!==null,zo(a,l,g),ii=v;break;default:zo(a,l,g)}}function uC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Jc(a)}catch(g){er(l,l.return,g)}}}function fC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Jc(a)}catch(g){er(l,l.return,g)}}function z8(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new oC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new oC),l;default:throw Error(r(435,a.tag))}}function Rd(a,l){var g=z8(a);l.forEach(function(v){if(!g.has(v)){g.add(v);var S=tR.bind(null,a,v);v.then(S,S)}})}function Ps(a,l){var g=l.deletions;if(g!==null)for(var v=0;v<g.length;v++){var S=g[v],F=a,V=l,ie=V;e:for(;ie!==null;){switch(ie.tag){case 27:if(MA(ie.type)){Br=ie.stateNode,Qs=!1;break e}break;case 5:Br=ie.stateNode,Qs=!1;break e;case 3:case 4:Br=ie.stateNode.containerInfo,Qs=!0;break e}ie=ie.return}if(Br===null)throw Error(r(160));cC(F,V,S),Br=null,Qs=!1,F=S.alternate,F!==null&&(F.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)dC(l,a),l=l.sibling}var Ka=null;function dC(a,l){var g=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ps(l,a),Hs(a),v&4&&(IA(3,a,a.return),A0(3,a),IA(5,a,a.return));break;case 1:Ps(l,a),Hs(a),v&512&&(ii||g===null||ho(g,g.return)),v&64&&Ko&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(g=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var S=Ka;if(Ps(l,a),Hs(a),v&512&&(ii||g===null||ho(g,g.return)),v&4){var F=g!==null?g.memoizedState:null;if(v=a.memoizedState,g===null)if(v===null)if(a.stateNode===null){e:{v=a.type,g=a.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":F=S.getElementsByTagName("title")[0],(!F||F[Xe]||F[fe]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=S.createElement(v),S.head.insertBefore(F,S.querySelector("head > title"))),Li(F,v,g),F[fe]=a,Dt(F),v=F;break e;case"link":var V=dE("link","href",S).get(v+(g.href||""));if(V){for(var ie=0;ie<V.length;ie++)if(F=V[ie],F.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(ie,1);break t}}F=S.createElement(v),Li(F,v,g),S.head.appendChild(F);break;case"meta":if(V=dE("meta","content",S).get(v+(g.content||""))){for(ie=0;ie<V.length;ie++)if(F=V[ie],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(ie,1);break t}}F=S.createElement(v),Li(F,v,g),S.head.appendChild(F);break;default:throw Error(r(468,v))}F[fe]=a,Dt(F),v=F}a.stateNode=v}else hE(S,a.type,a.stateNode);else a.stateNode=fE(S,v,a.memoizedProps);else F!==v?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,v===null?hE(S,a.type,a.stateNode):fE(S,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Vp(a,a.memoizedProps,g.memoizedProps)}break;case 27:Ps(l,a),Hs(a),v&512&&(ii||g===null||ho(g,g.return)),g!==null&&v&4&&Vp(a,a.memoizedProps,g.memoizedProps);break;case 5:if(Ps(l,a),Hs(a),v&512&&(ii||g===null||ho(g,g.return)),a.flags&32){S=a.stateNode;try{Ns(S,"")}catch(Qt){er(a,a.return,Qt)}}v&4&&a.stateNode!=null&&(S=a.memoizedProps,Vp(a,S,g!==null?g.memoizedProps:S)),v&1024&&(Kp=!0);break;case 6:if(Ps(l,a),Hs(a),v&4){if(a.stateNode===null)throw Error(r(162));v=a.memoizedProps,g=a.stateNode;try{g.nodeValue=v}catch(Qt){er(a,a.return,Qt)}}break;case 3:if(Xd=null,S=Ka,Ka=zd(l.containerInfo),Ps(l,a),Ka=S,Hs(a),v&4&&g!==null&&g.memoizedState.isDehydrated)try{Jc(l.containerInfo)}catch(Qt){er(a,a.return,Qt)}Kp&&(Kp=!1,hC(a));break;case 4:v=Ka,Ka=zd(a.stateNode.containerInfo),Ps(l,a),Hs(a),Ka=v;break;case 12:Ps(l,a),Hs(a);break;case 31:Ps(l,a),Hs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 13:Ps(l,a),Hs(a),a.child.flags&8192&&a.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Ud=at()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 22:S=a.memoizedState!==null;var Te=g!==null&&g.memoizedState!==null,ze=Ko,ot=ii;if(Ko=ze||S,ii=ot||Te,Ps(l,a),ii=ot,Ko=ze,Hs(a),v&8192)e:for(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(g===null||Te||Ko||ii||Ql(a)),g=null,l=a;;){if(l.tag===5||l.tag===26){if(g===null){Te=g=l;try{if(F=Te.stateNode,S)V=F.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ie=Te.stateNode;var ct=Te.memoizedProps.style,qe=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;ie.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Qt){er(Te,Te.return,Qt)}}}else if(l.tag===6){if(g===null){Te=l;try{Te.stateNode.nodeValue=S?"":Te.memoizedProps}catch(Qt){er(Te,Te.return,Qt)}}}else if(l.tag===18){if(g===null){Te=l;try{var nt=Te.stateNode;S?rE(nt,!0):rE(Te.stateNode,!1)}catch(Qt){er(Te,Te.return,Qt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=a.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,Rd(a,g))));break;case 19:Ps(l,a),Hs(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,Rd(a,v)));break;case 30:break;case 21:break;default:Ps(l,a),Hs(a)}}function Hs(a){var l=a.flags;if(l&2){try{for(var g,v=a.return;v!==null;){if(sC(v)){g=v;break}v=v.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var S=g.stateNode,F=jp(a);Fd(a,F,S);break;case 5:var V=g.stateNode;g.flags&32&&(Ns(V,""),g.flags&=-33);var ie=jp(a);Fd(a,ie,V);break;case 3:case 4:var Te=g.stateNode.containerInfo,ze=jp(a);Gp(a,ze,Te);break;default:throw Error(r(161))}}catch(ot){er(a,a.return,ot)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function hC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;hC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Wo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)AC(a,l.alternate,l),l=l.sibling}function Ql(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:IA(4,l,l.return),Ql(l);break;case 1:ho(l,l.return);var g=l.stateNode;typeof g.componentWillUnmount=="function"&&rC(l,l.return,g),Ql(l);break;case 27:x0(l.stateNode);case 26:case 5:ho(l,l.return),Ql(l);break;case 22:l.memoizedState===null&&Ql(l);break;case 30:Ql(l);break;default:Ql(l)}a=a.sibling}}function Xo(a,l,g){for(g=g&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,S=a,F=l,V=F.flags;switch(F.tag){case 0:case 11:case 15:Xo(S,F,g),A0(4,F);break;case 1:if(Xo(S,F,g),v=F,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ze){er(v,v.return,ze)}if(v=F,S=v.updateQueue,S!==null){var ie=v.stateNode;try{var Te=S.shared.hiddenCallbacks;if(Te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Te.length;S++)Kv(Te[S],ie)}catch(ze){er(v,v.return,ze)}}g&&V&64&&nC(F),l0(F,F.return);break;case 27:aC(F);case 26:case 5:Xo(S,F,g),g&&v===null&&V&4&&iC(F),l0(F,F.return);break;case 12:Xo(S,F,g);break;case 31:Xo(S,F,g),g&&V&4&&uC(S,F);break;case 13:Xo(S,F,g),g&&V&4&&fC(S,F);break;case 22:F.memoizedState===null&&Xo(S,F,g),l0(F,F.return);break;case 30:break;default:Xo(S,F,g)}l=l.sibling}}function zp(a,l){var g=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==g&&(a!=null&&a.refCount++,g!=null&&qu(g))}function Wp(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&qu(a))}function za(a,l,g,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gC(a,l,g,v),l=l.sibling}function gC(a,l,g,v){var S=l.flags;switch(l.tag){case 0:case 11:case 15:za(a,l,g,v),S&2048&&A0(9,l);break;case 1:za(a,l,g,v);break;case 3:za(a,l,g,v),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&qu(a)));break;case 12:if(S&2048){za(a,l,g,v),a=l.stateNode;try{var F=l.memoizedProps,V=F.id,ie=F.onPostCommit;typeof ie=="function"&&ie(V,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Te){er(l,l.return,Te)}}else za(a,l,g,v);break;case 31:za(a,l,g,v);break;case 13:za(a,l,g,v);break;case 23:break;case 22:F=l.stateNode,V=l.alternate,l.memoizedState!==null?F._visibility&2?za(a,l,g,v):c0(a,l):F._visibility&2?za(a,l,g,v):(F._visibility|=2,Pc(a,l,g,v,(l.subtreeFlags&10256)!==0||!1)),S&2048&&zp(V,l);break;case 24:za(a,l,g,v),S&2048&&Wp(l.alternate,l);break;default:za(a,l,g,v)}}function Pc(a,l,g,v,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var F=a,V=l,ie=g,Te=v,ze=V.flags;switch(V.tag){case 0:case 11:case 15:Pc(F,V,ie,Te,S),A0(8,V);break;case 23:break;case 22:var ot=V.stateNode;V.memoizedState!==null?ot._visibility&2?Pc(F,V,ie,Te,S):c0(F,V):(ot._visibility|=2,Pc(F,V,ie,Te,S)),S&&ze&2048&&zp(V.alternate,V);break;case 24:Pc(F,V,ie,Te,S),S&&ze&2048&&Wp(V.alternate,V);break;default:Pc(F,V,ie,Te,S)}l=l.sibling}}function c0(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var g=a,v=l,S=v.flags;switch(v.tag){case 22:c0(g,v),S&2048&&zp(v.alternate,v);break;case 24:c0(g,v),S&2048&&Wp(v.alternate,v);break;default:c0(g,v)}l=l.sibling}}var u0=8192;function Hc(a,l,g){if(a.subtreeFlags&u0)for(a=a.child;a!==null;)pC(a,l,g),a=a.sibling}function pC(a,l,g){switch(a.tag){case 26:Hc(a,l,g),a.flags&u0&&a.memoizedState!==null&&RR(g,Ka,a.memoizedState,a.memoizedProps);break;case 5:Hc(a,l,g);break;case 3:case 4:var v=Ka;Ka=zd(a.stateNode.containerInfo),Hc(a,l,g),Ka=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=u0,u0=16777216,Hc(a,l,g),u0=v):Hc(a,l,g));break;default:Hc(a,l,g)}}function mC(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function f0(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var g=0;g<l.length;g++){var v=l[g];Bi=v,wC(v,a)}mC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xC(a),a=a.sibling}function xC(a){switch(a.tag){case 0:case 11:case 15:f0(a),a.flags&2048&&IA(9,a,a.return);break;case 3:f0(a);break;case 12:f0(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Dd(a)):f0(a);break;default:f0(a)}}function Dd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var g=0;g<l.length;g++){var v=l[g];Bi=v,wC(v,a)}mC(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:IA(8,l,l.return),Dd(l);break;case 22:g=l.stateNode,g._visibility&2&&(g._visibility&=-3,Dd(l));break;default:Dd(l)}a=a.sibling}}function wC(a,l){for(;Bi!==null;){var g=Bi;switch(g.tag){case 0:case 11:case 15:IA(8,g,l);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:qu(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,Bi=v;else e:for(g=a;Bi!==null;){v=Bi;var S=v.sibling,F=v.return;if(lC(v),v===g){Bi=null;break e}if(S!==null){S.return=F,Bi=S;break e}Bi=F}}}var W8={getCacheForType:function(a){var l=Mi(ti),g=l.data.get(a);return g===void 0&&(g=a(),l.data.set(a,g)),g},cacheSignal:function(){return Mi(ti).controller.signal}},X8=typeof WeakMap=="function"?WeakMap:Map,zn=0,ur=null,Cn=null,_n=0,$n=0,ia=null,NA=!1,Vc=!1,Xp=!1,qo=0,Hr=0,FA=0,Pl=0,qp=0,sa=0,jc=0,d0=null,Vs=null,Yp=!1,Ud=0,vC=0,kd=1/0,Md=null,RA=null,hi=0,DA=null,Gc=null,Yo=0,Jp=0,Zp=null,yC=null,h0=0,$p=null;function aa(){return(zn&2)!==0&&_n!==0?_n&-_n:ve.T!==null?sm():te()}function CC(){if(sa===0)if((_n&536870912)===0||Nn){var a=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),sa=a}else sa=536870912;return a=na.current,a!==null&&(a.flags|=32),sa}function js(a,l,g){(a===ur&&($n===2||$n===9)||a.cancelPendingCommit!==null)&&(Kc(a,0),UA(a,_n,sa,!1)),ds(a,g),((zn&2)===0||a!==ur)&&(a===ur&&((zn&2)===0&&(Pl|=g),Hr===4&&UA(a,_n,sa,!1)),go(a))}function EC(a,l,g){if((zn&6)!==0)throw Error(r(327));var v=!g&&(l&127)===0&&(l&a.expiredLanes)===0||Dr(a,l),S=v?J8(a,l):tm(a,l,!0),F=v;do{if(S===0){Vc&&!v&&UA(a,l,0,!1);break}else{if(g=a.current.alternate,F&&!q8(g)){S=tm(a,l,!1),F=!1;continue}if(S===2){if(F=l,a.errorRecoveryDisabledLanes&F)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var ie=a;S=d0;var Te=ie.current.memoizedState.isDehydrated;if(Te&&(Kc(ie,V).flags|=256),V=tm(ie,V,!1),V!==2){if(Xp&&!Te){ie.errorRecoveryDisabledLanes|=F,Pl|=F,S=4;break e}F=Vs,Vs=S,F!==null&&(Vs===null?Vs=F:Vs.push.apply(Vs,F))}S=V}if(F=!1,S!==2)continue}}if(S===1){Kc(a,0),UA(a,l,0,!0);break}e:{switch(v=a,F=S,F){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:UA(v,l,sa,!NA);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=Ud+300-at(),10<S)){if(UA(v,l,sa,!NA),Ni(v,0,!0)!==0)break e;Yo=l,v.timeoutHandle=eE(BC.bind(null,v,g,Vs,Md,Yp,l,sa,Pl,jc,NA,F,"Throttled",-0,0),S);break e}BC(v,g,Vs,Md,Yp,l,sa,Pl,jc,NA,F,null,-0,0)}}break}while(!0);go(a)}function BC(a,l,g,v,S,F,V,ie,Te,ze,ot,ct,qe,nt){if(a.timeoutHandle=-1,ct=l.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ir},pC(l,F,ct);var Qt=(F&62914560)===F?Ud-at():(F&4194048)===F?vC-at():0;if(Qt=DR(ct,Qt),Qt!==null){Yo=F,a.cancelPendingCommit=Qt(RC.bind(null,a,l,F,g,v,S,V,ie,Te,ot,ct,null,qe,nt)),UA(a,F,V,!ze);return}}RC(a,l,F,g,v,S,V,ie,Te)}function q8(a){for(var l=a;;){var g=l.tag;if((g===0||g===11||g===15)&&l.flags&16384&&(g=l.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var S=g[v],F=S.getSnapshot;S=S.value;try{if(!y(F(),S))return!1}catch{return!1}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function UA(a,l,g,v){l&=~qp,l&=~Pl,a.suspendedLanes|=l,a.pingedLanes&=~l,v&&(a.warmLanes|=l),v=a.expirationTimes;for(var S=l;0<S;){var F=31-bt(S),V=1<<F;v[F]=-1,S&=~V}g!==0&&So(a,g,l)}function Od(){return(zn&6)===0?(g0(0),!1):!0}function em(){if(Cn!==null){if($n===0)var a=Cn.return;else a=Cn,Qo=Fl=null,pp(a),kc=null,Ju=0,a=Cn;for(;a!==null;)tC(a.alternate,a),a=a.return;Cn=null}}function Kc(a,l){var g=a.timeoutHandle;g!==-1&&(a.timeoutHandle=-1,gR(g)),g=a.cancelPendingCommit,g!==null&&(a.cancelPendingCommit=null,g()),Yo=0,em(),ur=a,Cn=g=Oo(a.current,null),_n=l,$n=0,ia=null,NA=!1,Vc=Dr(a,l),Xp=!1,jc=sa=qp=Pl=FA=Hr=0,Vs=d0=null,Yp=!1,(l&8)!==0&&(l|=l&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=l;0<v;){var S=31-bt(v),F=1<<S;l|=a[S],v&=~F}return qo=l,id(),g}function _C(a,l){gn=null,ve.H=s0,l===Uc||l===fd?(l=Hv(),$n=3):l===ip?(l=Hv(),$n=4):$n=l===Rp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ia=l,Cn===null&&(Hr=1,Td(a,ya(l,a.current)))}function TC(){var a=na.current;return a===null?!0:(_n&4194048)===_n?_a===null:(_n&62914560)===_n||(_n&536870912)!==0?a===_a:!1}function bC(){var a=ve.H;return ve.H=s0,a===null?s0:a}function SC(){var a=ve.A;return ve.A=W8,a}function Ld(){Hr=4,NA||(_n&4194048)!==_n&&na.current!==null||(Vc=!0),(FA&134217727)===0&&(Pl&134217727)===0||ur===null||UA(ur,_n,sa,!1)}function tm(a,l,g){var v=zn;zn|=2;var S=bC(),F=SC();(ur!==a||_n!==l)&&(Md=null,Kc(a,l)),l=!1;var V=Hr;e:do try{if($n!==0&&Cn!==null){var ie=Cn,Te=ia;switch($n){case 8:em(),V=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(l=!0);var ze=$n;if($n=0,ia=null,zc(a,ie,Te,ze),g&&Vc){V=0;break e}break;default:ze=$n,$n=0,ia=null,zc(a,ie,Te,ze)}}Y8(),V=Hr;break}catch(ot){_C(a,ot)}while(!0);return l&&a.shellSuspendCounter++,Qo=Fl=null,zn=v,ve.H=S,ve.A=F,Cn===null&&(ur=null,_n=0,id()),V}function Y8(){for(;Cn!==null;)IC(Cn)}function J8(a,l){var g=zn;zn|=2;var v=bC(),S=SC();ur!==a||_n!==l?(Md=null,kd=at()+500,Kc(a,l)):Vc=Dr(a,l);e:do try{if($n!==0&&Cn!==null){l=Cn;var F=ia;t:switch($n){case 1:$n=0,ia=null,zc(a,l,F,1);break;case 2:case 9:if(Qv(F)){$n=0,ia=null,NC(l);break}l=function(){$n!==2&&$n!==9||ur!==a||($n=7),go(a)},F.then(l,l);break e;case 3:$n=7;break e;case 4:$n=5;break e;case 7:Qv(F)?($n=0,ia=null,NC(l)):($n=0,ia=null,zc(a,l,F,7));break;case 5:var V=null;switch(Cn.tag){case 26:V=Cn.memoizedState;case 5:case 27:var ie=Cn;if(V?gE(V):ie.stateNode.complete){$n=0,ia=null;var Te=ie.sibling;if(Te!==null)Cn=Te;else{var ze=ie.return;ze!==null?(Cn=ze,Qd(ze)):Cn=null}break t}}$n=0,ia=null,zc(a,l,F,5);break;case 6:$n=0,ia=null,zc(a,l,F,6);break;case 8:em(),Hr=6;break e;default:throw Error(r(462))}}Z8();break}catch(ot){_C(a,ot)}while(!0);return Qo=Fl=null,ve.H=v,ve.A=S,zn=g,Cn!==null?0:(ur=null,_n=0,id(),Hr)}function Z8(){for(;Cn!==null&&!Pn();)IC(Cn)}function IC(a){var l=$y(a.alternate,a,qo);a.memoizedProps=a.pendingProps,l===null?Qd(a):Cn=l}function NC(a){var l=a,g=l.alternate;switch(l.tag){case 15:case 0:l=Wy(g,l,l.pendingProps,l.type,void 0,_n);break;case 11:l=Wy(g,l,l.pendingProps,l.type.render,l.ref,_n);break;case 5:pp(l);default:tC(g,l),l=Cn=Sv(l,qo),l=$y(g,l,qo)}a.memoizedProps=a.pendingProps,l===null?Qd(a):Cn=l}function zc(a,l,g,v){Qo=Fl=null,pp(l),kc=null,Ju=0;var S=l.return;try{if(P8(a,S,l,g,_n)){Hr=1,Td(a,ya(g,a.current)),Cn=null;return}}catch(F){if(S!==null)throw Cn=S,F;Hr=1,Td(a,ya(g,a.current)),Cn=null;return}l.flags&32768?(Nn||v===1?a=!0:Vc||(_n&536870912)!==0?a=!1:(NA=a=!0,(v===2||v===9||v===3||v===6)&&(v=na.current,v!==null&&v.tag===13&&(v.flags|=16384))),FC(l,a)):Qd(l)}function Qd(a){var l=a;do{if((l.flags&32768)!==0){FC(l,NA);return}a=l.return;var g=j8(l.alternate,l,qo);if(g!==null){Cn=g;return}if(l=l.sibling,l!==null){Cn=l;return}Cn=l=a}while(l!==null);Hr===0&&(Hr=5)}function FC(a,l){do{var g=G8(a.alternate,a);if(g!==null){g.flags&=32767,Cn=g;return}if(g=a.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!l&&(a=a.sibling,a!==null)){Cn=a;return}Cn=a=g}while(a!==null);Hr=6,Cn=null}function RC(a,l,g,v,S,F,V,ie,Te){a.cancelPendingCommit=null;do Pd();while(hi!==0);if((zn&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(F=l.lanes|l.childLanes,F|=jg,Wn(a,g,F,V,ie,Te),a===ur&&(Cn=ur=null,_n=0),Gc=l,DA=a,Yo=g,Jp=F,Zp=S,yC=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nR(un,function(){return OC(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=ve.T,ve.T=null,S=oe.p,oe.p=2,V=zn,zn|=4;try{K8(a,l,g)}finally{zn=V,oe.p=S,ve.T=v}}hi=1,DC(),UC(),kC()}}function DC(){if(hi===1){hi=0;var a=DA,l=Gc,g=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||g){g=ve.T,ve.T=null;var v=oe.p;oe.p=2;var S=zn;zn|=4;try{dC(l,a);var F=dm,V=Y(a.containerInfo),ie=F.focusedElem,Te=F.selectionRange;if(V!==ie&&ie&&ie.ownerDocument&&P(ie.ownerDocument.documentElement,ie)){if(Te!==null&&re(ie)){var ze=Te.start,ot=Te.end;if(ot===void 0&&(ot=ze),"selectionStart"in ie)ie.selectionStart=ze,ie.selectionEnd=Math.min(ot,ie.value.length);else{var ct=ie.ownerDocument||document,qe=ct&&ct.defaultView||window;if(qe.getSelection){var nt=qe.getSelection(),Qt=ie.textContent.length,qt=Math.min(Te.start,Qt),or=Te.end===void 0?qt:Math.min(Te.end,Qt);!nt.extend&&qt>or&&(V=or,or=qt,qt=V);var ke=U(ie,qt),Re=U(ie,or);if(ke&&Re&&(nt.rangeCount!==1||nt.anchorNode!==ke.node||nt.anchorOffset!==ke.offset||nt.focusNode!==Re.node||nt.focusOffset!==Re.offset)){var Ke=ct.createRange();Ke.setStart(ke.node,ke.offset),nt.removeAllRanges(),qt>or?(nt.addRange(Ke),nt.extend(Re.node,Re.offset)):(Ke.setEnd(Re.node,Re.offset),nt.addRange(Ke))}}}}for(ct=[],nt=ie;nt=nt.parentNode;)nt.nodeType===1&&ct.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<ct.length;ie++){var lt=ct[ie];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Zd=!!fm,dm=fm=null}finally{zn=S,oe.p=v,ve.T=g}}a.current=l,hi=2}}function UC(){if(hi===2){hi=0;var a=DA,l=Gc,g=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||g){g=ve.T,ve.T=null;var v=oe.p;oe.p=2;var S=zn;zn|=4;try{AC(a,l.alternate,l)}finally{zn=S,oe.p=v,ve.T=g}}hi=3}}function kC(){if(hi===4||hi===3){hi=0,dr();var a=DA,l=Gc,g=Yo,v=yC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?hi=5:(hi=0,Gc=DA=null,MC(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(RA=null),hs(g),l=l.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(st,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=ve.T,S=oe.p,oe.p=2,ve.T=null;try{for(var F=a.onRecoverableError,V=0;V<v.length;V++){var ie=v[V];F(ie.value,{componentStack:ie.stack})}}finally{ve.T=l,oe.p=S}}(Yo&3)!==0&&Pd(),go(a),S=a.pendingLanes,(g&261930)!==0&&(S&42)!==0?a===$p?h0++:(h0=0,$p=a):h0=0,g0(0)}}function MC(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,qu(l)))}function Pd(){return DC(),UC(),kC(),OC()}function OC(){if(hi!==5)return!1;var a=DA,l=Jp;Jp=0;var g=hs(Yo),v=ve.T,S=oe.p;try{oe.p=32>g?32:g,ve.T=null,g=Zp,Zp=null;var F=DA,V=Yo;if(hi=0,Gc=DA=null,Yo=0,(zn&6)!==0)throw Error(r(331));var ie=zn;if(zn|=4,xC(F.current),gC(F,F.current,V,g),zn=ie,g0(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(st,F)}catch{}return!0}finally{oe.p=S,ve.T=v,MC(a,l)}}function LC(a,l,g){l=ya(g,l),l=Fp(a.stateNode,l,2),a=TA(a,l,2),a!==null&&(ds(a,2),go(a))}function er(a,l,g){if(a.tag===3)LC(a,a,g);else for(;l!==null;){if(l.tag===3){LC(l,a,g);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(RA===null||!RA.has(v))){a=ya(g,a),g=Qy(2),v=TA(l,g,2),v!==null&&(Py(g,v,l,a),ds(v,2),go(v));break}}l=l.return}}function nm(a,l,g){var v=a.pingCache;if(v===null){v=a.pingCache=new X8;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(g)||(Xp=!0,S.add(g),a=$8.bind(null,a,l,g),l.then(a,a))}function $8(a,l,g){var v=a.pingCache;v!==null&&v.delete(l),a.pingedLanes|=a.suspendedLanes&g,a.warmLanes&=~g,ur===a&&(_n&g)===g&&(Hr===4||Hr===3&&(_n&62914560)===_n&&300>at()-Ud?(zn&2)===0&&Kc(a,0):qp|=g,jc===_n&&(jc=0)),go(a)}function QC(a,l){l===0&&(l=Cr()),a=Sl(a,l),a!==null&&(ds(a,l),go(a))}function eR(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),QC(a,g)}function tR(a,l){var g=0;switch(a.tag){case 31:case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(g=S.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),QC(a,g)}function nR(a,l){return dn(a,l)}var Hd=null,Wc=null,rm=!1,Vd=!1,im=!1,kA=0;function go(a){a!==Wc&&a.next===null&&(Wc===null?Hd=Wc=a:Wc=Wc.next=a),Vd=!0,rm||(rm=!0,iR())}function g0(a,l){if(!im&&Vd){im=!0;do for(var g=!1,v=Hd;v!==null;){if(a!==0){var S=v.pendingLanes;if(S===0)var F=0;else{var V=v.suspendedLanes,ie=v.pingedLanes;F=(1<<31-bt(42|a)+1)-1,F&=S&~(V&~ie),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(g=!0,jC(v,F))}else F=_n,F=Ni(v,v===ur?F:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(F&3)===0||Dr(v,F)||(g=!0,jC(v,F));v=v.next}while(g);im=!1}}function rR(){PC()}function PC(){Vd=rm=!1;var a=0;kA!==0&&hR()&&(a=kA);for(var l=at(),g=null,v=Hd;v!==null;){var S=v.next,F=HC(v,l);F===0?(v.next=null,g===null?Hd=S:g.next=S,S===null&&(Wc=g)):(g=v,(a!==0||(F&3)!==0)&&(Vd=!0)),v=S}hi!==0&&hi!==5||g0(a),kA!==0&&(kA=0)}function HC(a,l){for(var g=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,F=a.pendingLanes&-62914561;0<F;){var V=31-bt(F),ie=1<<V,Te=S[V];Te===-1?((ie&g)===0||(ie&v)!==0)&&(S[V]=ga(ie,l)):Te<=l&&(a.expiredLanes|=ie),F&=~ie}if(l=ur,g=_n,g=Ni(a,a===l?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,g===0||a===l&&($n===2||$n===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&At(v),a.callbackNode=null,a.callbackPriority=0;if((g&3)===0||Dr(a,g)){if(l=g&-g,l===a.callbackPriority)return l;switch(v!==null&&At(v),hs(g)){case 2:case 8:g=$t;break;case 32:g=un;break;case 268435456:g=tt;break;default:g=un}return v=VC.bind(null,a),g=dn(g,v),a.callbackPriority=l,a.callbackNode=g,l}return v!==null&&v!==null&&At(v),a.callbackPriority=2,a.callbackNode=null,2}function VC(a,l){if(hi!==0&&hi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var g=a.callbackNode;if(Pd()&&a.callbackNode!==g)return null;var v=_n;return v=Ni(a,a===ur?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(EC(a,v,l),HC(a,at()),a.callbackNode!=null&&a.callbackNode===g?VC.bind(null,a):null)}function jC(a,l){if(Pd())return null;EC(a,l,!0)}function iR(){pR(function(){(zn&6)!==0?dn(It,rR):PC()})}function sm(){if(kA===0){var a=Rc;a===0&&(a=qi,qi<<=1,(qi&261888)===0&&(qi=256)),kA=a}return kA}function GC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Fs(""+a)}function KC(a,l){var g=l.ownerDocument.createElement("input");return g.name=l.name,g.value=l.value,a.id&&g.setAttribute("form",a.id),l.parentNode.insertBefore(g,l),a=new FormData(a),g.parentNode.removeChild(g),a}function sR(a,l,g,v,S){if(l==="submit"&&g&&g.stateNode===S){var F=GC((S[de]||null).action),V=v.submitter;V&&(l=(l=V[de]||null)?GC(l.formAction):V.getAttribute("formAction"),l!==null&&(F=l,V=null));var ie=new Or("action","action",null,v,S);a.push({event:ie,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(kA!==0){var Te=V?KC(S,V):new FormData(S);_p(g,{pending:!0,data:Te,method:S.method,action:F},null,Te)}}else typeof F=="function"&&(ie.preventDefault(),Te=V?KC(S,V):new FormData(S),_p(g,{pending:!0,data:Te,method:S.method,action:F},F,Te))},currentTarget:S}]})}}for(var am=0;am<zu.length;am++){var om=zu[am],aR=om.toLowerCase(),oR=om[0].toUpperCase()+om.slice(1);Ga(aR,"on"+oR)}Ga(Ls,"onAnimationEnd"),Ga(Ui,"onAnimationIteration"),Ga(qn,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(di,"onTransitionRun"),Ga(ms,"onTransitionStart"),Ga(wA,"onTransitionCancel"),Ga(Mo,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var p0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(p0));function zC(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var v=a[g],S=v.event;v=v.listeners;e:{var F=void 0;if(l)for(var V=v.length-1;0<=V;V--){var ie=v[V],Te=ie.instance,ze=ie.currentTarget;if(ie=ie.listener,Te!==F&&S.isPropagationStopped())break e;F=ie,S.currentTarget=ze;try{F(S)}catch(ot){rd(ot)}S.currentTarget=null,F=Te}else for(V=0;V<v.length;V++){if(ie=v[V],Te=ie.instance,ze=ie.currentTarget,ie=ie.listener,Te!==F&&S.isPropagationStopped())break e;F=ie,S.currentTarget=ze;try{F(S)}catch(ot){rd(ot)}S.currentTarget=null,F=Te}}}}function En(a,l){var g=l[Ve];g===void 0&&(g=l[Ve]=new Set);var v=a+"__bubble";g.has(v)||(WC(l,a,2,!1),g.add(v))}function Am(a,l,g){var v=0;l&&(v|=4),WC(g,a,v,l)}var jd="_reactListening"+Math.random().toString(36).slice(2);function lm(a){if(!a[jd]){a[jd]=!0,it.forEach(function(g){g!=="selectionchange"&&(AR.has(g)||Am(g,!1,a),Am(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[jd]||(l[jd]=!0,Am("selectionchange",!1,l))}}function WC(a,l,g,v){switch(CE(l)){case 2:var S=MR;break;case 8:S=OR;break;default:S=Bm}g=S.bind(null,l,g,a),S=void 0,!yl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(l,g,{capture:!0,passive:S}):a.addEventListener(l,g,!0):S!==void 0?a.addEventListener(l,g,{passive:S}):a.addEventListener(l,g,!1)}function cm(a,l,g,v,S){var F=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var ie=v.stateNode.containerInfo;if(ie===S)break;if(V===4)for(V=v.return;V!==null;){var Te=V.tag;if((Te===3||Te===4)&&V.stateNode.containerInfo===S)return;V=V.return}for(;ie!==null;){if(V=ht(ie),V===null)return;if(Te=V.tag,Te===5||Te===6||Te===26||Te===27){v=F=V;continue e}ie=ie.parentNode}}v=v.return}Cc(function(){var ze=F,ot=mA(g),ct=[];e:{var qe=nd.get(a);if(qe!==void 0){var nt=Or,Qt=a;switch(a){case"keypress":if($s(g)===0)break e;case"keydown":case"keyup":nt=Do;break;case"focusin":Qt="focus",nt=lo;break;case"focusout":Qt="blur",nt=lo;break;case"beforeblur":case"afterblur":nt=lo;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Bc;break;case Ls:case Ui:case qn:nt=en;break;case Mo:nt=Os;break;case"scroll":case"scrollend":nt=Cl;break;case"wheel":nt=_c;break;case"copy":case"cut":case"paste":nt=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=On;break;case"toggle":case"beforetoggle":nt=wa}var qt=(l&4)!==0,or=!qt&&(a==="scroll"||a==="scrollend"),ke=qt?qe!==null?qe+"Capture":null:qe;qt=[];for(var Re=ze,Ke;Re!==null;){var lt=Re;if(Ke=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Ke===null||ke===null||(lt=zt(Re,ke),lt!=null&&qt.push(m0(Re,lt,Ke))),or)break;Re=Re.return}0<qt.length&&(qe=new nt(qe,Qt,null,g,ot),ct.push({event:qe,listeners:qt}))}}if((l&7)===0){e:{if(qe=a==="mouseover"||a==="pointerover",nt=a==="mouseout"||a==="pointerout",qe&&g!==oo&&(Qt=g.relatedTarget||g.fromElement)&&(ht(Qt)||Qt[Ce]))break e;if((nt||qe)&&(qe=ot.window===ot?ot:(qe=ot.ownerDocument)?qe.defaultView||qe.parentWindow:window,nt?(Qt=g.relatedTarget||g.toElement,nt=ze,Qt=Qt?ht(Qt):null,Qt!==null&&(or=s(Qt),qt=Qt.tag,Qt!==or||qt!==5&&qt!==27&&qt!==6)&&(Qt=null)):(nt=null,Qt=ze),nt!==Qt)){if(qt=Mn,lt="onMouseLeave",ke="onMouseEnter",Re="mouse",(a==="pointerout"||a==="pointerover")&&(qt=On,lt="onPointerLeave",ke="onPointerEnter",Re="pointer"),or=nt==null?qe:wt(nt),Ke=Qt==null?qe:wt(Qt),qe=new qt(lt,Re+"leave",nt,g,ot),qe.target=or,qe.relatedTarget=Ke,lt=null,ht(ot)===ze&&(qt=new qt(ke,Re+"enter",Qt,g,ot),qt.target=Ke,qt.relatedTarget=or,lt=qt),or=lt,nt&&Qt)t:{for(qt=lR,ke=nt,Re=Qt,Ke=0,lt=ke;lt;lt=qt(lt))Ke++;lt=0;for(var Wt=Re;Wt;Wt=qt(Wt))lt++;for(;0<Ke-lt;)ke=qt(ke),Ke--;for(;0<lt-Ke;)Re=qt(Re),lt--;for(;Ke--;){if(ke===Re||Re!==null&&ke===Re.alternate){qt=ke;break t}ke=qt(ke),Re=qt(Re)}qt=null}else qt=null;nt!==null&&XC(ct,qe,nt,qt,!1),Qt!==null&&or!==null&&XC(ct,or,Qt,qt,!0)}}e:{if(qe=ze?wt(ze):window,nt=qe.nodeName&&qe.nodeName.toLowerCase(),nt==="select"||nt==="input"&&qe.type==="file")var Vn=ea;else if(Di(qe))if(td)Vn=m;else{Vn=c;var Ht=o}else nt=qe.nodeName,!nt||nt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?ze&&Jn(ze.elementType)&&(Vn=ea):Vn=f;if(Vn&&(Vn=Vn(a,ze))){Ei(ct,Vn,g,ot);break e}Ht&&Ht(a,qe,ze),a==="focusout"&&ze&&qe.type==="number"&&ze.memoizedProps.value!=null&&he(qe,"number",qe.value)}switch(Ht=ze?wt(ze):window,a){case"focusin":(Di(Ht)||Ht.contentEditable==="true")&&(be=Ht,Ie=ze,Le=null);break;case"focusout":Le=Ie=be=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,Ct(ct,g,ot);break;case"selectionchange":if(ye)break;case"keydown":case"keyup":Ct(ct,g,ot)}var wn;if(L)e:{switch(a){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else xn?Hn(a,g)&&(Tn="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Tn="onCompositionStart");Tn&&(Pe&&g.locale!=="ko"&&(xn||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&xn&&(wn=Us()):(Zi=ot,Ds="value"in Zi?Zi.value:Zi.textContent,xn=!0)),Ht=Gd(ze,Tn),0<Ht.length&&(Tn=new El(Tn,a,null,g,ot),ct.push({event:Tn,listeners:Ht}),wn?Tn.data=wn:(wn=gr(g),wn!==null&&(Tn.data=wn)))),(wn=Ae?cr(a,g):Nr(a,g))&&(Tn=Gd(ze,"onBeforeInput"),0<Tn.length&&(Ht=new El("onBeforeInput","beforeinput",null,g,ot),ct.push({event:Ht,listeners:Tn}),Ht.data=wn)),sR(ct,a,ze,g,ot)}zC(ct,l)})}function m0(a,l,g){return{instance:a,listener:l,currentTarget:g}}function Gd(a,l){for(var g=l+"Capture",v=[];a!==null;){var S=a,F=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||F===null||(S=zt(a,g),S!=null&&v.unshift(m0(a,S,F)),S=zt(a,l),S!=null&&v.push(m0(a,S,F))),a.tag===3)return v;a=a.return}return[]}function lR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function XC(a,l,g,v,S){for(var F=l._reactName,V=[];g!==null&&g!==v;){var ie=g,Te=ie.alternate,ze=ie.stateNode;if(ie=ie.tag,Te!==null&&Te===v)break;ie!==5&&ie!==26&&ie!==27||ze===null||(Te=ze,S?(ze=zt(g,F),ze!=null&&V.unshift(m0(g,ze,Te))):S||(ze=zt(g,F),ze!=null&&V.push(m0(g,ze,Te)))),g=g.return}V.length!==0&&a.push({event:l,listeners:V})}var cR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function qC(a){return(typeof a=="string"?a:""+a).replace(cR,`
`).replace(uR,"")}function YC(a,l){return l=qC(l),qC(a)===l}function ar(a,l,g,v,S,F){switch(g){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Ns(a,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Ns(a,""+v);break;case"className":pa(a,"class",v);break;case"tabIndex":pa(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":pa(a,g,v);break;case"style":Vt(a,v,F);break;case"data":if(l!=="object"){pa(a,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||g!=="href")){a.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(g);break}v=Fs(""+v),a.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(l!=="input"&&ar(a,l,"name",S.name,S,null),ar(a,l,"formEncType",S.formEncType,S,null),ar(a,l,"formMethod",S.formMethod,S,null),ar(a,l,"formTarget",S.formTarget,S,null)):(ar(a,l,"encType",S.encType,S,null),ar(a,l,"method",S.method,S,null),ar(a,l,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(g);break}v=Fs(""+v),a.setAttribute(g,v);break;case"onClick":v!=null&&(a.onclick=Ir);break;case"onScroll":v!=null&&En("scroll",a);break;case"onScrollEnd":v!=null&&En("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=g}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}g=Fs(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,""+v):a.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,""):a.removeAttribute(g);break;case"capture":case"download":v===!0?a.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(g,v):a.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(g,v):a.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(g):a.setAttribute(g,v);break;case"popover":En("beforetoggle",a),En("toggle",a),kr(a,"popover",v);break;case"xlinkActuate":Yi(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Yi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Yi(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Yi(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Yi(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Yi(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Yi(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":kr(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=yc.get(g)||g,kr(a,g,v))}}function um(a,l,g,v,S,F){switch(g){case"style":Vt(a,v,F);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(g=v.__html,g!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=g}}break;case"children":typeof v=="string"?Ns(a,v):(typeof v=="number"||typeof v=="bigint")&&Ns(a,""+v);break;case"onScroll":v!=null&&En("scroll",a);break;case"onScrollEnd":v!=null&&En("scrollend",a);break;case"onClick":v!=null&&(a.onclick=Ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rn.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(S=g.endsWith("Capture"),l=g.slice(2,S?g.length-7:void 0),F=a[de]||null,F=F!=null?F[g]:null,typeof F=="function"&&a.removeEventListener(l,F,S),typeof v=="function")){typeof F!="function"&&F!==null&&(g in a?a[g]=null:a.hasAttribute(g)&&a.removeAttribute(g)),a.addEventListener(l,v,S);break e}g in a?a[g]=v:v===!0?a.setAttribute(g,""):kr(a,g,v)}}}function Li(a,l,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",a),En("load",a);var v=!1,S=!1,F;for(F in g)if(g.hasOwnProperty(F)){var V=g[F];if(V!=null)switch(F){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ar(a,l,F,V,g,null)}}S&&ar(a,l,"srcSet",g.srcSet,g,null),v&&ar(a,l,"src",g.src,g,null);return;case"input":En("invalid",a);var ie=F=V=S=null,Te=null,ze=null;for(v in g)if(g.hasOwnProperty(v)){var ot=g[v];if(ot!=null)switch(v){case"name":S=ot;break;case"type":V=ot;break;case"checked":Te=ot;break;case"defaultChecked":ze=ot;break;case"value":F=ot;break;case"defaultValue":ie=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,l));break;default:ar(a,l,v,ot,g,null)}}He(a,F,ie,Te,ze,V,S,!1);return;case"select":En("invalid",a),v=V=F=null;for(S in g)if(g.hasOwnProperty(S)&&(ie=g[S],ie!=null))switch(S){case"value":F=ie;break;case"defaultValue":V=ie;break;case"multiple":v=ie;default:ar(a,l,S,ie,g,null)}l=F,g=V,a.multiple=!!v,l!=null?_t(a,!!v,l,!1):g!=null&&_t(a,!!v,g,!0);return;case"textarea":En("invalid",a),F=S=v=null;for(V in g)if(g.hasOwnProperty(V)&&(ie=g[V],ie!=null))switch(V){case"value":v=ie;break;case"defaultValue":S=ie;break;case"children":F=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(91));break;default:ar(a,l,V,ie,g,null)}Kr(a,v,S,F);return;case"option":for(Te in g)if(g.hasOwnProperty(Te)&&(v=g[Te],v!=null))switch(Te){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ar(a,l,Te,v,g,null)}return;case"dialog":En("beforetoggle",a),En("toggle",a),En("cancel",a),En("close",a);break;case"iframe":case"object":En("load",a);break;case"video":case"audio":for(v=0;v<p0.length;v++)En(p0[v],a);break;case"image":En("error",a),En("load",a);break;case"details":En("toggle",a);break;case"embed":case"source":case"link":En("error",a),En("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in g)if(g.hasOwnProperty(ze)&&(v=g[ze],v!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ar(a,l,ze,v,g,null)}return;default:if(Jn(l)){for(ot in g)g.hasOwnProperty(ot)&&(v=g[ot],v!==void 0&&um(a,l,ot,v,g,void 0));return}}for(ie in g)g.hasOwnProperty(ie)&&(v=g[ie],v!=null&&ar(a,l,ie,v,g,null))}function fR(a,l,g,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,F=null,V=null,ie=null,Te=null,ze=null,ot=null;for(nt in g){var ct=g[nt];if(g.hasOwnProperty(nt)&&ct!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":Te=ct;default:v.hasOwnProperty(nt)||ar(a,l,nt,null,v,ct)}}for(var qe in v){var nt=v[qe];if(ct=g[qe],v.hasOwnProperty(qe)&&(nt!=null||ct!=null))switch(qe){case"type":F=nt;break;case"name":S=nt;break;case"checked":ze=nt;break;case"defaultChecked":ot=nt;break;case"value":V=nt;break;case"defaultValue":ie=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,l));break;default:nt!==ct&&ar(a,l,qe,nt,v,ct)}}xr(a,V,ie,Te,ze,ot,F,S);return;case"select":nt=V=ie=qe=null;for(F in g)if(Te=g[F],g.hasOwnProperty(F)&&Te!=null)switch(F){case"value":break;case"multiple":nt=Te;default:v.hasOwnProperty(F)||ar(a,l,F,null,v,Te)}for(S in v)if(F=v[S],Te=g[S],v.hasOwnProperty(S)&&(F!=null||Te!=null))switch(S){case"value":qe=F;break;case"defaultValue":ie=F;break;case"multiple":V=F;default:F!==Te&&ar(a,l,S,F,v,Te)}l=ie,g=V,v=nt,qe!=null?_t(a,!!g,qe,!1):!!v!=!!g&&(l!=null?_t(a,!!g,l,!0):_t(a,!!g,g?[]:"",!1));return;case"textarea":nt=qe=null;for(ie in g)if(S=g[ie],g.hasOwnProperty(ie)&&S!=null&&!v.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:ar(a,l,ie,null,v,S)}for(V in v)if(S=v[V],F=g[V],v.hasOwnProperty(V)&&(S!=null||F!=null))switch(V){case"value":qe=S;break;case"defaultValue":nt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==F&&ar(a,l,V,S,v,F)}hr(a,qe,nt);return;case"option":for(var Qt in g)if(qe=g[Qt],g.hasOwnProperty(Qt)&&qe!=null&&!v.hasOwnProperty(Qt))switch(Qt){case"selected":a.selected=!1;break;default:ar(a,l,Qt,null,v,qe)}for(Te in v)if(qe=v[Te],nt=g[Te],v.hasOwnProperty(Te)&&qe!==nt&&(qe!=null||nt!=null))switch(Te){case"selected":a.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:ar(a,l,Te,qe,v,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in g)qe=g[qt],g.hasOwnProperty(qt)&&qe!=null&&!v.hasOwnProperty(qt)&&ar(a,l,qt,null,v,qe);for(ze in v)if(qe=v[ze],nt=g[ze],v.hasOwnProperty(ze)&&qe!==nt&&(qe!=null||nt!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,l));break;default:ar(a,l,ze,qe,v,nt)}return;default:if(Jn(l)){for(var or in g)qe=g[or],g.hasOwnProperty(or)&&qe!==void 0&&!v.hasOwnProperty(or)&&um(a,l,or,void 0,v,qe);for(ot in v)qe=v[ot],nt=g[ot],!v.hasOwnProperty(ot)||qe===nt||qe===void 0&&nt===void 0||um(a,l,ot,qe,v,nt);return}}for(var ke in g)qe=g[ke],g.hasOwnProperty(ke)&&qe!=null&&!v.hasOwnProperty(ke)&&ar(a,l,ke,null,v,qe);for(ct in v)qe=v[ct],nt=g[ct],!v.hasOwnProperty(ct)||qe===nt||qe==null&&nt==null||ar(a,l,ct,qe,v,nt)}function JC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,g=performance.getEntriesByType("resource"),v=0;v<g.length;v++){var S=g[v],F=S.transferSize,V=S.initiatorType,ie=S.duration;if(F&&ie&&JC(V)){for(V=0,ie=S.responseEnd,v+=1;v<g.length;v++){var Te=g[v],ze=Te.startTime;if(ze>ie)break;var ot=Te.transferSize,ct=Te.initiatorType;ot&&JC(ct)&&(Te=Te.responseEnd,V+=ot*(Te<ie?1:(ie-ze)/(Te-ze)))}if(--v,l+=8*(F+V)/(S.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var fm=null,dm=null;function Kd(a){return a.nodeType===9?a:a.ownerDocument}function ZC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function hm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gm=null;function hR(){var a=window.event;return a&&a.type==="popstate"?a===gm?!1:(gm=a,!0):(gm=null,!1)}var eE=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,tE=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof tE<"u"?function(a){return tE.resolve(null).then(a).catch(mR)}:eE;function mR(a){setTimeout(function(){throw a})}function MA(a){return a==="head"}function nE(a,l){var g=l,v=0;do{var S=g.nextSibling;if(a.removeChild(g),S&&S.nodeType===8)if(g=S.data,g==="/$"||g==="/&"){if(v===0){a.removeChild(S),Jc(l);return}v--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")v++;else if(g==="html")x0(a.ownerDocument.documentElement);else if(g==="head"){g=a.ownerDocument.head,x0(g);for(var F=g.firstChild;F;){var V=F.nextSibling,ie=F.nodeName;F[Xe]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&F.rel.toLowerCase()==="stylesheet"||g.removeChild(F),F=V}}else g==="body"&&x0(a.ownerDocument.body);g=S}while(g);Jc(l)}function rE(a,l){var g=a;a=0;do{var v=g.nextSibling;if(g.nodeType===1?l?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(l?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),v&&v.nodeType===8)if(g=v.data,g==="/$"){if(a===0)break;a--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||a++;g=v}while(g)}function pm(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var g=l;switch(l=l.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":pm(g),ut(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}a.removeChild(g)}}function xR(a,l,g,v){for(;a.nodeType===1;){var S=g;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[Xe])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(F=a.getAttribute("rel"),F==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(F!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(F=a.getAttribute("src"),(F!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&F&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var F=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===F)return a}else return a;if(a=Ta(a.nextSibling),a===null)break}return null}function wR(a,l,g){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!g||(a=Ta(a.nextSibling),a===null))return null;return a}function iE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ta(a.nextSibling),a===null))return null;return a}function mm(a){return a.data==="$?"||a.data==="$~"}function xm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vR(a,l){var g=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||g.readyState!=="loading")l();else{var v=function(){l(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Ta(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var wm=null;function sE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"||g==="/&"){if(l===0)return Ta(a.nextSibling);l--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||l++}a=a.nextSibling}return null}function aE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(l===0)return a;l--}else g!=="/$"&&g!=="/&"||l++}a=a.previousSibling}return null}function oE(a,l,g){switch(l=Kd(g),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function x0(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ut(a)}var ba=new Map,AE=new Set;function zd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Jo=oe.d;oe.d={f:yR,r:CR,D:ER,C:BR,L:_R,m:TR,X:SR,S:bR,M:IR};function yR(){var a=Jo.f(),l=Od();return a||l}function CR(a){var l=pt(a);l!==null&&l.tag===5&&l.type==="form"?_y(l):Jo.r(a)}var Xc=typeof document>"u"?null:document;function lE(a,l,g){var v=Xc;if(v&&typeof l=="string"&&l){var S=Yt(l);S='link[rel="'+a+'"][href="'+S+'"]',typeof g=="string"&&(S+='[crossorigin="'+g+'"]'),AE.has(S)||(AE.add(S),a={rel:a,crossOrigin:g,href:l},v.querySelector(S)===null&&(l=v.createElement("link"),Li(l,"link",a),Dt(l),v.head.appendChild(l)))}}function ER(a){Jo.D(a),lE("dns-prefetch",a,null)}function BR(a,l){Jo.C(a,l),lE("preconnect",a,l)}function _R(a,l,g){Jo.L(a,l,g);var v=Xc;if(v&&a&&l){var S='link[rel="preload"][as="'+Yt(l)+'"]';l==="image"&&g&&g.imageSrcSet?(S+='[imagesrcset="'+Yt(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(S+='[imagesizes="'+Yt(g.imageSizes)+'"]')):S+='[href="'+Yt(a)+'"]';var F=S;switch(l){case"style":F=qc(a);break;case"script":F=Yc(a)}ba.has(F)||(a=C({rel:"preload",href:l==="image"&&g&&g.imageSrcSet?void 0:a,as:l},g),ba.set(F,a),v.querySelector(S)!==null||l==="style"&&v.querySelector(w0(F))||l==="script"&&v.querySelector(v0(F))||(l=v.createElement("link"),Li(l,"link",a),Dt(l),v.head.appendChild(l)))}}function TR(a,l){Jo.m(a,l);var g=Xc;if(g&&a){var v=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Yt(v)+'"][href="'+Yt(a)+'"]',F=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Yc(a)}if(!ba.has(F)&&(a=C({rel:"modulepreload",href:a},l),ba.set(F,a),g.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(v0(F)))return}v=g.createElement("link"),Li(v,"link",a),Dt(v),g.head.appendChild(v)}}}function bR(a,l,g){Jo.S(a,l,g);var v=Xc;if(v&&a){var S=Et(v).hoistableStyles,F=qc(a);l=l||"default";var V=S.get(F);if(!V){var ie={loading:0,preload:null};if(V=v.querySelector(w0(F)))ie.loading=5;else{a=C({rel:"stylesheet",href:a,"data-precedence":l},g),(g=ba.get(F))&&vm(a,g);var Te=V=v.createElement("link");Dt(Te),Li(Te,"link",a),Te._p=new Promise(function(ze,ot){Te.onload=ze,Te.onerror=ot}),Te.addEventListener("load",function(){ie.loading|=1}),Te.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,Wd(V,l,v)}V={type:"stylesheet",instance:V,count:1,state:ie},S.set(F,V)}}}function SR(a,l){Jo.X(a,l);var g=Xc;if(g&&a){var v=Et(g).hoistableScripts,S=Yc(a),F=v.get(S);F||(F=g.querySelector(v0(S)),F||(a=C({src:a,async:!0},l),(l=ba.get(S))&&ym(a,l),F=g.createElement("script"),Dt(F),Li(F,"link",a),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(S,F))}}function IR(a,l){Jo.M(a,l);var g=Xc;if(g&&a){var v=Et(g).hoistableScripts,S=Yc(a),F=v.get(S);F||(F=g.querySelector(v0(S)),F||(a=C({src:a,async:!0,type:"module"},l),(l=ba.get(S))&&ym(a,l),F=g.createElement("script"),Dt(F),Li(F,"link",a),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},v.set(S,F))}}function cE(a,l,g,v){var S=(S=xe.current)?zd(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(l=qc(g.href),g=Et(S).hoistableStyles,v=g.get(l),v||(v={type:"style",instance:null,count:0,state:null},g.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){a=qc(g.href);var F=Et(S).hoistableStyles,V=F.get(a);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(a,V),(F=S.querySelector(w0(a)))&&!F._p&&(V.instance=F,V.state.loading=5),ba.has(a)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ba.set(a,g),F||NR(S,a,g,V.state))),l&&v===null)throw Error(r(528,""));return V}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=g.async,g=g.src,typeof g=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yc(g),g=Et(S).hoistableScripts,v=g.get(l),v||(v={type:"script",instance:null,count:0,state:null},g.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function qc(a){return'href="'+Yt(a)+'"'}function w0(a){return'link[rel="stylesheet"]['+a+"]"}function uE(a){return C({},a,{"data-precedence":a.precedence,precedence:null})}function NR(a,l,g,v){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=a.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Li(l,"link",g),Dt(l),a.head.appendChild(l))}function Yc(a){return'[src="'+Yt(a)+'"]'}function v0(a){return"script[async]"+a}function fE(a,l,g){if(l.count++,l.instance===null)switch(l.type){case"style":var v=a.querySelector('style[data-href~="'+Yt(g.href)+'"]');if(v)return l.instance=v,Dt(v),v;var S=C({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Dt(v),Li(v,"style",S),Wd(v,g.precedence,a),l.instance=v;case"stylesheet":S=qc(g.href);var F=a.querySelector(w0(S));if(F)return l.state.loading|=4,l.instance=F,Dt(F),F;v=uE(g),(S=ba.get(S))&&vm(v,S),F=(a.ownerDocument||a).createElement("link"),Dt(F);var V=F;return V._p=new Promise(function(ie,Te){V.onload=ie,V.onerror=Te}),Li(F,"link",v),l.state.loading|=4,Wd(F,g.precedence,a),l.instance=F;case"script":return F=Yc(g.src),(S=a.querySelector(v0(F)))?(l.instance=S,Dt(S),S):(v=g,(S=ba.get(F))&&(v=C({},g),ym(v,S)),a=a.ownerDocument||a,S=a.createElement("script"),Dt(S),Li(S,"link",v),a.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Wd(v,g.precedence,a));return l.instance}function Wd(a,l,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,F=S,V=0;V<v.length;V++){var ie=v[V];if(ie.dataset.precedence===l)F=ie;else if(F!==S)break}F?F.parentNode.insertBefore(a,F.nextSibling):(l=g.nodeType===9?g.head:g,l.insertBefore(a,l.firstChild))}function vm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function ym(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Xd=null;function dE(a,l,g){if(Xd===null){var v=new Map,S=Xd=new Map;S.set(g,v)}else S=Xd,v=S.get(g),v||(v=new Map,S.set(g,v));if(v.has(a))return v;for(v.set(a,null),g=g.getElementsByTagName(a),S=0;S<g.length;S++){var F=g[S];if(!(F[Xe]||F[fe]||a==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var V=F.getAttribute(l)||"";V=a+V;var ie=v.get(V);ie?ie.push(F):v.set(V,[F])}}return v}function hE(a,l,g){a=a.ownerDocument||a,a.head.insertBefore(g,l==="title"?a.querySelector("head > title"):null)}function FR(a,l,g){if(g===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function RR(a,l,g,v){if(g.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var S=qc(v.href),F=l.querySelector(w0(S));if(F){l=F._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=qd.bind(a),l.then(a,a)),g.state.loading|=4,g.instance=F,Dt(F);return}F=l.ownerDocument||l,v=uE(v),(S=ba.get(S))&&vm(v,S),F=F.createElement("link"),Dt(F);var V=F;V._p=new Promise(function(ie,Te){V.onload=ie,V.onerror=Te}),Li(F,"link",v),g.instance=F}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(g,l),(l=g.state.preload)&&(g.state.loading&3)===0&&(a.count++,g=qd.bind(a),l.addEventListener("load",g),l.addEventListener("error",g))}}var Cm=0;function DR(a,l){return a.stylesheets&&a.count===0&&Jd(a,a.stylesheets),0<a.count||0<a.imgCount?function(g){var v=setTimeout(function(){if(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend){var F=a.unsuspend;a.unsuspend=null,F()}},6e4+l);0<a.imgBytes&&Cm===0&&(Cm=62500*dR());var S=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jd(a,a.stylesheets),a.unsuspend)){var F=a.unsuspend;a.unsuspend=null,F()}},(a.imgBytes>Cm?50:800)+l);return a.unsuspend=g,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yd=null;function Jd(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yd=new Map,l.forEach(UR,a),Yd=null,qd.call(a))}function UR(a,l){if(!(l.state.loading&4)){var g=Yd.get(a);if(g)var v=g.get(null);else{g=new Map,Yd.set(a,g);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<S.length;F++){var V=S[F];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),v=V)}v&&g.set(null,v)}S=l.instance,V=S.getAttribute("data-precedence"),F=g.get(V)||v,F===v&&g.set(null,S),g.set(V,S),this.count++,v=qd.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),F?F.parentNode.insertBefore(S,F.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),l.state.loading|=4}}var y0={$$typeof:Q,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function kR(a,l,g,v,S,F,V,ie,Te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=F,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function pE(a,l,g,v,S,F,V,ie,Te,ze,ot,ct){return a=new kR(a,l,g,V,Te,ze,ot,ct,ie),l=1,F===!0&&(l|=24),F=ta(3,null,null,l),a.current=F,F.stateNode=a,l=tp(),l.refCount++,a.pooledCache=l,l.refCount++,F.memoizedState={element:v,isDehydrated:g,cache:l},sp(F),a}function mE(a){return a?(a=bc,a):bc}function xE(a,l,g,v,S,F){S=mE(S),v.context===null?v.context=S:v.pendingContext=S,v=_A(l),v.payload={element:g},F=F===void 0?null:F,F!==null&&(v.callback=F),g=TA(a,v,l),g!==null&&(js(g,a,l),$u(g,a,l))}function wE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function Em(a,l){wE(a,l),(a=a.alternate)&&wE(a,l)}function vE(a){if(a.tag===13||a.tag===31){var l=Sl(a,67108864);l!==null&&js(l,a,67108864),Em(a,67108864)}}function yE(a){if(a.tag===13||a.tag===31){var l=aa();l=Ur(l);var g=Sl(a,l);g!==null&&js(g,a,l),Em(a,l)}}var Zd=!0;function MR(a,l,g,v){var S=ve.T;ve.T=null;var F=oe.p;try{oe.p=2,Bm(a,l,g,v)}finally{oe.p=F,ve.T=S}}function OR(a,l,g,v){var S=ve.T;ve.T=null;var F=oe.p;try{oe.p=8,Bm(a,l,g,v)}finally{oe.p=F,ve.T=S}}function Bm(a,l,g,v){if(Zd){var S=_m(v);if(S===null)cm(a,l,v,$d,g),EE(a,v);else if(QR(S,a,l,g,v))v.stopPropagation();else if(EE(a,v),l&4&&-1<LR.indexOf(a)){for(;S!==null;){var F=pt(S);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var V=ui(F.pendingLanes);if(V!==0){var ie=F;for(ie.pendingLanes|=2,ie.entangledLanes|=2;V;){var Te=1<<31-bt(V);ie.entanglements[1]|=Te,V&=~Te}go(F),(zn&6)===0&&(kd=at()+500,g0(0))}}break;case 31:case 13:ie=Sl(F,2),ie!==null&&js(ie,F,2),Od(),Em(F,2)}if(F=_m(v),F===null&&cm(a,l,v,$d,g),F===S)break;S=F}S!==null&&v.stopPropagation()}else cm(a,l,v,null,g)}}function _m(a){return a=mA(a),Tm(a)}var $d=null;function Tm(a){if($d=null,a=ht(a),a!==null){var l=s(a);if(l===null)a=null;else{var g=l.tag;if(g===13){if(a=A(l),a!==null)return a;a=null}else if(g===31){if(a=u(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return $d=a,null}function CE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case It:return 2;case $t:return 8;case un:case fn:return 32;case tt:return 268435456;default:return 32}default:return 32}}var bm=!1,OA=null,LA=null,QA=null,C0=new Map,E0=new Map,PA=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EE(a,l){switch(a){case"focusin":case"focusout":OA=null;break;case"dragenter":case"dragleave":LA=null;break;case"mouseover":case"mouseout":QA=null;break;case"pointerover":case"pointerout":C0.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(l.pointerId)}}function B0(a,l,g,v,S,F){return a===null||a.nativeEvent!==F?(a={blockedOn:l,domEventName:g,eventSystemFlags:v,nativeEvent:F,targetContainers:[S]},l!==null&&(l=pt(l),l!==null&&vE(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),a)}function QR(a,l,g,v,S){switch(l){case"focusin":return OA=B0(OA,a,l,g,v,S),!0;case"dragenter":return LA=B0(LA,a,l,g,v,S),!0;case"mouseover":return QA=B0(QA,a,l,g,v,S),!0;case"pointerover":var F=S.pointerId;return C0.set(F,B0(C0.get(F)||null,a,l,g,v,S)),!0;case"gotpointercapture":return F=S.pointerId,E0.set(F,B0(E0.get(F)||null,a,l,g,v,S)),!0}return!1}function BE(a){var l=ht(a.target);if(l!==null){var g=s(l);if(g!==null){if(l=g.tag,l===13){if(l=A(g),l!==null){a.blockedOn=l,se(a.priority,function(){yE(g)});return}}else if(l===31){if(l=u(g),l!==null){a.blockedOn=l,se(a.priority,function(){yE(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function eh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=_m(a.nativeEvent);if(g===null){g=a.nativeEvent;var v=new g.constructor(g.type,g);oo=v,g.target.dispatchEvent(v),oo=null}else return l=pt(g),l!==null&&vE(l),a.blockedOn=g,!1;l.shift()}return!0}function _E(a,l,g){eh(a)&&g.delete(l)}function PR(){bm=!1,OA!==null&&eh(OA)&&(OA=null),LA!==null&&eh(LA)&&(LA=null),QA!==null&&eh(QA)&&(QA=null),C0.forEach(_E),E0.forEach(_E)}function th(a,l){a.blockedOn===l&&(a.blockedOn=null,bm||(bm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PR)))}var nh=null;function TE(a){nh!==a&&(nh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nh===a&&(nh=null);for(var l=0;l<a.length;l+=3){var g=a[l],v=a[l+1],S=a[l+2];if(typeof v!="function"){if(Tm(v||g)===null)continue;break}var F=pt(g);F!==null&&(a.splice(l,3),l-=3,_p(F,{pending:!0,data:S,method:g.method,action:v},v,S))}}))}function Jc(a){function l(Te){return th(Te,a)}OA!==null&&th(OA,a),LA!==null&&th(LA,a),QA!==null&&th(QA,a),C0.forEach(l),E0.forEach(l);for(var g=0;g<PA.length;g++){var v=PA[g];v.blockedOn===a&&(v.blockedOn=null)}for(;0<PA.length&&(g=PA[0],g.blockedOn===null);)BE(g),g.blockedOn===null&&PA.shift();if(g=(a.ownerDocument||a).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var S=g[v],F=g[v+1],V=S[de]||null;if(typeof F=="function")V||TE(g);else if(V){var ie=null;if(F&&F.hasAttribute("formAction")){if(S=F,V=F[de]||null)ie=V.formAction;else if(Tm(S)!==null)continue}else ie=V.action;typeof ie=="function"?g[v+1]=ie:(g.splice(v,3),v-=3),TE(g)}}}function bE(){function a(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(V){return S=V})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),v||setTimeout(g,20)}function g(){if(!v&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(g,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function Sm(a){this._internalRoot=a}rh.prototype.render=Sm.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var g=l.current,v=aa();xE(g,v,a,l,null,null)},rh.prototype.unmount=Sm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;xE(a.current,2,null,a,null,null),Od(),l[Ce]=null}};function rh(a){this._internalRoot=a}rh.prototype.unstable_scheduleHydration=function(a){if(a){var l=te();a={blockedOn:null,target:a,priority:l};for(var g=0;g<PA.length&&l!==0&&l<PA[g].priority;g++);PA.splice(g,0,a),g===0&&BE(a)}};var SE=e.version;if(SE!=="19.2.3")throw Error(r(527,SE,"19.2.3"));oe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var HR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ve,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{st=ih.inject(HR),De=ih}catch{}}return T0.createRoot=function(a,l){if(!i(a))throw Error(r(299));var g=!1,v="",S=ky,F=My,V=Oy;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(F=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=pE(a,1,!1,null,null,g,v,null,S,F,V,bE),a[Ce]=l.current,lm(a),new Sm(l)},T0.hydrateRoot=function(a,l,g){if(!i(a))throw Error(r(299));var v=!1,S="",F=ky,V=My,ie=Oy,Te=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(ie=g.onRecoverableError),g.formState!==void 0&&(Te=g.formState)),l=pE(a,1,!0,l,g??null,v,S,Te,F,V,ie,bE),l.context=mE(null),g=l.current,v=aa(),v=Ur(v),S=_A(v),S.callback=null,TA(g,S,v),g=v,l.current.lanes=g,ds(l,g),go(l),a[Ce]=l.current,lm(a),new rh(l)},T0.version="19.2.3",T0}var LE;function ZR(){if(LE)return Fm.exports;LE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fm.exports=JR(),Fm.exports}var $R=ZR();const e6=L4($R),t6=({onLoginSuccess:t,settings:e})=>{const[n,r]=Se.useState(""),[i,s]=Se.useState(!1),[A,u]=Se.useState(""),h=d=>{if(d.preventDefault(),u(""),n===e.loginPassword){t({role:"admin",name:e.userName,phone:e.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const x=e.staffList.find(C=>C.password===n);if(x){t({role:"staff",name:x.name,phone:x.phone,permissions:x.permissions});return}u("   ")};return p.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:p.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[p.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),p.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),p.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),p.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[p.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),p.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),A&&p.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:A}),p.jsxs("form",{onSubmit:h,className:"w-full space-y-6",children:[p.jsxs("div",{className:"input-container relative",children:[p.jsx("label",{className:"input-label",children:" "}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:i?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:n,onChange:d=>r(d.target.value),required:!0}),p.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>s(!i),"aria-label":i?"  ":"  ",children:i?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),p.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),p.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),p.jsx("div",{className:"mt-20 text-center",children:p.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},Q4=(t,e)=>{const n=window.open("","_blank");if(!n){alert("     ");return}const r=t.items||[];r.reduce((s,A)=>s+A.count,0);const i=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${r.map(s=>`
                <tr>
                  <td>${s.productName}</td>
                  <td class="col-price">${s.count}</td>
                  <td class="col-total">${s.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;n.document.write(i),n.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ix=function(t,e){return Ix=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ix(t,e)};function so(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ix(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Nx=function(){return Nx=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nx.apply(this,arguments)};function ws(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,[])).next())})}function ns(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ah(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var aA=(function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),ng=function(t,e){return aA.fromClientRect(t,e.getBoundingClientRect())},n6=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new aA(0,0,r,i)},rg=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Zr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var A=t[i];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},QE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oh=0;oh<QE.length;oh++)r6[QE.charCodeAt(oh)]=oh;var PE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ah=0;Ah<PE.length;Ah++)U0[PE.charCodeAt(Ah)]=Ah;var i6=function(t){var e=t.length*.75,n=t.length,r,i=0,s,A,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<n;r+=4)s=U0[t.charCodeAt(r)],A=U0[t.charCodeAt(r+1)],u=U0[t.charCodeAt(r+2)],h=U0[t.charCodeAt(r+3)],x[i++]=s<<2|A>>4,x[i++]=(A&15)<<4|u>>2,x[i++]=(u&3)<<6|h&63;return d},s6=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},a6=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Jl=5,q2=11,km=2,o6=q2-Jl,P4=65536>>Jl,A6=1<<Jl,Mm=A6-1,l6=1024>>Jl,c6=P4+l6,u6=c6,f6=32,d6=u6+f6,h6=65536>>q2,g6=1<<o6,p6=g6-1,HE=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},m6=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},x6=function(t,e){var n=i6(t),r=Array.isArray(n)?a6(n):new Uint32Array(n),i=Array.isArray(n)?s6(n):new Uint16Array(n),s=24,A=HE(i,s/2,r[4]/2),u=r[5]===2?HE(i,(s+r[4])/2):m6(r,Math.ceil((s+r[4])/4));return new w6(r[0],r[1],r[2],r[3],A,u)},w6=(function(){function t(e,n,r,i,s,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Jl],n=(n<<km)+(e&Mm),this.data[n];if(e<=65535)return n=this.index[P4+(e-55296>>Jl)],n=(n<<km)+(e&Mm),this.data[n];if(e<this.highStart)return n=d6-h6+(e>>q2),n=this.index[n],n+=e>>Jl&p6,n=this.index[n],n=(n<<km)+(e&Mm),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),VE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lh=0;lh<VE.length;lh++)v6[VE.charCodeAt(lh)]=lh;var y6="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",jE=50,C6=1,H4=2,V4=3,E6=4,B6=5,GE=7,j4=8,KE=9,XA=10,Fx=11,zE=12,Rx=13,_6=14,k0=15,Dx=16,ch=17,b0=18,T6=19,WE=20,Ux=21,S0=22,Om=23,Zc=24,Aa=25,M0=26,O0=27,$c=28,b6=29,Kl=30,S6=31,uh=32,fh=33,kx=34,Mx=35,Ox=36,mf=37,Lx=38,t1=39,n1=40,Lm=41,G4=42,I6=43,N6=[9001,65288],K4="!",bn="",dh="",Qx=x6(y6),Zo=[Kl,Ox],Px=[C6,H4,V4,B6],z4=[XA,j4],XE=[O0,M0],F6=Px.concat(z4),qE=[Lx,t1,n1,kx,Mx],R6=[k0,Rx],D6=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,A){var u=Qx.get(s);if(u>jE?(i.push(!0),u-=jE):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(A),n.push(Dx);if(u===E6||u===Fx){if(A===0)return r.push(A),n.push(Kl);var h=n[A-1];return F6.indexOf(h)===-1?(r.push(r[A-1]),n.push(h)):(r.push(A),n.push(Kl))}if(r.push(A),u===S6)return n.push(e==="strict"?Ux:mf);if(u===G4||u===b6)return n.push(Kl);if(u===I6)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(mf):n.push(Kl);n.push(u)}),[r,n,i]},Qm=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var A=r[s];if(A===e)return!0;if(A!==XA)break}if(i===XA)for(var s=n;s>0;){s--;var u=r[s];if(Array.isArray(t)?t.indexOf(u)!==-1:t===u)for(var h=n;h<=r.length;){h++;var A=r[h];if(A===e)return!0;if(A!==XA)break}if(u!==XA)break}return!1},YE=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===XA)n--;else return r}return 0},U6=function(t,e,n,r,i){if(n[r]===0)return bn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return bn;var A=s-1,u=s+1,h=e[s],d=A>=0?e[A]:0,x=e[u];if(h===H4&&x===V4)return bn;if(Px.indexOf(h)!==-1)return K4;if(Px.indexOf(x)!==-1||z4.indexOf(x)!==-1)return bn;if(YE(s,e)===j4)return dh;if(Qx.get(t[s])===Fx||(h===uh||h===fh)&&Qx.get(t[u])===Fx||h===GE||x===GE||h===KE||[XA,Rx,k0].indexOf(h)===-1&&x===KE||[ch,b0,T6,Zc,$c].indexOf(x)!==-1||YE(s,e)===S0||Qm(Om,S0,s,e)||Qm([ch,b0],Ux,s,e)||Qm(zE,zE,s,e))return bn;if(h===XA)return dh;if(h===Om||x===Om)return bn;if(x===Dx||h===Dx)return dh;if([Rx,k0,Ux].indexOf(x)!==-1||h===_6||d===Ox&&R6.indexOf(h)!==-1||h===$c&&x===Ox||x===WE||Zo.indexOf(x)!==-1&&h===Aa||Zo.indexOf(h)!==-1&&x===Aa||h===O0&&[mf,uh,fh].indexOf(x)!==-1||[mf,uh,fh].indexOf(h)!==-1&&x===M0||Zo.indexOf(h)!==-1&&XE.indexOf(x)!==-1||XE.indexOf(h)!==-1&&Zo.indexOf(x)!==-1||[O0,M0].indexOf(h)!==-1&&(x===Aa||[S0,k0].indexOf(x)!==-1&&e[u+1]===Aa)||[S0,k0].indexOf(h)!==-1&&x===Aa||h===Aa&&[Aa,$c,Zc].indexOf(x)!==-1)return bn;if([Aa,$c,Zc,ch,b0].indexOf(x)!==-1)for(var C=s;C>=0;){var _=e[C];if(_===Aa)return bn;if([$c,Zc].indexOf(_)!==-1)C--;else break}if([O0,M0].indexOf(x)!==-1)for(var C=[ch,b0].indexOf(h)!==-1?A:s;C>=0;){var _=e[C];if(_===Aa)return bn;if([$c,Zc].indexOf(_)!==-1)C--;else break}if(Lx===h&&[Lx,t1,kx,Mx].indexOf(x)!==-1||[t1,kx].indexOf(h)!==-1&&[t1,n1].indexOf(x)!==-1||[n1,Mx].indexOf(h)!==-1&&x===n1||qE.indexOf(h)!==-1&&[WE,M0].indexOf(x)!==-1||qE.indexOf(x)!==-1&&h===O0||Zo.indexOf(h)!==-1&&Zo.indexOf(x)!==-1||h===Zc&&Zo.indexOf(x)!==-1||Zo.concat(Aa).indexOf(h)!==-1&&x===S0&&N6.indexOf(t[u])===-1||Zo.concat(Aa).indexOf(x)!==-1&&h===b0)return bn;if(h===Lm&&x===Lm){for(var N=n[s],D=1;N>0&&(N--,e[N]===Lm);)D++;if(D%2!==0)return bn}return h===uh&&x===fh?bn:dh},k6=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=D6(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(u){return[Aa,Kl,G4].indexOf(u)!==-1?mf:u}));var A=e.wordBreak==="keep-all"?s.map(function(u,h){return u&&t[h]>=19968&&t[h]<=40959}):void 0;return[r,i,A]},M6=(function(){function t(e,n,r,i){this.codePoints=e,this.required=n===K4,this.start=r,this.end=i}return t.prototype.slice=function(){return Zr.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),O6=function(t,e){var n=rg(t),r=k6(n,e),i=r[0],s=r[1],A=r[2],u=n.length,h=0,d=0;return{next:function(){if(d>=u)return{done:!0,value:null};for(var x=bn;d<u&&(x=U6(n,s,i,++d,A))===bn;);if(x!==bn||d===u){var C=new M6(n,x,h,d);return h=d,{value:C,done:!1}}return{done:!0,value:null}}}},L6=1,Q6=2,Of=4,JE=8,f1=10,ZE=47,J0=92,P6=9,H6=32,hh=34,I0=61,V6=35,j6=36,G6=37,gh=39,ph=40,N0=41,K6=95,zs=45,z6=33,W6=60,X6=62,q6=64,Y6=91,J6=93,Z6=61,$6=123,mh=63,eD=125,$E=124,tD=126,nD=128,eB=65533,Pm=42,Wl=43,rD=44,iD=58,sD=59,xf=46,aD=0,oD=8,AD=11,lD=14,cD=31,uD=127,po=-1,W4=48,X4=97,q4=101,fD=102,dD=117,hD=122,Y4=65,J4=69,Z4=70,gD=85,pD=90,is=function(t){return t>=W4&&t<=57},mD=function(t){return t>=55296&&t<=57343},eu=function(t){return is(t)||t>=Y4&&t<=Z4||t>=X4&&t<=fD},xD=function(t){return t>=X4&&t<=hD},wD=function(t){return t>=Y4&&t<=pD},vD=function(t){return xD(t)||wD(t)},yD=function(t){return t>=nD},xh=function(t){return t===f1||t===P6||t===H6},d1=function(t){return vD(t)||yD(t)||t===K6},tB=function(t){return d1(t)||is(t)||t===zs},CD=function(t){return t>=aD&&t<=oD||t===AD||t>=lD&&t<=cD||t===uD},zA=function(t,e){return t!==J0?!1:e!==f1},wh=function(t,e,n){return t===zs?d1(e)||zA(e,n):d1(t)?!0:!!(t===J0&&zA(t,e))},Hm=function(t,e,n){return t===Wl||t===zs?is(e)?!0:e===xf&&is(n):is(t===xf?e:t)},ED=function(t){var e=0,n=1;(t[e]===Wl||t[e]===zs)&&(t[e]===zs&&(n=-1),e++);for(var r=[];is(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Zr.apply(void 0,r),10):0;t[e]===xf&&e++;for(var s=[];is(t[e]);)s.push(t[e++]);var A=s.length,u=A?parseInt(Zr.apply(void 0,s),10):0;(t[e]===J4||t[e]===q4)&&e++;var h=1;(t[e]===Wl||t[e]===zs)&&(t[e]===zs&&(h=-1),e++);for(var d=[];is(t[e]);)d.push(t[e++]);var x=d.length?parseInt(Zr.apply(void 0,d),10):0;return n*(i+u*Math.pow(10,-A))*Math.pow(10,h*x)},BD={type:2},_D={type:3},TD={type:4},bD={type:13},SD={type:8},ID={type:21},ND={type:9},FD={type:10},RD={type:11},DD={type:12},UD={type:14},vh={type:23},kD={type:1},MD={type:25},OD={type:24},LD={type:26},QD={type:27},PD={type:28},HD={type:29},VD={type:31},Hx={type:32},$4=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(rg(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==Hx;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case hh:return this.consumeStringToken(hh);case V6:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(tB(n)||zA(r,i)){var s=wh(n,r,i)?Q6:L6,A=this.consumeName();return{type:5,value:A,flags:s}}break;case j6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),bD;break;case gh:return this.consumeStringToken(gh);case ph:return BD;case N0:return _D;case Pm:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),UD;break;case Wl:if(Hm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rD:return TD;case zs:var u=e,h=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Hm(u,h,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wh(u,h,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===zs&&d===X6)return this.consumeCodePoint(),this.consumeCodePoint(),OD;break;case xf:if(Hm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ZE:if(this.peekCodePoint(0)===Pm)for(this.consumeCodePoint();;){var x=this.consumeCodePoint();if(x===Pm&&(x=this.consumeCodePoint(),x===ZE))return this.consumeToken();if(x===po)return this.consumeToken()}break;case iD:return LD;case sD:return QD;case W6:if(this.peekCodePoint(0)===z6&&this.peekCodePoint(1)===zs&&this.peekCodePoint(2)===zs)return this.consumeCodePoint(),this.consumeCodePoint(),MD;break;case q6:var C=this.peekCodePoint(0),_=this.peekCodePoint(1),N=this.peekCodePoint(2);if(wh(C,_,N)){var A=this.consumeName();return{type:7,value:A}}break;case Y6:return PD;case J0:if(zA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case J6:return HD;case Z6:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),SD;break;case $6:return RD;case eD:return DD;case dD:case gD:var D=this.peekCodePoint(0),R=this.peekCodePoint(1);return D===Wl&&(eu(R)||R===mh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case $E:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),ND;if(this.peekCodePoint(0)===$E)return this.consumeCodePoint(),ID;break;case tD:if(this.peekCodePoint(0)===I0)return this.consumeCodePoint(),FD;break;case po:return Hx}return xh(e)?(this.consumeWhiteSpace(),VD):is(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):d1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Zr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();eu(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===mh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Zr.apply(void 0,e.map(function(h){return h===mh?W4:h})),16),s=parseInt(Zr.apply(void 0,e.map(function(h){return h===mh?Z4:h})),16);return{type:30,start:i,end:s}}var A=parseInt(Zr.apply(void 0,e),16);if(this.peekCodePoint(0)===zs&&eu(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var u=[];eu(n)&&u.length<6;)u.push(n),n=this.consumeCodePoint();var s=parseInt(Zr.apply(void 0,u),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ph?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ph?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===po)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===gh||n===hh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===po||this.peekCodePoint(0)===N0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),vh)}for(;;){var i=this.consumeCodePoint();if(i===po||i===N0)return{type:22,value:Zr.apply(void 0,e)};if(xh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===po||this.peekCodePoint(0)===N0?(this.consumeCodePoint(),{type:22,value:Zr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vh);if(i===hh||i===gh||i===ph||CD(i))return this.consumeBadUrlRemnants(),vh;if(i===J0)if(zA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;xh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===N0||e===po)return;zA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Zr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===po||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===f1)return this._value.splice(0,r),kD;if(i===J0){var s=this._value[r+1];s!==po&&s!==void 0&&(s===f1?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):zA(i,s)&&(n+=this.consumeStringSlice(r),n+=Zr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Of,r=this.peekCodePoint(0);for((r===Wl||r===zs)&&e.push(this.consumeCodePoint());is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===xf&&is(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=JE;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===J4||r===q4)&&((i===Wl||i===zs)&&is(s)||is(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=JE;is(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ED(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(wh(i,s,A)){var u=this.consumeName();return{type:15,number:n,flags:r,unit:u}}return i===G6?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(eu(e)){for(var n=Zr(e);eu(this.peekCodePoint(0))&&n.length<6;)n+=Zr(this.consumeCodePoint());xh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||mD(r)||r>1114111?eB:r}return e===po?eB:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(tB(n))e+=Zr(n);else if(zA(n,this.peekCodePoint(0)))e+=Zr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t})(),eS=(function(){function t(e){this._tokens=e}return t.create=function(e){var n=new $4;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||GD(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Hx:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Lf=function(t){return t.type===15},Uu=function(t){return t.type===17},Ar=function(t){return t.type===20},jD=function(t){return t.type===0},Vx=function(t,e){return Ar(t)&&t.value===e},tS=function(t){return t.type!==31},Bu=function(t){return t.type!==31&&t.type!==4},Bo=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},GD=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Al=function(t){return t.type===17||t.type===15},li=function(t){return t.type===16||Al(t)},nS=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ji={type:17,number:0,flags:Of},Y2={type:16,number:50,flags:Of},qA={type:16,number:100,flags:Of},L0=function(t,e,n){var r=t[0],i=t[1];return[pr(r,e),pr(typeof i<"u"?i:r,n)]},pr=function(t,e){if(t.type===16)return t.number/100*e;if(Lf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},rS="deg",iS="grad",sS="rad",aS="turn",ig={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case rS:return Math.PI*e.number/180;case iS:return Math.PI/200*e.number;case sS:return e.number;case aS:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},oS=function(t){return t.type===15&&(t.unit===rS||t.unit===iS||t.unit===sS||t.unit===aS)},AS=function(t){var e=t.filter(Ar).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ji,ji];case"to top":case"bottom":return Da(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ji,qA];case"to right":case"left":return Da(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qA,qA];case"to bottom":case"top":return Da(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qA,ji];case"to left":case"right":return Da(270)}return 0},Da=function(t){return Math.PI*t/180},tl={name:"color",parse:function(t,e){if(e.type===18){var n=KD[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return YA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),A=e.value.substring(3,4);return YA(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return YA(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),A=e.value.substring(6,8);return YA(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(e.type===20){var u=rA[e.value.toUpperCase()];if(typeof u<"u")return u}return rA.TRANSPARENT}},nl=function(t){return(255&t)===0},_i=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},YA=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},nB=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},rB=function(t,e){var n=e.filter(Bu);if(n.length===3){var r=n.map(nB),i=r[0],s=r[1],A=r[2];return YA(i,s,A,1)}if(n.length===4){var u=n.map(nB),i=u[0],s=u[1],A=u[2],h=u[3];return YA(i,s,A,h)}return 0};function Vm(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var iB=function(t,e){var n=e.filter(Bu),r=n[0],i=n[1],s=n[2],A=n[3],u=(r.type===17?Da(r.number):ig.parse(t,r))/(Math.PI*2),h=li(i)?i.number/100:0,d=li(s)?s.number/100:0,x=typeof A<"u"&&li(A)?pr(A,1):1;if(h===0)return YA(d*255,d*255,d*255,1);var C=d<=.5?d*(h+1):d+h-d*h,_=d*2-C,N=Vm(_,C,u+1/3),D=Vm(_,C,u),R=Vm(_,C,u-1/3);return YA(N*255,D*255,R*255,x)},KD={hsl:iB,hsla:iB,rgb:rB,rgba:rB},Z0=function(t,e){return tl.parse(t,eS.create(e).parseComponentValue())},rA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zD={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ar(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},WD={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sg=function(t,e){var n=tl.parse(t,e[0]),r=e[1];return r&&li(r)?{color:n,stop:r}:{color:n,stop:null}},sB=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=ji),r.stop===null&&(r.stop=qA);for(var i=[],s=0,A=0;A<t.length;A++){var u=t[A].stop;if(u!==null){var h=pr(u,e);h>s?i.push(h):i.push(s),s=h}else i.push(null)}for(var d=null,A=0;A<i.length;A++){var x=i[A];if(x===null)d===null&&(d=A);else if(d!==null){for(var C=A-d,_=i[d-1],N=(x-_)/(C+1),D=1;D<=C;D++)i[d+D-1]=N*D;d=null}}return t.map(function(R,k){var j=R.color;return{color:j,stop:Math.max(Math.min(1,i[k]/e),0)}})},XD=function(t,e,n){var r=e/2,i=n/2,s=pr(t[0],e)-r,A=i-pr(t[1],n);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},qD=function(t,e,n){var r=typeof t=="number"?t:XD(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,A=n/2,u=i/2,h=Math.sin(r-Math.PI/2)*u,d=Math.cos(r-Math.PI/2)*u;return[i,s-d,s+d,A-h,A+h]},Ja=function(t,e){return Math.sqrt(t*t+e*e)},aB=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(A,u){var h=u[0],d=u[1],x=Ja(n-h,r-d);return(i?x<A.optimumDistance:x>A.optimumDistance)?{optimumCorner:u,optimumDistance:x}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},YD=function(t,e,n,r,i){var s=0,A=0;switch(t.size){case 0:t.shape===0?s=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=A=Math.min(Ja(e,n),Ja(e,n-i),Ja(e-r,n),Ja(e-r,n-i));else if(t.shape===1){var u=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),h=aB(r,i,e,n,!0),d=h[0],x=h[1];s=Ja(d-e,(x-n)/u),A=u*s}break;case 1:t.shape===0?s=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=A=Math.max(Ja(e,n),Ja(e,n-i),Ja(e-r,n),Ja(e-r,n-i));else if(t.shape===1){var u=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),C=aB(r,i,e,n,!1),d=C[0],x=C[1];s=Ja(d-e,(x-n)/u),A=u*s}break}return Array.isArray(t.size)&&(s=pr(t.size[0],r),A=t.size.length===2?pr(t.size[1],i):s),[s,A]},JD=function(t,e){var n=Da(180),r=[];return Bo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){n=AS(i);return}else if(oS(A)){n=ig.parse(t,A);return}}var u=sg(t,i);r.push(u)}),{angle:n,stops:r,type:1}},yh=function(t,e){var n=Da(180),r=[];return Bo(e).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=AS(i);return}else if(oS(A)){n=(ig.parse(t,A)+Da(270))%Da(360);return}}var u=sg(t,i);r.push(u)}),{angle:n,stops:r,type:1}},ZD=function(t,e){var n=Da(180),r=[],i=1,s=0,A=3,u=[];return Bo(e).forEach(function(h,d){var x=h[0];if(d===0){if(Ar(x)&&x.value==="linear"){i=1;return}else if(Ar(x)&&x.value==="radial"){i=2;return}}if(x.type===18){if(x.name==="from"){var C=tl.parse(t,x.values[0]);r.push({stop:ji,color:C})}else if(x.name==="to"){var C=tl.parse(t,x.values[0]);r.push({stop:qA,color:C})}else if(x.name==="color-stop"){var _=x.values.filter(Bu);if(_.length===2){var C=tl.parse(t,_[1]),N=_[0];Uu(N)&&r.push({stop:{type:16,number:N.number*100,flags:N.flags},color:C})}}}}),i===1?{angle:(n+Da(180))%Da(360),stops:r,type:i}:{size:A,shape:s,stops:r,position:u,type:i}},lS="closest-side",cS="farthest-side",uS="closest-corner",fS="farthest-corner",dS="circle",hS="ellipse",gS="cover",pS="contain",$D=function(t,e){var n=0,r=3,i=[],s=[];return Bo(e).forEach(function(A,u){var h=!0;if(u===0){var d=!1;h=A.reduce(function(C,_){if(d)if(Ar(_))switch(_.value){case"center":return s.push(Y2),C;case"top":case"left":return s.push(ji),C;case"right":case"bottom":return s.push(qA),C}else(li(_)||Al(_))&&s.push(_);else if(Ar(_))switch(_.value){case dS:return n=0,!1;case hS:return n=1,!1;case"at":return d=!0,!1;case lS:return r=0,!1;case gS:case cS:return r=1,!1;case pS:case uS:return r=2,!1;case fS:return r=3,!1}else if(Al(_)||li(_))return Array.isArray(r)||(r=[]),r.push(_),!1;return C},h)}if(h){var x=sg(t,A);i.push(x)}}),{size:r,shape:n,stops:i,position:s,type:2}},Ch=function(t,e){var n=0,r=3,i=[],s=[];return Bo(e).forEach(function(A,u){var h=!0;if(u===0?h=A.reduce(function(x,C){if(Ar(C))switch(C.value){case"center":return s.push(Y2),!1;case"top":case"left":return s.push(ji),!1;case"right":case"bottom":return s.push(qA),!1}else if(li(C)||Al(C))return s.push(C),!1;return x},h):u===1&&(h=A.reduce(function(x,C){if(Ar(C))switch(C.value){case dS:return n=0,!1;case hS:return n=1,!1;case pS:case lS:return r=0,!1;case cS:return r=1,!1;case uS:return r=2,!1;case gS:case fS:return r=3,!1}else if(Al(C)||li(C))return Array.isArray(r)||(r=[]),r.push(C),!1;return x},h)),h){var d=sg(t,A);i.push(d)}}),{size:r,shape:n,stops:i,position:s,type:2}},e5=function(t){return t.type===1},t5=function(t){return t.type===2},J2={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=mS[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function n5(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!mS[t.name])}var mS={"linear-gradient":JD,"-moz-linear-gradient":yh,"-ms-linear-gradient":yh,"-o-linear-gradient":yh,"-webkit-linear-gradient":yh,"radial-gradient":$D,"-moz-radial-gradient":Ch,"-ms-radial-gradient":Ch,"-o-radial-gradient":Ch,"-webkit-radial-gradient":Ch,"-webkit-gradient":ZD},r5={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Bu(r)&&n5(r)}).map(function(r){return J2.parse(t,r)})}},i5={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ar(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},s5={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(li)}).map(nS)}},a5={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(Ar).map(function(r){return r.value}).join(" ")}).map(o5)}},o5=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},mu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(mu||(mu={}));var A5={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Bo(e).map(function(n){return n.filter(l5)})}},l5=function(t){return Ar(t)||li(t)},ag=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},c5=ag("top"),u5=ag("right"),f5=ag("bottom"),d5=ag("left"),og=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return nS(n.filter(li))}}},h5=og("top-left"),g5=og("top-right"),p5=og("bottom-right"),m5=og("bottom-left"),Ag=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},x5=Ag("top"),w5=Ag("right"),v5=Ag("bottom"),y5=Ag("left"),lg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Lf(n)?n.number:0}}},C5=lg("top"),E5=lg("right"),B5=lg("bottom"),_5=lg("left"),T5={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},b5={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},S5={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).reduce(function(n,r){return n|I5(r.value)},0)}},I5=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},N5={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},F5={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},h1;(function(t){t.NORMAL="normal",t.STRICT="strict"})(h1||(h1={}));var R5={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return h1.STRICT;case"normal":default:return h1.NORMAL}}},D5={name:"line-height",initialValue:"normal",prefix:!1,type:4},oB=function(t,e){return Ar(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:li(t)?pr(t,e):e},U5={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:J2.parse(t,e)}},k5={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},jx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},cg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},M5=cg("top"),O5=cg("right"),L5=cg("bottom"),Q5=cg("left"),P5={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},H5={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ug=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},V5=ug("top"),j5=ug("right"),G5=ug("bottom"),K5=ug("left"),z5={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},W5={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},X5={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Vx(e[0],"none")?[]:Bo(e).map(function(n){for(var r={color:rA.TRANSPARENT,offsetX:ji,offsetY:ji,blur:ji},i=0,s=0;s<n.length;s++){var A=n[s];Al(A)?(i===0?r.offsetX=A:i===1?r.offsetY=A:r.blur=A,i++):r.color=tl.parse(t,A)}return r})}},q5={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Y5={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=$5[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},J5=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Z5=function(t){var e=t.filter(function(h){return h.type===17}).map(function(h){return h.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],u=e[13];return e[14],e[15],e.length===16?[n,r,i,s,A,u]:null},$5={matrix:J5,matrix3d:Z5},AB={type:16,number:50,flags:Of},eU=[AB,AB],tU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(li);return n.length!==2?eU:[n[0],n[1]]}},nU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},$0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})($0||($0={}));var rU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return $0.BREAK_ALL;case"keep-all":return $0.KEEP_ALL;case"normal":default:return $0.NORMAL}}},iU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Uu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},xS={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},sU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Uu(e)?e.number:1}},aU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ar).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},AU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},lU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},cU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Uu(e))return e.number;if(Ar(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},uU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ar).map(function(n){return n.value})}},fU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pi=function(t,e){return(t&e)!==0},dU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},hU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(tS),s=0;s<i.length;s++){var A=i[s],u=i[s+1];if(A.type===20){var h=u&&Uu(u)?u.number:1;r.push({counter:A.value,increment:h})}}return r}},gU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(tS),i=0;i<r.length;i++){var s=r[i],A=r[i+1];if(Ar(s)&&s.value!=="none"){var u=A&&Uu(A)?A.number:0;n.push({counter:s.value,reset:u})}}return n}},pU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Lf).map(function(n){return xS.parse(t,n)})}},mU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(jD);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,u=i[s+1].value;r.push({open:A,close:u})}return r}},lB=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},xU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Vx(e[0],"none")?[]:Bo(e).map(function(n){for(var r={color:255,offsetX:ji,offsetY:ji,blur:ji,spread:ji,inset:!1},i=0,s=0;s<n.length;s++){var A=n[s];Vx(A,"inset")?r.inset=!0:Al(A)?(i===0?r.offsetX=A:i===1?r.offsetY=A:i===2?r.blur=A:r.spread=A,i++):r.color=tl.parse(t,A)}return r})}},wU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ar).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},vU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},yU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lf(e)?e.number:0}},CU=(function(){function t(e,n){var r,i;this.animationDuration=Ut(e,pU,n.animationDuration),this.backgroundClip=Ut(e,zD,n.backgroundClip),this.backgroundColor=Ut(e,WD,n.backgroundColor),this.backgroundImage=Ut(e,r5,n.backgroundImage),this.backgroundOrigin=Ut(e,i5,n.backgroundOrigin),this.backgroundPosition=Ut(e,s5,n.backgroundPosition),this.backgroundRepeat=Ut(e,a5,n.backgroundRepeat),this.backgroundSize=Ut(e,A5,n.backgroundSize),this.borderTopColor=Ut(e,c5,n.borderTopColor),this.borderRightColor=Ut(e,u5,n.borderRightColor),this.borderBottomColor=Ut(e,f5,n.borderBottomColor),this.borderLeftColor=Ut(e,d5,n.borderLeftColor),this.borderTopLeftRadius=Ut(e,h5,n.borderTopLeftRadius),this.borderTopRightRadius=Ut(e,g5,n.borderTopRightRadius),this.borderBottomRightRadius=Ut(e,p5,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ut(e,m5,n.borderBottomLeftRadius),this.borderTopStyle=Ut(e,x5,n.borderTopStyle),this.borderRightStyle=Ut(e,w5,n.borderRightStyle),this.borderBottomStyle=Ut(e,v5,n.borderBottomStyle),this.borderLeftStyle=Ut(e,y5,n.borderLeftStyle),this.borderTopWidth=Ut(e,C5,n.borderTopWidth),this.borderRightWidth=Ut(e,E5,n.borderRightWidth),this.borderBottomWidth=Ut(e,B5,n.borderBottomWidth),this.borderLeftWidth=Ut(e,_5,n.borderLeftWidth),this.boxShadow=Ut(e,xU,n.boxShadow),this.color=Ut(e,T5,n.color),this.direction=Ut(e,b5,n.direction),this.display=Ut(e,S5,n.display),this.float=Ut(e,N5,n.cssFloat),this.fontFamily=Ut(e,AU,n.fontFamily),this.fontSize=Ut(e,lU,n.fontSize),this.fontStyle=Ut(e,fU,n.fontStyle),this.fontVariant=Ut(e,uU,n.fontVariant),this.fontWeight=Ut(e,cU,n.fontWeight),this.letterSpacing=Ut(e,F5,n.letterSpacing),this.lineBreak=Ut(e,R5,n.lineBreak),this.lineHeight=Ut(e,D5,n.lineHeight),this.listStyleImage=Ut(e,U5,n.listStyleImage),this.listStylePosition=Ut(e,k5,n.listStylePosition),this.listStyleType=Ut(e,jx,n.listStyleType),this.marginTop=Ut(e,M5,n.marginTop),this.marginRight=Ut(e,O5,n.marginRight),this.marginBottom=Ut(e,L5,n.marginBottom),this.marginLeft=Ut(e,Q5,n.marginLeft),this.opacity=Ut(e,sU,n.opacity);var s=Ut(e,P5,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ut(e,H5,n.overflowWrap),this.paddingTop=Ut(e,V5,n.paddingTop),this.paddingRight=Ut(e,j5,n.paddingRight),this.paddingBottom=Ut(e,G5,n.paddingBottom),this.paddingLeft=Ut(e,K5,n.paddingLeft),this.paintOrder=Ut(e,wU,n.paintOrder),this.position=Ut(e,W5,n.position),this.textAlign=Ut(e,z5,n.textAlign),this.textDecorationColor=Ut(e,aU,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Ut(e,oU,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Ut(e,X5,n.textShadow),this.textTransform=Ut(e,q5,n.textTransform),this.transform=Ut(e,Y5,n.transform),this.transformOrigin=Ut(e,tU,n.transformOrigin),this.visibility=Ut(e,nU,n.visibility),this.webkitTextStrokeColor=Ut(e,vU,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ut(e,yU,n.webkitTextStrokeWidth),this.wordBreak=Ut(e,rU,n.wordBreak),this.zIndex=Ut(e,iU,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return nl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return pi(this.display,4)||pi(this.display,33554432)||pi(this.display,268435456)||pi(this.display,536870912)||pi(this.display,67108864)||pi(this.display,134217728)},t})(),EU=(function(){function t(e,n){this.content=Ut(e,dU,n.content),this.quotes=Ut(e,mU,n.quotes)}return t})(),cB=(function(){function t(e,n){this.counterIncrement=Ut(e,hU,n.counterIncrement),this.counterReset=Ut(e,gU,n.counterReset)}return t})(),Ut=function(t,e,n){var r=new $4,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new eS(r.read());switch(e.type){case 2:var A=s.parseComponentValue();return e.parse(t,Ar(A)?A.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return ig.parse(t,s.parseComponentValue());case"color":return tl.parse(t,s.parseComponentValue());case"image":return J2.parse(t,s.parseComponentValue());case"length":var u=s.parseComponentValue();return Al(u)?u:ji;case"length-percentage":var h=s.parseComponentValue();return li(h)?h:ji;case"time":return xS.parse(t,s.parseComponentValue())}break}},BU="data-html2canvas-debug",_U=function(t){var e=t.getAttribute(BU);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Gx=function(t,e){var n=_U(t);return n===1||e===n},_o=(function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Gx(n,3))debugger;this.styles=new CU(e,window.getComputedStyle(n,null)),Wx(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=ng(this.context,n),Gx(n,4)&&(this.flags|=16)}return t})(),TU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",uB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<uB.length;Eh++)Q0[uB.charCodeAt(Eh)]=Eh;var bU=function(t){var e=t.length*.75,n=t.length,r,i=0,s,A,u,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<n;r+=4)s=Q0[t.charCodeAt(r)],A=Q0[t.charCodeAt(r+1)],u=Q0[t.charCodeAt(r+2)],h=Q0[t.charCodeAt(r+3)],x[i++]=s<<2|A>>4,x[i++]=(A&15)<<4|u>>2,x[i++]=(u&3)<<6|h&63;return d},SU=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},IU=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Zl=5,Z2=11,jm=2,NU=Z2-Zl,wS=65536>>Zl,FU=1<<Zl,Gm=FU-1,RU=1024>>Zl,DU=wS+RU,UU=DU,kU=32,MU=UU+kU,OU=65536>>Z2,LU=1<<NU,QU=LU-1,fB=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},PU=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},HU=function(t,e){var n=bU(t),r=Array.isArray(n)?IU(n):new Uint32Array(n),i=Array.isArray(n)?SU(n):new Uint16Array(n),s=24,A=fB(i,s/2,r[4]/2),u=r[5]===2?fB(i,(s+r[4])/2):PU(r,Math.ceil((s+r[4])/4));return new VU(r[0],r[1],r[2],r[3],A,u)},VU=(function(){function t(e,n,r,i,s,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Zl],n=(n<<jm)+(e&Gm),this.data[n];if(e<=65535)return n=this.index[wS+(e-55296>>Zl)],n=(n<<jm)+(e&Gm),this.data[n];if(e<this.highStart)return n=MU-OU+(e>>Z2),n=this.index[n],n+=e>>Zl&QU,n=this.index[n],n=(n<<jm)+(e&Gm),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),dB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bh=0;Bh<dB.length;Bh++)jU[dB.charCodeAt(Bh)]=Bh;var GU=1,Km=2,zm=3,hB=4,gB=5,KU=7,pB=8,Wm=9,Xm=10,mB=11,xB=12,wB=13,vB=14,qm=15,zU=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},WU=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var A=t[i];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},XU=HU(TU),Na="",Ym="",qU=function(t){return XU.get(t)},YU=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],A=e[n];if(s===Km&&A===zm)return Na;if(s===Km||s===zm||s===hB||A===Km||A===zm||A===hB)return Ym;if(s===pB&&[pB,Wm,mB,xB].indexOf(A)!==-1||(s===mB||s===Wm)&&(A===Wm||A===Xm)||(s===xB||s===Xm)&&A===Xm||A===wB||A===gB||A===KU||s===GU)return Na;if(s===wB&&A===vB){for(;i===gB;)i=e[--r];if(i===vB)return Na}if(s===qm&&A===qm){for(var u=0;i===qm;)u++,i=e[--r];if(u%2===0)return Na}return Ym},JU=function(t){var e=zU(t),n=e.length,r=0,i=0,s=e.map(qU);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=Na;r<n&&(A=YU(e,s,++r))===Na;);if(A!==Na||r===n){var u=WU.apply(null,e.slice(i,r));return i=r,{value:u,done:!1}}return{done:!0,value:null}}}},ZU=function(t){for(var e=JU(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},$U=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},ek=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=rg(r.data).map(function(h){return Zr(h)}),s=0,A={},u=i.every(function(h,d){n.setStart(r,s),n.setEnd(r,s+h.length);var x=n.getBoundingClientRect();s+=h.length;var C=x.x>A.x||x.y>A.y;return A=x,d===0?!0:C});return t.body.removeChild(e),u},tk=function(){return typeof new Image().crossOrigin<"u"},nk=function(){return typeof new XMLHttpRequest().responseType=="string"},rk=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},yB=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ik=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var A=Kx(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),CB(A).then(function(u){r.drawImage(u,0,0);var h=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var d=t.createElement("div");return d.style.backgroundImage="url("+s+")",d.style.height=n+"px",yB(h)?CB(Kx(n,n,0,0,d)):Promise.reject(!1)}).then(function(u){return r.drawImage(u,0,0),yB(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Kx=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(u),u.appendChild(i),A},CB=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Qi={get SUPPORT_RANGE_BOUNDS(){var t=$U(document);return Object.defineProperty(Qi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Qi.SUPPORT_RANGE_BOUNDS&&ek(document);return Object.defineProperty(Qi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=rk(document);return Object.defineProperty(Qi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ik(document):Promise.resolve(!1);return Object.defineProperty(Qi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=tk();return Object.defineProperty(Qi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=nk();return Object.defineProperty(Qi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ef=(function(){function t(e,n){this.text=e,this.bounds=n}return t})(),sk=function(t,e,n,r){var i=Ak(e,n),s=[],A=0;return i.forEach(function(u){if(n.textDecorationLine.length||u.trim().length>0)if(Qi.SUPPORT_RANGE_BOUNDS){var h=EB(r,A,u.length).getClientRects();if(h.length>1){var d=$2(u),x=0;d.forEach(function(_){s.push(new ef(_,aA.fromDOMRectList(t,EB(r,x+A,_.length).getClientRects()))),x+=_.length})}else s.push(new ef(u,aA.fromDOMRectList(t,h)))}else{var C=r.splitText(u.length);s.push(new ef(u,ak(t,r))),r=C}else Qi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(u.length));A+=u.length}),s},ak=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=ng(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return aA.EMPTY},EB=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},$2=function(t){if(Qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return ZU(t)},ok=function(t,e){if(Qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return ck(t,e)},Ak=function(t,e){return e.letterSpacing!==0?$2(t):ok(t,e)},lk=[32,160,4961,65792,65793,4153,4241],ck=function(t,e){for(var n=O6(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var A=i.value.slice(),u=rg(A),h="";u.forEach(function(d){lk.indexOf(d)===-1?h+=Zr(d):(h.length&&r.push(h),r.push(Zr(d)),h="")}),h.length&&r.push(h)}};!(i=n.next()).done;)s();return r},uk=(function(){function t(e,n,r){this.text=fk(n.data,r.textTransform),this.textBounds=sk(e,this.text,r,n)}return t})(),fk=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(dk,hk);case 2:return t.toUpperCase();default:return t}},dk=/(^|\s|:|-|\(|\))([a-z])/g,hk=function(t,e,n){return t.length>0?e+n.toUpperCase():t},vS=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(_o),yS=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(_o),CS=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,A=ng(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(_o),ES=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(_o),zx=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(_o),gk=[{type:15,flags:0,unit:"px",number:3}],pk=[{type:16,flags:0,number:50}],mk=function(t){return t.width>t.height?new aA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new aA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xk=function(t){var e=t.type===wk?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},g1="checkbox",p1="radio",wk="password",BB=707406591,ew=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=xk(r),(i.type===g1||i.type===p1)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=mk(i.bounds)),i.type){case g1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gk;break;case p1:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=pk;break}return i}return e})(_o),BS=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(_o),_S=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e})(_o),TS=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=SS(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Z0(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):rA.TRANSPARENT,A=r.contentWindow.document.body?Z0(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):rA.TRANSPARENT;i.backgroundColor=nl(s)?nl(A)?i.styles.backgroundColor:A:s}}catch{}return i}return e})(_o),vk=["OL","UL","MENU"],r1=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,IS(i)&&i.data.trim().length>0)n.textNodes.push(new uk(t,i,n.styles));else if(fu(i))if(DS(i)&&i.assignedNodes)i.assignedNodes().forEach(function(u){return r1(t,u,n,r)});else{var A=bS(t,i);A.styles.isVisible()&&(yk(i,A,r)?A.flags|=4:Ck(A.styles)&&(A.flags|=2),vk.indexOf(i.tagName)!==-1&&(A.flags|=8),n.elements.push(A),i.slot,i.shadowRoot?r1(t,i.shadowRoot,A,r):!m1(i)&&!NS(i)&&!x1(i)&&r1(t,i,A,r))}},bS=function(t,e){return Xx(e)?new vS(t,e):FS(e)?new yS(t,e):NS(e)?new CS(t,e):Ek(e)?new ES(t,e):Bk(e)?new zx(t,e):_k(e)?new ew(t,e):x1(e)?new BS(t,e):m1(e)?new _S(t,e):RS(e)?new TS(t,e):new _o(t,e)},SS=function(t,e){var n=bS(t,e);return n.flags|=4,r1(t,e,n,n),n},yk=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||tw(t)&&n.styles.isTransparent()},Ck=function(t){return t.isPositioned()||t.isFloating()},IS=function(t){return t.nodeType===Node.TEXT_NODE},fu=function(t){return t.nodeType===Node.ELEMENT_NODE},Wx=function(t){return fu(t)&&typeof t.style<"u"&&!i1(t)},i1=function(t){return typeof t.className=="object"},Ek=function(t){return t.tagName==="LI"},Bk=function(t){return t.tagName==="OL"},_k=function(t){return t.tagName==="INPUT"},Tk=function(t){return t.tagName==="HTML"},NS=function(t){return t.tagName==="svg"},tw=function(t){return t.tagName==="BODY"},FS=function(t){return t.tagName==="CANVAS"},_B=function(t){return t.tagName==="VIDEO"},Xx=function(t){return t.tagName==="IMG"},RS=function(t){return t.tagName==="IFRAME"},TB=function(t){return t.tagName==="STYLE"},bk=function(t){return t.tagName==="SCRIPT"},m1=function(t){return t.tagName==="TEXTAREA"},x1=function(t){return t.tagName==="SELECT"},DS=function(t){return t.tagName==="SLOT"},bB=function(t){return t.tagName.indexOf("-")>0},Sk=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(u){var h=n.counters[u.counter];h&&u.increment!==0&&(s=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=u.increment)});var A=[];return s&&i.forEach(function(u){var h=n.counters[u.counter];A.push(u.counter),h||(h=n.counters[u.counter]=[]),h.push(u.reset)}),A},t})(),SB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},IB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ik={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tu=function(t,e,n,r,i,s){return t<e||t>n?wf(t,i,s.length>0):r.integers.reduce(function(A,u,h){for(;t>=u;)t-=u,A+=r.values[h];return A},"")+s},US=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},Yr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(US(Math.abs(t),s,r,function(A){return Zr(Math.floor(A%s)+e)})+i)},Hl=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return US(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},su=1,GA=2,KA=4,P0=8,$o=function(t,e,n,r,i,s){if(t<-9999||t>9999)return wf(t,4,i.length>0);var A=Math.abs(t),u=i;if(A===0)return e[0]+u;for(var h=0;A>0&&h<=4;h++){var d=A%10;d===0&&pi(s,su)&&u!==""?u=e[d]+u:d>1||d===1&&h===0||d===1&&h===1&&pi(s,GA)||d===1&&h===1&&pi(s,KA)&&t>100||d===1&&h>1&&pi(s,P0)?u=e[d]+(h>0?n[h-1]:"")+u:d===1&&h>0&&(u=n[h-1]+u),A=Math.floor(A/10)}return(t<0?r:"")+u},NB="",FB="",RB="",Jm="",wf=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var u=Yr(t,48,57,!0,r);return u.length<4?"0"+u:u;case 4:return Hl(t,"",i);case 6:return tu(t,1,3999,SB,3,r).toLowerCase();case 7:return tu(t,1,3999,SB,3,r);case 8:return Yr(t,945,969,!1,r);case 9:return Yr(t,97,122,!1,r);case 10:return Yr(t,65,90,!1,r);case 11:return Yr(t,1632,1641,!0,r);case 12:case 49:return tu(t,1,9999,IB,3,r);case 35:return tu(t,1,9999,IB,3,r).toLowerCase();case 13:return Yr(t,2534,2543,!0,r);case 14:case 30:return Yr(t,6112,6121,!0,r);case 15:return Hl(t,"",i);case 16:return Hl(t,"",i);case 17:case 48:return $o(t,"",NB,"",i,GA|KA|P0);case 47:return $o(t,"",FB,"",i,su|GA|KA|P0);case 42:return $o(t,"",NB,"",i,GA|KA|P0);case 41:return $o(t,"",FB,"",i,su|GA|KA|P0);case 26:return $o(t,"","",RB,i,0);case 25:return $o(t,"","",RB,i,su|GA|KA);case 31:return $o(t,"","",Jm,s,su|GA|KA);case 33:return $o(t,"","",Jm,s,0);case 32:return $o(t,"","",Jm,s,su|GA|KA);case 18:return Yr(t,2406,2415,!0,r);case 20:return tu(t,1,19999,Nk,3,r);case 21:return Yr(t,2790,2799,!0,r);case 22:return Yr(t,2662,2671,!0,r);case 22:return tu(t,1,10999,Ik,3,r);case 23:return Hl(t,"");case 24:return Hl(t,"");case 27:return Yr(t,3302,3311,!0,r);case 28:return Hl(t,"",i);case 29:return Hl(t,"",i);case 34:return Yr(t,3792,3801,!0,r);case 37:return Yr(t,6160,6169,!0,r);case 38:return Yr(t,4160,4169,!0,r);case 39:return Yr(t,2918,2927,!0,r);case 40:return Yr(t,1776,1785,!0,r);case 43:return Yr(t,3046,3055,!0,r);case 44:return Yr(t,3174,3183,!0,r);case 45:return Yr(t,3664,3673,!0,r);case 46:return Yr(t,3872,3881,!0,r);case 3:default:return Yr(t,48,57,!0,r)}},kS="data-html2canvas-ignore",DB=(function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Sk,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=Fk(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,u=i.contentWindow,h=u.document,d=Uk(i).then(function(){return ws(r,void 0,void 0,function(){var x,C;return ns(this,function(_){switch(_.label){case 0:return this.scrolledElements.forEach(Lk),u&&(u.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==n.top||u.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-n.left,u.scrollY-n.top,0,0))),x=this.options.onclone,C=this.clonedReferenceElement,typeof C>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:_.sent(),_.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Dk(h)]:[3,4];case 3:_.sent(),_.label=4;case 4:return typeof x=="function"?[2,Promise.resolve().then(function(){return x(h,C)}).then(function(){return i})]:[2,i]}})})});return h.open(),h.write(Mk(document.doctype)+"<html></html>"),Ok(this.referenceElement.ownerDocument,s,A),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),d},t.prototype.createElementClone=function(e){if(Gx(e,2))debugger;if(FS(e))return this.createCanvasClone(e);if(_B(e))return this.createVideoClone(e);if(TB(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return Xx(n)&&(Xx(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),bB(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return Zm(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var u=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(u){var h=u.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!fu(n)||!bk(n)&&!n.hasAttribute(kS)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!fu(n)||!TB(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(fu(s)&&DS(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(u){return i.appendChildNode(n,u,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(IS(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&fu(e)&&(Wx(e)||i1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),u=r.getComputedStyle(e,":after");this.referenceElement===e&&Wx(i)&&(this.clonedReferenceElement=i),tw(i)&&Hk(i);var h=this.counters.parse(new cB(this.context,s)),d=this.resolvePseudoContent(e,i,A,tf.BEFORE);bB(e)&&(n=!0),_B(e)||this.cloneChildNodes(e,i,n),d&&i.insertBefore(d,i.firstChild);var x=this.resolvePseudoContent(e,i,u,tf.AFTER);return x&&i.appendChild(x),this.counters.pop(h),(s&&(this.options.copyStyles||i1(e))&&!RS(e)||n)&&Zm(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(m1(e)||x1(e))&&(m1(i)||x1(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var A=r.content,u=n.ownerDocument;if(!(!u||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new cB(this.context,r));var h=new EU(this.context,r),d=u.createElement("html2canvaspseudoelement");Zm(r,d),h.content.forEach(function(C){if(C.type===0)d.appendChild(u.createTextNode(C.value));else if(C.type===22){var _=u.createElement("img");_.src=C.value,_.style.opacity="1",d.appendChild(_)}else if(C.type===18){if(C.name==="attr"){var N=C.values.filter(Ar);N.length&&d.appendChild(u.createTextNode(e.getAttribute(N[0].value)||""))}else if(C.name==="counter"){var D=C.values.filter(Bu),R=D[0],k=D[1];if(R&&Ar(R)){var j=s.counters.getCounterValue(R.value),K=k&&Ar(k)?jx.parse(s.context,k.value):3;d.appendChild(u.createTextNode(wf(j,K,!1)))}}else if(C.name==="counters"){var Q=C.values.filter(Bu),R=Q[0],ne=Q[1],k=Q[2];if(R&&Ar(R)){var ae=s.counters.getCounterValues(R.value),ee=k&&Ar(k)?jx.parse(s.context,k.value):3,M=ne&&ne.type===0?ne.value:"",H=ae.map(function(J){return wf(J,ee,!1)}).join(M);d.appendChild(u.createTextNode(H))}}}else if(C.type===20)switch(C.value){case"open-quote":d.appendChild(u.createTextNode(lB(h.quotes,s.quoteDepth++,!0)));break;case"close-quote":d.appendChild(u.createTextNode(lB(h.quotes,--s.quoteDepth,!1)));break;default:d.appendChild(u.createTextNode(C.value))}}),d.className=qx+" "+Yx;var x=i===tf.BEFORE?" "+qx:" "+Yx;return i1(n)?n.className.baseValue+=x:n.className+=x,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),tf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(tf||(tf={}));var Fk=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(kS,"true"),t.body.appendChild(n),n},Rk=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Dk=function(t){return Promise.all([].slice.call(t.images,0).map(Rk))},Uk=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},kk=["all","d","content"],Zm=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);kk.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Mk=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Ok=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Lk=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Qk=":before",Pk=":after",qx="___html2canvas___pseudoelement_before",Yx="___html2canvas___pseudoelement_after",UB=`{
    content: "" !important;
    display: none !important;
}`,Hk=function(t){Vk(t,"."+qx+Qk+UB+`
         .`+Yx+Pk+UB)},Vk=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},MS=(function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),jk=(function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(ex(e)||Wk(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ws(this,void 0,void 0,function(){var n,r,i,s,A=this;return ns(this,function(u){switch(u.label){case 0:return n=MS.isSameOrigin(e),r=!$m(e)&&this._options.useCORS===!0&&Qi.SUPPORT_CORS_IMAGES&&!n,i=!$m(e)&&!n&&!ex(e)&&typeof this._options.proxy=="string"&&Qi.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!$m(e)&&!ex(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,d){var x=new Image;x.onload=function(){return h(x)},x.onerror=d,(Xk(s)||r)&&(x.crossOrigin="anonymous"),x.src=s,x.complete===!0&&setTimeout(function(){return h(x)},500),A._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,A){var u=Qi.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(u==="text")s(h.response);else{var C=new FileReader;C.addEventListener("load",function(){return s(C.result)},!1),C.addEventListener("error",function(_){return A(_)},!1),C.readAsDataURL(h.response)}else A("Failed to proxy resource "+i+" with status code "+h.status)},h.onerror=A;var d=r.indexOf("?")>-1?"&":"?";if(h.open("GET",""+r+d+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=u),n._options.imageTimeout){var x=n._options.imageTimeout;h.timeout=x,h.ontimeout=function(){return A("Timed out ("+x+"ms) proxying "+i)}}h.send()})},t})(),Gk=/^data:image\/svg\+xml/i,Kk=/^data:image\/.*;base64,/i,zk=/^data:image\/.*/i,Wk=function(t){return Qi.SUPPORT_SVG_DRAWING||!qk(t)},$m=function(t){return zk.test(t)},Xk=function(t){return Kk.test(t)},ex=function(t){return t.substr(0,4)==="blob"},qk=function(t){return t.substr(-3).toLowerCase()==="svg"||Gk.test(t)},Rt=(function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t})(),nu=function(t,e,n){return new Rt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},_h=(function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=nu(this.start,this.startControl,e),i=nu(this.startControl,this.endControl,e),s=nu(this.endControl,this.end,e),A=nu(r,i,e),u=nu(i,s,e),h=nu(A,u,e);return n?new t(this.start,r,A,h):new t(h,u,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ra=function(t){return t.type===1},Yk=(function(){function t(e){var n=e.styles,r=e.bounds,i=L0(n.borderTopLeftRadius,r.width,r.height),s=i[0],A=i[1],u=L0(n.borderTopRightRadius,r.width,r.height),h=u[0],d=u[1],x=L0(n.borderBottomRightRadius,r.width,r.height),C=x[0],_=x[1],N=L0(n.borderBottomLeftRadius,r.width,r.height),D=N[0],R=N[1],k=[];k.push((s+h)/r.width),k.push((D+C)/r.width),k.push((A+R)/r.height),k.push((d+_)/r.height);var j=Math.max.apply(Math,k);j>1&&(s/=j,A/=j,h/=j,d/=j,C/=j,_/=j,D/=j,R/=j);var K=r.width-h,Q=r.height-_,ne=r.width-C,ae=r.height-R,ee=n.borderTopWidth,M=n.borderRightWidth,H=n.borderBottomWidth,O=n.borderLeftWidth,z=pr(n.paddingTop,e.bounds.width),J=pr(n.paddingRight,e.bounds.width),W=pr(n.paddingBottom,e.bounds.width),X=pr(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?_r(r.left+O/3,r.top+ee/3,s-O/3,A-ee/3,Yn.TOP_LEFT):new Rt(r.left+O/3,r.top+ee/3),this.topRightBorderDoubleOuterBox=s>0||A>0?_r(r.left+K,r.top+ee/3,h-M/3,d-ee/3,Yn.TOP_RIGHT):new Rt(r.left+r.width-M/3,r.top+ee/3),this.bottomRightBorderDoubleOuterBox=C>0||_>0?_r(r.left+ne,r.top+Q,C-M/3,_-H/3,Yn.BOTTOM_RIGHT):new Rt(r.left+r.width-M/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=D>0||R>0?_r(r.left+O/3,r.top+ae,D-O/3,R-H/3,Yn.BOTTOM_LEFT):new Rt(r.left+O/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?_r(r.left+O*2/3,r.top+ee*2/3,s-O*2/3,A-ee*2/3,Yn.TOP_LEFT):new Rt(r.left+O*2/3,r.top+ee*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?_r(r.left+K,r.top+ee*2/3,h-M*2/3,d-ee*2/3,Yn.TOP_RIGHT):new Rt(r.left+r.width-M*2/3,r.top+ee*2/3),this.bottomRightBorderDoubleInnerBox=C>0||_>0?_r(r.left+ne,r.top+Q,C-M*2/3,_-H*2/3,Yn.BOTTOM_RIGHT):new Rt(r.left+r.width-M*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=D>0||R>0?_r(r.left+O*2/3,r.top+ae,D-O*2/3,R-H*2/3,Yn.BOTTOM_LEFT):new Rt(r.left+O*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||A>0?_r(r.left+O/2,r.top+ee/2,s-O/2,A-ee/2,Yn.TOP_LEFT):new Rt(r.left+O/2,r.top+ee/2),this.topRightBorderStroke=s>0||A>0?_r(r.left+K,r.top+ee/2,h-M/2,d-ee/2,Yn.TOP_RIGHT):new Rt(r.left+r.width-M/2,r.top+ee/2),this.bottomRightBorderStroke=C>0||_>0?_r(r.left+ne,r.top+Q,C-M/2,_-H/2,Yn.BOTTOM_RIGHT):new Rt(r.left+r.width-M/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=D>0||R>0?_r(r.left+O/2,r.top+ae,D-O/2,R-H/2,Yn.BOTTOM_LEFT):new Rt(r.left+O/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||A>0?_r(r.left,r.top,s,A,Yn.TOP_LEFT):new Rt(r.left,r.top),this.topRightBorderBox=h>0||d>0?_r(r.left+K,r.top,h,d,Yn.TOP_RIGHT):new Rt(r.left+r.width,r.top),this.bottomRightBorderBox=C>0||_>0?_r(r.left+ne,r.top+Q,C,_,Yn.BOTTOM_RIGHT):new Rt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=D>0||R>0?_r(r.left,r.top+ae,D,R,Yn.BOTTOM_LEFT):new Rt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||A>0?_r(r.left+O,r.top+ee,Math.max(0,s-O),Math.max(0,A-ee),Yn.TOP_LEFT):new Rt(r.left+O,r.top+ee),this.topRightPaddingBox=h>0||d>0?_r(r.left+Math.min(K,r.width-M),r.top+ee,K>r.width+M?0:Math.max(0,h-M),Math.max(0,d-ee),Yn.TOP_RIGHT):new Rt(r.left+r.width-M,r.top+ee),this.bottomRightPaddingBox=C>0||_>0?_r(r.left+Math.min(ne,r.width-O),r.top+Math.min(Q,r.height-H),Math.max(0,C-M),Math.max(0,_-H),Yn.BOTTOM_RIGHT):new Rt(r.left+r.width-M,r.top+r.height-H),this.bottomLeftPaddingBox=D>0||R>0?_r(r.left+O,r.top+Math.min(ae,r.height-H),Math.max(0,D-O),Math.max(0,R-H),Yn.BOTTOM_LEFT):new Rt(r.left+O,r.top+r.height-H),this.topLeftContentBox=s>0||A>0?_r(r.left+O+X,r.top+ee+z,Math.max(0,s-(O+X)),Math.max(0,A-(ee+z)),Yn.TOP_LEFT):new Rt(r.left+O+X,r.top+ee+z),this.topRightContentBox=h>0||d>0?_r(r.left+Math.min(K,r.width+O+X),r.top+ee+z,K>r.width+O+X?0:h-O+X,d-(ee+z),Yn.TOP_RIGHT):new Rt(r.left+r.width-(M+J),r.top+ee+z),this.bottomRightContentBox=C>0||_>0?_r(r.left+Math.min(ne,r.width-(O+X)),r.top+Math.min(Q,r.height+ee+z),Math.max(0,C-(M+J)),_-(H+W),Yn.BOTTOM_RIGHT):new Rt(r.left+r.width-(M+J),r.top+r.height-(H+W)),this.bottomLeftContentBox=D>0||R>0?_r(r.left+O+X,r.top+ae,Math.max(0,D-(O+X)),R-(H+W),Yn.BOTTOM_LEFT):new Rt(r.left+O+X,r.top+r.height-(H+W))}return t})(),Yn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Yn||(Yn={}));var _r=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),A=n*s,u=r*s,h=t+n,d=e+r;switch(i){case Yn.TOP_LEFT:return new _h(new Rt(t,d),new Rt(t,d-u),new Rt(h-A,e),new Rt(h,e));case Yn.TOP_RIGHT:return new _h(new Rt(t,e),new Rt(t+A,e),new Rt(h,d-u),new Rt(h,d));case Yn.BOTTOM_RIGHT:return new _h(new Rt(h,e),new Rt(h,e+u),new Rt(t+A,d),new Rt(t,d));case Yn.BOTTOM_LEFT:default:return new _h(new Rt(h,d),new Rt(h-A,d),new Rt(t,e+u),new Rt(t,e))}},w1=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Jk=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},v1=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Zk=(function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t})(),Th=(function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t})(),$k=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),eM=function(t){return t.type===0},OS=function(t){return t.type===1},tM=function(t){return t.type===2},kB=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},nM=function(t,e,n,r,i){return t.map(function(s,A){switch(A){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},LS=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),QS=(function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Yk(this.container),this.container.styles.opacity<1&&this.effects.push(new $k(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Zk(r,i,s))}if(this.container.styles.overflowX!==0){var A=w1(this.curves),u=v1(this.curves);kB(A,u)?this.effects.push(new Th(A,6)):(this.effects.push(new Th(A,2)),this.effects.push(new Th(u,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(h){return!OS(h)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=w1(r.curves),u=v1(r.curves);kB(A,u)||i.unshift(new Th(u,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(h){return pi(h.target,e)})},t})(),Jx=function(t,e,n,r){t.container.elements.forEach(function(i){var s=pi(i.flags,4),A=pi(i.flags,2),u=new QS(i,t);pi(i.styles.display,2048)&&r.push(u);var h=pi(i.flags,8)?[]:r;if(s||A){var d=s||i.styles.isPositioned()?n:e,x=new LS(u);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var C=i.styles.zIndex.order;if(C<0){var _=0;d.negativeZIndex.some(function(D,R){return C>D.element.container.styles.zIndex.order?(_=R,!1):_>0}),d.negativeZIndex.splice(_,0,x)}else if(C>0){var N=0;d.positiveZIndex.some(function(D,R){return C>=D.element.container.styles.zIndex.order?(N=R+1,!1):N>0}),d.positiveZIndex.splice(N,0,x)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(x)}else i.styles.isFloating()?d.nonPositionedFloats.push(x):d.nonPositionedInlineLevel.push(x);Jx(u,x,s?x:n,h)}else i.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),Jx(u,e,n,h);pi(i.flags,8)&&PS(i,h)})},PS=function(t,e){for(var n=t instanceof zx?t.start:1,r=t instanceof zx?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof ES&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=wf(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},rM=function(t){var e=new QS(t,null),n=new LS(e),r=[];return Jx(e,n,n,r),PS(e.container,r),n},MB=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ua(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ua(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ua(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},iM=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ua(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ua(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ua(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},sM=function(t,e){switch(e){case 0:return Ua(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ua(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ua(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ua(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},aM=function(t,e){switch(e){case 0:return bh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return bh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return bh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return bh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},bh=function(t,e){var n=[];return Ra(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ra(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Ua=function(t,e,n,r){var i=[];return Ra(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ra(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ra(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ra(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},HS=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},y1=function(t){var e=t.styles,n=t.bounds,r=pr(e.paddingLeft,n.width),i=pr(e.paddingRight,n.width),s=pr(e.paddingTop,n.width),A=pr(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+A))},oM=function(t,e){return t===0?e.bounds:t===2?y1(e):HS(e)},AM=function(t,e){return t===0?e.bounds:t===2?y1(e):HS(e)},tx=function(t,e,n){var r=oM(au(t.styles.backgroundOrigin,e),t),i=AM(au(t.styles.backgroundClip,e),t),s=lM(au(t.styles.backgroundSize,e),n,r),A=s[0],u=s[1],h=L0(au(t.styles.backgroundPosition,e),r.width-A,r.height-u),d=cM(au(t.styles.backgroundRepeat,e),h,s,r,i),x=Math.round(r.left+h[0]),C=Math.round(r.top+h[1]);return[d,x,C,A,u]},ru=function(t){return Ar(t)&&t.value===mu.AUTO},Sh=function(t){return typeof t=="number"},lM=function(t,e,n){var r=e[0],i=e[1],s=e[2],A=t[0],u=t[1];if(!A)return[0,0];if(li(A)&&u&&li(u))return[pr(A,n.width),pr(u,n.height)];var h=Sh(s);if(Ar(A)&&(A.value===mu.CONTAIN||A.value===mu.COVER)){if(Sh(s)){var d=n.width/n.height;return d<s!=(A.value===mu.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var x=Sh(r),C=Sh(i),_=x||C;if(ru(A)&&(!u||ru(u))){if(x&&C)return[r,i];if(!h&&!_)return[n.width,n.height];if(_&&h){var N=x?r:i*s,D=C?i:r/s;return[N,D]}var R=x?r:n.width,k=C?i:n.height;return[R,k]}if(h){var j=0,K=0;return li(A)?j=pr(A,n.width):li(u)&&(K=pr(u,n.height)),ru(A)?j=K*s:(!u||ru(u))&&(K=j/s),[j,K]}var Q=null,ne=null;if(li(A)?Q=pr(A,n.width):u&&li(u)&&(ne=pr(u,n.height)),Q!==null&&(!u||ru(u))&&(ne=x&&C?Q/r*i:n.height),ne!==null&&ru(A)&&(Q=x&&C?ne/i*r:n.width),Q!==null&&ne!==null)return[Q,ne];throw new Error("Unable to calculate background-size for element")},au=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},cM=function(t,e,n,r,i){var s=e[0],A=e[1],u=n[0],h=n[1];switch(t){case 2:return[new Rt(Math.round(r.left),Math.round(r.top+A)),new Rt(Math.round(r.left+r.width),Math.round(r.top+A)),new Rt(Math.round(r.left+r.width),Math.round(h+r.top+A)),new Rt(Math.round(r.left),Math.round(h+r.top+A))];case 3:return[new Rt(Math.round(r.left+s),Math.round(r.top)),new Rt(Math.round(r.left+s+u),Math.round(r.top)),new Rt(Math.round(r.left+s+u),Math.round(r.height+r.top)),new Rt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Rt(Math.round(r.left+s),Math.round(r.top+A)),new Rt(Math.round(r.left+s+u),Math.round(r.top+A)),new Rt(Math.round(r.left+s+u),Math.round(r.top+A+h)),new Rt(Math.round(r.left+s),Math.round(r.top+A+h))];default:return[new Rt(Math.round(i.left),Math.round(i.top)),new Rt(Math.round(i.left+i.width),Math.round(i.top)),new Rt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Rt(Math.round(i.left),Math.round(i.height+i.top))]}},uM="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",OB="Hidden Text",fM=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),i.src=uM,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(OB)),r.appendChild(s),r.appendChild(i);var u=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(OB)),r.style.lineHeight="normal",i.style.verticalAlign="super";var h=i.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:u,middle:h}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t})(),VS=(function(){function t(e,n){this.context=e,this.options=n}return t})(),dM=1e4,hM=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new fM(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),tM(n)&&(this.ctx.globalAlpha=n.opacity),eM(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),OS(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return ws(this,void 0,void 0,function(){var r;return ns(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return ws(this,void 0,void 0,function(){return ns(this,function(r){switch(r.label){case 0:if(pi(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var A=$2(n.text);A.reduce(function(u,h){return s.ctx.fillText(h,u,n.bounds.top+i),u+s.ctx.measureText(h).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=wM(n.fontFamily).join(", "),s=Lf(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return ws(this,void 0,void 0,function(){var i,s,A,u,h,d,x,C,_=this;return ns(this,function(N){return i=this.createFontStyle(r),s=i[0],A=i[1],u=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(A,u),d=h.baseline,x=h.middle,C=r.paintOrder,n.textBounds.forEach(function(D){C.forEach(function(R){switch(R){case 0:_.ctx.fillStyle=_i(r.color),_.renderTextWithLetterSpacing(D,r.letterSpacing,d);var k=r.textShadow;k.length&&D.text.trim().length&&(k.slice(0).reverse().forEach(function(j){_.ctx.shadowColor=_i(j.color),_.ctx.shadowOffsetX=j.offsetX.number*_.options.scale,_.ctx.shadowOffsetY=j.offsetY.number*_.options.scale,_.ctx.shadowBlur=j.blur.number,_.renderTextWithLetterSpacing(D,r.letterSpacing,d)}),_.ctx.shadowColor="",_.ctx.shadowOffsetX=0,_.ctx.shadowOffsetY=0,_.ctx.shadowBlur=0),r.textDecorationLine.length&&(_.ctx.fillStyle=_i(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(j){switch(j){case 1:_.ctx.fillRect(D.bounds.left,Math.round(D.bounds.top+d),D.bounds.width,1);break;case 2:_.ctx.fillRect(D.bounds.left,Math.round(D.bounds.top),D.bounds.width,1);break;case 3:_.ctx.fillRect(D.bounds.left,Math.ceil(D.bounds.top+x),D.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&D.text.trim().length&&(_.ctx.strokeStyle=_i(r.webkitTextStrokeColor),_.ctx.lineWidth=r.webkitTextStrokeWidth,_.ctx.lineJoin=window.chrome?"miter":"round",_.ctx.strokeText(D.text,D.bounds.left,D.bounds.top+d)),_.ctx.strokeStyle="",_.ctx.lineWidth=0,_.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=y1(n),A=v1(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return ws(this,void 0,void 0,function(){var r,i,s,A,u,h,K,K,d,x,C,_,ne,N,D,ae,R,k,j,K,Q,ne,ae;return ns(this,function(ee){switch(ee.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,A=0,u=r.textNodes,ee.label=1;case 1:return A<u.length?(h=u[A],[4,this.renderTextNode(h,s)]):[3,4];case 2:ee.sent(),ee.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof vS))return[3,8];ee.label=5;case 5:return ee.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return K=ee.sent(),this.renderReplacedElement(r,i,K),[3,8];case 7:return ee.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof yS&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof CS))return[3,12];ee.label=9;case 9:return ee.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return K=ee.sent(),this.renderReplacedElement(r,i,K),[3,12];case 11:return ee.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof TS&&r.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,d.render(r.tree)]):[3,14];case 13:x=ee.sent(),r.width&&r.height&&this.ctx.drawImage(x,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),ee.label=14;case 14:if(r instanceof ew&&(C=Math.min(r.bounds.width,r.bounds.height),r.type===g1?r.checked&&(this.ctx.save(),this.path([new Rt(r.bounds.left+C*.39363,r.bounds.top+C*.79),new Rt(r.bounds.left+C*.16,r.bounds.top+C*.5549),new Rt(r.bounds.left+C*.27347,r.bounds.top+C*.44071),new Rt(r.bounds.left+C*.39694,r.bounds.top+C*.5649),new Rt(r.bounds.left+C*.72983,r.bounds.top+C*.23),new Rt(r.bounds.left+C*.84,r.bounds.top+C*.34085),new Rt(r.bounds.left+C*.39363,r.bounds.top+C*.79)]),this.ctx.fillStyle=_i(BB),this.ctx.fill(),this.ctx.restore()):r.type===p1&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+C/2,r.bounds.top+C/2,C/4,0,Math.PI*2,!0),this.ctx.fillStyle=_i(BB),this.ctx.fill(),this.ctx.restore())),gM(r)&&r.value.length){switch(_=this.createFontStyle(s),ne=_[0],N=_[1],D=this.fontMetrics.getMetrics(ne,N).baseline,this.ctx.font=ne,this.ctx.fillStyle=_i(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mM(r.styles.textAlign),ae=y1(r),R=0,r.styles.textAlign){case 1:R+=ae.width/2;break;case 2:R+=ae.width;break}k=ae.add(R,0,0,-ae.height/2+1),this.ctx.save(),this.path([new Rt(ae.left,ae.top),new Rt(ae.left+ae.width,ae.top),new Rt(ae.left+ae.width,ae.top+ae.height),new Rt(ae.left,ae.top+ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ef(r.value,k),s.letterSpacing,D),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pi(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(j=r.styles.listStyleImage,j.type!==0)return[3,18];K=void 0,Q=j.url,ee.label=15;case 15:return ee.trys.push([15,17,,18]),[4,this.context.cache.match(Q)];case 16:return K=ee.sent(),this.ctx.drawImage(K,r.bounds.left-(K.width+10),r.bounds.top),[3,18];case 17:return ee.sent(),this.context.logger.error("Error loading list-style-image "+Q),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(ne=this.createFontStyle(s)[0],this.ctx.font=ne,this.ctx.fillStyle=_i(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ae=new aA(r.bounds.left,r.bounds.top+pr(r.styles.paddingTop,r.bounds.width),r.bounds.width,oB(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ef(n.listValue,ae),s.letterSpacing,oB(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ee.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return ws(this,void 0,void 0,function(){var r,i,j,s,A,j,u,h,j,d,x,j,C,_,j,N,D,j,R,k,j;return ns(this,function(K){switch(K.label){case 0:if(pi(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:K.sent(),r=0,i=n.negativeZIndex,K.label=2;case 2:return r<i.length?(j=i[r],[4,this.renderStack(j)]):[3,5];case 3:K.sent(),K.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:K.sent(),s=0,A=n.nonInlineLevel,K.label=7;case 7:return s<A.length?(j=A[s],[4,this.renderNode(j)]):[3,10];case 8:K.sent(),K.label=9;case 9:return s++,[3,7];case 10:u=0,h=n.nonPositionedFloats,K.label=11;case 11:return u<h.length?(j=h[u],[4,this.renderStack(j)]):[3,14];case 12:K.sent(),K.label=13;case 13:return u++,[3,11];case 14:d=0,x=n.nonPositionedInlineLevel,K.label=15;case 15:return d<x.length?(j=x[d],[4,this.renderStack(j)]):[3,18];case 16:K.sent(),K.label=17;case 17:return d++,[3,15];case 18:C=0,_=n.inlineLevel,K.label=19;case 19:return C<_.length?(j=_[C],[4,this.renderNode(j)]):[3,22];case 20:K.sent(),K.label=21;case 21:return C++,[3,19];case 22:N=0,D=n.zeroOrAutoZIndexOrTransformedOrOpacity,K.label=23;case 23:return N<D.length?(j=D[N],[4,this.renderStack(j)]):[3,26];case 24:K.sent(),K.label=25;case 25:return N++,[3,23];case 26:R=0,k=n.positiveZIndex,K.label=27;case 27:return R<k.length?(j=k[R],[4,this.renderStack(j)]):[3,30];case 28:K.sent(),K.label=29;case 29:return R++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var A=Ra(i)?i.start:i;s===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),Ra(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,u=A.createElement("canvas");u.width=Math.max(1,r),u.height=Math.max(1,i);var h=u.getContext("2d");return h.drawImage(n,0,0,n.width,n.height,0,0,r,i),u},e.prototype.renderBackgroundImage=function(n){return ws(this,void 0,void 0,function(){var r,i,s,A,u,h;return ns(this,function(d){switch(d.label){case 0:r=n.styles.backgroundImage.length-1,i=function(x){var C,_,N,z,ve,oe,X,Me,H,D,z,ve,oe,X,Me,R,k,j,K,Q,ne,ae,ee,M,H,O,z,J,W,X,Me,Ee,ve,oe,je,Be,Ze,me,Z,ge,le,ue;return ns(this,function(xe){switch(xe.label){case 0:if(x.type!==0)return[3,5];C=void 0,_=x.url,xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,s.context.cache.match(_)];case 2:return C=xe.sent(),[3,4];case 3:return xe.sent(),s.context.logger.error("Error loading background-image "+_),[3,4];case 4:return C&&(N=tx(n,r,[C.width,C.height,C.width/C.height]),z=N[0],ve=N[1],oe=N[2],X=N[3],Me=N[4],H=s.ctx.createPattern(s.resizeImage(C,X,Me),"repeat"),s.renderRepeat(z,H,ve,oe)),[3,6];case 5:e5(x)?(D=tx(n,r,[null,null,null]),z=D[0],ve=D[1],oe=D[2],X=D[3],Me=D[4],R=qD(x.angle,X,Me),k=R[0],j=R[1],K=R[2],Q=R[3],ne=R[4],ae=document.createElement("canvas"),ae.width=X,ae.height=Me,ee=ae.getContext("2d"),M=ee.createLinearGradient(j,Q,K,ne),sB(x.stops,k).forEach(function(Ye){return M.addColorStop(Ye.stop,_i(Ye.color))}),ee.fillStyle=M,ee.fillRect(0,0,X,Me),X>0&&Me>0&&(H=s.ctx.createPattern(ae,"repeat"),s.renderRepeat(z,H,ve,oe))):t5(x)&&(O=tx(n,r,[null,null,null]),z=O[0],J=O[1],W=O[2],X=O[3],Me=O[4],Ee=x.position.length===0?[Y2]:x.position,ve=pr(Ee[0],X),oe=pr(Ee[Ee.length-1],Me),je=YD(x,ve,oe,X,Me),Be=je[0],Ze=je[1],Be>0&&Ze>0&&(me=s.ctx.createRadialGradient(J+ve,W+oe,0,J+ve,W+oe,Be),sB(x.stops,Be*2).forEach(function(Ye){return me.addColorStop(Ye.stop,_i(Ye.color))}),s.path(z),s.ctx.fillStyle=me,Be!==Ze?(Z=n.bounds.left+.5*n.bounds.width,ge=n.bounds.top+.5*n.bounds.height,le=Ze/Be,ue=1/le,s.ctx.save(),s.ctx.translate(Z,ge),s.ctx.transform(1,0,0,le,0,0),s.ctx.translate(-Z,-ge),s.ctx.fillRect(J,ue*(W-ge)+ge,X,Me*ue),s.ctx.restore()):s.ctx.fill())),xe.label=6;case 6:return r--,[2]}})},s=this,A=0,u=n.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return A<u.length?(h=u[A],[5,i(h)]):[3,4];case 2:d.sent(),d.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return ws(this,void 0,void 0,function(){return ns(this,function(s){return this.path(MB(i,r)),this.ctx.fillStyle=_i(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return ws(this,void 0,void 0,function(){var A,u;return ns(this,function(h){switch(h.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return h.sent(),[2];case 2:return A=iM(s,i),this.path(A),this.ctx.fillStyle=_i(n),this.ctx.fill(),u=sM(s,i),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return ws(this,void 0,void 0,function(){var r,i,s,A,u,h,d,x,C=this;return ns(this,function(_){switch(_.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!nl(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=pM(au(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),nl(r.backgroundColor)||(this.ctx.fillStyle=_i(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:_.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(N){C.ctx.save();var D=w1(n.curves),R=N.inset?0:dM,k=nM(D,-R+(N.inset?1:-1)*N.spread.number,(N.inset?1:-1)*N.spread.number,N.spread.number*(N.inset?-2:2),N.spread.number*(N.inset?-2:2));N.inset?(C.path(D),C.ctx.clip(),C.mask(k)):(C.mask(D),C.ctx.clip(),C.path(k)),C.ctx.shadowOffsetX=N.offsetX.number+R,C.ctx.shadowOffsetY=N.offsetY.number,C.ctx.shadowColor=_i(N.color),C.ctx.shadowBlur=N.blur.number,C.ctx.fillStyle=N.inset?_i(N.color):"rgba(0,0,0,1)",C.ctx.fill(),C.ctx.restore()}),_.label=2;case 2:u=0,h=0,d=s,_.label=3;case 3:return h<d.length?(x=d[h],x.style!==0&&!nl(x.color)&&x.width>0?x.style!==2?[3,5]:[4,this.renderDashedDottedBorder(x.color,x.width,u,n.curves,2)]:[3,11]):[3,13];case 4:return _.sent(),[3,11];case 5:return x.style!==3?[3,7]:[4,this.renderDashedDottedBorder(x.color,x.width,u,n.curves,3)];case 6:return _.sent(),[3,11];case 7:return x.style!==4?[3,9]:[4,this.renderDoubleBorder(x.color,x.width,u,n.curves)];case 8:return _.sent(),[3,11];case 9:return[4,this.renderSolidBorder(x.color,u,n.curves)];case 10:_.sent(),_.label=11;case 11:u++,_.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,A){return ws(this,void 0,void 0,function(){var u,h,d,x,C,_,N,D,R,k,j,K,Q,ne,ae,ee,ae,ee;return ns(this,function(M){return this.ctx.save(),u=aM(s,i),h=MB(s,i),A===2&&(this.path(h),this.ctx.clip()),Ra(h[0])?(d=h[0].start.x,x=h[0].start.y):(d=h[0].x,x=h[0].y),Ra(h[1])?(C=h[1].end.x,_=h[1].end.y):(C=h[1].x,_=h[1].y),i===0||i===2?N=Math.abs(d-C):N=Math.abs(x-_),this.ctx.beginPath(),A===3?this.formatPath(u):this.formatPath(h.slice(0,2)),D=r<3?r*3:r*2,R=r<3?r*2:r,A===3&&(D=r,R=r),k=!0,N<=D*2?k=!1:N<=D*2+R?(j=N/(2*D+R),D*=j,R*=j):(K=Math.floor((N+R)/(D+R)),Q=(N-K*D)/(K-1),ne=(N-(K+1)*D)/K,R=ne<=0||Math.abs(R-Q)<Math.abs(R-ne)?Q:ne),k&&(A===3?this.ctx.setLineDash([0,D+R]):this.ctx.setLineDash([D,R])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=_i(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(Ra(h[0])&&(ae=h[3],ee=h[0],this.ctx.beginPath(),this.formatPath([new Rt(ae.end.x,ae.end.y),new Rt(ee.start.x,ee.start.y)]),this.ctx.stroke()),Ra(h[1])&&(ae=h[1],ee=h[2],this.ctx.beginPath(),this.formatPath([new Rt(ae.end.x,ae.end.y),new Rt(ee.start.x,ee.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return ws(this,void 0,void 0,function(){var r;return ns(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_i(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=rM(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(VS),gM=function(t){return t instanceof _S||t instanceof BS?!0:t instanceof ew&&t.type!==p1&&t.type!==g1},pM=function(t,e){switch(t){case 0:return w1(e);case 2:return Jk(e);case 1:default:return v1(e)}},mM=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},xM=["-apple-system","system-ui"],wM=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return xM.indexOf(e)===-1}):t},vM=(function(t){so(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return ws(this,void 0,void 0,function(){var r,i;return ns(this,function(s){switch(s.label){case 0:return r=Kx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,yM(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_i(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(VS),yM=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},CM=(function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ah([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),EM=(function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new CM({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new jk(this,e)}return t.instanceCount=1,t})(),nc=function(t,e){return e===void 0&&(e={}),BM(t,e)};typeof window<"u"&&MS.setContext(window);var BM=function(t,e){return ws(void 0,void 0,void 0,function(){var n,r,i,s,A,u,h,d,x,C,_,N,D,R,k,j,K,Q,ne,ae,M,ee,M,H,O,z,J,W,X,Me,Ee,ve,oe,je,Be,Ze,me,Z,ge,le;return ns(this,function(ue){switch(ue.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(z=e.useCORS)!==null&&z!==void 0?z:!1},s=Nx({logging:(J=e.logging)!==null&&J!==void 0?J:!0,cache:e.cache},i),A={windowWidth:(W=e.windowWidth)!==null&&W!==void 0?W:r.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:r.innerHeight,scrollX:(Me=e.scrollX)!==null&&Me!==void 0?Me:r.pageXOffset,scrollY:(Ee=e.scrollY)!==null&&Ee!==void 0?Ee:r.pageYOffset},u=new aA(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new EM(s,u),d=(ve=e.foreignObjectRendering)!==null&&ve!==void 0?ve:!1,x={allowTaint:(oe=e.allowTaint)!==null&&oe!==void 0?oe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),C=new DB(h,t,x),_=C.clonedReferenceElement,_?[4,C.toIFrame(n,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return N=ue.sent(),D=tw(_)||Tk(_)?n6(_.ownerDocument):ng(h,_),R=D.width,k=D.height,j=D.left,K=D.top,Q=_M(h,_,e.backgroundColor),ne={canvas:e.canvas,backgroundColor:Q,scale:(Be=(je=e.scale)!==null&&je!==void 0?je:r.devicePixelRatio)!==null&&Be!==void 0?Be:1,x:((Ze=e.x)!==null&&Ze!==void 0?Ze:0)+j,y:((me=e.y)!==null&&me!==void 0?me:0)+K,width:(Z=e.width)!==null&&Z!==void 0?Z:Math.ceil(R),height:(ge=e.height)!==null&&ge!==void 0?ge:Math.ceil(k)},d?(h.logger.debug("Document cloned, using foreign object rendering"),M=new vM(h,ne),[4,M.render(_)]):[3,3];case 2:return ae=ue.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+j+","+K+" with size "+R+"x"+k+" using computed rendering"),h.logger.debug("Starting DOM parsing"),ee=SS(h,_),Q===ee.styles.backgroundColor&&(ee.styles.backgroundColor=rA.TRANSPARENT),h.logger.debug("Starting renderer for element at "+ne.x+","+ne.y+" with size "+ne.width+"x"+ne.height),M=new hM(h,ne),[4,M.render(ee)];case 4:ae=ue.sent(),ue.label=5;case 5:return(!((le=e.removeContainer)!==null&&le!==void 0)||le)&&(DB.destroy(N)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ae]}})})},_M=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?Z0(t,getComputedStyle(r.documentElement).backgroundColor):rA.TRANSPARENT,s=r.body?Z0(t,getComputedStyle(r.body).backgroundColor):rA.TRANSPARENT,A=typeof n=="string"?Z0(t,n):n===null?rA.TRANSPARENT:4294967295;return e===r.documentElement?nl(i)?nl(s)?A:s:i:A};const TM=({currentUser:t,onLogout:e,onNavigateToProducts:n,onNavigateToCreateInvoice:r,onNavigateToSettings:i,onNavigateToCustomers:s,onNavigateToNotifications:A,onNavigateToSuppliers:u,onNavigateToClientRequests:h,onNavigateToCheckbook:d,onNavigateToSpecialOrders:x,invoices:C,products:_,onEditInvoice:N,onDeleteInvoice:D,onNewInvoiceForCustomer:R,settings:k,unreadNotificationsCount:j})=>{const[K,Q]=Se.useState("unpaid"),[ne,ae]=Se.useState(!1),[ee,M]=Se.useState(""),[H,O]=Se.useState(!1),[z,J]=Se.useState(null),[W,X]=Se.useState(null),Me=Se.useRef(null),Ee=Se.useRef(!1),ve=Se.useRef(null);Se.useEffect(()=>{if(z&&k.showBarcode&&ve.current)try{setTimeout(()=>{const ue=document.getElementById("hidden-barcode");ue&&typeof JsBarcode<"u"&&JsBarcode(ue,z.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})},100)}catch(ue){console.error("Barcode generation failed",ue)}},[z,k.showBarcode]);const oe=ue=>{Ee.current=!1,Me.current=setTimeout(()=>{Ee.current=!0,(t.role==="admin"||t.permissions.isManager)&&(X(ue),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},je=()=>{Me.current&&(clearTimeout(Me.current),Me.current=null)},Be=()=>{W&&D&&(D(W.id),X(null))};Se.useEffect(()=>{z&&window.scrollTo({top:0,behavior:"smooth"})},[z]);const Ze=ue=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(ue),me=async()=>{if(!(!z||!ve.current)){O(!0);try{(await nc(ve.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:ve.current.offsetWidth,windowWidth:1e3})).toBlob(async xe=>{if(!xe){O(!1),alert("  ");return}try{const Ye=new ClipboardItem({"image/png":xe});await navigator.clipboard.write([Ye]);let Ne=z.phone?z.phone.replace(/\D/g,""):"";(Ne.startsWith("06")||Ne.startsWith("07")||Ne.startsWith("05"))&&(Ne="212"+Ne.substring(1)),window.open(Ne?`https://wa.me/${Ne}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{O(!1)}},"image/png",1)}catch{O(!1)}}},Z=()=>{z&&Q4(z,k)},ge=()=>{Q("unpaid"),M(""),ae(!1),J(null)},le=Se.useMemo(()=>C.filter(ue=>{const xe=K==="all"?!0:ue.type===K,Ye=ue.name.includes(ee)||ue.id.includes(ee);return xe&&Ye}).sort((ue,xe)=>xe.createdAt-ue.createdAt),[C,K,ee]);return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[z&&p.jsxs("div",{ref:ve,style:{position:"fixed",top:0,left:-9999,width:k.receiptSize==="58mm"?"58mm":"80mm",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",padding:"10px 20px",fontSize:"12px",lineHeight:"1.4",direction:"rtl",zIndex:-1,boxSizing:"border-box"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"1px dashed #000",paddingBottom:"10px",marginBottom:"10px"},children:[k.businessLogo&&p.jsx("img",{src:k.businessLogo,alt:"Logo",style:{maxWidth:"60px",maxHeight:"60px",marginBottom:"5px"}}),p.jsx("div",{style:{fontSize:"16px",fontWeight:"800",margin:"5px 0"},children:k.businessName}),p.jsx("div",{style:{fontSize:"10px"},children:k.userName}),p.jsxs("div",{style:{fontSize:"10px"},children:[": ",new Date().toLocaleDateString("ar-MA")]}),p.jsxs("div",{style:{fontSize:"10px"},children:[" : ",z.id]})]}),p.jsxs("div",{style:{marginBottom:"10px",borderBottom:"1px dashed #000",paddingBottom:"5px"},children:[p.jsxs("div",{style:{fontWeight:"bold"},children:[": ",z.name]}),z.phone&&p.jsxs("div",{children:[": ",z.phone]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #000",padding:"2px 0 8px 0"},children:""}),p.jsx("th",{style:{textAlign:"center",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"15%"},children:""}),p.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"35%"},children:""})]})}),p.jsx("tbody",{children:z.items.map((ue,xe)=>p.jsxs("tr",{children:[p.jsx("td",{style:{padding:"4px 0",verticalAlign:"top"},children:ue.productName}),p.jsx("td",{style:{padding:"4px 0",textAlign:"center",verticalAlign:"top"},children:ue.count}),p.jsx("td",{style:{padding:"4px 0",textAlign:"left",verticalAlign:"top"},children:ue.total.toFixed(2)})]},xe))})]}),p.jsxs("div",{style:{borderTop:"1px dashed #000",paddingTop:"5px",marginTop:"5px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",fontSize:"14px",marginTop:"5px"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.amount.toFixed(2)," ."]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.paidAmount.toFixed(2)," ."]})]}),z.remainingAmount>0&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[p.jsx("span",{children:":"}),p.jsxs("span",{children:[z.remainingAmount.toFixed(2)," ."]})]})]}),p.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"9px",borderTop:"1px dashed #000",paddingTop:"10px"},children:[p.jsx("p",{children:" "}),p.jsx("p",{children:"Thank you for your visit"}),k.showBarcode&&p.jsx("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:p.jsx("svg",{id:"hidden-barcode"})})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[p.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),p.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&p.jsxs("button",{onClick:A,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),j>0&&p.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:j})]}),p.jsx("button",{onClick:i,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[p.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:mb-6",children:[t.permissions.manageSuppliers&&p.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:p.jsx("button",{onClick:u,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),p.jsx("path",{d:"m11 16 2 2"}),p.jsx("path",{d:"m14 13 4 4"}),p.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageRequests&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:p.jsx("button",{onClick:h,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]})})}),t.permissions.manageCheckbook&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:p.jsx("button",{onClick:d,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageSpecialOrders&&p.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:p.jsx("button",{onClick:x,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),p.jsxs("div",{className:"text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white",children:""}),p.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})})]}),p.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:p.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),p.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[p.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[p.jsxs("button",{onClick:()=>Q("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${K==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",K==="unpaid"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),p.jsxs("button",{onClick:()=>Q("paid"),className:`flex-1 py-3 font-bold transition-all relative ${K==="paid"?"text-white":"text-gray-500"}`,children:["",K==="paid"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),p.jsxs("button",{onClick:()=>Q("all"),className:`flex-1 py-3 font-bold transition-all relative ${K==="all"?"text-white":"text-gray-500"}`,children:["",K==="all"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),p.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:ne?p.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[p.jsx("button",{onClick:()=>{ae(!1),M("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("div",{className:"flex-1 max-w-[180px] relative",children:p.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:ee,onChange:ue=>M(ue.target.value)})}),p.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[p.jsx("span",{className:"text-[#57b385] font-black",children:le.length})," "]})]}):p.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[p.jsx("button",{onClick:()=>ae(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})}),p.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[p.jsx("span",{className:"text-[#57b385] font-black",children:le.length}),"  "]})]})})]}),p.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:le.length>0?le.map(ue=>p.jsxs("div",{onMouseDown:()=>oe(ue),onMouseUp:je,onMouseLeave:je,onTouchStart:()=>oe(ue),onTouchEnd:je,onClick:()=>!Ee.current&&J(ue),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full",children:[p.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:ue.name}),p.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(ue.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),p.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:p.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[p.jsxs("span",{className:`text-sm font-black ${ue.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[Ze(ue.remainingAmount>0?ue.remainingAmount:ue.amount)," ."]}),p.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:ue.id})]})})]},ue.id)):p.jsxs("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20",children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),p.jsx("p",{children:"  "})]})})]}),z&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:p.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[p.jsx("button",{onClick:()=>J(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:" "}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>R(z.name,z.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),p.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),p.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),p.jsx("button",{onClick:()=>N(z),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:z.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black text-white",children:z.name}),p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[p.jsxs("div",{className:"flex justify-center gap-2",children:[p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:z.id}),p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:z.date})]}),z.creatorName&&p.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",z.creatorName]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",z.items.length,")"]}),p.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:z.items.map((ue,xe)=>p.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-white text-sm mb-1",children:ue.productName}),p.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[p.jsx("span",{className:"text-[#57b385] font-bold",children:ue.count}),"  ",Ze(ue.price)]})]}),p.jsx("div",{className:"font-black text-[#57b385]",children:Ze(ue.total)})]},xe))})]}),p.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),p.jsxs("span",{className:"text-lg font-black text-white",children:[Ze(z.amount)," ."]})]}),p.jsx("div",{className:"w-full h-px bg-gray-700/50"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),p.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[Ze(z.paidAmount)," ."]})]}),z.remainingAmount>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),p.jsxs("span",{className:"text-sm font-black text-red-500",children:[Ze(z.remainingAmount)," ."]})]})]})]}),p.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[p.jsx("button",{onClick:me,disabled:H,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 ${H?"opacity-50 cursor-not-allowed":""}`,children:H?p.jsx("span",{className:"text-sm",children:" ..."}):p.jsxs(p.Fragment,{children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),p.jsx("polyline",{points:"16 6 12 2 8 6"}),p.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),p.jsx("button",{onClick:Z,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:()=>J(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["       ",p.jsx("span",{className:"text-white font-bold",children:W.id})," "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Be,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>X(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Ih,{onClick:ge,icon:p.jsx(bM,{}),label:"",active:!0}),p.jsx(Ih,{onClick:n,icon:p.jsx(SM,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{onClick:r,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Ih,{onClick:s,icon:p.jsx(IM,{}),label:""}),p.jsx(Ih,{onClick:i,icon:p.jsx(NM,{}),label:""})]})]})},Ih=({icon:t,label:e,active:n=!1,onClick:r})=>p.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-all ${n?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:n?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),bM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),SM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),IM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),NM=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jS=1252,FM=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nw={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},rw=function(t){FM.indexOf(t)!=-1&&(jS=nw[0]=t)};function RM(){rw(1252)}var $a=function(t){rw(t)};function GS(){$a(1200),RM()}function LB(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function DM(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function KS(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var H0=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?DM(t.slice(2)):e==254&&n==255?KS(t.slice(2)):e==65279?t.slice(1):t},Nh=function(e){return String.fromCharCode(e)},QB=function(e){return String.fromCharCode(e)},vf,JA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function PB(t){for(var e="",n=0,r=0,i=0,s=0,A=0,u=0,h=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),A=(n&3)<<4|r>>4,i=t.charCodeAt(d++),u=(r&15)<<2|i>>6,h=i&63,isNaN(r)?u=h=64:isNaN(i)&&(h=64),e+=JA.charAt(s)+JA.charAt(A)+JA.charAt(u)+JA.charAt(h);return e}function ha(t){var e="",n=0,r=0,i=0,s=0,A=0,u=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=JA.indexOf(t.charAt(d++)),A=JA.indexOf(t.charAt(d++)),n=s<<2|A>>4,e+=String.fromCharCode(n),u=JA.indexOf(t.charAt(d++)),r=(A&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),h=JA.indexOf(t.charAt(d++)),i=(u&3)<<6|h,h!==64&&(e+=String.fromCharCode(i));return e}var Fn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),uc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ll(t){return Fn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function HB(t){return Fn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Za=function(e){return Fn?uc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function fc(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function iw(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return iw(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var WA=Fn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:uc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function UM(t){for(var e=[],n=0,r=t.length+250,i=ll(t.length+255),s=0;s<t.length;++s){var A=t.charCodeAt(s);if(A<128)i[n++]=A;else if(A<2048)i[n++]=192|A>>6&31,i[n++]=128|A&63;else if(A>=55296&&A<57344){A=(A&1023)+64;var u=t.charCodeAt(++s)&1023;i[n++]=240|A>>8&7,i[n++]=128|A>>2&63,i[n++]=128|u>>6&15|(A&3)<<4,i[n++]=128|u&63}else i[n++]=224|A>>12&15,i[n++]=128|A>>6&63,i[n++]=128|A&63;n>r&&(e.push(i.slice(0,n)),n=0,i=ll(65535),r=65530)}return e.push(i.slice(0,n)),WA(e)}var Bs=/\u0000/g,V0=/[\u0001-\u0006]/g;function xu(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function eo(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}function sw(t,e){var n=""+t;return n.length>=e?n:jr(" ",e-n.length)+n}function C1(t,e){var n=""+t;return n.length>=e?n:n+jr(" ",e-n.length)}function kM(t,e){var n=""+Math.round(t);return n.length>=e?n:jr("0",e-n.length)+n}function MM(t,e){var n=""+t;return n.length>=e?n:jr("0",e-n.length)+n}var VB=Math.pow(2,32);function iu(t,e){if(t>VB||t<-VB)return kM(t,e);var n=Math.round(t);return MM(n,e)}function E1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var jB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],nx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OM(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var pn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},GB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},LM={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function B1(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,A=1,u=0,h=1,d=0,x=0,C=Math.floor(i);d<e&&(C=Math.floor(i),u=C*A+s,x=C*d+h,!(i-C<5e-8));)i=1/(i-C),s=A,A=u,h=d,d=x;if(x>e&&(d>e?(x=h,u=s):(x=d,u=A)),!n)return[0,r*u,x];var _=Math.floor(r*u/x);return[_,r*u-_*x,x]}function Xl(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,A=[],u={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++r,++u.D)),r===60)A=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)A=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),A=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),n&&(s=GM(h,A))}return u.y=A[0],u.m=A[1],u.d=A[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var zS=new Date(1899,11,31,0,0,0),QM=zS.getTime(),PM=new Date(1900,2,1,0,0,0);function WS(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=PM&&(n+=1440*60*1e3),(n-(QM+(t.getTimezoneOffset()-zS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function aw(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function HM(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function VM(t){var e=t<0?12:11,n=aw(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function jM(t){var e=aw(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=VM(t):e===10?n=t.toFixed(10).substr(0,12):n=jM(t),aw(HM(n.toUpperCase()))}function rc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Oa(14,WS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function GM(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function KM(t,e,n,r){var i="",s=0,A=0,u=n.y,h,d=0;switch(t){case 98:u=n.y+543;case 121:switch(e.length){case 1:case 2:h=u%100,d=2;break;default:h=u%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=n.m,d=e.length;break;case 3:return nx[n.m-1][1];case 5:return nx[n.m-1][0];default:return nx[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=n.d,d=e.length;break;case 3:return jB[n.q][0];default:return jB[n.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?eo(n.S,e.length):(r>=2?A=r===3?1e3:100:A=r===1?10:1,s=Math.round(A*(n.S+n.u)),s>=60*A&&(s=0),e==="s"?s===0?"0":""+s/A:(i=eo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=n.D*24+n.H;break;case"[m]":case"[mm]":h=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":h=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=u,d=1;break}var x=d>0?eo(h,d):"";return x}function ZA(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var XS=/%/g;function zM(t,e,n){var r=e.replace(XS,""),i=e.length-r.length;return iA(t,r,n*Math.pow(10,2*i))+jr("%",i)}function WM(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return iA(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function qS(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var A=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(A-n.length+s):n+="E+"+(A-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,d,x){return h+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var YS=/# (\?+)( ?)\/( ?)(\d+)/;function XM(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),A=i-s*r,u=r;return n+(s===0?"":""+s)+" "+(A===0?jr(" ",t[1].length+1+t[4].length):sw(A,t[1].length)+t[2]+"/"+t[3]+eo(u,t[4].length))}function qM(t,e,n){return n+(e===0?"":""+e)+jr(" ",t[1].length+2+t[4].length)}var JS=/^#*0*\.([0#]+)/,ZS=/\).*[0#]/,$S=/\(###\) ###\\?-####/;function ys(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function KB(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function zB(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function YM(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function JM(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ia(t,e,n){if(t.charCodeAt(0)===40&&!e.match(ZS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ia("n",r,n):"("+Ia("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return WM(t,e,n);if(e.indexOf("%")!==-1)return zM(t,e,n);if(e.indexOf("E")!==-1)return qS(e,n);if(e.charCodeAt(0)===36)return"$"+Ia(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,A,u,h=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+iu(h,e.length);if(e.match(/^[#?]+$/))return i=iu(n,0),i==="0"&&(i=""),i.length>e.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(YS))return XM(s,h,d);if(e.match(/^#+0+$/))return d+iu(h,e.length-e.indexOf("0"));if(s=e.match(JS))return i=KB(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ys(s[1])).replace(/\.$/,"."+ys(s[1])).replace(/\.(\d*)$/,function(D,R){return"."+R+jr("0",ys(s[1]).length-R.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+KB(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+ZA(iu(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ia(t,e,-n):ZA(""+(Math.floor(n)+YM(n,s[1].length)))+"."+eo(zB(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ia(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(Ia(t,e.replace(/[\\-]/g,""),n)),A=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(D){return A<i.length?i.charAt(A++):D==="0"?"0":""}));if(e.match($S))return i=Ia(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(s[4].length,7),u=B1(h,Math.pow(10,A)-1,!1),i=""+d,x=iA("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=C1(u[2],A),x.length<s[4].length&&(x=ys(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(Math.max(s[1].length,s[4].length),7),u=B1(h,Math.pow(10,A)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?sw(u[1],A)+s[2]+"/"+s[3]+C1(u[2],A):jr(" ",2*A+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=iu(n,0),e.length<=i.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),A=i.indexOf(".");var C=e.indexOf(".")-A,_=e.length-i.length-C;return ys(e.substr(0,C)+i+e.substr(e.length-_))}if(s=e.match(/^00,000\.([#0]*0)$/))return A=zB(n,s[1].length),n<0?"-"+Ia(t,e,-n):ZA(JM(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?eo(0,3-D.length):"")+D})+"."+eo(A,s[1].length);switch(e){case"###,##0.00":return Ia(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var N=ZA(iu(h,0));return N!=="0"?d+N:"";case"###,###.00":return Ia(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ia(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ZM(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return iA(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function $M(t,e,n){var r=e.replace(XS,""),i=e.length-r.length;return iA(t,r,n*Math.pow(10,2*i))+jr("%",i)}function eI(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eI(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var A=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(A-n.length+s):n+="E+"+(A-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,h,d,x){return h+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function xo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(ZS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xo("n",r,n):"("+xo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return ZM(t,e,n);if(e.indexOf("%")!==-1)return $M(t,e,n);if(e.indexOf("E")!==-1)return eI(e,n);if(e.charCodeAt(0)===36)return"$"+xo(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,A,u,h=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+eo(h,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(YS))return qM(s,h,d);if(e.match(/^#+0+$/))return d+eo(h,e.length-e.indexOf("0"));if(s=e.match(JS))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ys(s[1])).replace(/\.$/,"."+ys(s[1])),i=i.replace(/\.(\d*)$/,function(D,R){return"."+R+jr("0",ys(s[1]).length-R.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+ZA(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):ZA(""+n)+"."+jr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return xo(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=xu(xo(t,e.replace(/[\\-]/g,""),n)),A=0,xu(xu(e.replace(/\\/g,"")).replace(/[0#]/g,function(D){return A<i.length?i.charAt(A++):D==="0"?"0":""}));if(e.match($S))return i=xo(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(s[4].length,7),u=B1(h,Math.pow(10,A)-1,!1),i=""+d,x=iA("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=C1(u[2],A),x.length<s[4].length&&(x=ys(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(Math.max(s[1].length,s[4].length),7),u=B1(h,Math.pow(10,A)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?sw(u[1],A)+s[2]+"/"+s[3]+C1(u[2],A):jr(" ",2*A+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ys(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),A=i.indexOf(".");var C=e.indexOf(".")-A,_=e.length-i.length-C;return ys(e.substr(0,C)+i+e.substr(e.length-_))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+xo(t,e,-n):ZA(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?eo(0,3-D.length):"")+D})+"."+eo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var N=ZA(""+h);return N!=="0"?d+N:"";default:if(e.match(/\.[0#?]*$/))return xo(t,e.slice(0,e.lastIndexOf(".")),n)+ys(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function iA(t,e,n){return(n|0)===n?xo(t,e,n):Ia(t,e,n)}function eO(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var tI=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ku(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":E1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(tI))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function tO(t,e,n,r){for(var i=[],s="",A=0,u="",h="t",d,x,C,_="H";A<t.length;)switch(u=t.charAt(A)){case"G":if(!E1(t,A))throw new Error("unrecognized character "+u+" in "+t);i[i.length]={t:"G",v:"General"},A+=7;break;case'"':for(s="";(C=t.charCodeAt(++A))!==34&&A<t.length;)s+=String.fromCharCode(C);i[i.length]={t:"t",v:s},++A;break;case"\\":var N=t.charAt(++A),D=N==="("||N===")"?N:"t";i[i.length]={t:D,v:N},++A;break;case"_":i[i.length]={t:"t",v:" "},A+=2;break;case"@":i[i.length]={t:"T",v:e},++A;break;case"B":case"b":if(t.charAt(A+1)==="1"||t.charAt(A+1)==="2"){if(d==null&&(d=Xl(e,n,t.charAt(A+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(A,2)},h=u,A+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Xl(e,n),d==null))return"";for(s=u;++A<t.length&&t.charAt(A).toLowerCase()===u;)s+=u;u==="m"&&h.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=_),i[i.length]={t:u,v:s},h=u;break;case"A":case"a":case"":var R={t:u,v:u};if(d==null&&(d=Xl(e,n)),t.substr(A,3).toUpperCase()==="A/P"?(d!=null&&(R.v=d.H>=12?"P":"A"),R.t="T",_="h",A+=3):t.substr(A,5).toUpperCase()==="AM/PM"?(d!=null&&(R.v=d.H>=12?"PM":"AM"),R.t="T",A+=5,_="h"):t.substr(A,5).toUpperCase()==="/"?(d!=null&&(R.v=d.H>=12?"":""),R.t="T",A+=5,_="h"):(R.t="t",++A),d==null&&R.t==="T")return"";i[i.length]=R,h=u;break;case"[":for(s=u;t.charAt(A++)!=="]"&&A<t.length;)s+=t.charAt(A);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(tI)){if(d==null&&(d=Xl(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ku(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=u;++A<t.length&&(u=t.charAt(A))==="0";)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++A<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(A))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;t.charAt(++A)===u;)s+=u;i[i.length]={t:u,v:s},h=u;break;case"*":++A,(t.charAt(A)==" "||t.charAt(A)=="*")&&++A;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++A;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;A<t.length&&"0123456789".indexOf(t.charAt(++A))>-1;)s+=t.charAt(A);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++A;break;case"$":i[i.length]={t:"t",v:"$"},++A;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);i[i.length]={t:"t",v:u},++A;break}var k=0,j=0,K;for(A=i.length-1,h="t";A>=0;--A)switch(i[A].t){case"h":case"H":i[A].t=_,h="h",k<1&&(k=1);break;case"s":(K=i[A].v.match(/\.0+$/))&&(j=Math.max(j,K[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":h=i[A].t;break;case"m":h==="s"&&(i[A].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&i[A].v.match(/[Hh]/)&&(k=1),k<2&&i[A].v.match(/[Mm]/)&&(k=2),k<3&&i[A].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var Q="",ne;for(A=0;A<i.length;++A)switch(i[A].t){case"t":case"T":case" ":case"D":break;case"X":i[A].v="",i[A].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[A].v=KM(i[A].t.charCodeAt(0),i[A].v,d,j),i[A].t="t";break;case"n":case"?":for(ne=A+1;i[ne]!=null&&((u=i[ne].t)==="?"||u==="D"||(u===" "||u==="t")&&i[ne+1]!=null&&(i[ne+1].t==="?"||i[ne+1].t==="t"&&i[ne+1].v==="/")||i[A].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[ne].v==="/"||i[ne].v===" "&&i[ne+1]!=null&&i[ne+1].t=="?"));)i[A].v+=i[ne].v,i[ne]={v:"",t:";"},++ne;Q+=i[A].v,A=ne-1;break;case"G":i[A].t="t",i[A].v=rc(e,n);break}var ae="",ee,M;if(Q.length>0){Q.charCodeAt(0)==40?(ee=e<0&&Q.charCodeAt(0)===45?-e:e,M=iA("n",Q,ee)):(ee=e<0&&r>1?-e:e,M=iA("n",Q,ee),ee<0&&i[0]&&i[0].t=="t"&&(M=M.substr(1),i[0].v="-"+i[0].v)),ne=M.length-1;var H=i.length;for(A=0;A<i.length;++A)if(i[A]!=null&&i[A].t!="t"&&i[A].v.indexOf(".")>-1){H=A;break}var O=i.length;if(H===i.length&&M.indexOf("E")===-1){for(A=i.length-1;A>=0;--A)i[A]==null||"n?".indexOf(i[A].t)===-1||(ne>=i[A].v.length-1?(ne-=i[A].v.length,i[A].v=M.substr(ne+1,i[A].v.length)):ne<0?i[A].v="":(i[A].v=M.substr(0,ne+1),ne=-1),i[A].t="t",O=A);ne>=0&&O<i.length&&(i[O].v=M.substr(0,ne+1)+i[O].v)}else if(H!==i.length&&M.indexOf("E")===-1){for(ne=M.indexOf(".")-1,A=H;A>=0;--A)if(!(i[A]==null||"n?".indexOf(i[A].t)===-1)){for(x=i[A].v.indexOf(".")>-1&&A===H?i[A].v.indexOf(".")-1:i[A].v.length-1,ae=i[A].v.substr(x+1);x>=0;--x)ne>=0&&(i[A].v.charAt(x)==="0"||i[A].v.charAt(x)==="#")&&(ae=M.charAt(ne--)+ae);i[A].v=ae,i[A].t="t",O=A}for(ne>=0&&O<i.length&&(i[O].v=M.substr(0,ne+1)+i[O].v),ne=M.indexOf(".")+1,A=H;A<i.length;++A)if(!(i[A]==null||"n?(".indexOf(i[A].t)===-1&&A!==H)){for(x=i[A].v.indexOf(".")>-1&&A===H?i[A].v.indexOf(".")+1:0,ae=i[A].v.substr(0,x);x<i[A].v.length;++x)ne<M.length&&(ae+=M.charAt(ne++));i[A].v=ae,i[A].t="t",O=A}}}for(A=0;A<i.length;++A)i[A]!=null&&"n?".indexOf(i[A].t)>-1&&(ee=r>1&&e<0&&A>0&&i[A-1].v==="-"?-e:e,i[A].v=iA(i[A].t,i[A].v,ee),i[A].t="t");var z="";for(A=0;A!==i.length;++A)i[A]!=null&&(z+=i[A].v);return z}var WB=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function XB(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function nO(t,e){var n=eO(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var A=n[0].match(WB),u=n[1].match(WB);return XB(e,A)?[r,n[0]]:XB(e,u)?[r,n[1]]:[r,n[A!=null&&u!=null?2:1]]}return[r,s]}function Oa(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:pn)[t],r==null&&(r=n.table&&n.table[GB[t]]||pn[GB[t]]),r==null&&(r=LM[t]||"General");break}if(E1(r,0))return rc(e,n);e instanceof Date&&(e=WS(e,n.date1904));var i=nO(r,e);if(E1(i[1]))return rc(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return tO(i[1],e,n,i[0])}function $l(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(pn[n]==null){e<0&&(e=n);continue}if(pn[n]==t){e=n;break}}e<0&&(e=391)}return pn[e]=t,e}function nI(){pn=OM()}var rO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rI=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function iO(t){var e=typeof t=="number"?pn[t]:t;return e=e.replace(rI,"(\\d+)"),new RegExp("^"+e+"$")}function sO(t,e,n){var r=-1,i=-1,s=-1,A=-1,u=-1,h=-1;(e.match(rI)||[]).forEach(function(C,_){var N=parseInt(n[_+1],10);switch(C.toLowerCase().charAt(0)){case"y":r=N;break;case"d":s=N;break;case"h":A=N;break;case"s":h=N;break;case"m":A>=0?u=N:i=N;break}}),h>=0&&u==-1&&i>=0&&(u=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var x=("00"+(A>=0?A:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return A==-1&&u==-1&&h==-1?d:r==-1&&i==-1&&s==-1?x:d+"T"+x}var aO=(function(){var t={};t.version="1.2.0";function e(){for(var M=0,H=new Array(256),O=0;O!=256;++O)M=O,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,H[O]=M;return typeof Int32Array<"u"?new Int32Array(H):H}var n=e();function r(M){var H=0,O=0,z=0,J=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)J[z]=M[z];for(z=0;z!=256;++z)for(O=M[z],H=256+z;H<4096;H+=256)O=J[H]=O>>>8^M[O&255];var W=[];for(z=1;z!=16;++z)W[z-1]=typeof Int32Array<"u"?J.subarray(z*256,z*256+256):J.slice(z*256,z*256+256);return W}var i=r(n),s=i[0],A=i[1],u=i[2],h=i[3],d=i[4],x=i[5],C=i[6],_=i[7],N=i[8],D=i[9],R=i[10],k=i[11],j=i[12],K=i[13],Q=i[14];function ne(M,H){for(var O=H^-1,z=0,J=M.length;z<J;)O=O>>>8^n[(O^M.charCodeAt(z++))&255];return~O}function ae(M,H){for(var O=H^-1,z=M.length-15,J=0;J<z;)O=Q[M[J++]^O&255]^K[M[J++]^O>>8&255]^j[M[J++]^O>>16&255]^k[M[J++]^O>>>24]^R[M[J++]]^D[M[J++]]^N[M[J++]]^_[M[J++]]^C[M[J++]]^x[M[J++]]^d[M[J++]]^h[M[J++]]^u[M[J++]]^A[M[J++]]^s[M[J++]]^n[M[J++]];for(z+=15;J<z;)O=O>>>8^n[(O^M[J++])&255];return~O}function ee(M,H){for(var O=H^-1,z=0,J=M.length,W=0,X=0;z<J;)W=M.charCodeAt(z++),W<128?O=O>>>8^n[(O^W)&255]:W<2048?(O=O>>>8^n[(O^(192|W>>6&31))&255],O=O>>>8^n[(O^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,X=M.charCodeAt(z++)&1023,O=O>>>8^n[(O^(240|W>>8&7))&255],O=O>>>8^n[(O^(128|W>>2&63))&255],O=O>>>8^n[(O^(128|X>>6&15|(W&3)<<4))&255],O=O>>>8^n[(O^(128|X&63))&255]):(O=O>>>8^n[(O^(224|W>>12&15))&255],O=O>>>8^n[(O^(128|W>>6&63))&255],O=O>>>8^n[(O^(128|W&63))&255]);return~O}return t.table=n,t.bstr=ne,t.buf=ae,t.str=ee,t})(),Un=(function(){var e={};e.version="1.2.1";function n(te,se){for(var ce=te.split("/"),fe=se.split("/"),de=0,Ce=0,Ve=Math.min(ce.length,fe.length);de<Ve;++de){if(Ce=ce[de].length-fe[de].length)return Ce;if(ce[de]!=fe[de])return ce[de]<fe[de]?-1:1}return ce.length-fe.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var se=te.lastIndexOf("/");return se===-1?te:te.slice(0,se+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var se=te.lastIndexOf("/");return se===-1?te:te.slice(se+1)}function s(te,se){typeof se=="string"&&(se=new Date(se));var ce=se.getHours();ce=ce<<6|se.getMinutes(),ce=ce<<5|se.getSeconds()>>>1,te.write_shift(2,ce);var fe=se.getFullYear()-1980;fe=fe<<4|se.getMonth()+1,fe=fe<<5|se.getDate(),te.write_shift(2,fe)}function A(te){var se=te.read_shift(2)&65535,ce=te.read_shift(2)&65535,fe=new Date,de=ce&31;ce>>>=5;var Ce=ce&15;ce>>>=4,fe.setMilliseconds(0),fe.setFullYear(ce+1980),fe.setMonth(Ce-1),fe.setDate(de);var Ve=se&31;se>>>=5;var rt=se&63;return se>>>=6,fe.setHours(se),fe.setMinutes(rt),fe.setSeconds(Ve<<1),fe}function u(te){Hi(te,0);for(var se={},ce=0;te.l<=te.length-4;){var fe=te.read_shift(2),de=te.read_shift(2),Ce=te.l+de,Ve={};switch(fe){case 21589:ce=te.read_shift(1),ce&1&&(Ve.mtime=te.read_shift(4)),de>5&&(ce&2&&(Ve.atime=te.read_shift(4)),ce&4&&(Ve.ctime=te.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}te.l=Ce,se[fe]=Ve}return se}var h;function d(){return h||(h={})}function x(te,se){if(te[0]==80&&te[1]==75)return qi(te,se);if((te[0]|32)==109&&(te[1]|32)==105)return ds(te,se);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ce=3,fe=512,de=0,Ce=0,Ve=0,rt=0,Qe=0,We=[],Xe=te.slice(0,512);Hi(Xe,0);var ut=C(Xe);switch(ce=ut[0],ce){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(ut[1]==0)return qi(te,se);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}fe!==512&&(Xe=te.slice(0,fe),Hi(Xe,28));var ht=te.slice(0,fe);_(Xe,ce);var pt=Xe.read_shift(4,"i");if(ce===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Xe.l+=4,Ve=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),rt=Xe.read_shift(4,"i"),de=Xe.read_shift(4,"i"),Qe=Xe.read_shift(4,"i"),Ce=Xe.read_shift(4,"i");for(var wt=-1,Et=0;Et<109&&(wt=Xe.read_shift(4,"i"),!(wt<0));++Et)We[Et]=wt;var Dt=N(te,fe);k(Qe,Ce,Dt,fe,We);var it=K(Dt,Ve,We,fe);it[Ve].name="!Directory",de>0&&rt!==X&&(it[rt].name="!MiniFAT"),it[We[0]].name="!FAT",it.fat_addrs=We,it.ssz=fe;var Rn={},Gt=[],Sr=[],Pa=[];Q(Ve,it,Dt,Gt,de,Rn,Sr,rt),D(Sr,Pa,Gt),Gt.shift();var hn={FileIndex:Sr,FullPaths:Pa};return se&&se.raw&&(hn.raw={header:ht,sectors:Dt}),hn}function C(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(Me,"Header Signature: "),te.l+=16;var se=te.read_shift(2,"u");return[te.read_shift(2,"u"),se]}function _(te,se){var ce=9;switch(te.l+=2,ce=te.read_shift(2)){case 9:if(se!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(se!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function N(te,se){for(var ce=Math.ceil(te.length/se)-1,fe=[],de=1;de<ce;++de)fe[de-1]=te.slice(de*se,(de+1)*se);return fe[ce-1]=te.slice(ce*se),fe}function D(te,se,ce){for(var fe=0,de=0,Ce=0,Ve=0,rt=0,Qe=ce.length,We=[],Xe=[];fe<Qe;++fe)We[fe]=Xe[fe]=fe,se[fe]=ce[fe];for(;rt<Xe.length;++rt)fe=Xe[rt],de=te[fe].L,Ce=te[fe].R,Ve=te[fe].C,We[fe]===fe&&(de!==-1&&We[de]!==de&&(We[fe]=We[de]),Ce!==-1&&We[Ce]!==Ce&&(We[fe]=We[Ce])),Ve!==-1&&(We[Ve]=fe),de!==-1&&fe!=We[fe]&&(We[de]=We[fe],Xe.lastIndexOf(de)<rt&&Xe.push(de)),Ce!==-1&&fe!=We[fe]&&(We[Ce]=We[fe],Xe.lastIndexOf(Ce)<rt&&Xe.push(Ce));for(fe=1;fe<Qe;++fe)We[fe]===fe&&(Ce!==-1&&We[Ce]!==Ce?We[fe]=We[Ce]:de!==-1&&We[de]!==de&&(We[fe]=We[de]));for(fe=1;fe<Qe;++fe)if(te[fe].type!==0){if(rt=fe,rt!=We[rt])do rt=We[rt],se[fe]=se[rt]+"/"+se[fe];while(rt!==0&&We[rt]!==-1&&rt!=We[rt]);We[fe]=-1}for(se[0]+="/",fe=1;fe<Qe;++fe)te[fe].type!==2&&(se[fe]+="/")}function R(te,se,ce){for(var fe=te.start,de=te.size,Ce=[],Ve=fe;ce&&de>0&&Ve>=0;)Ce.push(se.slice(Ve*W,Ve*W+W)),de-=W,Ve=zl(ce,Ve*4);return Ce.length===0?gi(0):WA(Ce).slice(0,te.size)}function k(te,se,ce,fe,de){var Ce=X;if(te===X){if(se!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ve=ce[te],rt=(fe>>>2)-1;if(!Ve)return;for(var Qe=0;Qe<rt&&(Ce=zl(Ve,Qe*4))!==X;++Qe)de.push(Ce);k(zl(Ve,fe-4),se-1,ce,fe,de)}}function j(te,se,ce,fe,de){var Ce=[],Ve=[];de||(de=[]);var rt=fe-1,Qe=0,We=0;for(Qe=se;Qe>=0;){de[Qe]=!0,Ce[Ce.length]=Qe,Ve.push(te[Qe]);var Xe=ce[Math.floor(Qe*4/fe)];if(We=Qe*4&rt,fe<4+We)throw new Error("FAT boundary crossed: "+Qe+" 4 "+fe);if(!te[Xe])break;Qe=zl(te[Xe],We)}return{nodes:Ce,data:i_([Ve])}}function K(te,se,ce,fe){var de=te.length,Ce=[],Ve=[],rt=[],Qe=[],We=fe-1,Xe=0,ut=0,ht=0,pt=0;for(Xe=0;Xe<de;++Xe)if(rt=[],ht=Xe+se,ht>=de&&(ht-=de),!Ve[ht]){Qe=[];var wt=[];for(ut=ht;ut>=0;){wt[ut]=!0,Ve[ut]=!0,rt[rt.length]=ut,Qe.push(te[ut]);var Et=ce[Math.floor(ut*4/fe)];if(pt=ut*4&We,fe<4+pt)throw new Error("FAT boundary crossed: "+ut+" 4 "+fe);if(!te[Et]||(ut=zl(te[Et],pt),wt[ut]))break}Ce[ht]={nodes:rt,data:i_([Qe])}}return Ce}function Q(te,se,ce,fe,de,Ce,Ve,rt){for(var Qe=0,We=fe.length?2:0,Xe=se[te].data,ut=0,ht=0,pt;ut<Xe.length;ut+=128){var wt=Xe.slice(ut,ut+128);Hi(wt,64),ht=wt.read_shift(2),pt=uw(wt,0,ht-We),fe.push(pt);var Et={name:pt,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Dt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Dt!==0&&(Et.ct=ne(wt,wt.l-8));var it=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);it!==0&&(Et.mt=ne(wt,wt.l-8)),Et.start=wt.read_shift(4,"i"),Et.size=wt.read_shift(4,"i"),Et.size<0&&Et.start<0&&(Et.size=Et.type=0,Et.start=X,Et.name=""),Et.type===5?(Qe=Et.start,de>0&&Qe!==X&&(se[Qe].name="!StreamData")):Et.size>=4096?(Et.storage="fat",se[Et.start]===void 0&&(se[Et.start]=j(ce,Et.start,se.fat_addrs,se.ssz)),se[Et.start].name=Et.name,Et.content=se[Et.start].data.slice(0,Et.size)):(Et.storage="minifat",Et.size<0?Et.size=0:Qe!==X&&Et.start!==X&&se[Qe]&&(Et.content=R(Et,se[Qe].data,(se[rt]||{}).data))),Et.content&&Hi(Et.content,0),Ce[pt]=Et,Ve.push(Et)}}function ne(te,se){return new Date((ca(te,se+4)/1e7*Math.pow(2,32)+ca(te,se)/1e7-11644473600)*1e3)}function ae(te,se){return d(),x(h.readFileSync(te),se)}function ee(te,se){var ce=se&&se.type;switch(ce||Fn&&Buffer.isBuffer(te)&&(ce="buffer"),ce||"base64"){case"file":return ae(te,se);case"base64":return x(Za(ha(te)),se);case"binary":return x(Za(te),se)}return x(te,se)}function M(te,se){var ce=se||{},fe=ce.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=fe+"/",te.FileIndex[0]={name:fe,type:5}),ce.CLSID&&(te.FileIndex[0].clsid=ce.CLSID),H(te)}function H(te){var se="Sh33tJ5";if(!Un.find(te,"/"+se)){var ce=gi(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,te.FileIndex.push({name:se,type:2,content:ce,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+se),O(te)}}function O(te,se){M(te);for(var ce=!1,fe=!1,de=te.FullPaths.length-1;de>=0;--de){var Ce=te.FileIndex[de];switch(Ce.type){case 0:fe?ce=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(Ce.R*Ce.L*Ce.C)&&(ce=!0),Ce.R>-1&&Ce.L>-1&&Ce.R==Ce.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!se)){var Ve=new Date(1987,1,19),rt=0,Qe=Object.create?Object.create(null):{},We=[];for(de=0;de<te.FullPaths.length;++de)Qe[te.FullPaths[de]]=!0,te.FileIndex[de].type!==0&&We.push([te.FullPaths[de],te.FileIndex[de]]);for(de=0;de<We.length;++de){var Xe=r(We[de][0]);fe=Qe[Xe],fe||(We.push([Xe,{name:i(Xe).replace("/",""),type:1,clsid:ve,ct:Ve,mt:Ve,content:null}]),Qe[Xe]=!0)}for(We.sort(function(pt,wt){return n(pt[0],wt[0])}),te.FullPaths=[],te.FileIndex=[],de=0;de<We.length;++de)te.FullPaths[de]=We[de][0],te.FileIndex[de]=We[de][1];for(de=0;de<We.length;++de){var ut=te.FileIndex[de],ht=te.FullPaths[de];if(ut.name=i(ht).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||ve,de===0)ut.C=We.length>1?1:-1,ut.size=0,ut.type=5;else if(ht.slice(-1)=="/"){for(rt=de+1;rt<We.length&&r(te.FullPaths[rt])!=ht;++rt);for(ut.C=rt>=We.length?-1:rt,rt=de+1;rt<We.length&&r(te.FullPaths[rt])!=r(ht);++rt);ut.R=rt>=We.length?-1:rt,ut.type=1}else r(te.FullPaths[de+1]||"")==r(ht)&&(ut.R=de+1),ut.type=2}}}function z(te,se){var ce=se||{};if(ce.fileType=="mad")return Wn(te,ce);switch(O(te),ce.fileType){case"zip":return vi(te,ce)}var fe=(function(pt){for(var wt=0,Et=0,Dt=0;Dt<pt.FileIndex.length;++Dt){var it=pt.FileIndex[Dt];if(it.content){var Rn=it.content.length;Rn>0&&(Rn<4096?wt+=Rn+63>>6:Et+=Rn+511>>9)}}for(var Gt=pt.FullPaths.length+3>>2,Sr=wt+7>>3,Pa=wt+127>>7,hn=Sr+Et+Gt+Pa,nn=hn+127>>7,an=nn<=109?0:Math.ceil((nn-109)/127);hn+nn+an+127>>7>nn;)an=++nn<=109?0:Math.ceil((nn-109)/127);var kr=[1,an,nn,Pa,Gt,Et,wt,0];return pt.FileIndex[0].size=wt<<6,kr[7]=(pt.FileIndex[0].start=kr[0]+kr[1]+kr[2]+kr[3]+kr[4]+kr[5])+(kr[6]+7>>3),kr})(te),de=gi(fe[7]<<9),Ce=0,Ve=0;{for(Ce=0;Ce<8;++Ce)de.write_shift(1,Ee[Ce]);for(Ce=0;Ce<8;++Ce)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),Ce=0;Ce<3;++Ce)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,fe[2]),de.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:X),de.write_shift(4,fe[3]),de.write_shift(-4,fe[1]?fe[0]-1:X),de.write_shift(4,fe[1]),Ce=0;Ce<109;++Ce)de.write_shift(-4,Ce<fe[2]?fe[1]+Ce:-1)}if(fe[1])for(Ve=0;Ve<fe[1];++Ve){for(;Ce<236+Ve*127;++Ce)de.write_shift(-4,Ce<fe[2]?fe[1]+Ce:-1);de.write_shift(-4,Ve===fe[1]-1?X:Ve+1)}var rt=function(pt){for(Ve+=pt;Ce<Ve-1;++Ce)de.write_shift(-4,Ce+1);pt&&(++Ce,de.write_shift(-4,X))};for(Ve=Ce=0,Ve+=fe[1];Ce<Ve;++Ce)de.write_shift(-4,oe.DIFSECT);for(Ve+=fe[2];Ce<Ve;++Ce)de.write_shift(-4,oe.FATSECT);rt(fe[3]),rt(fe[4]);for(var Qe=0,We=0,Xe=te.FileIndex[0];Qe<te.FileIndex.length;++Qe)Xe=te.FileIndex[Qe],Xe.content&&(We=Xe.content.length,!(We<4096)&&(Xe.start=Ve,rt(We+511>>9)));for(rt(fe[6]+7>>3);de.l&511;)de.write_shift(-4,oe.ENDOFCHAIN);for(Ve=Ce=0,Qe=0;Qe<te.FileIndex.length;++Qe)Xe=te.FileIndex[Qe],Xe.content&&(We=Xe.content.length,!(!We||We>=4096)&&(Xe.start=Ve,rt(We+63>>6)));for(;de.l&511;)de.write_shift(-4,oe.ENDOFCHAIN);for(Ce=0;Ce<fe[4]<<2;++Ce){var ut=te.FullPaths[Ce];if(!ut||ut.length===0){for(Qe=0;Qe<17;++Qe)de.write_shift(4,0);for(Qe=0;Qe<3;++Qe)de.write_shift(4,-1);for(Qe=0;Qe<12;++Qe)de.write_shift(4,0);continue}Xe=te.FileIndex[Ce],Ce===0&&(Xe.start=Xe.size?Xe.start-1:X);var ht=Ce===0&&ce.root||Xe.name;if(We=2*(ht.length+1),de.write_shift(64,ht,"utf16le"),de.write_shift(2,We),de.write_shift(1,Xe.type),de.write_shift(1,Xe.color),de.write_shift(-4,Xe.L),de.write_shift(-4,Xe.R),de.write_shift(-4,Xe.C),Xe.clsid)de.write_shift(16,Xe.clsid,"hex");else for(Qe=0;Qe<4;++Qe)de.write_shift(4,0);de.write_shift(4,Xe.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,Xe.start),de.write_shift(4,Xe.size),de.write_shift(4,0)}for(Ce=1;Ce<te.FileIndex.length;++Ce)if(Xe=te.FileIndex[Ce],Xe.size>=4096)if(de.l=Xe.start+1<<9,Fn&&Buffer.isBuffer(Xe.content))Xe.content.copy(de,de.l,0,Xe.size),de.l+=Xe.size+511&-512;else{for(Qe=0;Qe<Xe.size;++Qe)de.write_shift(1,Xe.content[Qe]);for(;Qe&511;++Qe)de.write_shift(1,0)}for(Ce=1;Ce<te.FileIndex.length;++Ce)if(Xe=te.FileIndex[Ce],Xe.size>0&&Xe.size<4096)if(Fn&&Buffer.isBuffer(Xe.content))Xe.content.copy(de,de.l,0,Xe.size),de.l+=Xe.size+63&-64;else{for(Qe=0;Qe<Xe.size;++Qe)de.write_shift(1,Xe.content[Qe]);for(;Qe&63;++Qe)de.write_shift(1,0)}if(Fn)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function J(te,se){var ce=te.FullPaths.map(function(Qe){return Qe.toUpperCase()}),fe=ce.map(function(Qe){var We=Qe.split("/");return We[We.length-(Qe.slice(-1)=="/"?2:1)]}),de=!1;se.charCodeAt(0)===47?(de=!0,se=ce[0].slice(0,-1)+se):de=se.indexOf("/")!==-1;var Ce=se.toUpperCase(),Ve=de===!0?ce.indexOf(Ce):fe.indexOf(Ce);if(Ve!==-1)return te.FileIndex[Ve];var rt=!Ce.match(V0);for(Ce=Ce.replace(Bs,""),rt&&(Ce=Ce.replace(V0,"!")),Ve=0;Ve<ce.length;++Ve)if((rt?ce[Ve].replace(V0,"!"):ce[Ve]).replace(Bs,"")==Ce||(rt?fe[Ve].replace(V0,"!"):fe[Ve]).replace(Bs,"")==Ce)return te.FileIndex[Ve];return null}var W=64,X=-2,Me="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:Me,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function je(te,se,ce){d();var fe=z(te,ce);h.writeFileSync(se,fe)}function Be(te){for(var se=new Array(te.length),ce=0;ce<te.length;++ce)se[ce]=String.fromCharCode(te[ce]);return se.join("")}function Ze(te,se){var ce=z(te,se);switch(se&&se.type||"buffer"){case"file":return d(),h.writeFileSync(se.filename,ce),ce;case"binary":return typeof ce=="string"?ce:Be(ce);case"base64":return PB(typeof ce=="string"?ce:Be(ce));case"buffer":if(Fn)return Buffer.isBuffer(ce)?ce:uc(ce);case"array":return typeof ce=="string"?Za(ce):ce}return ce}var me;function Z(te){try{var se=te.InflateRaw,ce=new se;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)me=te;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function ge(te,se){if(!me)return Xi(te,se);var ce=me.InflateRaw,fe=new ce,de=fe._processChunk(te.slice(te.l),fe._finishFlushFlag);return te.l+=fe.bytesRead,de}function le(te){return me?me.deflateRawSync(te):tt(te)}var ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(te){var se=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(se>>16|se>>8|se)&255}for(var _e=typeof Uint8Array<"u",Oe=_e?new Uint8Array(256):[],yt=0;yt<256;++yt)Oe[yt]=Ne(yt);function pe(te,se){var ce=Oe[te&255];return se<=8?ce>>>8-se:(ce=ce<<8|Oe[te>>8&255],se<=16?ce>>>16-se:(ce=ce<<8|Oe[te>>16&255],ce>>>24-se))}function St(te,se){var ce=se&7,fe=se>>>3;return(te[fe]|(ce<=6?0:te[fe+1]<<8))>>>ce&3}function kt(te,se){var ce=se&7,fe=se>>>3;return(te[fe]|(ce<=5?0:te[fe+1]<<8))>>>ce&7}function Lt(te,se){var ce=se&7,fe=se>>>3;return(te[fe]|(ce<=4?0:te[fe+1]<<8))>>>ce&15}function Fe(te,se){var ce=se&7,fe=se>>>3;return(te[fe]|(ce<=3?0:te[fe+1]<<8))>>>ce&31}function Ue(te,se){var ce=se&7,fe=se>>>3;return(te[fe]|(ce<=1?0:te[fe+1]<<8))>>>ce&127}function gt(te,se,ce){var fe=se&7,de=se>>>3,Ce=(1<<ce)-1,Ve=te[de]>>>fe;return ce<8-fe||(Ve|=te[de+1]<<8-fe,ce<16-fe)||(Ve|=te[de+2]<<16-fe,ce<24-fe)||(Ve|=te[de+3]<<24-fe),Ve&Ce}function Bt(te,se,ce){var fe=se&7,de=se>>>3;return fe<=5?te[de]|=(ce&7)<<fe:(te[de]|=ce<<fe&255,te[de+1]=(ce&7)>>8-fe),se+3}function dn(te,se,ce){var fe=se&7,de=se>>>3;return ce=(ce&1)<<fe,te[de]|=ce,se+1}function At(te,se,ce){var fe=se&7,de=se>>>3;return ce<<=fe,te[de]|=ce&255,ce>>>=8,te[de+1]=ce,se+8}function Pn(te,se,ce){var fe=se&7,de=se>>>3;return ce<<=fe,te[de]|=ce&255,ce>>>=8,te[de+1]=ce&255,te[de+2]=ce>>>8,se+16}function dr(te,se){var ce=te.length,fe=2*ce>se?2*ce:se+5,de=0;if(ce>=se)return te;if(Fn){var Ce=HB(fe);if(te.copy)te.copy(Ce);else for(;de<te.length;++de)Ce[de]=te[de];return Ce}else if(_e){var Ve=new Uint8Array(fe);if(Ve.set)Ve.set(te);else for(;de<ce;++de)Ve[de]=te[de];return Ve}return te.length=fe,te}function at(te){for(var se=new Array(te),ce=0;ce<te;++ce)se[ce]=0;return se}function Nt(te,se,ce){var fe=1,de=0,Ce=0,Ve=0,rt=0,Qe=te.length,We=_e?new Uint16Array(32):at(32);for(Ce=0;Ce<32;++Ce)We[Ce]=0;for(Ce=Qe;Ce<ce;++Ce)te[Ce]=0;Qe=te.length;var Xe=_e?new Uint16Array(Qe):at(Qe);for(Ce=0;Ce<Qe;++Ce)We[de=te[Ce]]++,fe<de&&(fe=de),Xe[Ce]=0;for(We[0]=0,Ce=1;Ce<=fe;++Ce)We[Ce+16]=rt=rt+We[Ce-1]<<1;for(Ce=0;Ce<Qe;++Ce)rt=te[Ce],rt!=0&&(Xe[Ce]=We[rt+16]++);var ut=0;for(Ce=0;Ce<Qe;++Ce)if(ut=te[Ce],ut!=0)for(rt=pe(Xe[Ce],fe)>>fe-ut,Ve=(1<<fe+4-ut)-1;Ve>=0;--Ve)se[rt|Ve<<ut]=ut&15|Ce<<4;return fe}var It=_e?new Uint16Array(512):at(512),$t=_e?new Uint16Array(32):at(32);if(!_e){for(var un=0;un<512;++un)It[un]=0;for(un=0;un<32;++un)$t[un]=0}(function(){for(var te=[],se=0;se<32;se++)te.push(5);Nt(te,$t,32);var ce=[];for(se=0;se<=143;se++)ce.push(8);for(;se<=255;se++)ce.push(9);for(;se<=279;se++)ce.push(7);for(;se<=287;se++)ce.push(8);Nt(ce,It,288)})();var fn=(function(){for(var se=_e?new Uint8Array(32768):[],ce=0,fe=0;ce<Ye.length-1;++ce)for(;fe<Ye[ce+1];++fe)se[fe]=ce;for(;fe<32768;++fe)se[fe]=29;var de=_e?new Uint8Array(259):[];for(ce=0,fe=0;ce<xe.length-1;++ce)for(;fe<xe[ce+1];++fe)de[fe]=ce;function Ce(rt,Qe){for(var We=0;We<rt.length;){var Xe=Math.min(65535,rt.length-We),ut=We+Xe==rt.length;for(Qe.write_shift(1,+ut),Qe.write_shift(2,Xe),Qe.write_shift(2,~Xe&65535);Xe-- >0;)Qe[Qe.l++]=rt[We++]}return Qe.l}function Ve(rt,Qe){for(var We=0,Xe=0,ut=_e?new Uint16Array(32768):[];Xe<rt.length;){var ht=Math.min(65535,rt.length-Xe);if(ht<10){for(We=Bt(Qe,We,+(Xe+ht==rt.length)),We&7&&(We+=8-(We&7)),Qe.l=We/8|0,Qe.write_shift(2,ht),Qe.write_shift(2,~ht&65535);ht-- >0;)Qe[Qe.l++]=rt[Xe++];We=Qe.l*8;continue}We=Bt(Qe,We,+(Xe+ht==rt.length)+2);for(var pt=0;ht-- >0;){var wt=rt[Xe];pt=(pt<<5^wt)&32767;var Et=-1,Dt=0;if((Et=ut[pt])&&(Et|=Xe&-32768,Et>Xe&&(Et-=32768),Et<Xe))for(;rt[Et+Dt]==rt[Xe+Dt]&&Dt<250;)++Dt;if(Dt>2){wt=de[Dt],wt<=22?We=At(Qe,We,Oe[wt+1]>>1)-1:(At(Qe,We,3),We+=5,At(Qe,We,Oe[wt-23]>>5),We+=3);var it=wt<8?0:wt-4>>2;it>0&&(Pn(Qe,We,Dt-xe[wt]),We+=it),wt=se[Xe-Et],We=At(Qe,We,Oe[wt]>>3),We-=3;var Rn=wt<4?0:wt-2>>1;Rn>0&&(Pn(Qe,We,Xe-Et-Ye[wt]),We+=Rn);for(var Gt=0;Gt<Dt;++Gt)ut[pt]=Xe&32767,pt=(pt<<5^rt[Xe])&32767,++Xe;ht-=Dt-1}else wt<=143?wt=wt+48:We=dn(Qe,We,1),We=At(Qe,We,Oe[wt]),ut[pt]=Xe&32767,++Xe}We=At(Qe,We,0)-1}return Qe.l=(We+7)/8|0,Qe.l}return function(Qe,We){return Qe.length<8?Ce(Qe,We):Ve(Qe,We)}})();function tt(te){var se=gi(50+Math.floor(te.length*1.1)),ce=fn(te,se);return se.slice(0,ce)}var we=_e?new Uint16Array(32768):at(32768),Ge=_e?new Uint16Array(32768):at(32768),st=_e?new Uint16Array(128):at(128),De=1,mt=1;function bt(te,se){var ce=Fe(te,se)+257;se+=5;var fe=Fe(te,se)+1;se+=5;var de=Lt(te,se)+4;se+=4;for(var Ce=0,Ve=_e?new Uint8Array(19):at(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qe=1,We=_e?new Uint8Array(8):at(8),Xe=_e?new Uint8Array(8):at(8),ut=Ve.length,ht=0;ht<de;++ht)Ve[ue[ht]]=Ce=kt(te,se),Qe<Ce&&(Qe=Ce),We[Ce]++,se+=3;var pt=0;for(We[0]=0,ht=1;ht<=Qe;++ht)Xe[ht]=pt=pt+We[ht-1]<<1;for(ht=0;ht<ut;++ht)(pt=Ve[ht])!=0&&(rt[ht]=Xe[pt]++);var wt=0;for(ht=0;ht<ut;++ht)if(wt=Ve[ht],wt!=0){pt=Oe[rt[ht]]>>8-wt;for(var Et=(1<<7-wt)-1;Et>=0;--Et)st[pt|Et<<wt]=wt&7|ht<<3}var Dt=[];for(Qe=1;Dt.length<ce+fe;)switch(pt=st[Ue(te,se)],se+=pt&7,pt>>>=3){case 16:for(Ce=3+St(te,se),se+=2,pt=Dt[Dt.length-1];Ce-- >0;)Dt.push(pt);break;case 17:for(Ce=3+kt(te,se),se+=3;Ce-- >0;)Dt.push(0);break;case 18:for(Ce=11+Ue(te,se),se+=7;Ce-- >0;)Dt.push(0);break;default:Dt.push(pt),Qe<pt&&(Qe=pt);break}var it=Dt.slice(0,ce),Rn=Dt.slice(ce);for(ht=ce;ht<286;++ht)it[ht]=0;for(ht=fe;ht<30;++ht)Rn[ht]=0;return De=Nt(it,we,286),mt=Nt(Rn,Ge,30),se}function mn(te,se){if(te[0]==3&&!(te[1]&3))return[ll(se),2];for(var ce=0,fe=0,de=HB(se||1<<18),Ce=0,Ve=de.length>>>0,rt=0,Qe=0;(fe&1)==0;){if(fe=kt(te,ce),ce+=3,fe>>>1)fe>>1==1?(rt=9,Qe=5):(ce=bt(te,ce),rt=De,Qe=mt);else{ce&7&&(ce+=8-(ce&7));var We=te[ce>>>3]|te[(ce>>>3)+1]<<8;if(ce+=32,We>0)for(!se&&Ve<Ce+We&&(de=dr(de,Ce+We),Ve=de.length);We-- >0;)de[Ce++]=te[ce>>>3],ce+=8;continue}for(;;){!se&&Ve<Ce+32767&&(de=dr(de,Ce+32767),Ve=de.length);var Xe=gt(te,ce,rt),ut=fe>>>1==1?It[Xe]:we[Xe];if(ce+=ut&15,ut>>>=4,(ut>>>8&255)===0)de[Ce++]=ut;else{if(ut==256)break;ut-=257;var ht=ut<8?0:ut-4>>2;ht>5&&(ht=0);var pt=Ce+xe[ut];ht>0&&(pt+=gt(te,ce,ht),ce+=ht),Xe=gt(te,ce,Qe),ut=fe>>>1==1?$t[Xe]:Ge[Xe],ce+=ut&15,ut>>>=4;var wt=ut<4?0:ut-2>>1,Et=Ye[ut];for(wt>0&&(Et+=gt(te,ce,wt),ce+=wt),!se&&Ve<pt&&(de=dr(de,pt+100),Ve=de.length);Ce<pt;)de[Ce]=de[Ce-Et],++Ce}}}return se?[de,ce+7>>>3]:[de.slice(0,Ce),ce+7>>>3]}function Xi(te,se){var ce=te.slice(te.l||0),fe=mn(ce,se);return te.l+=fe[1],fe[0]}function br(te,se){if(te)typeof console<"u"&&console.error(se);else throw new Error(se)}function qi(te,se){var ce=te;Hi(ce,0);var fe=[],de=[],Ce={FileIndex:fe,FullPaths:de};M(Ce,{root:se.root});for(var Ve=ce.length-4;(ce[Ve]!=80||ce[Ve+1]!=75||ce[Ve+2]!=5||ce[Ve+3]!=6)&&Ve>=0;)--Ve;ce.l=Ve+4,ce.l+=4;var rt=ce.read_shift(2);ce.l+=6;var Qe=ce.read_shift(4);for(ce.l=Qe,Ve=0;Ve<rt;++Ve){ce.l+=20;var We=ce.read_shift(4),Xe=ce.read_shift(4),ut=ce.read_shift(2),ht=ce.read_shift(2),pt=ce.read_shift(2);ce.l+=8;var wt=ce.read_shift(4),Et=u(ce.slice(ce.l+ut,ce.l+ut+ht));ce.l+=ut+ht+pt;var Dt=ce.l;ce.l=wt+4,Zt(ce,We,Xe,Ce,Et),ce.l=Dt}return Ce}function Zt(te,se,ce,fe,de){te.l+=2;var Ce=te.read_shift(2),Ve=te.read_shift(2),rt=A(te);if(Ce&8257)throw new Error("Unsupported ZIP encryption");for(var Qe=te.read_shift(4),We=te.read_shift(4),Xe=te.read_shift(4),ut=te.read_shift(2),ht=te.read_shift(2),pt="",wt=0;wt<ut;++wt)pt+=String.fromCharCode(te[te.l++]);if(ht){var Et=u(te.slice(te.l,te.l+ht));(Et[21589]||{}).mt&&(rt=Et[21589].mt),((de||{})[21589]||{}).mt&&(rt=de[21589].mt)}te.l+=ht;var Dt=te.slice(te.l,te.l+We);switch(Ve){case 8:Dt=ge(te,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var it=!1;Ce&8&&(Qe=te.read_shift(4),Qe==134695760&&(Qe=te.read_shift(4),it=!0),We=te.read_shift(4),Xe=te.read_shift(4)),We!=se&&br(it,"Bad compressed size: "+se+" != "+We),Xe!=ce&&br(it,"Bad uncompressed size: "+ce+" != "+Xe),ei(fe,pt,Dt,{unsafe:!0,mt:rt})}function vi(te,se){var ce=se||{},fe=[],de=[],Ce=gi(1),Ve=ce.compression?8:0,rt=0,Qe=0,We=0,Xe=0,ut=0,ht=te.FullPaths[0],pt=ht,wt=te.FileIndex[0],Et=[],Dt=0;for(Qe=1;Qe<te.FullPaths.length;++Qe)if(pt=te.FullPaths[Qe].slice(ht.length),wt=te.FileIndex[Qe],!(!wt.size||!wt.content||pt=="Sh33tJ5")){var it=Xe,Rn=gi(pt.length);for(We=0;We<pt.length;++We)Rn.write_shift(1,pt.charCodeAt(We)&127);Rn=Rn.slice(0,Rn.l),Et[ut]=aO.buf(wt.content,0);var Gt=wt.content;Ve==8&&(Gt=le(Gt)),Ce=gi(30),Ce.write_shift(4,67324752),Ce.write_shift(2,20),Ce.write_shift(2,rt),Ce.write_shift(2,Ve),wt.mt?s(Ce,wt.mt):Ce.write_shift(4,0),Ce.write_shift(-4,Et[ut]),Ce.write_shift(4,Gt.length),Ce.write_shift(4,wt.content.length),Ce.write_shift(2,Rn.length),Ce.write_shift(2,0),Xe+=Ce.length,fe.push(Ce),Xe+=Rn.length,fe.push(Rn),Xe+=Gt.length,fe.push(Gt),Ce=gi(46),Ce.write_shift(4,33639248),Ce.write_shift(2,0),Ce.write_shift(2,20),Ce.write_shift(2,rt),Ce.write_shift(2,Ve),Ce.write_shift(4,0),Ce.write_shift(-4,Et[ut]),Ce.write_shift(4,Gt.length),Ce.write_shift(4,wt.content.length),Ce.write_shift(2,Rn.length),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(4,0),Ce.write_shift(4,it),Dt+=Ce.l,de.push(Ce),Dt+=Rn.length,de.push(Rn),++ut}return Ce=gi(22),Ce.write_shift(4,101010256),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,ut),Ce.write_shift(2,ut),Ce.write_shift(4,Dt),Ce.write_shift(4,Xe),Ce.write_shift(2,0),WA([WA(fe),WA(de),Ce])}var ui={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ni(te,se){if(te.ctype)return te.ctype;var ce=te.name||"",fe=ce.match(/\.([^\.]+)$/);return fe&&ui[fe[1]]||se&&(fe=(ce=se).match(/[\.\\]([^\.\\])+$/),fe&&ui[fe[1]])?ui[fe[1]]:"application/octet-stream"}function Dr(te){for(var se=PB(te),ce=[],fe=0;fe<se.length;fe+=76)ce.push(se.slice(fe,fe+76));return ce.join(`\r
`)+`\r
`}function ga(te){var se=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Xe=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});se=se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),se.charAt(0)==`
`&&(se="=0D"+se.slice(1)),se=se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],fe=se.split(`\r
`),de=0;de<fe.length;++de){var Ce=fe[de];if(Ce.length==0){ce.push("");continue}for(var Ve=0;Ve<Ce.length;){var rt=76,Qe=Ce.slice(Ve,Ve+rt);Qe.charAt(rt-1)=="="?rt--:Qe.charAt(rt-2)=="="?rt-=2:Qe.charAt(rt-3)=="="&&(rt-=3),Qe=Ce.slice(Ve,Ve+rt),Ve+=rt,Ve<Ce.length&&(Qe+="="),ce.push(Qe)}}return ce.join(`\r
`)}function Cr(te){for(var se=[],ce=0;ce<te.length;++ce){for(var fe=te[ce];ce<=te.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+te[++ce];se.push(fe)}for(var de=0;de<se.length;++de)se[de]=se[de].replace(/[=][0-9A-Fa-f]{2}/g,function(Ce){return String.fromCharCode(parseInt(Ce.slice(1),16))});return Za(se.join(`\r
`))}function yi(te,se,ce){for(var fe="",de="",Ce="",Ve,rt=0;rt<10;++rt){var Qe=se[rt];if(!Qe||Qe.match(/^\s*$/))break;var We=Qe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":fe=We[2].trim();break;case"content-type":Ce=We[2].trim();break;case"content-transfer-encoding":de=We[2].trim();break}}switch(++rt,de.toLowerCase()){case"base64":Ve=Za(ha(se.slice(rt).join("")));break;case"quoted-printable":Ve=Cr(se.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var Xe=ei(te,fe.slice(ce.length),Ve,{unsafe:!0});Ce&&(Xe.ctype=Ce)}function ds(te,se){if(Be(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=se&&se.root||"",fe=(Fn&&Buffer.isBuffer(te)?te.toString("binary"):Be(te)).split(`\r
`),de=0,Ce="";for(de=0;de<fe.length;++de)if(Ce=fe[de],!!/^Content-Location:/i.test(Ce)&&(Ce=Ce.slice(Ce.indexOf("file")),ce||(ce=Ce.slice(0,Ce.lastIndexOf("/")+1)),Ce.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),Ce.slice(0,ce.length)!=ce););var Ve=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var rt="--"+(Ve[1]||""),Qe=[],We=[],Xe={FileIndex:Qe,FullPaths:We};M(Xe);var ut,ht=0;for(de=0;de<fe.length;++de){var pt=fe[de];pt!==rt&&pt!==rt+"--"||(ht++&&yi(Xe,fe.slice(ut,de),ce),ut=de)}return Xe}function Wn(te,se){var ce=se||{},fe=ce.boundary||"SheetJS";fe="------="+fe;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],Ce=te.FullPaths[0],Ve=Ce,rt=te.FileIndex[0],Qe=1;Qe<te.FullPaths.length;++Qe)if(Ve=te.FullPaths[Qe].slice(Ce.length),rt=te.FileIndex[Qe],!(!rt.size||!rt.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var We=rt.content,Xe=Fn&&Buffer.isBuffer(We)?We.toString("binary"):Be(We),ut=0,ht=Math.min(1024,Xe.length),pt=0,wt=0;wt<=ht;++wt)(pt=Xe.charCodeAt(wt))>=32&&pt<128&&++ut;var Et=ut>=ht*4/5;de.push(fe),de.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+Ve),de.push("Content-Transfer-Encoding: "+(Et?"quoted-printable":"base64")),de.push("Content-Type: "+Ni(rt,Ve)),de.push(""),de.push(Et?ga(Xe):Dr(Xe))}return de.push(fe+`--\r
`),de.join(`\r
`)}function So(te){var se={};return M(se,te),se}function ei(te,se,ce,fe){var de=fe&&fe.unsafe;de||M(te);var Ce=!de&&Un.find(te,se);if(!Ce){var Ve=te.FullPaths[0];se.slice(0,Ve.length)==Ve?Ve=se:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+se).replace("//","/")),Ce={name:i(se),type:2},te.FileIndex.push(Ce),te.FullPaths.push(Ve),de||Un.utils.cfb_gc(te)}return Ce.content=ce,Ce.size=ce?ce.length:0,fe&&(fe.CLSID&&(Ce.clsid=fe.CLSID),fe.mt&&(Ce.mt=fe.mt),fe.ct&&(Ce.ct=fe.ct)),Ce}function Ss(te,se){M(te);var ce=Un.find(te,se);if(ce){for(var fe=0;fe<te.FileIndex.length;++fe)if(te.FileIndex[fe]==ce)return te.FileIndex.splice(fe,1),te.FullPaths.splice(fe,1),!0}return!1}function Ur(te,se,ce){M(te);var fe=Un.find(te,se);if(fe){for(var de=0;de<te.FileIndex.length;++de)if(te.FileIndex[de]==fe)return te.FileIndex[de].name=i(ce),te.FullPaths[de]=ce,!0}return!1}function hs(te){O(te,!0)}return e.find=J,e.read=ee,e.parse=x,e.write=Ze,e.writeFile=je,e.utils={cfb_new:So,cfb_add:ei,cfb_del:Ss,cfb_mov:Ur,cfb_gc:hs,ReadShift:nf,CheckField:_I,prep_blob:Hi,bconcat:WA,use_zlib:Z,_deflateRaw:tt,_inflateRaw:Xi,consts:oe},e})();function oO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Co(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function ow(t){for(var e=[],n=Co(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var _1=new Date(1899,11,30,0,0,0);function Ts(t,e){var n=t.getTime(),r=_1.getTime()+(t.getTimezoneOffset()-_1.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var iI=new Date,AO=_1.getTime()+(iI.getTimezoneOffset()-_1.getTimezoneOffset())*6e4,qB=iI.getTimezoneOffset();function fg(t){var e=new Date;return e.setTime(t*24*60*60*1e3+AO),e.getTimezoneOffset()!==qB&&e.setTime(e.getTime()+(e.getTimezoneOffset()-qB)*6e4),e}function lO(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var YB=new Date("2017-02-19T19:06:09.000Z"),sI=isNaN(YB.getFullYear())?new Date("2/19/17"):YB,cO=sI.getFullYear()==2017;function Si(t,e){var n=new Date(t);if(cO)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(sI.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ic(t,e){if(Fn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return G0(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return G0(KS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return G0(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return G0(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Gi(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Gi(t[n]));return e}function jr(t,e){for(var n="";n.length<e;)n+=t;return n}function to(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var uO=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var A=t.toLowerCase();if(A.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(A=A.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),A.length>3&&uO.indexOf(A)==-1)return n}else if(A.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var fO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),A=[s[0]],u=1;u<s.length;++u)A.push(i),A.push(s[u]);return A}})();function aI(t){return t?t.content&&t.type?ic(t.content,!0):t.data?H0(t.data):t.asNodeBuffer&&Fn?H0(t.asNodeBuffer().toString("binary")):t.asBinary?H0(t.asBinary()):t._data&&t._data.getContent?H0(ic(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function oI(t){if(!t)return null;if(t.data)return LB(t.data);if(t.asNodeBuffer&&Fn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?LB(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function dO(t){return t&&t.name.slice(-4)===".bin"?oI(t):aI(t)}function Fa(t,e){for(var n=t.FullPaths||Co(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var A=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==A||i==A)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Aw(t,e){var n=Fa(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function oi(t,e,n){if(!n)return dO(Aw(t,e));if(!e)return null;try{return oi(t,e)}catch{return null}}function ua(t,e,n){if(!n)return aI(Aw(t,e));if(!e)return null;try{return ua(t,e)}catch{return null}}function hO(t,e,n){return oI(Aw(t,e))}function JB(t){for(var e=t.FullPaths||Co(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function gO(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Fn?r=uc(n):r=UM(n),Un.utils.cfb_add(t,e,r)}Un.utils.cfb_add(t,e,n)}else t.file(e,n)}function AI(t,e){switch(e.type){case"base64":return Un.read(t,{type:"base64"});case"binary":return Un.read(t,{type:"binary"});case"buffer":case"array":return Un.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function j0(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var lI=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ZB=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,mO=/<[^>]*>/g,fs=lI.match(ZB)?ZB:mO,xO=/<\w*:/,wO=/<(\/?)\w+:/;function Jt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var A=t.match(pO),u=0,h="",d=0,x="",C="",_=1;if(A)for(d=0;d!=A.length;++d){for(C=A[d],s=0;s!=C.length&&C.charCodeAt(s)!==61;++s);for(x=C.slice(0,s).trim();C.charCodeAt(s+1)==32;)++s;for(_=(i=C.charCodeAt(s+1))==34||i==39?1:0,h=C.slice(s+1+_,C.length-_),u=0;u!=x.length&&x.charCodeAt(u)!==58;++u);if(u===x.length)x.indexOf("_")>0&&(x=x.slice(0,x.indexOf("_"))),r[x]=h,r[x.toLowerCase()]=h;else{var N=(u===5&&x.slice(0,5)==="xmlns"?"xmlns":"")+x.slice(u+1);if(r[N]&&x.slice(u-3,u)=="ext")continue;r[N]=h,r[N.toLowerCase()]=h}}return r}function To(t){return t.replace(wO,"<$1")}var cI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vO=ow(cI),Qn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(u,h){return cI[u]||String.fromCharCode(parseInt(h,u.indexOf("x")>-1?16:10))||u}).replace(e,function(u,h){return String.fromCharCode(parseInt(h,16))});var A=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,A)+n(i.slice(A+3))}})(),yO=/[&<>'"]/g,CO=/[\u0000-\u001f]/g;function lw(t){var e=t+"";return e.replace(yO,function(n){return vO[n]}).replace(/\n/g,"<br/>").replace(CO,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var $B=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function Tr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rx(t){for(var e="",n=0,r=0,i=0,s=0,A=0,u=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){A=(r&31)<<6,A|=i&63,e+=String.fromCharCode(A);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}A=t.charCodeAt(n++),u=((r&7)<<18|(i&63)<<12|(s&63)<<6|A&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function e_(t){var e=ll(2*t.length),n,r,i=1,s=0,A=0,u;for(r=0;r<t.length;r+=i)i=1,(u=t.charCodeAt(r))<128?n=u:u<224?(n=(u&31)*64+(t.charCodeAt(r+1)&63),i=2):u<240?(n=(u&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(u&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,A=55296+(n>>>10&1023),n=56320+(n&1023)),A!==0&&(e[s++]=A&255,e[s++]=A>>>8,A=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function t_(t){return uc(t,"binary").toString("utf8")}var Fh="foo bar baz",mr=Fn&&(t_(Fh)==rx(Fh)&&t_||e_(Fh)==rx(Fh)&&e_)||rx,G0=Fn?function(t){return uc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Cf=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),uI=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),EO=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),BO=/<\/?(?:vt:)?variant>/g,_O=/<(?:vt:)([^>]*)>([\s\S]*)</;function n_(t,e){var n=Jt(t),r=t.match(EO(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var A=s.replace(BO,"").match(_O);A&&i.push({v:mr(A[2]),t:A[1]})}),i}var TO=/(^\s|\s$|\n)/;function bO(t){return Co(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function SO(t,e,n){return"<"+t+(n!=null?bO(n):"")+(e!=null?(e.match(TO)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function cw(t){if(Fn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return mr(fc(iw(t)));throw new Error("Bad input format: expected Buffer or string")}var Ef=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,IO={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},NO=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function FO(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function RO(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,A=r?-e:e;isFinite(A)?A==0?i=s=0:(i=Math.floor(Math.log(A)/Math.LN2),s=A*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)t[n+u]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var r_=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},i_=Fn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:uc(e)})):r_(t)}:r_,s_=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(nA(t,i)));return r.join("").replace(Bs,"")},uw=Fn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Bs,""):s_(t,e,n)}:s_,a_=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},fI=Fn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):a_(t,e,n)}:a_,o_=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(ou(t,i)));return r.join("")},Qf=Fn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):o_(e,n,r)}:o_,dI=function(t,e){var n=ca(t,e);return n>0?Qf(t,e+4,e+4+n-1):""},hI=dI,gI=function(t,e){var n=ca(t,e);return n>0?Qf(t,e+4,e+4+n-1):""},pI=gI,mI=function(t,e){var n=2*ca(t,e);return n>0?Qf(t,e+4,e+4+n-1):""},xI=mI,wI=function(e,n){var r=ca(e,n);return r>0?uw(e,n+4,n+4+r):""},vI=wI,yI=function(t,e){var n=ca(t,e);return n>0?Qf(t,e+4,e+4+n):""},CI=yI,EI=function(t,e){return FO(t,e)},T1=EI,BI=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Fn&&(hI=function(e,n){if(!Buffer.isBuffer(e))return dI(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},pI=function(e,n){if(!Buffer.isBuffer(e))return gI(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},xI=function(e,n){if(!Buffer.isBuffer(e))return mI(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},vI=function(e,n){if(!Buffer.isBuffer(e))return wI(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},CI=function(e,n){if(!Buffer.isBuffer(e))return yI(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},T1=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):EI(e,n)},BI=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ou=function(t,e){return t[e]},nA=function(t,e){return t[e+1]*256+t[e]},DO=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ca=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},UO=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function nf(t,e){var n="",r,i,s=[],A,u,h,d;switch(e){case"dbcs":if(d=this.l,Fn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)n+=String.fromCharCode(nA(this,d)),d+=2;t*=2;break;case"utf8":n=Qf(this,this.l,this.l+t);break;case"utf16le":t*=2,n=uw(this,this.l,this.l+t);break;case"wstr":return nf.call(this,t,"dbcs");case"lpstr-ansi":n=hI(this,this.l),t=4+ca(this,this.l);break;case"lpstr-cp":n=pI(this,this.l),t=4+ca(this,this.l);break;case"lpwstr":n=xI(this,this.l),t=4+2*ca(this,this.l);break;case"lpp4":t=4+ca(this,this.l),n=vI(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ca(this,this.l),n=CI(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(A=ou(this,this.l+t++))!==0;)s.push(Nh(A));n=s.join("");break;case"_wstr":for(t=0,n="";(A=nA(this,this.l+t))!==0;)s.push(Nh(A)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return A=ou(this,d),this.l=d+1,u=nf.call(this,t-h,A?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Nh(nA(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return A=ou(this,d),this.l=d+1,u=nf.call(this,t-h,A?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(Nh(ou(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=ou(this,this.l),this.l++,r;case 2:return r=(e==="i"?DO:nA)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?zl:UO)(this,this.l),this.l+=4,r):(i=ca(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=T1(this,this.l):i=T1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=fI(this,this.l,t);break}}return this.l+=t,n}var kO=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},MO=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},OO=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function LO(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)OO(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var A=e.charCodeAt(i);this[this.l++]=A&255,this[this.l++]=A>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kO(this,e,this.l);break;case 8:if(r=8,n==="f"){RO(this,e,this.l);break}case 16:break;case-4:r=4,MO(this,e,this.l);break}return this.l+=r,this}function _I(t,e){var n=fI(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Hi(t,e){t.l=e,t.read_shift=nf,t.chk=_I,t.write_shift=LO}function us(t,e){t.l+=e}function gi(t){var e=ll(t);return Hi(e,0),e}function dA(t,e,n){if(t){var r,i,s;Hi(t,t.l||0);for(var A=t.length,u=0,h=0;t.l<A;){u=t.read_shift(1),u&128&&(u=(u&127)+((t.read_shift(1)&127)<<7));var d=R1[u]||R1[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;h=t.l+s;var x=d.f&&d.f(t,s,n);if(t.l=h,e(x,d,u))return}}}function Zx(){var t=[],e=Fn?256:2048,n=function(d){var x=gi(d);return Hi(x,0),x},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},A=function(){return i(),WA(t)},u=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:A,_bufs:t}}function rf(t,e,n){var r=Gi(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function A_(t,e,n){var r=Gi(t);return r.s=rf(r.s,e.s,n),r.e=rf(r.e,e.s,n),r}function sf(t,e){if(t.cRel&&t.c<0)for(t=Gi(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Gi(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=An(t);return!t.cRel&&t.cRel!=null&&(n=HO(n)),!t.rRel&&t.rRel!=null&&(n=QO(n)),n}function ix(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+mi(t.s.c)+":"+(t.e.cRel?"":"$")+mi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ki(t.s.r)+":"+(t.e.rRel?"":"$")+Ki(t.e.r):sf(t.s,e.biff)+":"+sf(t.e,e.biff)}function fw(t){return parseInt(PO(t),10)-1}function Ki(t){return""+(t+1)}function QO(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function PO(t){return t.replace(/\$(\d+)$/,"$1")}function dw(t){for(var e=VO(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function mi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function HO(t){return t.replace(/^([A-Z])/,"$$$1")}function VO(t){return t.replace(/^\$([A-Z])/,"$1")}function jO(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Es(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function An(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Mu(t){var e=t.indexOf(":");return e==-1?{s:Es(t),e:Es(t)}:{s:Es(t.slice(0,e)),e:Es(t.slice(e+1))}}function kn(t,e){return typeof e>"u"||typeof e=="number"?kn(t.s,t.e):(typeof t!="string"&&(t=An(t)),typeof e!="string"&&(e=An(e)),t==e?t:t+":"+e)}function Gr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function l_(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Oa(t.z,n?Ts(e):e)}catch{}try{return t.w=Oa((t.XF||{}).numFmtId||(n?14:0),n?Ts(e):e)}catch{return""+e}}function oA(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?gc[t.v]||t.v:e==null?l_(t,t.v):l_(t,e))}function pl(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function TI(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),A=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")A=r.origin;else{var h=typeof r.origin=="string"?Es(r.origin):r.origin;A=h.r,u=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var x=Gr(s["!ref"]);d.s.c=x.s.c,d.s.r=x.s.r,d.e.c=Math.max(d.e.c,x.e.c),d.e.r=Math.max(d.e.r,x.e.r),A==-1&&(d.e.r=A=x.e.r+1)}for(var C=0;C!=e.length;++C)if(e[C]){if(!Array.isArray(e[C]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[C].length;++_)if(!(typeof e[C][_]>"u")){var N={v:e[C][_]},D=A+C,R=u+_;if(d.s.r>D&&(d.s.r=D),d.s.c>R&&(d.s.c=R),d.e.r<D&&(d.e.r=D),d.e.c<R&&(d.e.c=R),e[C][_]&&typeof e[C][_]=="object"&&!Array.isArray(e[C][_])&&!(e[C][_]instanceof Date))N=e[C][_];else if(Array.isArray(N.v)&&(N.f=e[C][_][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(r.nullError)N.t="e",N.v=0;else if(r.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=r.dateNF||pn[14],r.cellDates?(N.t="d",N.w=Oa(N.z,Ts(N.v))):(N.t="n",N.v=Ts(N.v),N.w=Oa(N.z,N.v))):N.t="s";if(i)s[D]||(s[D]=[]),s[D][R]&&s[D][R].z&&(N.z=s[D][R].z),s[D][R]=N;else{var k=An({c:R,r:D});s[k]&&s[k].z&&(N.z=s[k].z),s[k]=N}}}return d.s.c<1e7&&(s["!ref"]=kn(d)),s}function Ou(t,e){return TI(null,t,e)}function GO(t){return t.read_shift(4,"i")}function cs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function KO(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function hw(t,e){var n=t.l,r=t.read_shift(1),i=cs(t),s=[],A={t:i,h:i};if((r&1)!==0){for(var u=t.read_shift(4),h=0;h!=u;++h)s.push(KO(t));A.r=s}else A.r=[{ich:0,ifnt:0}];return t.l=n+e,A}var zO=hw;function Qa(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function dc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var WO=cs;function gw(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var XO=cs,$x=gw;function pw(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?T1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zl(e,0)>>2;return n?i/100:i}function bI(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var hc=bI;function os(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function qO(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),A=t.read_shift(1),u=t.read_shift(1),h=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=ec[i];d&&(e.rgb=_f(d));break;case 2:e.rgb=_f([A,u,h]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function YO(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function SI(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function JO(t){return SI(t,1)}function ZO(t){return SI(t,2)}var mw=2,Ks=3,Rh=11,c_=12,b1=19,Dh=64,$O=65,eL=71,tL=4108,nL=4126,Ti=80,II=81,rL=[Ti,II],iL={1:{n:"CodePage",t:mw},2:{n:"Category",t:Ti},3:{n:"PresentationFormat",t:Ti},4:{n:"ByteCount",t:Ks},5:{n:"LineCount",t:Ks},6:{n:"ParagraphCount",t:Ks},7:{n:"SlideCount",t:Ks},8:{n:"NoteCount",t:Ks},9:{n:"HiddenCount",t:Ks},10:{n:"MultimediaClipCount",t:Ks},11:{n:"ScaleCrop",t:Rh},12:{n:"HeadingPairs",t:tL},13:{n:"TitlesOfParts",t:nL},14:{n:"Manager",t:Ti},15:{n:"Company",t:Ti},16:{n:"LinksUpToDate",t:Rh},17:{n:"CharacterCount",t:Ks},19:{n:"SharedDoc",t:Rh},22:{n:"HyperlinksChanged",t:Rh},23:{n:"AppVersion",t:Ks,p:"version"},24:{n:"DigSig",t:$O},26:{n:"ContentType",t:Ti},27:{n:"ContentStatus",t:Ti},28:{n:"Language",t:Ti},29:{n:"Version",t:Ti},255:{},2147483648:{n:"Locale",t:b1},2147483651:{n:"Behavior",t:b1},1919054434:{}},sL={1:{n:"CodePage",t:mw},2:{n:"Title",t:Ti},3:{n:"Subject",t:Ti},4:{n:"Author",t:Ti},5:{n:"Keywords",t:Ti},6:{n:"Comments",t:Ti},7:{n:"Template",t:Ti},8:{n:"LastAuthor",t:Ti},9:{n:"RevNumber",t:Ti},10:{n:"EditTime",t:Dh},11:{n:"LastPrinted",t:Dh},12:{n:"CreatedDate",t:Dh},13:{n:"ModifiedDate",t:Dh},14:{n:"PageCount",t:Ks},15:{n:"WordCount",t:Ks},16:{n:"CharCount",t:Ks},17:{n:"Thumbnail",t:eL},18:{n:"Application",t:Ti},19:{n:"DocSecurity",t:Ks},255:{},2147483648:{n:"Locale",t:b1},2147483651:{n:"Behavior",t:b1},1919054434:{}},u_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},aL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function oL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AL=oL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ec=Gi(AL),gc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},NI={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},f_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function lL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cL(t){var e=lL();if(!t||!t.match)return e;var n={};if((t.match(fs)||[]).forEach(function(r){var i=Jt(r);switch(i[0].replace(xO,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[f_[i.ContentType]]!==void 0&&e[f_[i.ContentType]].push(i.PartName);break}}),e.xmlns!==IO.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var du={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function e2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function af(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(fs)||[]).forEach(function(i){var s=Jt(i);if(s[0]==="<Relationship"){var A={};A.Type=s.Type,A.Target=s.Target,A.Id=s.Id,s.TargetMode&&(A.TargetMode=s.TargetMode);var u=s.TargetMode==="External"?s.Target:j0(s.Target,e);n[u]=A,r[s.Id]=A}}),n["!id"]=r,n}var uL="application/vnd.oasis.opendocument.spreadsheet";function fL(t,e){for(var n=cw(t),r,i;r=Ef.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Jt(r[0],!1),i.path=="/"&&i.type!==uL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var of=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],dL=(function(){for(var t=new Array(of.length),e=0;e<of.length;++e){var n=of[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function FI(t){var e={};t=mr(t);for(var n=0;n<of.length;++n){var r=of[n],i=t.match(dL[n]);i!=null&&i.length>0&&(e[r[1]]=Qn(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=Si(e[r[1]]))}return e}var hL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function RI(t,e,n,r){var i=[];if(typeof t=="string")i=n_(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(x){return{v:x}}));var A=typeof e=="string"?n_(e,r).map(function(x){return x.v}):e,u=0,h=0;if(A.length>0)for(var d=0;d!==i.length;d+=2){switch(h=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=h,n.SheetNames=A.slice(u,u+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=h,n.DefinedNames=A.slice(u,u+h);break;case"Charts":case"Diagramme":n.Chartsheets=h,n.ChartNames=A.slice(u,u+h);break}u+=h}}function gL(t,e,n){var r={};return e||(e={}),t=mr(t),hL.forEach(function(i){var s=(t.match(Cf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Qn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var A=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));A&&A.length>0&&(r[i[1]]=A[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&RI(r.HeadingPairs,r.TitlesOfParts,e,n),e}var pL=/<[^>]+>[^<]*/g;function mL(t,e){var n={},r="",i=t.match(pL);if(i)for(var s=0;s!=i.length;++s){var A=i[s],u=Jt(A);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Qn(u.name);break;case"</property>":r=null;break;default:if(A.indexOf("<vt:")===0){var h=A.split(">"),d=h[0].slice(4),x=h[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=Qn(x);break;case"bool":n[r]=Tr(x);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(x,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(x);break;case"filetime":case"date":n[r]=Si(x);break;case"cy":case"error":n[r]=Qn(x);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",A,d,h)}}else if(A.slice(0,2)!=="</"){if(e.WTF)throw new Error(A)}}}return n}var xL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},sx;function wL(t,e,n){sx||(sx=ow(xL)),e=sx[e]||e,t[e]=n}function xw(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function DI(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function UI(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function kI(t,e,n){return e===31?UI(t):DI(t,e,n)}function t2(t,e,n){return kI(t,e,n===!1?0:4)}function vL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return kI(t,e,0)}function yL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Bs,""),t.l-i&2&&(t.l+=2)}return n}function CL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Bs,"");return n}function EL(t){var e=t.l,n=S1(t,II);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=S1(t,Ks);return[n,r]}function BL(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(EL(t));return n}function d_(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),A=t.read_shift(4);r[s]=t.read_shift(A,e===1200?"utf16le":"utf8").replace(Bs,"").replace(V0,"!"),e===1200&&A%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function MI(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function _L(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function S1(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==c_&&r!==e&&rL.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===c_?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return DI(t,r,4).replace(Bs,"");case 31:return UI(t);case 64:return xw(t);case 65:return MI(t);case 71:return _L(t);case 80:return t2(t,r,!s.raw).replace(Bs,"");case 81:return vL(t,r).replace(Bs,"");case 4108:return BL(t);case 4126:case 4127:return r==4127?yL(t):CL(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function h_(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],A=0,u=0,h=-1,d={};for(A=0;A!=i;++A){var x=t.read_shift(4),C=t.read_shift(4);s[A]=[x,C+n]}s.sort(function(K,Q){return K[1]-Q[1]});var _={};for(A=0;A!=i;++A){if(t.l!==s[A][1]){var N=!0;if(A>0&&e)switch(e[s[A-1][0]].t){case 2:t.l+2===s[A][1]&&(t.l+=2,N=!1);break;case 80:t.l<=s[A][1]&&(t.l=s[A][1],N=!1);break;case 4108:t.l<=s[A][1]&&(t.l=s[A][1],N=!1);break}if((!e||A==0)&&t.l<=s[A][1]&&(N=!1,t.l=s[A][1]),N)throw new Error("Read Error: Expected address "+s[A][1]+" at "+t.l+" :"+A)}if(e){var D=e[s[A][0]];if(_[D.n]=S1(t,D.t,{raw:!0}),D.p==="version"&&(_[D.n]=String(_[D.n]>>16)+"."+("0000"+String(_[D.n]&65535)).slice(-4)),D.n=="CodePage")switch(_[D.n]){case 0:_[D.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$a(u=_[D.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[D.n])}}else if(s[A][0]===1){if(u=_.CodePage=S1(t,mw),$a(u),h!==-1){var R=t.l;t.l=s[h][1],d=d_(t,u),t.l=R}}else if(s[A][0]===0){if(u===0){h=A,t.l=s[A+1][1];continue}d=d_(t,u)}else{var k=d[s[A][0]],j;switch(t[t.l]){case 65:t.l+=4,j=MI(t);break;case 30:t.l+=4,j=t2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,j=t2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,j=t.read_shift(4,"i");break;case 19:t.l+=4,j=t.read_shift(4);break;case 5:t.l+=4,j=t.read_shift(8,"f");break;case 11:t.l+=4,j=Jr(t,4);break;case 64:t.l+=4,j=Si(xw(t));break;default:throw new Error("unparsed value: "+t[t.l])}_[k]=j}}return t.l=n+r,_}function g_(t,e,n){var r=t.content;if(!r)return{};Hi(r,0);var i,s,A,u,h=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),x=r.read_shift(16);if(x!==Un.utils.consts.HEADER_CLSID&&x!==n)throw new Error("Bad PropertySet CLSID "+x);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),u=r.read_shift(4),i===1&&u!==r.l)throw new Error("Length mismatch: "+u+" !== "+r.l);i===2&&(A=r.read_shift(16),h=r.read_shift(4));var C=h_(r,e),_={SystemIdentifier:d};for(var N in C)_[N]=C[N];if(_.FMTID=s,i===1)return _;if(h-r.l==2&&(r.l+=2),r.l!==h)throw new Error("Length mismatch 2: "+r.l+" !== "+h);var D;try{D=h_(r,null)}catch{}for(N in D)_[N]=D[N];return _.FMTID=[s,A],_}function VA(t,e){return t.read_shift(e),null}function TL(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Jr(t,e){return t.read_shift(e)===1}function Ai(t){return t.read_shift(2,"u")}function OI(t,e){return TL(t,e,Ai)}function bL(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function Pf(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var A=r?t.read_shift(r,i):"";return A}function SL(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),A=0,u,h={};i&&(A=t.read_shift(2)),r&&(u=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",x=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*A),r&&(t.l+=u),h.t=x,i||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function sc(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Hf(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):sc(t,r,n)}function pc(t,e,n){if(n.biff>5)return Hf(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IL(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function NL(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Bs,"");return r&&(t.l+=24),i}function FL(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var A=t.read_shift(s>>1,"utf16le").replace(Bs,"");return n+A}function RL(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return NL(t);case"0303000000000000c000000000000046":return FL(t);default:throw new Error("Unsupported Moniker "+n)}}function Uh(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Bs,""):"";return n}function DL(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,A,u,h,d="",x,C;i&16&&(s=Uh(t,n-t.l)),i&128&&(A=Uh(t,n-t.l)),(i&257)===257&&(u=Uh(t,n-t.l)),(i&257)===1&&(h=RL(t,n-t.l)),i&8&&(d=Uh(t,n-t.l)),i&32&&(x=t.read_shift(16)),i&64&&(C=xw(t)),t.l=n;var _=A||u||h||"";_&&d&&(_+="#"+d),_||(_="#"+d),i&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var N={Target:_};return x&&(N.guid=x),C&&(N.time=C),s&&(N.Tooltip=s),N}function LI(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function QI(t,e){var n=LI(t);return n[3]=0,n}function bo(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function UL(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function kL(t,e,n){return e===0?"":pc(t,e,n)}function ML(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),A=t.read_shift(r,"i");return[i,s,A]}function PI(t){var e=t.read_shift(2),n=pw(t);return[e,n]}function OL(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Pf(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function dg(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function HI(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var LL=HI;function VI(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function QL(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function PL(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function es(t){t.l+=2,t.l+=t.read_shift(2)}var HL={0:es,4:es,5:es,6:es,7:PL,8:es,9:es,10:es,11:es,12:es,13:QL,14:es,15:es,16:es,17:es,18:es,19:es,20:es,21:VI};function VL(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(HL[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function kh(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function jL(t,e){return e===0||t.read_shift(2),1200}function GL(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=pc(t,0,n);return t.read_shift(e+r-t.l),i}function KL(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function zL(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var A=Pf(t,0,n);return A.length===0&&(A="Sheet1"),{pos:r,hs:i,dt:s,name:A}}function WL(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],A=0;A!=i&&t.l<n;++A)s.push(SL(t));return s.Count=r,s.Unique=i,s}function XL(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function qL(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function YL(t){var e=UL(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function JL(t){return t.read_shift(2),t.read_shift(4)}function p_(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function ZL(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),A=t.read_shift(2),u=t.read_shift(2),h=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:A,FirstTab:u,Selected:h,TabRatio:d}}function $L(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function e9(){}function t9(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Pf(t,0,n),r}function n9(t){var e=bo(t);return e.isst=t.read_shift(4),e}function r9(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=bo(t);n.biff==2&&t.l++;var s=Hf(t,r-t.l,n);return i.val=s,i}function i9(t,e,n){var r=t.read_shift(2),i=pc(t,0,n);return[r,i]}var s9=pc;function m_(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),A=t.read_shift(i),u=t.read_shift(2),h=t.read_shift(2);return t.l=r,{s:{r:s,c:u},e:{r:A,c:h}}}function a9(t){var e=t.read_shift(2),n=t.read_shift(2),r=PI(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function o9(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(PI(t));if(t.l!==n)throw new Error("MulRK read error");var A=t.read_shift(2);if(s.length!=A-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:A,rkrec:s}}function A9(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var A=t.read_shift(2);if(s.length!=A-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:A,ixfe:s}}function l9(t,e,n,r){var i={},s=t.read_shift(4),A=t.read_shift(4),u=t.read_shift(4),h=t.read_shift(2);return i.patternType=aL[u>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=A&15,i.dgRight=A>>4&15,i.dgTop=A>>8&15,i.dgBottom=A>>12&15,i.icvLeft=A>>16&127,i.icvRight=A>>23&127,i.grbitDiag=A>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=h&127,i.icvBack=h>>7&127,i.fsxButton=h>>14&1),i}function c9(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=l9(t,e,r.fStyle,n),r}function u9(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function x_(t,e,n){var r=bo(t);(n.biff==2||e==9)&&++t.l;var i=bL(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function f9(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=bo(t),i=os(t);return r.val=i,r}var w_=kL;function d9(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var A=sc(t,s),u=[];r>t.l;)u.push(Hf(t));return[s,i,A,u]}function v_(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=OL(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var h9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function y_(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),A=t.read_shift(1),u=t.read_shift(n&&n.biff==2?1:2),h=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),h=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=sc(t,A,n);i&32&&(d=h9[d.charCodeAt(0)]);var x=r-t.l;n&&n.biff==2&&--x;var C=r==t.l||u===0||!(x>0)?[]:qP(t,x,n,u);return{chKey:s,Name:d,itab:h,rgce:C}}function jI(t,e,n){if(n.biff<8)return g9(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(ML(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function g9(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Pf(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function p9(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=sc(t,r,n),A=sc(t,i,n);return[s,A]}function m9(t,e,n){var r=HI(t);t.l++;var i=t.read_shift(1);return e-=8,[YP(t,e,n),i,r]}function C_(t,e,n){var r=LL(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,WP(t,e,n)]}function x9(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function w9(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),A=t.read_shift(2),u=pc(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},u,A,s]}}function v9(t,e,n){return w9(t,e,n)}function y9(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(dg(t));return n}function C9(t,e,n){if(n&&n.biff<8)return B9(t,e,n);var r=VI(t),i=VL(t,e-22,r[1]);return{cmo:r,ft:i}}var E9={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function B9(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var A=[];return A.push((E9[r]||us)(t,e,n)),{cmo:[i,r,s],ft:A}}function _9(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],A;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:A=IL(t,6,n);var u=t.read_shift(2);t.read_shift(2),Ai(t,2);var h=t.read_shift(2);t.l+=h;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var x=t[t.l],C=sc(t,t.lens[d+1]-t.lens[d]-1);if(i+=C,i.length>=(x?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function T9(t,e){var n=dg(t);t.l+=16;var r=DL(t,e-24);return[n,r]}function b9(t,e){t.read_shift(2);var n=dg(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Bs,""),[n,r]}function S9(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=u_[n]||n,n=t.read_shift(2),e[1]=u_[n]||n,e}function I9(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(QI(t));return n}function N9(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(QI(t));return n}function F9(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function GI(t,e,n){if(!n.cellStyles)return us(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),A=t.read_shift(r),u=t.read_shift(r),h=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:A,ixfe:u,flags:h};return(n.biff>=5||!n.biff)&&(d.level=h>>8&7),d}function R9(t,e){var n={};return e<32||(t.l+=16,n.header=os(t),n.footer=os(t),t.l+=2),n}function D9(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var U9=bo,k9=OI,M9=Hf;function O9(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function L9(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=bo(t);++t.l;var i=pc(t,e-7,n);return r.t="str",r.val=i,r}function Q9(t){var e=bo(t);++t.l;var n=os(t);return e.t="n",e.val=n,e}function P9(t){var e=bo(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function H9(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function V9(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function j9(t,e,n){var r=t.l+e,i=bo(t),s=t.read_shift(2),A=sc(t,s,n);return t.l=r,i.t="str",i.val=A,i}var G9=[2,3,48,49,131,139,140,245],E_=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ow({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(u,h){var d=[],x=ll(1);switch(h.type){case"base64":x=Za(ha(u));break;case"binary":x=Za(u);break;case"buffer":case"array":x=u;break}Hi(x,0);var C=x.read_shift(1),_=!!(C&136),N=!1,D=!1;switch(C){case 2:break;case 3:break;case 48:N=!0,_=!0;break;case 49:N=!0,_=!0;break;case 131:break;case 139:break;case 140:D=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+C.toString(16))}var R=0,k=521;C==2&&(R=x.read_shift(2)),x.l+=3,C!=2&&(R=x.read_shift(4)),R>1048576&&(R=1e6),C!=2&&(k=x.read_shift(2));var j=x.read_shift(2),K=h.codepage||1252;C!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(K=t[x[x.l]]),x.l+=1,x.l+=2),D&&(x.l+=36);for(var Q=[],ne={},ae=Math.min(x.length,C==2?521:k-10-(N?264:0)),ee=D?32:11;x.l<ae&&x[x.l]!=13;)switch(ne={},ne.name=vf.utils.decode(K,x.slice(x.l,x.l+ee)).replace(/[\u0000\r\n].*$/g,""),x.l+=ee,ne.type=String.fromCharCode(x.read_shift(1)),C!=2&&!D&&(ne.offset=x.read_shift(4)),ne.len=x.read_shift(1),C==2&&(ne.offset=x.read_shift(2)),ne.dec=x.read_shift(1),ne.name.length&&Q.push(ne),C!=2&&(x.l+=D?13:14),ne.type){case"B":(!N||ne.len!=8)&&h.WTF&&console.log("Skipping "+ne.name+":"+ne.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+ne.name+":"+ne.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ne.type)}if(x[x.l]!==13&&(x.l=k-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=k;var M=0,H=0;for(d[0]=[],H=0;H!=Q.length;++H)d[0][H]=Q[H].name;for(;R-- >0;){if(x[x.l]===42){x.l+=j;continue}for(++x.l,d[++M]=[],H=0,H=0;H!=Q.length;++H){var O=x.slice(x.l,x.l+Q[H].len);x.l+=Q[H].len,Hi(O,0);var z=vf.utils.decode(K,O);switch(Q[H].type){case"C":z.trim().length&&(d[M][H]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[M][H]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[M][H]=z;break;case"F":d[M][H]=parseFloat(z.trim());break;case"+":case"I":d[M][H]=D?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[M][H]=!0;break;case"N":case"F":d[M][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+C.toString(16));d[M][H]="##MEMO##"+(D?parseInt(z.trim(),10):O.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[M][H]=+z||0);break;case"@":d[M][H]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":d[M][H]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":d[M][H]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[M][H]=-O.read_shift(-8,"f");break;case"B":if(N&&Q[H].len==8){d[M][H]=O.read_shift(8,"f");break}case"G":case"P":O.l+=Q[H].len;break;case"0":if(Q[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Q[H].type)}}}if(C!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=Q,d}function r(u,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var x=Ou(n(u,d),d);return x["!cols"]=d.DBF.map(function(C){return{wch:C.len,DBF:C}}),delete d.DBF,x}function i(u,h){try{return pl(r(u,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function A(u,h){var d=h||{};if(+d.codepage>=0&&$a(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var x=Zx(),C=A2(u,{header:1,raw:!0,cellDates:!0}),_=C[0],N=C.slice(1),D=u["!cols"]||[],R=0,k=0,j=0,K=1;for(R=0;R<_.length;++R){if(((D[R]||{}).DBF||{}).name){_[R]=D[R].DBF.name,++j;continue}if(_[R]!=null){if(++j,typeof _[R]=="number"&&(_[R]=_[R].toString(10)),typeof _[R]!="string")throw new Error("DBF Invalid column name "+_[R]+" |"+typeof _[R]+"|");if(_.indexOf(_[R])!==R){for(k=0;k<1024;++k)if(_.indexOf(_[R]+"_"+k)==-1){_[R]+="_"+k;break}}}}var Q=Gr(u["!ref"]),ne=[],ae=[],ee=[];for(R=0;R<=Q.e.c-Q.s.c;++R){var M="",H="",O=0,z=[];for(k=0;k<N.length;++k)N[k][R]!=null&&z.push(N[k][R]);if(z.length==0||_[R]==null){ne[R]="?";continue}for(k=0;k<z.length;++k){switch(typeof z[k]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=z[k]instanceof Date?"D":"C";break;default:H="C"}O=Math.max(O,String(z[k]).length),M=M&&M!=H?"C":H}O>250&&(O=250),H=((D[R]||{}).DBF||{}).type,H=="C"&&D[R].DBF.len>O&&(O=D[R].DBF.len),M=="B"&&H=="N"&&(M="N",ee[R]=D[R].DBF.dec,O=D[R].DBF.len),ae[R]=M=="C"||H=="N"?O:s[M]||0,K+=ae[R],ne[R]=M}var J=x.next(32);for(J.write_shift(4,318902576),J.write_shift(4,N.length),J.write_shift(2,296+32*j),J.write_shift(2,K),R=0;R<4;++R)J.write_shift(4,0);for(J.write_shift(4,0|(+e[jS]||3)<<8),R=0,k=0;R<_.length;++R)if(_[R]!=null){var W=x.next(32),X=(_[R].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,X,"sbcs"),W.write_shift(1,ne[R]=="?"?"C":ne[R],"sbcs"),W.write_shift(4,k),W.write_shift(1,ae[R]||s[ne[R]]||0),W.write_shift(1,ee[R]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),k+=ae[R]||s[ne[R]]||0}var Me=x.next(264);for(Me.write_shift(4,13),R=0;R<65;++R)Me.write_shift(4,0);for(R=0;R<N.length;++R){var Ee=x.next(K);for(Ee.write_shift(1,0),k=0;k<_.length;++k)if(_[k]!=null)switch(ne[k]){case"L":Ee.write_shift(1,N[R][k]==null?63:N[R][k]?84:70);break;case"B":Ee.write_shift(8,N[R][k]||0,"f");break;case"N":var ve="0";for(typeof N[R][k]=="number"&&(ve=N[R][k].toFixed(ee[k]||0)),j=0;j<ae[k]-ve.length;++j)Ee.write_shift(1,32);Ee.write_shift(1,ve,"sbcs");break;case"D":N[R][k]?(Ee.write_shift(4,("0000"+N[R][k].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(N[R][k].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+N[R][k].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(N[R][k]!=null?N[R][k]:"").slice(0,ae[k]);for(Ee.write_shift(1,oe,"sbcs"),j=0;j<ae[k]-oe.length;++j)Ee.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:i,to_sheet:r,from_sheet:A}})(),K9=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Co(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(_,N){var D=t[N];return typeof D=="number"?QB(D):D},r=function(_,N,D){var R=N.charCodeAt(0)-32<<4|D.charCodeAt(0)-48;return R==59?_:QB(R)};t["|"]=254;function i(_,N){switch(N.type){case"base64":return s(ha(_),N);case"binary":return s(_,N);case"buffer":return s(Fn&&Buffer.isBuffer(_)?_.toString("binary"):fc(_),N);case"array":return s(ic(_),N)}throw new Error("Unrecognized type "+N.type)}function s(_,N){var D=_.split(/[\n\r]+/),R=-1,k=-1,j=0,K=0,Q=[],ne=[],ae=null,ee={},M=[],H=[],O=[],z=0,J;for(+N.codepage>=0&&$a(+N.codepage);j!==D.length;++j){z=0;var W=D[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),X=W.replace(/;;/g,"\0").split(";").map(function(ue){return ue.replace(/\u0000/g,";")}),Me=X[0],Ee;if(W.length>0)switch(Me){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&ne.push(W.slice(3).replace(/;;/g,";"));break;case"C":var ve=!1,oe=!1,je=!1,Be=!1,Ze=-1,me=-1;for(K=1;K<X.length;++K)switch(X[K].charAt(0)){case"A":break;case"X":k=parseInt(X[K].slice(1))-1,oe=!0;break;case"Y":for(R=parseInt(X[K].slice(1))-1,oe||(k=0),J=Q.length;J<=R;++J)Q[J]=[];break;case"K":Ee=X[K].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(to(Ee))?isNaN(_u(Ee).getDate())||(Ee=Si(Ee)):(Ee=to(Ee),ae!==null&&ku(ae)&&(Ee=fg(Ee))),ve=!0;break;case"E":Be=!0;var Z=wu(X[K].slice(1),{r:R,c:k});Q[R][k]=[Q[R][k],Z];break;case"S":je=!0,Q[R][k]=[Q[R][k],"S5S"];break;case"G":break;case"R":Ze=parseInt(X[K].slice(1))-1;break;case"C":me=parseInt(X[K].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}if(ve&&(Q[R][k]&&Q[R][k].length==2?Q[R][k][0]=Ee:Q[R][k]=Ee,ae=null),je){if(Be)throw new Error("SYLK shared formula cannot have own formula");var ge=Ze>-1&&Q[Ze][me];if(!ge||!ge[1])throw new Error("SYLK shared formula cannot find base");Q[R][k][1]=e3(ge[1],{r:R-Ze,c:k-me})}break;case"F":var le=0;for(K=1;K<X.length;++K)switch(X[K].charAt(0)){case"X":k=parseInt(X[K].slice(1))-1,++le;break;case"Y":for(R=parseInt(X[K].slice(1))-1,J=Q.length;J<=R;++J)Q[J]=[];break;case"M":z=parseInt(X[K].slice(1))/20;break;case"F":break;case"G":break;case"P":ae=ne[parseInt(X[K].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[K].slice(1).split(" "),J=parseInt(O[0],10);J<=parseInt(O[1],10);++J)z=parseInt(O[2],10),H[J-1]=z===0?{hidden:!0}:{wch:z},Tu(H[J-1]);break;case"C":k=parseInt(X[K].slice(1))-1,H[k]||(H[k]={});break;case"R":R=parseInt(X[K].slice(1))-1,M[R]||(M[R]={}),z>0?(M[R].hpt=z,M[R].hpx=Tf(z)):z===0&&(M[R].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}le<1&&(ae=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+W)}}return M.length>0&&(ee["!rows"]=M),H.length>0&&(ee["!cols"]=H),N&&N.sheetRows&&(Q=Q.slice(0,N.sheetRows)),[Q,ee]}function A(_,N){var D=i(_,N),R=D[0],k=D[1],j=Ou(R,N);return Co(k).forEach(function(K){j[K]=k[K]}),j}function u(_,N){return pl(A(_,N),N)}function h(_,N,D,R){var k="C;Y"+(D+1)+";X"+(R+1)+";K";switch(_.t){case"n":k+=_.v||0,_.f&&!_.F&&(k+=";E"+F7(_.f,{r:D,c:R}));break;case"b":k+=_.v?"TRUE":"FALSE";break;case"e":k+=_.w||_.v;break;case"d":k+='"'+(_.w||_.v)+'"';break;case"s":k+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function d(_,N){N.forEach(function(D,R){var k="F;W"+(R+1)+" "+(R+1)+" ";D.hidden?k+="0":(typeof D.width=="number"&&!D.wpx&&(D.wpx=N1(D.width)),typeof D.wpx=="number"&&!D.wch&&(D.wch=F1(D.wpx)),typeof D.wch=="number"&&(k+=Math.round(D.wch))),k.charAt(k.length-1)!=" "&&_.push(k)})}function x(_,N){N.forEach(function(D,R){var k="F;";D.hidden?k+="M0;":D.hpt?k+="M"+20*D.hpt+";":D.hpx&&(k+="M"+20*JI(D.hpx)+";"),k.length>2&&_.push(k+"R"+(R+1))})}function C(_,N){var D=["ID;PWXL;N;E"],R=[],k=Gr(_["!ref"]),j,K=Array.isArray(_),Q=`\r
`;D.push("P;PGeneral"),D.push("F;P0;DG0G8;M255"),_["!cols"]&&d(D,_["!cols"]),_["!rows"]&&x(D,_["!rows"]),D.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var ne=k.s.r;ne<=k.e.r;++ne)for(var ae=k.s.c;ae<=k.e.c;++ae){var ee=An({r:ne,c:ae});j=K?(_[ne]||[])[ae]:_[ee],!(!j||j.v==null&&(!j.f||j.F))&&R.push(h(j,_,ne,ae))}return D.join(Q)+Q+R.join(Q)+Q+"E"+Q}return{to_workbook:u,to_sheet:A,from_sheet:C}})(),z9=(function(){function t(s,A){switch(A.type){case"base64":return e(ha(s),A);case"binary":return e(s,A);case"buffer":return e(Fn&&Buffer.isBuffer(s)?s.toString("binary"):fc(s),A);case"array":return e(ic(s),A)}throw new Error("Unrecognized type "+A.type)}function e(s,A){for(var u=s.split(`
`),h=-1,d=-1,x=0,C=[];x!==u.length;++x){if(u[x].trim()==="BOT"){C[++h]=[],d=0;continue}if(!(h<0)){var _=u[x].trim().split(","),N=_[0],D=_[1];++x;for(var R=u[x]||"";(R.match(/["]/g)||[]).length&1&&x<u.length-1;)R+=`
`+u[++x];switch(R=R.trim(),+N){case-1:if(R==="BOT"){C[++h]=[],d=0;continue}else if(R!=="EOD")throw new Error("Unrecognized DIF special command "+R);break;case 0:R==="TRUE"?C[h][d]=!0:R==="FALSE"?C[h][d]=!1:isNaN(to(D))?isNaN(_u(D).getDate())?C[h][d]=D:C[h][d]=Si(D):C[h][d]=to(D),++d;break;case 1:R=R.slice(1,R.length-1),R=R.replace(/""/g,'"'),R&&R.match(/^=".*"$/)&&(R=R.slice(2,-1)),C[h][d++]=R!==""?R:null;break}if(R==="EOD")break}}return A&&A.sheetRows&&(C=C.slice(0,A.sheetRows)),C}function n(s,A){return Ou(t(s,A),A)}function r(s,A){return pl(n(s,A),A)}var i=(function(){var s=function(h,d,x,C,_){h.push(d),h.push(x+","+C),h.push('"'+_.replace(/"/g,'""')+'"')},A=function(h,d,x,C){h.push(d+","+x),h.push(d==1?'"'+C.replace(/"/g,'""')+'"':C)};return function(h){var d=[],x=Gr(h["!ref"]),C,_=Array.isArray(h);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,x.e.r-x.s.r+1,""),s(d,"TUPLES",0,x.e.c-x.s.c+1,""),s(d,"DATA",0,0,"");for(var N=x.s.r;N<=x.e.r;++N){A(d,-1,0,"BOT");for(var D=x.s.c;D<=x.e.c;++D){var R=An({r:N,c:D});if(C=_?(h[N]||[])[D]:h[R],!C){A(d,1,0,"");continue}switch(C.t){case"n":var k=C.w;!k&&C.v!=null&&(k=C.v),k==null?C.f&&!C.F?A(d,1,0,"="+C.f):A(d,1,0,""):A(d,0,k,"V");break;case"b":A(d,0,C.v?1:0,C.v?"TRUE":"FALSE");break;case"s":A(d,1,0,isNaN(C.v)?C.v:'="'+C.v+'"');break;case"d":C.w||(C.w=Oa(C.z||pn[14],Ts(Si(C.v)))),A(d,0,C.w,"V");break;default:A(d,1,0,"")}}}A(d,-1,0,"EOD");var j=`\r
`,K=d.join(j);return K}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),W9=(function(){function t(C){return C.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(C){return C.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(C,_){for(var N=C.split(`
`),D=-1,R=-1,k=0,j=[];k!==N.length;++k){var K=N[k].trim().split(":");if(K[0]==="cell"){var Q=Es(K[1]);if(j.length<=Q.r)for(D=j.length;D<=Q.r;++D)j[D]||(j[D]=[]);switch(D=Q.r,R=Q.c,K[2]){case"t":j[D][R]=t(K[3]);break;case"v":j[D][R]=+K[3];break;case"vtf":var ne=K[K.length-1];case"vtc":switch(K[3]){case"nl":j[D][R]=!!+K[4];break;default:j[D][R]=+K[4];break}K[2]=="vtf"&&(j[D][R]=[j[D][R],ne])}}}return _&&_.sheetRows&&(j=j.slice(0,_.sheetRows)),j}function r(C,_){return Ou(n(C,_),_)}function i(C,_){return pl(r(C,_),_)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),A=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(C){if(!C||!C["!ref"])return"";for(var _=[],N=[],D,R="",k=Mu(C["!ref"]),j=Array.isArray(C),K=k.s.r;K<=k.e.r;++K)for(var Q=k.s.c;Q<=k.e.c;++Q)if(R=An({r:K,c:Q}),D=j?(C[K]||[])[Q]:C[R],!(!D||D.v==null||D.t==="z")){switch(N=["cell",R,"t"],D.t){case"s":case"str":N.push(e(D.v));break;case"n":D.f?(N[2]="vtf",N[3]="n",N[4]=D.v,N[5]=e(D.f)):(N[2]="v",N[3]=D.v);break;case"b":N[2]="vt"+(D.f?"f":"c"),N[3]="nl",N[4]=D.v?"1":"0",N[5]=e(D.f||(D.v?"TRUE":"FALSE"));break;case"d":var ne=Ts(Si(D.v));N[2]="vtc",N[3]="nd",N[4]=""+ne,N[5]=D.w||Oa(D.z||pn[14],ne);break;case"e":continue}_.push(N.join(":"))}return _.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function x(C){return[s,A,u,A,d(C),h].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:x}})(),Bf=(function(){function t(x,C,_,N,D){D.raw?C[_][N]=x:x===""||(x==="TRUE"?C[_][N]=!0:x==="FALSE"?C[_][N]=!1:isNaN(to(x))?isNaN(_u(x).getDate())?C[_][N]=x:C[_][N]=Si(x):C[_][N]=to(x))}function e(x,C){var _=C||{},N=[];if(!x||x.length===0)return N;for(var D=x.split(/[\r\n]/),R=D.length-1;R>=0&&D[R].length===0;)--R;for(var k=10,j=0,K=0;K<=R;++K)j=D[K].indexOf(" "),j==-1?j=D[K].length:j++,k=Math.max(k,j);for(K=0;K<=R;++K){N[K]=[];var Q=0;for(t(D[K].slice(0,k).trim(),N,K,Q,_),Q=1;Q<=(D[K].length-k)/10+1;++Q)t(D[K].slice(k+(Q-1)*10,k+Q*10).trim(),N,K,Q,_)}return _.sheetRows&&(N=N.slice(0,_.sheetRows)),N}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(x){for(var C={},_=!1,N=0,D=0;N<x.length;++N)(D=x.charCodeAt(N))==34?_=!_:!_&&D in n&&(C[D]=(C[D]||0)+1);D=[];for(N in C)Object.prototype.hasOwnProperty.call(C,N)&&D.push([C[N],N]);if(!D.length){C=r;for(N in C)Object.prototype.hasOwnProperty.call(C,N)&&D.push([C[N],N])}return D.sort(function(R,k){return R[0]-k[0]||r[R[1]]-r[k[1]]}),n[D.pop()[1]]||44}function s(x,C){var _=C||{},N="",D=_.dense?[]:{},R={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(N=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(N=x.charAt(4),x=x.slice(6)):N=i(x.slice(0,1024)):_&&_.FS?N=_.FS:N=i(x.slice(0,1024));var k=0,j=0,K=0,Q=0,ne=0,ae=N.charCodeAt(0),ee=!1,M=0,H=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var O=_.dateNF!=null?iO(_.dateNF):null;function z(){var J=x.slice(Q,ne),W={};if(J.charAt(0)=='"'&&J.charAt(J.length-1)=='"'&&(J=J.slice(1,-1).replace(/""/g,'"')),J.length===0)W.t="z";else if(_.raw)W.t="s",W.v=J;else if(J.trim().length===0)W.t="s",W.v=J;else if(J.charCodeAt(0)==61)J.charCodeAt(1)==34&&J.charCodeAt(J.length-1)==34?(W.t="s",W.v=J.slice(2,-1).replace(/""/g,'"')):D7(J)?(W.t="n",W.f=J.slice(1)):(W.t="s",W.v=J);else if(J=="TRUE")W.t="b",W.v=!0;else if(J=="FALSE")W.t="b",W.v=!1;else if(!isNaN(K=to(J)))W.t="n",_.cellText!==!1&&(W.w=J),W.v=K;else if(!isNaN(_u(J).getDate())||O&&J.match(O)){W.z=_.dateNF||pn[14];var X=0;O&&J.match(O)&&(J=sO(J,_.dateNF,J.match(O)||[]),X=1),_.cellDates?(W.t="d",W.v=Si(J,X)):(W.t="n",W.v=Ts(Si(J,X))),_.cellText!==!1&&(W.w=Oa(W.z,W.v instanceof Date?Ts(W.v):W.v)),_.cellNF||delete W.z}else W.t="s",W.v=J;if(W.t=="z"||(_.dense?(D[k]||(D[k]=[]),D[k][j]=W):D[An({c:j,r:k})]=W),Q=ne+1,H=x.charCodeAt(Q),R.e.c<j&&(R.e.c=j),R.e.r<k&&(R.e.r=k),M==ae)++j;else if(j=0,++k,_.sheetRows&&_.sheetRows<=k)return!0}e:for(;ne<x.length;++ne)switch(M=x.charCodeAt(ne)){case 34:H===34&&(ee=!ee);break;case ae:case 10:case 13:if(!ee&&z())break e;break}return ne-Q>0&&z(),D["!ref"]=kn(R),D}function A(x,C){return!(C&&C.PRN)||C.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?s(x,C):Ou(e(x,C),C)}function u(x,C){var _="",N=C.type=="string"?[0,0,0,0]:Tw(x,C);switch(C.type){case"base64":_=ha(x);break;case"binary":_=x;break;case"buffer":C.codepage==65001?_=x.toString("utf8"):C.codepage&&typeof vf<"u"||(_=Fn&&Buffer.isBuffer(x)?x.toString("binary"):fc(x));break;case"array":_=ic(x);break;case"string":_=x;break;default:throw new Error("Unrecognized type "+C.type)}return N[0]==239&&N[1]==187&&N[2]==191?_=mr(_.slice(3)):C.type!="string"&&C.type!="buffer"&&C.codepage==65001?_=mr(_):C.type=="binary"&&typeof vf<"u",_.slice(0,19)=="socialcalc:version:"?W9.to_sheet(C.type=="string"?_:mr(_),C):A(_,C)}function h(x,C){return pl(u(x,C),C)}function d(x){for(var C=[],_=Gr(x["!ref"]),N,D=Array.isArray(x),R=_.s.r;R<=_.e.r;++R){for(var k=[],j=_.s.c;j<=_.e.c;++j){var K=An({r:R,c:j});if(N=D?(x[R]||[])[j]:x[K],!N||N.v==null){k.push("          ");continue}for(var Q=(N.w||(oA(N),N.w)||"").slice(0,10);Q.length<10;)Q+=" ";k.push(Q+(j===0?" ":""))}C.push(k.join(""))}return C.join(`
`)}return{to_workbook:h,to_sheet:u,from_sheet:d}})();function X9(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=K9.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Bf.to_workbook(t,e)}}var Af=(function(){function t(Z,ge,le){if(Z){Hi(Z,Z.l||0);for(var ue=le.Enum||Ze;Z.l<Z.length;){var xe=Z.read_shift(2),Ye=ue[xe]||ue[65535],Ne=Z.read_shift(2),_e=Z.l+Ne,Oe=Ye.f&&Ye.f(Z,Ne,le);if(Z.l=_e,ge(Oe,Ye,xe))return}}}function e(Z,ge){switch(ge.type){case"base64":return n(Za(ha(Z)),ge);case"binary":return n(Za(Z),ge);case"buffer":case"array":return n(Z,ge)}throw"Unsupported type "+ge.type}function n(Z,ge){if(!Z)return Z;var le=ge||{},ue=le.dense?[]:{},xe="Sheet1",Ye="",Ne=0,_e={},Oe=[],yt=[],pe={s:{r:0,c:0},e:{r:0,c:0}},St=le.sheetRows||0;if(Z[2]==0&&(Z[3]==8||Z[3]==9)&&Z.length>=16&&Z[14]==5&&Z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Z[2]==2)le.Enum=Ze,t(Z,function(Ue,gt,Bt){switch(Bt){case 0:le.vers=Ue,Ue>=4096&&(le.qpro=!0);break;case 6:pe=Ue;break;case 204:Ue&&(Ye=Ue);break;case 222:Ye=Ue;break;case 15:case 51:le.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Bt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=le.dateNF||pn[14],le.cellDates&&(Ue[1].t="d",Ue[1].v=fg(Ue[1].v))),le.qpro&&Ue[3]>Ne&&(ue["!ref"]=kn(pe),_e[xe]=ue,Oe.push(xe),ue=le.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},Ne=Ue[3],xe=Ye||"Sheet"+(Ne+1),Ye="");var dn=le.dense?(ue[Ue[0].r]||[])[Ue[0].c]:ue[An(Ue[0])];if(dn){dn.t=Ue[1].t,dn.v=Ue[1].v,Ue[1].z!=null&&(dn.z=Ue[1].z),Ue[1].f!=null&&(dn.f=Ue[1].f);break}le.dense?(ue[Ue[0].r]||(ue[Ue[0].r]=[]),ue[Ue[0].r][Ue[0].c]=Ue[1]):ue[An(Ue[0])]=Ue[1];break}},le);else if(Z[2]==26||Z[2]==14)le.Enum=me,Z[2]==14&&(le.qpro=!0,Z.l=0),t(Z,function(Ue,gt,Bt){switch(Bt){case 204:xe=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Ne&&(ue["!ref"]=kn(pe),_e[xe]=ue,Oe.push(xe),ue=le.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},Ne=Ue[3],xe="Sheet"+(Ne+1)),St>0&&Ue[0].r>=St)break;le.dense?(ue[Ue[0].r]||(ue[Ue[0].r]=[]),ue[Ue[0].r][Ue[0].c]=Ue[1]):ue[An(Ue[0])]=Ue[1],pe.e.c<Ue[0].c&&(pe.e.c=Ue[0].c),pe.e.r<Ue[0].r&&(pe.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(yt[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:yt[Ue[0]]=Ue[1],Ue[0]==Ne&&(xe=Ue[1]);break}},le);else throw new Error("Unrecognized LOTUS BOF "+Z[2]);if(ue["!ref"]=kn(pe),_e[Ye||xe]=ue,Oe.push(Ye||xe),!yt.length)return{SheetNames:Oe,Sheets:_e};for(var kt={},Lt=[],Fe=0;Fe<yt.length;++Fe)_e[Oe[Fe]]?(Lt.push(yt[Fe]||Oe[Fe]),kt[yt[Fe]]=_e[yt[Fe]]||_e[Oe[Fe]]):(Lt.push(yt[Fe]),kt[yt[Fe]]={"!ref":"A1"});return{SheetNames:Lt,Sheets:kt}}function r(Z,ge){var le=ge||{};if(+le.codepage>=0&&$a(+le.codepage),le.type=="string")throw new Error("Cannot write WK1 to JS string");var ue=Zx(),xe=Gr(Z["!ref"]),Ye=Array.isArray(Z),Ne=[];Xa(ue,0,s(1030)),Xa(ue,6,h(xe));for(var _e=Math.min(xe.e.r,8191),Oe=xe.s.r;Oe<=_e;++Oe)for(var yt=Ki(Oe),pe=xe.s.c;pe<=xe.e.c;++pe){Oe===xe.s.r&&(Ne[pe]=mi(pe));var St=Ne[pe]+yt,kt=Ye?(Z[Oe]||[])[pe]:Z[St];if(!(!kt||kt.t=="z"))if(kt.t=="n")(kt.v|0)==kt.v&&kt.v>=-32768&&kt.v<=32767?Xa(ue,13,N(Oe,pe,kt.v)):Xa(ue,14,R(Oe,pe,kt.v));else{var Lt=oA(kt);Xa(ue,15,C(Oe,pe,Lt.slice(0,239)))}}return Xa(ue,1),ue.end()}function i(Z,ge){var le=ge||{};if(+le.codepage>=0&&$a(+le.codepage),le.type=="string")throw new Error("Cannot write WK3 to JS string");var ue=Zx();Xa(ue,0,A(Z));for(var xe=0,Ye=0;xe<Z.SheetNames.length;++xe)(Z.Sheets[Z.SheetNames[xe]]||{})["!ref"]&&Xa(ue,27,Be(Z.SheetNames[xe],Ye++));var Ne=0;for(xe=0;xe<Z.SheetNames.length;++xe){var _e=Z.Sheets[Z.SheetNames[xe]];if(!(!_e||!_e["!ref"])){for(var Oe=Gr(_e["!ref"]),yt=Array.isArray(_e),pe=[],St=Math.min(Oe.e.r,8191),kt=Oe.s.r;kt<=St;++kt)for(var Lt=Ki(kt),Fe=Oe.s.c;Fe<=Oe.e.c;++Fe){kt===Oe.s.r&&(pe[Fe]=mi(Fe));var Ue=pe[Fe]+Lt,gt=yt?(_e[kt]||[])[Fe]:_e[Ue];if(!(!gt||gt.t=="z"))if(gt.t=="n")Xa(ue,23,z(kt,Fe,Ne,gt.v));else{var Bt=oA(gt);Xa(ue,22,M(kt,Fe,Ne,Bt.slice(0,239)))}}++Ne}}return Xa(ue,1),ue.end()}function s(Z){var ge=gi(2);return ge.write_shift(2,Z),ge}function A(Z){var ge=gi(26);ge.write_shift(2,4096),ge.write_shift(2,4),ge.write_shift(4,0);for(var le=0,ue=0,xe=0,Ye=0;Ye<Z.SheetNames.length;++Ye){var Ne=Z.SheetNames[Ye],_e=Z.Sheets[Ne];if(!(!_e||!_e["!ref"])){++xe;var Oe=Mu(_e["!ref"]);le<Oe.e.r&&(le=Oe.e.r),ue<Oe.e.c&&(ue=Oe.e.c)}}return le>8191&&(le=8191),ge.write_shift(2,le),ge.write_shift(1,xe),ge.write_shift(1,ue),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(1,1),ge.write_shift(1,2),ge.write_shift(4,0),ge.write_shift(4,0),ge}function u(Z,ge,le){var ue={s:{c:0,r:0},e:{c:0,r:0}};return ge==8&&le.qpro?(ue.s.c=Z.read_shift(1),Z.l++,ue.s.r=Z.read_shift(2),ue.e.c=Z.read_shift(1),Z.l++,ue.e.r=Z.read_shift(2),ue):(ue.s.c=Z.read_shift(2),ue.s.r=Z.read_shift(2),ge==12&&le.qpro&&(Z.l+=2),ue.e.c=Z.read_shift(2),ue.e.r=Z.read_shift(2),ge==12&&le.qpro&&(Z.l+=2),ue.s.c==65535&&(ue.s.c=ue.e.c=ue.s.r=ue.e.r=0),ue)}function h(Z){var ge=gi(8);return ge.write_shift(2,Z.s.c),ge.write_shift(2,Z.s.r),ge.write_shift(2,Z.e.c),ge.write_shift(2,Z.e.r),ge}function d(Z,ge,le){var ue=[{c:0,r:0},{t:"n",v:0},0,0];return le.qpro&&le.vers!=20768?(ue[0].c=Z.read_shift(1),ue[3]=Z.read_shift(1),ue[0].r=Z.read_shift(2),Z.l+=2):(ue[2]=Z.read_shift(1),ue[0].c=Z.read_shift(2),ue[0].r=Z.read_shift(2)),ue}function x(Z,ge,le){var ue=Z.l+ge,xe=d(Z,ge,le);if(xe[1].t="s",le.vers==20768){Z.l++;var Ye=Z.read_shift(1);return xe[1].v=Z.read_shift(Ye,"utf8"),xe}return le.qpro&&Z.l++,xe[1].v=Z.read_shift(ue-Z.l,"cstr"),xe}function C(Z,ge,le){var ue=gi(7+le.length);ue.write_shift(1,255),ue.write_shift(2,ge),ue.write_shift(2,Z),ue.write_shift(1,39);for(var xe=0;xe<ue.length;++xe){var Ye=le.charCodeAt(xe);ue.write_shift(1,Ye>=128?95:Ye)}return ue.write_shift(1,0),ue}function _(Z,ge,le){var ue=d(Z,ge,le);return ue[1].v=Z.read_shift(2,"i"),ue}function N(Z,ge,le){var ue=gi(7);return ue.write_shift(1,255),ue.write_shift(2,ge),ue.write_shift(2,Z),ue.write_shift(2,le,"i"),ue}function D(Z,ge,le){var ue=d(Z,ge,le);return ue[1].v=Z.read_shift(8,"f"),ue}function R(Z,ge,le){var ue=gi(13);return ue.write_shift(1,255),ue.write_shift(2,ge),ue.write_shift(2,Z),ue.write_shift(8,le,"f"),ue}function k(Z,ge,le){var ue=Z.l+ge,xe=d(Z,ge,le);if(xe[1].v=Z.read_shift(8,"f"),le.qpro)Z.l=ue;else{var Ye=Z.read_shift(2);ne(Z.slice(Z.l,Z.l+Ye),xe),Z.l+=Ye}return xe}function j(Z,ge,le){var ue=ge&32768;return ge&=-32769,ge=(ue?Z:0)+(ge>=8192?ge-16384:ge),(ue?"":"$")+(le?mi(ge):Ki(ge))}var K={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Q=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ne(Z,ge){Hi(Z,0);for(var le=[],ue=0,xe="",Ye="",Ne="",_e="";Z.l<Z.length;){var Oe=Z[Z.l++];switch(Oe){case 0:le.push(Z.read_shift(8,"f"));break;case 1:Ye=j(ge[0].c,Z.read_shift(2),!0),xe=j(ge[0].r,Z.read_shift(2),!1),le.push(Ye+xe);break;case 2:{var yt=j(ge[0].c,Z.read_shift(2),!0),pe=j(ge[0].r,Z.read_shift(2),!1);Ye=j(ge[0].c,Z.read_shift(2),!0),xe=j(ge[0].r,Z.read_shift(2),!1),le.push(yt+pe+":"+Ye+xe)}break;case 3:if(Z.l<Z.length){console.error("WK1 premature formula end");return}break;case 4:le.push("("+le.pop()+")");break;case 5:le.push(Z.read_shift(2));break;case 6:{for(var St="";Oe=Z[Z.l++];)St+=String.fromCharCode(Oe);le.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:le.push("-"+le.pop());break;case 23:le.push("+"+le.pop());break;case 22:le.push("NOT("+le.pop()+")");break;case 20:case 21:_e=le.pop(),Ne=le.pop(),le.push(["AND","OR"][Oe-20]+"("+Ne+","+_e+")");break;default:if(Oe<32&&Q[Oe])_e=le.pop(),Ne=le.pop(),le.push(Ne+Q[Oe]+_e);else if(K[Oe]){if(ue=K[Oe][1],ue==69&&(ue=Z[Z.l++]),ue>le.length){console.error("WK1 bad formula parse 0x"+Oe.toString(16)+":|"+le.join("|")+"|");return}var kt=le.slice(-ue);le.length-=ue,le.push(K[Oe][0]+"("+kt.join(",")+")")}else return Oe<=7?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=24?console.error("WK1 unsupported op "+Oe.toString(16)):Oe<=30?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=115?console.error("WK1 unsupported function opcode "+Oe.toString(16)):console.error("WK1 unrecognized opcode "+Oe.toString(16))}}le.length==1?ge[1].f=""+le[0]:console.error("WK1 bad formula parse |"+le.join("|")+"|")}function ae(Z){var ge=[{c:0,r:0},{t:"n",v:0},0];return ge[0].r=Z.read_shift(2),ge[3]=Z[Z.l++],ge[0].c=Z[Z.l++],ge}function ee(Z,ge){var le=ae(Z);return le[1].t="s",le[1].v=Z.read_shift(ge-4,"cstr"),le}function M(Z,ge,le,ue){var xe=gi(6+ue.length);xe.write_shift(2,Z),xe.write_shift(1,le),xe.write_shift(1,ge),xe.write_shift(1,39);for(var Ye=0;Ye<ue.length;++Ye){var Ne=ue.charCodeAt(Ye);xe.write_shift(1,Ne>=128?95:Ne)}return xe.write_shift(1,0),xe}function H(Z,ge){var le=ae(Z);le[1].v=Z.read_shift(2);var ue=le[1].v>>1;if(le[1].v&1)switch(ue&7){case 0:ue=(ue>>3)*5e3;break;case 1:ue=(ue>>3)*500;break;case 2:ue=(ue>>3)/20;break;case 3:ue=(ue>>3)/200;break;case 4:ue=(ue>>3)/2e3;break;case 5:ue=(ue>>3)/2e4;break;case 6:ue=(ue>>3)/16;break;case 7:ue=(ue>>3)/64;break}return le[1].v=ue,le}function O(Z,ge){var le=ae(Z),ue=Z.read_shift(4),xe=Z.read_shift(4),Ye=Z.read_shift(2);if(Ye==65535)return ue===0&&xe===3221225472?(le[1].t="e",le[1].v=15):ue===0&&xe===3489660928?(le[1].t="e",le[1].v=42):le[1].v=0,le;var Ne=Ye&32768;return Ye=(Ye&32767)-16446,le[1].v=(1-Ne*2)*(xe*Math.pow(2,Ye+32)+ue*Math.pow(2,Ye)),le}function z(Z,ge,le,ue){var xe=gi(14);if(xe.write_shift(2,Z),xe.write_shift(1,le),xe.write_shift(1,ge),ue==0)return xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(2,65535),xe;var Ye=0,Ne=0,_e=0,Oe=0;return ue<0&&(Ye=1,ue=-ue),Ne=Math.log2(ue)|0,ue/=Math.pow(2,Ne-31),Oe=ue>>>0,(Oe&2147483648)==0&&(ue/=2,++Ne,Oe=ue>>>0),ue-=Oe,Oe|=2147483648,Oe>>>=0,ue*=Math.pow(2,32),_e=ue>>>0,xe.write_shift(4,_e),xe.write_shift(4,Oe),Ne+=16383+(Ye?32768:0),xe.write_shift(2,Ne),xe}function J(Z,ge){var le=O(Z);return Z.l+=ge-14,le}function W(Z,ge){var le=ae(Z),ue=Z.read_shift(4);return le[1].v=ue>>6,le}function X(Z,ge){var le=ae(Z),ue=Z.read_shift(8,"f");return le[1].v=ue,le}function Me(Z,ge){var le=X(Z);return Z.l+=ge-10,le}function Ee(Z,ge){return Z[Z.l+ge-1]==0?Z.read_shift(ge,"cstr"):""}function ve(Z,ge){var le=Z[Z.l++];le>ge-1&&(le=ge-1);for(var ue="";ue.length<le;)ue+=String.fromCharCode(Z[Z.l++]);return ue}function oe(Z,ge,le){if(!(!le.qpro||ge<21)){var ue=Z.read_shift(1);Z.l+=17,Z.l+=1,Z.l+=2;var xe=Z.read_shift(ge-21,"cstr");return[ue,xe]}}function je(Z,ge){for(var le={},ue=Z.l+ge;Z.l<ue;){var xe=Z.read_shift(2);if(xe==14e3){for(le[xe]=[0,""],le[xe][0]=Z.read_shift(2);Z[Z.l];)le[xe][1]+=String.fromCharCode(Z[Z.l]),Z.l++;Z.l++}}return le}function Be(Z,ge){var le=gi(5+Z.length);le.write_shift(2,14e3),le.write_shift(2,ge);for(var ue=0;ue<Z.length;++ue){var xe=Z.charCodeAt(ue);le[le.l++]=xe>127?95:xe}return le[le.l++]=0,le}var Ze={0:{n:"BOF",f:Ai},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:D},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:ve},65535:{n:""}},me={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:J},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:je},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:Me},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function q9(t){var e={},n=t.match(fs),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Jt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=nw[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Y9=(function(){var t=Cf("t"),e=Cf("rPr");function n(s){var A=s.match(t);if(!A)return{t:"s",v:""};var u={t:"s",v:Qn(A[1])},h=s.match(e);return h&&(u.s=q9(h[1])),u}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(A){return A.replace(r,"").split(i).map(n).filter(function(u){return u.v})}})(),J9=(function(){var e=/(\r\n|\n)/g;function n(i,s,A){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),s.push('<span style="'+u.join("")+'">'),i.b&&(s.push("<b>"),A.push("</b>")),i.i&&(s.push("<i>"),A.push("</i>")),i.strike&&(s.push("<s>"),A.push("</s>"));var h=i.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(s.push("<"+h+">"),A.push("</"+h+">")),A.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),Z9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,$9=/<(?:\w+:)?r>/,eQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ww(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Qn(mr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=mr(t),n&&(r.h=lw(r.t))):t.match($9)&&(r.r=mr(t),r.t=Qn(mr((t.replace(eQ,"").match(Z9)||[]).join("").replace(fs,""))),n&&(r.h=J9(Y9(r.r)))),r):{t:""}}var tQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,nQ=/<(?:\w+:)?(?:si|sstItem)>/g,rQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function iQ(t,e){var n=[],r="";if(!t)return n;var i=t.match(tQ);if(i){r=i[2].replace(nQ,"").split(rQ);for(var s=0;s!=r.length;++s){var A=ww(r[s].trim(),e);A!=null&&(n[n.length]=A)}i=Jt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function sQ(t){return[t.read_shift(4),t.read_shift(4)]}function aQ(t,e){var n=[],r=!1;return dA(t,function(s,A,u){switch(u){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(A.T,!r||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function KI(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function sA(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function oQ(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=sA(t,4),e.U=sA(t,4),e.W=sA(t,4),e}function AQ(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function lQ(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(AQ(t));return e}function cQ(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function uQ(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=sA(t,4),e.U=sA(t,4),e.W=sA(t,4),e}function fQ(t){var e=uQ(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function zI(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function WI(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function dQ(t){var e=sA(t);switch(e.Minor){case 2:return[e.Minor,hQ(t)];case 3:return[e.Minor,gQ()];case 4:return[e.Minor,pQ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function hQ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=zI(t,n),i=WI(t,t.length-t.l);return{t:"Std",h:r,v:i}}function gQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pQ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(fs,function(s){var A=Jt(s);switch(To(A[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(u){r[u]=A[u]});break;case"<dataIntegrity":r.encryptedHmacKey=A.encryptedHmacKey,r.encryptedHmacValue=A.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=A.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(A);break;default:throw A[0]}}),r}function mQ(t,e){var n={},r=n.EncryptionVersionInfo=sA(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=zI(t,i),e-=i,n.EncryptionVerifier=WI(t,e),n}function xQ(t){var e={},n=e.EncryptionVersionInfo=sA(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function wQ(t){var e=0,n,r=KI(t),i=r.length+1,s,A,u,h,d;for(n=ll(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)A=n[s],u=(e&16384)===0?0:1,h=e<<1&32767,d=u|h,e=d^A;return e^52811}var XI=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(A){return(A/2|A*128)&255},i=function(A,u){return r(A^u)},s=function(A){for(var u=e[A.length-1],h=104,d=A.length-1;d>=0;--d)for(var x=A[d],C=0;C!=7;++C)x&64&&(u^=n[h]),x*=2,--h;return u};return function(A){for(var u=KI(A),h=s(u),d=u.length,x=ll(16),C=0;C!=16;++C)x[C]=0;var _,N,D;for((d&1)===1&&(_=h>>8,x[d]=i(t[0],_),--d,_=h&255,N=u[u.length-1],x[d]=i(N,_));d>0;)--d,_=h>>8,x[d]=i(u[d],_),--d,_=h&255,x[d]=i(u[d],_);for(d=15,D=15-u.length;D>0;)_=h>>8,x[d]=i(t[D],_),--d,--D,_=h&255,x[d]=i(u[d],_),--d,--D;return x}})(),vQ=function(t,e,n,r,i){i||(i=e),r||(r=XI(t));var s,A;for(s=0;s!=e.length;++s)A=e[s],A^=r[n],A=(A>>5|A<<3)&255,i[s]=A,++n;return[i,n,r]},yQ=function(t){var e=0,n=XI(t);return function(r){var i=vQ("",r,e,n);return e=i[1],i[0]}};function CQ(t,e,n,r){var i={key:Ai(t),verificationBytes:Ai(t)};return n.password&&(i.verifier=wQ(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=yQ(n.password)),i}function EQ(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=xQ(t):r.Data=mQ(t,e),r}function BQ(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?EQ(t,e-2,r):CQ(t,n.biff>=8?e:e-2,n,r),r}var _Q=(function(){function t(i,s){switch(s.type){case"base64":return e(ha(i),s);case"binary":return e(i,s);case"buffer":return e(Fn&&Buffer.isBuffer(i)?i.toString("binary"):fc(i),s);case"array":return e(ic(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var A=s||{},u=A.dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(x,C){Array.isArray(u)&&(u[C]=[]);for(var _=/\\\w+\b/g,N=0,D,R=-1;D=_.exec(x);){switch(D[0]){case"\\cell":var k=x.slice(N,_.lastIndex-D[0].length);if(k[0]==" "&&(k=k.slice(1)),++R,k.length){var j={v:k,t:"s"};Array.isArray(u)?u[C][R]=j:u[An({r:C,c:R})]=j}break}N=_.lastIndex}R>d.e.c&&(d.e.c=R)}),u["!ref"]=kn(d),u}function n(i,s){return pl(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],A=Gr(i["!ref"]),u,h=Array.isArray(i),d=A.s.r;d<=A.e.r;++d){s.push("\\trowd\\trautofit1");for(var x=A.s.c;x<=A.e.c;++x)s.push("\\cellx"+(x+1));for(s.push("\\pard\\intbl"),x=A.s.c;x<=A.e.c;++x){var C=An({r:d,c:x});u=h?(i[d]||[])[x]:i[C],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(oA(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function TQ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function _f(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function bQ(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),A=i-s;if(A===0)return[0,0,e];var u=0,h=0,d=i+s;switch(h=A/(d>1?2-d:d),i){case e:u=((n-r)/A+6)%6;break;case n:u=(r-e)/A+2;break;case r:u=(e-n)/A+4;break}return[u/6,h,d/2]}function SQ(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,A=[s,s,s],u=6*e,h;if(n!==0)switch(u|0){case 0:case 6:h=i*u,A[0]+=i,A[1]+=h;break;case 1:h=i*(2-u),A[0]+=h,A[1]+=i;break;case 2:h=i*(u-2),A[1]+=i,A[2]+=h;break;case 3:h=i*(4-u),A[1]+=h,A[2]+=i;break;case 4:h=i*(u-4),A[2]+=i,A[0]+=h;break;case 5:h=i*(6-u),A[2]+=h,A[0]+=i;break}for(var d=0;d!=3;++d)A[d]=Math.round(A[d]*255);return A}function I1(t,e){if(e===0)return t;var n=bQ(TQ(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),_f(SQ(n))}var qI=6,IQ=15,NQ=1,Cs=qI;function N1(t){return Math.floor((t+Math.round(128/Cs)/256)*Cs)}function F1(t){return Math.floor((t-5)/Cs*100+.5)/100}function n2(t){return Math.round((t*Cs+5)/Cs*256)/256}function ax(t){return n2(F1(N1(t)))}function vw(t){var e=Math.abs(t-ax(t)),n=Cs;if(e>.005)for(Cs=NQ;Cs<IQ;++Cs)Math.abs(t-ax(t))<=e&&(e=Math.abs(t-ax(t)),n=Cs);Cs=n}function Tu(t){t.width?(t.wpx=N1(t.width),t.wch=F1(t.wpx),t.MDW=Cs):t.wpx?(t.wch=F1(t.wpx),t.width=n2(t.wch),t.MDW=Cs):typeof t.wch=="number"&&(t.width=n2(t.wch),t.wpx=N1(t.width),t.MDW=Cs),t.customWidth&&delete t.customWidth}var FQ=96,YI=FQ;function JI(t){return t*96/YI}function Tf(t){return t*YI/96}var RQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DQ(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var u=Jt(A);switch(To(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=Tr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=Tr(u.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in borders")}})}function UQ(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var u=Jt(A);switch(To(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fills")}})}function kQ(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(fs)||[]).forEach(function(A){var u=Jt(A);switch(To(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=mr(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?Tr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?Tr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?Tr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?Tr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?Tr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?Tr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?Tr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=nw[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=Tr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var h=ec[i.color.index];i.color.index==81&&(h=ec[1]),h||(h=ec[1]),i.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=I1(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+u[0]+" in fonts")}})}function MQ(t,e,n){e.NumberFmt=[];for(var r=Co(pn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=pn[r[i]];var s=t[0].match(fs);if(s)for(i=0;i<s.length;++i){var A=Jt(s[i]);switch(To(A[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=Qn(mr(A.formatCode)),h=parseInt(A.numFmtId,10);if(e.NumberFmt[h]=u,h>0){if(h>392){for(h=392;h>60&&e.NumberFmt[h]!=null;--h);e.NumberFmt[h]=u}$l(u,h)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+A[0]+" in numFmts")}}}var Mh=["numFmtId","fillId","fontId","borderId","xfId"],Oh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OQ(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(fs)||[]).forEach(function(s){var A=Jt(s),u=0;switch(To(A[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=A,delete r[0],u=0;u<Mh.length;++u)r[Mh[u]]&&(r[Mh[u]]=parseInt(r[Mh[u]],10));for(u=0;u<Oh.length;++u)r[Oh[u]]&&(r[Oh[u]]=Tr(r[Oh[u]]));if(e.NumberFmt&&r.numFmtId>392){for(u=392;u>60;--u)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[u]){r.numFmtId=u;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};A.vertical&&(h.vertical=A.vertical),A.horizontal&&(h.horizontal=A.horizontal),A.textRotation!=null&&(h.textRotation=A.textRotation),A.indent&&(h.indent=A.indent),A.wrapText&&(h.wrapText=Tr(A.wrapText)),r.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+A[0]+" in cellXfs")}})}var LQ=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,h,d){var x={};if(!u)return x;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var C;return(C=u.match(e))&&MQ(C,x,d),(C=u.match(i))&&kQ(C,x,h,d),(C=u.match(r))&&UQ(C,x,h,d),(C=u.match(s))&&DQ(C,x,h,d),(C=u.match(n))&&OQ(C,x,d),x}})();function QQ(t,e){var n=t.read_shift(2),r=cs(t);return[n,r]}function PQ(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=YO(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var A=t.read_shift(1);A!=0&&(r.underline=A);var u=t.read_shift(1);u>0&&(r.family=u);var h=t.read_shift(1);switch(h>0&&(r.charset=h),t.l++,r.color=qO(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=cs(t),r}var HQ=us;function VQ(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var jQ=us;function GQ(t,e,n){var r={};r.NumberFmt=[];for(var i in pn)r.NumberFmt[i]=pn[i];r.CellXf=[],r.Fonts=[];var s=[],A=!1;return dA(t,function(h,d,x){switch(x){case 44:r.NumberFmt[h[0]]=h[1],$l(h[1],h[0]);break;case 43:r.Fonts.push(h),h.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(h.color.rgb=I1(e.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:A=!0;break;case 36:A=!1;break;case 37:s.push(x),A=!0;break;case 38:s.pop(),A=!1;break;default:if(d.T>0)s.push(x);else if(d.T<0)s.pop();else if(!A||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+x.toString(16))}}),r}var KQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zQ(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(fs)||[]).forEach(function(i){var s=Jt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[KQ.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function WQ(){}function XQ(){}var qQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,JQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZQ(t,e,n){e.themeElements={};var r;[["clrScheme",qQ,zQ],["fontScheme",YQ,WQ],["fmtScheme",JQ,XQ]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var $Q=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ZI(t,e){(!t||t.length===0)&&(t=e7());var n,r={};if(!(n=t.match($Q)))throw new Error("themeElements not found in theme");return ZQ(n[0],r,e),r.raw=t,r}function e7(t,e){var n=[lI];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function t7(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var A;try{A=AI(s,{type:"array"})}catch{return}var u=ua(A,"theme/theme/theme1.xml",!0);if(u)return ZI(u,n)}}function n7(t){return t.read_shift(4)}function r7(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=i7(t,4);break;case 2:e.xclrValue=LI(t);break;case 3:e.xclrValue=n7(t);break;case 4:t.l+=4;break}return t.l+=8,e}function i7(t,e){return us(t,e)}function s7(t,e){return us(t,e)}function a7(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=r7(t);break;case 6:r[1]=s7(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function o7(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(a7(t,n-t.l));return{ixfe:r,ext:s}}function A7(t,e){e.forEach(function(n){n[0]})}function l7(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:cs(t)}}function c7(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function u7(t){return t.l+=4,t.read_shift(4)!=0}function f7(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],A=!1,u=2;return dA(t,function(h,d,x){switch(x){case 335:r.Types.push({name:h.name});break;case 51:h.forEach(function(C){u==1?r.Cell.push({type:r.Types[C[0]-1].name,index:C[1]}):u==0&&r.Value.push({type:r.Types[C[0]-1].name,index:C[1]})});break;case 337:u=h?1:0;break;case 338:u=2;break;case 35:s.push(x),A=!0;break;case 36:s.pop(),A=!1;break;default:if(!d.T){if(!A||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}}),r}function d7(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,A;return t.replace(fs,function(u){var h=Jt(u);switch(To(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==h.name&&(A=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[h.t-1].name,index:+h.v}):s==0&&r.Value.push({type:r.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!A)break;A.offsets||(A.offsets=[]),A.offsets.push(+h.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return u}),r}function h7(t){var e=[];if(!t)return e;var n=1;return(t.match(fs)||[]).forEach(function(r){var i=Jt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function g7(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=An(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function p7(t,e,n){var r=[];return dA(t,function(s,A,u){switch(u){case 63:r.push(s);break;default:if(!A.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function m7(t,e,n,r){if(!t)return t;var i=r||{},s=!1;dA(t,function(u,h,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function x7(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function B_(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(A){var u=Es(A.ref);if(i?(t[u.r]||(t[u.r]=[]),s=t[u.r][u.c]):s=t[A.ref],!s){s={t:"z"},i?t[u.r][u.c]=s:t[A.ref]=s;var h=Gr(t["!ref"]||"BDWGO1000001:A1");h.s.r>u.r&&(h.s.r=u.r),h.e.r<u.r&&(h.e.r=u.r),h.s.c>u.c&&(h.s.c=u.c),h.e.c<u.c&&(h.e.c=u.c);var d=kn(h);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var x={a:A.author,t:A.t,r:A.r,T:n};A.h&&(x.h=A.h);for(var C=s.c.length-1;C>=0;--C){if(!n&&s.c[C].T)return;n&&!s.c[C].T&&s.c.splice(C,1)}if(n&&r){for(C=0;C<r.length;++C)if(x.a==r[C].id){x.a=r[C].name||x.a;break}}s.c.push(x)})}function w7(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(A){if(!(A===""||A.trim()==="")){var u=A.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&n.push(u[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(A){if(!(A===""||A.trim()==="")){var u=A.match(/<(?:\w+:)?comment[^>]*>/);if(u){var h=Jt(u[0]),d={author:h.authorId&&n[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},x=Es(h.ref);if(!(e.sheetRows&&e.sheetRows<=x.r)){var C=A.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!C&&!!C[1]&&ww(C[1])||{r:"",t:"",h:""};d.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),d.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=_.h),r.push(d)}}}}),r}function v7(t,e){var n=[],r=!1,i={},s=0;return t.replace(fs,function(u,h){var d=Jt(u);switch(To(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=h+u.length;break;case"</text>":i.t=t.slice(s,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return u}),n}function y7(t,e){var n=[],r=!1;return t.replace(fs,function(s){var A=Jt(s);switch(To(A[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:A.displayname,id:A.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return s}),n}function C7(t){var e={};e.iauthor=t.read_shift(4);var n=hc(t);return e.rfx=n.s,e.ref=An(n.s),t.l+=16,e}var E7=cs;function B7(t,e){var n=[],r=[],i={},s=!1;return dA(t,function(u,h,d){switch(d){case 632:r.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var _7="application/vnd.ms-office.vbaProject";function T7(t){var e=Un.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Un.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Un.write(e)}function b7(){return{"!type":"dialog"}}function S7(){return{"!type":"dialog"}}function I7(){return{"!type":"macro"}}function N7(){return{"!type":"macro"}}var wu=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,A){var u=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),A.length==0?u=!0:A.charAt(0)=="["&&(u=!0,A=A.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,x=A.length>0?parseInt(A,10)|0:0;return u?x+=e.c:--x,h?d+=e.r:--d,i+(u?"":"$")+mi(x)+(h?"":"$")+Ki(d)}return function(i,s){return e=s,i.replace(t,n)}})(),$I=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,F7=(function(){return function(e,n){return e.replace($I,function(r,i,s,A,u,h){var d=dw(A)-(s?0:n.c),x=fw(h)-(u?0:n.r),C=x==0?"":u?x+1:"["+x+"]",_=d==0?"":s?d+1:"["+d+"]";return i+"R"+C+"C"+_})}})();function e3(t,e){return t.replace($I,function(n,r,i,s,A,u){return r+(i=="$"?i+s:mi(dw(s)+e.c))+(A=="$"?A+u:Ki(fw(u)+e.r))})}function R7(t,e,n){var r=Mu(e),i=r.s,s=Es(n),A={r:s.r-i.r,c:s.c-i.c};return e3(t,A)}function D7(t){return t.length!=1}function __(t){return t.replace(/_xlfn\./g,"")}function si(t){t.l+=1}function cl(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function t3(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return n3(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),A=cl(t),u=cl(t);return{s:{r:i,c:A[0],cRel:A[1],rRel:A[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function n3(t){var e=cl(t),n=cl(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function U7(t,e,n){if(n.biff<8)return n3(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=cl(t),A=cl(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:A[0],cRel:A[1],rRel:A[2]}}}function r3(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return k7(t);var r=t.read_shift(n&&n.biff==12?4:2),i=cl(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function k7(t){var e=cl(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function M7(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function O7(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return L7(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),A=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;i>524287;)i-=1048576;if(A==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:A,rRel:u}}function L7(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Q7(t,e,n){var r=(t[t.l++]&96)>>5,i=t3(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function P7(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var A=t3(t,s,n);return[r,i,A]}function H7(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function V7(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function j7(t,e,n){var r=(t[t.l++]&96)>>5,i=U7(t,e-1,n);return[r,i]}function G7(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function T_(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function K7(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function z7(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function W7(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function X7(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function q7(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function i3(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Y7(t){return t.read_shift(2),i3(t)}function J7(t){return t.read_shift(2),i3(t)}function Z7(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=r3(t,0,n);return[r,i]}function $7(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=O7(t,0,n);return[r,i]}function eP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=r3(t,0,n);return[r,i,s]}function tP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[nH[i],o3[i],r]}function nP(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:rP(t);return[i,(s[0]===0?o3:tH)[s[1]]]}function rP(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function iP(t,e,n){t.l+=n&&n.biff==2?3:4}function sP(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function aP(t){return t.l++,gc[t.read_shift(1)]}function oP(t){return t.l++,t.read_shift(2)}function AP(t){return t.l++,t.read_shift(1)!==0}function lP(t){return t.l++,os(t)}function cP(t,e,n){return t.l++,Pf(t,e-1,n)}function uP(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Jr(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=gc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=os(t);break;case 2:n[1]=pc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function fP(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?hc:dg)(t));return i}function dP(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,A=[];s!=r&&(A[s]=[]);++s)for(var u=0;u!=i;++u)A[s][u]=uP(t,n.biff);return A}function hP(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function gP(t,e,n){if(n.biff==5)return pP(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function pP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function mP(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function xP(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function wP(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function vP(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var yP=us,CP=us,EP=us;function Vf(t,e,n){return t.l+=2,[M7(t)]}function yw(t){return t.l+=6,[]}var BP=Vf,_P=yw,TP=yw,bP=Vf;function s3(t){return t.l+=2,[Ai(t),t.read_shift(2)&1]}var SP=Vf,IP=s3,NP=yw,FP=Vf,RP=Vf,DP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UP(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),A=DP[n>>2&31];return{ixti:e,coltype:n&3,rt:A,idx:r,c:i,C:s}}function kP(t){return t.l+=2,[t.read_shift(4)]}function MP(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function OP(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function LP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function QP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function PP(t){return t.l+=4,[0,0]}var b_={1:{n:"PtgExp",f:sP},2:{n:"PtgTbl",f:EP},3:{n:"PtgAdd",f:si},4:{n:"PtgSub",f:si},5:{n:"PtgMul",f:si},6:{n:"PtgDiv",f:si},7:{n:"PtgPower",f:si},8:{n:"PtgConcat",f:si},9:{n:"PtgLt",f:si},10:{n:"PtgLe",f:si},11:{n:"PtgEq",f:si},12:{n:"PtgGe",f:si},13:{n:"PtgGt",f:si},14:{n:"PtgNe",f:si},15:{n:"PtgIsect",f:si},16:{n:"PtgUnion",f:si},17:{n:"PtgRange",f:si},18:{n:"PtgUplus",f:si},19:{n:"PtgUminus",f:si},20:{n:"PtgPercent",f:si},21:{n:"PtgParen",f:si},22:{n:"PtgMissArg",f:si},23:{n:"PtgStr",f:cP},26:{n:"PtgSheet",f:MP},27:{n:"PtgEndSheet",f:OP},28:{n:"PtgErr",f:aP},29:{n:"PtgBool",f:AP},30:{n:"PtgInt",f:oP},31:{n:"PtgNum",f:lP},32:{n:"PtgArray",f:G7},33:{n:"PtgFunc",f:tP},34:{n:"PtgFuncVar",f:nP},35:{n:"PtgName",f:hP},36:{n:"PtgRef",f:Z7},37:{n:"PtgArea",f:Q7},38:{n:"PtgMemArea",f:mP},39:{n:"PtgMemErr",f:yP},40:{n:"PtgMemNoMem",f:CP},41:{n:"PtgMemFunc",f:xP},42:{n:"PtgRefErr",f:wP},43:{n:"PtgAreaErr",f:H7},44:{n:"PtgRefN",f:$7},45:{n:"PtgAreaN",f:j7},46:{n:"PtgMemAreaN",f:LP},47:{n:"PtgMemNoMemN",f:QP},57:{n:"PtgNameX",f:gP},58:{n:"PtgRef3d",f:eP},59:{n:"PtgArea3d",f:P7},60:{n:"PtgRefErr3d",f:vP},61:{n:"PtgAreaErr3d",f:V7},255:{}},HP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VP={1:{n:"PtgElfLel",f:s3},2:{n:"PtgElfRw",f:FP},3:{n:"PtgElfCol",f:BP},6:{n:"PtgElfRwV",f:RP},7:{n:"PtgElfColV",f:bP},10:{n:"PtgElfRadical",f:SP},11:{n:"PtgElfRadicalS",f:NP},13:{n:"PtgElfColS",f:_P},15:{n:"PtgElfColSV",f:TP},16:{n:"PtgElfRadicalLel",f:IP},25:{n:"PtgList",f:UP},29:{n:"PtgSxName",f:kP},255:{}},jP={0:{n:"PtgAttrNoop",f:PP},1:{n:"PtgAttrSemi",f:q7},2:{n:"PtgAttrIf",f:W7},4:{n:"PtgAttrChoose",f:K7},8:{n:"PtgAttrGoto",f:z7},16:{n:"PtgAttrSum",f:iP},32:{n:"PtgAttrBaxcel",f:T_},33:{n:"PtgAttrBaxcel",f:T_},64:{n:"PtgAttrSpace",f:Y7},65:{n:"PtgAttrSpaceSemi",f:J7},128:{n:"PtgAttrIfError",f:X7},255:{}};function jf(t,e,n,r){if(r.biff<8)return us(t,e);for(var i=t.l+e,s=[],A=0;A!==n.length;++A)switch(n[A][0]){case"PtgArray":n[A][1]=dP(t,0,r),s.push(n[A][1]);break;case"PtgMemArea":n[A][2]=fP(t,n[A][1],r),s.push(n[A][2]);break;case"PtgExp":r&&r.biff==12&&(n[A][1][1]=t.read_shift(4),s.push(n[A][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[A][0]}return e=i-t.l,e!==0&&s.push(us(t,e)),s}function Gf(t,e,n){for(var r=t.l+e,i,s,A=[];r!=t.l;)e=r-t.l,s=t[t.l],i=b_[s]||b_[HP[s]],(s===24||s===25)&&(i=(s===24?VP:jP)[t[t.l+1]]),!i||!i.f?us(t,e):A.push([i.n,i.f(t,e,n)]);return A}function GP(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var A=r[s];if(A)switch(A[0]){case 2:i.push('"'+A[1].replace(/"/g,'""')+'"');break;default:i.push(A[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var KP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zP(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function a3(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function S_(t,e,n){var r=a3(t,e,n);return r=="#REF"?r:zP(r,n)}function ss(t,e,n,r,i){var s=i&&i.biff||8,A={s:{c:0,r:0}},u=[],h,d,x,C=0,_=0,N,D="";if(!t[0]||!t[0][0])return"";for(var R=-1,k="",j=0,K=t[0].length;j<K;++j){var Q=t[0][j];switch(Q[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=u.pop(),d=u.pop(),R>=0){switch(t[0][R][1][0]){case 0:k=jr(" ",t[0][R][1][1]);break;case 1:k=jr("\r",t[0][R][1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][R][1][0])}d=d+k,R=-1}u.push(d+KP[Q[0]]+h);break;case"PtgIsect":h=u.pop(),d=u.pop(),u.push(d+" "+h);break;case"PtgUnion":h=u.pop(),d=u.pop(),u.push(d+","+h);break;case"PtgRange":h=u.pop(),d=u.pop(),u.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=rf(Q[1][1],A,i),u.push(sf(x,s));break;case"PtgRefN":x=n?rf(Q[1][1],n,i):Q[1][1],u.push(sf(x,s));break;case"PtgRef3d":C=Q[1][1],x=rf(Q[1][2],A,i),D=S_(r,C,i),u.push(D+"!"+sf(x,s));break;case"PtgFunc":case"PtgFuncVar":var ne=Q[1][0],ae=Q[1][1];ne||(ne=0),ne&=127;var ee=ne==0?[]:u.slice(-ne);u.length-=ne,ae==="User"&&(ae=ee.shift()),u.push(ae+"("+ee.join(",")+")");break;case"PtgBool":u.push(Q[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(Q[1]);break;case"PtgNum":u.push(String(Q[1]));break;case"PtgStr":u.push('"'+Q[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(Q[1]);break;case"PtgAreaN":N=A_(Q[1][1],n?{s:n}:A,i),u.push(ix(N,i));break;case"PtgArea":N=A_(Q[1][1],A,i),u.push(ix(N,i));break;case"PtgArea3d":C=Q[1][1],N=Q[1][2],D=S_(r,C,i),u.push(D+"!"+ix(N,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=Q[1][2];var M=(r.names||[])[_-1]||(r[0]||[])[_],H=M?M.Name:"SH33TJSNAME"+String(_);H&&H.slice(0,6)=="_xlfn."&&!i.xlfn&&(H=H.slice(6)),u.push(H);break;case"PtgNameX":var O=Q[1][1];_=Q[1][2];var z;if(i.biff<=5)O<0&&(O=-O),r[O]&&(z=r[O][_]);else{var J="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][_]&&r[O][_].itab>0&&(J=r.SheetNames[r[O][_].itab-1]+"!"):J=r.SheetNames[_-1]+"!"),r[O]&&r[O][_])J+=r[O][_].Name;else if(r[0]&&r[0][_])J+=r[0][_].Name;else{var W=(a3(r,O,i)||"").split(";;");W[_-1]?J=W[_-1]:J+="SH33TJSERRX"}u.push(J);break}z||(z={Name:"SH33TJSERRY"}),u.push(z.Name);break;case"PtgParen":var X="(",Me=")";if(R>=0){switch(k="",t[0][R][1][0]){case 2:X=jr(" ",t[0][R][1][1])+X;break;case 3:X=jr("\r",t[0][R][1][1])+X;break;case 4:Me=jr(" ",t[0][R][1][1])+Me;break;case 5:Me=jr("\r",t[0][R][1][1])+Me;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][R][1][0])}R=-1}u.push(X+u.pop()+Me);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":x={c:Q[1][1],r:Q[1][0]};var Ee={c:n.c,r:n.r};if(r.sharedf[An(x)]){var ve=r.sharedf[An(x)];u.push(ss(ve,A,Ee,r,i))}else{var oe=!1;for(h=0;h!=r.arrayf.length;++h)if(d=r.arrayf[h],!(x.c<d[0].s.c||x.c>d[0].e.c)&&!(x.r<d[0].s.r||x.r>d[0].e.r)){u.push(ss(d[1],A,Ee,r,i)),oe=!0;break}oe||u.push(Q[1])}break;case"PtgArray":u.push("{"+GP(Q[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":R=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+Q[1].idx+"[#"+Q[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Q));default:throw new Error("Unrecognized Formula Token: "+String(Q))}var je=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&R>=0&&je.indexOf(t[0][j][0])==-1){Q=t[0][R];var Be=!0;switch(Q[1][0]){case 4:Be=!1;case 0:k=jr(" ",Q[1][1]);break;case 5:Be=!1;case 1:k=jr("\r",Q[1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Q[1][0])}u.push((Be?k:"")+u.pop()+(Be?"":k)),R=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function WP(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,A=t.read_shift(i);if(A==65535)return[[],us(t,e-2)];var u=Gf(t,A,n);return e!==A+i&&(s=jf(t,e-A-i,u,n)),t.l=r,[u,s]}function XP(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,A=t.read_shift(i);if(A==65535)return[[],us(t,e-2)];var u=Gf(t,A,n);return e!==A+i&&(s=jf(t,e-A-i,u,n)),t.l=r,[u,s]}function qP(t,e,n,r){var i=t.l+e,s=Gf(t,r,n),A;return i!==t.l&&(A=jf(t,i-t.l,s,n)),[s,A]}function YP(t,e,n){var r=t.l+e,i,s=t.read_shift(2),A=Gf(t,s,n);return s==65535?[[],us(t,e-2)]:(e!==s+2&&(i=jf(t,r-s-2,A,n)),[A,i])}function JP(t){var e;if(nA(t,t.l+6)!==65535)return[os(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ox(t,e,n){var r=t.l+e,i=bo(t);n.biff==2&&++t.l;var s=JP(t),A=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var u=XP(t,r-t.l,n);return{cell:i,val:s[0],formula:u,shared:A>>3&1,tt:s[1]}}function hg(t,e,n){var r=t.read_shift(4),i=Gf(t,r,n),s=t.read_shift(4),A=s>0?jf(t,s,i,n):null;return[i,A]}var ZP=hg,gg=hg,$P=hg,eH=hg,tH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},o3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function I_(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Ax(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var lf={},vu={};function cf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function A3(t,e,n,r,i,s){try{r.cellNF&&(t.z=pn[e])}catch(u){if(r.WTF)throw u}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Si(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(pn[e]==null&&$l(rO[e]||"General",e),t.t==="e")t.w=t.w||gc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v);else if(t.t==="d"){var A=Ts(t.v);(A|0)===A?t.w=A.toString(10):t.w=yf(A)}else{if(t.v===void 0)return"";t.w=rc(t.v,vu)}else t.t==="d"?t.w=Oa(e,Ts(t.v),vu):t.w=Oa(e,t.v,vu)}catch(u){if(r.WTF)throw u}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=I1(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=I1(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(u){if(r.WTF&&s.Fills)throw u}}}function rH(t,e){var n=Gr(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=kn(n))}var iH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,aH=/<(?:\w:)?hyperlink [^>]*>/mg,oH=/"(\w*:\w*)"/,AH=/<(?:\w:)?col\b[^>]*[\/]?>/g,lH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cH=/<(?:\w:)?pageMargins[^>]*\/>/g,l3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dH(t,e,n,r,i,s,A){if(!t)return t;r||(r={"!id":{}});var u=e.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",x="",C=t.match(sH);C?(d=t.slice(0,C.index),x=t.slice(C.index+C[0].length)):d=x=t;var _=d.match(l3);_?Cw(_[0],u,i,n):(_=d.match(uH))&&hH(_[0],_[1]||"",u,i,n);var N=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(N>0){var D=d.slice(N,N+50).match(oH);D&&rH(u,D[1])}var R=d.match(fH);R&&R[1]&&vH(R[1],i);var k=[];if(e.cellStyles){var j=d.match(AH);j&&mH(k,j)}C&&yH(C[1],u,e,h,s,A);var K=x.match(lH);K&&(u["!autofilter"]=xH(K[0]));var Q=[],ne=x.match(iH);if(ne)for(N=0;N!=ne.length;++N)Q[N]=Gr(ne[N].slice(ne[N].indexOf('"')+1));var ae=x.match(aH);ae&&gH(u,ae,r);var ee=x.match(cH);if(ee&&(u["!margins"]=pH(Jt(ee[0]))),!u["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(u["!ref"]=kn(h)),e.sheetRows>0&&u["!ref"]){var M=Gr(u["!ref"]);e.sheetRows<=+M.e.r&&(M.e.r=e.sheetRows-1,M.e.r>h.e.r&&(M.e.r=h.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>h.e.c&&(M.e.c=h.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),u["!fullref"]=u["!ref"],u["!ref"]=kn(M))}return k.length>0&&(u["!cols"]=k),Q.length>0&&(u["!merges"]=Q),u}function Cw(t,e,n,r){var i=Jt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Qn(mr(i.codeName)))}function hH(t,e,n,r,i){Cw(t.slice(0,t.indexOf(">")),n,r,i)}function gH(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Jt(mr(e[i]),!0);if(!s.ref)return;var A=((n||{})["!id"]||[])[s.id];A?(s.Target=A.Target,s.location&&(s.Target+="#"+Qn(s.location))):(s.Target="#"+Qn(s.location),A={Target:s.Target,TargetMode:"Internal"}),s.Rel=A,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var u=Gr(s.ref),h=u.s.r;h<=u.e.r;++h)for(var d=u.s.c;d<=u.e.c;++d){var x=An({c:d,r:h});r?(t[h]||(t[h]=[]),t[h][d]||(t[h][d]={t:"z",v:void 0}),t[h][d].l=s):(t[x]||(t[x]={t:"z",v:void 0}),t[x].l=s)}}}function pH(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function mH(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Jt(e[r],!0);i.hidden&&(i.hidden=Tr(i.hidden));var s=parseInt(i.min,10)-1,A=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,vw(i.width)),Tu(i);s<=A;)t[s++]=Gi(i)}}function xH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var wH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vH(t,e){e.Views||(e.Views=[{}]),(t.match(wH)||[]).forEach(function(n,r){var i=Jt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Tr(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var yH=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Cf("v"),A=Cf("f");return function(h,d,x,C,_,N){for(var D=0,R="",k=[],j=[],K=0,Q=0,ne=0,ae="",ee,M,H=0,O=0,z,J,W=0,X=0,Me=Array.isArray(N.CellXf),Ee,ve=[],oe=[],je=Array.isArray(d),Be=[],Ze={},me=!1,Z=!!x.sheetStubs,ge=h.split(e),le=0,ue=ge.length;le!=ue;++le){R=ge[le].trim();var xe=R.length;if(xe!==0){var Ye=0;e:for(D=0;D<xe;++D)switch(R[D]){case">":if(R[D-1]!="/"){++D;break e}if(x&&x.cellStyles){if(M=Jt(R.slice(Ye,D),!0),H=M.r!=null?parseInt(M.r,10):H+1,O=-1,x.sheetRows&&x.sheetRows<H)continue;Ze={},me=!1,M.ht&&(me=!0,Ze.hpt=parseFloat(M.ht),Ze.hpx=Tf(Ze.hpt)),M.hidden=="1"&&(me=!0,Ze.hidden=!0),M.outlineLevel!=null&&(me=!0,Ze.level=+M.outlineLevel),me&&(Be[H-1]=Ze)}break;case"<":Ye=D;break}if(Ye>=D)break;if(M=Jt(R.slice(Ye,D),!0),H=M.r!=null?parseInt(M.r,10):H+1,O=-1,!(x.sheetRows&&x.sheetRows<H)){C.s.r>H-1&&(C.s.r=H-1),C.e.r<H-1&&(C.e.r=H-1),x&&x.cellStyles&&(Ze={},me=!1,M.ht&&(me=!0,Ze.hpt=parseFloat(M.ht),Ze.hpx=Tf(Ze.hpt)),M.hidden=="1"&&(me=!0,Ze.hidden=!0),M.outlineLevel!=null&&(me=!0,Ze.level=+M.outlineLevel),me&&(Be[H-1]=Ze)),k=R.slice(D).split(t);for(var Ne=0;Ne!=k.length&&k[Ne].trim().charAt(0)=="<";++Ne);for(k=k.slice(Ne),D=0;D!=k.length;++D)if(R=k[D].trim(),R.length!==0){if(j=R.match(n),K=D,Q=0,ne=0,R="<c "+(R.slice(0,1)=="<"?">":"")+R,j!=null&&j.length===2){for(K=0,ae=j[1],Q=0;Q!=ae.length&&!((ne=ae.charCodeAt(Q)-64)<1||ne>26);++Q)K=26*K+ne;--K,O=K}else++O;for(Q=0;Q!=R.length&&R.charCodeAt(Q)!==62;++Q);if(++Q,M=Jt(R.slice(0,Q),!0),M.r||(M.r=An({r:H-1,c:O})),ae=R.slice(Q),ee={t:""},(j=ae.match(s))!=null&&j[1]!==""&&(ee.v=Qn(j[1])),x.cellFormula){if((j=ae.match(A))!=null&&j[1]!==""){if(ee.f=Qn(mr(j[1])).replace(/\r\n/g,`
`),x.xlfn||(ee.f=__(ee.f)),j[0].indexOf('t="array"')>-1)ee.F=(ae.match(i)||[])[1],ee.F.indexOf(":")>-1&&ve.push([Gr(ee.F),ee.F]);else if(j[0].indexOf('t="shared"')>-1){J=Jt(j[0]);var _e=Qn(mr(j[1]));x.xlfn||(_e=__(_e)),oe[parseInt(J.si,10)]=[J,_e,M.r]}}else(j=ae.match(/<f[^>]*\/>/))&&(J=Jt(j[0]),oe[J.si]&&(ee.f=R7(oe[J.si][1],oe[J.si][2],M.r)));var Oe=Es(M.r);for(Q=0;Q<ve.length;++Q)Oe.r>=ve[Q][0].s.r&&Oe.r<=ve[Q][0].e.r&&Oe.c>=ve[Q][0].s.c&&Oe.c<=ve[Q][0].e.c&&(ee.F=ve[Q][1])}if(M.t==null&&ee.v===void 0)if(ee.f||ee.F)ee.v=0,ee.t="n";else if(Z)ee.t="z";else continue;else ee.t=M.t||"n";switch(C.s.c>O&&(C.s.c=O),C.e.c<O&&(C.e.c=O),ee.t){case"n":if(ee.v==""||ee.v==null){if(!Z)continue;ee.t="z"}else ee.v=parseFloat(ee.v);break;case"s":if(typeof ee.v>"u"){if(!Z)continue;ee.t="z"}else z=lf[parseInt(ee.v,10)],ee.v=z.t,ee.r=z.r,x.cellHTML&&(ee.h=z.h);break;case"str":ee.t="s",ee.v=ee.v!=null?mr(ee.v):"",x.cellHTML&&(ee.h=lw(ee.v));break;case"inlineStr":j=ae.match(r),ee.t="s",j!=null&&(z=ww(j[1]))?(ee.v=z.t,x.cellHTML&&(ee.h=z.h)):ee.v="";break;case"b":ee.v=Tr(ee.v);break;case"d":x.cellDates?ee.v=Si(ee.v,1):(ee.v=Ts(Si(ee.v,1)),ee.t="n");break;case"e":(!x||x.cellText!==!1)&&(ee.w=ee.v),ee.v=NI[ee.v];break}if(W=X=0,Ee=null,Me&&M.s!==void 0&&(Ee=N.CellXf[M.s],Ee!=null&&(Ee.numFmtId!=null&&(W=Ee.numFmtId),x.cellStyles&&Ee.fillId!=null&&(X=Ee.fillId))),A3(ee,W,X,x,_,N),x.cellDates&&Me&&ee.t=="n"&&ku(pn[W])&&(ee.t="d",ee.v=fg(ee.v)),M.cm&&x.xlmeta){var yt=(x.xlmeta.Cell||[])[+M.cm-1];yt&&yt.type=="XLDAPR"&&(ee.D=!0)}if(je){var pe=Es(M.r);d[pe.r]||(d[pe.r]=[]),d[pe.r][pe.c]=ee}else d[M.r]=ee}}}}Be.length>0&&(d["!rows"]=Be)}})();function CH(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var EH=hc;function BH(){}function _H(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=WO(t),n}function TH(t){var e=Qa(t);return[e]}function bH(t){var e=dc(t);return[e]}function SH(t){var e=Qa(t),n=t.read_shift(1);return[e,n,"b"]}function IH(t){var e=dc(t),n=t.read_shift(1);return[e,n,"b"]}function NH(t){var e=Qa(t),n=t.read_shift(1);return[e,n,"e"]}function FH(t){var e=dc(t),n=t.read_shift(1);return[e,n,"e"]}function RH(t){var e=Qa(t),n=t.read_shift(4);return[e,n,"s"]}function DH(t){var e=dc(t),n=t.read_shift(4);return[e,n,"s"]}function UH(t){var e=Qa(t),n=os(t);return[e,n,"n"]}function c3(t){var e=dc(t),n=os(t);return[e,n,"n"]}function kH(t){var e=Qa(t),n=pw(t);return[e,n,"n"]}function MH(t){var e=dc(t),n=pw(t);return[e,n,"n"]}function OH(t){var e=Qa(t),n=hw(t);return[e,n,"is"]}function LH(t){var e=Qa(t),n=cs(t);return[e,n,"str"]}function QH(t){var e=dc(t),n=cs(t);return[e,n,"str"]}function PH(t,e,n){var r=t.l+e,i=Qa(t);i.r=n["!row"];var s=t.read_shift(1),A=[i,s,"b"];if(n.cellFormula){t.l+=2;var u=gg(t,r-t.l,n);A[3]=ss(u,null,i,n.supbooks,n)}else t.l=r;return A}function HH(t,e,n){var r=t.l+e,i=Qa(t);i.r=n["!row"];var s=t.read_shift(1),A=[i,s,"e"];if(n.cellFormula){t.l+=2;var u=gg(t,r-t.l,n);A[3]=ss(u,null,i,n.supbooks,n)}else t.l=r;return A}function VH(t,e,n){var r=t.l+e,i=Qa(t);i.r=n["!row"];var s=os(t),A=[i,s,"n"];if(n.cellFormula){t.l+=2;var u=gg(t,r-t.l,n);A[3]=ss(u,null,i,n.supbooks,n)}else t.l=r;return A}function jH(t,e,n){var r=t.l+e,i=Qa(t);i.r=n["!row"];var s=cs(t),A=[i,s,"str"];if(n.cellFormula){t.l+=2;var u=gg(t,r-t.l,n);A[3]=ss(u,null,i,n.supbooks,n)}else t.l=r;return A}var GH=hc;function KH(t,e){var n=t.l+e,r=hc(t),i=gw(t),s=cs(t),A=cs(t),u=cs(t);t.l=n;var h={rfx:r,relId:i,loc:s,display:u};return A&&(h.Tooltip=A),h}function zH(){}function WH(t,e,n){var r=t.l+e,i=bI(t),s=t.read_shift(1),A=[i];if(A[2]=s,n.cellFormula){var u=ZP(t,r-t.l,n);A[1]=u}else t.l=r;return A}function XH(t,e,n){var r=t.l+e,i=hc(t),s=[i];if(n.cellFormula){var A=eH(t,r-t.l,n);s[1]=A,t.l=r}else t.l=r;return s}var qH=["left","right","top","bottom","header","footer"];function YH(t){var e={};return qH.forEach(function(n){e[n]=os(t)}),e}function JH(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ZH(){}function $H(){}function eV(t,e,n,r,i,s,A){if(!t)return t;var u=e||{};r||(r={"!id":{}});var h=u.dense?[]:{},d,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=!1,_=!1,N,D,R,k,j,K,Q,ne,ae,ee=[];u.biff=12,u["!row"]=0;var M=0,H=!1,O=[],z={},J=u.supbooks||i.supbooks||[[]];if(J.sharedf=z,J.arrayf=O,J.SheetNames=i.SheetNames||i.Sheets.map(function(je){return je.name}),!u.supbooks&&(u.supbooks=J,i.Names))for(var W=0;W<i.Names.length;++W)J[0][W+1]=i.Names[W];var X=[],Me=[],Ee=!1;R1[16]={n:"BrtShortReal",f:c3};var ve;if(dA(t,function(Be,Ze,me){if(!_)switch(me){case 148:d=Be;break;case 0:N=Be,u.sheetRows&&u.sheetRows<=N.r&&(_=!0),ne=Ki(k=N.r),u["!row"]=N.r,(Be.hidden||Be.hpt||Be.level!=null)&&(Be.hpt&&(Be.hpx=Tf(Be.hpt)),Me[Be.r]=Be);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(D={t:Be[2]},Be[2]){case"n":D.v=Be[1];break;case"s":Q=lf[Be[1]],D.v=Q.t,D.r=Q.r;break;case"b":D.v=!!Be[1];break;case"e":D.v=Be[1],u.cellText!==!1&&(D.w=gc[D.v]);break;case"str":D.t="s",D.v=Be[1];break;case"is":D.t="s",D.v=Be[1].t;break}if((R=A.CellXf[Be[0].iStyleRef])&&A3(D,R.numFmtId,null,u,s,A),j=Be[0].c==-1?j+1:Be[0].c,u.dense?(h[k]||(h[k]=[]),h[k][j]=D):h[mi(j)+ne]=D,u.cellFormula){for(H=!1,M=0;M<O.length;++M){var Z=O[M];N.r>=Z[0].s.r&&N.r<=Z[0].e.r&&j>=Z[0].s.c&&j<=Z[0].e.c&&(D.F=kn(Z[0]),H=!0)}!H&&Be.length>3&&(D.f=Be[3])}if(x.s.r>N.r&&(x.s.r=N.r),x.s.c>j&&(x.s.c=j),x.e.r<N.r&&(x.e.r=N.r),x.e.c<j&&(x.e.c=j),u.cellDates&&R&&D.t=="n"&&ku(pn[R.numFmtId])){var ge=Xl(D.v);ge&&(D.t="d",D.v=new Date(ge.y,ge.m-1,ge.d,ge.H,ge.M,ge.S,ge.u))}ve&&(ve.type=="XLDAPR"&&(D.D=!0),ve=void 0);break;case 1:case 12:if(!u.sheetStubs||C)break;D={t:"z",v:void 0},j=Be[0].c==-1?j+1:Be[0].c,u.dense?(h[k]||(h[k]=[]),h[k][j]=D):h[mi(j)+ne]=D,x.s.r>N.r&&(x.s.r=N.r),x.s.c>j&&(x.s.c=j),x.e.r<N.r&&(x.e.r=N.r),x.e.c<j&&(x.e.c=j),ve&&(ve.type=="XLDAPR"&&(D.D=!0),ve=void 0);break;case 176:ee.push(Be);break;case 49:ve=((u.xlmeta||{}).Cell||[])[Be-1];break;case 494:var le=r["!id"][Be.relId];for(le?(Be.Target=le.Target,Be.loc&&(Be.Target+="#"+Be.loc),Be.Rel=le):Be.relId==""&&(Be.Target="#"+Be.loc),k=Be.rfx.s.r;k<=Be.rfx.e.r;++k)for(j=Be.rfx.s.c;j<=Be.rfx.e.c;++j)u.dense?(h[k]||(h[k]=[]),h[k][j]||(h[k][j]={t:"z",v:void 0}),h[k][j].l=Be):(K=An({c:j,r:k}),h[K]||(h[K]={t:"z",v:void 0}),h[K].l=Be);break;case 426:if(!u.cellFormula)break;O.push(Be),ae=u.dense?h[k][j]:h[mi(j)+ne],ae.f=ss(Be[1],x,{r:N.r,c:j},J,u),ae.F=kn(Be[0]);break;case 427:if(!u.cellFormula)break;z[An(Be[0].s)]=Be[1],ae=u.dense?h[k][j]:h[mi(j)+ne],ae.f=ss(Be[1],x,{r:N.r,c:j},J,u);break;case 60:if(!u.cellStyles)break;for(;Be.e>=Be.s;)X[Be.e--]={width:Be.w/256,hidden:!!(Be.flags&1),level:Be.level},Ee||(Ee=!0,vw(Be.w/256)),Tu(X[Be.e+1]);break;case 161:h["!autofilter"]={ref:kn(Be)};break;case 476:h["!margins"]=Be;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),Be.name&&(i.Sheets[n].CodeName=Be.name),(Be.above||Be.left)&&(h["!outline"]={above:Be.above,left:Be.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Be.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:C=!0;break;case 36:C=!1;break;case 37:C=!0;break;case 38:C=!1;break;default:if(!Ze.T){if(!C||u.WTF)throw new Error("Unexpected record 0x"+me.toString(16))}}},u),delete u.supbooks,delete u["!row"],!h["!ref"]&&(x.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(h["!ref"]=kn(d||x)),u.sheetRows&&h["!ref"]){var oe=Gr(h["!ref"]);u.sheetRows<=+oe.e.r&&(oe.e.r=u.sheetRows-1,oe.e.r>x.e.r&&(oe.e.r=x.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>x.e.c&&(oe.e.c=x.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),h["!fullref"]=h["!ref"],h["!ref"]=kn(oe))}return ee.length>0&&(h["!merges"]=ee),X.length>0&&(h["!cols"]=X),Me.length>0&&(h["!rows"]=Me),h}function tV(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var A=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);A&&(e[+A[1]]=n?+A[2]:A[2])});var i=Qn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function nV(t,e,n,r,i,s){var A=s||{"!type":"chart"};if(!t)return s;var u=0,h=0,d="A",x={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(C){var _=tV(C);x.s.r=x.s.c=0,x.e.c=u,d=mi(u),_[0].forEach(function(N,D){A[d+Ki(D)]={t:"n",v:N,z:_[1]},h=D}),x.e.r<h&&(x.e.r=h),++u}),u>0&&(A["!ref"]=kn(x)),A}function rV(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},A,u=t.match(l3);return u&&Cw(u[0],s,i,n),(A=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=A[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function iV(t,e){t.l+=10;var n=cs(t);return{name:n}}function sV(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},A=!1;return dA(t,function(h,d,x){switch(x){case 550:s["!rel"]=h;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),h.name&&(i.Sheets[n].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:A=!0;break;case 36:A=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!A||e.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var u3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],aV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],oV=[],AV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function N_(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Tr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function F_(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Tr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function f3(t){F_(t.WBProps,u3),F_(t.CalcPr,AV),N_(t.WBView,aV),N_(t.Sheets,oV),vu.date1904=Tr(t.WBProps.date1904)}var lV="][*?/\\".split("");function cV(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return lV.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var uV=/<\w+:workbook/;function fV(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},A=0;if(t.replace(fs,function(h,d){var x=Jt(h);switch(To(x[0])){case"<?xml":break;case"<workbook":h.match(uV)&&(i="xmlns"+h.match(/<(\w+):/)[1]),n.xmlns=x[i];break;case"</workbook>":break;case"<fileVersion":delete x[0],n.AppVersion=x;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":u3.forEach(function(C){if(x[C[0]]!=null)switch(C[2]){case"bool":n.WBProps[C[0]]=Tr(x[C[0]]);break;case"int":n.WBProps[C[0]]=parseInt(x[C[0]],10);break;default:n.WBProps[C[0]]=x[C[0]]}}),x.codeName&&(n.WBProps.CodeName=mr(x.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete x[0],n.WBView.push(x);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(x.state){case"hidden":x.Hidden=1;break;case"veryHidden":x.Hidden=2;break;default:x.Hidden=0}delete x.state,x.name=Qn(mr(x.name)),delete x[0],n.Sheets.push(x);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=mr(x.name),x.comment&&(s.Comment=x.comment),x.localSheetId&&(s.Sheet=+x.localSheetId),Tr(x.hidden||"0")&&(s.Hidden=!0),A=d+h.length;break;case"</definedName>":s.Ref=Qn(mr(t.slice(A,d))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete x[0],n.CalcPr=x;break;case"<calcPr/>":delete x[0],n.CalcPr=x;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+x[0]+" in workbook")}return h}),NO.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return f3(n),n}function dV(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=$x(t),n.name=cs(t),n}function hV(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?cs(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function gV(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function pV(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=XO(t),A=$P(t,0,n),u=gw(t);t.l=r;var h={Name:s,Ptg:A};return i<268435455&&(h.Sheet=i),u&&(h.Comment=u),h}function mV(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],A=[[]];return A.SheetNames=[],A.XTI=[],R1[16]={n:"BrtFRTArchID$",f:gV},dA(t,function(h,d,x){switch(x){case 156:A.SheetNames.push(h.name),n.Sheets.push(h);break;case 153:n.WBProps=h;break;case 39:h.Sheet!=null&&(e.SID=h.Sheet),h.Ref=ss(h.Ptg,null,null,A,e),delete e.SID,delete h.Ptg,s.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:A[0].length?A.push([x,h]):A[0]=[x,h],A[A.length-1].XTI=[];break;case 362:A.length===0&&(A[0]=[],A[0].XTI=[]),A[A.length-1].XTI=A[A.length-1].XTI.concat(h),A.XTI=A.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(x),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(x),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}},e),f3(n),n.Names=s,n.supbooks=A,n}function xV(t,e,n){return e.slice(-4)===".bin"?mV(t,n):fV(t,n)}function wV(t,e,n,r,i,s,A,u){return e.slice(-4)===".bin"?eV(t,r,n,i,s,A,u):dH(t,r,n,i,s,A,u)}function vV(t,e,n,r,i,s,A,u){return e.slice(-4)===".bin"?sV(t,r,n,i,s):rV(t,r,n,i,s)}function yV(t,e,n,r,i,s,A,u){return e.slice(-4)===".bin"?I7():N7()}function CV(t,e,n,r,i,s,A,u){return e.slice(-4)===".bin"?b7():S7()}function EV(t,e,n,r){return e.slice(-4)===".bin"?GQ(t,n,r):LQ(t,n,r)}function BV(t,e,n){return ZI(t,n)}function _V(t,e,n){return e.slice(-4)===".bin"?aQ(t,n):iQ(t,n)}function TV(t,e,n){return e.slice(-4)===".bin"?B7(t,n):w7(t,n)}function bV(t,e,n){return e.slice(-4)===".bin"?p7(t):h7(t)}function SV(t,e,n,r){return n.slice(-4)===".bin"?m7(t,e,n,r):void 0}function IV(t,e,n){return e.slice(-4)===".bin"?f7(t,e,n):d7(t,e,n)}var d3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,h3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wa(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(d3),s,A,u,h;if(i)for(h=0;h!=i.length;++h)s=i[h].match(h3),(A=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?u="xmlns"+s[1].slice(6):u=s[1].slice(A+1),r[u]=s[2].slice(1,s[2].length-1));return r}function NV(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(d3),i,s,A,u;if(r)for(u=0;u!=r.length;++u)i=r[u].match(h3),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?A="xmlns"+i[1].slice(6):A=i[1].slice(s+1),n[A]=i[2].slice(1,i[2].length-1));return n}var uf;function FV(t,e){var n=uf[t]||Qn(t);return n==="General"?rc(e):Oa(n,e)}function RV(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Tr(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Si(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Qn(e)]=i}function DV(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||gc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=rc(t.v):t.w=FV(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=uf[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&ku(r)){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function UV(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=RQ[r.Pattern]||r.Pattern)}t[e.ID]=e}function kV(t,e,n,r,i,s,A,u,h,d){var x="General",C=r.StyleID,_={};d=d||{};var N=[],D=0;for(C===void 0&&u&&(C=u.StyleID),C===void 0&&A&&(C=A.StyleID);s[C]!==void 0&&(s[C].nf&&(x=s[C].nf),s[C].Interior&&N.push(s[C].Interior),!!s[C].Parent);)C=s[C].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Tr(t);break;case"String":r.t="s",r.r=$B(Qn(t)),r.v=t.indexOf("<")>-1?Qn(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(Si(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Qn(t):r.v<60&&(r.v=r.v-1),(!x||x=="General")&&(x="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=NI[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=$B(e||t));break}if(DV(r,x,d),d.cellFormula!==!1)if(r.Formula){var R=Qn(r.Formula);R.charCodeAt(0)==61&&(R=R.slice(1)),r.f=wu(R,i),delete r.Formula,r.ArrayRange=="RC"?r.F=wu("RC:RC",i):r.ArrayRange&&(r.F=wu(r.ArrayRange,i),h.push([Gr(r.F),r.F]))}else for(D=0;D<h.length;++D)i.r>=h[D][0].s.r&&i.r<=h[D][0].e.r&&i.c>=h[D][0].s.c&&i.c<=h[D][0].e.c&&(r.F=h[D][1]);d.cellStyles&&(N.forEach(function(k){!_.patternType&&k.patternType&&(_.patternType=k.patternType)}),r.s=_),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function MV(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function lx(t,e){var n=e||{};nI();var r=H0(cw(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=mr(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var A=Gi(n);return A.type="string",Bf.to_workbook(r,A)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(gt){i.indexOf("<"+gt)>=0&&(s=!0)}),s)return KV(r,n);uf={"General Number":"General","General Date":pn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":pn[15],"Short Date":pn[14],"Long Time":pn[19],"Medium Time":pn[18],"Short Time":pn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:pn[2],Standard:pn[4],Percent:pn[10],Scientific:pn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,h=[],d,x={},C=[],_=n.dense?[]:{},N="",D={},R={},k=Wa('<Data ss:Type="String">'),j=0,K=0,Q=0,ne={s:{r:2e6,c:2e6},e:{r:0,c:0}},ae={},ee={},M="",H=0,O=[],z={},J={},W=0,X=[],Me=[],Ee={},ve=[],oe,je=!1,Be=[],Ze=[],me={},Z=0,ge=0,le={Sheets:[],WBProps:{date1904:!1}},ue={};Ef.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var xe="";u=Ef.exec(r);)switch(u[3]=(xe=u[3]).toLowerCase()){case"data":if(xe=="data"){if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break}if(h[h.length-1][1])break;u[1]==="/"?kV(r.slice(j,u.index),M,k,h[h.length-1][0]=="comment"?Ee:D,{c:K,r:Q},ae,ve[K],R,Be,n):(M="",k=Wa(u[0]),j=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Me.length>0&&(D.c=Me),(!n.sheetRows||n.sheetRows>Q)&&D.v!==void 0&&(n.dense?(_[Q]||(_[Q]=[]),_[Q][K]=D):_[mi(K)+Ki(Q)]=D),D.HRef&&(D.l={Target:Qn(D.HRef)},D.HRefScreenTip&&(D.l.Tooltip=D.HRefScreenTip),delete D.HRef,delete D.HRefScreenTip),(D.MergeAcross||D.MergeDown)&&(Z=K+(parseInt(D.MergeAcross,10)|0),ge=Q+(parseInt(D.MergeDown,10)|0),O.push({s:{c:K,r:Q},e:{c:Z,r:ge}})),!n.sheetStubs)D.MergeAcross?K=Z+1:++K;else if(D.MergeAcross||D.MergeDown){for(var Ye=K;Ye<=Z;++Ye)for(var Ne=Q;Ne<=ge;++Ne)(Ye>K||Ne>Q)&&(n.dense?(_[Ne]||(_[Ne]=[]),_[Ne][Ye]={t:"z"}):_[mi(Ye)+Ki(Ne)]={t:"z"});K=Z+1}else++K;else D=NV(u[0]),D.Index&&(K=+D.Index-1),K<ne.s.c&&(ne.s.c=K),K>ne.e.c&&(ne.e.c=K),u[0].slice(-2)==="/>"&&++K,Me=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(Q<ne.s.r&&(ne.s.r=Q),Q>ne.e.r&&(ne.e.r=Q),u[0].slice(-2)==="/>"&&(R=Wa(u[0]),R.Index&&(Q=+R.Index-1)),K=0,++Q):(R=Wa(u[0]),R.Index&&(Q=+R.Index-1),me={},(R.AutoFitHeight=="0"||R.Height)&&(me.hpx=parseInt(R.Height,10),me.hpt=JI(me.hpx),Ze[Q]=me),R.Hidden=="1"&&(me.hidden=!0,Ze[Q]=me));break;case"worksheet":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"));C.push(N),ne.s.r<=ne.e.r&&ne.s.c<=ne.e.c&&(_["!ref"]=kn(ne),n.sheetRows&&n.sheetRows<=ne.e.r&&(_["!fullref"]=_["!ref"],ne.e.r=n.sheetRows-1,_["!ref"]=kn(ne))),O.length&&(_["!merges"]=O),ve.length>0&&(_["!cols"]=ve),Ze.length>0&&(_["!rows"]=Ze),x[N]=_}else ne={s:{r:2e6,c:2e6},e:{r:0,c:0}},Q=K=0,h.push([u[3],!1]),d=Wa(u[0]),N=Qn(d.Name),_=n.dense?[]:{},O=[],Be=[],Ze=[],ue={name:N,Hidden:0},le.Sheets.push(ue);break;case"table":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else{if(u[0].slice(-2)=="/>")break;h.push([u[3],!1]),ve=[],je=!1}break;case"style":u[1]==="/"?UV(ae,ee,n):ee=Wa(u[0]);break;case"numberformat":ee.nf=Qn(Wa(u[0]).Format||"General"),uf[ee.nf]&&(ee.nf=uf[ee.nf]);for(var _e=0;_e!=392&&pn[_e]!=ee.nf;++_e);if(_e==392){for(_e=57;_e!=392;++_e)if(pn[_e]==null){$l(ee.nf,_e);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(oe=Wa(u[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!je&&oe.wpx>10){je=!0,Cs=qI;for(var Oe=0;Oe<ve.length;++Oe)ve[Oe]&&Tu(ve[Oe])}je&&Tu(oe),ve[oe.Index-1||ve.length]=oe;for(var yt=0;yt<+oe.Span;++yt)ve[ve.length]=Gi(oe);break;case"namedrange":if(u[1]==="/")break;le.Names||(le.Names=[]);var pe=Jt(u[0]),St={Name:pe.Name,Ref:wu(pe.RefersTo.slice(1),{r:0,c:0})};le.Sheets.length>0&&(St.Sheet=le.Sheets.length-1),le.Names.push(St);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?M+=r.slice(H,u.index):H=u.index+u[0].length;break;case"interior":if(!n.cellStyles)break;ee.Interior=Wa(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?wL(z,xe,r.slice(W,u.index)):W=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else h.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"));MV(Ee),Me.push(Ee)}else h.push([u[3],!1]),d=Wa(u[0]),Ee={a:d.Author};break;case"autofilter":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var kt=Wa(u[0]);_["!autofilter"]={ref:wu(kt.Range).replace(/\$/g,"")},h.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((d=h.pop())[0]!==u[3])throw new Error("Bad state: "+d.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&h.push([u[3],!0]);break;case"null":break;default:if(h.length==0&&u[3]=="document"||h.length==0&&u[3]=="uof")return O_(r,n);var Lt=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Lt=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Lt=!1}break;case"excelworkbook":switch(u[3]){case"date1904":le.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Lt=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:Lt=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(r.slice(W,u.index)){case"SheetHidden":ue.Hidden=1;break;case"SheetVeryHidden":ue.Hidden=2;break}else W=u.index+u[0].length;break;case"header":_["!margins"]||cf(_["!margins"]={},"xlml"),isNaN(+Jt(u[0]).Margin)||(_["!margins"].header=+Jt(u[0]).Margin);break;case"footer":_["!margins"]||cf(_["!margins"]={},"xlml"),isNaN(+Jt(u[0]).Margin)||(_["!margins"].footer=+Jt(u[0]).Margin);break;case"pagemargins":var Fe=Jt(u[0]);_["!margins"]||cf(_["!margins"]={},"xlml"),isNaN(+Fe.Top)||(_["!margins"].top=+Fe.Top),isNaN(+Fe.Left)||(_["!margins"].left=+Fe.Left),isNaN(+Fe.Right)||(_["!margins"].right=+Fe.Right),isNaN(+Fe.Bottom)||(_["!margins"].bottom=+Fe.Bottom);break;case"displayrighttoleft":le.Views||(le.Views=[]),le.Views[0]||(le.Views[0]={}),le.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Lt=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Lt=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Lt=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Lt=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Lt=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Lt=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Lt=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Lt=!1}break;case"smarttags":break;default:Lt=!1;break}if(Lt||u[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?RV(J,xe,X,r.slice(W,u.index)):(X=u,W=u.index+u[0].length);break}if(n.WTF)throw"Unrecognized tag: "+u[3]+"|"+h.join("|")}var Ue={};return!n.bookSheets&&!n.bookProps&&(Ue.Sheets=x),Ue.SheetNames=C,Ue.Workbook=le,Ue.SSF=Gi(pn),Ue.Props=z,Ue.Custprops=J,Ue}function r2(t,e){switch(_w(e=e||{}),e.type||"base64"){case"base64":return lx(ha(t),e);case"binary":case"buffer":case"file":return lx(t,e);case"array":return lx(fc(t),e)}}function OV(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=JO(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=ZO(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var LV=[60,1084,2066,2165,2175];function QV(t,e,n,r,i){var s=r,A=[],u=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}A.push(u),n.l+=s;for(var h=nA(n,n.l),d=i2[h],x=0;d!=null&&LV.indexOf(h)>-1;)s=nA(n,n.l+2),x=n.l+4,h==2066?x+=4:(h==2165||h==2175)&&(x+=12),u=n.slice(x,n.l+4+s),A.push(u),n.l+=4+s,d=i2[h=nA(n,n.l)];var C=WA(A);Hi(C,0);var _=0;C.lens=[];for(var N=0;N<A.length;++N)C.lens.push(_),_+=A[N].length;if(C.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+C.length+" < "+r;return e.f(C,C.length,i)}function mo(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=pn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||gc[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yf(t.v):t.w=rc(t.v):t.w=Oa(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&ku(pn[r]||String(r))){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Lh(t,e,n){return{v:t,ixfe:e,t:n}}function PV(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},A={},u=null,h=[],d="",x={},C,_="",N,D,R,k,j={},K=[],Q,ne,ae=[],ee=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},H={},O=function(tt){return tt<8?ec[tt]:tt<64&&ee[tt-8]||ec[tt]},z=function(tt,we,Ge){var st=we.XF.data;if(!(!st||!st.patternType||!Ge||!Ge.cellStyles)){we.s={},we.s.patternType=st.patternType;var De;(De=_f(O(st.icvFore)))&&(we.s.fgColor={rgb:De}),(De=_f(O(st.icvBack)))&&(we.s.bgColor={rgb:De})}},J=function(tt,we,Ge){if(!(me>1)&&!(Ge.sheetRows&&tt.r>=Ge.sheetRows)){if(Ge.cellStyles&&we.XF&&we.XF.data&&z(tt,we,Ge),delete we.ixfe,delete we.XF,C=tt,_=An(tt),(!A||!A.s||!A.e)&&(A={s:{r:0,c:0},e:{r:0,c:0}}),tt.r<A.s.r&&(A.s.r=tt.r),tt.c<A.s.c&&(A.s.c=tt.c),tt.r+1>A.e.r&&(A.e.r=tt.r+1),tt.c+1>A.e.c&&(A.e.c=tt.c+1),Ge.cellFormula&&we.f){for(var st=0;st<K.length;++st)if(!(K[st][0].s.c>tt.c||K[st][0].s.r>tt.r)&&!(K[st][0].e.c<tt.c||K[st][0].e.r<tt.r)){we.F=kn(K[st][0]),(K[st][0].s.c!=tt.c||K[st][0].s.r!=tt.r)&&delete we.f,we.f&&(we.f=""+ss(K[st][1],A,tt,Be,W));break}}Ge.dense?(i[tt.r]||(i[tt.r]=[]),i[tt.r][tt.c]=we):i[_]=we}},W={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:K,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(W.password=e.password);var X,Me=[],Ee=[],ve=[],oe=[],je=!1,Be=[];Be.SheetNames=W.snames,Be.sharedf=W.sharedf,Be.arrayf=W.arrayf,Be.names=[],Be.XTI=[];var Ze=0,me=0,Z=0,ge=[],le=[],ue;W.codepage=1200,$a(1200);for(var xe=!1;t.l<t.length-1;){var Ye=t.l,Ne=t.read_shift(2);if(Ne===0&&Ze===10)break;var _e=t.l===t.length?0:t.read_shift(2),Oe=i2[Ne];if(Oe&&Oe.f){if(e.bookSheets&&Ze===133&&Ne!==133)break;if(Ze=Ne,Oe.r===2||Oe.r==12){var yt=t.read_shift(2);if(_e-=2,!W.enc&&yt!==Ne&&((yt&255)<<8|yt>>8)!==Ne)throw new Error("rt mismatch: "+yt+"!="+Ne);Oe.r==12&&(t.l+=10,_e-=10)}var pe={};if(Ne===10?pe=Oe.f(t,_e,W):pe=QV(Ne,Oe,t,_e,W),me==0&&[9,521,1033,2057].indexOf(Ze)===-1)continue;switch(Ne){case 34:n.opts.Date1904=M.WBProps.date1904=pe;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(W.enc||(t.l=0),W.enc=pe,!e.password)throw new Error("File is password-protected");if(pe.valid==null)throw new Error("Encryption scheme unsupported");if(!pe.valid)throw new Error("Password is incorrect");break;case 92:W.lastuser=pe;break;case 66:var St=Number(pe);switch(St){case 21010:St=1200;break;case 32768:St=1e4;break;case 32769:St=1252;break}$a(W.codepage=St),xe=!0;break;case 317:W.rrtabid=pe;break;case 25:W.winlocked=pe;break;case 439:n.opts.RefreshAll=pe;break;case 12:n.opts.CalcCount=pe;break;case 16:n.opts.CalcDelta=pe;break;case 17:n.opts.CalcIter=pe;break;case 13:n.opts.CalcMode=pe;break;case 14:n.opts.CalcPrecision=pe;break;case 95:n.opts.CalcSaveRecalc=pe;break;case 15:W.CalcRefMode=pe;break;case 2211:n.opts.FullCalc=pe;break;case 129:pe.fDialog&&(i["!type"]="dialog"),pe.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),pe.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:ae.push(pe);break;case 430:Be.push([pe]),Be[Be.length-1].XTI=[];break;case 35:case 547:Be[Be.length-1].push(pe);break;case 24:case 536:ue={Name:pe.Name,Ref:ss(pe.rgce,A,null,Be,W)},pe.itab>0&&(ue.Sheet=pe.itab-1),Be.names.push(ue),Be[0]||(Be[0]=[],Be[0].XTI=[]),Be[Be.length-1].push(pe),pe.Name=="_xlnm._FilterDatabase"&&pe.itab>0&&pe.rgce&&pe.rgce[0]&&pe.rgce[0][0]&&pe.rgce[0][0][0]=="PtgArea3d"&&(le[pe.itab-1]={ref:kn(pe.rgce[0][0][1][2])});break;case 22:W.ExternCount=pe;break;case 23:Be.length==0&&(Be[0]=[],Be[0].XTI=[]),Be[Be.length-1].XTI=Be[Be.length-1].XTI.concat(pe),Be.XTI=Be.XTI.concat(pe);break;case 2196:if(W.biff<8)break;ue!=null&&(ue.Comment=pe[1]);break;case 18:i["!protect"]=pe;break;case 19:pe!==0&&W.WTF&&console.error("Password verifier: "+pe);break;case 133:s[pe.pos]=pe,W.snames.push(pe.name);break;case 10:{if(--me)break;if(A.e){if(A.e.r>0&&A.e.c>0){if(A.e.r--,A.e.c--,i["!ref"]=kn(A),e.sheetRows&&e.sheetRows<=A.e.r){var kt=A.e.r;A.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=kn(A),A.e.r=kt}A.e.r++,A.e.c++}Me.length>0&&(i["!merges"]=Me),Ee.length>0&&(i["!objects"]=Ee),ve.length>0&&(i["!cols"]=ve),oe.length>0&&(i["!rows"]=oe),M.Sheets.push(H)}d===""?x=i:r[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(W.biff===8&&(W.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[pe.BIFFVer]||8),W.biffguess=pe.BIFFVer==0,pe.BIFFVer==0&&pe.dt==4096&&(W.biff=5,xe=!0,$a(W.codepage=28591)),W.biff==8&&pe.BIFFVer==0&&pe.dt==16&&(W.biff=2),me++)break;if(i=e.dense?[]:{},W.biff<8&&!xe&&(xe=!0,$a(W.codepage=e.codepage||1252)),W.biff<5||pe.BIFFVer==0&&pe.dt==4096){d===""&&(d="Sheet1"),A={s:{r:0,c:0},e:{r:0,c:0}};var Lt={pos:t.l-_e,name:d};s[Lt.pos]=Lt,W.snames.push(d)}else d=(s[Ye]||{name:""}).name;pe.dt==32&&(i["!type"]="chart"),pe.dt==64&&(i["!type"]="macro"),Me=[],Ee=[],W.arrayf=K=[],ve=[],oe=[],je=!1,H={Hidden:(s[Ye]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[pe.r]||[])[pe.c]:i[An({c:pe.c,r:pe.r})])&&++pe.c,Q={ixfe:pe.ixfe,XF:ae[pe.ixfe]||{},v:pe.val,t:"n"},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 5:case 517:Q={ixfe:pe.ixfe,XF:ae[pe.ixfe],v:pe.val,t:pe.t},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 638:Q={ixfe:pe.ixfe,XF:ae[pe.ixfe],v:pe.rknum,t:"n"},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 189:for(var Fe=pe.c;Fe<=pe.C;++Fe){var Ue=pe.rkrec[Fe-pe.c][0];Q={ixfe:Ue,XF:ae[Ue],v:pe.rkrec[Fe-pe.c][1],t:"n"},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:Fe,r:pe.r},Q,e)}break;case 6:case 518:case 1030:{if(pe.val=="String"){u=pe;break}if(Q=Lh(pe.val,pe.cell.ixfe,pe.tt),Q.XF=ae[Q.ixfe],e.cellFormula){var gt=pe.formula;if(gt&&gt[0]&&gt[0][0]&&gt[0][0][0]=="PtgExp"){var Bt=gt[0][0][1][0],dn=gt[0][0][1][1],At=An({r:Bt,c:dn});j[At]?Q.f=""+ss(pe.formula,A,pe.cell,Be,W):Q.F=((e.dense?(i[Bt]||[])[dn]:i[At])||{}).F}else Q.f=""+ss(pe.formula,A,pe.cell,Be,W)}Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J(pe.cell,Q,e),u=pe}break;case 7:case 519:if(u)u.val=pe,Q=Lh(pe,u.cell.ixfe,"s"),Q.XF=ae[Q.ixfe],e.cellFormula&&(Q.f=""+ss(u.formula,A,u.cell,Be,W)),Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J(u.cell,Q,e),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{K.push(pe);var Pn=An(pe[0].s);if(N=e.dense?(i[pe[0].s.r]||[])[pe[0].s.c]:i[Pn],e.cellFormula&&N){if(!u||!Pn||!N)break;N.f=""+ss(pe[1],A,pe[0],Be,W),N.F=kn(pe[0])}}break;case 1212:{if(!e.cellFormula)break;if(_){if(!u)break;j[An(u.cell)]=pe[0],N=e.dense?(i[u.cell.r]||[])[u.cell.c]:i[An(u.cell)],(N||{}).f=""+ss(pe[0],A,C,Be,W)}}break;case 253:Q=Lh(h[pe.isst].t,pe.ixfe,"s"),h[pe.isst].h&&(Q.h=h[pe.isst].h),Q.XF=ae[Q.ixfe],Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 513:e.sheetStubs&&(Q={ixfe:pe.ixfe,XF:ae[pe.ixfe],t:"z"},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e));break;case 190:if(e.sheetStubs)for(var dr=pe.c;dr<=pe.C;++dr){var at=pe.ixfe[dr-pe.c];Q={ixfe:at,XF:ae[at],t:"z"},Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:dr,r:pe.r},Q,e)}break;case 214:case 516:case 4:Q=Lh(pe.val,pe.ixfe,"s"),Q.XF=ae[Q.ixfe],Z>0&&(Q.z=ge[Q.ixfe>>8&63]),mo(Q,e,n.opts.Date1904),J({c:pe.c,r:pe.r},Q,e);break;case 0:case 512:me===1&&(A=pe);break;case 252:h=pe;break;case 1054:if(W.biff==4){ge[Z++]=pe[1];for(var Nt=0;Nt<Z+163&&pn[Nt]!=pe[1];++Nt);Nt>=163&&$l(pe[1],Z+163)}else $l(pe[1],pe[0]);break;case 30:{ge[Z++]=pe;for(var It=0;It<Z+163&&pn[It]!=pe;++It);It>=163&&$l(pe,Z+163)}break;case 229:Me=Me.concat(pe);break;case 93:Ee[pe.cmo[0]]=W.lastobj=pe;break;case 438:W.lastobj.TxO=pe;break;case 127:W.lastobj.ImData=pe;break;case 440:for(k=pe[0].s.r;k<=pe[0].e.r;++k)for(R=pe[0].s.c;R<=pe[0].e.c;++R)N=e.dense?(i[k]||[])[R]:i[An({c:R,r:k})],N&&(N.l=pe[1]);break;case 2048:for(k=pe[0].s.r;k<=pe[0].e.r;++k)for(R=pe[0].s.c;R<=pe[0].e.c;++R)N=e.dense?(i[k]||[])[R]:i[An({c:R,r:k})],N&&N.l&&(N.l.Tooltip=pe[1]);break;case 28:{if(W.biff<=5&&W.biff>=2)break;N=e.dense?(i[pe[0].r]||[])[pe[0].c]:i[An(pe[0])];var $t=Ee[pe[2]];N||(e.dense?(i[pe[0].r]||(i[pe[0].r]=[]),N=i[pe[0].r][pe[0].c]={t:"z"}):N=i[An(pe[0])]={t:"z"},A.e.r=Math.max(A.e.r,pe[0].r),A.s.r=Math.min(A.s.r,pe[0].r),A.e.c=Math.max(A.e.c,pe[0].c),A.s.c=Math.min(A.s.c,pe[0].c)),N.c||(N.c=[]),D={a:pe[1],t:$t.TxO.t},N.c.push(D)}break;case 2173:A7(ae[pe.ixfe],pe.ext);break;case 125:{if(!W.cellStyles)break;for(;pe.e>=pe.s;)ve[pe.e--]={width:pe.w/256,level:pe.level||0,hidden:!!(pe.flags&1)},je||(je=!0,vw(pe.w/256)),Tu(ve[pe.e+1])}break;case 520:{var un={};pe.level!=null&&(oe[pe.r]=un,un.level=pe.level),pe.hidden&&(oe[pe.r]=un,un.hidden=!0),pe.hpt&&(oe[pe.r]=un,un.hpt=pe.hpt,un.hpx=Tf(pe.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||cf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=pe;break;case 161:i["!margins"]||cf(i["!margins"]={}),i["!margins"].header=pe.header,i["!margins"].footer=pe.footer;break;case 574:pe.RTL&&(M.Views[0].RTL=!0);break;case 146:ee=pe;break;case 2198:X=pe;break;case 140:ne=pe;break;case 442:d?H.CodeName=pe||H.name:M.WBProps.CodeName=pe||"ThisWorkbook";break}}else Oe||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),t.l+=_e}return n.SheetNames=Co(s).sort(function(fn,tt){return Number(fn)-Number(tt)}).map(function(fn){return s[fn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&x["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=x)):n.Preamble=x,n.Sheets&&le.forEach(function(fn,tt){n.Sheets[n.SheetNames[tt]]["!autofilter"]=fn}),n.Strings=h,n.SSF=Gi(pn),W.enc&&(n.Encryption=W.enc),X&&(n.Themes=X),n.Metadata={},ne!==void 0&&(n.Metadata.Country=ne),Be.names.length>0&&(M.Names=Be.names),n.Workbook=M,n}var R_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HV(t,e,n){var r=Un.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=g_(r,iL,R_.DSI);for(var s in i)e[s]=i[s]}catch(d){if(n.WTF)throw d}var A=Un.find(t,"/!SummaryInformation");if(A&&A.size>0)try{var u=g_(A,sL,R_.SI);for(var h in u)e[h]==null&&(e[h]=u[h])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(RI(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function g3(t,e){e||(e={}),_w(e),GS(),e.codepage&&rw(e.codepage);var n,r;if(t.FullPaths){if(Un.find(t,"/encryption"))throw new Error("File is password-protected");n=Un.find(t,"!CompObj"),r=Un.find(t,"/Workbook")||Un.find(t,"/Book")}else{switch(e.type){case"base64":t=Za(ha(t));break;case"binary":t=Za(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Hi(t,0),r={content:t}}var i,s;if(n&&OV(n),e.bookProps&&!e.bookSheets)i={};else{var A=Fn?"buffer":"array";if(r&&r.content)i=PV(r.content,e);else if((s=Un.find(t,"PerfectOffice_MAIN"))&&s.content)i=Af.to_workbook(s.content,(e.type=A,e));else if((s=Un.find(t,"NativeContent_MAIN"))&&s.content)i=Af.to_workbook(s.content,(e.type=A,e));else throw(s=Un.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Un.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=T7(t))}var u={};return t.FullPaths&&HV(t,u,e),i.Props=i.Custprops=u,e.bookFiles&&(i.cfb=t),i}var R1={0:{f:CH},1:{f:TH},2:{f:kH},3:{f:NH},4:{f:SH},5:{f:UH},6:{f:LH},7:{f:RH},8:{f:jH},9:{f:VH},10:{f:PH},11:{f:HH},12:{f:bH},13:{f:MH},14:{f:FH},15:{f:IH},16:{f:c3},17:{f:QH},18:{f:DH},19:{f:hw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pV},40:{},42:{},43:{f:PQ},44:{f:QQ},45:{f:HQ},46:{f:jQ},47:{f:VQ},48:{},49:{f:GO},50:{},51:{f:c7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GI},62:{f:OH},63:{f:g7},64:{f:ZH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:us,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:JH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_H},148:{f:EH,p:16},151:{f:zH},152:{},153:{f:hV},154:{},155:{},156:{f:dV},157:{},158:{},159:{T:1,f:sQ},160:{T:-1},161:{T:1,f:hc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:l7},336:{T:-1},337:{f:u7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$x},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:WH},427:{f:XH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:BH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$x},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:E7},633:{T:1},634:{T:-1},635:{T:1,f:C7},636:{T:-1},637:{f:zO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$H},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},i2={6:{f:ox},10:{f:VA},12:{f:Ai},13:{f:Ai},14:{f:Jr},15:{f:Jr},16:{f:os},17:{f:Jr},18:{f:Jr},19:{f:Ai},20:{f:w_},21:{f:w_},23:{f:jI},24:{f:y_},25:{f:Jr},26:{},27:{},28:{f:v9},29:{},34:{f:Jr},35:{f:v_},38:{f:os},39:{f:os},40:{f:os},41:{f:os},42:{f:Jr},43:{f:Jr},47:{f:BQ},49:{f:t9},51:{f:Ai},60:{},61:{f:ZL},64:{f:Jr},65:{f:e9},66:{f:Ai},77:{},80:{},81:{},82:{},85:{f:Ai},89:{},90:{},91:{},92:{f:GL},93:{f:C9},94:{},95:{f:Jr},96:{},97:{},99:{f:Jr},125:{f:GI},128:{f:u9},129:{f:KL},130:{f:Ai},131:{f:Jr},132:{f:Jr},133:{f:zL},134:{},140:{f:S9},141:{f:Ai},144:{},146:{f:N9},151:{},152:{},153:{},154:{},155:{},156:{f:Ai},157:{},158:{},160:{f:k9},161:{f:R9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:o9},190:{f:A9},193:{f:VA},197:{},198:{},199:{},200:{},201:{},202:{f:Jr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ai},220:{},221:{f:Jr},222:{},224:{f:c9},225:{f:jL},226:{f:VA},227:{},229:{f:y9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:WL},253:{f:n9},255:{f:XL},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:OI},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jr},353:{f:VA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:d9},431:{f:Jr},432:{},433:{},434:{},437:{},438:{f:_9},439:{f:Jr},440:{f:T9},441:{},442:{f:Hf},443:{},444:{f:Ai},445:{},446:{},448:{f:VA},449:{f:JL,r:2},450:{f:VA},512:{f:m_},513:{f:U9},515:{f:f9},516:{f:r9},517:{f:x_},519:{f:M9},520:{f:qL},523:{},545:{f:C_},549:{f:p_},566:{},574:{f:$L},638:{f:a9},659:{},1048:{},1054:{f:i9},1084:{},1212:{f:m9},2048:{f:b9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:kh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:VA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:F9,r:12},2173:{f:o7,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:p9,r:12},2197:{},2198:{f:t7,r:12},2199:{},2200:{},2201:{},2202:{f:x9,r:12},2203:{f:VA},2204:{},2205:{},2206:{},2207:{},2211:{f:YL},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ai},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:D9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:I9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:m_},1:{},2:{f:P9},3:{f:Q9},4:{f:L9},5:{f:x_},7:{f:H9},8:{},9:{f:kh},11:{},22:{f:Ai},30:{f:s9},31:{},32:{},33:{f:C_},36:{},37:{f:p_},50:{f:V9},62:{},52:{},67:{},68:{f:Ai},69:{},86:{},126:{},127:{f:O9},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:j9},223:{},234:{},354:{},421:{},518:{f:ox},521:{f:kh},536:{f:y_},547:{f:v_},561:{},579:{},1030:{f:ox},1033:{f:kh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xa(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,A=t.next(4);A.write_shift(2,i),A.write_shift(2,s),s>0&&BI(n)&&t.push(n)}}function D_(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),A=i.index,u=s&&s.index||t.length,h=fO(t.slice(A,u),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,x=0,C=0,_=0,N={s:{r:1e7,c:1e7},e:{r:0,c:0}},D=[];for(A=0;A<h.length;++A){var R=h[A].trim(),k=R.slice(0,3).toLowerCase();if(k=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}x=0;continue}if(!(k!="<td"&&k!="<th")){var j=R.split(/<\/t[dh]>/i);for(u=0;u<j.length;++u){var K=j[u].trim();if(K.match(/<t[dh]/i)){for(var Q=K,ne=0;Q.charAt(0)=="<"&&(ne=Q.indexOf(">"))>-1;)Q=Q.slice(ne+1);for(var ae=0;ae<D.length;++ae){var ee=D[ae];ee.s.c==x&&ee.s.r<d&&d<=ee.e.r&&(x=ee.e.c+1,ae=-1)}var M=Jt(K.slice(0,K.indexOf(">")));_=M.colspan?+M.colspan:1,((C=+M.rowspan)>1||_>1)&&D.push({s:{r:d,c:x},e:{r:d+(C||1)-1,c:x+_-1}});var H=M.t||M["data-t"]||"";if(!Q.length){x+=_;continue}if(Q=uI(Q),N.s.r>d&&(N.s.r=d),N.e.r<d&&(N.e.r=d),N.s.c>x&&(N.s.c=x),N.e.c<x&&(N.e.c=x),!Q.length){x+=_;continue}var O={t:"s",v:Q};n.raw||!Q.trim().length||H=="s"||(Q==="TRUE"?O={t:"b",v:!0}:Q==="FALSE"?O={t:"b",v:!1}:isNaN(to(Q))?isNaN(_u(Q).getDate())||(O={t:"d",v:Si(Q)},n.cellDates||(O={t:"n",v:Ts(O.v)}),O.z=n.dateNF||pn[14]):O={t:"n",v:to(Q)}),n.dense?(r[d]||(r[d]=[]),r[d][x]=O):r[An({r:d,c:x})]=O,x+=_}}}}return r["!ref"]=kn(N),D.length&&(r["!merges"]=D),r}function VV(t,e,n,r){for(var i=t["!merges"]||[],s=[],A=e.s.c;A<=e.e.c;++A){for(var u=0,h=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>A)&&!(i[d].e.r<n||i[d].e.c<A)){if(i[d].s.r<n||i[d].s.c<A){u=-1;break}u=i[d].e.r-i[d].s.r+1,h=i[d].e.c-i[d].s.c+1;break}if(!(u<0)){var x=An({r:n,c:A}),C=r.dense?(t[n]||[])[A]:t[x],_=C&&C.v!=null&&(C.h||lw(C.w||(oA(C),C.w)||""))||"",N={};u>1&&(N.rowspan=u),h>1&&(N.colspan=h),r.editable?_='<span contenteditable="true">'+_+"</span>":C&&(N["data-t"]=C&&C.t||"z",C.v!=null&&(N["data-v"]=C.v),C.z!=null&&(N["data-z"]=C.z),C.l&&(C.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+C.l.Target+'">'+_+"</a>")),N.id=(r.id||"sjs")+"-"+x,s.push(SO("td",_,N))}}var D="<tr>";return D+s.join("")+"</tr>"}var jV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',GV="</body></html>";function KV(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return pl(D_(n[0],e),e);var r=bw();return n.forEach(function(i,s){Sw(r,D_(i,e),"Sheet"+(s+1))}),r}function zV(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function WV(t,e){var n=e||{},r=n.header!=null?n.header:jV,i=n.footer!=null?n.footer:GV,s=[r],A=Mu(t["!ref"]);n.dense=Array.isArray(t),s.push(zV(t,A,n));for(var u=A.s.r;u<=A.e.r;++u)s.push(VV(t,A,u,n));return s.push("</table>"+i),s.join("")}function p3(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var A=typeof r.origin=="string"?Es(r.origin):r.origin;i=A.r,s=A.c}var u=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,u.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var x=Mu(t["!ref"]);d.s.r=Math.min(d.s.r,x.s.r),d.s.c=Math.min(d.s.c,x.s.c),d.e.r=Math.max(d.e.r,x.e.r),d.e.c=Math.max(d.e.c,x.e.c),i==-1&&(d.e.r=i=x.e.r+1)}var C=[],_=0,N=t["!rows"]||(t["!rows"]=[]),D=0,R=0,k=0,j=0,K=0,Q=0;for(t["!cols"]||(t["!cols"]=[]);D<u.length&&R<h;++D){var ne=u[D];if(U_(ne)){if(r.display)continue;N[R]={hidden:!0}}var ae=ne.children;for(k=j=0;k<ae.length;++k){var ee=ae[k];if(!(r.display&&U_(ee))){var M=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):uI(ee.innerHTML),H=ee.getAttribute("data-z")||ee.getAttribute("z");for(_=0;_<C.length;++_){var O=C[_];O.s.c==j+s&&O.s.r<R+i&&R+i<=O.e.r&&(j=O.e.c+1-s,_=-1)}Q=+ee.getAttribute("colspan")||1,((K=+ee.getAttribute("rowspan")||1)>1||Q>1)&&C.push({s:{r:R+i,c:j+s},e:{r:R+i+(K||1)-1,c:j+s+(Q||1)-1}});var z={t:"s",v:M},J=ee.getAttribute("data-t")||ee.getAttribute("t")||"";M!=null&&(M.length==0?z.t=J||"z":r.raw||M.trim().length==0||J=="s"||(M==="TRUE"?z={t:"b",v:!0}:M==="FALSE"?z={t:"b",v:!1}:isNaN(to(M))?isNaN(_u(M).getDate())||(z={t:"d",v:Si(M)},r.cellDates||(z={t:"n",v:Ts(z.v)}),z.z=r.dateNF||pn[14]):z={t:"n",v:to(M)})),z.z===void 0&&H!=null&&(z.z=H);var W="",X=ee.getElementsByTagName("A");if(X&&X.length)for(var Me=0;Me<X.length&&!(X[Me].hasAttribute("href")&&(W=X[Me].getAttribute("href"),W.charAt(0)!="#"));++Me);W&&W.charAt(0)!="#"&&(z.l={Target:W}),r.dense?(t[R+i]||(t[R+i]=[]),t[R+i][j+s]=z):t[An({c:j+s,r:R+i})]=z,d.e.c<j+s&&(d.e.c=j+s),j+=Q}}++R}return C.length&&(t["!merges"]=(t["!merges"]||[]).concat(C)),d.e.r=Math.max(d.e.r,R-1+i),t["!ref"]=kn(d),R>=h&&(t["!fullref"]=kn((d.e.r=u.length-D+R-1+i,d))),t}function m3(t,e){var n=e||{},r=n.dense?[]:{};return p3(r,t,e)}function XV(t,e){return pl(m3(t,e),e)}function U_(t){var e="",n=qV(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function qV(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YV(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Qn(e.replace(/<[^>]*>/g,""));return[n]}var k_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function x3(t,e){var n=e||{},r=cw(t),i=[],s,A,u={name:""},h="",d=0,x,C,_={},N=[],D=n.dense?[]:{},R,k,j={value:""},K="",Q=0,ne=[],ae=-1,ee=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},H=0,O={},z=[],J={},W=0,X=0,Me=[],Ee=1,ve=1,oe=[],je={Names:[]},Be={},Ze=["",""],me=[],Z={},ge="",le=0,ue=!1,xe=!1,Ye=0;for(Ef.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");R=Ef.exec(r);)switch(R[3]=R[3].replace(/_.*$/,"")){case"table":case"":R[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?D["!ref"]=kn(M):D["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=M.e.r&&(D["!fullref"]=D["!ref"],M.e.r=n.sheetRows-1,D["!ref"]=kn(M)),z.length&&(D["!merges"]=z),Me.length&&(D["!rows"]=Me),x.name=x.||x.name,typeof JSON<"u"&&JSON.stringify(x),N.push(x.name),_[x.name]=D,xe=!1):R[0].charAt(R[0].length-2)!=="/"&&(x=Jt(R[0],!1),ae=ee=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,D=n.dense?[]:{},z=[],Me=[],xe=!0);break;case"table-row-group":R[1]==="/"?--H:++H;break;case"table-row":case"":if(R[1]==="/"){ae+=Ee,Ee=1;break}if(C=Jt(R[0],!1),C.?ae=C.-1:ae==-1&&(ae=0),Ee=+C["number-rows-repeated"]||1,Ee<10)for(Ye=0;Ye<Ee;++Ye)H>0&&(Me[ae+Ye]={level:H});ee=-1;break;case"covered-table-cell":R[1]!=="/"&&++ee,n.sheetStubs&&(n.dense?(D[ae]||(D[ae]=[]),D[ae][ee]={t:"z"}):D[An({r:ae,c:ee})]={t:"z"}),K="",ne=[];break;case"table-cell":case"":if(R[0].charAt(R[0].length-2)==="/")++ee,j=Jt(R[0],!1),ve=parseInt(j["number-columns-repeated"]||"1",10),k={t:"z",v:null},j.formula&&n.cellFormula!=!1&&(k.f=I_(Qn(j.formula))),(j.||j["value-type"])=="string"&&(k.t="s",k.v=Qn(j["string-value"]||""),n.dense?(D[ae]||(D[ae]=[]),D[ae][ee]=k):D[An({r:ae,c:ee})]=k),ee+=ve-1;else if(R[1]!=="/"){++ee,K="",Q=0,ne=[],ve=1;var Ne=Ee?ae+Ee-1:ae;if(ee>M.e.c&&(M.e.c=ee),ee<M.s.c&&(M.s.c=ee),ae<M.s.r&&(M.s.r=ae),Ne>M.e.r&&(M.e.r=Ne),j=Jt(R[0],!1),me=[],Z={},k={t:j.||j["value-type"],v:null},n.cellFormula)if(j.formula&&(j.formula=Qn(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(W=parseInt(j["number-matrix-rows-spanned"],10)||0,X=parseInt(j["number-matrix-columns-spanned"],10)||0,J={s:{r:ae,c:ee},e:{r:ae+W-1,c:ee+X-1}},k.F=kn(J),oe.push([J,k.F])),j.formula)k.f=I_(j.formula);else for(Ye=0;Ye<oe.length;++Ye)ae>=oe[Ye][0].s.r&&ae<=oe[Ye][0].e.r&&ee>=oe[Ye][0].s.c&&ee<=oe[Ye][0].e.c&&(k.F=oe[Ye][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(W=parseInt(j["number-rows-spanned"],10)||0,X=parseInt(j["number-columns-spanned"],10)||0,J={s:{r:ae,c:ee},e:{r:ae+W-1,c:ee+X-1}},z.push(J)),j["number-columns-repeated"]&&(ve=parseInt(j["number-columns-repeated"],10)),k.t){case"boolean":k.t="b",k.v=Tr(j["boolean-value"]);break;case"float":k.t="n",k.v=parseFloat(j.value);break;case"percentage":k.t="n",k.v=parseFloat(j.value);break;case"currency":k.t="n",k.v=parseFloat(j.value);break;case"date":k.t="d",k.v=Si(j["date-value"]),n.cellDates||(k.t="n",k.v=Ts(k.v)),k.z="m/d/yy";break;case"time":k.t="n",k.v=lO(j["time-value"])/86400,n.cellDates&&(k.t="d",k.v=fg(k.v)),k.z="HH:MM:SS";break;case"number":k.t="n",k.v=parseFloat(j.);break;default:if(k.t==="string"||k.t==="text"||!k.t)k.t="s",j["string-value"]!=null&&(K=Qn(j["string-value"]),ne=[]);else throw new Error("Unsupported value type "+k.t)}}else{if(ue=!1,k.t==="s"&&(k.v=K||"",ne.length&&(k.R=ne),ue=Q==0),Be.Target&&(k.l=Be),me.length>0&&(k.c=me,me=[]),K&&n.cellText!==!1&&(k.w=K),ue&&(k.t="z",delete k.v),(!ue||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=ae))for(var _e=0;_e<Ee;++_e){if(ve=parseInt(j["number-columns-repeated"]||"1",10),n.dense)for(D[ae+_e]||(D[ae+_e]=[]),D[ae+_e][ee]=_e==0?k:Gi(k);--ve>0;)D[ae+_e][ee+ve]=Gi(k);else for(D[An({r:ae+_e,c:ee})]=k;--ve>0;)D[An({r:ae+_e,c:ee+ve})]=Gi(k);M.e.c<=ee&&(M.e.c=ee)}ve=parseInt(j["number-columns-repeated"]||"1",10),ee+=ve-1,ve=0,k={},K="",ne=[]}Be={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!0]);break;case"annotation":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s;Z.t=K,ne.length&&(Z.R=ne),Z.a=ge,me.push(Z)}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!1]);ge="",le=0,K="",Q=0,ne=[];break;case"creator":R[1]==="/"?ge=r.slice(le,R.index):le=R.index+R[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(R[1]==="/"){if((s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&i.push([R[3],!1]);K="",Q=0,ne=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(R[1]==="/"){if(O[u.name]=h,(s=i.pop())[0]!==R[3])throw"Bad state: "+s}else R[0].charAt(R[0].length-2)!=="/"&&(h="",u=Jt(R[0],!1),i.push([R[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":A=Jt(R[0],!1),h+=k_[R[3]][A.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":A=Jt(R[0],!1),h+=k_[R[3]][A.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(R[0].slice(-2)==="/>")break;if(R[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":h+=r.slice(d,R.index);break}else d=R.index+R[0].length;break;case"named-range":A=Jt(R[0],!1),Ze=Ax(A["cell-range-address"]);var Oe={Name:A.name,Ref:Ze[0]+"!"+Ze[1]};xe&&(Oe.Sheet=N.length),je.Names.push(Oe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(R[1]==="/"&&(!j||!j["string-value"])){var yt=YV(r.slice(Q,R.index));K=(K.length>0?K+`
`:"")+yt[0]}else Jt(R[0],!1),Q=R.index+R[0].length;break;case"s":break;case"database-range":if(R[1]==="/")break;try{Ze=Ax(Jt(R[0])["target-range-address"]),_[Ze[0]]["!autofilter"]={ref:Ze[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(R[1]!=="/"){if(Be=Jt(R[0],!1),!Be.href)break;Be.Target=Qn(Be.href),delete Be.href,Be.Target.charAt(0)=="#"&&Be.Target.indexOf(".")>-1?(Ze=Ax(Be.Target.slice(1)),Be.Target="#"+Ze[0]+"!"+Ze[1]):Be.Target.match(/^\.\.[\\\/]/)&&(Be.Target=Be.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(R[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(R)}}var pe={Sheets:_,SheetNames:N,Workbook:je};return n.bookSheets&&delete pe.Sheets,pe}function M_(t,e){e=e||{},Fa(t,"META-INF/manifest.xml")&&fL(oi(t,"META-INF/manifest.xml"),e);var n=ua(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=x3(mr(n),e);return Fa(t,"meta.xml")&&(r.Props=FI(oi(t,"meta.xml"))),r}function O_(t,e){return x3(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ew(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function s2(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):mr(fc(t))}function a2(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function L_(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function JV(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function bf(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function xi(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function As(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=bf(t,n),s=i&7;i=Math.floor(i/8);var A=0,u;if(i==0)break;switch(s){case 0:{for(var h=n[0];t[n[0]++]>=128;);u=t.slice(h,n[0])}break;case 5:A=4,u=t.slice(n[0],n[0]+A),n[0]+=A;break;case 1:A=8,u=t.slice(n[0],n[0]+A),n[0]+=A;break;case 2:A=bf(t,n),u=t.slice(n[0],n[0]+A),n[0]+=A;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:u,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Bw(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function ZV(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=bf(t,r),s=As(t.slice(r[0],r[0]+i));r[0]+=i;var A={id:xi(s[1][0].data),messages:[]};s[2].forEach(function(u){var h=As(u.data),d=xi(h[3][0].data);A.messages.push({meta:h,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(A.merge=xi(s[3][0].data)>>>0>0),n.push(A)}return n}function $V(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=bf(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var A=e[n[0]++]>>2;if(A<60)++A;else{var u=A-59;A=e[n[0]],u>1&&(A|=e[n[0]+1]<<8),u>2&&(A|=e[n[0]+2]<<16),u>3&&(A|=e[n[0]+3]<<24),A>>>=0,A++,n[0]+=u}i.push(e.slice(n[0],n[0]+A)),n[0]+=A;continue}else{var h=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,h=(e[n[0]++]&224)<<3,h|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(h=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(h=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[a2(i)],h==0)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(i.push(i[0].slice(-h)),d-=h;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-h,-h+d))}}var x=a2(i);if(x.length!=r)throw new Error("Unexpected length: ".concat(x.length," != ").concat(r));return x}function ej(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push($V(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return a2(e)}function tj(t,e,n,r){var i=Ew(t),s=i.getUint32(4,!0),A=(r>1?12:8)+L_(s&(r>1?3470:398))*4,u=-1,h=-1,d=NaN,x=new Date(2001,0,1);s&512&&(u=i.getUint32(A,!0),A+=4),A+=L_(s&(r>1?12288:4096))*4,s&16&&(h=i.getUint32(A,!0),A+=4),s&32&&(d=i.getFloat64(A,!0),A+=8),s&64&&(x.setTime(x.getTime()+i.getFloat64(A,!0)*1e3),A+=8);var C;switch(t[2]){case 0:break;case 2:C={t:"n",v:d};break;case 3:C={t:"s",v:e[h]};break;case 5:C={t:"d",v:x};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(u>-1)C={t:"s",v:n[u]};else if(h>-1)C={t:"s",v:e[h]};else if(!isNaN(d))C={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return C}function nj(t,e,n){var r=Ew(t),i=r.getUint32(8,!0),s=12,A=-1,u=-1,h=NaN,d=NaN,x=new Date(2001,0,1);i&1&&(h=JV(t,s),s+=16),i&2&&(d=r.getFloat64(s,!0),s+=8),i&4&&(x.setTime(x.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(u=r.getUint32(s,!0),s+=4),i&16&&(A=r.getUint32(s,!0),s+=4);var C;switch(t[1]){case 0:break;case 2:C={t:"n",v:h};break;case 3:C={t:"s",v:e[u]};break;case 5:C={t:"d",v:x};break;case 6:C={t:"b",v:d>0};break;case 7:C={t:"n",v:d/86400};break;case 8:C={t:"e",v:0};break;case 9:if(A>-1)C={t:"s",v:n[A]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:C={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return C}function rj(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return tj(t,e,n,t[0]);case 5:return nj(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function rl(t){var e=As(t);return bf(e[1][0].data)}function Q_(t,e){var n=As(e.data),r=xi(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(A){var u=As(A.data),h=xi(u[1][0].data)>>>0;switch(r){case 1:s[h]=s2(u[3][0].data);break;case 8:{var d=t[rl(u[9][0].data)][0],x=As(d.data),C=t[rl(x[1][0].data)][0],_=xi(C.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var N=As(C.data);s[h]=N[3].map(function(D){return s2(D.data)}).join("")}break}}),s}function ij(t,e){var n,r,i,s,A,u,h,d,x,C,_,N,D,R,k=As(t),j=xi(k[1][0].data)>>>0,K=xi(k[2][0].data)>>>0,Q=((r=(n=k[8])==null?void 0:n[0])==null?void 0:r.data)&&xi(k[8][0].data)>0||!1,ne,ae;if((s=(i=k[7])==null?void 0:i[0])!=null&&s.data&&e!=0)ne=(u=(A=k[7])==null?void 0:A[0])==null?void 0:u.data,ae=(d=(h=k[6])==null?void 0:h[0])==null?void 0:d.data;else if((C=(x=k[4])==null?void 0:x[0])!=null&&C.data&&e!=1)ne=(N=(_=k[4])==null?void 0:_[0])==null?void 0:N.data,ae=(R=(D=k[3])==null?void 0:D[0])==null?void 0:R.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var ee=Q?4:1,M=Ew(ne),H=[],O=0;O<ne.length/2;++O){var z=M.getUint16(O*2,!0);z<65535&&H.push([O,z])}if(H.length!=K)throw"Expected ".concat(K," cells, found ").concat(H.length);var J=[];for(O=0;O<H.length-1;++O)J[H[O][0]]=ae.subarray(H[O][1]*ee,H[O+1][1]*ee);return H.length>=1&&(J[H[H.length-1][0]]=ae.subarray(H[H.length-1][1]*ee)),{R:j,cells:J}}function sj(t,e){var n,r=As(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?xi(r[7][0].data)>>>0>0?1:0:-1,s=Bw(r[5],function(A){return ij(A,i)});return{nrows:xi(r[4][0].data)>>>0,data:s.reduce(function(A,u){return A[u.R]||(A[u.R]=[]),u.cells.forEach(function(h,d){if(A[u.R][d])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(d));A[u.R][d]=h}),A},[])}}function aj(t,e,n){var r,i=As(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(xi(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(xi(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=kn(s);var A=As(i[4][0].data),u=Q_(t,t[rl(A[4][0].data)][0]),h=(r=A[17])!=null&&r[0]?Q_(t,t[rl(A[17][0].data)][0]):[],d=As(A[3][0].data),x=0;d[1].forEach(function(C){var _=As(C.data),N=t[rl(_[2][0].data)][0],D=xi(N.meta[1][0].data);if(D!=6002)throw new Error("6001 unexpected reference to ".concat(D));var R=sj(t,N);R.data.forEach(function(k,j){k.forEach(function(K,Q){var ne=An({r:x+j,c:Q}),ae=rj(K,u,h);ae&&(n[ne]=ae)})}),x+=R.nrows})}function oj(t,e){var n=As(e.data),r={"!ref":"A1"},i=t[rl(n[2][0].data)],s=xi(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return aj(t,i[0],r),r}function Aj(t,e){var n,r=As(e.data),i={name:(n=r[1])!=null&&n[0]?s2(r[1][0].data):"",sheets:[]},s=Bw(r[2],rl);return s.forEach(function(A){t[A].forEach(function(u){var h=xi(u.meta[1][0].data);h==6e3&&i.sheets.push(oj(t,u))})}),i}function lj(t,e){var n=bw(),r=As(e.data),i=Bw(r[1],rl);if(i.forEach(function(s){t[s].forEach(function(A){var u=xi(A.meta[1][0].data);if(u==2){var h=Aj(t,A);h.sheets.forEach(function(d,x){Sw(n,d,x==0?h.name:h.name+"_"+x,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function cx(t){var e,n,r,i,s={},A=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var d;try{d=ej(h.content)}catch(C){return console.log("?? "+h.content.length+" "+(C.message||C))}var x;try{x=ZV(d)}catch(C){return console.log("## "+(C.message||C))}x.forEach(function(C){s[C.id]=C.messages,A.push(C.id)})}}),!A.length)throw new Error("File has no messages");var u=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&xi(s[1][0].meta[1][0].data)==1&&s[1][0];if(u||A.forEach(function(h){s[h].forEach(function(d){var x=xi(d.meta[1][0].data)>>>0;if(x==1)if(!u)u=d;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return lj(s,u)}function cj(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function _w(t){cj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function uj(t){return du.WS.indexOf(t)>-1?"sheet":t==du.CS?"chart":t==du.DS?"dialog":t==du.MS?"macro":t&&t.length?t:"sheet"}function fj(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,uj(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function dj(t,e,n,r,i,s,A,u,h,d,x,C){try{s[r]=af(ua(t,n,!0),e);var _=oi(t,e),N;switch(u){case"sheet":N=wV(_,e,i,h,s[r],d,x,C);break;case"chart":if(N=vV(_,e,i,h,s[r],d,x,C),!N||!N["!drawel"])break;var D=j0(N["!drawel"].Target,e),R=e2(D),k=x7(ua(t,D,!0),af(ua(t,R,!0),D)),j=j0(k,D),K=e2(j);N=nV(ua(t,j,!0),j,h,af(ua(t,K,!0),j),d,N);break;case"macro":N=yV(_,e,i,h,s[r],d,x,C);break;case"dialog":N=CV(_,e,i,h,s[r],d,x,C);break;default:throw new Error("Unrecognized sheet type "+u)}A[r]=N;var Q=[];s&&s[r]&&Co(s[r]).forEach(function(ne){var ae="";if(s[r][ne].Type==du.CMNT){ae=j0(s[r][ne].Target,e);var ee=TV(oi(t,ae,!0),ae,h);if(!ee||!ee.length)return;B_(N,ee,!1)}s[r][ne].Type==du.TCMNT&&(ae=j0(s[r][ne].Target,e),Q=Q.concat(v7(oi(t,ae,!0),h)))}),Q&&Q.length&&B_(N,Q,!0,h.people||[])}catch(ne){if(h.WTF)throw ne}}function Sa(t){return t.charAt(0)=="/"?t.slice(1):t}function hj(t,e){if(nI(),e=e||{},_w(e),Fa(t,"META-INF/manifest.xml")||Fa(t,"objectdata.xml"))return M_(t,e);if(Fa(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof cx<"u"){if(t.FileIndex)return cx(t);var n=Un.utils.cfb_new();return JB(t).forEach(function(Me){gO(n,Me,hO(t,Me))}),cx(n)}throw new Error("Unsupported NUMBERS file")}if(!Fa(t,"[Content_Types].xml"))throw Fa(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fa(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=JB(t),i=cL(ua(t,"[Content_Types].xml")),s=!1,A,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",oi(t,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!oi(t,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var h={},d={};if(!e.bookSheets&&!e.bookProps){if(lf=[],i.sst)try{lf=_V(oi(t,Sa(i.sst)),i.sst,e)}catch(Me){if(e.WTF)throw Me}e.cellStyles&&i.themes.length&&(h=BV(ua(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=EV(oi(t,Sa(i.style)),i.style,h,e))}i.links.map(function(Me){try{var Ee=af(ua(t,e2(Sa(Me))),Me);return SV(oi(t,Sa(Me)),Ee,Me,e)}catch{}});var x=xV(oi(t,Sa(i.workbooks[0])),i.workbooks[0],e),C={},_="";i.coreprops.length&&(_=oi(t,Sa(i.coreprops[0]),!0),_&&(C=FI(_)),i.extprops.length!==0&&(_=oi(t,Sa(i.extprops[0]),!0),_&&gL(_,C,e)));var N={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(_=ua(t,Sa(i.custprops[0]),!0),_&&(N=mL(_,e)));var D={};if((e.bookSheets||e.bookProps)&&(x.Sheets?A=x.Sheets.map(function(Ee){return Ee.name}):C.Worksheets&&C.SheetNames.length>0&&(A=C.SheetNames),e.bookProps&&(D.Props=C,D.Custprops=N),e.bookSheets&&typeof A<"u"&&(D.SheetNames=A),e.bookSheets?D.SheetNames:e.bookProps))return D;A={};var R={};e.bookDeps&&i.calcchain&&(R=bV(oi(t,Sa(i.calcchain)),i.calcchain));var k=0,j={},K,Q;{var ne=x.Sheets;C.Worksheets=ne.length,C.SheetNames=[];for(var ae=0;ae!=ne.length;++ae)C.SheetNames[ae]=ne[ae].name}var ee=s?"bin":"xml",M=i.workbooks[0].lastIndexOf("/"),H=(i.workbooks[0].slice(0,M+1)+"_rels/"+i.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");Fa(t,H)||(H="xl/_rels/workbook."+ee+".rels");var O=af(ua(t,H,!0),H.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=IV(oi(t,Sa(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=y7(oi(t,Sa(i.people[0])),e)),O&&(O=fj(O,x.Sheets));var z=oi(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(k=0;k!=C.Worksheets;++k){var J="sheet";if(O&&O[k]?(K="xl/"+O[k][1].replace(/[\/]?xl\//,""),Fa(t,K)||(K=O[k][1]),Fa(t,K)||(K=H.replace(/_rels\/.*$/,"")+O[k][1]),J=O[k][2]):(K="xl/worksheets/sheet"+(k+1-z)+"."+ee,K=K.replace(/sheet0\./,"sheet.")),Q=K.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(k!=e.sheets)continue e;break;case"string":if(C.SheetNames[k].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var W=!1,X=0;X!=e.sheets.length;++X)typeof e.sheets[X]=="number"&&e.sheets[X]==k&&(W=1),typeof e.sheets[X]=="string"&&e.sheets[X].toLowerCase()==C.SheetNames[k].toLowerCase()&&(W=1);if(!W)continue e}}dj(t,K,Q,C.SheetNames[k],k,j,A,J,e,x,h,d)}return D={Directory:i,Workbook:x,Props:C,Custprops:N,Deps:R,Sheets:A,SheetNames:C.SheetNames,Strings:lf,Styles:d,Themes:h,SSF:Gi(pn)},e&&e.bookFiles&&(t.files?(D.keys=r,D.files=t.files):(D.keys=[],D.files={},t.FullPaths.forEach(function(Me,Ee){Me=Me.replace(/^Root Entry[\/]/,""),D.keys.push(Me),D.files[Me]=t.FileIndex[Ee]}))),e&&e.bookVBA&&(i.vba.length>0?D.vbaraw=oi(t,Sa(i.vba[0]),!0):i.defaults&&i.defaults.bin===_7&&(D.vbaraw=oi(t,"xl/vbaProject.bin",!0))),D}function gj(t,e){var n=e||{},r="Workbook",i=Un.find(t,r);try{if(r="/!DataSpaces/Version",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(oQ(i.content),r="/!DataSpaces/DataSpaceMap",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=lQ(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var A=cQ(i.content);if(A.length!=1||A[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);fQ(i.content)}catch{}if(r="/EncryptionInfo",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var u=dQ(i.content);if(r="/EncryptedPackage",i=Un.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,n.password||"",n);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Tw(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=ha(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function pj(t,e){return Un.find(t,"EncryptedPackage")?gj(t,e):g3(t,e)}function mj(t,e){var n,r=t,i=e||{};return i.type||(i.type=Fn&&Buffer.isBuffer(t)?"buffer":"base64"),n=AI(r,i),hj(n,i)}function w3(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return r2(t.slice(n),e);default:break e}return Bf.to_workbook(t,e)}function xj(t,e){var n="",r=Tw(t,e);switch(e.type){case"base64":n=ha(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ic(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=mr(n)),e.type="binary",w3(n,e)}function wj(t,e){var n=t;return e.type=="base64"&&(n=ha(n)),n=vf.utils.decode(1200,n.slice(2),"str"),e.type="binary",w3(n,e)}function vj(t){return t.match(/[^\x00-\x7F]/)?G0(t):t}function ux(t,e,n,r){return r?(n.type="string",Bf.to_workbook(t,n)):Bf.to_workbook(e,n)}function o2(t,e){GS();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return o2(new Uint8Array(t),(n=Gi(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),vu={},n.dateNF&&(vu.dateNF=n.dateNF),n.type||(n.type=Fn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Fn?"buffer":"binary",r=oO(t),typeof Uint8Array<"u"&&!Fn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=vj(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var A=new ArrayBuffer(3),u=new Uint8Array(A);if(u.foo="bar",!u.foo)return n=Gi(n),n.type="array",o2(iw(r),n)}switch((i=Tw(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pj(Un.read(r,n),n);break;case 9:if(i[1]<=8)return g3(r,n);break;case 60:return r2(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return X9(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return z9.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?mj(r,n):ux(t,r,n,s);case 239:return i[3]===60?r2(r,n):ux(t,r,n,s);case 255:if(i[1]===254)return wj(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Af.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Af.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return E_.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return _Q.to_workbook(r,n);break;case 10:case 13:case 32:return xj(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return G9.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?E_.to_workbook(r,n):ux(t,r,n,s)}function yj(t,e,n,r,i,s,A,u){var h=Ki(n),d=u.defval,x=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),C=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:n,enumerable:!1})}catch{_.__rowNum__=n}else _.__rowNum__=n;if(!A||t[n])for(var N=e.s.c;N<=e.e.c;++N){var D=A?t[n][N]:t[r[N]+h];if(D===void 0||D.t===void 0){if(d===void 0)continue;s[N]!=null&&(_[s[N]]=d);continue}var R=D.v;switch(D.t){case"z":if(R==null)break;continue;case"e":R=R==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+D.t)}if(s[N]!=null){if(R==null)if(D.t=="e"&&R===null)_[s[N]]=null;else if(d!==void 0)_[s[N]]=d;else if(x&&R===null)_[s[N]]=null;else continue;else _[s[N]]=x&&(D.t!=="n"||D.t==="n"&&u.rawNumbers!==!1)?R:oA(D,R,u);R!=null&&(C=!1)}}return{row:_,isempty:C}}function A2(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],A=0,u="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},x=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof x){case"string":h=Gr(x);break;case"number":h=Gr(t["!ref"]),h.s.r=x;break;default:h=x}r>0&&(i=0);var C=Ki(h.s.r),_=[],N=[],D=0,R=0,k=Array.isArray(t),j=h.s.r,K=0,Q={};k&&!t[j]&&(t[j]=[]);var ne=d.skipHidden&&t["!cols"]||[],ae=d.skipHidden&&t["!rows"]||[];for(K=h.s.c;K<=h.e.c;++K)if(!(ne[K]||{}).hidden)switch(_[K]=mi(K),n=k?t[j][K]:t[_[K]+C],r){case 1:s[K]=K-h.s.c;break;case 2:s[K]=_[K];break;case 3:s[K]=d.header[K-h.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),u=A=oA(n,null,d),R=Q[A]||0,!R)Q[A]=1;else{do u=A+"_"+R++;while(Q[u]);Q[A]=R,Q[u]=1}s[K]=u}for(j=h.s.r+i;j<=h.e.r;++j)if(!(ae[j]||{}).hidden){var ee=yj(t,h,j,_,r,s,k,d);(ee.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(N[D++]=ee.row)}return N.length=D,N}var P_=/"/g;function Cj(t,e,n,r,i,s,A,u){for(var h=!0,d=[],x="",C=Ki(n),_=e.s.c;_<=e.e.c;++_)if(r[_]){var N=u.dense?(t[n]||[])[_]:t[r[_]+C];if(N==null)x="";else if(N.v!=null){h=!1,x=""+(u.rawNumbers&&N.t=="n"?N.v:oA(N,null,u));for(var D=0,R=0;D!==x.length;++D)if((R=x.charCodeAt(D))===i||R===s||R===34||u.forceQuotes){x='"'+x.replace(P_,'""')+'"';break}x=="ID"&&(x='"ID"')}else N.f!=null&&!N.F?(h=!1,x="="+N.f,x.indexOf(",")>=0&&(x='"'+x.replace(P_,'""')+'"')):x="";d.push(x)}return u.blankrows===!1&&h?null:d.join(A)}function v3(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Gr(t["!ref"]),s=r.FS!==void 0?r.FS:",",A=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,h=u.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),x="",C=[];r.dense=Array.isArray(t);for(var _=r.skipHidden&&t["!cols"]||[],N=r.skipHidden&&t["!rows"]||[],D=i.s.c;D<=i.e.c;++D)(_[D]||{}).hidden||(C[D]=mi(D));for(var R=0,k=i.s.r;k<=i.e.r;++k)(N[k]||{}).hidden||(x=Cj(t,i,k,C,A,h,s,r),x!=null&&(r.strip&&(x=x.replace(d,"")),(x||r.blankrows!==!1)&&n.push((R++?u:"")+x)));return delete r.dense,n.join("")}function Ej(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=v3(t,e);return n}function Bj(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Gr(t["!ref"]),s="",A=[],u,h=[],d=Array.isArray(t);for(u=i.s.c;u<=i.e.c;++u)A[u]=mi(u);for(var x=i.s.r;x<=i.e.r;++x)for(s=Ki(x),u=i.s.c;u<=i.e.c;++u)if(e=A[u]+s,n=d?(t[x]||[])[u]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}h[h.length]=e+"="+r}return h}function y3(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},A=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")A=r.origin;else{var h=typeof r.origin=="string"?Es(r.origin):r.origin;A=h.r,u=h.c}var d,x={s:{c:0,r:0},e:{c:u,r:A+e.length-1+i}};if(s["!ref"]){var C=Gr(s["!ref"]);x.e.c=Math.max(x.e.c,C.e.c),x.e.r=Math.max(x.e.r,C.e.r),A==-1&&(A=C.e.r+1,x.e.r=A+e.length-1+i)}else A==-1&&(A=0,x.e.r=e.length-1+i);var _=r.header||[],N=0;e.forEach(function(R,k){Co(R).forEach(function(j){(N=_.indexOf(j))==-1&&(_[N=_.length]=j);var K=R[j],Q="z",ne="",ae=An({c:u+N,r:A+k+i});d=Sf(s,ae),K&&typeof K=="object"&&!(K instanceof Date)?s[ae]=K:(typeof K=="number"?Q="n":typeof K=="boolean"?Q="b":typeof K=="string"?Q="s":K instanceof Date?(Q="d",r.cellDates||(Q="n",K=Ts(K)),ne=r.dateNF||pn[14]):K===null&&r.nullError&&(Q="e",K=0),d?(d.t=Q,d.v=K,delete d.w,delete d.R,ne&&(d.z=ne)):s[ae]=d={t:Q,v:K},ne&&(d.z=ne))})}),x.e.c=Math.max(x.e.c,u+_.length-1);var D=Ki(A);if(i)for(N=0;N<_.length;++N)s[mi(N+u)+D]={t:"s",v:_[N]};return s["!ref"]=kn(x),s}function _j(t,e){return y3(null,t,e)}function Sf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Es(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Sf(t,An(e)):Sf(t,An({r:e,c:n||0}))}function Tj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function bw(){return{SheetNames:[],Sheets:{}}}function Sw(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var A=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=A+i)!=-1;++i);}if(cV(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function bj(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Tj(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Sj(t,e){return t.z=e,t}function C3(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Ij(t,e,n){return C3(t,"#"+e,n)}function Nj(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Fj(t,e,n,r){for(var i=typeof e!="string"?e:Gr(e),s=typeof e=="string"?e:kn(e),A=i.s.r;A<=i.e.r;++A)for(var u=i.s.c;u<=i.e.c;++u){var h=Sf(t,A,u);h.t="n",h.F=s,delete h.v,A==i.s.r&&u==i.s.c&&(h.f=n,r&&(h.D=!0))}return t}var Rj={encode_col:mi,encode_row:Ki,encode_cell:An,encode_range:kn,decode_col:dw,decode_row:fw,split_cell:jO,decode_cell:Es,decode_range:Mu,format_cell:oA,sheet_add_aoa:TI,sheet_add_json:y3,sheet_add_dom:p3,aoa_to_sheet:Ou,json_to_sheet:_j,table_to_sheet:m3,table_to_book:XV,sheet_to_csv:v3,sheet_to_txt:Ej,sheet_to_json:A2,sheet_to_html:WV,sheet_to_formulae:Bj,sheet_to_row_object_array:A2,sheet_get_cell:Sf,book_new:bw,book_append_sheet:Sw,book_set_sheet_visibility:bj,cell_set_number_format:Sj,cell_set_hyperlink:C3,cell_set_internal_link:Ij,cell_add_comment:Nj,sheet_set_array_formula:Fj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Mt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mt||(Mt={}));var H_=new Map([[Mt.QR_CODE,"QR_CODE"],[Mt.AZTEC,"AZTEC"],[Mt.CODABAR,"CODABAR"],[Mt.CODE_39,"CODE_39"],[Mt.CODE_93,"CODE_93"],[Mt.CODE_128,"CODE_128"],[Mt.DATA_MATRIX,"DATA_MATRIX"],[Mt.MAXICODE,"MAXICODE"],[Mt.ITF,"ITF"],[Mt.EAN_13,"EAN_13"],[Mt.EAN_8,"EAN_8"],[Mt.PDF_417,"PDF_417"],[Mt.RSS_14,"RSS_14"],[Mt.RSS_EXPANDED,"RSS_EXPANDED"],[Mt.UPC_A,"UPC_A"],[Mt.UPC_E,"UPC_E"],[Mt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),V_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(V_||(V_={}));function Dj(t){return Object.values(Mt).includes(t)}var D1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(D1||(D1={}));var Uj=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[D1.SCAN_TYPE_CAMERA,D1.SCAN_TYPE_FILE],t})(),E3=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!H_.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,H_.get(e))},t})(),j_=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),l2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(l2||(l2={}));var kj=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:l2.UNKWOWN_ERROR}},t})(),Mj=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function tA(t){return typeof t>"u"||t===null}var hu=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),B3=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),A=Object.keys(e),u=0,h=A;u<h.length;u++){var d=h[u];if(s.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},t})(),K0={exports:{}},Oj=K0.exports,G_;function Lj(){return G_||(G_=1,(function(t,e){(function(n,r){r(e)})(Oj,(function(n){function r(q){return q==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,o){q.__proto__=o}||function(q,o){for(var c in o)o.hasOwnProperty(c)&&(q[c]=o[c])};function s(q,o){i(q,o);function c(){this.constructor=q}q.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}function A(q,o){var c=Object.setPrototypeOf;c?c(q,o):q.__proto__=o}function u(q,o){o===void 0&&(o=q.constructor);var c=Error.captureStackTrace;c&&c(q,o)}var h=(function(q){s(o,q);function o(c){var f=this.constructor,m=q.call(this,c)||this;return Object.defineProperty(m,"name",{value:f.name,enumerable:!1}),A(m,f.prototype),u(m),m}return o})(Error);class d extends h{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}d.kind="Exception";class x extends d{}x.kind="ArgumentException";class C extends d{}C.kind="IllegalArgumentException";class _{constructor(o){if(this.binarizer=o,o===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,c){return this.binarizer.getBlackRow(o,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,c,f,m){const w=this.binarizer.getLuminanceSource().crop(o,c,f,m);return new _(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends d{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class D{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(o,c,f,m,w){for(;w--;)f[m++]=o[c++]}static currentTimeMillis(){return Date.now()}}class k extends d{}k.kind="IndexOutOfBoundsException";class j extends k{constructor(o=void 0,c=void 0){super(c),this.index=o,this.message=c}}j.kind="ArrayIndexOutOfBoundsException";class K{static fill(o,c){for(let f=0,m=o.length;f<m;f++)o[f]=c}static fillWithin(o,c,f,m){K.rangeCheck(o.length,c,f);for(let w=c;w<f;w++)o[w]=m}static rangeCheck(o,c,f){if(c>f)throw new C("fromIndex("+c+") > toIndex("+f+")");if(c<0)throw new j(c);if(f>o)throw new j(f)}static asList(...o){return o}static create(o,c,f){return Array.from({length:o}).map(w=>Array.from({length:c}).fill(f))}static createInt32Array(o,c,f){return Array.from({length:o}).map(w=>Int32Array.from({length:c}).fill(f))}static equals(o,c){if(!o||!c||!o.length||!c.length||o.length!==c.length)return!1;for(let f=0,m=o.length;f<m;f++)if(o[f]!==c[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let c=1;for(const f of o)c=31*c+f;return c}static fillUint8Array(o,c){for(let f=0;f!==o.length;f++)o[f]=c}static copyOf(o,c){return o.slice(0,c)}static copyOfUint8Array(o,c){if(o.length<=c){const f=new Uint8Array(c);return f.set(o),f}return o.slice(0,c)}static copyOfRange(o,c,f){const m=f-c,w=new Int32Array(m);return R.arraycopy(o,c,w,0,m),w}static binarySearch(o,c,f){f===void 0&&(f=K.numberComparator);let m=0,w=o.length-1;for(;m<=w;){const y=w+m>>1,B=f(c,o[y]);if(B>0)m=y+1;else if(B<0)w=y-1;else return y}return-m-1}static numberComparator(o,c){return o-c}}class Q{static numberOfTrailingZeros(o){let c;if(o===0)return 32;let f=31;return c=o<<16,c!==0&&(f-=16,o=c),c=o<<8,c!==0&&(f-=8,o=c),c=o<<4,c!==0&&(f-=4,o=c),c=o<<2,c!==0&&(f-=2,o=c),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let c=1;return o>>>16||(c+=16,o<<=16),o>>>24||(c+=8,o<<=8),o>>>28||(c+=4,o<<=4),o>>>30||(c+=2,o<<=2),c-=o>>>31,c}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,c){return Math.trunc(o/c)}static parseInt(o,c=void 0){return parseInt(o,c)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(o,c){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,c==null?this.bits=ne.makeArray(o):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const c=ne.makeArray(o);R.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const c=this.size;if(o>=c)return c;const f=this.bits;let m=Math.floor(o/32),w=f[m];w&=~((1<<(o&31))-1);const y=f.length;for(;w===0;){if(++m===y)return c;w=f[m]}const B=m*32+Q.numberOfTrailingZeros(w);return B>c?c:B}getNextUnset(o){const c=this.size;if(o>=c)return c;const f=this.bits;let m=Math.floor(o/32),w=~f[m];w&=~((1<<(o&31))-1);const y=f.length;for(;w===0;){if(++m===y)return c;w=~f[m]}const B=m*32+Q.numberOfTrailingZeros(w);return B>c?c:B}setBulk(o,c){this.bits[Math.floor(o/32)]=c}setRange(o,c){if(c<o||o<0||c>this.size)throw new C;if(c===o)return;c--;const f=Math.floor(o/32),m=Math.floor(c/32),w=this.bits;for(let y=f;y<=m;y++){const B=y>f?0:o&31,U=(2<<(y<m?31:c&31))-(1<<B);w[y]|=U}}clear(){const o=this.bits.length,c=this.bits;for(let f=0;f<o;f++)c[f]=0}isRange(o,c,f){if(c<o||o<0||c>this.size)throw new C;if(c===o)return!0;c--;const m=Math.floor(o/32),w=Math.floor(c/32),y=this.bits;for(let B=m;B<=w;B++){const I=B>m?0:o&31,P=(2<<(B<w?31:c&31))-(1<<I)&4294967295;if((y[B]&P)!==(f?P:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,c){if(c<0||c>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let f=c;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const c=o.size;this.ensureCapacity(this.size+c);for(let f=0;f<c;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new C("Sizes don't match");const c=this.bits;for(let f=0,m=c.length;f<m;f++)c[f]^=o.bits[f]}toBytes(o,c,f,m){for(let w=0;w<m;w++){let y=0;for(let B=0;B<8;B++)this.get(o)&&(y|=1<<7-B),o++;c[f+w]=y}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),f=c+1,m=this.bits;for(let w=0;w<f;w++){let y=m[w];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,o[c-w]=y}if(this.size!==f*32){const w=f*32-this.size;let y=o[0]>>>w;for(let B=1;B<f;B++){const I=o[B];y|=I<<32-w,o[B-1]=y,y=I>>>w}o[f-1]=y}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof ne))return!1;const c=o;return this.size===c.size&&K.equals(this.bits,c.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let o="";for(let c=0,f=this.size;c<f;c++)(c&7)===0&&(o+=" "),o+=this.get(c)?"X":".";return o}clone(){return new ne(this.size,this.bits.slice())}}var ae;(function(q){q[q.OTHER=0]="OTHER",q[q.PURE_BARCODE=1]="PURE_BARCODE",q[q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",q[q.TRY_HARDER=3]="TRY_HARDER",q[q.CHARACTER_SET=4]="CHARACTER_SET",q[q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",q[q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",q[q.ASSUME_GS1=7]="ASSUME_GS1",q[q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",q[q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",q[q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ae||(ae={}));var ee=ae;class M extends d{static getFormatInstance(){return new M}}M.kind="FormatException";var H;(function(q){q[q.Cp437=0]="Cp437",q[q.ISO8859_1=1]="ISO8859_1",q[q.ISO8859_2=2]="ISO8859_2",q[q.ISO8859_3=3]="ISO8859_3",q[q.ISO8859_4=4]="ISO8859_4",q[q.ISO8859_5=5]="ISO8859_5",q[q.ISO8859_6=6]="ISO8859_6",q[q.ISO8859_7=7]="ISO8859_7",q[q.ISO8859_8=8]="ISO8859_8",q[q.ISO8859_9=9]="ISO8859_9",q[q.ISO8859_10=10]="ISO8859_10",q[q.ISO8859_11=11]="ISO8859_11",q[q.ISO8859_13=12]="ISO8859_13",q[q.ISO8859_14=13]="ISO8859_14",q[q.ISO8859_15=14]="ISO8859_15",q[q.ISO8859_16=15]="ISO8859_16",q[q.SJIS=16]="SJIS",q[q.Cp1250=17]="Cp1250",q[q.Cp1251=18]="Cp1251",q[q.Cp1252=19]="Cp1252",q[q.Cp1256=20]="Cp1256",q[q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",q[q.UTF8=22]="UTF8",q[q.ASCII=23]="ASCII",q[q.Big5=24]="Big5",q[q.GB18030=25]="GB18030",q[q.EUC_KR=26]="EUC_KR"})(H||(H={}));class O{constructor(o,c,f,...m){this.valueIdentifier=o,this.name=f,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=m,O.VALUE_IDENTIFIER_TO_ECI.set(o,this),O.NAME_TO_ECI.set(f,this);const w=this.values;for(let y=0,B=w.length;y!==B;y++){const I=w[y];O.VALUES_TO_ECI.set(I,this)}for(const y of m)O.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new M("incorect value");const c=O.VALUES_TO_ECI.get(o);if(c===void 0)throw new M("incorect value");return c}static getCharacterSetECIByName(o){const c=O.NAME_TO_ECI.get(o);if(c===void 0)throw new M("incorect value");return c}equals(o){if(!(o instanceof O))return!1;const c=o;return this.getName()===c.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(H.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(H.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(H.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(H.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(H.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(H.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(H.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(H.Big5,28,"Big5"),O.GB18030=new O(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(H.EUC_KR,30,"EUC_KR","EUC-KR");class z extends d{}z.kind="UnsupportedOperationException";class J{static decode(o,c){const f=this.encodingName(c);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!J.isBrowser()&&o==="ISO-8859-1"}static encode(o,c){const f=this.encodingName(c);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof O?o:O.getCharacterSetECIByName(o)}static decodeFallback(o,c){const f=this.encodingCharacterSet(c);if(J.isDecodeFallbackSupported(f)){let m="";for(let w=0,y=o.length;w<y;w++){let B=o[w].toString(16);B.length<2&&(B="0"+B),m+="%"+B}return decodeURIComponent(m)}if(f.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new z(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(O.UTF8)||o.equals(O.ISO8859_1)||o.equals(O.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),m=[];for(let w=0;w<f.length;w++)m.push(f[w].charCodeAt(0));return new Uint8Array(m)}}class W{static castAsNonUtf8Char(o,c=null){const f=c?c.getName():this.ISO88591;return J.decode(new Uint8Array([o]),f)}static guessEncoding(o,c){if(c!=null&&c.get(ee.CHARACTER_SET)!==void 0)return c.get(ee.CHARACTER_SET).toString();const f=o.length;let m=!0,w=!0,y=!0,B=0,I=0,U=0,P=0,Y=0,re=0,ye=0,be=0,Ie=0,Le=0,$e=0;const Ct=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let vt=0;vt<f&&(m||w||y);vt++){const dt=o[vt]&255;y&&(B>0?(dt&128)===0?y=!1:B--:(dt&128)!==0&&((dt&64)===0?y=!1:(B++,(dt&32)===0?I++:(B++,(dt&16)===0?U++:(B++,(dt&8)===0?P++:y=!1))))),m&&(dt>127&&dt<160?m=!1:dt>159&&(dt<192||dt===215||dt===247)&&$e++),w&&(Y>0?dt<64||dt===127||dt>252?w=!1:Y--:dt===128||dt===160||dt>239?w=!1:dt>160&&dt<224?(re++,be=0,ye++,ye>Ie&&(Ie=ye)):dt>127?(Y++,ye=0,be++,be>Le&&(Le=be)):(ye=0,be=0))}return y&&B>0&&(y=!1),w&&Y>0&&(w=!1),y&&(Ct||I+U+P>0)?W.UTF8:w&&(W.ASSUME_SHIFT_JIS||Ie>=3||Le>=3)?W.SHIFT_JIS:m&&w?Ie===2&&re===2||$e*10>=f?W.SHIFT_JIS:W.ISO88591:m?W.ISO88591:w?W.SHIFT_JIS:y?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(o,...c){let f=-1;function m(y,B,I,U,P,Y){if(y==="%%")return"%";if(c[++f]===void 0)return;y=U?parseInt(U.substr(1)):void 0;let re=P?parseInt(P.substr(1)):void 0,ye;switch(Y){case"s":ye=c[f];break;case"c":ye=c[f][0];break;case"f":ye=parseFloat(c[f]).toFixed(y);break;case"p":ye=parseFloat(c[f]).toPrecision(y);break;case"e":ye=parseFloat(c[f]).toExponential(y);break;case"x":ye=parseInt(c[f]).toString(re||16);break;case"d":ye=parseFloat(parseInt(c[f],re||10).toPrecision(y)).toFixed(0);break}ye=typeof ye=="object"?JSON.stringify(ye):(+ye).toString(re);let be=parseInt(I),Ie=I&&I[0]+""=="0"?"0":" ";for(;ye.length<be;)ye=B!==void 0?ye+Ie:Ie+ye;return ye}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,m)}static getBytes(o,c){return J.encode(o,c)}static getCharCode(o,c=0){return o.charCodeAt(c)}static getCharAt(o){return String.fromCharCode(o)}}W.SHIFT_JIS=O.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=O.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=O.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class X{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=W.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,c,f){for(let m=c;c<c+f;m++)this.append(o[m]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+1)}substring(o,c){return this.value.substring(o,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+c.length)}}class Me{constructor(o,c,f,m){if(this.width=o,this.height=c,this.rowSize=f,this.bits=m,c==null&&(c=o),this.height=c,o<1||c<1)throw new C("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const c=o.length,f=o[0].length,m=new Me(f,c);for(let w=0;w<c;w++){const y=o[w];for(let B=0;B<f;B++)y[B]&&m.set(B,w)}return m}static parseFromString(o,c,f){if(o===null)throw new C("stringRepresentation cannot be null");const m=new Array(o.length);let w=0,y=0,B=-1,I=0,U=0;for(;U<o.length;)if(o.charAt(U)===`
`||o.charAt(U)==="\r"){if(w>y){if(B===-1)B=w-y;else if(w-y!==B)throw new C("row lengths do not match");y=w,I++}U++}else if(o.substring(U,U+c.length)===c)U+=c.length,m[w]=!0,w++;else if(o.substring(U,U+f.length)===f)U+=f.length,m[w]=!1,w++;else throw new C("illegal character encountered: "+o.substring(U));if(w>y){if(B===-1)B=w-y;else if(w-y!==B)throw new C("row lengths do not match");I++}const P=new Me(B,I);for(let Y=0;Y<w;Y++)m[Y]&&P.set(Math.floor(Y%B),Math.floor(Y/B));return P}get(o,c){const f=c*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,c){const f=c*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new C("input matrix dimensions do not match");const c=new ne(Math.floor(this.width/32)+1),f=this.rowSize,m=this.bits;for(let w=0,y=this.height;w<y;w++){const B=w*f,I=o.getRow(w,c).getBitArray();for(let U=0;U<f;U++)m[B+U]^=I[U]}}clear(){const o=this.bits,c=o.length;for(let f=0;f<c;f++)o[f]=0}setRegion(o,c,f,m){if(c<0||o<0)throw new C("Left and top must be nonnegative");if(m<1||f<1)throw new C("Height and width must be at least 1");const w=o+f,y=c+m;if(y>this.height||w>this.width)throw new C("The region must fit inside the matrix");const B=this.rowSize,I=this.bits;for(let U=c;U<y;U++){const P=U*B;for(let Y=o;Y<w;Y++)I[P+Math.floor(Y/32)]|=1<<(Y&31)&4294967295}}getRow(o,c){c==null||c.getSize()<this.width?c=new ne(this.width):c.clear();const f=this.rowSize,m=this.bits,w=o*f;for(let y=0;y<f;y++)c.setBulk(y*32,m[w+y]);return c}setRow(o,c){R.arraycopy(c.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),c=this.getHeight();let f=new ne(o),m=new ne(o);for(let w=0,y=Math.floor((c+1)/2);w<y;w++)f=this.getRow(w,f),m=this.getRow(c-1-w,m),f.reverse(),m.reverse(),this.setRow(w,m),this.setRow(c-1-w,f)}getEnclosingRectangle(){const o=this.width,c=this.height,f=this.rowSize,m=this.bits;let w=o,y=c,B=-1,I=-1;for(let U=0;U<c;U++)for(let P=0;P<f;P++){const Y=m[U*f+P];if(Y!==0){if(U<y&&(y=U),U>I&&(I=U),P*32<w){let re=0;for(;(Y<<31-re&4294967295)===0;)re++;P*32+re<w&&(w=P*32+re)}if(P*32+31>B){let re=31;for(;!(Y>>>re);)re--;P*32+re>B&&(B=P*32+re)}}}return B<w||I<y?null:Int32Array.from([w,y,B-w+1,I-y+1])}getTopLeftOnBit(){const o=this.rowSize,c=this.bits;let f=0;for(;f<c.length&&c[f]===0;)f++;if(f===c.length)return null;const m=f/o;let w=f%o*32;const y=c[f];let B=0;for(;(y<<31-B&4294967295)===0;)B++;return w+=B,Int32Array.from([w,m])}getBottomRightOnBit(){const o=this.rowSize,c=this.bits;let f=c.length-1;for(;f>=0&&c[f]===0;)f--;if(f<0)return null;const m=Math.floor(f/o);let w=Math.floor(f%o)*32;const y=c[f];let B=31;for(;!(y>>>B);)B--;return w+=B,Int32Array.from([w,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Me))return!1;const c=o;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&K.equals(this.bits,c.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+K.hashCode(this.bits),o}toString(o="X ",c="  ",f=`
`){return this.buildToString(o,c,f)}buildToString(o,c,f){let m=new X;for(let w=0,y=this.height;w<y;w++){for(let B=0,I=this.width;B<I;B++)m.append(this.get(B,w)?o:c);m.append(f)}return m.toString()}clone(){return new Me(this.width,this.height,this.rowSize,this.bits.slice())}}class Ee extends d{static getNotFoundInstance(){return new Ee}}Ee.kind="NotFoundException";class ve extends D{constructor(o){super(o),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(o,c){const f=this.getLuminanceSource(),m=f.getWidth();c==null||c.getSize()<m?c=new ne(m):c.clear(),this.initArrays(m);const w=f.getRow(o,this.luminances),y=this.buckets;for(let I=0;I<m;I++)y[(w[I]&255)>>ve.LUMINANCE_SHIFT]++;const B=ve.estimateBlackPoint(y);if(m<3)for(let I=0;I<m;I++)(w[I]&255)<B&&c.set(I);else{let I=w[0]&255,U=w[1]&255;for(let P=1;P<m-1;P++){const Y=w[P+1]&255;(U*4-I-Y)/2<B&&c.set(P),I=U,U=Y}}return c}getBlackMatrix(){const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight(),m=new Me(c,f);this.initArrays(c);const w=this.buckets;for(let I=1;I<5;I++){const U=Math.floor(f*I/5),P=o.getRow(U,this.luminances),Y=Math.floor(c*4/5);for(let re=Math.floor(c/5);re<Y;re++){const ye=P[re]&255;w[ye>>ve.LUMINANCE_SHIFT]++}}const y=ve.estimateBlackPoint(w),B=o.getMatrix();for(let I=0;I<f;I++){const U=I*c;for(let P=0;P<c;P++)(B[U+P]&255)<y&&m.set(P,I)}return m}createBinarizer(o){return new ve(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const c=this.buckets;for(let f=0;f<ve.LUMINANCE_BUCKETS;f++)c[f]=0}static estimateBlackPoint(o){const c=o.length;let f=0,m=0,w=0;for(let P=0;P<c;P++)o[P]>w&&(m=P,w=o[P]),o[P]>f&&(f=o[P]);let y=0,B=0;for(let P=0;P<c;P++){const Y=P-m,re=o[P]*Y*Y;re>B&&(y=P,B=re)}if(m>y){const P=m;m=y,y=P}if(y-m<=c/16)throw new Ee;let I=y-1,U=-1;for(let P=y-1;P>m;P--){const Y=P-m,re=Y*Y*(y-P)*(f-o[P]);re>U&&(I=P,U=re)}return I<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class oe extends ve{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),c=o.getWidth(),f=o.getHeight();if(c>=oe.MINIMUM_DIMENSION&&f>=oe.MINIMUM_DIMENSION){const m=o.getMatrix();let w=c>>oe.BLOCK_SIZE_POWER;(c&oe.BLOCK_SIZE_MASK)!==0&&w++;let y=f>>oe.BLOCK_SIZE_POWER;(f&oe.BLOCK_SIZE_MASK)!==0&&y++;const B=oe.calculateBlackPoints(m,w,y,c,f),I=new Me(c,f);oe.calculateThresholdForBlock(m,w,y,c,f,B,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new oe(o)}static calculateThresholdForBlock(o,c,f,m,w,y,B){const I=w-oe.BLOCK_SIZE,U=m-oe.BLOCK_SIZE;for(let P=0;P<f;P++){let Y=P<<oe.BLOCK_SIZE_POWER;Y>I&&(Y=I);const re=oe.cap(P,2,f-3);for(let ye=0;ye<c;ye++){let be=ye<<oe.BLOCK_SIZE_POWER;be>U&&(be=U);const Ie=oe.cap(ye,2,c-3);let Le=0;for(let Ct=-2;Ct<=2;Ct++){const vt=y[re+Ct];Le+=vt[Ie-2]+vt[Ie-1]+vt[Ie]+vt[Ie+1]+vt[Ie+2]}const $e=Le/25;oe.thresholdBlock(o,be,Y,$e,m,B)}}}static cap(o,c,f){return o<c?c:o>f?f:o}static thresholdBlock(o,c,f,m,w,y){for(let B=0,I=f*w+c;B<oe.BLOCK_SIZE;B++,I+=w)for(let U=0;U<oe.BLOCK_SIZE;U++)(o[I+U]&255)<=m&&y.set(c+U,f+B)}static calculateBlackPoints(o,c,f,m,w){const y=w-oe.BLOCK_SIZE,B=m-oe.BLOCK_SIZE,I=new Array(f);for(let U=0;U<f;U++){I[U]=new Int32Array(c);let P=U<<oe.BLOCK_SIZE_POWER;P>y&&(P=y);for(let Y=0;Y<c;Y++){let re=Y<<oe.BLOCK_SIZE_POWER;re>B&&(re=B);let ye=0,be=255,Ie=0;for(let $e=0,Ct=P*m+re;$e<oe.BLOCK_SIZE;$e++,Ct+=m){for(let vt=0;vt<oe.BLOCK_SIZE;vt++){const dt=o[Ct+vt]&255;ye+=dt,dt<be&&(be=dt),dt>Ie&&(Ie=dt)}if(Ie-be>oe.MIN_DYNAMIC_RANGE)for($e++,Ct+=m;$e<oe.BLOCK_SIZE;$e++,Ct+=m)for(let vt=0;vt<oe.BLOCK_SIZE;vt++)ye+=o[Ct+vt]&255}let Le=ye>>oe.BLOCK_SIZE_POWER*2;if(Ie-be<=oe.MIN_DYNAMIC_RANGE&&(Le=be/2,U>0&&Y>0)){const $e=(I[U-1][Y]+2*I[U][Y-1]+I[U-1][Y-1])/4;be<$e&&(Le=$e)}I[U][Y]=Le}}return I}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class je{constructor(o,c){this.width=o,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,c,f,m){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let c=new X;for(let f=0;f<this.height;f++){const m=this.getRow(f,o);for(let w=0;w<this.width;w++){const y=m[w]&255;let B;y<64?B="#":y<128?B="+":y<192?B=".":B=" ",c.append(B)}c.append(`
`)}return c.toString()}}class Be extends je{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,c){const f=this.delegate.getRow(o,c),m=this.getWidth();for(let w=0;w<m;w++)f[w]=255-(f[w]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(c);for(let m=0;m<c;m++)f[m]=255-(o[m]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,c,f,m){return new Be(this.delegate.crop(o,c,f,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Ze extends je{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Ze.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const c=o.getContext("2d").getImageData(0,0,o.width,o.height);return Ze.toGrayscaleBuffer(c.data,o.width,o.height)}static toGrayscaleBuffer(o,c,f){const m=new Uint8ClampedArray(c*f);for(let w=0,y=0,B=o.length;w<B;w+=4,y++){let I;if(o[w+3]===0)I=255;else{const P=o[w],Y=o[w+1],re=o[w+2];I=306*P+601*Y+117*re+512>>10}m[y]=I}return m}getRow(o,c){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth(),m=o*f;return c===null?c=this.buffer.slice(m,m+f):(c.length<f&&(c=new Uint8ClampedArray(f)),c.set(this.buffer.slice(m,m+f))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,c,f,m){return super.crop(o,c,f,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const c=this.getTempCanvasElement(),f=c.getContext("2d"),m=o*Ze.DEGREE_TO_RADIANS,w=this.canvas.width,y=this.canvas.height,B=Math.ceil(Math.abs(Math.cos(m))*w+Math.abs(Math.sin(m))*y),I=Math.ceil(Math.abs(Math.sin(m))*w+Math.abs(Math.cos(m))*y);return c.width=B,c.height=I,f.translate(B/2,I/2),f.rotate(m),f.drawImage(this.canvas,w/-2,y/-2),this.buffer=Ze.makeBufferFromCanvasImageData(c),this}invert(){return new Be(this)}}Ze.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(o,c,f){this.deviceId=o,this.label=c,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Z=(globalThis||sh||self||window||void 0)&&(globalThis||sh||self||window||void 0).__awaiter||function(q,o,c,f){function m(w){return w instanceof c?w:new c(function(y){y(w)})}return new(c||(c=Promise))(function(w,y){function B(P){try{U(f.next(P))}catch(Y){y(Y)}}function I(P){try{U(f.throw(P))}catch(Y){y(Y)}}function U(P){P.done?w(P.value):m(P.value).then(B,I)}U((f=f.apply(q,o||[])).next())})};class ge{constructor(o,c=500,f){this.reader=o,this.timeBetweenScansMillis=c,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const f of o){const m=f.kind==="video"?"videoinput":f.kind;if(m!=="videoinput")continue;const w=f.deviceId||f.id,y=f.label||`Video device ${c.length+1}`,B=f.groupId,I={deviceId:w,label:y,kind:m,groupId:B};c.push(I)}return c})}getVideoInputDevices(){return Z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new me(c.deviceId,c.label))})}findDeviceById(o){return Z(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,c){return Z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,c)})}decodeOnceFromVideoDevice(o,c){return Z(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeOnceFromConstraints(m,c)})}decodeOnceFromConstraints(o,c){return Z(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,c)})}decodeOnceFromStream(o,c){return Z(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,c);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,c,f){return Z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,c,f)})}decodeFromVideoDevice(o,c,f){return Z(this,void 0,void 0,function*(){let m;o?m={deviceId:{exact:o}}:m={facingMode:"environment"};const w={video:m};return yield this.decodeFromConstraints(w,c,f)})}decodeFromConstraints(o,c,f){return Z(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(m,c,f)})}decodeFromStream(o,c,f){return Z(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(o,c);return yield this.decodeContinuously(m,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,c){return Z(this,void 0,void 0,function*(){const f=this.prepareVideoElement(c);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((c,f)=>this.playVideoOnLoad(o,()=>c()))}playVideoOnLoad(o,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",c),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Z(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,c){const f=document.getElementById(o);if(!f)throw new x(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==c.toLowerCase())throw new x(`element with id '${o}' must be an ${c} element`);return f}decodeFromImage(o,c){if(!o&&!c)throw new x("either imageElement with a src set or an url must be provided");return c&&!o?this.decodeFromImageUrl(c):this.decodeFromImageElement(o)}decodeFromVideo(o,c){if(!o&&!c)throw new x("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,c,f){if(o===void 0&&c===void 0)throw new x("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrlContinuously(c,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new x("An image element must be provided.");this.reset();const c=this.prepareImageElement(o);this.imageElement=c;let f;return this.isImageLoaded(c)?f=this.decodeOnce(c,!1,!0):f=this._decodeOnLoadImage(c),f}decodeFromVideoElement(o){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(o,c){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,c)}_decodeFromVideoElementSetup(o){if(!o)throw new x("A video element must be provided.");this.reset();const c=this.prepareVideoElement(o);return this.videoElement=c,c}decodeFromImageUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const f=this._decodeOnLoadImage(c);return c.src=o,f}decodeFromVideoUrl(o){if(!o)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElement(c);return c.src=o,f}decodeFromVideoUrlContinuously(o,c){if(!o)throw new x("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(f,c);return f.src=o,m}_decodeOnLoadImage(o){return new Promise((c,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(c,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,c){return Z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,c)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let c;return typeof o>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(c=o),c}prepareVideoElement(o){let c;return!o&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(c=o),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(o,c=!0,f=!0){this._stopAsyncDecode=!1;const m=(w,y)=>{if(this._stopAsyncDecode){y(new Ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const B=this.decode(o);w(B)}catch(B){const I=c&&B instanceof Ee,P=(B instanceof N||B instanceof M)&&f;if(I||P)return setTimeout(m,this._timeBetweenDecodingAttempts,w,y);y(B)}};return new Promise((w,y)=>m(w,y))}decodeContinuously(o,c){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(o);c(m,null),setTimeout(f,this.timeBetweenScansMillis)}catch(m){c(null,m);const w=m instanceof N||m instanceof M,y=m instanceof Ee;(w||y)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const c=this.createBinaryBitmap(o);return this.decodeBitmap(c)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,c,f){c||(c={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(o,c,f=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const c=this.getCaptureCanvas(o),f=new Ze(c),m=new oe(f);return new _(m)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const c=this.createCaptureCanvas(o);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let f,m;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,m=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,m=o.naturalHeight||o.height)),c.style.width=f+"px",c.style.height=m+"px",c.width=f,c.height=m,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,c){try{o.srcObject=c}catch{o.src=URL.createObjectURL(c)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class le{constructor(o,c,f=c==null?0:8*c.length,m,w,y=R.currentTimeMillis()){this.text=o,this.rawBytes=c,this.numBits=f,this.resultPoints=m,this.format=w,this.timestamp=y,this.text=o,this.rawBytes=c,f==null?this.numBits=c==null?0:8*c.length:this.numBits=f,this.resultPoints=m,this.format=w,this.resultMetadata=null,y==null?this.timestamp=R.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,c)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const c=this.resultPoints;if(c===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(c.length+o.length);R.arraycopy(c,0,f,0,c.length),R.arraycopy(o,0,f,c.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ue;(function(q){q[q.AZTEC=0]="AZTEC",q[q.CODABAR=1]="CODABAR",q[q.CODE_39=2]="CODE_39",q[q.CODE_93=3]="CODE_93",q[q.CODE_128=4]="CODE_128",q[q.DATA_MATRIX=5]="DATA_MATRIX",q[q.EAN_8=6]="EAN_8",q[q.EAN_13=7]="EAN_13",q[q.ITF=8]="ITF",q[q.MAXICODE=9]="MAXICODE",q[q.PDF_417=10]="PDF_417",q[q.QR_CODE=11]="QR_CODE",q[q.RSS_14=12]="RSS_14",q[q.RSS_EXPANDED=13]="RSS_EXPANDED",q[q.UPC_A=14]="UPC_A",q[q.UPC_E=15]="UPC_E",q[q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var xe=ue,Ye;(function(q){q[q.OTHER=0]="OTHER",q[q.ORIENTATION=1]="ORIENTATION",q[q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",q[q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",q[q.ISSUE_NUMBER=4]="ISSUE_NUMBER",q[q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",q[q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",q[q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",q[q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",q[q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",q[q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ye||(Ye={}));var Ne=Ye;class _e{constructor(o,c,f,m,w=-1,y=-1){this.rawBytes=o,this.text=c,this.byteSegments=f,this.ecLevel=m,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=y,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}static addOrSubtract(o,c){return o^c}}class yt{constructor(o,c){if(c.length===0)throw new C;this.field=o;const f=c.length;if(f>1&&c[0]===0){let m=1;for(;m<f&&c[m]===0;)m++;m===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-m),R.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const c=this.coefficients;let f;if(o===1){f=0;for(let y=0,B=c.length;y!==B;y++){const I=c[y];f=Oe.addOrSubtract(f,I)}return f}f=c[0];const m=c.length,w=this.field;for(let y=1;y<m;y++)f=Oe.addOrSubtract(w.multiply(o,f),c[y]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){const y=c;c=f,f=y}let m=new Int32Array(f.length);const w=f.length-c.length;R.arraycopy(f,0,m,0,w);for(let y=w;y<f.length;y++)m[y]=Oe.addOrSubtract(c[y-w],f[y]);return new yt(this.field,m)}multiply(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const c=this.coefficients,f=c.length,m=o.coefficients,w=m.length,y=new Int32Array(f+w-1),B=this.field;for(let I=0;I<f;I++){const U=c[I];for(let P=0;P<w;P++)y[I+P]=Oe.addOrSubtract(y[I+P],B.multiply(U,m[P]))}return new yt(B,y)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const c=this.coefficients.length,f=this.field,m=new Int32Array(c),w=this.coefficients;for(let y=0;y<c;y++)m[y]=f.multiply(w[y],o);return new yt(f,m)}multiplyByMonomial(o,c){if(o<0)throw new C;if(c===0)return this.field.getZero();const f=this.coefficients,m=f.length,w=new Int32Array(m+o),y=this.field;for(let B=0;B<m;B++)w[B]=y.multiply(f[B],c);return new yt(y,w)}divide(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new C("Divide by 0");const c=this.field;let f=c.getZero(),m=this;const w=o.getCoefficient(o.getDegree()),y=c.inverse(w);for(;m.getDegree()>=o.getDegree()&&!m.isZero();){const B=m.getDegree()-o.getDegree(),I=c.multiply(m.getCoefficient(m.getDegree()),y),U=o.multiplyByMonomial(B,I),P=c.buildMonomial(B,I);f=f.addOrSubtract(P),m=m.addOrSubtract(U)}return[f,m]}toString(){let o="";for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),c===0||f!==1){const m=this.field.log(f);m===0?o+="1":m===1?o+="a":(o+="a^",o+=m)}c!==0&&(c===1?o+="x":(o+="x^",o+=c))}}return o}}class pe extends d{}pe.kind="ArithmeticException";class St extends Oe{constructor(o,c,f){super(),this.primitive=o,this.size=c,this.generatorBase=f;const m=new Int32Array(c);let w=1;for(let B=0;B<c;B++)m[B]=w,w*=2,w>=c&&(w^=o,w&=c-1);this.expTable=m;const y=new Int32Array(c);for(let B=0;B<c-1;B++)y[m[B]]=B;this.logTable=y,this.zero=new yt(this,Int32Array.from([0])),this.one=new yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new C;if(c===0)return this.zero;const f=new Int32Array(o+1);return f[0]=c,new yt(this,f)}inverse(o){if(o===0)throw new pe;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}St.AZTEC_DATA_12=new St(4201,4096,1),St.AZTEC_DATA_10=new St(1033,1024,1),St.AZTEC_DATA_6=new St(67,64,1),St.AZTEC_PARAM=new St(19,16,1),St.QR_CODE_FIELD_256=new St(285,256,0),St.DATA_MATRIX_FIELD_256=new St(301,256,1),St.AZTEC_DATA_8=St.DATA_MATRIX_FIELD_256,St.MAXICODE_FIELD_64=St.AZTEC_DATA_6;class kt extends d{}kt.kind="ReedSolomonException";class Lt extends d{}Lt.kind="IllegalStateException";class Fe{constructor(o){this.field=o}decode(o,c){const f=this.field,m=new yt(f,o),w=new Int32Array(c);let y=!0;for(let ye=0;ye<c;ye++){const be=m.evaluateAt(f.exp(ye+f.getGeneratorBase()));w[w.length-1-ye]=be,be!==0&&(y=!1)}if(y)return;const B=new yt(f,w),I=this.runEuclideanAlgorithm(f.buildMonomial(c,1),B,c),U=I[0],P=I[1],Y=this.findErrorLocations(U),re=this.findErrorMagnitudes(P,Y);for(let ye=0;ye<Y.length;ye++){const be=o.length-1-f.log(Y[ye]);if(be<0)throw new kt("Bad error location");o[be]=St.addOrSubtract(o[be],re[ye])}}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){const ye=o;o=c,c=ye}const m=this.field;let w=o,y=c,B=m.getZero(),I=m.getOne();for(;y.getDegree()>=(f/2|0);){let ye=w,be=B;if(w=y,B=I,w.isZero())throw new kt("r_{i-1} was zero");y=ye;let Ie=m.getZero();const Le=w.getCoefficient(w.getDegree()),$e=m.inverse(Le);for(;y.getDegree()>=w.getDegree()&&!y.isZero();){const Ct=y.getDegree()-w.getDegree(),vt=m.multiply(y.getCoefficient(y.getDegree()),$e);Ie=Ie.addOrSubtract(m.buildMonomial(Ct,vt)),y=y.addOrSubtract(w.multiplyByMonomial(Ct,vt))}if(I=Ie.multiply(B).addOrSubtract(be),y.getDegree()>=w.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const U=I.getCoefficient(0);if(U===0)throw new kt("sigmaTilde(0) was zero");const P=m.inverse(U),Y=I.multiplyScalar(P),re=y.multiplyScalar(P);return[Y,re]}findErrorLocations(o){const c=o.getDegree();if(c===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(c);let m=0;const w=this.field;for(let y=1;y<w.getSize()&&m<c;y++)o.evaluateAt(y)===0&&(f[m]=w.inverse(y),m++);if(m!==c)throw new kt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,c){const f=c.length,m=new Int32Array(f),w=this.field;for(let y=0;y<f;y++){const B=w.inverse(c[y]);let I=1;for(let U=0;U<f;U++)if(y!==U){const P=w.multiply(c[U],B),Y=(P&1)===0?P|1:P&-2;I=w.multiply(I,Y)}m[y]=w.multiply(o.evaluateAt(B),w.inverse(I)),w.getGeneratorBase()!==0&&(m[y]=w.multiply(m[y],B))}return m}}var Ue;(function(q){q[q.UPPER=0]="UPPER",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.DIGIT=3]="DIGIT",q[q.PUNCT=4]="PUNCT",q[q.BINARY=5]="BINARY"})(Ue||(Ue={}));class gt{decode(o){this.ddata=o;let c=o.getBits(),f=this.extractBits(c),m=this.correctBits(f),w=gt.convertBoolArrayToByteArray(m),y=gt.getEncodedData(m),B=new _e(w,y,null,null);return B.setNumBits(m.length),B}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let c=o.length,f=Ue.UPPER,m=Ue.UPPER,w="",y=0;for(;y<c;)if(m===Ue.BINARY){if(c-y<5)break;let B=gt.readCode(o,y,5);if(y+=5,B===0){if(c-y<11)break;B=gt.readCode(o,y,11)+31,y+=11}for(let I=0;I<B;I++){if(c-y<8){y=c;break}const U=gt.readCode(o,y,8);w+=W.castAsNonUtf8Char(U),y+=8}m=f}else{let B=m===Ue.DIGIT?4:5;if(c-y<B)break;let I=gt.readCode(o,y,B);y+=B;let U=gt.getCharacter(m,I);U.startsWith("CTRL_")?(f=m,m=gt.getTable(U.charAt(5)),U.charAt(6)==="L"&&(f=m)):(w+=U,m=f)}return w}static getTable(o){switch(o){case"L":return Ue.LOWER;case"P":return Ue.PUNCT;case"M":return Ue.MIXED;case"D":return Ue.DIGIT;case"B":return Ue.BINARY;case"U":default:return Ue.UPPER}}static getCharacter(o,c){switch(o){case Ue.UPPER:return gt.UPPER_TABLE[c];case Ue.LOWER:return gt.LOWER_TABLE[c];case Ue.MIXED:return gt.MIXED_TABLE[c];case Ue.PUNCT:return gt.PUNCT_TABLE[c];case Ue.DIGIT:return gt.DIGIT_TABLE[c];default:throw new Lt("Bad table")}}correctBits(o){let c,f;this.ddata.getNbLayers()<=2?(f=6,c=St.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,c=St.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,c=St.AZTEC_DATA_10):(f=12,c=St.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),w=o.length/f;if(w<m)throw new M;let y=o.length%f,B=new Int32Array(w);for(let re=0;re<w;re++,y+=f)B[re]=gt.readCode(o,y,f);try{new Fe(c).decode(B,w-m)}catch(re){throw new M(re)}let I=(1<<f)-1,U=0;for(let re=0;re<m;re++){let ye=B[re];if(ye===0||ye===I)throw new M;(ye===1||ye===I-1)&&U++}let P=new Array(m*f-U),Y=0;for(let re=0;re<m;re++){let ye=B[re];if(ye===1||ye===I-1)P.fill(ye>1,Y,Y+f-1),Y+=f-1;else for(let be=f-1;be>=0;--be)P[Y++]=(ye&1<<be)!==0}return P}extractBits(o){let c=this.ddata.isCompact(),f=this.ddata.getNbLayers(),m=(c?11:14)+f*4,w=new Int32Array(m),y=new Array(this.totalBitsInLayer(f,c));if(c)for(let B=0;B<w.length;B++)w[B]=B;else{let B=m+1+2*Q.truncDivision(Q.truncDivision(m,2)-1,15),I=m/2,U=Q.truncDivision(B,2);for(let P=0;P<I;P++){let Y=P+Q.truncDivision(P,15);w[I-P-1]=U-Y-1,w[I+P]=U+Y+1}}for(let B=0,I=0;B<f;B++){let U=(f-B)*4+(c?9:12),P=B*2,Y=m-1-P;for(let re=0;re<U;re++){let ye=re*2;for(let be=0;be<2;be++)y[I+ye+be]=o.get(w[P+be],w[P+re]),y[I+2*U+ye+be]=o.get(w[P+re],w[Y-be]),y[I+4*U+ye+be]=o.get(w[Y-be],w[Y-re]),y[I+6*U+ye+be]=o.get(w[Y-re],w[P+be])}I+=U*8}return y}static readCode(o,c,f){let m=0;for(let w=c;w<c+f;w++)m<<=1,o[w]&&(m|=1);return m}static readByte(o,c){let f=o.length-c;return f>=8?gt.readCode(o,c,8):gt.readCode(o,c,f)<<8-f}static convertBoolArrayToByteArray(o){let c=new Uint8Array((o.length+7)/8);for(let f=0;f<c.length;f++)c[f]=gt.readByte(o,8*f);return c}totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Bt{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,c,f,m){const w=o-f,y=c-m;return Math.sqrt(w*w+y*y)}static sum(o){let c=0;for(let f=0,m=o.length;f!==m;f++){const w=o[f];c+=w}return c}}class dn{static floatToIntBits(o){return o}}dn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class At{constructor(o,c){this.x=o,this.y=c}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof At){const c=o;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*dn.floatToIntBits(this.x)+dn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const c=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),m=this.distance(o[0],o[2]);let w,y,B;if(f>=c&&f>=m?(y=o[0],w=o[1],B=o[2]):m>=f&&m>=c?(y=o[1],w=o[0],B=o[2]):(y=o[2],w=o[0],B=o[1]),this.crossProductZ(w,y,B)<0){const I=w;w=B,B=I}o[0]=w,o[1]=y,o[2]=B}static distance(o,c){return Bt.distance(o.x,o.y,c.x,c.y)}static crossProductZ(o,c,f){const m=c.x,w=c.y;return(f.x-m)*(o.y-w)-(f.y-w)*(o.x-m)}}class Pn{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class dr extends Pn{constructor(o,c,f,m,w){super(o,c),this.compact=f,this.nbDatablocks=m,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class at{constructor(o,c,f,m){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),c==null&&(c=at.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),m==null&&(m=o.getHeight()/2|0);const w=c/2|0;if(this.leftInit=f-w,this.rightInit=f+w,this.upInit=m-w,this.downInit=m+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ee}detect(){let o=this.leftInit,c=this.rightInit,f=this.upInit,m=this.downInit,w=!1,y=!0,B=!1,I=!1,U=!1,P=!1,Y=!1;const re=this.width,ye=this.height;for(;y;){y=!1;let be=!0;for(;(be||!I)&&c<re;)be=this.containsBlackPoint(f,m,c,!1),be?(c++,y=!0,I=!0):I||c++;if(c>=re){w=!0;break}let Ie=!0;for(;(Ie||!U)&&m<ye;)Ie=this.containsBlackPoint(o,c,m,!0),Ie?(m++,y=!0,U=!0):U||m++;if(m>=ye){w=!0;break}let Le=!0;for(;(Le||!P)&&o>=0;)Le=this.containsBlackPoint(f,m,o,!1),Le?(o--,y=!0,P=!0):P||o--;if(o<0){w=!0;break}let $e=!0;for(;($e||!Y)&&f>=0;)$e=this.containsBlackPoint(o,c,f,!0),$e?(f--,y=!0,Y=!0):Y||f--;if(f<0){w=!0;break}y&&(B=!0)}if(!w&&B){const be=c-o;let Ie=null;for(let vt=1;Ie===null&&vt<be;vt++)Ie=this.getBlackPointOnSegment(o,m-vt,o+vt,m);if(Ie==null)throw new Ee;let Le=null;for(let vt=1;Le===null&&vt<be;vt++)Le=this.getBlackPointOnSegment(o,f+vt,o+vt,f);if(Le==null)throw new Ee;let $e=null;for(let vt=1;$e===null&&vt<be;vt++)$e=this.getBlackPointOnSegment(c,f+vt,c-vt,f);if($e==null)throw new Ee;let Ct=null;for(let vt=1;Ct===null&&vt<be;vt++)Ct=this.getBlackPointOnSegment(c,m-vt,c-vt,m);if(Ct==null)throw new Ee;return this.centerEdges(Ct,Ie,$e,Le)}else throw new Ee}getBlackPointOnSegment(o,c,f,m){const w=Bt.round(Bt.distance(o,c,f,m)),y=(f-o)/w,B=(m-c)/w,I=this.image;for(let U=0;U<w;U++){const P=Bt.round(o+U*y),Y=Bt.round(c+U*B);if(I.get(P,Y))return new At(P,Y)}return null}centerEdges(o,c,f,m){const w=o.getX(),y=o.getY(),B=c.getX(),I=c.getY(),U=f.getX(),P=f.getY(),Y=m.getX(),re=m.getY(),ye=at.CORR;return w<this.width/2?[new At(Y-ye,re+ye),new At(B+ye,I+ye),new At(U-ye,P-ye),new At(w+ye,y-ye)]:[new At(Y+ye,re+ye),new At(B+ye,I-ye),new At(U-ye,P+ye),new At(w-ye,y-ye)]}containsBlackPoint(o,c,f,m){const w=this.image;if(m){for(let y=o;y<=c;y++)if(w.get(y,f))return!0}else for(let y=o;y<=c;y++)if(w.get(f,y))return!0;return!1}}at.INIT_SIZE=10,at.CORR=1;class Nt{static checkAndNudgePoints(o,c){const f=o.getWidth(),m=o.getHeight();let w=!0;for(let y=0;y<c.length&&w;y+=2){const B=Math.floor(c[y]),I=Math.floor(c[y+1]);if(B<-1||B>f||I<-1||I>m)throw new Ee;w=!1,B===-1?(c[y]=0,w=!0):B===f&&(c[y]=f-1,w=!0),I===-1?(c[y+1]=0,w=!0):I===m&&(c[y+1]=m-1,w=!0)}w=!0;for(let y=c.length-2;y>=0&&w;y-=2){const B=Math.floor(c[y]),I=Math.floor(c[y+1]);if(B<-1||B>f||I<-1||I>m)throw new Ee;w=!1,B===-1?(c[y]=0,w=!0):B===f&&(c[y]=f-1,w=!0),I===-1?(c[y+1]=0,w=!0):I===m&&(c[y+1]=m-1,w=!0)}}}class It{constructor(o,c,f,m,w,y,B,I,U){this.a11=o,this.a21=c,this.a31=f,this.a12=m,this.a22=w,this.a32=y,this.a13=B,this.a23=I,this.a33=U}static quadrilateralToQuadrilateral(o,c,f,m,w,y,B,I,U,P,Y,re,ye,be,Ie,Le){const $e=It.quadrilateralToSquare(o,c,f,m,w,y,B,I);return It.squareToQuadrilateral(U,P,Y,re,ye,be,Ie,Le).times($e)}transformPoints(o){const c=o.length,f=this.a11,m=this.a12,w=this.a13,y=this.a21,B=this.a22,I=this.a23,U=this.a31,P=this.a32,Y=this.a33;for(let re=0;re<c;re+=2){const ye=o[re],be=o[re+1],Ie=w*ye+I*be+Y;o[re]=(f*ye+y*be+U)/Ie,o[re+1]=(m*ye+B*be+P)/Ie}}transformPointsWithValues(o,c){const f=this.a11,m=this.a12,w=this.a13,y=this.a21,B=this.a22,I=this.a23,U=this.a31,P=this.a32,Y=this.a33,re=o.length;for(let ye=0;ye<re;ye++){const be=o[ye],Ie=c[ye],Le=w*be+I*Ie+Y;o[ye]=(f*be+y*Ie+U)/Le,c[ye]=(m*be+B*Ie+P)/Le}}static squareToQuadrilateral(o,c,f,m,w,y,B,I){const U=o-f+w-B,P=c-m+y-I;if(U===0&&P===0)return new It(f-o,w-f,o,m-c,y-m,c,0,0,1);{const Y=f-w,re=B-w,ye=m-y,be=I-y,Ie=Y*be-re*ye,Le=(U*be-re*P)/Ie,$e=(Y*P-U*ye)/Ie;return new It(f-o+Le*f,B-o+$e*B,o,m-c+Le*m,I-c+$e*I,c,Le,$e,1)}}static quadrilateralToSquare(o,c,f,m,w,y,B,I){return It.squareToQuadrilateral(o,c,f,m,w,y,B,I).buildAdjoint()}buildAdjoint(){return new It(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new It(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class $t extends Nt{sampleGrid(o,c,f,m,w,y,B,I,U,P,Y,re,ye,be,Ie,Le,$e,Ct,vt){const dt=It.quadrilateralToQuadrilateral(m,w,y,B,I,U,P,Y,re,ye,be,Ie,Le,$e,Ct,vt);return this.sampleGridWithTransform(o,c,f,dt)}sampleGridWithTransform(o,c,f,m){if(c<=0||f<=0)throw new Ee;const w=new Me(c,f),y=new Float32Array(2*c);for(let B=0;B<f;B++){const I=y.length,U=B+.5;for(let P=0;P<I;P+=2)y[P]=P/2+.5,y[P+1]=U;m.transformPoints(y),Nt.checkAndNudgePoints(o,y);try{for(let P=0;P<I;P+=2)o.get(Math.floor(y[P]),Math.floor(y[P+1]))&&w.set(P/2,B)}catch{throw new Ee}}return w}}class un{static setGridSampler(o){un.gridSampler=o}static getInstance(){return un.gridSampler}}un.gridSampler=new $t;class fn{constructor(o,c){this.x=o,this.y=c}toResultPoint(){return new At(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class tt{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let c=this.getMatrixCenter(),f=this.getBullsEyeCorners(c);if(o){let y=f[0];f[0]=f[2],f[2]=y}this.extractParameters(f);let m=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),w=this.getMatrixCornerPoints(f);return new dr(m,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new Ee;let c=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],c),this.sampleLine(o[1],o[2],c),this.sampleLine(o[2],o[3],c),this.sampleLine(o[3],o[0],c)]);this.shift=this.getRotation(f,c);let m=0;for(let y=0;y<4;y++){let B=f[(this.shift+y)%4];this.compact?(m<<=7,m+=B>>1&127):(m<<=10,m+=(B>>2&992)+(B>>1&31))}let w=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(o,c){let f=0;o.forEach((m,w,y)=>{let B=(m>>c-2<<1)+(m&1);f=(f<<3)+B}),f=((f&1)<<11)+(f>>1);for(let m=0;m<4;m++)if(Q.bitCount(f^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new Ee}getCorrectedParameterData(o,c){let f,m;c?(f=7,m=2):(f=10,m=4);let w=f-m,y=new Int32Array(f);for(let I=f-1;I>=0;--I)y[I]=o&15,o>>=4;try{new Fe(St.AZTEC_PARAM).decode(y,w)}catch{throw new Ee}let B=0;for(let I=0;I<m;I++)B=(B<<4)+y[I];return B}getBullsEyeCorners(o){let c=o,f=o,m=o,w=o,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Y=this.getFirstDifferent(c,y,1,-1),re=this.getFirstDifferent(f,y,1,1),ye=this.getFirstDifferent(m,y,-1,1),be=this.getFirstDifferent(w,y,-1,-1);if(this.nbCenterLayers>2){let Ie=this.distancePoint(be,Y)*this.nbCenterLayers/(this.distancePoint(w,c)*(this.nbCenterLayers+2));if(Ie<.75||Ie>1.25||!this.isWhiteOrBlackRectangle(Y,re,ye,be))break}c=Y,f=re,m=ye,w=be,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ee;this.compact=this.nbCenterLayers===5;let B=new At(c.getX()+.5,c.getY()-.5),I=new At(f.getX()+.5,f.getY()+.5),U=new At(m.getX()-.5,m.getY()+.5),P=new At(w.getX()-.5,w.getY()-.5);return this.expandSquare([B,I,U,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,c,f,m;try{let B=new at(this.image).detect();o=B[0],c=B[1],f=B[2],m=B[3]}catch{let I=this.image.getWidth()/2,U=this.image.getHeight()/2;o=this.getFirstDifferent(new fn(I+7,U-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new fn(I+7,U+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new fn(I-7,U+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new fn(I-7,U-7),!1,-1,-1).toResultPoint()}let w=Bt.round((o.getX()+m.getX()+c.getX()+f.getX())/4),y=Bt.round((o.getY()+m.getY()+c.getY()+f.getY())/4);try{let B=new at(this.image,15,w,y).detect();o=B[0],c=B[1],f=B[2],m=B[3]}catch{o=this.getFirstDifferent(new fn(w+7,y-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new fn(w+7,y+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new fn(w-7,y+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new fn(w-7,y-7),!1,-1,-1).toResultPoint()}return w=Bt.round((o.getX()+m.getX()+c.getX()+f.getX())/4),y=Bt.round((o.getY()+m.getY()+c.getY()+f.getY())/4),new fn(w,y)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,c,f,m,w){let y=un.getInstance(),B=this.getDimension(),I=B/2-this.nbCenterLayers,U=B/2+this.nbCenterLayers;return y.sampleGrid(o,B,B,I,I,U,I,U,U,I,U,c.getX(),c.getY(),f.getX(),f.getY(),m.getX(),m.getY(),w.getX(),w.getY())}sampleLine(o,c,f){let m=0,w=this.distanceResultPoint(o,c),y=w/f,B=o.getX(),I=o.getY(),U=y*(c.getX()-o.getX())/w,P=y*(c.getY()-o.getY())/w;for(let Y=0;Y<f;Y++)this.image.get(Bt.round(B+Y*U),Bt.round(I+Y*P))&&(m|=1<<f-Y-1);return m}isWhiteOrBlackRectangle(o,c,f,m){let w=3;o=new fn(o.getX()-w,o.getY()+w),c=new fn(c.getX()-w,c.getY()-w),f=new fn(f.getX()+w,f.getY()-w),m=new fn(m.getX()+w,m.getY()+w);let y=this.getColor(m,o);if(y===0)return!1;let B=this.getColor(o,c);return B!==y||(B=this.getColor(c,f),B!==y)?!1:(B=this.getColor(f,m),B===y)}getColor(o,c){let f=this.distancePoint(o,c),m=(c.getX()-o.getX())/f,w=(c.getY()-o.getY())/f,y=0,B=o.getX(),I=o.getY(),U=this.image.get(o.getX(),o.getY()),P=Math.ceil(f);for(let re=0;re<P;re++)B+=m,I+=w,this.image.get(Bt.round(B),Bt.round(I))!==U&&y++;let Y=y/f;return Y>.1&&Y<.9?0:Y<=.1===U?1:-1}getFirstDifferent(o,c,f,m){let w=o.getX()+f,y=o.getY()+m;for(;this.isValid(w,y)&&this.image.get(w,y)===c;)w+=f,y+=m;for(w-=f,y-=m;this.isValid(w,y)&&this.image.get(w,y)===c;)w+=f;for(w-=f;this.isValid(w,y)&&this.image.get(w,y)===c;)y+=m;return y-=m,new fn(w,y)}expandSquare(o,c,f){let m=f/(2*c),w=o[0].getX()-o[2].getX(),y=o[0].getY()-o[2].getY(),B=(o[0].getX()+o[2].getX())/2,I=(o[0].getY()+o[2].getY())/2,U=new At(B+m*w,I+m*y),P=new At(B-m*w,I-m*y);w=o[1].getX()-o[3].getX(),y=o[1].getY()-o[3].getY(),B=(o[1].getX()+o[3].getX())/2,I=(o[1].getY()+o[3].getY())/2;let Y=new At(B+m*w,I+m*y),re=new At(B-m*w,I-m*y);return[U,Y,P,re]}isValid(o,c){return o>=0&&o<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(o){let c=Bt.round(o.getX()),f=Bt.round(o.getY());return this.isValid(c,f)}distancePoint(o,c){return Bt.distance(o.getX(),o.getY(),c.getX(),c.getY())}distanceResultPoint(o,c){return Bt.distance(o.getX(),o.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(o,c=null){let f=null,m=new tt(o.getBlackMatrix()),w=null,y=null;try{let P=m.detectMirror(!1);w=P.getPoints(),this.reportFoundResultPoints(c,w),y=new gt().decode(P)}catch(P){f=P}if(y==null)try{let P=m.detectMirror(!0);w=P.getPoints(),this.reportFoundResultPoints(c,w),y=new gt().decode(P)}catch(P){throw f??P}let B=new le(y.getText(),y.getRawBytes(),y.getNumBits(),w,xe.AZTEC,R.currentTimeMillis()),I=y.getByteSegments();I!=null&&B.putMetadata(Ne.BYTE_SEGMENTS,I);let U=y.getECLevel();return U!=null&&B.putMetadata(Ne.ERROR_CORRECTION_LEVEL,U),B}reportFoundResultPoints(o,c){if(o!=null){let f=o.get(ee.NEED_RESULT_POINT_CALLBACK);f!=null&&c.forEach((m,w,y)=>{f.foundPossibleResultPoint(m)})}}reset(){}}class Ge extends ge{constructor(o=500){super(new we,o)}}class st{decode(o,c){try{return this.doDecode(o,c)}catch{if(c&&c.get(ee.TRY_HARDER)===!0&&o.isRotateSupported()){const w=o.rotateCounterClockwise(),y=this.doDecode(w,c),B=y.getResultMetadata();let I=270;B!==null&&B.get(Ne.ORIENTATION)===!0&&(I=I+B.get(Ne.ORIENTATION)%360),y.putMetadata(Ne.ORIENTATION,I);const U=y.getResultPoints();if(U!==null){const P=w.getHeight();for(let Y=0;Y<U.length;Y++)U[Y]=new At(P-U[Y].getY()-1,U[Y].getX())}return y}else throw new Ee}}reset(){}doDecode(o,c){const f=o.getWidth(),m=o.getHeight();let w=new ne(f);const y=c&&c.get(ee.TRY_HARDER)===!0,B=Math.max(1,m>>(y?8:5));let I;y?I=m:I=15;const U=Math.trunc(m/2);for(let P=0;P<I;P++){const Y=Math.trunc((P+1)/2),re=(P&1)===0,ye=U+B*(re?Y:-Y);if(ye<0||ye>=m)break;try{w=o.getBlackRow(ye,w)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(w.reverse(),c&&c.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const Ie=new Map;c.forEach((Le,$e)=>Ie.set($e,Le)),Ie.delete(ee.NEED_RESULT_POINT_CALLBACK),c=Ie}try{const Ie=this.decodeRow(ye,w,c);if(be===1){Ie.putMetadata(Ne.ORIENTATION,180);const Le=Ie.getResultPoints();Le!==null&&(Le[0]=new At(f-Le[0].getX()-1,Le[0].getY()),Le[1]=new At(f-Le[1].getX()-1,Le[1].getY()))}return Ie}catch{}}}throw new Ee}static recordPattern(o,c,f){const m=f.length;for(let U=0;U<m;U++)f[U]=0;const w=o.getSize();if(c>=w)throw new Ee;let y=!o.get(c),B=0,I=c;for(;I<w;){if(o.get(I)!==y)f[B]++;else{if(++B===m)break;f[B]=1,y=!y}I++}if(!(B===m||B===m-1&&I===w))throw new Ee}static recordPatternInReverse(o,c,f){let m=f.length,w=o.get(c);for(;c>0&&m>=0;)o.get(--c)!==w&&(m--,w=!w);if(m>=0)throw new Ee;st.recordPattern(o,c+1,f)}static patternMatchVariance(o,c,f){const m=o.length;let w=0,y=0;for(let U=0;U<m;U++)w+=o[U],y+=c[U];if(w<y)return Number.POSITIVE_INFINITY;const B=w/y;f*=B;let I=0;for(let U=0;U<m;U++){const P=o[U],Y=c[U]*B,re=P>Y?P-Y:Y-P;if(re>f)return Number.POSITIVE_INFINITY;I+=re}return I/w}}class De extends st{static findStartPattern(o){const c=o.getSize(),f=o.getNextSet(0);let m=0,w=Int32Array.from([0,0,0,0,0,0]),y=f,B=!1;const I=6;for(let U=f;U<c;U++)if(o.get(U)!==B)w[m]++;else{if(m===I-1){let P=De.MAX_AVG_VARIANCE,Y=-1;for(let re=De.CODE_START_A;re<=De.CODE_START_C;re++){const ye=st.patternMatchVariance(w,De.CODE_PATTERNS[re],De.MAX_INDIVIDUAL_VARIANCE);ye<P&&(P=ye,Y=re)}if(Y>=0&&o.isRange(Math.max(0,y-(U-y)/2),y,!1))return Int32Array.from([y,U,Y]);y+=w[0]+w[1],w=w.slice(2,w.length-1),w[m-1]=0,w[m]=0,m--}else m++;w[m]=1,B=!B}throw new Ee}static decodeCode(o,c,f){st.recordPattern(o,f,c);let m=De.MAX_AVG_VARIANCE,w=-1;for(let y=0;y<De.CODE_PATTERNS.length;y++){const B=De.CODE_PATTERNS[y],I=this.patternMatchVariance(c,B,De.MAX_INDIVIDUAL_VARIANCE);I<m&&(m=I,w=y)}if(w>=0)return w;throw new Ee}decodeRow(o,c,f){const m=f&&f.get(ee.ASSUME_GS1)===!0,w=De.findStartPattern(c),y=w[2];let B=0;const I=new Uint8Array(20);I[B++]=y;let U;switch(y){case De.CODE_START_A:U=De.CODE_CODE_A;break;case De.CODE_START_B:U=De.CODE_CODE_B;break;case De.CODE_START_C:U=De.CODE_CODE_C;break;default:throw new M}let P=!1,Y=!1,re="",ye=w[0],be=w[1];const Ie=Int32Array.from([0,0,0,0,0,0]);let Le=0,$e=0,Ct=y,vt=0,dt=!0,vn=!1,rn=!1;for(;!P;){const Mo=Y;switch(Y=!1,Le=$e,$e=De.decodeCode(c,Ie,be),I[B++]=$e,$e!==De.CODE_STOP&&(dt=!0),$e!==De.CODE_STOP&&(vt++,Ct+=vt*$e),ye=be,be+=Ie.reduce((nd,zu)=>nd+zu,0),$e){case De.CODE_START_A:case De.CODE_START_B:case De.CODE_START_C:throw new M}switch(U){case De.CODE_CODE_A:if($e<64)rn===vn?re+=String.fromCharCode(32+$e):re+=String.fromCharCode(32+$e+128),rn=!1;else if($e<96)rn===vn?re+=String.fromCharCode($e-64):re+=String.fromCharCode($e+64),rn=!1;else switch($e!==De.CODE_STOP&&(dt=!1),$e){case De.CODE_FNC_1:m&&(re.length===0?re+="]C1":re+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_A:!vn&&rn?(vn=!0,rn=!1):vn&&rn?(vn=!1,rn=!1):rn=!0;break;case De.CODE_SHIFT:Y=!0,U=De.CODE_CODE_B;break;case De.CODE_CODE_B:U=De.CODE_CODE_B;break;case De.CODE_CODE_C:U=De.CODE_CODE_C;break;case De.CODE_STOP:P=!0;break}break;case De.CODE_CODE_B:if($e<96)rn===vn?re+=String.fromCharCode(32+$e):re+=String.fromCharCode(32+$e+128),rn=!1;else switch($e!==De.CODE_STOP&&(dt=!1),$e){case De.CODE_FNC_1:m&&(re.length===0?re+="]C1":re+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_B:!vn&&rn?(vn=!0,rn=!1):vn&&rn?(vn=!1,rn=!1):rn=!0;break;case De.CODE_SHIFT:Y=!0,U=De.CODE_CODE_A;break;case De.CODE_CODE_A:U=De.CODE_CODE_A;break;case De.CODE_CODE_C:U=De.CODE_CODE_C;break;case De.CODE_STOP:P=!0;break}break;case De.CODE_CODE_C:if($e<100)$e<10&&(re+="0"),re+=$e;else switch($e!==De.CODE_STOP&&(dt=!1),$e){case De.CODE_FNC_1:m&&(re.length===0?re+="]C1":re+="");break;case De.CODE_CODE_A:U=De.CODE_CODE_A;break;case De.CODE_CODE_B:U=De.CODE_CODE_B;break;case De.CODE_STOP:P=!0;break}break}Mo&&(U=U===De.CODE_CODE_A?De.CODE_CODE_B:De.CODE_CODE_A)}const Qr=be-ye;if(be=c.getNextUnset(be),!c.isRange(be,Math.min(c.getSize(),be+(be-ye)/2),!1))throw new Ee;if(Ct-=vt*Le,Ct%103!==Le)throw new N;const Ls=re.length;if(Ls===0)throw new Ee;Ls>0&&dt&&(U===De.CODE_CODE_C?re=re.substring(0,Ls-2):re=re.substring(0,Ls-1));const Ui=(w[1]+w[0])/2,qn=ye+Qr/2,di=I.length,ms=new Uint8Array(di);for(let Mo=0;Mo<di;Mo++)ms[Mo]=I[Mo];const wA=[new At(Ui,o),new At(qn,o)];return new le(re,ms,0,wA,xe.CODE_128,new Date().getTime())}}De.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],De.MAX_AVG_VARIANCE=.25,De.MAX_INDIVIDUAL_VARIANCE=.7,De.CODE_SHIFT=98,De.CODE_CODE_C=99,De.CODE_CODE_B=100,De.CODE_CODE_A=101,De.CODE_FNC_1=102,De.CODE_FNC_2=97,De.CODE_FNC_3=96,De.CODE_FNC_4_A=101,De.CODE_FNC_4_B=100,De.CODE_START_A=103,De.CODE_START_B=104,De.CODE_START_C=105,De.CODE_STOP=106;class mt extends st{constructor(o=!1,c=!1){super(),this.usingCheckDigit=o,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,c,f){let m=this.counters;m.fill(0),this.decodeRowResult="";let w=mt.findAsteriskPattern(c,m),y=c.getNextSet(w[1]),B=c.getSize(),I,U;do{mt.recordPattern(c,y,m);let Ie=mt.toNarrowWidePattern(m);if(Ie<0)throw new Ee;I=mt.patternToChar(Ie),this.decodeRowResult+=I,U=y;for(let Le of m)y+=Le;y=c.getNextSet(y)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let Ie of m)P+=Ie;let Y=y-U-P;if(y!==B&&Y*2<P)throw new Ee;if(this.usingCheckDigit){let Ie=this.decodeRowResult.length-1,Le=0;for(let $e=0;$e<Ie;$e++)Le+=mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Ie)!==mt.ALPHABET_STRING.charAt(Le%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,Ie)}if(this.decodeRowResult.length===0)throw new Ee;let re;this.extendedMode?re=mt.decodeExtended(this.decodeRowResult):re=this.decodeRowResult;let ye=(w[1]+w[0])/2,be=U+P/2;return new le(re,null,0,[new At(ye,o),new At(be,o)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,c){let f=o.getSize(),m=o.getNextSet(0),w=0,y=m,B=!1,I=c.length;for(let U=m;U<f;U++)if(o.get(U)!==B)c[w]++;else{if(w===I-1){if(this.toNarrowWidePattern(c)===mt.ASTERISK_ENCODING&&o.isRange(Math.max(0,y-Math.floor((U-y)/2)),y,!1))return[y,U];y+=c[0]+c[1],c.copyWithin(0,2,2+w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,B=!B}throw new Ee}static toNarrowWidePattern(o){let c=o.length,f=0,m;do{let w=2147483647;for(let I of o)I<w&&I>f&&(w=I);f=w,m=0;let y=0,B=0;for(let I=0;I<c;I++){let U=o[I];U>f&&(B|=1<<c-1-I,m++,y+=U)}if(m===3){for(let I=0;I<c&&m>0;I++){let U=o[I];if(U>f&&(m--,U*2>=y))return-1}return B}}while(m>3);return-1}static patternToChar(o){for(let c=0;c<mt.CHARACTER_ENCODINGS.length;c++)if(mt.CHARACTER_ENCODINGS[c]===o)return mt.ALPHABET_STRING.charAt(c);if(o===mt.ASTERISK_ENCODING)return"*";throw new Ee}static decodeExtended(o){let c=o.length,f="";for(let m=0;m<c;m++){let w=o.charAt(m);if(w==="+"||w==="$"||w==="%"||w==="/"){let y=o.charAt(m+1),B="\0";switch(w){case"+":if(y>="A"&&y<="Z")B=String.fromCharCode(y.charCodeAt(0)+32);else throw new M;break;case"$":if(y>="A"&&y<="Z")B=String.fromCharCode(y.charCodeAt(0)-64);else throw new M;break;case"%":if(y>="A"&&y<="E")B=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")B=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")B=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")B=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")B="\0";else if(y==="V")B="@";else if(y==="W")B="`";else if(y==="X"||y==="Y"||y==="Z")B="";else throw new M;break;case"/":if(y>="A"&&y<="O")B=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")B=":";else throw new M;break}f+=B,m++}else f+=w}return f}}mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],mt.ASTERISK_ENCODING=148;class bt extends st{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,c,f){let m=this.decodeStart(c),w=this.decodeEnd(c),y=new X;bt.decodeMiddle(c,m[1],w[0],y);let B=y.toString(),I=null;f!=null&&(I=f.get(ee.ALLOWED_LENGTHS)),I==null&&(I=bt.DEFAULT_ALLOWED_LENGTHS);let U=B.length,P=!1,Y=0;for(let be of I){if(U===be){P=!0;break}be>Y&&(Y=be)}if(!P&&U>Y&&(P=!0),!P)throw new M;const re=[new At(m[1],o),new At(w[0],o)];return new le(B,null,0,re,xe.ITF,new Date().getTime())}static decodeMiddle(o,c,f,m){let w=new Int32Array(10),y=new Int32Array(5),B=new Int32Array(5);for(w.fill(0),y.fill(0),B.fill(0);c<f;){st.recordPattern(o,c,w);for(let U=0;U<5;U++){let P=2*U;y[U]=w[P],B[U]=w[P+1]}let I=bt.decodeDigit(y);m.append(I.toString()),I=this.decodeDigit(B),m.append(I.toString()),w.forEach(function(U){c+=U})}}decodeStart(o){let c=bt.skipWhiteSpace(o),f=bt.findGuardPattern(o,c,bt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,c){let f=this.narrowLineWidth*10;f=f<c?f:c;for(let m=c-1;f>0&&m>=0&&!o.get(m);m--)f--;if(f!==0)throw new Ee}static skipWhiteSpace(o){const c=o.getSize(),f=o.getNextSet(0);if(f===c)throw new Ee;return f}decodeEnd(o){o.reverse();try{let c=bt.skipWhiteSpace(o),f;try{f=bt.findGuardPattern(o,c,bt.END_PATTERN_REVERSED[0])}catch(w){w instanceof Ee&&(f=bt.findGuardPattern(o,c,bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let m=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-m,f}finally{o.reverse()}}static findGuardPattern(o,c,f){let m=f.length,w=new Int32Array(m),y=o.getSize(),B=!1,I=0,U=c;w.fill(0);for(let P=c;P<y;P++)if(o.get(P)!==B)w[I]++;else{if(I===m-1){if(st.patternMatchVariance(w,f,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return[U,P];U+=w[0]+w[1],R.arraycopy(w,2,w,0,I-1),w[I-1]=0,w[I]=0,I--}else I++;w[I]=1,B=!B}throw new Ee}static decodeDigit(o){let c=bt.MAX_AVG_VARIANCE,f=-1,m=bt.PATTERNS.length;for(let w=0;w<m;w++){let y=bt.PATTERNS[w],B=st.patternMatchVariance(o,y,bt.MAX_INDIVIDUAL_VARIANCE);B<c?(c=B,f=w):B===c&&(f=-1)}if(f>=0)return f%10;throw new Ee}}bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],bt.MAX_AVG_VARIANCE=.38,bt.MAX_INDIVIDUAL_VARIANCE=.5,bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],bt.START_PATTERN=Int32Array.from([1,1,1,1]),bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class mn extends st{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let c=!1,f,m=0,w=Int32Array.from([0,0,0]);for(;!c;){w=Int32Array.from([0,0,0]),f=mn.findGuardPattern(o,m,!1,this.START_END_PATTERN,w);let y=f[0];m=f[1];let B=y-(m-y);B>=0&&(c=o.isRange(B,y,!1))}return f}static checkChecksum(o){return mn.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return mn.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let m=c-1;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}f*=3;for(let m=c-2;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}return(1e3-f)%10}static decodeEnd(o,c){return mn.findGuardPattern(o,c,!1,mn.START_END_PATTERN,new Int32Array(mn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,c,f,m){return this.findGuardPattern(o,c,f,m,new Int32Array(m.length))}static findGuardPattern(o,c,f,m,w){let y=o.getSize();c=f?o.getNextUnset(c):o.getNextSet(c);let B=0,I=c,U=m.length,P=f;for(let Y=c;Y<y;Y++)if(o.get(Y)!==P)w[B]++;else{if(B===U-1){if(st.patternMatchVariance(w,m,mn.MAX_INDIVIDUAL_VARIANCE)<mn.MAX_AVG_VARIANCE)return Int32Array.from([I,Y]);I+=w[0]+w[1];let re=w.slice(2,w.length-1);for(let ye=0;ye<B-1;ye++)w[ye]=re[ye];w[B-1]=0,w[B]=0,B--}else B++;w[B]=1,P=!P}throw new Ee}static decodeDigit(o,c,f,m){this.recordPattern(o,f,c);let w=this.MAX_AVG_VARIANCE,y=-1,B=m.length;for(let I=0;I<B;I++){let U=m[I],P=st.patternMatchVariance(c,U,mn.MAX_INDIVIDUAL_VARIANCE);P<w&&(w=P,y=I)}if(y>=0)return y;throw new Ee}}mn.MAX_AVG_VARIANCE=.48,mn.MAX_INDIVIDUAL_VARIANCE=.7,mn.START_END_PATTERN=Int32Array.from([1,1,1]),mn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),mn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(c,f,m),y=m.toString(),B=Xi.parseExtensionString(y),I=[new At((f[0]+f[1])/2,o),new At(w,o)],U=new le(y,null,0,I,xe.UPC_EAN_EXTENSION,new Date().getTime());return B!=null&&U.putAllMetadata(B),U}decodeMiddle(o,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=c[1],B=0;for(let U=0;U<5&&y<w;U++){let P=mn.decodeDigit(o,m,y,mn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(B|=1<<4-U),U!==4&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(f.length!==5)throw new Ee;let I=this.determineCheckDigit(B);if(Xi.extensionChecksum(f.toString())!==I)throw new Ee;return y}static extensionChecksum(o){let c=o.length,f=0;for(let m=c-2;m>=0;m-=2)f+=o.charAt(m).charCodeAt(0)-48;f*=3;for(let m=c-1;m>=0;m-=2)f+=o.charAt(m).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let c=0;c<10;c++)if(o===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new Ee}static parseExtensionString(o){if(o.length!==5)return null;let c=Xi.parseExtension5String(o);return c==null?null:new Map([[Ne.SUGGESTED_PRICE,c]])}static parseExtension5String(o){let c;switch(o.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let f=parseInt(o.substring(1)),m=(f/100).toString(),w=f%100,y=w<10?"0"+w:w.toString();return c+m+"."+y}}class br{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,f){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(c,f,m),y=m.toString(),B=br.parseExtensionString(y),I=[new At((f[0]+f[1])/2,o),new At(w,o)],U=new le(y,null,0,I,xe.UPC_EAN_EXTENSION,new Date().getTime());return B!=null&&U.putAllMetadata(B),U}decodeMiddle(o,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=c[1],B=0;for(let I=0;I<2&&y<w;I++){let U=mn.decodeDigit(o,m,y,mn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+U%10);for(let P of m)y+=P;U>=10&&(B|=1<<1-I),I!==1&&(y=o.getNextSet(y),y=o.getNextUnset(y))}if(f.length!==2)throw new Ee;if(parseInt(f.toString())%4!==B)throw new Ee;return y}static parseExtensionString(o){return o.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(o)]])}}class qi{static decodeRow(o,c,f){let m=mn.findGuardPattern(c,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xi().decodeRow(o,c,m)}catch{return new br().decodeRow(o,c,m)}}}qi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Zt extends mn{constructor(){super(),this.decodeRowStringBuffer="",Zt.L_AND_G_PATTERNS=Zt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let c=Zt.L_PATTERNS[o-10],f=new Int32Array(c.length);for(let m=0;m<c.length;m++)f[m]=c[c.length-m-1];Zt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,c,f){let m=Zt.findStartGuardPattern(c),w=f==null?null:f.get(ee.NEED_RESULT_POINT_CALLBACK);if(w!=null){const dt=new At((m[0]+m[1])/2,o);w.foundPossibleResultPoint(dt)}let y=this.decodeMiddle(c,m,this.decodeRowStringBuffer),B=y.rowOffset,I=y.resultString;if(w!=null){const dt=new At(B,o);w.foundPossibleResultPoint(dt)}let U=this.decodeEnd(c,B);if(w!=null){const dt=new At((U[0]+U[1])/2,o);w.foundPossibleResultPoint(dt)}let P=U[1],Y=P+(P-U[0]);if(Y>=c.getSize()||!c.isRange(P,Y,!1))throw new Ee;let re=I.toString();if(re.length<8)throw new M;if(!Zt.checkChecksum(re))throw new N;let ye=(m[1]+m[0])/2,be=(U[1]+U[0])/2,Ie=this.getBarcodeFormat(),Le=[new At(ye,o),new At(be,o)],$e=new le(re,null,0,Le,Ie,new Date().getTime()),Ct=0;try{let dt=qi.decodeRow(o,c,U[1]);$e.putMetadata(Ne.UPC_EAN_EXTENSION,dt.getText()),$e.putAllMetadata(dt.getResultMetadata()),$e.addResultPoints(dt.getResultPoints()),Ct=dt.getText().length}catch{}let vt=f==null?null:f.get(ee.ALLOWED_EAN_EXTENSIONS);if(vt!=null){let dt=!1;for(let vn in vt)if(Ct.toString()===vn){dt=!0;break}if(!dt)throw new Ee}return $e}decodeEnd(o,c){return Zt.findGuardPattern(o,c,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Zt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let f=parseInt(o.charAt(c-1),10);return Zt.getStandardUPCEANChecksum(o.substring(0,c-1))===f}static getStandardUPCEANChecksum(o){let c=o.length,f=0;for(let m=c-1;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}f*=3;for(let m=c-2;m>=0;m-=2){let w=o.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new M;f+=w}return(1e3-f)%10}}class vi extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=c[1],B=0;for(let U=0;U<6&&y<w;U++){let P=Zt.decodeDigit(o,m,y,Zt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(B|=1<<5-U)}f=vi.determineFirstDigit(f,B),y=Zt.findGuardPattern(o,y,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let U=0;U<6&&y<w;U++){let P=Zt.decodeDigit(o,m,y,Zt.L_PATTERNS);f+=String.fromCharCode(48+P);for(let Y of m)y+=Y}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(o,c){for(let f=0;f<10;f++)if(c===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new Ee}}vi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ui extends Zt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,f){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y=c[1];for(let I=0;I<4&&y<w;I++){let U=Zt.decodeDigit(o,m,y,Zt.L_PATTERNS);f+=String.fromCharCode(48+U);for(let P of m)y+=P}y=Zt.findGuardPattern(o,y,!0,Zt.MIDDLE_PATTERN,new Int32Array(Zt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&y<w;I++){let U=Zt.decodeDigit(o,m,y,Zt.L_PATTERNS);f+=String.fromCharCode(48+U);for(let P of m)y+=P}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return xe.EAN_8}}class Ni extends Zt{constructor(){super(...arguments),this.ean13Reader=new vi}getBarcodeFormat(){return xe.UPC_A}decode(o,c){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,c,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,c,f))}decodeMiddle(o,c,f){return this.ean13Reader.decodeMiddle(o,c,f)}maybeReturnResult(o){let c=o.getText();if(c.charAt(0)==="0"){let f=new le(c.substring(1),null,null,o.getResultPoints(),xe.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new Ee}reset(){this.ean13Reader.reset()}}class Dr extends Zt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,c,f){const m=this.decodeMiddleCounters.map(U=>U);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const w=o.getSize();let y=c[1],B=0;for(let U=0;U<6&&y<w;U++){const P=Dr.decodeDigit(o,m,y,Dr.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let Y of m)y+=Y;P>=10&&(B|=1<<5-U)}let I=Dr.determineNumSysAndCheckDigit(f,B);return{rowOffset:y,resultString:I}}decodeEnd(o,c){return Dr.findGuardPatternWithoutCounters(o,c,!0,Dr.MIDDLE_END_PATTERN)}checkChecksum(o){return Zt.checkChecksum(Dr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,c){for(let f=0;f<=1;f++)for(let m=0;m<10;m++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][m]){let w=String.fromCharCode(48+f),y=String.fromCharCode(48+m);return w+o+y}throw Ee.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(o){const c=o.slice(1,7).split("").map(w=>w.charCodeAt(0)),f=new X;f.append(o.charAt(0));let m=c[5];switch(m){case 0:case 1:case 2:f.appendChars(c,0,2),f.append(m),f.append("0000"),f.appendChars(c,2,3);break;case 3:f.appendChars(c,0,3),f.append("00000"),f.appendChars(c,3,2);break;case 4:f.appendChars(c,0,4),f.append("00000"),f.append(c[4]);break;default:f.appendChars(c,0,5),f.append("0000"),f.append(m);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}Dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ga extends st{constructor(o){super();let c=o==null?null:o.get(ee.POSSIBLE_FORMATS),f=[];r(c)?(f.push(new vi),f.push(new Ni),f.push(new ui),f.push(new Dr)):(c.indexOf(xe.EAN_13)>-1&&f.push(new vi),c.indexOf(xe.UPC_A)>-1&&f.push(new Ni),c.indexOf(xe.EAN_8)>-1&&f.push(new ui),c.indexOf(xe.UPC_E)>-1&&f.push(new Dr)),this.readers=f}decodeRow(o,c,f){for(let m of this.readers)try{const w=m.decodeRow(o,c,f),y=w.getBarcodeFormat()===xe.EAN_13&&w.getText().charAt(0)==="0",B=f==null?null:f.get(ee.POSSIBLE_FORMATS),I=B==null||B.includes(xe.UPC_A);if(y&&I){const U=w.getRawBytes(),P=new le(w.getText().substring(1),U,U?U.length:null,w.getResultPoints(),xe.UPC_A);return P.putAllMetadata(w.getResultMetadata()),P}return w}catch{}throw new Ee}reset(){for(let o of this.readers)o.reset()}}class Cr extends st{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,c){for(let f=0;f<c.length;f++)if(st.patternMatchVariance(o,c[f],Cr.MAX_INDIVIDUAL_VARIANCE)<Cr.MAX_AVG_VARIANCE)return f;throw new Ee}static count(o){return Bt.sum(new Int32Array(o))}static increment(o,c){let f=0,m=c[0];for(let w=1;w<o.length;w++)c[w]>m&&(m=c[w],f=w);o[f]++}static decrement(o,c){let f=0,m=c[0];for(let w=1;w<o.length;w++)c[w]<m&&(m=c[w],f=w);o[f]--}static isFinderPattern(o){let c=o[0]+o[1],f=c+o[2]+o[3],m=c/f;if(m>=Cr.MIN_FINDER_PATTERN_RATIO&&m<=Cr.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let B of o)B>y&&(y=B),B<w&&(w=B);return y<10*w}return!1}}Cr.MAX_AVG_VARIANCE=.2,Cr.MAX_INDIVIDUAL_VARIANCE=.45,Cr.MIN_FINDER_PATTERN_RATIO=9.5/12,Cr.MAX_FINDER_PATTERN_RATIO=12.5/14;class yi{constructor(o,c){this.value=o,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof yi))return!1;const c=o;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ds{constructor(o,c,f,m,w){this.value=o,this.startEnd=c,this.value=o,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new At(f,w)),this.resultPoints.push(new At(m,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof ds))return!1;const c=o;return this.value===c.value}hashCode(){return this.value}}class Wn{constructor(){}static getRSSvalue(o,c,f){let m=0;for(let I of o)m+=I;let w=0,y=0,B=o.length;for(let I=0;I<B-1;I++){let U;for(U=1,y|=1<<I;U<o[I];U++,y&=~(1<<I)){let P=Wn.combins(m-U-1,B-I-2);if(f&&y===0&&m-U-(B-I-1)>=B-I-1&&(P-=Wn.combins(m-U-(B-I),B-I-2)),B-I-1>1){let Y=0;for(let re=m-U-(B-I-2);re>c;re--)Y+=Wn.combins(m-U-re-1,B-I-3);P-=Y*(B-1-I)}else m-U>c&&P--;w+=P}m-=U}return w}static combins(o,c){let f,m;o-c>c?(m=c,f=o-c):(m=o-c,f=c);let w=1,y=1;for(let B=o;B>f;B--)w*=B,y<=m&&(w/=y,y++);for(;y<=m;)w/=y,y++;return w}}class So{static buildBitArray(o){let c=o.length*2-1;o[o.length-1].getRightChar()==null&&(c-=1);let f=12*c,m=new ne(f),w=0,B=o[0].getRightChar().getValue();for(let I=11;I>=0;--I)(B&1<<I)!=0&&m.set(w),w++;for(let I=1;I<o.length;++I){let U=o[I],P=U.getLeftChar().getValue();for(let Y=11;Y>=0;--Y)(P&1<<Y)!=0&&m.set(w),w++;if(U.getRightChar()!=null){let Y=U.getRightChar().getValue();for(let re=11;re>=0;--re)(Y&1<<re)!=0&&m.set(w),w++}}return m}}class ei{constructor(o,c){c?this.decodedInformation=null:(this.finished=o,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ss{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Ur extends Ss{constructor(o,c){super(o),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Ur.FNC1}}Ur.FNC1="$";class hs extends Ss{constructor(o,c,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class te extends Ss{constructor(o,c,f){if(super(o),c<0||c>10||f<0||f>10)throw new M;this.firstDigit=c,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===te.FNC1}isSecondDigitFNC1(){return this.secondDigit===te.FNC1}isAnyFNC1(){return this.firstDigit===te.FNC1||this.secondDigit===te.FNC1}}te.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new Ee;let c=o.substring(0,2);for(let w of se.TWO_DIGIT_DATA_LENGTH)if(w[0]===c)return w[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,w[2],o):se.processFixedAI(2,w[1],o);if(o.length<3)throw new Ee;let f=o.substring(0,3);for(let w of se.THREE_DIGIT_DATA_LENGTH)if(w[0]===f)return w[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,w[2],o):se.processFixedAI(3,w[1],o);for(let w of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===f)return w[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,w[2],o):se.processFixedAI(4,w[1],o);if(o.length<4)throw new Ee;let m=o.substring(0,4);for(let w of se.FOUR_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,w[2],o):se.processFixedAI(4,w[1],o);throw new Ee}static processFixedAI(o,c,f){if(f.length<o)throw new Ee;let m=f.substring(0,o);if(f.length<o+c)throw new Ee;let w=f.substring(o,o+c),y=f.substring(o+c),B="("+m+")"+w,I=se.parseFieldsInGeneralPurpose(y);return I==null?B:B+I}static processVariableAI(o,c,f){let m=f.substring(0,o),w;f.length<o+c?w=f.length:w=o+c;let y=f.substring(o,w),B=f.substring(w),I="("+m+")"+y,U=se.parseFieldsInGeneralPurpose(B);return U==null?I:I+U}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class ce{constructor(o){this.buffer=new X,this.information=o}decodeAllCodes(o,c){let f=c,m=null;do{let w=this.decodeGeneralPurposeField(f,m),y=se.parseFieldsInGeneralPurpose(w.getNewString());if(y!=null&&o.append(y),w.isRemaining()?m=""+w.getRemainingValue():m=null,f===w.getNewPosition())break;f=w.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let c=o;c<o+3;++c)if(this.information.get(c))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(o,4);return w===0?new te(this.information.getSize(),te.FNC1,te.FNC1):new te(this.information.getSize(),w-1,te.FNC1)}let c=this.extractNumericValueFromBitArray(o,7),f=(c-8)/11,m=(c-8)%11;return new te(o+7,f,m)}extractNumericValueFromBitArray(o,c){return ce.extractNumericValueFromBitArray(this.information,o,c)}static extractNumericValueFromBitArray(o,c,f){let m=0;for(let w=0;w<f;++w)o.get(c+w)&&(m|=1<<f-w-1);return m}decodeGeneralPurposeField(o,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new hs(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new hs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,c;do{let f=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),o=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),o=c.isFinished()):(c=this.parseNumericBlock(),o=c.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let c;return o.isSecondDigitFNC1()?c=new hs(this.current.getPosition(),this.buffer.toString()):c=new hs(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ei(!0,c)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let c=new hs(this.current.getPosition(),this.buffer.toString());return new ei(!0,c)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new hs(this.current.getPosition(),this.buffer.toString());return new ei(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new hs(this.current.getPosition(),this.buffer.toString());return new ei(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ei(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(o,8);return m>=232&&m<253}decodeIsoIec646(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Ur(o+5,Ur.FNC1);if(c>=5&&c<15)return new Ur(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new Ur(o+7,""+(f+1));if(f>=90&&f<116)return new Ur(o+7,""+(f+7));let m=this.extractNumericValueFromBitArray(o,8),w;switch(m){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new M}return new Ur(o+8,w)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Ur(o+5,Ur.FNC1);if(c>=5&&c<15)return new Ur(o+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new Ur(o+6,""+(f+33));let m;switch(f){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+f)}return new Ur(o+6,m)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<5&&c+o<this.information.getSize();++c)if(c===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+c))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let c=o;c<o+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<4&&c+o<this.information.getSize();++c)if(this.information.get(o+c))return!1;return!0}}class fe{constructor(o){this.information=o,this.generalDecoder=new ce(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class de extends fe{constructor(o){super(o)}encodeCompressedGtin(o,c){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,c,f)}encodeCompressedGtinWithoutAI(o,c,f){for(let m=0;m<4;++m){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*m,10);w/100===0&&o.append("0"),w/10===0&&o.append("0"),o.append(w)}de.appendCheckDigit(o,f)}static appendCheckDigit(o,c){let f=0;for(let m=0;m<13;m++){let w=o.charAt(m+c).charCodeAt(0)-48;f+=(m&1)===0?3*w:w}f=10-f%10,f===10&&(f=0),o.append(f)}}de.GTIN_SIZE=40;class Ce extends de{constructor(o){super(o)}parseInformation(){let o=new X;o.append("(01)");let c=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ce.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,Ce.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(o,Ce.HEADER_SIZE+44)}}Ce.HEADER_SIZE=4;class Ve extends fe{constructor(o){super(o)}parseInformation(){let o=new X;return this.getGeneralDecoder().decodeAllCodes(o,Ve.HEADER_SIZE)}}Ve.HEADER_SIZE=5;class rt extends de{constructor(o){super(o)}encodeCompressedWeight(o,c,f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(c,f);this.addWeightCode(o,m);let w=this.checkWeight(m),y=1e5;for(let B=0;B<5;++B)w/y===0&&o.append("0"),y/=10;o.append(w)}}class Qe extends rt{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+rt.GTIN_SIZE+Qe.WEIGHT_SIZE)throw new Ee;let o=new X;return this.encodeCompressedGtin(o,Qe.HEADER_SIZE),this.encodeCompressedWeight(o,Qe.HEADER_SIZE+rt.GTIN_SIZE,Qe.WEIGHT_SIZE),o.toString()}}Qe.HEADER_SIZE=5,Qe.WEIGHT_SIZE=15;class We extends Qe{constructor(o){super(o)}addWeightCode(o,c){o.append("(3103)")}checkWeight(o){return o}}class Xe extends Qe{constructor(o){super(o)}addWeightCode(o,c){c<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class ut extends de{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ut.HEADER_SIZE+de.GTIN_SIZE)throw new Ee;let o=new X;this.encodeCompressedGtin(o,ut.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ut.HEADER_SIZE+de.GTIN_SIZE,ut.LAST_DIGIT_SIZE);o.append("(392"),o.append(c),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(ut.HEADER_SIZE+de.GTIN_SIZE+ut.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}ut.HEADER_SIZE=8,ut.LAST_DIGIT_SIZE=2;class ht extends de{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<ht.HEADER_SIZE+de.GTIN_SIZE)throw new Ee;let o=new X;this.encodeCompressedGtin(o,ht.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ht.HEADER_SIZE+de.GTIN_SIZE,ht.LAST_DIGIT_SIZE);o.append("(393"),o.append(c),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ht.HEADER_SIZE+de.GTIN_SIZE+ht.LAST_DIGIT_SIZE,ht.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let m=this.getGeneralDecoder().decodeGeneralPurposeField(ht.HEADER_SIZE+de.GTIN_SIZE+ht.LAST_DIGIT_SIZE+ht.FIRST_THREE_DIGITS_SIZE,null);return o.append(m.getNewString()),o.toString()}}ht.HEADER_SIZE=8,ht.LAST_DIGIT_SIZE=2,ht.FIRST_THREE_DIGITS_SIZE=10;class pt extends rt{constructor(o,c,f){super(o),this.dateCode=f,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=pt.HEADER_SIZE+pt.GTIN_SIZE+pt.WEIGHT_SIZE+pt.DATE_SIZE)throw new Ee;let o=new X;return this.encodeCompressedGtin(o,pt.HEADER_SIZE),this.encodeCompressedWeight(o,pt.HEADER_SIZE+pt.GTIN_SIZE,pt.WEIGHT_SIZE),this.encodeCompressedDate(o,pt.HEADER_SIZE+pt.GTIN_SIZE+pt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(c,pt.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let m=f%32;f/=32;let w=f%12+1;f/=12;let y=f;y/10==0&&o.append("0"),o.append(y),w/10==0&&o.append("0"),o.append(w),m/10==0&&o.append("0"),o.append(m)}addWeightCode(o,c){o.append("("),o.append(this.firstAIdigits),o.append(c/1e5),o.append(")")}checkWeight(o){return o%1e5}}pt.HEADER_SIZE=8,pt.WEIGHT_SIZE=20,pt.DATE_SIZE=16;function wt(q){try{if(q.get(1))return new Ce(q);if(!q.get(2))return new Ve(q);switch(ce.extractNumericValueFromBitArray(q,1,4)){case 4:return new We(q);case 5:return new Xe(q)}switch(ce.extractNumericValueFromBitArray(q,1,5)){case 12:return new ut(q);case 13:return new ht(q)}switch(ce.extractNumericValueFromBitArray(q,1,7)){case 56:return new pt(q,"310","11");case 57:return new pt(q,"320","11");case 58:return new pt(q,"310","13");case 59:return new pt(q,"320","13");case 60:return new pt(q,"310","15");case 61:return new pt(q,"320","15");case 62:return new pt(q,"310","17");case 63:return new pt(q,"320","17")}}catch(o){throw console.log(o),new Lt("unknown decoder: "+q)}}class Et{constructor(o,c,f,m){this.leftchar=o,this.rightchar=c,this.finderpattern=f,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,c){return o instanceof Et?Et.equalsOrNull(o.leftchar,c.leftchar)&&Et.equalsOrNull(o.rightchar,c.rightchar)&&Et.equalsOrNull(o.finderpattern,c.finderpattern):!1}static equalsOrNull(o,c){return o===null?c===null:Et.equals(o,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Dt{constructor(o,c,f){this.pairs=o,this.rowNumber=c,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,c){return o instanceof Dt?this.checkEqualitity(o,c)&&o.wasReversed===c.wasReversed:!1}checkEqualitity(o,c){if(!o||!c)return;let f;return o.forEach((m,w)=>{c.forEach(y=>{m.getLeftChar().getValue()===y.getLeftChar().getValue()&&m.getRightChar().getValue()===y.getRightChar().getValue()&&m.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(f=!0)})}),f}}class it extends Cr{constructor(o){super(...arguments),this.pairs=new Array(it.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,c,f){this.pairs.length=0,this.startFromEven=!1;try{return it.constructResult(this.decodeRow2pairs(o,c))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,it.constructResult(this.decodeRow2pairs(o,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,c){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,o))}catch(w){if(w instanceof Ee){if(!this.pairs.length)throw new Ee;f=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(o,!1),m){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new Ee}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),c}checkRows(o,c){for(let f=c;f<this.rows.length;f++){let m=this.rows[f];this.pairs.length=0;for(let y of o)this.pairs.push(y.getPairs());if(this.pairs.push(m.getPairs()),!it.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(o);w.push(m);try{return this.checkRows(w,f+1)}catch(y){this.verbose&&console.log(y)}}throw new Ee}static isValidSequence(o){for(let c of it.FINDER_PATTERN_SEQUENCES){if(o.length>c.length)continue;let f=!0;for(let m=0;m<o.length;m++)if(o[m].getFinderPattern().getValue()!=c[m]){f=!1;break}if(f)return!0}return!1}storeRow(o,c){let f=0,m=!1,w=!1;for(;f<this.rows.length;){let y=this.rows[f];if(y.getRowNumber()>o){w=y.isEquivalent(this.pairs);break}m=y.isEquivalent(this.pairs),f++}w||m||it.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new Dt(this.pairs,o,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,c){for(let f of c)if(f.getPairs().length!==o.length){for(let m of f.getPairs())for(let w of o)if(Et.equals(m,w))break}}static isPartialRow(o,c){for(let f of c){let m=!0;for(let w of o){let y=!1;for(let B of f.getPairs())if(w.equals(B)){y=!0;break}if(!y){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=So.buildBitArray(o),m=wt(c).parseInformation(),w=o[0].getFinderPattern().getResultPoints(),y=o[o.length-1].getFinderPattern().getResultPoints(),B=[w[0],w[1],y[0],y[1]];return new le(m,null,null,B,xe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),c=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let m=f.getChecksumPortion(),w=2;for(let B=1;B<this.pairs.size();++B){let I=this.pairs.get(B);m+=I.getLeftChar().getChecksumPortion(),w++;let U=I.getRightChar();U!=null&&(m+=U.getChecksumPortion(),w++)}return m%=211,211*(w-4)+m==c.getValue()}static getNextSecondBar(o,c){let f;return o.get(c)?(f=o.getNextUnset(c),f=o.getNextSet(f)):(f=o.getNextSet(c),f=o.getNextUnset(f)),f}retrieveNextPair(o,c,f){let m=c.length%2==0;this.startFromEven&&(m=!m);let w,y=!0,B=-1;do this.findNextPair(o,c,B),w=this.parseFoundFinderPattern(o,f,m),w==null?B=it.getNextSecondBar(o,this.startEnd[0]):y=!1;while(y);let I=this.decodeDataCharacter(o,w,m,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new Ee;let U;try{U=this.decodeDataCharacter(o,w,m,!1)}catch(P){U=null,this.verbose&&console.log(P)}return new Et(I,U,w,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,c,f){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=o.getSize(),y;f>=0?y=f:this.isEmptyPair(c)?y=0:y=c[c.length-1].getFinderPattern().getStartEnd()[1];let B=c.length%2!=0;this.startFromEven&&(B=!B);let I=!1;for(;y<w&&(I=!o.get(y),!!I);)y++;let U=0,P=y;for(let Y=y;Y<w;Y++)if(o.get(Y)!=I)m[U]++;else{if(U==3){if(B&&it.reverseCounters(m),it.isFinderPattern(m)){this.startEnd[0]=P,this.startEnd[1]=Y;return}B&&it.reverseCounters(m),P+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,U--}else U++;m[U]=1,I=!I}throw new Ee}static reverseCounters(o){let c=o.length;for(let f=0;f<c/2;++f){let m=o[f];o[f]=o[c-f-1],o[c-f-1]=m}}parseFoundFinderPattern(o,c,f){let m,w,y;if(f){let U=this.startEnd[0]-1;for(;U>=0&&!o.get(U);)U--;U++,m=this.startEnd[0]-U,w=U,y=this.startEnd[1]}else w=this.startEnd[0],y=o.getNextUnset(this.startEnd[1]+1),m=y-this.startEnd[1];let B=this.getDecodeFinderCounters();R.arraycopy(B,0,B,1,B.length-1),B[0]=m;let I;try{I=this.parseFinderValue(B,it.FINDER_PATTERNS)}catch{return null}return new ds(I,[w,y],w,y,c)}decodeDataCharacter(o,c,f,m){let w=this.getDataCharacterCounters();for(let qn=0;qn<w.length;qn++)w[qn]=0;if(m)it.recordPatternInReverse(o,c.getStartEnd()[0],w);else{it.recordPattern(o,c.getStartEnd()[1],w);for(let qn=0,di=w.length-1;qn<di;qn++,di--){let ms=w[qn];w[qn]=w[di],w[di]=ms}}let y=17,B=Bt.sum(new Int32Array(w))/y,I=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(B-I)/I>.3)throw new Ee;let U=this.getOddCounts(),P=this.getEvenCounts(),Y=this.getOddRoundingErrors(),re=this.getEvenRoundingErrors();for(let qn=0;qn<w.length;qn++){let di=1*w[qn]/B,ms=di+.5;if(ms<1){if(di<.3)throw new Ee;ms=1}else if(ms>8){if(di>8.7)throw new Ee;ms=8}let wA=qn/2;(qn&1)==0?(U[wA]=ms,Y[wA]=di-ms):(P[wA]=ms,re[wA]=di-ms)}this.adjustOddEvenCounts(y);let ye=4*c.getValue()+(f?0:2)+(m?0:1)-1,be=0,Ie=0;for(let qn=U.length-1;qn>=0;qn--){if(it.isNotA1left(c,f,m)){let di=it.WEIGHTS[ye][2*qn];Ie+=U[qn]*di}be+=U[qn]}let Le=0;for(let qn=P.length-1;qn>=0;qn--)if(it.isNotA1left(c,f,m)){let di=it.WEIGHTS[ye][2*qn+1];Le+=P[qn]*di}let $e=Ie+Le;if((be&1)!=0||be>13||be<4)throw new Ee;let Ct=(13-be)/2,vt=it.SYMBOL_WIDEST[Ct],dt=9-vt,vn=Wn.getRSSvalue(U,vt,!0),rn=Wn.getRSSvalue(P,dt,!1),Qr=it.EVEN_TOTAL_SUBSET[Ct],Ls=it.GSUM[Ct],Ui=vn*Qr+rn+Ls;return new yi(Ui,$e)}static isNotA1left(o,c,f){return!(o.getValue()==0&&c&&f)}adjustOddEvenCounts(o){let c=Bt.sum(new Int32Array(this.getOddCounts())),f=Bt.sum(new Int32Array(this.getEvenCounts())),m=!1,w=!1;c>13?w=!0:c<4&&(m=!0);let y=!1,B=!1;f>13?B=!0:f<4&&(y=!0);let I=c+f-o,U=(c&1)==1,P=(f&1)==0;if(I==1)if(U){if(P)throw new Ee;w=!0}else{if(!P)throw new Ee;B=!0}else if(I==-1)if(U){if(P)throw new Ee;m=!0}else{if(!P)throw new Ee;y=!0}else if(I==0){if(U){if(!P)throw new Ee;c<f?(m=!0,B=!0):(w=!0,y=!0)}else if(P)throw new Ee}else throw new Ee;if(m){if(w)throw new Ee;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(B)throw new Ee;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}B&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.SYMBOL_WIDEST=[7,5,4,3,1],it.EVEN_TOTAL_SUBSET=[4,20,52,104,204],it.GSUM=[0,348,1388,2948,3988],it.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],it.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],it.FINDER_PAT_A=0,it.FINDER_PAT_B=1,it.FINDER_PAT_C=2,it.FINDER_PAT_D=3,it.FINDER_PAT_E=4,it.FINDER_PAT_F=5,it.FINDER_PATTERN_SEQUENCES=[[it.FINDER_PAT_A,it.FINDER_PAT_A],[it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B],[it.FINDER_PAT_A,it.FINDER_PAT_C,it.FINDER_PAT_B,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_C],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_E,it.FINDER_PAT_B,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F],[it.FINDER_PAT_A,it.FINDER_PAT_A,it.FINDER_PAT_B,it.FINDER_PAT_B,it.FINDER_PAT_C,it.FINDER_PAT_D,it.FINDER_PAT_D,it.FINDER_PAT_E,it.FINDER_PAT_E,it.FINDER_PAT_F,it.FINDER_PAT_F]],it.MAX_PAIRS=11;class Rn extends yi{constructor(o,c,f){super(o,c),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends Cr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,c,f){const m=this.decodePair(c,!1,o,f);Gt.addOrTally(this.possibleLeftPairs,m),c.reverse();let w=this.decodePair(c,!0,o,f);Gt.addOrTally(this.possibleRightPairs,w),c.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let B of this.possibleRightPairs)if(B.getCount()>1&&Gt.checkChecksum(y,B))return Gt.constructResult(y,B)}throw new Ee}static addOrTally(o,c){if(c==null)return;let f=!1;for(let m of o)if(m.getValue()===c.getValue()){m.incrementCount(),f=!0;break}f||o.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,c){let f=4537077*o.getValue()+c.getValue(),m=new String(f).toString(),w=new X;for(let U=13-m.length;U>0;U--)w.append("0");w.append(m);let y=0;for(let U=0;U<13;U++){let P=w.charAt(U).charCodeAt(0)-48;y+=(U&1)===0?3*P:P}y=10-y%10,y===10&&(y=0),w.append(y.toString());let B=o.getFinderPattern().getResultPoints(),I=c.getFinderPattern().getResultPoints();return new le(w.toString(),null,0,[B[0],B[1],I[0],I[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(o,c){let f=(o.getChecksumPortion()+16*c.getChecksumPortion())%79,m=9*o.getFinderPattern().getValue()+c.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,f===m}decodePair(o,c,f,m){try{let w=this.findFinderPattern(o,c),y=this.parseFoundFinderPattern(o,f,c,w),B=m==null?null:m.get(ee.NEED_RESULT_POINT_CALLBACK);if(B!=null){let P=(w[0]+w[1])/2;c&&(P=o.getSize()-1-P),B.foundPossibleResultPoint(new At(P,f))}let I=this.decodeDataCharacter(o,y,!0),U=this.decodeDataCharacter(o,y,!1);return new Rn(1597*I.getValue()+U.getValue(),I.getChecksumPortion()+4*U.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(o,c,f){let m=this.getDataCharacterCounters();for(let Le=0;Le<m.length;Le++)m[Le]=0;if(f)st.recordPatternInReverse(o,c.getStartEnd()[0],m);else{st.recordPattern(o,c.getStartEnd()[1]+1,m);for(let Le=0,$e=m.length-1;Le<$e;Le++,$e--){let Ct=m[Le];m[Le]=m[$e],m[$e]=Ct}}let w=f?16:15,y=Bt.sum(new Int32Array(m))/w,B=this.getOddCounts(),I=this.getEvenCounts(),U=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Le=0;Le<m.length;Le++){let $e=m[Le]/y,Ct=Math.floor($e+.5);Ct<1?Ct=1:Ct>8&&(Ct=8);let vt=Math.floor(Le/2);(Le&1)===0?(B[vt]=Ct,U[vt]=$e-Ct):(I[vt]=Ct,P[vt]=$e-Ct)}this.adjustOddEvenCounts(f,w);let Y=0,re=0;for(let Le=B.length-1;Le>=0;Le--)re*=9,re+=B[Le],Y+=B[Le];let ye=0,be=0;for(let Le=I.length-1;Le>=0;Le--)ye*=9,ye+=I[Le],be+=I[Le];let Ie=re+3*ye;if(f){if((Y&1)!==0||Y>12||Y<4)throw new Ee;let Le=(12-Y)/2,$e=Gt.OUTSIDE_ODD_WIDEST[Le],Ct=9-$e,vt=Wn.getRSSvalue(B,$e,!1),dt=Wn.getRSSvalue(I,Ct,!0),vn=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[Le],rn=Gt.OUTSIDE_GSUM[Le];return new yi(vt*vn+dt+rn,Ie)}else{if((be&1)!==0||be>10||be<4)throw new Ee;let Le=(10-be)/2,$e=Gt.INSIDE_ODD_WIDEST[Le],Ct=9-$e,vt=Wn.getRSSvalue(B,$e,!0),dt=Wn.getRSSvalue(I,Ct,!1),vn=Gt.INSIDE_ODD_TOTAL_SUBSET[Le],rn=Gt.INSIDE_GSUM[Le];return new yi(dt*vn+vt+rn,Ie)}}findFinderPattern(o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=o.getSize(),w=!1,y=0;for(;y<m&&(w=!o.get(y),c!==w);)y++;let B=0,I=y;for(let U=y;U<m;U++)if(o.get(U)!==w)f[B]++;else{if(B===3){if(Cr.isFinderPattern(f))return[I,U];I+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,B--}else B++;f[B]=1,w=!w}throw new Ee}parseFoundFinderPattern(o,c,f,m){let w=o.get(m[0]),y=m[0]-1;for(;y>=0&&w!==o.get(y);)y--;y++;const B=m[0]-y,I=this.getDecodeFinderCounters(),U=new Int32Array(I.length);R.arraycopy(I,0,U,1,I.length-1),U[0]=B;const P=this.parseFinderValue(U,Gt.FINDER_PATTERNS);let Y=y,re=m[1];return f&&(Y=o.getSize()-1-Y,re=o.getSize()-1-re),new ds(P,[y,m[1]],Y,re,c)}adjustOddEvenCounts(o,c){let f=Bt.sum(new Int32Array(this.getOddCounts())),m=Bt.sum(new Int32Array(this.getEvenCounts())),w=!1,y=!1,B=!1,I=!1;o?(f>12?y=!0:f<4&&(w=!0),m>12?I=!0:m<4&&(B=!0)):(f>11?y=!0:f<5&&(w=!0),m>10?I=!0:m<4&&(B=!0));let U=f+m-c,P=(f&1)===(o?1:0),Y=(m&1)===1;if(U===1)if(P){if(Y)throw new Ee;y=!0}else{if(!Y)throw new Ee;I=!0}else if(U===-1)if(P){if(Y)throw new Ee;w=!0}else{if(!Y)throw new Ee;B=!0}else if(U===0){if(P){if(!Y)throw new Ee;f<m?(w=!0,I=!0):(y=!0,B=!0)}else if(Y)throw new Ee}else throw new Ee;if(w){if(y)throw new Ee;Cr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Cr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),B){if(I)throw new Ee;Cr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&Cr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Sr extends st{constructor(o,c){super(),this.readers=[],this.verbose=c===!0;const f=o?o.get(ee.POSSIBLE_FORMATS):null,m=o&&o.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(xe.EAN_13)||f.includes(xe.UPC_A)||f.includes(xe.EAN_8)||f.includes(xe.UPC_E))&&this.readers.push(new ga(o)),f.includes(xe.CODE_39)&&this.readers.push(new mt(m)),f.includes(xe.CODE_128)&&this.readers.push(new De),f.includes(xe.ITF)&&this.readers.push(new bt),f.includes(xe.RSS_14)&&this.readers.push(new Gt),f.includes(xe.RSS_EXPANDED)&&this.readers.push(new it(this.verbose))):(this.readers.push(new ga(o)),this.readers.push(new mt),this.readers.push(new ga(o)),this.readers.push(new De),this.readers.push(new bt),this.readers.push(new Gt),this.readers.push(new it(this.verbose)))}decodeRow(o,c,f){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(o,c,f)}catch{}throw new Ee}reset(){this.readers.forEach(o=>o.reset())}}class Pa extends ge{constructor(o=500,c){super(new Sr(c),o,c)}}class hn{constructor(o,c,f){this.ecCodewords=o,this.ecBlocks=[c],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nn{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class an{constructor(o,c,f,m,w,y){this.versionNumber=o,this.symbolSizeRows=c,this.symbolSizeColumns=f,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=w,this.ecBlocks=y;let B=0;const I=y.getECCodewords(),U=y.getECBlocks();for(let P of U)B+=P.getCount()*(P.getDataCodewords()+I);this.totalCodewords=B}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,c){if((o&1)!==0||(c&1)!==0)throw new M;for(let f of an.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===c)return f;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new an(1,10,10,8,8,new hn(5,new nn(1,3))),new an(2,12,12,10,10,new hn(7,new nn(1,5))),new an(3,14,14,12,12,new hn(10,new nn(1,8))),new an(4,16,16,14,14,new hn(12,new nn(1,12))),new an(5,18,18,16,16,new hn(14,new nn(1,18))),new an(6,20,20,18,18,new hn(18,new nn(1,22))),new an(7,22,22,20,20,new hn(20,new nn(1,30))),new an(8,24,24,22,22,new hn(24,new nn(1,36))),new an(9,26,26,24,24,new hn(28,new nn(1,44))),new an(10,32,32,14,14,new hn(36,new nn(1,62))),new an(11,36,36,16,16,new hn(42,new nn(1,86))),new an(12,40,40,18,18,new hn(48,new nn(1,114))),new an(13,44,44,20,20,new hn(56,new nn(1,144))),new an(14,48,48,22,22,new hn(68,new nn(1,174))),new an(15,52,52,24,24,new hn(42,new nn(2,102))),new an(16,64,64,14,14,new hn(56,new nn(2,140))),new an(17,72,72,16,16,new hn(36,new nn(4,92))),new an(18,80,80,18,18,new hn(48,new nn(4,114))),new an(19,88,88,20,20,new hn(56,new nn(4,144))),new an(20,96,96,22,22,new hn(68,new nn(4,174))),new an(21,104,104,24,24,new hn(56,new nn(6,136))),new an(22,120,120,18,18,new hn(68,new nn(6,175))),new an(23,132,132,20,20,new hn(62,new nn(8,163))),new an(24,144,144,22,22,new hn(62,new nn(8,156),new nn(2,155))),new an(25,8,18,6,16,new hn(7,new nn(1,5))),new an(26,8,32,6,14,new hn(11,new nn(1,10))),new an(27,12,26,10,24,new hn(14,new nn(1,16))),new an(28,12,36,10,16,new hn(18,new nn(1,22))),new an(29,16,36,14,16,new hn(24,new nn(1,32))),new an(30,16,48,14,22,new hn(28,new nn(1,49)))]}}an.VERSIONS=an.buildVersions();class kr{constructor(o){const c=o.getHeight();if(c<8||c>144||(c&1)!==0)throw new M;this.version=kr.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const c=o.getHeight(),f=o.getWidth();return an.getVersionForDimensions(c,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let c=0,f=4,m=0;const w=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let B=!1,I=!1,U=!1,P=!1;do if(f===w&&m===0&&!B)o[c++]=this.readCorner1(w,y)&255,f-=2,m+=2,B=!0;else if(f===w-2&&m===0&&(y&3)!==0&&!I)o[c++]=this.readCorner2(w,y)&255,f-=2,m+=2,I=!0;else if(f===w+4&&m===2&&(y&7)===0&&!U)o[c++]=this.readCorner3(w,y)&255,f-=2,m+=2,U=!0;else if(f===w-2&&m===0&&(y&7)===4&&!P)o[c++]=this.readCorner4(w,y)&255,f-=2,m+=2,P=!0;else{do f<w&&m>=0&&!this.readMappingMatrix.get(m,f)&&(o[c++]=this.readUtah(f,m,w,y)&255),f-=2,m+=2;while(f>=0&&m<y);f+=1,m+=3;do f>=0&&m<y&&!this.readMappingMatrix.get(m,f)&&(o[c++]=this.readUtah(f,m,w,y)&255),f+=2,m-=2;while(f<w&&m>=0);f+=3,m+=1}while(f<w||m<y);if(c!==this.version.getTotalCodewords())throw new M;return o}readModule(o,c,f,m){return o<0&&(o+=f,c+=4-(f+4&7)),c<0&&(c+=m,o+=4-(m+4&7)),this.readMappingMatrix.set(c,o),this.mappingBitMatrix.get(c,o)}readUtah(o,c,f,m){let w=0;return this.readModule(o-2,c-2,f,m)&&(w|=1),w<<=1,this.readModule(o-2,c-1,f,m)&&(w|=1),w<<=1,this.readModule(o-1,c-2,f,m)&&(w|=1),w<<=1,this.readModule(o-1,c-1,f,m)&&(w|=1),w<<=1,this.readModule(o-1,c,f,m)&&(w|=1),w<<=1,this.readModule(o,c-2,f,m)&&(w|=1),w<<=1,this.readModule(o,c-1,f,m)&&(w|=1),w<<=1,this.readModule(o,c,f,m)&&(w|=1),w}readCorner1(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,1,o,c)&&(f|=1),f<<=1,this.readModule(o-1,2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}readCorner2(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-4,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner3(o,c){let f=0;return this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(0,c-3,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-3,o,c)&&(f|=1),f<<=1,this.readModule(1,c-2,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f}readCorner4(o,c){let f=0;return this.readModule(o-3,0,o,c)&&(f|=1),f<<=1,this.readModule(o-2,0,o,c)&&(f|=1),f<<=1,this.readModule(o-1,0,o,c)&&(f|=1),f<<=1,this.readModule(0,c-2,o,c)&&(f|=1),f<<=1,this.readModule(0,c-1,o,c)&&(f|=1),f<<=1,this.readModule(1,c-1,o,c)&&(f|=1),f<<=1,this.readModule(2,c-1,o,c)&&(f|=1),f<<=1,this.readModule(3,c-1,o,c)&&(f|=1),f}extractDataRegion(o){const c=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==c)throw new C("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),y=c/m|0,B=f/w|0,I=y*m,U=B*w,P=new Me(U,I);for(let Y=0;Y<y;++Y){const re=Y*m;for(let ye=0;ye<B;++ye){const be=ye*w;for(let Ie=0;Ie<m;++Ie){const Le=Y*(m+2)+1+Ie,$e=re+Ie;for(let Ct=0;Ct<w;++Ct){const vt=ye*(w+2)+1+Ct;if(o.get(vt,Le)){const dt=be+Ct;P.set(dt,$e)}}}}}return P}}class pa{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c){const f=c.getECBlocks();let m=0;const w=f.getECBlocks();for(let Ie of w)m+=Ie.getCount();const y=new Array(m);let B=0;for(let Ie of w)for(let Le=0;Le<Ie.getCount();Le++){const $e=Ie.getDataCodewords(),Ct=f.getECCodewords()+$e;y[B++]=new pa($e,new Uint8Array(Ct))}const U=y[0].codewords.length-f.getECCodewords(),P=U-1;let Y=0;for(let Ie=0;Ie<P;Ie++)for(let Le=0;Le<B;Le++)y[Le].codewords[Ie]=o[Y++];const re=c.getVersionNumber()===24,ye=re?8:B;for(let Ie=0;Ie<ye;Ie++)y[Ie].codewords[U-1]=o[Y++];const be=y[0].codewords.length;for(let Ie=U;Ie<be;Ie++)for(let Le=0;Le<B;Le++){const $e=re?(Le+8)%B:Le,Ct=re&&$e>7?Ie-1:Ie;y[$e].codewords[Ct]=o[Y++]}if(Y!==o.length)throw new C;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yi{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new C(""+o);let c=0,f=this.bitOffset,m=this.byteOffset;const w=this.bytes;if(f>0){const y=8-f,B=o<y?o:y,I=y-B,U=255>>8-B<<I;c=(w[m]&U)>>I,o-=B,f+=B,f===8&&(f=0,m++)}if(o>0){for(;o>=8;)c=c<<8|w[m]&255,m++,o-=8;if(o>0){const y=8-o,B=255>>y<<y;c=c<<o|(w[m]&B)>>y,f+=o}}return this.bitOffset=f,this.byteOffset=m,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var In;(function(q){q[q.PAD_ENCODE=0]="PAD_ENCODE",q[q.ASCII_ENCODE=1]="ASCII_ENCODE",q[q.C40_ENCODE=2]="C40_ENCODE",q[q.TEXT_ENCODE=3]="TEXT_ENCODE",q[q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",q[q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",q[q.BASE256_ENCODE=6]="BASE256_ENCODE"})(In||(In={}));class Js{static decode(o){const c=new Yi(o),f=new X,m=new X,w=new Array;let y=In.ASCII_ENCODE;do if(y===In.ASCII_ENCODE)y=this.decodeAsciiSegment(c,f,m);else{switch(y){case In.C40_ENCODE:this.decodeC40Segment(c,f);break;case In.TEXT_ENCODE:this.decodeTextSegment(c,f);break;case In.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,f);break;case In.EDIFACT_ENCODE:this.decodeEdifactSegment(c,f);break;case In.BASE256_ENCODE:this.decodeBase256Segment(c,f,w);break;default:throw new M}y=In.ASCII_ENCODE}while(y!==In.PAD_ENCODE&&c.available()>0);return m.length()>0&&f.append(m.toString()),new _e(o,f.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(o,c,f){let m=!1;do{let w=o.readBits(8);if(w===0)throw new M;if(w<=128)return m&&(w+=128),c.append(String.fromCharCode(w-1)),In.ASCII_ENCODE;if(w===129)return In.PAD_ENCODE;if(w<=229){const y=w-130;y<10&&c.append("0"),c.append(""+y)}else switch(w){case 230:return In.C40_ENCODE;case 231:return In.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:c.append("[)>05"),f.insert(0,"");break;case 237:c.append("[)>06"),f.insert(0,"");break;case 238:return In.ANSIX12_ENCODE;case 239:return In.TEXT_ENCODE;case 240:return In.EDIFACT_ENCODE;case 241:break;default:if(w!==254||o.available()!==0)throw new M;break}}while(o.available()>0);return In.ASCII_ENCODE}static decodeC40Segment(o,c){let f=!1;const m=[];let w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),m);for(let B=0;B<3;B++){const I=m[B];switch(w){case 0:if(I<3)w=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const U=this.C40_BASIC_SET_CHARS[I];f?(c.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):c.append(U)}else throw new M;break;case 1:f?(c.append(String.fromCharCode(I+128)),f=!1):c.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[I];f?(c.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):c.append(U)}else switch(I){case 27:c.append("");break;case 30:f=!0;break;default:throw new M}w=0;break;case 3:f?(c.append(String.fromCharCode(I+224)),f=!1):c.append(String.fromCharCode(I+96)),w=0;break;default:throw new M}}}while(o.available()>0)}static decodeTextSegment(o,c){let f=!1,m=[],w=0;do{if(o.available()===8)return;const y=o.readBits(8);if(y===254)return;this.parseTwoBytes(y,o.readBits(8),m);for(let B=0;B<3;B++){const I=m[B];switch(w){case 0:if(I<3)w=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const U=this.TEXT_BASIC_SET_CHARS[I];f?(c.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):c.append(U)}else throw new M;break;case 1:f?(c.append(String.fromCharCode(I+128)),f=!1):c.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[I];f?(c.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):c.append(U)}else switch(I){case 27:c.append("");break;case 30:f=!0;break;default:throw new M}w=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const U=this.TEXT_SHIFT3_SET_CHARS[I];f?(c.append(String.fromCharCode(U.charCodeAt(0)+128)),f=!1):c.append(U),w=0}else throw new M;break;default:throw new M}}}while(o.available()>0)}static decodeAnsiX12Segment(o,c){const f=[];do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),f);for(let w=0;w<3;w++){const y=f[w];switch(y){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(y<14)c.append(String.fromCharCode(y+44));else if(y<40)c.append(String.fromCharCode(y+51));else throw new M;break}}}while(o.available()>0)}static parseTwoBytes(o,c,f){let m=(o<<8)+c-1,w=Math.floor(m/1600);f[0]=w,m-=w*1600,w=Math.floor(m/40),f[1]=w,f[2]=m-w*40}static decodeEdifactSegment(o,c){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let m=o.readBits(6);if(m===31){const w=8-o.getBitOffset();w!==8&&o.readBits(w);return}(m&32)===0&&(m|=64),c.append(String.fromCharCode(m))}}while(o.available()>0)}static decodeBase256Segment(o,c,f){let m=1+o.getByteOffset();const w=this.unrandomize255State(o.readBits(8),m++);let y;if(w===0?y=o.available()/8|0:w<250?y=w:y=250*(w-249)+this.unrandomize255State(o.readBits(8),m++),y<0)throw new M;const B=new Uint8Array(y);for(let I=0;I<y;I++){if(o.available()<8)throw new M;B[I]=this.unrandomize255State(o.readBits(8),m++)}f.push(B);try{c.append(J.decode(B,W.ISO88591))}catch(I){throw new Lt("Platform does not support required encoding: "+I.message)}}static unrandomize255State(o,c){const f=149*c%255+1,m=o-f;return m>=0?m:m+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Gu{constructor(){this.rsDecoder=new Fe(St.DATA_MATRIX_FIELD_256)}decode(o){const c=new kr(o),f=c.getVersion(),m=c.readCodewords(),w=pa.getDataBlocks(m,f);let y=0;for(let U of w)y+=U.getNumDataCodewords();const B=new Uint8Array(y),I=w.length;for(let U=0;U<I;U++){const P=w[U],Y=P.getCodewords(),re=P.getNumDataCodewords();this.correctErrors(Y,re);for(let ye=0;ye<re;ye++)B[ye*I+U]=Y[ye]}return Js.decode(B)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new N}for(let m=0;m<c;m++)o[m]=f[m]}}class nr{constructor(o){this.image=o,this.rectangleDetector=new at(this.image)}detect(){const o=this.rectangleDetector.detect();let c=this.detectSolid1(o);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new Ee;c=this.shiftToModuleCenter(c);const f=c[0],m=c[1],w=c[2],y=c[3];let B=this.transitionsBetween(f,y)+1,I=this.transitionsBetween(w,y)+1;(B&1)===1&&(B+=1),(I&1)===1&&(I+=1),4*B<7*I&&4*I<7*B&&(B=I=Math.max(B,I));let U=nr.sampleGrid(this.image,f,m,w,y,B,I);return new Pn(U,[f,m,w,y])}static shiftPoint(o,c,f){let m=(c.getX()-o.getX())/(f+1),w=(c.getY()-o.getY())/(f+1);return new At(o.getX()+m,o.getY()+w)}static moveAway(o,c,f){let m=o.getX(),w=o.getY();return m<c?m-=1:m+=1,w<f?w-=1:w+=1,new At(m,w)}detectSolid1(o){let c=o[0],f=o[1],m=o[3],w=o[2],y=this.transitionsBetween(c,f),B=this.transitionsBetween(f,m),I=this.transitionsBetween(m,w),U=this.transitionsBetween(w,c),P=y,Y=[w,c,f,m];return P>B&&(P=B,Y[0]=c,Y[1]=f,Y[2]=m,Y[3]=w),P>I&&(P=I,Y[0]=f,Y[1]=m,Y[2]=w,Y[3]=c),P>U&&(Y[0]=m,Y[1]=w,Y[2]=c,Y[3]=f),Y}detectSolid2(o){let c=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(c,w),B=nr.shiftPoint(f,m,(y+1)*4),I=nr.shiftPoint(m,f,(y+1)*4),U=this.transitionsBetween(B,c),P=this.transitionsBetween(I,w);return U<P?(o[0]=c,o[1]=f,o[2]=m,o[3]=w):(o[0]=f,o[1]=m,o[2]=w,o[3]=c),o}correctTopRight(o){let c=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(c,w),B=this.transitionsBetween(f,w),I=nr.shiftPoint(c,f,(B+1)*4),U=nr.shiftPoint(m,f,(y+1)*4);y=this.transitionsBetween(I,w),B=this.transitionsBetween(U,w);let P=new At(w.getX()+(m.getX()-f.getX())/(y+1),w.getY()+(m.getY()-f.getY())/(y+1)),Y=new At(w.getX()+(c.getX()-f.getX())/(B+1),w.getY()+(c.getY()-f.getY())/(B+1));if(!this.isValid(P))return this.isValid(Y)?Y:null;if(!this.isValid(Y))return P;let re=this.transitionsBetween(I,P)+this.transitionsBetween(U,P),ye=this.transitionsBetween(I,Y)+this.transitionsBetween(U,Y);return re>ye?P:Y}shiftToModuleCenter(o){let c=o[0],f=o[1],m=o[2],w=o[3],y=this.transitionsBetween(c,w)+1,B=this.transitionsBetween(m,w)+1,I=nr.shiftPoint(c,f,B*4),U=nr.shiftPoint(m,f,y*4);y=this.transitionsBetween(I,w)+1,B=this.transitionsBetween(U,w)+1,(y&1)===1&&(y+=1),(B&1)===1&&(B+=1);let P=(c.getX()+f.getX()+m.getX()+w.getX())/4,Y=(c.getY()+f.getY()+m.getY()+w.getY())/4;c=nr.moveAway(c,P,Y),f=nr.moveAway(f,P,Y),m=nr.moveAway(m,P,Y),w=nr.moveAway(w,P,Y);let re,ye;return I=nr.shiftPoint(c,f,B*4),I=nr.shiftPoint(I,w,y*4),re=nr.shiftPoint(f,c,B*4),re=nr.shiftPoint(re,m,y*4),U=nr.shiftPoint(m,w,B*4),U=nr.shiftPoint(U,f,y*4),ye=nr.shiftPoint(w,m,B*4),ye=nr.shiftPoint(ye,c,y*4),[I,re,U,ye]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,c,f,m,w,y,B){return un.getInstance().sampleGrid(o,y,B,.5,.5,y-.5,.5,y-.5,B-.5,.5,B-.5,c.getX(),c.getY(),w.getX(),w.getY(),m.getX(),m.getY(),f.getX(),f.getY())}transitionsBetween(o,c){let f=Math.trunc(o.getX()),m=Math.trunc(o.getY()),w=Math.trunc(c.getX()),y=Math.trunc(c.getY()),B=Math.abs(y-m)>Math.abs(w-f);if(B){let Ie=f;f=m,m=Ie,Ie=w,w=y,y=Ie}let I=Math.abs(w-f),U=Math.abs(y-m),P=-I/2,Y=m<y?1:-1,re=f<w?1:-1,ye=0,be=this.image.get(B?m:f,B?f:m);for(let Ie=f,Le=m;Ie!==w;Ie+=re){let $e=this.image.get(B?Le:Ie,B?Ie:Le);if($e!==be&&(ye++,be=$e),P+=U,P>0){if(Le===y)break;Le+=Y,P-=I}}return ye}}class Is{constructor(){this.decoder=new Gu}decode(o,c=null){let f,m;if(c!=null&&c.has(ee.PURE_BARCODE)){const U=Is.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(U),m=Is.NO_POINTS}else{const U=new nr(o.getBlackMatrix()).detect();f=this.decoder.decode(U.getBits()),m=U.getPoints()}const w=f.getRawBytes(),y=new le(f.getText(),w,8*w.length,m,xe.DATA_MATRIX,R.currentTimeMillis()),B=f.getByteSegments();B!=null&&y.putMetadata(Ne.BYTE_SEGMENTS,B);const I=f.getECLevel();return I!=null&&y.putMetadata(Ne.ERROR_CORRECTION_LEVEL,I),y}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c==null||f==null)throw new Ee;const m=this.moduleSize(c,o);let w=c[1];const y=f[1];let B=c[0];const U=(f[0]-B+1)/m,P=(y-w+1)/m;if(U<=0||P<=0)throw new Ee;const Y=m/2;w+=Y,B+=Y;const re=new Me(U,P);for(let ye=0;ye<P;ye++){const be=w+ye*m;for(let Ie=0;Ie<U;Ie++)o.get(B+Ie*m,be)&&re.set(Ie,ye)}return re}static moduleSize(o,c){const f=c.getWidth();let m=o[0];const w=o[1];for(;m<f&&c.get(m,w);)m++;if(m===f)throw new Ee;const y=m-o[0];if(y===0)throw new Ee;return y}}Is.NO_POINTS=[];class pA extends ge{constructor(o=500){super(new Is,o)}}var Ji;(function(q){q[q.L=0]="L",q[q.M=1]="M",q[q.Q=2]="Q",q[q.H=3]="H"})(Ji||(Ji={}));class Yt{constructor(o,c,f){this.value=o,this.stringValue=c,this.bits=f,Yt.FOR_BITS.set(f,this),Yt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Yt.L;case"M":return Yt.M;case"Q":return Yt.Q;case"H":return Yt.H;default:throw new x(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Yt))return!1;const c=o;return this.value===c.value}static forBits(o){if(o<0||o>=Yt.FOR_BITS.size)throw new C;return Yt.FOR_BITS.get(o)}}Yt.FOR_BITS=new Map,Yt.FOR_VALUE=new Map,Yt.L=new Yt(Ji.L,"L",1),Yt.M=new Yt(Ji.M,"M",0),Yt.Q=new Yt(Ji.Q,"Q",3),Yt.H=new Yt(Ji.H,"H",2);class xr{constructor(o){this.errorCorrectionLevel=Yt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,c){return Q.bitCount(o^c)}static decodeFormatInformation(o,c){const f=xr.doDecodeFormatInformation(o,c);return f!==null?f:xr.doDecodeFormatInformation(o^xr.FORMAT_INFO_MASK_QR,c^xr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,c){let f=Number.MAX_SAFE_INTEGER,m=0;for(const w of xr.FORMAT_INFO_DECODE_LOOKUP){const y=w[0];if(y===o||y===c)return new xr(w[1]);let B=xr.numBitsDiffering(o,y);B<f&&(m=w[1],f=B),o!==c&&(B=xr.numBitsDiffering(c,y),B<f&&(m=w[1],f=B))}return f<=3?new xr(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof xr))return!1;const c=o;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}xr.FORMAT_INFO_MASK_QR=21522,xr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class He{constructor(o,...c){this.ecCodewordsPerBlock=o,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const c=this.ecBlocks;for(const f of c)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class he{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(o,c,...f){this.versionNumber=o,this.alignmentPatternCenters=c,this.ecBlocks=f;let m=0;const w=f[0].getECCodewordsPerBlock(),y=f[0].getECBlocks();for(const B of y)m+=B.getCount()*(B.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new M;try{return this.getVersionForNumber((o-17)/4)}catch{throw new M}}static getVersionForNumber(o){if(o<1||o>40)throw new C;return _t.VERSIONS[o-1]}static decodeVersionInformation(o){let c=Number.MAX_SAFE_INTEGER,f=0;for(let m=0;m<_t.VERSION_DECODE_INFO.length;m++){const w=_t.VERSION_DECODE_INFO[m];if(w===o)return _t.getVersionForNumber(m+7);const y=xr.numBitsDiffering(o,w);y<c&&(f=m+7,c=y)}return c<=3?_t.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),c=new Me(o);c.setRegion(0,0,9,9),c.setRegion(o-8,0,8,9),c.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let m=0;m<f;m++){const w=this.alignmentPatternCenters[m]-2;for(let y=0;y<f;y++)m===0&&(y===0||y===f-1)||m===f-1&&y===0||c.setRegion(this.alignmentPatternCenters[y]-2,w,5,5)}return c.setRegion(6,9,1,o-17),c.setRegion(9,6,o-17,1),this.versionNumber>6&&(c.setRegion(o-11,0,3,6),c.setRegion(0,o-11,6,3)),c}toString(){return""+this.versionNumber}}_t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_t.VERSIONS=[new _t(1,new Int32Array(0),new He(7,new he(1,19)),new He(10,new he(1,16)),new He(13,new he(1,13)),new He(17,new he(1,9))),new _t(2,Int32Array.from([6,18]),new He(10,new he(1,34)),new He(16,new he(1,28)),new He(22,new he(1,22)),new He(28,new he(1,16))),new _t(3,Int32Array.from([6,22]),new He(15,new he(1,55)),new He(26,new he(1,44)),new He(18,new he(2,17)),new He(22,new he(2,13))),new _t(4,Int32Array.from([6,26]),new He(20,new he(1,80)),new He(18,new he(2,32)),new He(26,new he(2,24)),new He(16,new he(4,9))),new _t(5,Int32Array.from([6,30]),new He(26,new he(1,108)),new He(24,new he(2,43)),new He(18,new he(2,15),new he(2,16)),new He(22,new he(2,11),new he(2,12))),new _t(6,Int32Array.from([6,34]),new He(18,new he(2,68)),new He(16,new he(4,27)),new He(24,new he(4,19)),new He(28,new he(4,15))),new _t(7,Int32Array.from([6,22,38]),new He(20,new he(2,78)),new He(18,new he(4,31)),new He(18,new he(2,14),new he(4,15)),new He(26,new he(4,13),new he(1,14))),new _t(8,Int32Array.from([6,24,42]),new He(24,new he(2,97)),new He(22,new he(2,38),new he(2,39)),new He(22,new he(4,18),new he(2,19)),new He(26,new he(4,14),new he(2,15))),new _t(9,Int32Array.from([6,26,46]),new He(30,new he(2,116)),new He(22,new he(3,36),new he(2,37)),new He(20,new he(4,16),new he(4,17)),new He(24,new he(4,12),new he(4,13))),new _t(10,Int32Array.from([6,28,50]),new He(18,new he(2,68),new he(2,69)),new He(26,new he(4,43),new he(1,44)),new He(24,new he(6,19),new he(2,20)),new He(28,new he(6,15),new he(2,16))),new _t(11,Int32Array.from([6,30,54]),new He(20,new he(4,81)),new He(30,new he(1,50),new he(4,51)),new He(28,new he(4,22),new he(4,23)),new He(24,new he(3,12),new he(8,13))),new _t(12,Int32Array.from([6,32,58]),new He(24,new he(2,92),new he(2,93)),new He(22,new he(6,36),new he(2,37)),new He(26,new he(4,20),new he(6,21)),new He(28,new he(7,14),new he(4,15))),new _t(13,Int32Array.from([6,34,62]),new He(26,new he(4,107)),new He(22,new he(8,37),new he(1,38)),new He(24,new he(8,20),new he(4,21)),new He(22,new he(12,11),new he(4,12))),new _t(14,Int32Array.from([6,26,46,66]),new He(30,new he(3,115),new he(1,116)),new He(24,new he(4,40),new he(5,41)),new He(20,new he(11,16),new he(5,17)),new He(24,new he(11,12),new he(5,13))),new _t(15,Int32Array.from([6,26,48,70]),new He(22,new he(5,87),new he(1,88)),new He(24,new he(5,41),new he(5,42)),new He(30,new he(5,24),new he(7,25)),new He(24,new he(11,12),new he(7,13))),new _t(16,Int32Array.from([6,26,50,74]),new He(24,new he(5,98),new he(1,99)),new He(28,new he(7,45),new he(3,46)),new He(24,new he(15,19),new he(2,20)),new He(30,new he(3,15),new he(13,16))),new _t(17,Int32Array.from([6,30,54,78]),new He(28,new he(1,107),new he(5,108)),new He(28,new he(10,46),new he(1,47)),new He(28,new he(1,22),new he(15,23)),new He(28,new he(2,14),new he(17,15))),new _t(18,Int32Array.from([6,30,56,82]),new He(30,new he(5,120),new he(1,121)),new He(26,new he(9,43),new he(4,44)),new He(28,new he(17,22),new he(1,23)),new He(28,new he(2,14),new he(19,15))),new _t(19,Int32Array.from([6,30,58,86]),new He(28,new he(3,113),new he(4,114)),new He(26,new he(3,44),new he(11,45)),new He(26,new he(17,21),new he(4,22)),new He(26,new he(9,13),new he(16,14))),new _t(20,Int32Array.from([6,34,62,90]),new He(28,new he(3,107),new he(5,108)),new He(26,new he(3,41),new he(13,42)),new He(30,new he(15,24),new he(5,25)),new He(28,new he(15,15),new he(10,16))),new _t(21,Int32Array.from([6,28,50,72,94]),new He(28,new he(4,116),new he(4,117)),new He(26,new he(17,42)),new He(28,new he(17,22),new he(6,23)),new He(30,new he(19,16),new he(6,17))),new _t(22,Int32Array.from([6,26,50,74,98]),new He(28,new he(2,111),new he(7,112)),new He(28,new he(17,46)),new He(30,new he(7,24),new he(16,25)),new He(24,new he(34,13))),new _t(23,Int32Array.from([6,30,54,78,102]),new He(30,new he(4,121),new he(5,122)),new He(28,new he(4,47),new he(14,48)),new He(30,new he(11,24),new he(14,25)),new He(30,new he(16,15),new he(14,16))),new _t(24,Int32Array.from([6,28,54,80,106]),new He(30,new he(6,117),new he(4,118)),new He(28,new he(6,45),new he(14,46)),new He(30,new he(11,24),new he(16,25)),new He(30,new he(30,16),new he(2,17))),new _t(25,Int32Array.from([6,32,58,84,110]),new He(26,new he(8,106),new he(4,107)),new He(28,new he(8,47),new he(13,48)),new He(30,new he(7,24),new he(22,25)),new He(30,new he(22,15),new he(13,16))),new _t(26,Int32Array.from([6,30,58,86,114]),new He(28,new he(10,114),new he(2,115)),new He(28,new he(19,46),new he(4,47)),new He(28,new he(28,22),new he(6,23)),new He(30,new he(33,16),new he(4,17))),new _t(27,Int32Array.from([6,34,62,90,118]),new He(30,new he(8,122),new he(4,123)),new He(28,new he(22,45),new he(3,46)),new He(30,new he(8,23),new he(26,24)),new He(30,new he(12,15),new he(28,16))),new _t(28,Int32Array.from([6,26,50,74,98,122]),new He(30,new he(3,117),new he(10,118)),new He(28,new he(3,45),new he(23,46)),new He(30,new he(4,24),new he(31,25)),new He(30,new he(11,15),new he(31,16))),new _t(29,Int32Array.from([6,30,54,78,102,126]),new He(30,new he(7,116),new he(7,117)),new He(28,new he(21,45),new he(7,46)),new He(30,new he(1,23),new he(37,24)),new He(30,new he(19,15),new he(26,16))),new _t(30,Int32Array.from([6,26,52,78,104,130]),new He(30,new he(5,115),new he(10,116)),new He(28,new he(19,47),new he(10,48)),new He(30,new he(15,24),new he(25,25)),new He(30,new he(23,15),new he(25,16))),new _t(31,Int32Array.from([6,30,56,82,108,134]),new He(30,new he(13,115),new he(3,116)),new He(28,new he(2,46),new he(29,47)),new He(30,new he(42,24),new he(1,25)),new He(30,new he(23,15),new he(28,16))),new _t(32,Int32Array.from([6,34,60,86,112,138]),new He(30,new he(17,115)),new He(28,new he(10,46),new he(23,47)),new He(30,new he(10,24),new he(35,25)),new He(30,new he(19,15),new he(35,16))),new _t(33,Int32Array.from([6,30,58,86,114,142]),new He(30,new he(17,115),new he(1,116)),new He(28,new he(14,46),new he(21,47)),new He(30,new he(29,24),new he(19,25)),new He(30,new he(11,15),new he(46,16))),new _t(34,Int32Array.from([6,34,62,90,118,146]),new He(30,new he(13,115),new he(6,116)),new He(28,new he(14,46),new he(23,47)),new He(30,new he(44,24),new he(7,25)),new He(30,new he(59,16),new he(1,17))),new _t(35,Int32Array.from([6,30,54,78,102,126,150]),new He(30,new he(12,121),new he(7,122)),new He(28,new he(12,47),new he(26,48)),new He(30,new he(39,24),new he(14,25)),new He(30,new he(22,15),new he(41,16))),new _t(36,Int32Array.from([6,24,50,76,102,128,154]),new He(30,new he(6,121),new he(14,122)),new He(28,new he(6,47),new he(34,48)),new He(30,new he(46,24),new he(10,25)),new He(30,new he(2,15),new he(64,16))),new _t(37,Int32Array.from([6,28,54,80,106,132,158]),new He(30,new he(17,122),new he(4,123)),new He(28,new he(29,46),new he(14,47)),new He(30,new he(49,24),new he(10,25)),new He(30,new he(24,15),new he(46,16))),new _t(38,Int32Array.from([6,32,58,84,110,136,162]),new He(30,new he(4,122),new he(18,123)),new He(28,new he(13,46),new he(32,47)),new He(30,new he(48,24),new he(14,25)),new He(30,new he(42,15),new he(32,16))),new _t(39,Int32Array.from([6,26,54,82,110,138,166]),new He(30,new he(20,117),new he(4,118)),new He(28,new he(40,47),new he(7,48)),new He(30,new he(43,24),new he(22,25)),new He(30,new he(10,15),new he(67,16))),new _t(40,Int32Array.from([6,30,58,86,114,142,170]),new He(30,new he(19,118),new he(6,119)),new He(28,new he(18,47),new he(31,48)),new He(30,new he(34,24),new he(34,25)),new He(30,new he(20,15),new he(61,16)))];var hr;(function(q){q[q.DATA_MASK_000=0]="DATA_MASK_000",q[q.DATA_MASK_001=1]="DATA_MASK_001",q[q.DATA_MASK_010=2]="DATA_MASK_010",q[q.DATA_MASK_011=3]="DATA_MASK_011",q[q.DATA_MASK_100=4]="DATA_MASK_100",q[q.DATA_MASK_101=5]="DATA_MASK_101",q[q.DATA_MASK_110=6]="DATA_MASK_110",q[q.DATA_MASK_111=7]="DATA_MASK_111"})(hr||(hr={}));class Kr{constructor(o,c){this.value=o,this.isMasked=c}unmaskBitMatrix(o,c){for(let f=0;f<c;f++)for(let m=0;m<c;m++)this.isMasked(f,m)&&o.flip(m,f)}}Kr.values=new Map([[hr.DATA_MASK_000,new Kr(hr.DATA_MASK_000,(q,o)=>(q+o&1)===0)],[hr.DATA_MASK_001,new Kr(hr.DATA_MASK_001,(q,o)=>(q&1)===0)],[hr.DATA_MASK_010,new Kr(hr.DATA_MASK_010,(q,o)=>o%3===0)],[hr.DATA_MASK_011,new Kr(hr.DATA_MASK_011,(q,o)=>(q+o)%3===0)],[hr.DATA_MASK_100,new Kr(hr.DATA_MASK_100,(q,o)=>(Math.floor(q/2)+Math.floor(o/3)&1)===0)],[hr.DATA_MASK_101,new Kr(hr.DATA_MASK_101,(q,o)=>q*o%6===0)],[hr.DATA_MASK_110,new Kr(hr.DATA_MASK_110,(q,o)=>q*o%6<3)],[hr.DATA_MASK_111,new Kr(hr.DATA_MASK_111,(q,o)=>(q+o+q*o%3&1)===0)]]);class Ns{constructor(o){const c=o.getHeight();if(c<21||(c&3)!==1)throw new M;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let w=0;w<6;w++)o=this.copyBit(w,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let w=5;w>=0;w--)o=this.copyBit(8,w,o);const c=this.bitMatrix.getHeight();let f=0;const m=c-7;for(let w=c-1;w>=m;w--)f=this.copyBit(8,w,f);for(let w=c-8;w<c;w++)f=this.copyBit(w,8,f);if(this.parsedFormatInfo=xr.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),c=Math.floor((o-17)/4);if(c<=6)return _t.getVersionForNumber(c);let f=0;const m=o-11;for(let y=5;y>=0;y--)for(let B=o-9;B>=m;B--)f=this.copyBit(B,y,f);let w=_t.decodeVersionInformation(f);if(w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;f=0;for(let y=5;y>=0;y--)for(let B=o-9;B>=m;B--)f=this.copyBit(y,B,f);if(w=_t.decodeVersionInformation(f),w!==null&&w.getDimensionForVersion()===o)return this.parsedVersion=w,w;throw new M}copyBit(o,c,f){return(this.isMirror?this.bitMatrix.get(c,o):this.bitMatrix.get(o,c))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),c=this.readVersion(),f=Kr.values.get(o.getDataMask()),m=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,m);const w=c.buildFunctionPattern();let y=!0;const B=new Uint8Array(c.getTotalCodewords());let I=0,U=0,P=0;for(let Y=m-1;Y>0;Y-=2){Y===6&&Y--;for(let re=0;re<m;re++){const ye=y?m-1-re:re;for(let be=0;be<2;be++)w.get(Y-be,ye)||(P++,U<<=1,this.bitMatrix.get(Y-be,ye)&&(U|=1),P===8&&(B[I++]=U,P=0,U=0))}y=!y}if(I!==c.getTotalCodewords())throw new M;return B}remask(){if(this.parsedFormatInfo===null)return;const o=Kr.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let c=0,f=o.getWidth();c<f;c++)for(let m=c+1,w=o.getHeight();m<w;m++)o.get(c,m)!==o.get(m,c)&&(o.flip(m,c),o.flip(c,m))}}class vl{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c,f){if(o.length!==c.getTotalCodewords())throw new C;const m=c.getECBlocksForLevel(f);let w=0;const y=m.getECBlocks();for(const be of y)w+=be.getCount();const B=new Array(w);let I=0;for(const be of y)for(let Ie=0;Ie<be.getCount();Ie++){const Le=be.getDataCodewords(),$e=m.getECCodewordsPerBlock()+Le;B[I++]=new vl(Le,new Uint8Array($e))}const U=B[0].codewords.length;let P=B.length-1;for(;P>=0&&B[P].codewords.length!==U;)P--;P++;const Y=U-m.getECCodewordsPerBlock();let re=0;for(let be=0;be<Y;be++)for(let Ie=0;Ie<I;Ie++)B[Ie].codewords[be]=o[re++];for(let be=P;be<I;be++)B[be].codewords[Y]=o[re++];const ye=B[0].codewords.length;for(let be=Y;be<ye;be++)for(let Ie=0;Ie<I;Ie++){const Le=Ie<P?be:be+1;B[Ie].codewords[Le]=o[re++]}return B}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ci;(function(q){q[q.TERMINATOR=0]="TERMINATOR",q[q.NUMERIC=1]="NUMERIC",q[q.ALPHANUMERIC=2]="ALPHANUMERIC",q[q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",q[q.BYTE=4]="BYTE",q[q.ECI=5]="ECI",q[q.KANJI=6]="KANJI",q[q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",q[q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",q[q.HANZI=9]="HANZI"})(Ci||(Ci={}));class Vt{constructor(o,c,f,m){this.value=o,this.stringValue=c,this.characterCountBitsForVersions=f,this.bits=m,Vt.FOR_BITS.set(m,this),Vt.FOR_VALUE.set(o,this)}static forBits(o){const c=Vt.FOR_BITS.get(o);if(c===void 0)throw new C;return c}getCharacterCountBits(o){const c=o.getVersionNumber();let f;return c<=9?f=0:c<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Vt))return!1;const c=o;return this.value===c.value}toString(){return this.stringValue}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.TERMINATOR=new Vt(Ci.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Vt.NUMERIC=new Vt(Ci.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Vt.ALPHANUMERIC=new Vt(Ci.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Vt.STRUCTURED_APPEND=new Vt(Ci.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Vt.BYTE=new Vt(Ci.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Vt.ECI=new Vt(Ci.ECI,"ECI",Int32Array.from([0,0,0]),7),Vt.KANJI=new Vt(Ci.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Vt.FNC1_FIRST_POSITION=new Vt(Ci.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Vt.FNC1_SECOND_POSITION=new Vt(Ci.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Vt.HANZI=new Vt(Ci.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jn{static decode(o,c,f,m){const w=new Yi(o);let y=new X;const B=new Array;let I=-1,U=-1;try{let P=null,Y=!1,re;do{if(w.available()<4)re=Vt.TERMINATOR;else{const ye=w.readBits(4);re=Vt.forBits(ye)}switch(re){case Vt.TERMINATOR:break;case Vt.FNC1_FIRST_POSITION:case Vt.FNC1_SECOND_POSITION:Y=!0;break;case Vt.STRUCTURED_APPEND:if(w.available()<16)throw new M;I=w.readBits(8),U=w.readBits(8);break;case Vt.ECI:const ye=Jn.parseECIValue(w);if(P=O.getCharacterSetECIByValue(ye),P===null)throw new M;break;case Vt.HANZI:const be=w.readBits(4),Ie=w.readBits(re.getCharacterCountBits(c));be===Jn.GB2312_SUBSET&&Jn.decodeHanziSegment(w,y,Ie);break;default:const Le=w.readBits(re.getCharacterCountBits(c));switch(re){case Vt.NUMERIC:Jn.decodeNumericSegment(w,y,Le);break;case Vt.ALPHANUMERIC:Jn.decodeAlphanumericSegment(w,y,Le,Y);break;case Vt.BYTE:Jn.decodeByteSegment(w,y,Le,P,B,m);break;case Vt.KANJI:Jn.decodeKanjiSegment(w,y,Le);break;default:throw new M}break}}while(re!==Vt.TERMINATOR)}catch{throw new M}return new _e(o,y.toString(),B.length===0?null:B,f===null?null:f.toString(),I,U)}static decodeHanziSegment(o,c,f){if(f*13>o.available())throw new M;const m=new Uint8Array(2*f);let w=0;for(;f>0;){const y=o.readBits(13);let B=y/96<<8&4294967295|y%96;B<959?B+=41377:B+=42657,m[w]=B>>8&255,m[w+1]=B&255,w+=2,f--}try{c.append(J.decode(m,W.GB2312))}catch(y){throw new M(y)}}static decodeKanjiSegment(o,c,f){if(f*13>o.available())throw new M;const m=new Uint8Array(2*f);let w=0;for(;f>0;){const y=o.readBits(13);let B=y/192<<8&4294967295|y%192;B<7936?B+=33088:B+=49472,m[w]=B>>8,m[w+1]=B,w+=2,f--}try{c.append(J.decode(m,W.SHIFT_JIS))}catch(y){throw new M(y)}}static decodeByteSegment(o,c,f,m,w,y){if(8*f>o.available())throw new M;const B=new Uint8Array(f);for(let U=0;U<f;U++)B[U]=o.readBits(8);let I;m===null?I=W.guessEncoding(B,y):I=m.getName();try{c.append(J.decode(B,I))}catch(U){throw new M(U)}w.push(B)}static toAlphaNumericChar(o){if(o>=Jn.ALPHANUMERIC_CHARS.length)throw new M;return Jn.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,c,f,m){const w=c.length();for(;f>1;){if(o.available()<11)throw new M;const y=o.readBits(11);c.append(Jn.toAlphaNumericChar(Math.floor(y/45))),c.append(Jn.toAlphaNumericChar(y%45)),f-=2}if(f===1){if(o.available()<6)throw new M;c.append(Jn.toAlphaNumericChar(o.readBits(6)))}if(m)for(let y=w;y<c.length();y++)c.charAt(y)==="%"&&(y<c.length()-1&&c.charAt(y+1)==="%"?c.deleteCharAt(y+1):c.setCharAt(y,""))}static decodeNumericSegment(o,c,f){for(;f>=3;){if(o.available()<10)throw new M;const m=o.readBits(10);if(m>=1e3)throw new M;c.append(Jn.toAlphaNumericChar(Math.floor(m/100))),c.append(Jn.toAlphaNumericChar(Math.floor(m/10)%10)),c.append(Jn.toAlphaNumericChar(m%10)),f-=3}if(f===2){if(o.available()<7)throw new M;const m=o.readBits(7);if(m>=100)throw new M;c.append(Jn.toAlphaNumericChar(Math.floor(m/10))),c.append(Jn.toAlphaNumericChar(m%10))}else if(f===1){if(o.available()<4)throw new M;const m=o.readBits(4);if(m>=10)throw new M;c.append(Jn.toAlphaNumericChar(m))}}static parseECIValue(o){const c=o.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const f=o.readBits(8);return(c&63)<<8&4294967295|f}if((c&224)===192){const f=o.readBits(16);return(c&31)<<16&4294967295|f}throw new M}}Jn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jn.GB2312_SUBSET=1;class yc{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const c=o[0];o[0]=o[2],o[2]=c}}class Ku{constructor(){this.rsDecoder=new Fe(St.QR_CODE_FIELD_256)}decodeBooleanArray(o,c){return this.decodeBitMatrix(Me.parseFromBooleanArray(o),c)}decodeBitMatrix(o,c){const f=new Ns(o);let m=null;try{return this.decodeBitMatrixParser(f,c)}catch(w){m=w}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const w=this.decodeBitMatrixParser(f,c);return w.setOther(new yc(!0)),w}catch(w){throw m!==null?m:w}}decodeBitMatrixParser(o,c){const f=o.readVersion(),m=o.readFormatInformation().getErrorCorrectionLevel(),w=o.readCodewords(),y=vl.getDataBlocks(w,f,m);let B=0;for(const P of y)B+=P.getNumDataCodewords();const I=new Uint8Array(B);let U=0;for(const P of y){const Y=P.getCodewords(),re=P.getNumDataCodewords();this.correctErrors(Y,re);for(let ye=0;ye<re;ye++)I[U++]=Y[ye]}return Jn.decode(I,f,m,c)}correctErrors(o,c){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-c)}catch{throw new N}for(let m=0;m<c;m++)o[m]=f[m]}}class Fs extends At{constructor(o,c,f){super(o,c),this.estimatedModuleSize=f}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const m=(this.getX()+c)/2,w=(this.getY()+o)/2,y=(this.estimatedModuleSize+f)/2;return new Fs(m,w,y)}}class Ir{constructor(o,c,f,m,w,y,B){this.image=o,this.startX=c,this.startY=f,this.width=m,this.height=w,this.moduleSize=y,this.resultPointCallback=B,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,c=this.height,f=this.width,m=o+f,w=this.startY+c/2,y=new Int32Array(3),B=this.image;for(let I=0;I<c;I++){const U=w+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));y[0]=0,y[1]=0,y[2]=0;let P=o;for(;P<m&&!B.get(P,U);)P++;let Y=0;for(;P<m;){if(B.get(P,U))if(Y===1)y[1]++;else if(Y===2){if(this.foundPatternCross(y)){const re=this.handlePossibleCenter(y,U,P);if(re!==null)return re}y[0]=y[2],y[1]=1,y[2]=0,Y=1}else y[++Y]++;else Y===1&&Y++,y[Y]++;P++}if(this.foundPatternCross(y)){const re=this.handlePossibleCenter(y,U,m);if(re!==null)return re}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ee}static centerFromEnd(o,c){return c-o[2]-o[1]/2}foundPatternCross(o){const c=this.moduleSize,f=c/2;for(let m=0;m<3;m++)if(Math.abs(c-o[m])>=f)return!1;return!0}crossCheckVertical(o,c,f,m){const w=this.image,y=w.getHeight(),B=this.crossCheckStateCount;B[0]=0,B[1]=0,B[2]=0;let I=o;for(;I>=0&&w.get(c,I)&&B[1]<=f;)B[1]++,I--;if(I<0||B[1]>f)return NaN;for(;I>=0&&!w.get(c,I)&&B[0]<=f;)B[0]++,I--;if(B[0]>f)return NaN;for(I=o+1;I<y&&w.get(c,I)&&B[1]<=f;)B[1]++,I++;if(I===y||B[1]>f)return NaN;for(;I<y&&!w.get(c,I)&&B[2]<=f;)B[2]++,I++;if(B[2]>f)return NaN;const U=B[0]+B[1]+B[2];return 5*Math.abs(U-m)>=2*m?NaN:this.foundPatternCross(B)?Ir.centerFromEnd(B,I):NaN}handlePossibleCenter(o,c,f){const m=o[0]+o[1]+o[2],w=Ir.centerFromEnd(o,f),y=this.crossCheckVertical(c,w,2*o[1],m);if(!isNaN(y)){const B=(o[0]+o[1]+o[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(B,y,w))return U.combineEstimate(y,w,B);const I=new Fs(w,y,B);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class oo extends At{constructor(o,c,f,m){super(o,c),this.estimatedModuleSize=f,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,c,f){if(Math.abs(c-this.getY())<=o&&Math.abs(f-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,c,f){const m=this.count+1,w=(this.count*this.getX()+c)/m,y=(this.count*this.getY()+o)/m,B=(this.count*this.estimatedModuleSize+f)/m;return new oo(w,y,B,m)}}class mA{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class rr{constructor(o,c){this.image=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const c=o!=null&&o.get(ee.TRY_HARDER)!==void 0,f=o!=null&&o.get(ee.PURE_BARCODE)!==void 0,m=this.image,w=m.getHeight(),y=m.getWidth();let B=Math.floor(3*w/(4*rr.MAX_MODULES));(B<rr.MIN_SKIP||c)&&(B=rr.MIN_SKIP);let I=!1;const U=new Int32Array(5);for(let Y=B-1;Y<w&&!I;Y+=B){U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0;let re=0;for(let ye=0;ye<y;ye++)if(m.get(ye,Y))(re&1)===1&&re++,U[re]++;else if((re&1)===0)if(re===4)if(rr.foundPatternCross(U)){if(this.handlePossibleCenter(U,Y,ye,f)===!0)if(B=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Ie=this.findRowSkip();Ie>U[2]&&(Y+=Ie-U[2]-B,ye=y-1)}else{U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,re=3;continue}re=0,U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0}else U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,re=3;else U[++re]++;else U[re]++;rr.foundPatternCross(U)&&this.handlePossibleCenter(U,Y,y,f)===!0&&(B=U[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return At.orderBestPatterns(P),new mA(P)}static centerFromEnd(o,c){return c-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let c=0;for(let w=0;w<5;w++){const y=o[w];if(y===0)return!1;c+=y}if(c<7)return!1;const f=c/7,m=f/2;return Math.abs(f-o[0])<m&&Math.abs(f-o[1])<m&&Math.abs(3*f-o[2])<3*m&&Math.abs(f-o[3])<m&&Math.abs(f-o[4])<m}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,c,f,m){const w=this.getCrossCheckStateCount();let y=0;const B=this.image;for(;o>=y&&c>=y&&B.get(c-y,o-y);)w[2]++,y++;if(o<y||c<y)return!1;for(;o>=y&&c>=y&&!B.get(c-y,o-y)&&w[1]<=f;)w[1]++,y++;if(o<y||c<y||w[1]>f)return!1;for(;o>=y&&c>=y&&B.get(c-y,o-y)&&w[0]<=f;)w[0]++,y++;if(w[0]>f)return!1;const I=B.getHeight(),U=B.getWidth();for(y=1;o+y<I&&c+y<U&&B.get(c+y,o+y);)w[2]++,y++;if(o+y>=I||c+y>=U)return!1;for(;o+y<I&&c+y<U&&!B.get(c+y,o+y)&&w[3]<f;)w[3]++,y++;if(o+y>=I||c+y>=U||w[3]>=f)return!1;for(;o+y<I&&c+y<U&&B.get(c+y,o+y)&&w[4]<f;)w[4]++,y++;if(w[4]>=f)return!1;const P=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(P-m)<2*m&&rr.foundPatternCross(w)}crossCheckVertical(o,c,f,m){const w=this.image,y=w.getHeight(),B=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(c,I);)B[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(c,I)&&B[1]<=f;)B[1]++,I--;if(I<0||B[1]>f)return NaN;for(;I>=0&&w.get(c,I)&&B[0]<=f;)B[0]++,I--;if(B[0]>f)return NaN;for(I=o+1;I<y&&w.get(c,I);)B[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(c,I)&&B[3]<f;)B[3]++,I++;if(I===y||B[3]>=f)return NaN;for(;I<y&&w.get(c,I)&&B[4]<f;)B[4]++,I++;if(B[4]>=f)return NaN;const U=B[0]+B[1]+B[2]+B[3]+B[4];return 5*Math.abs(U-m)>=2*m?NaN:rr.foundPatternCross(B)?rr.centerFromEnd(B,I):NaN}crossCheckHorizontal(o,c,f,m){const w=this.image,y=w.getWidth(),B=this.getCrossCheckStateCount();let I=o;for(;I>=0&&w.get(I,c);)B[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(I,c)&&B[1]<=f;)B[1]++,I--;if(I<0||B[1]>f)return NaN;for(;I>=0&&w.get(I,c)&&B[0]<=f;)B[0]++,I--;if(B[0]>f)return NaN;for(I=o+1;I<y&&w.get(I,c);)B[2]++,I++;if(I===y)return NaN;for(;I<y&&!w.get(I,c)&&B[3]<f;)B[3]++,I++;if(I===y||B[3]>=f)return NaN;for(;I<y&&w.get(I,c)&&B[4]<f;)B[4]++,I++;if(B[4]>=f)return NaN;const U=B[0]+B[1]+B[2]+B[3]+B[4];return 5*Math.abs(U-m)>=m?NaN:rr.foundPatternCross(B)?rr.centerFromEnd(B,I):NaN}handlePossibleCenter(o,c,f,m){const w=o[0]+o[1]+o[2]+o[3]+o[4];let y=rr.centerFromEnd(o,f),B=this.crossCheckVertical(c,Math.floor(y),o[2],w);if(!isNaN(B)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(B),o[2],w),!isNaN(y)&&(!m||this.crossCheckDiagonal(Math.floor(B),Math.floor(y),o[2],w)))){const I=w/7;let U=!1;const P=this.possibleCenters;for(let Y=0,re=P.length;Y<re;Y++){const ye=P[Y];if(ye.aboutEquals(I,B,y)){P[Y]=ye.combineEstimate(B,y,I),U=!0;break}}if(!U){const Y=new oo(y,B,I);P.push(Y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const f of this.possibleCenters)if(f.getCount()>=rr.CENTER_QUORUM)if(c==null)c=f;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-f.getX())-Math.abs(c.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,c=0;const f=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=rr.CENTER_QUORUM&&(o++,c+=y.getEstimatedModuleSize());if(o<3)return!1;const m=c/f;let w=0;for(const y of this.possibleCenters)w+=Math.abs(y.getEstimatedModuleSize()-m);return w<=.05*c}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new Ee;const c=this.possibleCenters;let f;if(o>3){let m=0,w=0;for(const I of this.possibleCenters){const U=I.getEstimatedModuleSize();m+=U,w+=U*U}f=m/o;let y=Math.sqrt(w/o-f*f);c.sort((I,U)=>{const P=Math.abs(U.getEstimatedModuleSize()-f),Y=Math.abs(I.getEstimatedModuleSize()-f);return P<Y?-1:P>Y?1:0});const B=Math.max(.2*f,y);for(let I=0;I<c.length&&c.length>3;I++){const U=c[I];Math.abs(U.getEstimatedModuleSize()-f)>B&&(c.splice(I,1),I--)}}if(c.length>3){let m=0;for(const w of c)m+=w.getEstimatedModuleSize();f=m/c.length,c.sort((w,y)=>{if(y.getCount()===w.getCount()){const B=Math.abs(y.getEstimatedModuleSize()-f),I=Math.abs(w.getEstimatedModuleSize()-f);return B<I?1:B>I?-1:0}else return y.getCount()-w.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}rr.CENTER_QUORUM=2,rr.MIN_SKIP=3,rr.MAX_MODULES=57;class fi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(ee.NEED_RESULT_POINT_CALLBACK);const f=new rr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const c=o.getTopLeft(),f=o.getTopRight(),m=o.getBottomLeft(),w=this.calculateModuleSize(c,f,m);if(w<1)throw new Ee("No pattern found in proccess finder.");const y=fi.computeDimension(c,f,m,w),B=_t.getProvisionalVersionForDimension(y),I=B.getDimensionForVersion()-7;let U=null;if(B.getAlignmentPatternCenters().length>0){const ye=f.getX()-c.getX()+m.getX(),be=f.getY()-c.getY()+m.getY(),Ie=1-3/I,Le=Math.floor(c.getX()+Ie*(ye-c.getX())),$e=Math.floor(c.getY()+Ie*(be-c.getY()));for(let Ct=4;Ct<=16;Ct<<=1)try{U=this.findAlignmentInRegion(w,Le,$e,Ct);break}catch(vt){if(!(vt instanceof Ee))throw vt}}const P=fi.createTransform(c,f,m,U,y),Y=fi.sampleGrid(this.image,P,y);let re;return U===null?re=[m,c,f]:re=[m,c,f,U],new Pn(Y,re)}static createTransform(o,c,f,m,w){const y=w-3.5;let B,I,U,P;return m!==null?(B=m.getX(),I=m.getY(),U=y-3,P=U):(B=c.getX()-o.getX()+f.getX(),I=c.getY()-o.getY()+f.getY(),U=y,P=y),It.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,U,P,3.5,y,o.getX(),o.getY(),c.getX(),c.getY(),B,I,f.getX(),f.getY())}static sampleGrid(o,c,f){return un.getInstance().sampleGridWithTransform(o,f,f,c)}static computeDimension(o,c,f,m){const w=Bt.round(At.distance(o,c)/m),y=Bt.round(At.distance(o,f)/m);let B=Math.floor((w+y)/2)+7;switch(B&3){case 0:B++;break;case 2:B--;break;case 3:throw new Ee("Dimensions could be not found.")}return B}calculateModuleSize(o,c,f){return(this.calculateModuleSizeOneWay(o,c)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,c){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(c.getX()),Math.floor(c.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?m/7:isNaN(m)?f/7:(f+m)/14}sizeOfBlackWhiteBlackRunBothWays(o,c,f,m){let w=this.sizeOfBlackWhiteBlackRun(o,c,f,m),y=1,B=o-(f-o);B<0?(y=o/(o-B),B=0):B>=this.image.getWidth()&&(y=(this.image.getWidth()-1-o)/(B-o),B=this.image.getWidth()-1);let I=Math.floor(c-(m-c)*y);return y=1,I<0?(y=c/(c-I),I=0):I>=this.image.getHeight()&&(y=(this.image.getHeight()-1-c)/(I-c),I=this.image.getHeight()-1),B=Math.floor(o+(B-o)*y),w+=this.sizeOfBlackWhiteBlackRun(o,c,B,I),w-1}sizeOfBlackWhiteBlackRun(o,c,f,m){const w=Math.abs(m-c)>Math.abs(f-o);if(w){let ye=o;o=c,c=ye,ye=f,f=m,m=ye}const y=Math.abs(f-o),B=Math.abs(m-c);let I=-y/2;const U=o<f?1:-1,P=c<m?1:-1;let Y=0;const re=f+U;for(let ye=o,be=c;ye!==re;ye+=U){const Ie=w?be:ye,Le=w?ye:be;if(Y===1===this.image.get(Ie,Le)){if(Y===2)return Bt.distance(ye,be,o,c);Y++}if(I+=B,I>0){if(be===m)break;be+=P,I-=y}}return Y===2?Bt.distance(f+U,m,o,c):NaN}findAlignmentInRegion(o,c,f,m){const w=Math.floor(m*o),y=Math.max(0,c-w),B=Math.min(this.image.getWidth()-1,c+w);if(B-y<o*3)throw new Ee("Alignment top exceeds estimated module size.");const I=Math.max(0,f-w),U=Math.min(this.image.getHeight()-1,f+w);if(U-I<o*3)throw new Ee("Alignment bottom exceeds estimated module size.");return new Ir(this.image,y,I,B-y,U-I,o,this.resultPointCallback).find()}}class Zs{constructor(){this.decoder=new Ku}getDecoder(){return this.decoder}decode(o,c){let f,m;if(c!=null&&c.get(ee.PURE_BARCODE)!==void 0){const I=Zs.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(I,c),m=Zs.NO_POINTS}else{const I=new fi(o.getBlackMatrix()).detect(c);f=this.decoder.decodeBitMatrix(I.getBits(),c),m=I.getPoints()}f.getOther()instanceof yc&&f.getOther().applyMirroredCorrection(m);const w=new le(f.getText(),f.getRawBytes(),void 0,m,xe.QR_CODE,void 0),y=f.getByteSegments();y!==null&&w.putMetadata(Ne.BYTE_SEGMENTS,y);const B=f.getECLevel();return B!==null&&w.putMetadata(Ne.ERROR_CORRECTION_LEVEL,B),f.hasStructuredAppend()&&(w.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),w.putMetadata(Ne.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),w}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(c===null||f===null)throw new Ee;const m=this.moduleSize(c,o);let w=c[1],y=f[1],B=c[0],I=f[0];if(B>=I||w>=y)throw new Ee;if(y-w!==I-B&&(I=B+(y-w),I>=o.getWidth()))throw new Ee;const U=Math.round((I-B+1)/m),P=Math.round((y-w+1)/m);if(U<=0||P<=0)throw new Ee;if(P!==U)throw new Ee;const Y=Math.floor(m/2);w+=Y,B+=Y;const re=B+Math.floor((U-1)*m)-I;if(re>0){if(re>Y)throw new Ee;B-=re}const ye=w+Math.floor((P-1)*m)-y;if(ye>0){if(ye>Y)throw new Ee;w-=ye}const be=new Me(U,P);for(let Ie=0;Ie<P;Ie++){const Le=w+Math.floor(Ie*m);for(let $e=0;$e<U;$e++)o.get(B+Math.floor($e*m),Le)&&be.set($e,Ie)}return be}static moduleSize(o,c){const f=c.getHeight(),m=c.getWidth();let w=o[0],y=o[1],B=!0,I=0;for(;w<m&&y<f;){if(B!==c.get(w,y)){if(++I===5)break;B=!B}w++,y++}if(w===m||y===f)throw new Ee;return(w-o[0])/7}}Zs.NO_POINTS=new Array;class Kt{PDF417Common(){}static getBitCountSum(o){return Bt.sum(o)}static toIntArray(o){if(o==null||!o.length)return Kt.EMPTY_INT_ARRAY;const c=new Int32Array(o.length);let f=0;for(const m of o)c[f++]=m;return c}static getCodeword(o){const c=K.binarySearch(Kt.SYMBOL_TABLE,o&262143);return c<0?-1:(Kt.CODEWORD_TABLE[c]-1)%Kt.NUMBER_OF_CODEWORDS}}Kt.NUMBER_OF_CODEWORDS=929,Kt.MAX_CODEWORDS_IN_BARCODE=Kt.NUMBER_OF_CODEWORDS-1,Kt.MIN_ROWS_IN_BARCODE=3,Kt.MAX_ROWS_IN_BARCODE=90,Kt.MODULES_IN_CODEWORD=17,Kt.MODULES_IN_STOP_PATTERN=18,Kt.BARS_IN_MODULE=8,Kt.EMPTY_INT_ARRAY=new Int32Array([]),Kt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Kt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Cc{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(o,c,f){let m=o.getBlackMatrix(),w=zt.detect(f,m);return w.length||(m=m.clone(),m.rotate180(),w=zt.detect(f,m)),new Cc(m,w)}static detect(o,c){const f=new Array;let m=0,w=0,y=!1;for(;m<c.getHeight();){const B=zt.findVertices(c,m,w);if(B[0]==null&&B[3]==null){if(!y)break;y=!1,w=0;for(const I of f)I[1]!=null&&(m=Math.trunc(Math.max(m,I[1].getY()))),I[3]!=null&&(m=Math.max(m,Math.trunc(I[3].getY())));m+=zt.ROW_STEP;continue}if(y=!0,f.push(B),!o)break;B[2]!=null?(w=Math.trunc(B[2].getX()),m=Math.trunc(B[2].getY())):(w=Math.trunc(B[4].getX()),m=Math.trunc(B[4].getY()))}return f}static findVertices(o,c,f){const m=o.getHeight(),w=o.getWidth(),y=new Array(8);return zt.copyToResult(y,zt.findRowsWithPattern(o,m,w,c,f,zt.START_PATTERN),zt.INDEXES_START_PATTERN),y[4]!=null&&(f=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY())),zt.copyToResult(y,zt.findRowsWithPattern(o,m,w,c,f,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),y}static copyToResult(o,c,f){for(let m=0;m<f.length;m++)o[f[m]]=c[m]}static findRowsWithPattern(o,c,f,m,w,y){const B=new Array(4);let I=!1;const U=new Int32Array(y.length);for(;m<c;m+=zt.ROW_STEP){let Y=zt.findGuardPattern(o,w,m,f,!1,y,U);if(Y!=null){for(;m>0;){const re=zt.findGuardPattern(o,w,--m,f,!1,y,U);if(re!=null)Y=re;else{m++;break}}B[0]=new At(Y[0],m),B[1]=new At(Y[1],m),I=!0;break}}let P=m+1;if(I){let Y=0,re=Int32Array.from([Math.trunc(B[0].getX()),Math.trunc(B[1].getX())]);for(;P<c;P++){const ye=zt.findGuardPattern(o,re[0],P,f,!1,y,U);if(ye!=null&&Math.abs(re[0]-ye[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(re[1]-ye[1])<zt.MAX_PATTERN_DRIFT)re=ye,Y=0;else{if(Y>zt.SKIPPED_ROW_COUNT_MAX)break;Y++}}P-=Y+1,B[2]=new At(re[0],P),B[3]=new At(re[1],P)}return P-m<zt.BARCODE_MIN_HEIGHT&&K.fill(B,null),B}static findGuardPattern(o,c,f,m,w,y,B){K.fillWithin(B,0,B.length,0);let I=c,U=0;for(;o.get(I,f)&&I>0&&U++<zt.MAX_PIXEL_DRIFT;)I--;let P=I,Y=0,re=y.length;for(let ye=w;P<m;P++)if(o.get(P,f)!==ye)B[Y]++;else{if(Y===re-1){if(zt.patternMatchVariance(B,y,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([I,P]);I+=B[0]+B[1],R.arraycopy(B,2,B,0,Y-1),B[Y-1]=0,B[Y]=0,Y--}else Y++;B[Y]=1,ye=!ye}return Y===re-1&&zt.patternMatchVariance(B,y,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([I,P-1]):null}static patternMatchVariance(o,c,f){let m=o.length,w=0,y=0;for(let U=0;U<m;U++)w+=o[U],y+=c[U];if(w<y)return 1/0;let B=w/y;f*=B;let I=0;for(let U=0;U<m;U++){let P=o[U],Y=c[U]*B,re=P>Y?P-Y:Y-P;if(re>f)return 1/0;I+=re}return I/w}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class Zn{constructor(o,c){if(c.length===0)throw new C;this.field=o;let f=c.length;if(f>1&&c[0]===0){let m=1;for(;m<f&&c[m]===0;)m++;m===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-m),R.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let m=0;for(let w of this.coefficients)m=this.field.add(m,w);return m}let c=this.coefficients[0],f=this.coefficients.length;for(let m=1;m<f;m++)c=this.field.add(this.field.multiply(o,c),this.coefficients[m]);return c}add(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,f=o.coefficients;if(c.length>f.length){let y=c;c=f,f=y}let m=new Int32Array(f.length),w=f.length-c.length;R.arraycopy(f,0,m,0,w);for(let y=w;y<f.length;y++)m[y]=this.field.add(c[y-w],f[y]);return new Zn(this.field,m)}subtract(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Zn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Zn(this.field,new Int32Array([0]));let c=this.coefficients,f=c.length,m=o.coefficients,w=m.length,y=new Int32Array(f+w-1);for(let B=0;B<f;B++){let I=c[B];for(let U=0;U<w;U++)y[B+U]=this.field.add(y[B+U],this.field.multiply(I,m[U]))}return new Zn(this.field,y)}negative(){let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.subtract(0,this.coefficients[f]);return new Zn(this.field,c)}multiplyScalar(o){if(o===0)return new Zn(this.field,new Int32Array([0]));if(o===1)return this;let c=this.coefficients.length,f=new Int32Array(c);for(let m=0;m<c;m++)f[m]=this.field.multiply(this.coefficients[m],o);return new Zn(this.field,f)}multiplyByMonomial(o,c){if(o<0)throw new C;if(c===0)return new Zn(this.field,new Int32Array([0]));let f=this.coefficients.length,m=new Int32Array(f+o);for(let w=0;w<f;w++)m[w]=this.field.multiply(this.coefficients[w],c);return new Zn(this.field,m)}toString(){let o=new X;for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(c===0||f!==1)&&o.append(f),c!==0&&(c===1?o.append("x"):(o.append("x^"),o.append(c))))}return o.toString()}}class yl{add(o,c){return(o+c)%this.modulus}subtract(o,c){return(this.modulus+o-c)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}inverse(o){if(o===0)throw new pe;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Rs extends yl{constructor(o,c){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let m=0;m<o;m++)this.expTable[m]=f,f=f*c%o;for(let m=0;m<o-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new Zn(this,new Int32Array([0])),this.one=new Zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new C;if(c===0)return this.zero;let f=new Int32Array(o+1);return f[0]=c,new Zn(this,f)}}Rs.PDF417_GF=new Rs(Kt.NUMBER_OF_CODEWORDS,3);class Zi{constructor(){this.field=Rs.PDF417_GF}decode(o,c,f){let m=new Zn(this.field,o),w=new Int32Array(c),y=!1;for(let be=c;be>0;be--){let Ie=m.evaluateAt(this.field.exp(be));w[c-be]=Ie,Ie!==0&&(y=!0)}if(!y)return 0;let B=this.field.getOne();if(f!=null)for(const be of f){let Ie=this.field.exp(o.length-1-be),Le=new Zn(this.field,new Int32Array([this.field.subtract(0,Ie),1]));B=B.multiply(Le)}let I=new Zn(this.field,w),U=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),I,c),P=U[0],Y=U[1],re=this.findErrorLocations(P),ye=this.findErrorMagnitudes(Y,P,re);for(let be=0;be<re.length;be++){let Ie=o.length-1-this.field.log(re[be]);if(Ie<0)throw N.getChecksumInstance();o[Ie]=this.field.subtract(o[Ie],ye[be])}return re.length}runEuclideanAlgorithm(o,c,f){if(o.getDegree()<c.getDegree()){let re=o;o=c,c=re}let m=o,w=c,y=this.field.getZero(),B=this.field.getOne();for(;w.getDegree()>=Math.round(f/2);){let re=m,ye=y;if(m=w,y=B,m.isZero())throw N.getChecksumInstance();w=re;let be=this.field.getZero(),Ie=m.getCoefficient(m.getDegree()),Le=this.field.inverse(Ie);for(;w.getDegree()>=m.getDegree()&&!w.isZero();){let $e=w.getDegree()-m.getDegree(),Ct=this.field.multiply(w.getCoefficient(w.getDegree()),Le);be=be.add(this.field.buildMonomial($e,Ct)),w=w.subtract(m.multiplyByMonomial($e,Ct))}B=be.multiply(y).subtract(ye).negative()}let I=B.getCoefficient(0);if(I===0)throw N.getChecksumInstance();let U=this.field.inverse(I),P=B.multiply(U),Y=w.multiply(U);return[P,Y]}findErrorLocations(o){let c=o.getDegree(),f=new Int32Array(c),m=0;for(let w=1;w<this.field.getSize()&&m<c;w++)o.evaluateAt(w)===0&&(f[m]=this.field.inverse(w),m++);if(m!==c)throw N.getChecksumInstance();return f}findErrorMagnitudes(o,c,f){let m=c.getDegree(),w=new Int32Array(m);for(let U=1;U<=m;U++)w[m-U]=this.field.multiply(U,c.getCoefficient(U));let y=new Zn(this.field,w),B=f.length,I=new Int32Array(B);for(let U=0;U<B;U++){let P=this.field.inverse(f[U]),Y=this.field.subtract(0,o.evaluateAt(P)),re=this.field.inverse(y.evaluateAt(P));I[U]=this.field.multiply(Y,re)}return I}}class Ds{constructor(o,c,f,m,w){o instanceof Ds?this.constructor_2(o):this.constructor_1(o,c,f,m,w)}constructor_1(o,c,f,m,w){const y=c==null||f==null,B=m==null||w==null;if(y&&B)throw new Ee;y?(c=new At(0,m.getY()),f=new At(0,w.getY())):B&&(m=new At(o.getWidth()-1,c.getY()),w=new At(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=c,this.bottomLeft=f,this.topRight=m,this.bottomRight=w,this.minX=Math.trunc(Math.min(c.getX(),f.getX())),this.maxX=Math.trunc(Math.max(m.getX(),w.getX())),this.minY=Math.trunc(Math.min(c.getY(),m.getY())),this.maxY=Math.trunc(Math.max(f.getY(),w.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,c){return o==null?c:c==null?o:new Ds(o.image,o.topLeft,o.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(o,c,f){let m=this.topLeft,w=this.bottomLeft,y=this.topRight,B=this.bottomRight;if(o>0){let I=f?this.topLeft:this.topRight,U=Math.trunc(I.getY()-o);U<0&&(U=0);let P=new At(I.getX(),U);f?m=P:y=P}if(c>0){let I=f?this.bottomLeft:this.bottomRight,U=Math.trunc(I.getY()+c);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let P=new At(I.getX(),U);f?w=P:B=P}return new Ds(this.image,m,w,y,B)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ma{constructor(o,c,f,m){this.columnCount=o,this.errorCorrectionLevel=m,this.rowCountUpperPart=c,this.rowCountLowerPart=f,this.rowCount=c+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Us{constructor(){this.buffer=""}static form(o,c){let f=-1;function m(y,B,I,U,P,Y){if(y==="%%")return"%";if(c[++f]===void 0)return;y=U?parseInt(U.substr(1)):void 0;let re=P?parseInt(P.substr(1)):void 0,ye;switch(Y){case"s":ye=c[f];break;case"c":ye=c[f][0];break;case"f":ye=parseFloat(c[f]).toFixed(y);break;case"p":ye=parseFloat(c[f]).toPrecision(y);break;case"e":ye=parseFloat(c[f]).toExponential(y);break;case"x":ye=parseInt(c[f]).toString(re||16);break;case"d":ye=parseFloat(parseInt(c[f],re||10).toPrecision(y)).toFixed(0);break}ye=typeof ye=="object"?JSON.stringify(ye):(+ye).toString(re);let be=parseInt(I),Ie=I&&I[0]+""=="0"?"0":" ";for(;ye.length<be;)ye=B!==void 0?ye+Ie:Ie+ye;return ye}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(w,m)}format(o,...c){this.buffer+=Us.form(o,c)}toString(){return this.buffer}}class $s{constructor(o){this.boundingBox=new Ds(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let c=this.getCodeword(o);if(c!=null)return c;for(let f=1;f<$s.MAX_NEARBY_DISTANCE;f++){let m=this.imageRowToCodewordIndex(o)-f;if(m>=0&&(c=this.codewords[m],c!=null)||(m=this.imageRowToCodewordIndex(o)+f,m<this.codewords.length&&(c=this.codewords[m],c!=null)))return c}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,c){this.codewords[this.imageRowToCodewordIndex(o)]=c}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Us;let c=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,f.getRowNumber(),f.getValue())}return o.toString()}}$s.MAX_NEARBY_DISTANCE=5;class ks{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let c=this.values.get(o);c==null&&(c=0),c++,this.values.set(o,c)}getValue(){let o=-1,c=new Array;for(const[f,m]of this.values.entries()){const w={getKey:()=>f,getValue:()=>m};w.getValue()>o?(o=w.getValue(),c=[],c.push(w.getKey())):w.getValue()===o&&c.push(w.getKey())}return Kt.toIntArray(c)}getConfidence(o){return this.values.get(o)}}class ir extends $s{constructor(o,c){super(o),this._isLeft=c}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,o);let f=this.getBoundingBox(),m=this._isLeft?f.getTopLeft():f.getTopRight(),w=this._isLeft?f.getBottomLeft():f.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),B=this.imageRowToCodewordIndex(Math.trunc(w.getY())),I=-1,U=1,P=0;for(let Y=y;Y<B;Y++){if(c[Y]==null)continue;let re=c[Y],ye=re.getRowNumber()-I;if(ye===0)P++;else if(ye===1)U=Math.max(U,P),P=1,I=re.getRowNumber();else if(ye<0||re.getRowNumber()>=o.getRowCount()||ye>Y)c[Y]=null;else{let be;U>2?be=(U-2)*ye:be=ye;let Ie=be>=Y;for(let Le=1;Le<=be&&!Ie;Le++)Ie=c[Y-Le]!=null;Ie?c[Y]=null:(I=re.getRowNumber(),P=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let c=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let m=f.getRowNumber();if(m>=c.length)continue;c[m]++}return c}adjustIncompleteIndicatorColumnRowNumbers(o){let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),B=this.getCodewords(),I=-1;for(let U=w;U<y;U++){if(B[U]==null)continue;let P=B[U];P.setRowNumberAsRowIndicatorColumn();let Y=P.getRowNumber()-I;Y===0||(Y===1?I=P.getRowNumber():P.getRowNumber()>=o.getRowCount()?B[U]=null:I=P.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),c=new ks,f=new ks,m=new ks,w=new ks;for(let B of o){if(B==null)continue;B.setRowNumberAsRowIndicatorColumn();let I=B.getValue()%30,U=B.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:f.setValue(I*3+1);break;case 1:w.setValue(I/3),m.setValue(I%3);break;case 2:c.setValue(I+1);break}}if(c.getValue().length===0||f.getValue().length===0||m.getValue().length===0||w.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+m.getValue()[0]<Kt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+m.getValue()[0]>Kt.MAX_ROWS_IN_BARCODE)return null;let y=new ma(c.getValue()[0],f.getValue()[0],m.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(o,y),y}removeIncorrectCodewords(o,c){for(let f=0;f<o.length;f++){let m=o[f];if(o[f]==null)continue;let w=m.getValue()%30,y=m.getRowNumber();if(y>c.getRowCount()){o[f]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:w*3+1!==c.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(w/3)!==c.getErrorCorrectionLevel()||w%3!==c.getRowCountLowerPart())&&(o[f]=null);break;case 2:w+1!==c.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Mr{constructor(o,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Kt.MAX_CODEWORDS_IN_BARCODE,c;do c=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let f=this.detectionResultColumns[c].getCodewords();for(let m=0;m<f.length;m++)f[m]!=null&&(f[m].hasValidRowNumber()||this.adjustRowNumbers(c,m,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&c[f]!=null&&o[f].getRowNumber()===c[f].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let w=this.detectionResultColumns[m].getCodewords()[f];w!=null&&(w.setRowNumber(o[f].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let m=c[f].getRowNumber(),w=0;for(let y=this.barcodeColumnCount+1;y>0&&w<this.ADJUST_ROW_NUMBER_SKIP;y--){let B=this.detectionResultColumns[y].getCodewords()[f];B!=null&&(w=Mr.adjustRowNumberIfValid(m,w,B),B.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,c=this.detectionResultColumns[0].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let m=c[f].getRowNumber(),w=0;for(let y=1;y<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;y++){let B=this.detectionResultColumns[y].getCodewords()[f];B!=null&&(w=Mr.adjustRowNumberIfValid(m,w,B),B.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,c,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),c=0):++c),c}adjustRowNumbers(o,c,f){if(!this.detectionResultColumns[o-1])return;let m=f[c],w=this.detectionResultColumns[o-1].getCodewords(),y=w;this.detectionResultColumns[o+1]!=null&&(y=this.detectionResultColumns[o+1].getCodewords());let B=new Array(14);B[2]=w[c],B[3]=y[c],c>0&&(B[0]=f[c-1],B[4]=w[c-1],B[5]=y[c-1]),c>1&&(B[8]=f[c-2],B[10]=w[c-2],B[11]=y[c-2]),c<f.length-1&&(B[1]=f[c+1],B[6]=w[c+1],B[7]=y[c+1]),c<f.length-2&&(B[9]=f[c+2],B[12]=w[c+2],B[13]=y[c+2]);for(let I of B)if(Mr.adjustRowNumber(m,I))return}static adjustRowNumber(o,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===o.getBucket()?(o.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,c){this.detectionResultColumns[o]=c}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Us;for(let f=0;f<o.getCodewords().length;f++){c.format("CW %3d:",f);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){c.format("    |   ");continue}let w=this.detectionResultColumns[m].getCodewords()[f];if(w==null){c.format("    |   ");continue}c.format(" %3d|%3d",w.getRowNumber(),w.getValue())}c.format("%n")}return c.toString()}}class gs{constructor(o,c,f,m){this.rowNumber=gs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(c),this.bucket=Math.trunc(f),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==gs.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}gs.BARCODE_ROW_UNKNOWN=-1;class Or{static initialize(){for(let o=0;o<Kt.SYMBOL_TABLE.length;o++){let c=Kt.SYMBOL_TABLE[o],f=c&1;for(let m=0;m<Kt.BARS_IN_MODULE;m++){let w=0;for(;(c&1)===f;)w+=1,c>>=1;f=c&1,Or.RATIOS_TABLE[o]||(Or.RATIOS_TABLE[o]=new Array(Kt.BARS_IN_MODULE)),Or.RATIOS_TABLE[o][Kt.BARS_IN_MODULE-m-1]=Math.fround(w/Kt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let c=Or.getDecodedCodewordValue(Or.sampleBitCounts(o));return c!==-1?c:Or.getClosestDecodedValue(o)}static sampleBitCounts(o){let c=Bt.sum(o),f=new Int32Array(Kt.BARS_IN_MODULE),m=0,w=0;for(let y=0;y<Kt.MODULES_IN_CODEWORD;y++){let B=c/(2*Kt.MODULES_IN_CODEWORD)+y*c/Kt.MODULES_IN_CODEWORD;w+o[m]<=B&&(w+=o[m],m++),f[m]++}return f}static getDecodedCodewordValue(o){let c=Or.getBitValue(o);return Kt.getCodeword(c)===-1?-1:c}static getBitValue(o){let c=0;for(let f=0;f<o.length;f++)for(let m=0;m<o[f];m++)c=c<<1|(f%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(o){let c=Bt.sum(o),f=new Array(Kt.BARS_IN_MODULE);if(c>1)for(let y=0;y<f.length;y++)f[y]=Math.fround(o[y]/c);let m=dn.MAX_VALUE,w=-1;this.bSymbolTableReady||Or.initialize();for(let y=0;y<Or.RATIOS_TABLE.length;y++){let B=0,I=Or.RATIOS_TABLE[y];for(let U=0;U<Kt.BARS_IN_MODULE;U++){let P=Math.fround(I[U]-f[U]);if(B+=Math.fround(P*P),B>=m)break}B<m&&(m=B,w=Kt.SYMBOL_TABLE[y])}return w}}Or.bSymbolTableReady=!1,Or.RATIOS_TABLE=new Array(Kt.SYMBOL_TABLE.length).map(q=>new Array(Kt.BARS_IN_MODULE));class Ha{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Cl{static parseLong(o,c=void 0){return parseInt(o,c)}}class Va extends d{}Va.kind="NullPointerException";class xA{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,c,f){if(o==null)throw new Va;if(c<0||c>o.length||f<0||c+f>o.length||c+f<0)throw new k;if(f===0)return;for(let m=0;m<f;m++)this.write(o[c+m])}flush(){}close(){}}class Fi extends d{}class Io extends xA{constructor(o=32){if(super(),this.count=0,o<0)throw new C("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new Fi;f=Q.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,c,f){if(c<0||c>o.length||f<0||c+f-o.length>0)throw new k;this.ensureCapacity(this.count+f),R.arraycopy(o,c,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var Mn;(function(q){q[q.ALPHA=0]="ALPHA",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.PUNCT=3]="PUNCT",q[q.ALPHA_SHIFT=4]="ALPHA_SHIFT",q[q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mn||(Mn={}));function Ao(){if(typeof window<"u")return window.BigInt||null;if(typeof sh<"u")return sh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let No;function Ms(q){if(typeof No>"u"&&(No=Ao()),No===null)throw new Error("BigInt is not supported!");return No(q)}function lo(){let q=[];q[0]=Ms(1);let o=Ms(900);q[1]=o;for(let c=2;c<16;c++)q[c]=q[c-1]*o;return q}class Je{static decode(o,c){let f=new X(""),m=O.ISO8859_1;f.enableDecoding(m);let w=1,y=o[w++],B=new Ha;for(;w<o[0];){switch(y){case Je.TEXT_COMPACTION_MODE_LATCH:w=Je.textCompaction(o,w,f);break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:w=Je.byteCompaction(y,o,m,w,f);break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[w++]);break;case Je.NUMERIC_COMPACTION_MODE_LATCH:w=Je.numericCompaction(o,w,f);break;case Je.ECI_CHARSET:O.getCharacterSetECIByValue(o[w++]);break;case Je.ECI_GENERAL_PURPOSE:w+=2;break;case Je.ECI_USER_DEFINED:w++;break;case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=Je.decodeMacroBlock(o,w,B);break;case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:throw new M;default:w--,w=Je.textCompaction(o,w,f);break}if(w<o.length)y=o[w++];else throw M.getFormatInstance()}if(f.length()===0)throw M.getFormatInstance();let I=new _e(null,f.toString(),null,c);return I.setOther(B),I}static decodeMacroBlock(o,c,f){if(c+Je.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw M.getFormatInstance();let m=new Int32Array(Je.NUMBER_OF_SEQUENCE_CODEWORDS);for(let B=0;B<Je.NUMBER_OF_SEQUENCE_CODEWORDS;B++,c++)m[B]=o[c];f.setSegmentIndex(Q.parseInt(Je.decodeBase900toBase10(m,Je.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new X;c=Je.textCompaction(o,c,w),f.setFileId(w.toString());let y=-1;for(o[c]===Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=c+1);c<o[0];)switch(o[c]){case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,o[c]){case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let B=new X;c=Je.textCompaction(o,c+1,B),f.setFileName(B.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new X;c=Je.textCompaction(o,c+1,I),f.setSender(I.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new X;c=Je.textCompaction(o,c+1,U),f.setAddressee(U.toString());break;case Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new X;c=Je.numericCompaction(o,c+1,P),f.setSegmentCount(Q.parseInt(P.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Y=new X;c=Je.numericCompaction(o,c+1,Y),f.setTimestamp(Cl.parseLong(Y.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let re=new X;c=Je.numericCompaction(o,c+1,re),f.setChecksum(Q.parseInt(re.toString()));break;case Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ye=new X;c=Je.numericCompaction(o,c+1,ye),f.setFileSize(Cl.parseLong(ye.toString()));break;default:throw M.getFormatInstance()}break;case Je.MACRO_PDF417_TERMINATOR:c++,f.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(y!==-1){let B=c-y;f.isLastSegment()&&B--,f.setOptionalData(K.copyOfRange(o,y,y+B))}return c}static textCompaction(o,c,f){let m=new Int32Array((o[0]-c)*2),w=new Int32Array((o[0]-c)*2),y=0,B=!1;for(;c<o[0]&&!B;){let I=o[c++];if(I<Je.TEXT_COMPACTION_MODE_LATCH)m[y]=I/30,m[y+1]=I%30,y+=2;else switch(I){case Je.TEXT_COMPACTION_MODE_LATCH:m[y++]=Je.TEXT_COMPACTION_MODE_LATCH;break;case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:c--,B=!0;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[y]=Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=o[c++],w[y]=I,y++;break}}return Je.decodeTextCompaction(m,w,y,f),c}static decodeTextCompaction(o,c,f,m){let w=Mn.ALPHA,y=Mn.ALPHA,B=0;for(;B<f;){let I=o[B],U="";switch(w){case Mn.ALPHA:if(I<26)U=String.fromCharCode(65+I);else switch(I){case 26:U=" ";break;case Je.LL:w=Mn.LOWER;break;case Je.ML:w=Mn.MIXED;break;case Je.PS:y=w,w=Mn.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[B]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break;case Mn.LOWER:if(I<26)U=String.fromCharCode(97+I);else switch(I){case 26:U=" ";break;case Je.AS:y=w,w=Mn.ALPHA_SHIFT;break;case Je.ML:w=Mn.MIXED;break;case Je.PS:y=w,w=Mn.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[B]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break;case Mn.MIXED:if(I<Je.PL)U=Je.MIXED_CHARS[I];else switch(I){case Je.PL:w=Mn.PUNCT;break;case 26:U=" ";break;case Je.LL:w=Mn.LOWER;break;case Je.AL:w=Mn.ALPHA;break;case Je.PS:y=w,w=Mn.PUNCT_SHIFT;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[B]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break;case Mn.PUNCT:if(I<Je.PAL)U=Je.PUNCT_CHARS[I];else switch(I){case Je.PAL:w=Mn.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[B]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break;case Mn.ALPHA_SHIFT:if(w=y,I<26)U=String.fromCharCode(65+I);else switch(I){case 26:U=" ";break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break;case Mn.PUNCT_SHIFT:if(w=y,I<Je.PAL)U=Je.PUNCT_CHARS[I];else switch(I){case Je.PAL:w=Mn.ALPHA;break;case Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[B]);break;case Je.TEXT_COMPACTION_MODE_LATCH:w=Mn.ALPHA;break}break}U!==""&&m.append(U),B++}}static byteCompaction(o,c,f,m,w){let y=new Io,B=0,I=0,U=!1;switch(o){case Je.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),Y=c[m++];for(;m<c[0]&&!U;)switch(P[B++]=Y,I=900*I+Y,Y=c[m++],Y){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:m--,U=!0;break;default:if(B%5===0&&B>0){for(let re=0;re<6;++re)y.write(Number(Ms(I)>>Ms(8*(5-re))));I=0,B=0}break}m===c[0]&&Y<Je.TEXT_COMPACTION_MODE_LATCH&&(P[B++]=Y);for(let re=0;re<B;re++)y.write(P[re]);break;case Je.BYTE_COMPACTION_MODE_LATCH_6:for(;m<c[0]&&!U;){let re=c[m++];if(re<Je.TEXT_COMPACTION_MODE_LATCH)B++,I=900*I+re;else switch(re){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.NUMERIC_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:m--,U=!0;break}if(B%5===0&&B>0){for(let ye=0;ye<6;++ye)y.write(Number(Ms(I)>>Ms(8*(5-ye))));I=0,B=0}}break}return w.append(J.decode(y.toByteArray(),f)),m}static numericCompaction(o,c,f){let m=0,w=!1,y=new Int32Array(Je.MAX_NUMERIC_CODEWORDS);for(;c<o[0]&&!w;){let B=o[c++];if(c===o[0]&&(w=!0),B<Je.TEXT_COMPACTION_MODE_LATCH)y[m]=B,m++;else switch(B){case Je.TEXT_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH:case Je.BYTE_COMPACTION_MODE_LATCH_6:case Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Je.MACRO_PDF417_TERMINATOR:c--,w=!0;break}(m%Je.MAX_NUMERIC_CODEWORDS===0||B===Je.NUMERIC_COMPACTION_MODE_LATCH||w)&&m>0&&(f.append(Je.decodeBase900toBase10(y,m)),m=0)}return c}static decodeBase900toBase10(o,c){let f=Ms(0);for(let w=0;w<c;w++)f+=Je.EXP900[c-w-1]*Ms(o[w]);let m=f.toString();if(m.charAt(0)!=="1")throw new M;return m.substring(1)}}Je.TEXT_COMPACTION_MODE_LATCH=900,Je.BYTE_COMPACTION_MODE_LATCH=901,Je.NUMERIC_COMPACTION_MODE_LATCH=902,Je.BYTE_COMPACTION_MODE_LATCH_6=924,Je.ECI_USER_DEFINED=925,Je.ECI_GENERAL_PURPOSE=926,Je.ECI_CHARSET=927,Je.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Je.MACRO_PDF417_TERMINATOR=922,Je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Je.MAX_NUMERIC_CODEWORDS=15,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Je.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Je.PL=25,Je.LL=27,Je.AS=27,Je.ML=28,Je.AL=28,Je.PS=29,Je.PAL=29,Je.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Je.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Je.EXP900=Ao()?lo():[],Je.NUMBER_OF_SEQUENCE_CODEWORDS=2;class en{constructor(){}static decode(o,c,f,m,w,y,B){let I=new Ds(o,c,f,m,w),U=null,P=null,Y;for(let be=!0;;be=!1){if(c!=null&&(U=en.getRowIndicatorColumn(o,I,c,!0,y,B)),m!=null&&(P=en.getRowIndicatorColumn(o,I,m,!1,y,B)),Y=en.merge(U,P),Y==null)throw Ee.getNotFoundInstance();let Ie=Y.getBoundingBox();if(be&&Ie!=null&&(Ie.getMinY()<I.getMinY()||Ie.getMaxY()>I.getMaxY()))I=Ie;else break}Y.setBoundingBox(I);let re=Y.getBarcodeColumnCount()+1;Y.setDetectionResultColumn(0,U),Y.setDetectionResultColumn(re,P);let ye=U!=null;for(let be=1;be<=re;be++){let Ie=ye?be:re-be;if(Y.getDetectionResultColumn(Ie)!==void 0)continue;let Le;Ie===0||Ie===re?Le=new ir(I,Ie===0):Le=new $s(I),Y.setDetectionResultColumn(Ie,Le);let $e=-1,Ct=$e;for(let vt=I.getMinY();vt<=I.getMaxY();vt++){if($e=en.getStartColumn(Y,Ie,vt,ye),$e<0||$e>I.getMaxX()){if(Ct===-1)continue;$e=Ct}let dt=en.detectCodeword(o,I.getMinX(),I.getMaxX(),ye,$e,vt,y,B);dt!=null&&(Le.setCodeword(vt,dt),Ct=$e,y=Math.min(y,dt.getWidth()),B=Math.max(B,dt.getWidth()))}}return en.createDecoderResult(Y)}static merge(o,c){if(o==null&&c==null)return null;let f=en.getBarcodeMetadata(o,c);if(f==null)return null;let m=Ds.merge(en.adjustBoundingBox(o),en.adjustBoundingBox(c));return new Mr(f,m)}static adjustBoundingBox(o){if(o==null)return null;let c=o.getRowHeights();if(c==null)return null;let f=en.getMax(c),m=0;for(let B of c)if(m+=f-B,B>0)break;let w=o.getCodewords();for(let B=0;m>0&&w[B]==null;B++)m--;let y=0;for(let B=c.length-1;B>=0&&(y+=f-c[B],!(c[B]>0));B--);for(let B=w.length-1;y>0&&w[B]==null;B--)y--;return o.getBoundingBox().addMissingRows(m,y,o.isLeft())}static getMax(o){let c=-1;for(let f of o)c=Math.max(c,f);return c}static getBarcodeMetadata(o,c){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let m;return c==null||(m=c.getBarcodeMetadata())==null?f:f.getColumnCount()!==m.getColumnCount()&&f.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&f.getRowCount()!==m.getRowCount()?null:f}static getRowIndicatorColumn(o,c,f,m,w,y){let B=new ir(c,m);for(let I=0;I<2;I++){let U=I===0?1:-1,P=Math.trunc(Math.trunc(f.getX()));for(let Y=Math.trunc(Math.trunc(f.getY()));Y<=c.getMaxY()&&Y>=c.getMinY();Y+=U){let re=en.detectCodeword(o,0,o.getWidth(),m,P,Y,w,y);re!=null&&(B.setCodeword(Y,re),m?P=re.getStartX():P=re.getEndX())}}return B}static adjustCodewordCount(o,c){let f=c[0][1],m=f.getValue(),w=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-en.getNumberOfECCodeWords(o.getBarcodeECLevel());if(m.length===0){if(w<1||w>Kt.MAX_CODEWORDS_IN_BARCODE)throw Ee.getNotFoundInstance();f.setValue(w)}else m[0]!==w&&f.setValue(w)}static createDecoderResult(o){let c=en.createBarcodeMatrix(o);en.adjustCodewordCount(o,c);let f=new Array,m=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),w=[],y=new Array;for(let I=0;I<o.getBarcodeRowCount();I++)for(let U=0;U<o.getBarcodeColumnCount();U++){let P=c[I][U+1].getValue(),Y=I*o.getBarcodeColumnCount()+U;P.length===0?f.push(Y):P.length===1?m[Y]=P[0]:(y.push(Y),w.push(P))}let B=new Array(w.length);for(let I=0;I<B.length;I++)B[I]=w[I];return en.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),m,Kt.toIntArray(f),Kt.toIntArray(y),B)}static createDecoderResultFromAmbiguousValues(o,c,f,m,w){let y=new Int32Array(m.length),B=100;for(;B-- >0;){for(let I=0;I<y.length;I++)c[m[I]]=w[I][y[I]];try{return en.decodeCodewords(c,o,f)}catch(I){if(!(I instanceof N))throw I}if(y.length===0)throw N.getChecksumInstance();for(let I=0;I<y.length;I++)if(y[I]<w[I].length-1){y[I]++;break}else if(y[I]=0,I===y.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(o){let c=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let m=0;m<c.length;m++)for(let w=0;w<c[m].length;w++)c[m][w]=new ks;let f=0;for(let m of o.getDetectionResultColumns()){if(m!=null){for(let w of m.getCodewords())if(w!=null){let y=w.getRowNumber();if(y>=0){if(y>=c.length)continue;c[y][f].setValue(w.getValue())}}}f++}return c}static isValidBarcodeColumn(o,c){return c>=0&&c<=o.getBarcodeColumnCount()+1}static getStartColumn(o,c,f,m){let w=m?1:-1,y=null;if(en.isValidBarcodeColumn(o,c-w)&&(y=o.getDetectionResultColumn(c-w).getCodeword(f)),y!=null)return m?y.getEndX():y.getStartX();if(y=o.getDetectionResultColumn(c).getCodewordNearby(f),y!=null)return m?y.getStartX():y.getEndX();if(en.isValidBarcodeColumn(o,c-w)&&(y=o.getDetectionResultColumn(c-w).getCodewordNearby(f)),y!=null)return m?y.getEndX():y.getStartX();let B=0;for(;en.isValidBarcodeColumn(o,c-w);){c-=w;for(let I of o.getDetectionResultColumn(c).getCodewords())if(I!=null)return(m?I.getEndX():I.getStartX())+w*B*(I.getEndX()-I.getStartX());B++}return m?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,c,f,m,w,y,B,I){w=en.adjustCodewordStartColumn(o,c,f,m,w,y);let U=en.getModuleBitCount(o,c,f,m,w,y);if(U==null)return null;let P,Y=Bt.sum(U);if(m)P=w+Y;else{for(let be=0;be<U.length/2;be++){let Ie=U[be];U[be]=U[U.length-1-be],U[U.length-1-be]=Ie}P=w,w=P-Y}if(!en.checkCodewordSkew(Y,B,I))return null;let re=Or.getDecodedValue(U),ye=Kt.getCodeword(re);return ye===-1?null:new gs(w,P,en.getCodewordBucketNumber(re),ye)}static getModuleBitCount(o,c,f,m,w,y){let B=w,I=new Int32Array(8),U=0,P=m?1:-1,Y=m;for(;(m?B<f:B>=c)&&U<I.length;)o.get(B,y)===Y?(I[U]++,B+=P):(U++,Y=!Y);return U===I.length||B===(m?f:c)&&U===I.length-1?I:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,c,f,m,w,y){let B=w,I=m?-1:1;for(let U=0;U<2;U++){for(;(m?B>=c:B<f)&&m===o.get(B,y);){if(Math.abs(w-B)>en.CODEWORD_SKEW_SIZE)return w;B+=I}I=-I,m=!m}return B}static checkCodewordSkew(o,c,f){return c-en.CODEWORD_SKEW_SIZE<=o&&o<=f+en.CODEWORD_SKEW_SIZE}static decodeCodewords(o,c,f){if(o.length===0)throw M.getFormatInstance();let m=1<<c+1,w=en.correctErrors(o,f,m);en.verifyCodewordCount(o,m);let y=Je.decode(o,""+c);return y.setErrorsCorrected(w),y.setErasures(f.length),y}static correctErrors(o,c,f){if(c!=null&&c.length>f/2+en.MAX_ERRORS||f<0||f>en.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return en.errorCorrection.decode(o,f,c)}static verifyCodewordCount(o,c){if(o.length<4)throw M.getFormatInstance();let f=o[0];if(f>o.length)throw M.getFormatInstance();if(f===0)if(c<o.length)o[0]=o.length-c;else throw M.getFormatInstance()}static getBitCountForCodeword(o){let c=new Int32Array(8),f=0,m=c.length-1;for(;!((o&1)!==f&&(f=o&1,m--,m<0));)c[m]++,o>>=1;return c}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return en.getCodewordBucketNumber(en.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let c=new Us;for(let f=0;f<o.length;f++){c.format("Row %2d: ",f);for(let m=0;m<o[f].length;m++){let w=o[f][m];w.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}c.format("%n")}return c.toString()}}en.CODEWORD_SKEW_SIZE=2,en.MAX_ERRORS=3,en.MAX_EC_CODEWORDS=512,en.errorCorrection=new Zi;class zr{decode(o,c=null){let f=zr.decode(o,c,!1);if(f==null||f.length===0||f[0]==null)throw Ee.getNotFoundInstance();return f[0]}decodeMultiple(o,c=null){try{return zr.decode(o,c,!0)}catch(f){throw f instanceof M||f instanceof N?Ee.getNotFoundInstance():f}}static decode(o,c,f){const m=new Array,w=zt.detectMultiple(o,c,f);for(const y of w.getPoints()){const B=en.decode(w.getBits(),y[4],y[5],y[6],y[7],zr.getMinCodewordWidth(y),zr.getMaxCodewordWidth(y)),I=new le(B.getText(),B.getRawBytes(),void 0,y,xe.PDF_417);I.putMetadata(Ne.ERROR_CORRECTION_LEVEL,B.getECLevel());const U=B.getOther();U!=null&&I.putMetadata(Ne.PDF417_EXTRA_METADATA,U),m.push(I)}return m.map(y=>y)}static getMaxWidth(o,c){return o==null||c==null?0:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMinWidth(o,c){return o==null||c==null?Q.MAX_VALUE:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(zr.getMaxWidth(o[0],o[4]),zr.getMaxWidth(o[6],o[2])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN),Math.max(zr.getMaxWidth(o[1],o[5]),zr.getMaxWidth(o[7],o[3])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(zr.getMinWidth(o[0],o[4]),zr.getMinWidth(o[6],o[2])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN),Math.min(zr.getMinWidth(o[1],o[5]),zr.getMinWidth(o[7],o[3])*Kt.MODULES_IN_CODEWORD/Kt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fo extends d{}Fo.kind="ReaderException";class co{constructor(o,c){this.verbose=o===!0,c&&this.setHints(c)}decode(o,c){return c&&this.setHints(c),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const c=!r(o)&&o.get(ee.TRY_HARDER)===!0,f=r(o)?null:o.get(ee.POSSIBLE_FORMATS),m=new Array;if(!r(f)){const w=f.some(y=>y===xe.UPC_A||y===xe.UPC_E||y===xe.EAN_13||y===xe.EAN_8||y===xe.CODABAR||y===xe.CODE_39||y===xe.CODE_93||y===xe.CODE_128||y===xe.ITF||y===xe.RSS_14||y===xe.RSS_EXPANDED);w&&!c&&m.push(new Sr(o,this.verbose)),f.includes(xe.QR_CODE)&&m.push(new Zs),f.includes(xe.DATA_MATRIX)&&m.push(new Is),f.includes(xe.AZTEC)&&m.push(new we),f.includes(xe.PDF_417)&&m.push(new zr),w&&c&&m.push(new Sr(o,this.verbose))}m.length===0&&(c||m.push(new Sr(o,this.verbose)),m.push(new Zs),m.push(new Is),m.push(new we),m.push(new zr),c&&m.push(new Sr(o,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Fo("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(o,this.hints)}catch(f){if(f instanceof Fo)continue}throw new Ee("No MultiFormat Readers were able to detect the code.")}}class El extends ge{constructor(o=null,c=500){const f=new co;f.setHints(o),super(f,c)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Ec extends ge{constructor(o=500){super(new zr,o)}}class Bl extends ge{constructor(o=500){super(new Zs,o)}}var Ro;(function(q){q[q.ERROR_CORRECTION=0]="ERROR_CORRECTION",q[q.CHARACTER_SET=1]="CHARACTER_SET",q[q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",q[q.MIN_SIZE=3]="MIN_SIZE",q[q.MAX_SIZE=4]="MAX_SIZE",q[q.MARGIN=5]="MARGIN",q[q.PDF417_COMPACT=6]="PDF417_COMPACT",q[q.PDF417_COMPACTION=7]="PDF417_COMPACTION",q[q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",q[q.AZTEC_LAYERS=9]="AZTEC_LAYERS",q[q.QR_VERSION=10]="QR_VERSION"})(Ro||(Ro={}));var Er=Ro;class xa{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new yt(o,Int32Array.from([1])))}buildGenerator(o){const c=this.cachedGenerators;if(o>=c.length){let f=c[c.length-1];const m=this.field;for(let w=c.length;w<=o;w++){const y=f.multiply(new yt(m,Int32Array.from([1,m.exp(w-1+m.getGeneratorBase())])));c.push(y),f=y}}return c[o]}encode(o,c){if(c===0)throw new C("No error correction bytes");const f=o.length-c;if(f<=0)throw new C("No data bytes provided");const m=this.buildGenerator(c),w=new Int32Array(f);R.arraycopy(o,0,w,0,f);let y=new yt(this.field,w);y=y.multiplyByMonomial(c,1);const I=y.divide(m)[1].getCoefficients(),U=c-I.length;for(let P=0;P<U;P++)o[f+P]=0;R.arraycopy(I,0,o,f+U,I.length)}}class lr{constructor(){}static applyMaskPenaltyRule1(o){return lr.applyMaskPenaltyRule1Internal(o,!0)+lr.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let c=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let y=0;y<w-1;y++){const B=f[y];for(let I=0;I<m-1;I++){const U=B[I];U===B[I+1]&&U===f[y+1][I]&&U===f[y+1][I+1]&&c++}}return lr.N2*c}static applyMaskPenaltyRule3(o){let c=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let y=0;y<w;y++)for(let B=0;B<m;B++){const I=f[y];B+6<m&&I[B]===1&&I[B+1]===0&&I[B+2]===1&&I[B+3]===1&&I[B+4]===1&&I[B+5]===0&&I[B+6]===1&&(lr.isWhiteHorizontal(I,B-4,B)||lr.isWhiteHorizontal(I,B+7,B+11))&&c++,y+6<w&&f[y][B]===1&&f[y+1][B]===0&&f[y+2][B]===1&&f[y+3][B]===1&&f[y+4][B]===1&&f[y+5][B]===0&&f[y+6][B]===1&&(lr.isWhiteVertical(f,B,y-4,y)||lr.isWhiteVertical(f,B,y+7,y+11))&&c++}return c*lr.N3}static isWhiteHorizontal(o,c,f){c=Math.max(c,0),f=Math.min(f,o.length);for(let m=c;m<f;m++)if(o[m]===1)return!1;return!0}static isWhiteVertical(o,c,f,m){f=Math.max(f,0),m=Math.min(m,o.length);for(let w=f;w<m;w++)if(o[w][c]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let c=0;const f=o.getArray(),m=o.getWidth(),w=o.getHeight();for(let I=0;I<w;I++){const U=f[I];for(let P=0;P<m;P++)U[P]===1&&c++}const y=o.getHeight()*o.getWidth();return Math.floor(Math.abs(c*2-y)*10/y)*lr.N4}static getDataMaskBit(o,c,f){let m,w;switch(o){case 0:m=f+c&1;break;case 1:m=f&1;break;case 2:m=c%3;break;case 3:m=(f+c)%3;break;case 4:m=Math.floor(f/2)+Math.floor(c/3)&1;break;case 5:w=f*c,m=(w&1)+w%3;break;case 6:w=f*c,m=(w&1)+w%3&1;break;case 7:w=f*c,m=w%3+(f+c&1)&1;break;default:throw new C("Invalid mask pattern: "+o)}return m===0}static applyMaskPenaltyRule1Internal(o,c){let f=0;const m=c?o.getHeight():o.getWidth(),w=c?o.getWidth():o.getHeight(),y=o.getArray();for(let B=0;B<m;B++){let I=0,U=-1;for(let P=0;P<w;P++){const Y=c?y[B][P]:y[P][B];Y===U?I++:(I>=5&&(f+=lr.N1+(I-5)),I=1,U=Y)}I>=5&&(f+=lr.N1+(I-5))}return f}}lr.N1=3,lr.N2=3,lr.N3=40,lr.N4=10;class Do{constructor(o,c){this.width=o,this.height=c;const f=new Array(c);for(let m=0;m!==c;m++)f[m]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,c){return this.bytes[c][o]}getArray(){return this.bytes}setNumber(o,c,f){this.bytes[c][o]=f}setBoolean(o,c,f){this.bytes[c][o]=f?1:0}clear(o){for(const c of this.bytes)K.fill(c,o)}equals(o){if(!(o instanceof Do))return!1;const c=o;if(this.width!==c.width||this.height!==c.height)return!1;for(let f=0,m=this.height;f<m;++f){const w=this.bytes[f],y=c.bytes[f];for(let B=0,I=this.width;B<I;++B)if(w[B]!==y[B])return!1}return!0}toString(){const o=new X;for(let c=0,f=this.height;c<f;++c){const m=this.bytes[c];for(let w=0,y=this.width;w<y;++w)switch(m[w]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ri{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new X;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ri.NUM_MASK_PATTERNS}}Ri.NUM_MASK_PATTERNS=8;class On extends d{}On.kind="WriterException";class jt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,c,f,m,w){jt.clearMatrix(w),jt.embedBasicPatterns(f,w),jt.embedTypeInfo(c,m,w),jt.maybeEmbedVersionInfo(f,w),jt.embedDataBits(o,m,w)}static embedBasicPatterns(o,c){jt.embedPositionDetectionPatternsAndSeparators(c),jt.embedDarkDotAtLeftBottomCorner(c),jt.maybeEmbedPositionAdjustmentPatterns(o,c),jt.embedTimingPatterns(c)}static embedTypeInfo(o,c,f){const m=new ne;jt.makeTypeInfoBits(o,c,m);for(let w=0,y=m.getSize();w<y;++w){const B=m.get(m.getSize()-1-w),I=jt.TYPE_INFO_COORDINATES[w],U=I[0],P=I[1];if(f.setBoolean(U,P,B),w<8){const Y=f.getWidth()-w-1;f.setBoolean(Y,8,B)}else{const re=f.getHeight()-7+(w-8);f.setBoolean(8,re,B)}}}static maybeEmbedVersionInfo(o,c){if(o.getVersionNumber()<7)return;const f=new ne;jt.makeVersionInfoBits(o,f);let m=17;for(let w=0;w<6;++w)for(let y=0;y<3;++y){const B=f.get(m);m--,c.setBoolean(w,c.getHeight()-11+y,B),c.setBoolean(c.getHeight()-11+y,w,B)}}static embedDataBits(o,c,f){let m=0,w=-1,y=f.getWidth()-1,B=f.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);B>=0&&B<f.getHeight();){for(let I=0;I<2;++I){const U=y-I;if(!jt.isEmpty(f.get(U,B)))continue;let P;m<o.getSize()?(P=o.get(m),++m):P=!1,c!==255&&lr.getDataMaskBit(c,U,B)&&(P=!P),f.setBoolean(U,B,P)}B+=w}w=-w,B+=w,y-=2}if(m!==o.getSize())throw new On("Not all bits consumed: "+m+"/"+o.getSize())}static findMSBSet(o){return 32-Q.numberOfLeadingZeros(o)}static calculateBCHCode(o,c){if(c===0)throw new C("0 polynomial");const f=jt.findMSBSet(c);for(o<<=f-1;jt.findMSBSet(o)>=f;)o^=c<<jt.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,c,f){if(!Ri.isValidMaskPattern(c))throw new On("Invalid mask pattern");const m=o.getBits()<<3|c;f.appendBits(m,5);const w=jt.calculateBCHCode(m,jt.TYPE_INFO_POLY);f.appendBits(w,10);const y=new ne;if(y.appendBits(jt.TYPE_INFO_MASK_PATTERN,15),f.xor(y),f.getSize()!==15)throw new On("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,c){c.appendBits(o.getVersionNumber(),6);const f=jt.calculateBCHCode(o.getVersionNumber(),jt.VERSION_INFO_POLY);if(c.appendBits(f,12),c.getSize()!==18)throw new On("should not happen but we got: "+c.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let c=8;c<o.getWidth()-8;++c){const f=(c+1)%2;jt.isEmpty(o.get(c,6))&&o.setNumber(c,6,f),jt.isEmpty(o.get(6,c))&&o.setNumber(6,c,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new On;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,c,f){for(let m=0;m<8;++m){if(!jt.isEmpty(f.get(o+m,c)))throw new On;f.setNumber(o+m,c,0)}}static embedVerticalSeparationPattern(o,c,f){for(let m=0;m<7;++m){if(!jt.isEmpty(f.get(o,c+m)))throw new On;f.setNumber(o,c+m,0)}}static embedPositionAdjustmentPattern(o,c,f){for(let m=0;m<5;++m){const w=jt.POSITION_ADJUSTMENT_PATTERN[m];for(let y=0;y<5;++y)f.setNumber(o+y,c+m,w[y])}}static embedPositionDetectionPattern(o,c,f){for(let m=0;m<7;++m){const w=jt.POSITION_DETECTION_PATTERN[m];for(let y=0;y<7;++y)f.setNumber(o+y,c+m,w[y])}}static embedPositionDetectionPatternsAndSeparators(o){const c=jt.POSITION_DETECTION_PATTERN[0].length;jt.embedPositionDetectionPattern(0,0,o),jt.embedPositionDetectionPattern(o.getWidth()-c,0,o),jt.embedPositionDetectionPattern(0,o.getWidth()-c,o);const f=8;jt.embedHorizontalSeparationPattern(0,f-1,o),jt.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),jt.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const m=7;jt.embedVerticalSeparationPattern(m,0,o),jt.embedVerticalSeparationPattern(o.getHeight()-m-1,0,o),jt.embedVerticalSeparationPattern(m,o.getHeight()-m,o)}static maybeEmbedPositionAdjustmentPatterns(o,c){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,m=jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let w=0,y=m.length;w!==y;w++){const B=m[w];if(B>=0)for(let I=0;I!==y;I++){const U=m[I];U>=0&&jt.isEmpty(c.get(U,B))&&jt.embedPositionAdjustmentPattern(U-2,B-2,c)}}}}jt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jt.VERSION_INFO_POLY=7973,jt.TYPE_INFO_POLY=1335,jt.TYPE_INFO_MASK_PATTERN=21522;class Bc{constructor(o,c){this.dataBytes=o,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xn{constructor(){}static calculateMaskPenalty(o){return lr.applyMaskPenaltyRule1(o)+lr.applyMaskPenaltyRule2(o)+lr.applyMaskPenaltyRule3(o)+lr.applyMaskPenaltyRule4(o)}static encode(o,c,f=null){let m=Xn.DEFAULT_BYTE_MODE_ENCODING;const w=f!==null&&f.get(Er.CHARACTER_SET)!==void 0;w&&(m=f.get(Er.CHARACTER_SET).toString());const y=this.chooseMode(o,m),B=new ne;if(y===Vt.BYTE&&(w||Xn.DEFAULT_BYTE_MODE_ENCODING!==m)){const vt=O.getCharacterSetECIByName(m);vt!==void 0&&this.appendECI(vt,B)}this.appendModeInfo(y,B);const I=new ne;this.appendBytes(o,y,I,m);let U;if(f!==null&&f.get(Er.QR_VERSION)!==void 0){const vt=Number.parseInt(f.get(Er.QR_VERSION).toString(),10);U=_t.getVersionForNumber(vt);const dt=this.calculateBitsNeeded(y,B,I,U);if(!this.willFit(dt,U,c))throw new On("Data too big for requested version")}else U=this.recommendVersion(c,y,B,I);const P=new ne;P.appendBitArray(B);const Y=y===Vt.BYTE?I.getSizeInBytes():o.length;this.appendLengthInfo(Y,U,y,P),P.appendBitArray(I);const re=U.getECBlocksForLevel(c),ye=U.getTotalCodewords()-re.getTotalECCodewords();this.terminateBits(ye,P);const be=this.interleaveWithECBytes(P,U.getTotalCodewords(),ye,re.getNumBlocks()),Ie=new Ri;Ie.setECLevel(c),Ie.setMode(y),Ie.setVersion(U);const Le=U.getDimensionForVersion(),$e=new Do(Le,Le),Ct=this.chooseMaskPattern(be,c,U,$e);return Ie.setMaskPattern(Ct),jt.buildMatrix(be,c,U,Ct,$e),Ie.setMatrix($e),Ie}static recommendVersion(o,c,f,m){const w=this.calculateBitsNeeded(c,f,m,_t.getVersionForNumber(1)),y=this.chooseVersion(w,o),B=this.calculateBitsNeeded(c,f,m,y);return this.chooseVersion(B,o)}static calculateBitsNeeded(o,c,f,m){return c.getSize()+o.getCharacterCountBits(m)+f.getSize()}static getAlphanumericCode(o){return o<Xn.ALPHANUMERIC_TABLE.length?Xn.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,c=null){if(O.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(o))return Vt.KANJI;let f=!1,m=!1;for(let w=0,y=o.length;w<y;++w){const B=o.charAt(w);if(Xn.isDigit(B))f=!0;else if(this.getAlphanumericCode(B.charCodeAt(0))!==-1)m=!0;else return Vt.BYTE}return m?Vt.ALPHANUMERIC:f?Vt.NUMERIC:Vt.BYTE}static isOnlyDoubleByteKanji(o){let c;try{c=J.encode(o,O.SJIS)}catch{return!1}const f=c.length;if(f%2!==0)return!1;for(let m=0;m<f;m+=2){const w=c[m]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(o,c,f,m){let w=Number.MAX_SAFE_INTEGER,y=-1;for(let B=0;B<Ri.NUM_MASK_PATTERNS;B++){jt.buildMatrix(o,c,f,B,m);let I=this.calculateMaskPenalty(m);I<w&&(w=I,y=B)}return y}static chooseVersion(o,c){for(let f=1;f<=40;f++){const m=_t.getVersionForNumber(f);if(Xn.willFit(o,m,c))return m}throw new On("Data too big")}static willFit(o,c,f){const m=c.getTotalCodewords(),y=c.getECBlocksForLevel(f).getTotalECCodewords(),B=m-y,I=(o+7)/8;return B>=I}static terminateBits(o,c){const f=o*8;if(c.getSize()>f)throw new On("data bits cannot fit in the QR Code"+c.getSize()+" > "+f);for(let y=0;y<4&&c.getSize()<f;++y)c.appendBit(!1);const m=c.getSize()&7;if(m>0)for(let y=m;y<8;y++)c.appendBit(!1);const w=o-c.getSizeInBytes();for(let y=0;y<w;++y)c.appendBits((y&1)===0?236:17,8);if(c.getSize()!==f)throw new On("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,c,f,m,w,y){if(m>=f)throw new On("Block ID too large");const B=o%f,I=f-B,U=Math.floor(o/f),P=U+1,Y=Math.floor(c/f),re=Y+1,ye=U-Y,be=P-re;if(ye!==be)throw new On("EC bytes mismatch");if(f!==I+B)throw new On("RS blocks mismatch");if(o!==(Y+ye)*I+(re+be)*B)throw new On("Total bytes mismatch");m<I?(w[0]=Y,y[0]=ye):(w[0]=re,y[0]=be)}static interleaveWithECBytes(o,c,f,m){if(o.getSizeInBytes()!==f)throw new On("Number of bits and data bytes does not match");let w=0,y=0,B=0;const I=new Array;for(let P=0;P<m;++P){const Y=new Int32Array(1),re=new Int32Array(1);Xn.getNumDataBytesAndNumECBytesForBlockID(c,f,m,P,Y,re);const ye=Y[0],be=new Uint8Array(ye);o.toBytes(8*w,be,0,ye);const Ie=Xn.generateECBytes(be,re[0]);I.push(new Bc(be,Ie)),y=Math.max(y,ye),B=Math.max(B,Ie.length),w+=Y[0]}if(f!==w)throw new On("Data bytes does not match offset");const U=new ne;for(let P=0;P<y;++P)for(const Y of I){const re=Y.getDataBytes();P<re.length&&U.appendBits(re[P],8)}for(let P=0;P<B;++P)for(const Y of I){const re=Y.getErrorCorrectionBytes();P<re.length&&U.appendBits(re[P],8)}if(c!==U.getSizeInBytes())throw new On("Interleaving error: "+c+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(o,c){const f=o.length,m=new Int32Array(f+c);for(let y=0;y<f;y++)m[y]=o[y]&255;new xa(St.QR_CODE_FIELD_256).encode(m,c);const w=new Uint8Array(c);for(let y=0;y<c;y++)w[y]=m[f+y];return w}static appendModeInfo(o,c){c.appendBits(o.getBits(),4)}static appendLengthInfo(o,c,f,m){const w=f.getCharacterCountBits(c);if(o>=1<<w)throw new On(o+" is bigger than "+((1<<w)-1));m.appendBits(o,w)}static appendBytes(o,c,f,m){switch(c){case Vt.NUMERIC:Xn.appendNumericBytes(o,f);break;case Vt.ALPHANUMERIC:Xn.appendAlphanumericBytes(o,f);break;case Vt.BYTE:Xn.append8BitBytes(o,f,m);break;case Vt.KANJI:Xn.appendKanjiBytes(o,f);break;default:throw new On("Invalid mode: "+c)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const c=Xn.getDigit(o);return c>=0&&c<=9}static appendNumericBytes(o,c){const f=o.length;let m=0;for(;m<f;){const w=Xn.getDigit(o.charAt(m));if(m+2<f){const y=Xn.getDigit(o.charAt(m+1)),B=Xn.getDigit(o.charAt(m+2));c.appendBits(w*100+y*10+B,10),m+=3}else if(m+1<f){const y=Xn.getDigit(o.charAt(m+1));c.appendBits(w*10+y,7),m+=2}else c.appendBits(w,4),m++}}static appendAlphanumericBytes(o,c){const f=o.length;let m=0;for(;m<f;){const w=Xn.getAlphanumericCode(o.charCodeAt(m));if(w===-1)throw new On;if(m+1<f){const y=Xn.getAlphanumericCode(o.charCodeAt(m+1));if(y===-1)throw new On;c.appendBits(w*45+y,11),m+=2}else c.appendBits(w,6),m++}}static append8BitBytes(o,c,f){let m;try{m=J.encode(o,f)}catch(w){throw new On(w)}for(let w=0,y=m.length;w!==y;w++){const B=m[w];c.appendBits(B,8)}}static appendKanjiBytes(o,c){let f;try{f=J.encode(o,O.SJIS)}catch(w){throw new On(w)}const m=f.length;for(let w=0;w<m;w+=2){const y=f[w]&255,B=f[w+1]&255,I=y<<8&4294967295|B;let U=-1;if(I>=33088&&I<=40956?U=I-33088:I>=57408&&I<=60351&&(U=I-49472),U===-1)throw new On("Invalid byte sequence");const P=(U>>8)*192+(U&255);c.appendBits(P,13)}}static appendECI(o,c){c.appendBits(Vt.ECI.getBits(),4),c.appendBits(o.getValue(),8)}}Xn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xn.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class Os{write(o,c,f,m=null){if(o.length===0)throw new C("Found empty contents");if(c<0||f<0)throw new C("Requested dimensions are too small: "+c+"x"+f);let w=Yt.L,y=Os.QUIET_ZONE_SIZE;m!==null&&(m.get(Er.ERROR_CORRECTION)!==void 0&&(w=Yt.fromString(m.get(Er.ERROR_CORRECTION).toString())),m.get(Er.MARGIN)!==void 0&&(y=Number.parseInt(m.get(Er.MARGIN).toString(),10)));const B=Xn.encode(o,w,m);return this.renderResult(B,c,f,y)}writeToDom(o,c,f,m,w=null){typeof o=="string"&&(o=document.querySelector(o));const y=this.write(c,f,m,w);o&&o.appendChild(y)}renderResult(o,c,f,m){const w=o.getMatrix();if(w===null)throw new Lt;const y=w.getWidth(),B=w.getHeight(),I=y+m*2,U=B+m*2,P=Math.max(c,I),Y=Math.max(f,U),re=Math.min(Math.floor(P/I),Math.floor(Y/U)),ye=Math.floor((P-y*re)/2),be=Math.floor((Y-B*re)/2),Ie=this.createSVGElement(P,Y);for(let Le=0,$e=be;Le<B;Le++,$e+=re)for(let Ct=0,vt=ye;Ct<y;Ct++,vt+=re)if(w.get(Ct,Le)===1){const dt=this.createSvgRectElement(vt,$e,re,re);Ie.appendChild(dt)}return Ie}createSVGElement(o,c){const f=document.createElementNS(Os.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",c.toString()),f}createSvgRectElement(o,c,f,m){const w=document.createElementNS(Os.SVG_NS,"rect");return w.setAttributeNS(null,"x",o.toString()),w.setAttributeNS(null,"y",c.toString()),w.setAttributeNS(null,"height",f.toString()),w.setAttributeNS(null,"width",m.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Os.QUIET_ZONE_SIZE=4,Os.SVG_NS="http://www.w3.org/2000/svg";class Lr{encode(o,c,f,m,w){if(o.length===0)throw new C("Found empty contents");if(c!==xe.QR_CODE)throw new C("Can only encode QR_CODE, but got "+c);if(f<0||m<0)throw new C(`Requested dimensions are too small: ${f}x${m}`);let y=Yt.L,B=Lr.QUIET_ZONE_SIZE;w!==null&&(w.get(Er.ERROR_CORRECTION)!==void 0&&(y=Yt.fromString(w.get(Er.ERROR_CORRECTION).toString())),w.get(Er.MARGIN)!==void 0&&(B=Number.parseInt(w.get(Er.MARGIN).toString(),10)));const I=Xn.encode(o,y,w);return Lr.renderResult(I,f,m,B)}static renderResult(o,c,f,m){const w=o.getMatrix();if(w===null)throw new Lt;const y=w.getWidth(),B=w.getHeight(),I=y+m*2,U=B+m*2,P=Math.max(c,I),Y=Math.max(f,U),re=Math.min(Math.floor(P/I),Math.floor(Y/U)),ye=Math.floor((P-y*re)/2),be=Math.floor((Y-B*re)/2),Ie=new Me(P,Y);for(let Le=0,$e=be;Le<B;Le++,$e+=re)for(let Ct=0,vt=ye;Ct<y;Ct++,vt+=re)w.get(Ct,Le)===1&&Ie.setRegion(vt,$e,re,re);return Ie}}Lr.QUIET_ZONE_SIZE=4;class _c{encode(o,c,f,m,w){let y;switch(c){case xe.QR_CODE:y=new Lr;break;default:throw new C("No encoder available for format "+c)}return y.encode(o,c,f,m,w)}}class ps extends je{constructor(o,c,f,m,w,y,B,I){if(super(y,B),this.yuvData=o,this.dataWidth=c,this.dataHeight=f,this.left=m,this.top=w,m+y>c||w+B>f)throw new C("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(y,B)}getRow(o,c){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const m=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,m,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.yuvData;const f=o*c,m=new Uint8ClampedArray(f);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.yuvData,w,m,0,f),m;for(let y=0;y<c;y++){const B=y*o;R.arraycopy(this.yuvData,w,m,B,o),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,c,f,m){return new ps(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+c,f,m,!1)}renderThumbnail(){const o=this.getWidth()/ps.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/ps.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*c),m=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let y=0;y<c;y++){const B=y*o;for(let I=0;I<o;I++){const U=m[w+I*ps.THUMBNAIL_SCALE_FACTOR]&255;f[B+I]=4278190080|U*65793}w+=this.dataWidth*ps.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/ps.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ps.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,c){const f=this.yuvData;for(let m=0,w=this.top*this.dataWidth+this.left;m<c;m++,w+=this.dataWidth){const y=w+o/2;for(let B=w,I=w+o-1;B<y;B++,I--){const U=f[B];f[B]=f[I],f[I]=U}}}invert(){return new Be(this)}}ps.THUMBNAIL_SCALE_FACTOR=2;class wa extends je{constructor(o,c,f,m,w,y,B){if(super(c,f),this.dataWidth=m,this.dataHeight=w,this.left=y,this.top=B,o.BYTES_PER_ELEMENT===4){const I=c*f,U=new Uint8ClampedArray(I);for(let P=0;P<I;P++){const Y=o[P],re=Y>>16&255,ye=Y>>7&510,be=Y&255;U[P]=(re+ye+be)/4&255}this.luminances=U}else this.luminances=o;if(m===void 0&&(this.dataWidth=c),w===void 0&&(this.dataHeight=f),y===void 0&&(this.left=0),B===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+f>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(o,c){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const m=(o+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,m,c,0,f),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.luminances;const f=o*c,m=new Uint8ClampedArray(f);let w=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return R.arraycopy(this.luminances,w,m,0,f),m;for(let y=0;y<c;y++){const B=y*o;R.arraycopy(this.luminances,w,m,B,o),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,c,f,m){return new wa(this.luminances,f,m,this.dataWidth,this.dataHeight,this.left+o,this.top+c)}invert(){return new Be(this)}}class T extends O{static forName(o){return this.getCharacterSetECIByName(o)}}class L{}L.ISO_8859_1=O.ISO8859_1;class G{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Ae{static singletonList(o){return[o]}static min(o,c){return o.sort(c)[0]}}class Pe{constructor(o){this.previous=o}getPrevious(){return this.previous}}class et extends Pe{constructor(o,c,f){super(o),this.value=c,this.bitCount=f}appendTo(o,c){o.appendBits(this.value,this.bitCount)}add(o,c){return new et(this,o,c)}addBinaryShift(o,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new et(this,o,c)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Q.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Tt extends et{constructor(o,c,f){super(o,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=f}appendTo(o,c){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(c[this.binaryShiftStart+f],8)}addBinaryShift(o,c){return new Tt(this,o,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Hn(q,o,c){return new Tt(q,o,c)}function gr(q,o,c){return new et(q,o,c)}const xn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cr=0,Nr=1,Wr=2,Di=3,Ei=4,ja=new et(null,0,0),Uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Vg(q){for(let o of q)K.fill(o,-1);return q[cr][Ei]=0,q[Nr][Ei]=0,q[Nr][cr]=28,q[Di][Ei]=0,q[Wr][Ei]=0,q[Wr][cr]=15,q}const _l=Vg(K.createInt32Array(6,6));class ea{constructor(o,c,f,m){this.token=o,this.mode=c,this.binaryShiftByteCount=f,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,c){let f=this.bitCount,m=this.token;if(o!==this.mode){let y=Uo[this.mode][o];m=gr(m,y&65535,y>>16),f+=y>>16}let w=o===Wr?4:5;return m=gr(m,c,w),new ea(m,o,0,f+w)}shiftAndAppend(o,c){let f=this.token,m=this.mode===Wr?4:5;return f=gr(f,_l[this.mode][o],m),f=gr(f,c,5),new ea(f,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(o){let c=this.token,f=this.mode,m=this.bitCount;if(this.mode===Ei||this.mode===Wr){let B=Uo[f][cr];c=gr(c,B&65535,B>>16),m+=B>>16,f=cr}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new ea(c,f,this.binaryShiftByteCount+1,m+w);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(o+1)),y}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Hn(c,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new ea(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let c=this.bitCount+(Uo[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?c+=ea.calculateBinaryShiftCost(o)-ea.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(c+=10),c<=o.bitCount}toBitArray(o){let c=[];for(let m=this.endBinaryShift(o.length).token;m!==null;m=m.getPrevious())c.unshift(m);let f=new ne;for(const m of c)m.appendTo(f,o);return f}toString(){return W.format("%s bits=%d bytes=%d",xn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}ea.INITIAL_STATE=new ea(ja,cr,0,0);function td(q){const o=W.getCharCode(" "),c=W.getCharCode("."),f=W.getCharCode(",");q[cr][o]=1;const m=W.getCharCode("Z"),w=W.getCharCode("A");for(let re=w;re<=m;re++)q[cr][re]=re-w+2;q[Nr][o]=1;const y=W.getCharCode("z"),B=W.getCharCode("a");for(let re=B;re<=y;re++)q[Nr][re]=re-B+2;q[Wr][o]=1;const I=W.getCharCode("9"),U=W.getCharCode("0");for(let re=U;re<=I;re++)q[Wr][re]=re-U+2;q[Wr][f]=12,q[Wr][c]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let re=0;re<P.length;re++)q[Di][W.getCharCode(P[re])]=re;const Y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let re=0;re<Y.length;re++)W.getCharCode(Y[re])>0&&(q[Ei][W.getCharCode(Y[re])]=re);return q}const Tl=td(K.createInt32Array(5,256));class ko{constructor(o){this.text=o}encode(){const o=W.getCharCode(" "),c=W.getCharCode(`
`);let f=Ae.singletonList(ea.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let y,B=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case W.getCharCode("\r"):y=B===c?2:0;break;case W.getCharCode("."):y=B===o?3:0;break;case W.getCharCode(","):y=B===o?4:0;break;case W.getCharCode(":"):y=B===o?5:0;break;default:y=0}y>0?(f=ko.updateStateListForPair(f,w,y),w++):f=this.updateStateListForChar(f,w)}return Ae.min(f,(w,y)=>w.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,c){const f=[];for(let m of o)this.updateStateForChar(m,c,f);return ko.simplifyStates(f)}updateStateForChar(o,c,f){let m=this.text[c]&255,w=Tl[o.getMode()][m]>0,y=null;for(let B=0;B<=Ei;B++){let I=Tl[B][m];if(I>0){if(y==null&&(y=o.endBinaryShift(c)),!w||B===o.getMode()||B===Wr){const U=y.latchAndAppend(B,I);f.push(U)}if(!w&&_l[o.getMode()][B]>=0){const U=y.shiftAndAppend(B,I);f.push(U)}}}if(o.getBinaryShiftByteCount()>0||Tl[o.getMode()][m]===0){let B=o.addBinaryShiftChar(c);f.push(B)}}static updateStateListForPair(o,c,f){const m=[];for(let w of o)this.updateStateForPair(w,c,f,m);return this.simplifyStates(m)}static updateStateForPair(o,c,f,m){let w=o.endBinaryShift(c);if(m.push(w.latchAndAppend(Ei,f)),o.getMode()!==Ei&&m.push(w.shiftAndAppend(Ei,f)),f===3||f===4){let y=w.latchAndAppend(Wr,16-f).latchAndAppend(Wr,1);m.push(y)}if(o.getBinaryShiftByteCount()>0){let y=o.addBinaryShiftChar(c).addBinaryShiftChar(c+1);m.push(y)}}static simplifyStates(o){let c=[];for(const f of o){let m=!0;for(const w of c){if(w.isBetterThanOrEqualTo(f)){m=!1;break}f.isBetterThanOrEqualTo(w)&&(c=c.filter(y=>y!==w))}m&&c.push(f)}return c}}class Bn{constructor(){}static encodeBytes(o){return Bn.encode(o,Bn.DEFAULT_EC_PERCENT,Bn.DEFAULT_AZTEC_LAYERS)}static encode(o,c,f){let m=new ko(o).encode(),w=Q.truncDivision(m.getSize()*c,100)+11,y=m.getSize()+w,B,I,U,P,Y;if(f!==Bn.DEFAULT_AZTEC_LAYERS){if(B=f<0,I=Math.abs(f),I>(B?Bn.MAX_NB_BITS_COMPACT:Bn.MAX_NB_BITS))throw new C(W.format("Illegal value %s for layers",f));U=Bn.totalBitsInLayer(I,B),P=Bn.WORD_SIZE[I];let dt=U-U%P;if(Y=Bn.stuffBits(m,P),Y.getSize()+w>dt)throw new C("Data to large for user specified layer");if(B&&Y.getSize()>P*64)throw new C("Data to large for user specified layer")}else{P=0,Y=null;for(let dt=0;;dt++){if(dt>Bn.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(B=dt<=3,I=B?dt+1:dt,U=Bn.totalBitsInLayer(I,B),y>U)continue;(Y==null||P!==Bn.WORD_SIZE[I])&&(P=Bn.WORD_SIZE[I],Y=Bn.stuffBits(m,P));let vn=U-U%P;if(!(B&&Y.getSize()>P*64)&&Y.getSize()+w<=vn)break}}let re=Bn.generateCheckWords(Y,U,P),ye=Y.getSize()/P,be=Bn.generateModeMessage(B,I,ye),Ie=(B?11:14)+I*4,Le=new Int32Array(Ie),$e;if(B){$e=Ie;for(let dt=0;dt<Le.length;dt++)Le[dt]=dt}else{$e=Ie+1+2*Q.truncDivision(Q.truncDivision(Ie,2)-1,15);let dt=Q.truncDivision(Ie,2),vn=Q.truncDivision($e,2);for(let rn=0;rn<dt;rn++){let Qr=rn+Q.truncDivision(rn,15);Le[dt-rn-1]=vn-Qr-1,Le[dt+rn]=vn+Qr+1}}let Ct=new Me($e);for(let dt=0,vn=0;dt<I;dt++){let rn=(I-dt)*4+(B?9:12);for(let Qr=0;Qr<rn;Qr++){let Ls=Qr*2;for(let Ui=0;Ui<2;Ui++)re.get(vn+Ls+Ui)&&Ct.set(Le[dt*2+Ui],Le[dt*2+Qr]),re.get(vn+rn*2+Ls+Ui)&&Ct.set(Le[dt*2+Qr],Le[Ie-1-dt*2-Ui]),re.get(vn+rn*4+Ls+Ui)&&Ct.set(Le[Ie-1-dt*2-Ui],Le[Ie-1-dt*2-Qr]),re.get(vn+rn*6+Ls+Ui)&&Ct.set(Le[Ie-1-dt*2-Qr],Le[dt*2+Ui])}vn+=rn*8}if(Bn.drawModeMessage(Ct,B,$e,be),B)Bn.drawBullsEye(Ct,Q.truncDivision($e,2),5);else{Bn.drawBullsEye(Ct,Q.truncDivision($e,2),7);for(let dt=0,vn=0;dt<Q.truncDivision(Ie,2)-1;dt+=15,vn+=16)for(let rn=Q.truncDivision($e,2)&1;rn<$e;rn+=2)Ct.set(Q.truncDivision($e,2)-vn,rn),Ct.set(Q.truncDivision($e,2)+vn,rn),Ct.set(rn,Q.truncDivision($e,2)-vn),Ct.set(rn,Q.truncDivision($e,2)+vn)}let vt=new G;return vt.setCompact(B),vt.setSize($e),vt.setLayers(I),vt.setCodeWords(ye),vt.setMatrix(Ct),vt}static drawBullsEye(o,c,f){for(let m=0;m<f;m+=2)for(let w=c-m;w<=c+m;w++)o.set(w,c-m),o.set(w,c+m),o.set(c-m,w),o.set(c+m,w);o.set(c-f,c-f),o.set(c-f+1,c-f),o.set(c-f,c-f+1),o.set(c+f,c-f),o.set(c+f,c-f+1),o.set(c+f,c+f-1)}static generateModeMessage(o,c,f){let m=new ne;return o?(m.appendBits(c-1,2),m.appendBits(f-1,6),m=Bn.generateCheckWords(m,28,4)):(m.appendBits(c-1,5),m.appendBits(f-1,11),m=Bn.generateCheckWords(m,40,4)),m}static drawModeMessage(o,c,f,m){let w=Q.truncDivision(f,2);if(c)for(let y=0;y<7;y++){let B=w-3+y;m.get(y)&&o.set(B,w-5),m.get(y+7)&&o.set(w+5,B),m.get(20-y)&&o.set(B,w+5),m.get(27-y)&&o.set(w-5,B)}else for(let y=0;y<10;y++){let B=w-5+y+Q.truncDivision(y,5);m.get(y)&&o.set(B,w-7),m.get(y+10)&&o.set(w+7,B),m.get(29-y)&&o.set(B,w+7),m.get(39-y)&&o.set(w-7,B)}}static generateCheckWords(o,c,f){let m=o.getSize()/f,w=new xa(Bn.getGF(f)),y=Q.truncDivision(c,f),B=Bn.bitsToWords(o,f,y);w.encode(B,y-m);let I=c%f,U=new ne;U.appendBits(0,I);for(const P of Array.from(B))U.appendBits(P,f);return U}static bitsToWords(o,c,f){let m=new Int32Array(f),w,y;for(w=0,y=o.getSize()/c;w<y;w++){let B=0;for(let I=0;I<c;I++)B|=o.get(w*c+I)?1<<c-I-1:0;m[w]=B}return m}static getGF(o){switch(o){case 4:return St.AZTEC_PARAM;case 6:return St.AZTEC_DATA_6;case 8:return St.AZTEC_DATA_8;case 10:return St.AZTEC_DATA_10;case 12:return St.AZTEC_DATA_12;default:throw new C("Unsupported word size "+o)}}static stuffBits(o,c){let f=new ne,m=o.getSize(),w=(1<<c)-2;for(let y=0;y<m;y+=c){let B=0;for(let I=0;I<c;I++)(y+I>=m||o.get(y+I))&&(B|=1<<c-1-I);(B&w)===w?(f.appendBits(B&w,c),y--):(B&w)===0?(f.appendBits(B|1,c),y--):f.appendBits(B,c)}return f}static totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Bn.DEFAULT_EC_PERCENT=33,Bn.DEFAULT_AZTEC_LAYERS=0,Bn.MAX_NB_BITS=32,Bn.MAX_NB_BITS_COMPACT=4,Bn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class bl{encode(o,c,f,m){return this.encodeWithHints(o,c,f,m,null)}encodeWithHints(o,c,f,m,w){let y=L.ISO_8859_1,B=Bn.DEFAULT_EC_PERCENT,I=Bn.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(Er.CHARACTER_SET)&&(y=T.forName(w.get(Er.CHARACTER_SET).toString())),w.has(Er.ERROR_CORRECTION)&&(B=Q.parseInt(w.get(Er.ERROR_CORRECTION).toString())),w.has(Er.AZTEC_LAYERS)&&(I=Q.parseInt(w.get(Er.AZTEC_LAYERS).toString()))),bl.encodeLayers(o,c,f,m,y,B,I)}static encodeLayers(o,c,f,m,w,y,B){if(c!==xe.AZTEC)throw new C("Can only encode AZTEC, but got "+c);let I=Bn.encode(W.getBytes(o,w),y,B);return bl.renderResult(I,f,m)}static renderResult(o,c,f){let m=o.getMatrix();if(m==null)throw new Lt;let w=m.getWidth(),y=m.getHeight(),B=Math.max(c,w),I=Math.max(f,y),U=Math.min(B/w,I/y),P=(B-w*U)/2,Y=(I-y*U)/2,re=new Me(B,I);for(let ye=0,be=Y;ye<y;ye++,be+=U)for(let Ie=0,Le=P;Ie<w;Ie++,Le+=U)m.get(Ie,ye)&&re.setRegion(Le,be,U,U);return re}}n.AbstractExpandedDecoder=fe,n.ArgumentException=x,n.ArithmeticException=pe,n.AztecCode=G,n.AztecCodeReader=we,n.AztecCodeWriter=bl,n.AztecDecoder=gt,n.AztecDetector=tt,n.AztecDetectorResult=dr,n.AztecEncoder=Bn,n.AztecHighLevelEncoder=ko,n.AztecPoint=fn,n.BarcodeFormat=xe,n.Binarizer=D,n.BinaryBitmap=_,n.BitArray=ne,n.BitMatrix=Me,n.BitSource=Yi,n.BrowserAztecCodeReader=Ge,n.BrowserBarcodeReader=Pa,n.BrowserCodeReader=ge,n.BrowserDatamatrixCodeReader=pA,n.BrowserMultiFormatReader=El,n.BrowserPDF417Reader=Ec,n.BrowserQRCodeReader=Bl,n.BrowserQRCodeSvgWriter=Os,n.CharacterSetECI=O,n.ChecksumException=N,n.Code128Reader=De,n.Code39Reader=mt,n.DataMatrixDecodedBitStreamParser=Js,n.DataMatrixReader=Is,n.DecodeHintType=ee,n.DecoderResult=_e,n.DefaultGridSampler=$t,n.DetectorResult=Pn,n.EAN13Reader=vi,n.EncodeHintType=Er,n.Exception=d,n.FormatException=M,n.GenericGF=St,n.GenericGFPoly=yt,n.GlobalHistogramBinarizer=ve,n.GridSampler=Nt,n.GridSamplerInstance=un,n.HTMLCanvasElementLuminanceSource=Ze,n.HybridBinarizer=oe,n.ITFReader=bt,n.IllegalArgumentException=C,n.IllegalStateException=Lt,n.InvertedLuminanceSource=Be,n.LuminanceSource=je,n.MathUtils=Bt,n.MultiFormatOneDReader=Sr,n.MultiFormatReader=co,n.MultiFormatWriter=_c,n.NotFoundException=Ee,n.OneDReader=st,n.PDF417DecodedBitStreamParser=Je,n.PDF417DecoderErrorCorrection=Zi,n.PDF417Reader=zr,n.PDF417ResultMetadata=Ha,n.PerspectiveTransform=It,n.PlanarYUVLuminanceSource=ps,n.QRCodeByteMatrix=Do,n.QRCodeDataMask=Kr,n.QRCodeDecodedBitStreamParser=Jn,n.QRCodeDecoderErrorCorrectionLevel=Yt,n.QRCodeDecoderFormatInformation=xr,n.QRCodeEncoder=Xn,n.QRCodeEncoderQRCode=Ri,n.QRCodeMaskUtil=lr,n.QRCodeMatrixUtil=jt,n.QRCodeMode=Vt,n.QRCodeReader=Zs,n.QRCodeVersion=_t,n.QRCodeWriter=Lr,n.RGBLuminanceSource=wa,n.RSS14Reader=Gt,n.RSSExpandedReader=it,n.ReaderException=Fo,n.ReedSolomonDecoder=Fe,n.ReedSolomonEncoder=xa,n.ReedSolomonException=kt,n.Result=le,n.ResultMetadataType=Ne,n.ResultPoint=At,n.StringUtils=W,n.UnsupportedOperationException=z,n.VideoInputDevice=me,n.WhiteRectangleDetector=at,n.WriterException=On,n.ZXingArrays=K,n.ZXingCharset=T,n.ZXingInteger=Q,n.ZXingStandardCharsets=L,n.ZXingStringBuilder=X,n.ZXingStringEncoding=J,n.ZXingSystem=R,n.createAbstractExpandedDecoder=wt,Object.defineProperty(n,"__esModule",{value:!0})}))})(K0,K0.exports)),K0.exports}var Fr=Lj();const Qj=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var K_=(function(){function t(e,n,r){if(this.formatMap=new Map([[Mt.QR_CODE,Fr.BarcodeFormat.QR_CODE],[Mt.AZTEC,Fr.BarcodeFormat.AZTEC],[Mt.CODABAR,Fr.BarcodeFormat.CODABAR],[Mt.CODE_39,Fr.BarcodeFormat.CODE_39],[Mt.CODE_93,Fr.BarcodeFormat.CODE_93],[Mt.CODE_128,Fr.BarcodeFormat.CODE_128],[Mt.DATA_MATRIX,Fr.BarcodeFormat.DATA_MATRIX],[Mt.MAXICODE,Fr.BarcodeFormat.MAXICODE],[Mt.ITF,Fr.BarcodeFormat.ITF],[Mt.EAN_13,Fr.BarcodeFormat.EAN_13],[Mt.EAN_8,Fr.BarcodeFormat.EAN_8],[Mt.PDF_417,Fr.BarcodeFormat.PDF_417],[Mt.RSS_14,Fr.BarcodeFormat.RSS_14],[Mt.RSS_EXPANDED,Fr.BarcodeFormat.RSS_EXPANDED],[Mt.UPC_A,Fr.BarcodeFormat.UPC_A],[Mt.UPC_E,Fr.BarcodeFormat.UPC_E],[Mt.UPC_EAN_EXTENSION,Fr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Qj)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(Fr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Fr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var n=new Fr.MultiFormatReader(this.verbose,this.hints),r=new Fr.HTMLCanvasElementLuminanceSource(e),i=new Fr.BinaryBitmap(new Fr.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:E3.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),Pj=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,e||[])).next())})},Hj=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},z_=(function(){function t(e,n,r){if(this.formatMap=new Map([[Mt.QR_CODE,"qr_code"],[Mt.AZTEC,"aztec"],[Mt.CODABAR,"codabar"],[Mt.CODE_39,"code_39"],[Mt.CODE_93,"code_93"],[Mt.CODE_128,"code_128"],[Mt.DATA_MATRIX,"data_matrix"],[Mt.ITF,"itf"],[Mt.EAN_13,"ean_13"],[Mt.EAN_8,"ean_8"],[Mt.PDF_417,"pdf417"],[Mt.UPC_A,"upc_a"],[Mt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return Pj(this,void 0,void 0,function(){var n,r;return Hj(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:E3.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,s=e;i<s.length;i++){var A=s[i],u=A.boundingBox.width*A.boundingBox.height;u>r&&(r=u,n=A)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),W_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,e||[])).next())})},X_=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Vj=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&z_.isSupported()?(this.primaryDecoder=new z_(e,r,i),this.secondaryDecoder=new K_(e,r,i)):this.primaryDecoder=new K_(e,r,i)}return t.prototype.decodeAsync=function(e){return W_(this,void 0,void 0,function(){var n;return X_(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return W_(this,void 0,void 0,function(){var n,r;return X_(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),Iw=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),U1=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,e||[])).next())})},k1=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},_3=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),jj=(function(t){Iw(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(_3),Gj=(function(t){Iw(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(jj),Kj=(function(t){Iw(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(_3),zj=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Gj(this.track)},t.prototype.torchFeature=function(){return new Kj(this.track)},t})(),Wj=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return U1(this,void 0,void 0,function(){var s,A;return k1(this,function(u){switch(u.label){case 0:return s=new t(e,n,i),r.aspectRatio?(A={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return U1(this,void 0,void 0,function(){return k1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),s=i.length,A=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++A,A>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new zj(this.getFirstTrackOrFail())},t})(),Xj=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return U1(this,void 0,void 0,function(){return k1(this,function(i){return[2,Wj.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return U1(this,void 0,void 0,function(){var n,r;return k1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),q_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,e||[])).next())})},Y_=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},qj=(function(){function t(){}return t.failIfNotSupported=function(){return q_(this,void 0,void 0,function(){return Y_(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return q_(this,void 0,void 0,function(){return Y_(this,function(n){return[2,Xj.create(e)]})})},t})(),Yj=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(A){A(s)})}return new(n||(n=Promise))(function(s,A){function u(x){try{d(r.next(x))}catch(C){A(C)}}function h(x){try{d(r.throw(x))}catch(C){A(C)}}function d(x){x.done?s(x.value):i(x.value).then(u,h)}d((r=r.apply(t,e||[])).next())})},Jj=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,A;return A={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function u(d){return function(x){return h([d,x])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Zj=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=hu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=hu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Yj(this,void 0,void 0,function(){var e,n,r,i,s,A,u;return Jj(this,function(h){switch(h.label){case 0:return e=function(d){for(var x=d.getVideoTracks(),C=0,_=x;C<_.length;C++){var N=_[C];N.enabled=!1,N.stop(),d.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),i=[],s=0,A=r;s<A.length;s++)u=A[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(s){for(var A=[],u=0,h=s;u<h.length;u++){var d=h[u];d.kind==="video"&&A.push({id:d.id,label:d.label})}e(A)},i=MediaStreamTrack;i.getSources(r)})},t})(),Vr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Vr||(Vr={}));var $j=(function(){function t(){this.state=Vr.NOT_STARTED,this.onGoingTransactionNewState=Vr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Vr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Vr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Vr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Vr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Vr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Vr.UNKNOWN:throw"Transition from unknown is not allowed";case Vr.NOT_STARTED:this.failIfNewStateIs(e,[Vr.PAUSED]);break;case Vr.SCANNING:break;case Vr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),eG=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Vr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Vr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Vr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Vr.PAUSED},t})(),tG=(function(){function t(){}return t.create=function(){return new eG(new $j)},t})(),nG=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),la=(function(t){nG(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(Uj),rG=(function(){function t(e,n){this.logger=n,this.fps=la.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=la.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?B3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!tA(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),T3=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Mj(this.verbose),this.qrcode=new Vj(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=tG.create()}return t.prototype.start=function(e,n,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;i?A=i:A=this.verbose?this.logger.log:function(){};var u=rG.create(n,this.logger);this.clearElement();var h=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=h,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:la.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var C=this,_=this.stateManagerProxy.startTransition(Vr.SCANNING);return new Promise(function(N,D){var R=d?u.videoConstraints:C.createVideoConstraints(e);if(!R){_.cancel(),D("videoConstraints should be defined");return}var k={};(!d||u.aspectRatio)&&(k.aspectRatio=u.aspectRatio);var j={onRenderSurfaceReady:function(K,Q){C.setupUi(K,Q,u),C.isScanning=!0,C.foreverScan(u,r,A)}};qj.failIfNotSupported().then(function(K){K.create(R).then(function(Q){return Q.render(s.element,k,j).then(function(ne){C.renderedCamera=ne,_.execute(),N(null)}).catch(function(ne){_.cancel(),D(ne)})}).catch(function(Q){_.cancel(),D(hu.errorGettingUserMedia(Q))})}).catch(function(K){_.cancel(),D(hu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Vr.PAUSED),this.showPausedState(),(tA(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Vr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Vr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(la.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tA(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var A=new Image;A.onload=function(){var u=A.width,h=A.height,d=document.getElementById(r.elementId),x=d.clientWidth?d.clientWidth:la.DEFAULT_WIDTH,C=Math.max(d.clientHeight?d.clientHeight:h,la.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(u,h,x,C);if(n){var N=r.createCanvasElement(x,C,"qr-canvas-visible");N.style.display="inline-block",d.appendChild(N);var D=N.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=x,D.canvas.height=C,D.drawImage(A,0,0,u,h,_.x,_.y,_.width,_.height)}var R=la.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(A.width,_.width),j=Math.max(A.height,_.height),K=k+2*R,Q=j+2*R,ne=r.createCanvasElement(K,Q);d.appendChild(ne);var ae=ne.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=K,ae.canvas.height=Q,ae.drawImage(A,0,0,u,h,R,R,k,j);try{r.qrcode.decodeRobustlyAsync(ne).then(function(ee){i(j_.createFromQrcodeResult(ee))}).catch(s)}catch(ee){s("QR code parse error, error = ".concat(ee))}},A.onerror=s,A.onabort=s,A.onstalled=s,A.onsuspend=s,A.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Zj.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!B3.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Mt.QR_CODE,Mt.AZTEC,Mt.CODABAR,Mt.CODE_39,Mt.CODE_93,Mt.CODE_128,Mt.DATA_MATRIX,Mt.MAXICODE,Mt.ITF,Mt.EAN_13,Mt.EAN_8,Mt.PDF_417,Mt.RSS_14,Mt.RSS_EXPANDED,Mt.UPC_A,Mt.UPC_E,Mt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var A=s[i];Dj(A)?r.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(tA(e))return!0;if(!tA(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(tA(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return tA(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var A=this.toQrdimensions(e,n,s),u=function(d){if(d<la.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(la.MIN_QR_BOX_SIZE,"px.")},h=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};u(A.width),u(A.height),A.width=h(A.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=tA(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=r.isShadedBoxEnabled()&&s.height<=n,u={x:0,y:0,width:e,height:n},h=A?this.getShadedRegionBounds(e,n,s):u,d=this.createCanvasElement(h.width,h.height),x={willReadFrequently:!0},C=d.getContext("2d",x);C.canvas.width=h.width,C.canvas.height=h.height,this.element.append(d),A&&this.possiblyInsertShadingElement(this.element,e,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=C,this.canvasElement=d},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=hu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,j_.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=hu.codeParseError(i);return n(s,kj.createFrom(s)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),A=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*A,d=this.qrRegion.height*u,x=this.qrRegion.x*A,C=this.qrRegion.y*u;this.context.drawImage(s,x,C,h,d,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(N){!N&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){_()})):_()}).catch(function(N){i.logger.logError("Error happend while scanning context",N),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",A=function(D){if(D in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var h=Object.keys(e)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var d=e.facingMode;if(typeof d=="string"){if(A(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(A(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof d;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(s in C)return{deviceId:{exact:C["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof C;throw"Invalid type of 'deviceId' = ".concat(_)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var s=(r-e)/2,A=(i-n)/2;return{x:s,y:A,width:e,height:n}}else{var u=e,h=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(h)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?la.BORDER_SHADER_MATCH_COLOR:la.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,s=n,A=document.createElement("canvas");return A.style.width="".concat(i,"px"),A.style.height="".concat(s,"px"),A.style.display="none",A.id=tA(r)?"qr-canvas":r,A},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var A=(n-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(la.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var h=5,d=40;this.insertShaderBorders(s,d,h,-h,null,0,!0),this.insertShaderBorders(s,d,h,-h,null,0,!1),this.insertShaderBorders(s,d,h,null,-h,0,!0),this.insertShaderBorders(s,d,h,null,-h,0,!1),this.insertShaderBorders(s,h,d+h,-h,null,-h,!0),this.insertShaderBorders(s,h,d+h,null,-h,-h,!0),this.insertShaderBorders(s,h,d+h,-h,null,-h,!1),this.insertShaderBorders(s,h,d+h,null,-h,-h,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,n,r,i,s,A,u){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=la.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),i!==null&&(h.style.top="".concat(i,"px")),s!==null&&(h.style.bottom="".concat(s,"px")),u?h.style.left="".concat(A,"px"):h.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),e.appendChild(h)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),J_;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(J_||(J_={}));const iG=({currentUser:t,products:e,onAddProduct:n,onUpdateProduct:r,onLogout:i,onNavigateToHome:s,onNavigateToCreateInvoice:A,onNavigateToCustomers:u,onNavigateToSettings:h,isSelectionMode:d=!1,onSelectProduct:x,onStartInvoiceWithProduct:C,selectedItems:_=[],settings:N,invoicePriceMode:D="retail",initialSearchTerm:R=""})=>{var fn;const[k,j]=Se.useState(R),[K,Q]=Se.useState(!1),[ne,ae]=Se.useState(!1),[ee,M]=Se.useState(!1),[H,O]=Se.useState(!1),[z,J]=Se.useState(!1),[W,X]=Se.useState([]),Me=Se.useRef(null),Ee=Se.useRef(null),[ve,oe]=Se.useState(null),[je,Be]=Se.useState([]),Ze=Se.useRef(null),me=Se.useRef(null),[Z,ge]=Se.useState(null),[le,ue]=Se.useState(null),[xe,Ye]=Se.useState(null),[Ne,_e]=Se.useState(1),[Oe,yt]=Se.useState(""),[pe,St]=Se.useState(null),kt=Se.useRef(null),Lt=Se.useRef(!1),Fe=Se.useRef(null),Ue=Se.useRef(null),gt=Se.useRef(null),Bt=Se.useRef(null);Se.useEffect(()=>{R&&j(R)},[R]);const dn=Se.useMemo(()=>t.role==="admin"||t.permissions.isManager||t.permissions.viewWholesalePrice,[t]),[At,Pn]=Se.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});Se.useEffect(()=>()=>{Ee.current&&Ee.current.getTracks().forEach(tt=>tt.stop())},[]),Se.useEffect(()=>{let tt=null,we=!0;if(K){const Ge=setTimeout(()=>{if(we)try{tt=new T3("reader"),gt.current=tt,tt.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},st=>{we&&(j(st),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{}),Q(!1))},()=>{}).catch(()=>{we&&Q(!1)})}catch{we&&Q(!1)}},300);return()=>{we=!1,clearTimeout(Ge),tt!=null&&tt.isScanning&&tt.stop().then(()=>tt==null?void 0:tt.clear()).catch(()=>{})}}},[K]),Se.useEffect(()=>(ve&&me.current&&(Ze.current&&Ze.current.destroy(),Ze.current=new Cropper(me.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{Ze.current&&Ze.current.destroy()}),[ve]);const dr=async()=>{J(!0);try{const tt=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});Ee.current=tt,Me.current&&(Me.current.srcObject=tt)}catch{J(!1)}},at=()=>{Ee.current&&Ee.current.getTracks().forEach(tt=>tt.stop()),J(!1)},Nt=()=>{var tt;if(Me.current){const we=document.createElement("canvas");we.width=Me.current.videoWidth,we.height=Me.current.videoHeight,(tt=we.getContext("2d"))==null||tt.drawImage(Me.current,0,0),X(Ge=>[...Ge,we.toDataURL("image/jpeg",.9)])}};Se.useEffect(()=>{le&&Bt.current&&setTimeout(()=>{try{JsBarcode(Bt.current,le.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[le]);const It=tt=>{var st;const we=(st=tt.target.files)==null?void 0:st[0];if(!we)return;O(!0);const Ge=new FileReader;Ge.onload=async De=>{var mt,bt;try{const mn=o2((mt=De.target)==null?void 0:mt.result,{type:"array"}),Xi=Rj.sheet_to_json(mn.Sheets[mn.SheetNames[0]],{defval:""});for(const br of Xi){const qi=(bt=br[" "]||br.||br.name)==null?void 0:bt.toString().trim(),Zt=parseFloat(br.||br.||br.price)||0;qi&&Zt>0&&n({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:qi,code:br.||`ID-${Math.floor(Math.random()*9e4)}`,price:Zt,wholesalePrice:parseFloat(br.)||0,purchasePrice:parseFloat(br.)||0,stock:parseInt(br.)||0,category:br.||""})}}catch{}finally{O(!1),tt.target.value=""}},Ge.readAsArrayBuffer(we)},$t=tt=>{const we=tt.target.files;if(we&&we.length>0){const Ge=[];Array.from(we).forEach(st=>{Ge.push(new Promise(De=>{const mt=new FileReader;mt.onloadend=()=>De(mt.result),mt.readAsDataURL(st)}))}),Promise.all(Ge).then(st=>{oe(st[0]),Be(st.slice(1))})}tt.target.value=""},un=Se.useMemo(()=>e.filter(tt=>tt.name.toLowerCase().includes(k.toLowerCase())||tt.code.toLowerCase().includes(k.toLowerCase())||tt.id===k),[k,e]);return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsx("input",{type:"file",ref:Fe,onChange:It,accept:".xlsx, .xls, .csv",className:"hidden"}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:d?" ":""}),d&&p.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${D==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),p.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:D==="wholesale"?" : ":" :  "})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[d&&p.jsxs("button",{onClick:A,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[p.jsx("span",{children:" "}),p.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:_.reduce((tt,we)=>tt+we.count,0)})]}),!d&&t.permissions.editProducts&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>{var tt;return(tt=Fe.current)==null?void 0:tt.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),p.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),p.jsx("path",{d:"M8 13h2"}),p.jsx("path",{d:"M8 17h2"}),p.jsx("path",{d:"M14 13h2"}),p.jsx("path",{d:"M14 17h2"})]})}),p.jsx("button",{onClick:()=>{Pn({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),ae(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:k,onChange:tt=>j(tt.target.value)}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})}),p.jsx("button",{onClick:()=>Q(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),p.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),p.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),p.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),p.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:un.length>0?un.map(tt=>{var Ge,st;const we=((Ge=_.find(De=>De.id===tt.id))==null?void 0:Ge.count)||0;return p.jsxs("div",{onClick:()=>{d&&x?x({id:tt.id,name:tt.name,price:D==="wholesale"?tt.wholesalePrice:tt.price},1):ue(tt)},onTouchStart:()=>{kt.current=setTimeout(()=>{Lt.current=!0,ge(tt),_e(1),yt((D==="wholesale"?tt.wholesalePrice:tt.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(kt.current),setTimeout(()=>Lt.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${we>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[we>0&&p.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",we]}),p.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[p.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(st=tt.images)!=null&&st[0]?p.jsx("img",{src:tt.images[0],className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:tt.name}),p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:tt.code}),p.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:tt.category})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),p.jsxs("div",{className:"text-lg font-black",children:[(D==="wholesale"?tt.wholesalePrice:tt.price).toFixed(2)," ."]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),p.jsxs("div",{className:`text-sm font-black ${tt.stock>0?"text-gray-200":"text-red-500"}`,children:[tt.stock," "]})]})]})]},tt.id)}):p.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),z&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsx("video",{ref:Me,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[p.jsx("button",{onClick:at,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:Nt,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),p.jsx("button",{onClick:()=>{W.length>0&&(oe(W[0]),Be(W.slice(1)),at())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),ve&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[p.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:p.jsx("img",{ref:me,src:ve,className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[p.jsx("button",{onClick:()=>{if(Ze.current){const tt=Ze.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);Pn(we=>({...we,images:[...we.images,tt]})),je.length>0?(oe(je[0]),Be(we=>we.slice(1))):oe(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),p.jsx("button",{onClick:()=>oe(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(ne||ee)&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>{ae(!1),M(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black",children:ne?" ":" "})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:At.images.map((tt,we)=>p.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:tt,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>Pn(Ge=>({...Ge,images:Ge.images.filter((st,De)=>De!==we)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})})]},we))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:dr,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsxs("div",{onClick:()=>{var tt;return(tt=Ue.current)==null?void 0:tt.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "}),p.jsx("input",{ref:Ue,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:$t})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:At.name,onChange:tt=>Pn({...At,name:tt.target.value})}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:At.price,onChange:tt=>Pn({...At,price:tt.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:At.wholesalePrice,onChange:tt=>Pn({...At,wholesalePrice:tt.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:At.purchasePrice,onChange:tt=>Pn({...At,purchasePrice:tt.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:At.code,onChange:tt=>Pn({...At,code:tt.target.value})}),p.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:At.stock,onChange:tt=>Pn({...At,stock:tt.target.value})})]}),p.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:At.category,onChange:tt=>Pn({...At,category:tt.target.value}),children:[p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""}),p.jsx("option",{value:"",children:""})]})]})]}),p.jsx("button",{onClick:()=>{if(ne){if(!At.name||!At.price)return;n({id:Date.now().toString(),name:At.name,code:At.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(At.price),wholesalePrice:parseFloat(At.wholesalePrice||"0"),purchasePrice:parseFloat(At.purchasePrice||"0"),stock:parseInt(At.stock||"0"),category:At.category,image:At.images[0],images:At.images}),ae(!1)}else xe&&(r({id:xe,name:At.name,code:At.code,price:parseFloat(At.price),wholesalePrice:parseFloat(At.wholesalePrice||"0"),purchasePrice:parseFloat(At.purchasePrice||"0"),stock:parseInt(At.stock||"0"),category:At.category,image:At.images[0],images:At.images}),M(!1),Ye(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:ne?"":""})]})}),le&&p.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[t.permissions.editProducts&&p.jsx("button",{onClick:()=>{Pn({name:le.name,code:le.code,price:le.price.toString(),wholesalePrice:le.wholesalePrice.toString(),purchasePrice:le.purchasePrice.toString(),stock:le.stock.toString(),category:le.category,images:le.images||[]}),Ye(le.id),ue(null),M(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),p.jsx("div",{onClick:()=>{var tt;return St(((tt=le.images)==null?void 0:tt[0])||le.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(fn=le.images)!=null&&fn[0]?p.jsx("img",{src:le.images[0],className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),p.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:le.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-[#57b385]",children:le.price.toFixed(2)})]}),dn&&p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-orange-400",children:le.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&p.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),p.jsx("div",{className:"text-sm font-black text-red-400",children:le.purchasePrice.toFixed(2)})]})]}),p.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 font-bold text-sm",children:le.code}),p.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:`text-sm font-black ${le.stock>0?"text-white":"text-red-500"}`,children:[le.stock," "]}),p.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),p.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:p.jsx("svg",{ref:Bt,className:"w-full h-auto max-h-20"})})]}),p.jsx("button",{onClick:()=>ue(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),Z&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:d?" ":"  "}),p.jsx("p",{className:"text-xl font-black text-white",children:Z.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:Oe,onChange:tt=>yt(tt.target.value)}),p.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[p.jsx("button",{onClick:()=>_e(tt=>tt+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:Ne,onChange:tt=>_e(parseInt(tt.target.value)||1)}),p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),p.jsx("button",{onClick:()=>_e(tt=>Math.max(1,tt-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),p.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[p.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),p.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(Oe)||0)*Ne).toFixed(2)," ."]})]})]}),p.jsxs("div",{className:"flex gap-4 pt-2",children:[p.jsx("button",{onClick:()=>{d&&x?x({id:Z.id,name:Z.name,price:parseFloat(Oe)||0},Ne):C&&C({id:Z.id,name:Z.name,price:parseFloat(Oe)||0},Ne),ge(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:d?"":" "}),p.jsx("button",{onClick:()=>ge(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),K&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[p.jsx("button",{onClick:()=>Q(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-lg font-bold",children:" "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[p.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:p.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),p.jsx("button",{onClick:()=>Q(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),pe&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>St(null),children:[p.jsx("img",{src:pe,className:"max-w-full max-h-full object-contain shadow-2xl"}),p.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[p.jsx(Qh,{onClick:s,icon:p.jsx(sG,{}),label:""}),p.jsx(Qh,{icon:p.jsx(aG,{}),label:"",active:!d}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:A,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${t.permissions.createInvoices?d?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:p.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d?p.jsx("path",{d:"M20 6L9 17l-5-5"}):p.jsxs(p.Fragment,{children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),p.jsx(Qh,{onClick:u,icon:p.jsx(oG,{}),label:""}),p.jsx(Qh,{onClick:h,icon:p.jsx(AG,{}),label:""})]})]})},Qh=({icon:t,label:e,active:n=!1,onClick:r})=>p.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-all ${n?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:n?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),sG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),aG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),oG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),AG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),lG=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:n,items:r,setInvoiceItems:i,products:s,onUpdateQuantity:A,onClearInvoice:u,onAddManualItem:h,onSaveInvoice:d,initialInvoice:x,settings:C,onUpdateItem:_,customerName:N,setCustomerName:D,customerPhone:R,setCustomerPhone:k,priceMode:j,setPriceMode:K})=>{const[Q,ne]=Se.useState(new Date().toISOString().split("T")[0]),[ae,ee]=Se.useState(!1),[M,H]=Se.useState(""),[O,z]=Se.useState(""),[J,W]=Se.useState(""),[X,Me]=Se.useState(0),[Ee,ve]=Se.useState(null),[oe,je]=Se.useState({name:"",price:"",count:1}),[Be,Ze]=Se.useState(!1),[me,Z]=Se.useState("direct"),[ge,le]=Se.useState(""),[ue,xe]=Se.useState(!1);Se.useEffect(()=>{x?(ne(x.date),H(x.id),Ze(x.type==="paid"),Z(x.method),xe(x.type==="partial"),le(x.paidAmount>0?x.paidAmount.toString():""),x.priceMode&&K(x.priceMode)):H(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[x,K]);const Ye=Fe=>{Fe!==j&&(K(Fe),i(Ue=>Ue.map(gt=>{if(gt.isManual)return gt;const Bt=s.find(At=>At.id===gt.id);if(!Bt)return gt;const dn=Fe==="wholesale"?Bt.wholesalePrice:Bt.price;return{...gt,price:dn,total:dn*gt.count}})),navigator.vibrate&&navigator.vibrate(40))},Ne=Se.useMemo(()=>r.reduce((Fe,Ue)=>Fe+Ue.total,0),[r]),_e=Se.useMemo(()=>ue?parseFloat(ge)||0:Be?Ne:0,[Be,ue,ge,Ne]),Oe=Se.useMemo(()=>Math.max(0,Ne-_e),[Ne,_e]),yt=Fe=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Fe),pe=()=>{O&&J&&(h(O,parseFloat(J),X),z(""),W(""),Me(0),ee(!1))},St=Fe=>{ve(Fe),je({name:Fe.productName,price:Fe.price.toString(),count:Fe.count})},kt=()=>{Ee&&oe.name&&oe.price&&(_(Ee.id,{productName:oe.name,price:parseFloat(oe.price),count:oe.count}),ve(null))},Lt=(Fe=!1)=>{const Ue=_e,gt=Oe;let Bt="unpaid";gt<=0?Bt="paid":Ue>0&&(Bt="partial");const dn={id:M,creatorName:x&&x.creatorName||t.name,name:N||" ",phone:R,amount:Ne,paidAmount:Ue,remainingAmount:gt,date:Q,type:Bt,method:me,createdAt:x?x.createdAt:Date.now(),items:[...r],payments:x?x.payments:Ue>0?[{id:`init-${Date.now()}`,amount:Ue,timestamp:Date.now(),method:me}]:[],priceMode:j};Fe&&Q4(dn,C),d(dn)};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h1",{className:"text-xl font-bold",children:x?" ":" "}),p.jsx("button",{onClick:u,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[p.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[p.jsxs("button",{onClick:()=>Ye("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),p.jsxs("button",{onClick:()=>Ye("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${j==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),p.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:N,onChange:Fe=>D(Fe.target.value)}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:R,onChange:Fe=>k(Fe.target.value)}),p.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:Q,onChange:Fe=>ne(Fe.target.value)})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:n,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${j==="wholesale"?"border-orange-500/20":""}`,children:[p.jsx("div",{className:`w-10 h-10 ${j==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),p.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),p.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),p.jsxs("button",{onClick:()=>ee(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),r.length>0&&p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[p.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>{Ze(!0),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Be&&!ue?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),p.jsx("button",{onClick:()=>xe(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ue?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),p.jsx("button",{onClick:()=>{Ze(!1),xe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!Be&&!ue?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),ue&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:ge,onChange:Fe=>le(Fe.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>Z("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${me==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),p.jsx("button",{onClick:()=>Z("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${me==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),p.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[p.jsx("div",{className:"flex items-center gap-2 px-1",children:p.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",r.length,")"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:r.length>0?p.jsx("div",{className:"space-y-3",children:r.map(Fe=>p.jsxs("div",{onClick:()=>St(Fe),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Fe.id,-Fe.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),p.jsxs("div",{className:"text-right flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Fe.isManual&&p.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),p.jsx("h3",{className:"font-bold text-white text-base",children:Fe.productName})]}),p.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[yt(Fe.price)," "]})]})]}),p.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Fe.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:Fe.count}),p.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),A(Fe.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),p.jsxs("span",{className:"text-[#57b385] font-black",children:[yt(Fe.total)," ."]})]})]})]},Fe.id))}):p.jsxs("div",{onClick:n,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),p.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),p.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),p.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),p.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[yt(Ne)," ",p.jsx("span",{className:"text-sm",children:"."})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),p.jsxs("h3",{className:`text-xl font-black ${Oe>0?"text-red-500":"text-gray-500"}`,children:[yt(Oe)," ."]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:()=>Lt(!0),disabled:r.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${r.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),p.jsxs("button",{onClick:()=>Lt(!1),disabled:r.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${r.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),p.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),p.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),ae&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),p.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),p.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),p.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:O,onChange:Fe=>z(Fe.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:J,onChange:Fe=>W(Fe.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),p.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("button",{onClick:()=>Me(Fe=>Fe+1),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:X,onChange:Fe=>Me(Math.max(0,parseInt(Fe.target.value)||0))}),p.jsx("button",{onClick:()=>Me(Fe=>Math.max(0,Fe-1)),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:pe,disabled:!O||!J,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!O||!J?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),p.jsx("button",{onClick:()=>ee(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Ee&&p.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),p.jsx("h3",{className:"text-xl font-black text-white",children:" "}),p.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:oe.name,onChange:Fe=>je({...oe,name:Fe.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:oe.price,onChange:Fe=>je({...oe,price:Fe.target.value})})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),p.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[p.jsx("button",{onClick:()=>je(Fe=>({...Fe,count:Math.max(1,Fe.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),p.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:oe.count,onChange:Fe=>je(Ue=>({...Ue,count:Math.max(1,parseInt(Fe.target.value)||1)}))}),p.jsx("button",{onClick:()=>je(Fe=>({...Fe,count:Math.max(1,Fe.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:kt,disabled:!oe.name||!oe.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!oe.name||!oe.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),p.jsx("button",{onClick:()=>ve(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},cG=({currentUser:t,onNavigateToHome:e,settings:n,onUpdateSettings:r,onTriggerManualBackup:i,invoices:s,onEditInvoice:A,onNavigateToProducts:u,onNavigateToCustomers:h,onNavigateToCreateInvoice:d,onLogout:x})=>{var ve,oe,je,Be,Ze,me,Z,ge,le,ue,xe,Ye,Ne;const[C,_]=Se.useState(!1),[N,D]=Se.useState(!1),[R,k]=Se.useState(null),[j,K]=Se.useState(null),[Q,ne]=Se.useState(null),[ae,ee]=Se.useState({name:"",phone:"",password:""}),M=Se.useRef(null);Se.useEffect(()=>{let _e=null;if(C){const Oe=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{M.current&&M.current.clear(),_e=new T3("invoice-reader"),M.current=_e,_e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},yt=>{const pe=s.find(St=>St.id===yt);pe&&(new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{}),_(!1),K(pe))},yt=>{}).catch(yt=>{console.error("Scanner Error",yt),alert("  .      ."),_(!1)})}catch(yt){console.error("Scanner Init Error",yt),_(!1)}},300);return()=>{clearTimeout(Oe),_e&&_e.isScanning&&_e.stop().then(()=>_e==null?void 0:_e.clear()).catch(console.error)}}},[C,s]);const H=_e=>{var yt;const Oe=(yt=_e.target.files)==null?void 0:yt[0];if(Oe){const pe=new FileReader;pe.onloadend=()=>{r(St=>({...St,businessLogo:pe.result}))},pe.readAsDataURL(Oe)}},O=(_e,Oe)=>{r(yt=>({...yt,[_e]:Oe}))},z=()=>{_(!0)},J=()=>{_(!1)},W=()=>{if(!ae.name||!ae.phone||!ae.password)return;const _e={id:Date.now().toString(),name:ae.name,phone:ae.phone,password:ae.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};r(Oe=>({...Oe,staffList:[_e,...Oe.staffList]})),ee({name:"",phone:"",password:""}),D(!1)},X=(_e,Oe)=>{r(yt=>({...yt,staffList:yt.staffList.map(pe=>pe.id===_e?Oe==="isManager"?pe.permissions.isManager?{...pe,permissions:{...pe.permissions,isManager:!1}}:{...pe,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...pe,permissions:{...pe.permissions,[Oe]:!pe.permissions[Oe]}}:pe)}))},Me=()=>{Q&&(r(_e=>({..._e,staffList:_e.staffList.filter(Oe=>Oe.id!==Q)})),ne(null),k(null))},Ee=t.role==="admin"||t.permissions.isManager;return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h1",{className:"text-xl font-bold",children:""}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[Ee&&p.jsxs(p.Fragment,{children:[p.jsx(Ph,{title:"  ",icon:p.jsx(uG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),p.jsx("div",{className:"space-y-3",children:(n.staffList||[]).map(_e=>p.jsxs("div",{onClick:()=>k(_e),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${_e.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:_e.name.charAt(0)}),p.jsxs("div",{className:"text-right",children:[p.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[_e.name,_e.permissions.isManager&&p.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),p.jsx("span",{className:"text-[9px] text-gray-500",children:_e.phone})]})]}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:p.jsx("path",{d:"m9 18 6-6-6-6"})})]},_e.id))}),p.jsxs("button",{onClick:()=>D(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),p.jsx(Ph,{title:"  ()",icon:p.jsx(fG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsx(jA,{label:"  ",value:n.loginPhone,onChange:_e=>O("loginPhone",_e)}),p.jsx(jA,{label:"  ",value:n.loginPassword,onChange:_e=>O("loginPassword",_e)})]})})]}),p.jsx(Ph,{title:" ",icon:p.jsx(dG,{}),children:p.jsxs("button",{onClick:z,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[p.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),p.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),p.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),p.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),p.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]})}),Ee&&p.jsx(Ph,{title:" ",icon:p.jsx(hG,{}),children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:n.businessLogo?p.jsx("img",{src:n.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),p.jsx("circle",{cx:"9",cy:"9",r:"2"}),p.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),p.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[p.jsx(jA,{label:"  ",value:n.userName,onChange:_e=>O("userName",_e)}),p.jsx(jA,{label:" ",value:n.businessName,onChange:_e=>O("businessName",_e)}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(jA,{label:"   ()",value:n.specialOrderLabel||" ",onChange:_e=>O("specialOrderLabel",_e)})})]})]})}),p.jsx("div",{className:"pt-4 md:col-span-2",children:p.jsxs("button",{onClick:x,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),p.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:p.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.1.0"})})]}),N&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("button",{onClick:()=>D(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black",children:" "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(jA,{label:" ",value:ae.name,onChange:_e=>ee({...ae,name:_e})}),p.jsx(jA,{label:" ",value:ae.phone,onChange:_e=>ee({...ae,phone:_e})}),p.jsx(jA,{label:" ",value:ae.password,onChange:_e=>ee({...ae,password:_e})})]}),p.jsx("button",{onClick:W,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),R&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("button",{onClick:()=>k(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",R.name]})]}),p.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[p.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:p.jsx(oa,{label:"  (Full Admin)",description:"     ",enabled:((ve=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:ve.permissions.isManager)||!1,onToggle:()=>X(R.id,"isManager")})}),p.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),p.jsx(oa,{label:"  ",description:"      ",enabled:((oe=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:oe.permissions.viewAllWork)||!1,onToggle:()=>X(R.id,"viewAllWork")}),p.jsx(oa,{label:"  ()",description:"      ",enabled:((je=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:je.permissions.manageDebt)||!1,onToggle:()=>X(R.id,"manageDebt")}),p.jsx(oa,{label:"  ",description:"      ",enabled:((Be=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Be.permissions.editProducts)||!1,onToggle:()=>X(R.id,"editProducts")}),p.jsx(oa,{label:" ",description:"    ",enabled:((Ze=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Ze.permissions.createInvoices)||!1,onToggle:()=>X(R.id,"createInvoices")}),p.jsx(oa,{label:" ",description:"    ",enabled:((me=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:me.permissions.viewNotifications)||!1,onToggle:()=>X(R.id,"viewNotifications")}),p.jsx(oa,{label:"  ",description:"      ()",enabled:((Z=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Z.permissions.viewAdminInvoices)||!1,onToggle:()=>X(R.id,"viewAdminInvoices")}),p.jsx(oa,{label:"  ",description:"     ",enabled:((ge=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:ge.permissions.viewPurchasePrice)||!1,onToggle:()=>X(R.id,"viewPurchasePrice")}),p.jsx(oa,{label:"  ",description:"      ",enabled:((le=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:le.permissions.viewWholesalePrice)||!1,onToggle:()=>X(R.id,"viewWholesalePrice")}),p.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),p.jsx(oa,{label:"  ",description:"   (Supplier Invoices)",enabled:((ue=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:ue.permissions.manageSuppliers)||!1,onToggle:()=>X(R.id,"manageSuppliers")}),p.jsx(oa,{label:"  (Demand)",description:"   (Client Requests)",enabled:((xe=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:xe.permissions.manageRequests)||!1,onToggle:()=>X(R.id,"manageRequests")}),p.jsx(oa,{label:"  ",description:"    ",enabled:((Ye=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Ye.permissions.manageCheckbook)||!1,onToggle:()=>X(R.id,"manageCheckbook")}),p.jsx(oa,{label:"  ",description:"    (Special Orders)",enabled:((Ne=(n.staffList||[]).find(_e=>_e.id===R.id))==null?void 0:Ne.permissions.manageSpecialOrders)||!1,onToggle:()=>X(R.id,"manageSpecialOrders")})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("button",{onClick:()=>k(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ne(R.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),p.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "}),p.jsx("p",{className:"text-[10px] text-orange-500 font-bold mt-2",children:":              ."})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ne(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),C&&p.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[p.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[p.jsx("button",{onClick:J,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-lg font-bold",children:" "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[p.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:p.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),p.jsx("button",{onClick:J,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),j&&p.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),p.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[j.name," - ",j.date]}),p.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:j.id})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>{K(null),A(j)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>K(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Hh,{onClick:e,icon:p.jsx(gG,{}),label:""}),p.jsx(Hh,{onClick:u,icon:p.jsx(pG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{onClick:d,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Hh,{onClick:h,icon:p.jsx(mG,{}),label:""}),p.jsx(Hh,{onClick:()=>{},icon:p.jsx(xG,{}),label:"",active:!0})]})]})},Ph=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),p.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),n]}),jA=({label:t,value:e,onChange:n,type:r="text"})=>p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),p.jsx("input",{type:r,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:i=>n(i.target.value)})]}),oa=({label:t,description:e,enabled:n,onToggle:r})=>p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),p.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),p.jsx("button",{onClick:r,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${n?"bg-[#57b385]":"bg-gray-800"}`,children:p.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${n?"translate-x-0":"-translate-x-5"}`})})]}),Hh=({icon:t,label:e,active:n=!1,onClick:r})=>p.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-all ${n?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:n?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),uG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),fG=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),dG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),hG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),p.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),p.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),p.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),gG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),pG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),mG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),xG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),wG=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:n,onNavigateToSettings:r,onNavigateToCreateInvoice:i,invoices:s,generalPayments:A,onAddGeneralPayment:u,onDeleteGeneralPayment:h,onDeleteCustomer:d,onProcessPayment:x,onEditInvoice:C,settings:_})=>{const[N,D]=Se.useState(""),[R,k]=Se.useState(null),[j,K]=Se.useState(null),Q=Se.useRef(null),ne=Se.useRef(!1),[ae,ee]=Se.useState(null),[M,H]=Se.useState("full"),[O,z]=Se.useState(""),[J,W]=Se.useState("direct"),[X,Me]=Se.useState(""),[Ee,ve]=Se.useState("direct"),[oe,je]=Se.useState(null),[Be,Ze]=Se.useState(!1),me=Se.useRef(null),[Z,ge]=Se.useState(!1),le=Se.useRef(null),ue=Se.useMemo(()=>{const Fe=new Map;return s.forEach(Ue=>{const gt=Fe.get(Ue.name)||{name:Ue.name,phone:Ue.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:Ue.date,lastInvoiceTimestamp:Ue.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};gt.totalPurchased+=Ue.amount,gt.totalPaid+=Ue.paidAmount,gt.totalDebt+=Ue.remainingAmount,gt.invoiceCount+=1,gt.invoices.push(Ue),Ue.createdAt>=gt.lastInvoiceTimestamp&&(gt.lastInvoiceDate=Ue.date,gt.lastInvoiceTimestamp=Ue.createdAt,Ue.phone&&(gt.phone=Ue.phone)),Fe.set(Ue.name,gt)}),A.forEach(Ue=>{const gt=Fe.get(Ue.customerName);if(gt)gt.totalDebt-=Ue.amount,gt.totalPaid+=Ue.amount,gt.generalPayments||(gt.generalPayments=[]),gt.generalPayments.push(Ue);else{const Bt={name:Ue.customerName,totalPurchased:0,totalPaid:Ue.amount,totalDebt:-Ue.amount,lastInvoiceDate:Ue.date,lastInvoiceTimestamp:Ue.timestamp,invoiceCount:0,invoices:[],generalPayments:[Ue]};Fe.set(Ue.customerName,Bt)}}),Array.from(Fe.values()).filter(Ue=>Ue.name.includes(N)).sort((Ue,gt)=>gt.lastInvoiceTimestamp-Ue.lastInvoiceTimestamp)},[s,A,N]),xe=Se.useMemo(()=>R&&ue.find(Fe=>Fe.name===R)||null,[ue,R]);Se.useEffect(()=>{R&&window.scrollTo({top:0,behavior:"smooth"})},[R]);const Ye=Fe=>{ne.current=!1,Q.current=setTimeout(()=>{ne.current=!0,(t.role==="admin"||t.permissions.isManager)&&(K(Fe),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Ne=()=>{Q.current&&(clearTimeout(Q.current),Q.current=null)},_e=()=>{j&&d&&(d(j),K(null))},Oe=Fe=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Fe),yt=()=>{if(!ae)return;const Fe=M==="full"?ae.remainingAmount:parseFloat(O)||0;Fe>0&&(x(ae.id,Fe,J),ee(null),z(""),H("full"))},pe=()=>{const Fe=parseFloat(X);if(!Fe||Fe<=0||!xe)return;const Ue={id:`gen-pay-${Date.now()}`,customerName:xe.name,amount:Fe,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:Ee};u(Ue),Me(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},St=()=>{oe&&(h(oe),je(null))},kt=async()=>{if(!(!xe||!me.current)){Ze(!0);try{(await nc(me.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){Ze(!1),alert("  ");return}try{const gt=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([gt]);let Bt=xe.phone?xe.phone.replace(/\D/g,""):"";(Bt.startsWith("06")||Bt.startsWith("07")||Bt.startsWith("05"))&&(Bt="212"+Bt.substring(1));const dn=Bt?`https://wa.me/${Bt}`:"https://wa.me/";window.open(dn,"_blank")}catch(gt){console.error("Clipboard write failed:",gt),alert("   ."),window.open("https://wa.me/","_blank")}finally{Ze(!1)}},"image/png",1)}catch(Fe){console.error("Error creating debt image:",Fe),Ze(!1)}}},Lt=async()=>{if(!(!xe||!le.current)){ge(!0);try{(await nc(le.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ue=>{if(!Ue){ge(!1),alert("  ");return}try{const gt=new ClipboardItem({"image/png":Ue});await navigator.clipboard.write([gt]);let Bt=xe.phone?xe.phone.replace(/\D/g,""):"";(Bt.startsWith("06")||Bt.startsWith("07")||Bt.startsWith("05"))&&(Bt="212"+Bt.substring(1));const dn=Bt?`https://wa.me/${Bt}`:"https://wa.me/";window.open(dn,"_blank")}catch(gt){console.error("Clipboard write failed:",gt),alert("   ."),window.open("https://wa.me/","_blank")}finally{ge(!1)}},"image/png",1)}catch(Fe){console.error("Error creating summary image:",Fe),ge(!1)}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[xe&&p.jsxs("div",{ref:me,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:_.businessName}),p.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("div",{style:{marginBottom:"25px"},children:[p.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),p.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:xe.name}),xe.phone&&p.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:xe.phone})]}),p.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[p.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),p.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[Oe(xe.totalDebt)," ",p.jsx("span",{style:{fontSize:"18px"},children:"DH"})]})]}),p.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:p.jsxs("p",{children:["   - ",_.signatureName||"MAMA App"]})})]}),xe&&p.jsxs("div",{ref:le,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:_.businessName}),p.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",xe.name]}),p.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),p.jsx("tbody",{children:xe.invoices.sort((Fe,Ue)=>Fe.createdAt-Ue.createdAt).map((Fe,Ue)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:Fe.date}),p.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:Oe(Fe.amount)})]},Ue))})]}),p.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),p.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Oe(xe.totalPurchased)," ."]})]}),xe.generalPayments&&xe.generalPayments.length>0&&p.jsxs("div",{style:{marginTop:"20px"},children:[p.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[p.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),p.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),p.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),p.jsx("tbody",{children:xe.generalPayments.sort((Fe,Ue)=>Fe.timestamp-Ue.timestamp).map((Fe,Ue)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[p.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(Fe.date).toLocaleDateString("ar-MA")}),p.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:Fe.method==="direct"?"":""}),p.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:Oe(Fe.amount)})]},Ue))})]})]}),p.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[p.jsx("span",{style:{fontWeight:"bold"},children:" :"}),p.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[Oe(xe.totalPaid)," ."]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[p.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),p.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[Oe(xe.totalDebt)," DH"]})]})]}),p.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:p.jsx("p",{children:_.signatureName||"MAMA App"})})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:Fe=>D(Fe.target.value)}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:ue.length>0?ue.map(Fe=>{const Ue=Fe.totalPurchased>0?Math.max(0,Fe.totalDebt)/Fe.totalPurchased*100:0;return p.jsxs("div",{onMouseDown:()=>Ye(Fe.name),onMouseUp:Ne,onMouseLeave:Ne,onTouchStart:()=>Ye(Fe.name),onTouchEnd:Ne,onClick:()=>!ne.current&&k(Fe.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:p.jsx("span",{className:"text-xl font-black",children:Fe.name.charAt(0)})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:Fe.name}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",Fe.lastInvoiceDate]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsxs("div",{className:"text-sm font-black text-white",children:[Oe(Fe.totalPurchased)," ."]})]}),p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsxs("div",{className:`text-sm font-black ${Fe.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[Oe(Fe.totalDebt)," ."]})]})]}),Fe.totalPurchased>0&&p.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full transition-all duration-1000 ${Fe.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,Ue)}%`}})})]},Fe.name)}):p.jsx("div",{className:"text-center py-20 text-gray-600",children:p.jsx("p",{className:"font-bold",children:"    "})})}),xe&&p.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[p.jsx("button",{onClick:()=>{k(null),Me("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:"  "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:xe.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black",children:xe.name}),p.jsxs("div",{className:"flex flex-col items-center gap-2",children:[xe.phone&&p.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),p.jsx("a",{href:`tel:${xe.phone}`,children:xe.phone})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[xe.invoiceCount," "]}),p.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${xe.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[p.jsxs("span",{className:`text-[10px] font-bold px-2 ${xe.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",Oe(xe.totalDebt)," ."]}),xe.totalDebt>0&&p.jsx("button",{onClick:kt,disabled:Be,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${Be?"opacity-50 cursor-wait":""}`,children:Be?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),xe.totalDebt>0&&t.permissions.manageDebt&&p.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[p.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[p.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),p.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:X,onChange:Fe=>Me(Fe.target.value)}),p.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),p.jsx("button",{onClick:()=>ve(Fe=>Fe==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${Ee==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:Ee==="direct"?"":""})]}),parseFloat(X)>0&&p.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",p.jsxs("span",{className:"text-white font-bold",children:[Oe(Math.max(0,xe.totalDebt-parseFloat(X)))," ."]})]}),p.jsxs("button",{onClick:pe,disabled:!X||parseFloat(X)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${X?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),xe.generalPayments&&xe.generalPayments.length>0&&p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[p.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),p.jsx("div",{className:"space-y-3",children:xe.generalPayments.sort((Fe,Ue)=>Ue.timestamp-Fe.timestamp).map(Fe=>p.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"text-white font-black text-sm",children:[Oe(Fe.amount)," ."]}),p.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[p.jsx("span",{children:new Date(Fe.date).toLocaleDateString("ar-MA")}),p.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",Fe.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&p.jsx("button",{onClick:()=>je(Fe.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Fe.id))})]}),p.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[p.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),p.jsx("div",{className:"space-y-3",children:xe.invoices.sort((Fe,Ue)=>Ue.createdAt-Fe.createdAt).map(Fe=>p.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs font-black text-white",children:Fe.id}),p.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${Fe.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":Fe.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:Fe.type==="paid"?"":Fe.type==="partial"?" ":""})]}),p.jsx("span",{className:"text-[10px] text-gray-500",children:Fe.date})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[Fe.type!=="paid"&&t.permissions.manageDebt&&p.jsx("button",{onClick:()=>ee(Fe),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:p.jsx("span",{className:"text-[10px] font-bold",children:" "})}),p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>C(Fe),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-white",children:Oe(Fe.amount)})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:Oe(Fe.paidAmount)})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),p.jsx("span",{className:"text-[10px] font-black text-red-500",children:Oe(Fe.remainingAmount)})]})]}),Fe.payments&&Fe.payments.length>0&&p.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[p.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),Fe.payments.map((Ue,gt)=>p.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[p.jsx("span",{className:"text-gray-400",children:new Date(Ue.timestamp).toLocaleDateString("ar-MA")}),p.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",Oe(Ue.amount)," . (",Ue.method==="direct"?"":"",")"]})]},gt))]})]},Fe.id))})]})]}),p.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[p.jsx("button",{onClick:()=>{k(null),Me("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),p.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:p.jsx("button",{onClick:Lt,disabled:Z||xe.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${Z?"opacity-50 cursor-wait":""}`,children:Z?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),j&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),p.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["      ",p.jsx("span",{className:"text-white font-bold",children:j}),"    "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:_e,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),p.jsx("button",{onClick:()=>K(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),oe&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:St,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>je(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ae&&p.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"16 12 12 8 8 12"}),p.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),p.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",p.jsxs("span",{className:"text-red-500 font-black",children:[Oe(ae.remainingAmount)," ."]})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[p.jsx("button",{onClick:()=>H("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${M==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),p.jsx("button",{onClick:()=>H("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${M==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),M==="partial"&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),p.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:O,onChange:Fe=>z(Fe.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{onClick:()=>W("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${J==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),p.jsx("button",{onClick:()=>W("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${J==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:yt,disabled:M==="partial"&&(!O||parseFloat(O)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${M==="partial"&&(!O||parseFloat(O)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),p.jsx("button",{onClick:()=>ee(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[p.jsx(Vh,{onClick:e,icon:p.jsx(vG,{}),label:""}),p.jsx(Vh,{onClick:n,icon:p.jsx(yG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{disabled:!t.permissions.createInvoices,onClick:i,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Vh,{icon:p.jsx(CG,{}),label:"",active:!0}),p.jsx(Vh,{onClick:r,icon:p.jsx(EG,{}),label:""})]})]})},Vh=({icon:t,label:e,active:n=!1,onClick:r})=>p.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 transition-all ${n?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[p.jsx("div",{className:n?"scale-110":"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),vG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),yG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),CG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),EG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),BG=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:n,onClearAll:r,onMarkAsRead:i})=>{const[s,A]=Se.useState("all"),u=Se.useMemo(()=>s==="all"?e:e.filter(C=>C.type===s),[e,s]),h=Se.useMemo(()=>({unread:e.filter(C=>!C.isRead).length,debt:e.filter(C=>C.type==="debt").length,stock:e.filter(C=>C.type==="stock").length,sale:e.filter(C=>C.type==="sale").length}),[e]),d=C=>{const _=Date.now()-C,N=Math.floor(_/6e4);if(N<1)return"";if(N<60)return` ${N} `;const D=Math.floor(N/60);return D<24?` ${D} `:new Date(C).toLocaleDateString("ar-MA")},x=C=>{switch(C){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[p.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h1",{className:"text-xl font-black",children:" "}),p.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",h.unread,"  "]})]}),p.jsx("button",{onClick:r,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),p.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[p.jsx(jh,{active:s==="all",label:"",count:e.length,onClick:()=>A("all"),color:"gray"}),p.jsx(jh,{active:s==="debt",label:"",count:h.debt,onClick:()=>A("debt"),color:"red"}),p.jsx(jh,{active:s==="stock",label:"",count:h.stock,onClick:()=>A("stock"),color:"orange"}),p.jsx(jh,{active:s==="sale",label:"",count:h.sale,onClick:()=>A("sale"),color:"green"})]}),p.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:p.jsxs("button",{onClick:n,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:u.length>0?u.map(C=>{const _=x(C.type);return p.jsxs("div",{onClick:()=>i(C.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${C.isRead?"bg-[#111111] border-gray-800/40":`${_.bg} ${_.border} shadow-lg shadow-black/20`}`,children:[!C.isRead&&p.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${_.dot} animate-pulse shadow-lg`}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${_.iconBg} ${_.iconColor} shadow-inner`,children:[C.type==="debt"&&p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),C.type==="stock"&&p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),C.type==="sale"&&p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),p.jsxs("div",{className:"flex-1 text-right space-y-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:d(C.timestamp)}),p.jsx("h4",{className:`text-base font-black ${C.isRead?"text-gray-200":"text-white"}`,children:C.title})]}),p.jsx("p",{className:`text-xs leading-relaxed ${C.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:C.message})]})]})]},C.id)}):p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),p.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[p.jsx(Gh,{onClick:t,icon:p.jsx(_G,{}),label:""}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(TG,{}),label:""}),p.jsx("div",{className:"relative -top-6",children:p.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(bG,{}),label:""}),p.jsx(Gh,{onClick:()=>{},icon:p.jsx(SG,{}),label:""})]})]})},jh=({active:t,label:e,count:n,onClick:r,color:i})=>{const s={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return p.jsxs("button",{onClick:r,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${s[i]}`,children:[e,p.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:n})]})},Gh=({icon:t,label:e,onClick:n})=>p.jsxs("button",{onClick:n,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[p.jsx("div",{className:"",children:t}),p.jsx("span",{className:"text-[10px] font-bold",children:e})]}),_G=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),TG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),p.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),p.jsx("path",{d:"M12 22V12"})]}),bG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),SG=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),IG=({currentUser:t,onNavigateToHome:e,onAddInvoice:n,onUpdateInvoice:r,onDeleteInvoice:i,onDeleteSupplier:s,invoices:A})=>{const[u,h]=Se.useState(!1),[d,x]=Se.useState(null),[C,_]=Se.useState(null),[N,D]=Se.useState(""),R=Se.useRef(null),k=Se.useRef(!1),[j,K]=Se.useState(null),[Q,ne]=Se.useState(!1),ae=Se.useRef(null),ee=Se.useRef(null),[M,H]=Se.useState(null),[O,z]=Se.useState([]),[J,W]=Se.useState(null),[X,Me]=Se.useState([]),[Ee,ve]=Se.useState(null),oe=Se.useRef(null),je=Se.useRef(null),Be=Se.useRef(null),[Ze,me]=Se.useState(null),[Z,ge]=Se.useState(""),[le,ue]=Se.useState(""),[xe,Ye]=Se.useState(""),[Ne,_e]=Se.useState(""),[Oe,yt]=Se.useState(new Date().toISOString().split("T")[0]),[pe,St]=Se.useState(new Date().toISOString().split("T")[0]),kt=Se.useMemo(()=>{const we=new Map;return A.forEach(Ge=>{const st=we.get(Ge.supplierName)||{name:Ge.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:Ge.date,invoiceCount:0,invoices:[]},De=Ge.amount-(Ge.paidAmount||0);st.totalAmount+=Ge.amount,st.totalPaid+=Ge.paidAmount||0,st.totalRemaining+=De,st.invoiceCount+=1,st.invoices.push(Ge),new Date(Ge.date)>new Date(st.lastInvoiceDate)&&(st.lastInvoiceDate=Ge.date),we.set(Ge.supplierName,st)}),Array.from(we.values()).filter(Ge=>Ge.name.includes(N)).sort((Ge,st)=>new Date(st.lastInvoiceDate).getTime()-new Date(Ge.lastInvoiceDate).getTime())},[A,N]),Lt=Se.useMemo(()=>C&&kt.find(we=>we.name===C)||null,[kt,C]),Fe=we=>{k.current=!1,R.current=setTimeout(()=>{k.current=!0,(t.role==="admin"||t.permissions.isManager)&&(K(we),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Ue=()=>{R.current&&(clearTimeout(R.current),R.current=null)},gt=()=>{j&&(s(j.name),K(null))};Se.useEffect(()=>()=>{ee.current&&ee.current.getTracks().forEach(we=>we.stop())},[]);const Bt=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}ne(!0);try{const we=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});ee.current=we,ae.current&&(ae.current.srcObject=we,ae.current.onloadedmetadata=()=>{var Ge;(Ge=ae.current)==null||Ge.play().catch(st=>console.error("Play error",st))})}catch(we){console.error("Camera access error:",we),ne(!1);let Ge="  .";(we.name==="NotAllowedError"||we.name==="PermissionDeniedError")&&(Ge="    ."),alert(Ge)}},dn=()=>{ee.current&&(ee.current.getTracks().forEach(we=>we.stop()),ee.current=null),ae.current&&(ae.current.srcObject=null),ne(!1)},At=()=>{if(ae.current){const we=document.createElement("canvas");we.width=ae.current.videoWidth,we.height=ae.current.videoHeight;const Ge=we.getContext("2d");if(Ge){Ge.drawImage(ae.current,0,0);const st=we.toDataURL("image/jpeg",.9);H(st),dn()}}};Se.useEffect(()=>{if(M&&je.current){oe.current&&oe.current.destroy();const we=new Cropper(je.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});oe.current=we}return()=>{oe.current&&(oe.current.destroy(),oe.current=null)}},[M]);const Pn=we=>{const Ge=we.target.files;if(Ge&&Ge.length>0){const st=[];Array.from(Ge).forEach(De=>{st.push(new Promise(mt=>{const bt=new FileReader;bt.onloadend=()=>mt(bt.result),bt.readAsDataURL(De)}))}),Promise.all(st).then(De=>{H(De[0]),Me(De.slice(1))})}we.target.value=""},dr=()=>{if(oe.current){const Ge=oe.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);z(st=>[...st,Ge]),X.length>0?(H(X[0]),Me(st=>st.slice(1))):H(null)}},at=()=>{X.length>0?(H(X[0]),Me(we=>we.slice(1))):H(null)},Nt=we=>{z(Ge=>Ge.filter((st,De)=>De!==we))},It=we=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(we),$t=()=>{ge(C||""),ue(""),Ye(""),_e(""),z([]),Me([]),St(new Date().toISOString().split("T")[0]),yt(new Date().toISOString().split("T")[0]),me(null)},un=we=>{me(we.id),ge(we.supplierName),ue(we.amount.toString()),Ye(we.paidAmount?we.paidAmount.toString():""),_e(""),yt(new Date().toISOString().split("T")[0]),St(we.date),we.images&&we.images.length>0?z(we.images):we.image?z([we.image]):z([]),h(!0)},fn=()=>{if(!Z||!le)return;const we=parseFloat(xe)||0,Ge=parseFloat(Ne)||0,st=we+Ge,De=A.find(mn=>mn.id===Ze);let mt=(De==null?void 0:De.payments)||[];!Ze&&st>0?mt=[{id:`pay-${Date.now()}`,amount:st,timestamp:new Date(pe).getTime(),method:"direct"}]:Ze&&Ge>0&&(mt=[...mt,{id:`pay-${Date.now()}`,amount:Ge,timestamp:new Date(Oe).getTime(),method:"direct"}]);const bt={id:Ze||`sup-${Date.now()}`,supplierName:Z,amount:parseFloat(le),paidAmount:st,date:pe,image:O.length>0?O[0]:void 0,images:O,createdAt:Ze&&(De==null?void 0:De.createdAt)||Date.now(),payments:mt};Ze?r(bt):n(bt),h(!1),$t()},tt=kt.reduce((we,Ge)=>we+Ge.totalRemaining,0);return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),p.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[p.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),p.jsxs("span",{className:"text-xl font-black text-red-500",children:[It(tt)," ."]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:N,onChange:we=>D(we.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:kt.length>0?kt.map(we=>p.jsxs("div",{onMouseDown:()=>Fe(we),onMouseUp:Ue,onMouseLeave:Ue,onTouchStart:()=>Fe(we),onTouchEnd:Ue,onClick:()=>!k.current&&_(we.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:p.jsx("span",{className:"text-xl font-black",children:we.name.charAt(0)})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:we.name}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",we.invoiceCount]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsx("div",{className:"text-sm font-black text-white",children:It(we.totalAmount)})]}),p.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[p.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),p.jsx("div",{className:`text-sm font-black ${we.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:It(we.totalRemaining)})]})]}),p.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,we.totalRemaining/Math.max(1,we.totalAmount)*100)}%`}})})]},we.name)):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),p.jsx("p",{children:"    "})]})}),j&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),p.jsxs("p",{className:"text-sm text-gray-400",children:["      ",p.jsx("span",{className:"text-white font-bold",children:j.name}),"   (",j.invoiceCount,") "]})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:gt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),p.jsx("button",{onClick:()=>K(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),p.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:p.jsxs("button",{onClick:()=>{$t(),h(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),Lt&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:p.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[p.jsx("button",{onClick:()=>_(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),p.jsx("h2",{className:"text-xl font-bold",children:"  "}),p.jsx("div",{className:"w-10"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:Lt.name.charAt(0)}),p.jsx("h3",{className:"text-2xl font-black",children:Lt.name}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",It(Lt.totalRemaining)," ."]}),p.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[Lt.invoiceCount," "]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),p.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:Lt.invoices.sort((we,Ge)=>new Date(Ge.date).getTime()-new Date(we.date).getTime()).map(we=>{const Ge=we.amount-(we.paidAmount||0);return p.jsxs("div",{onClick:()=>x(we),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("path",{d:"M14 2v6h6"})]})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-white font-bold text-sm",children:we.date}),p.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",It(we.paidAmount||0)]})]})]}),p.jsxs("div",{className:"text-left",children:[p.jsxs("div",{className:"text-white font-black text-sm",children:[It(we.amount)," ."]}),p.jsx("div",{className:`text-[10px] font-bold ${Ge>0?"text-red-500":"text-green-500"}`,children:Ge>0?`: ${It(Ge)}`:""})]})]},we.id)})})]})]}),p.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:p.jsx("button",{onClick:()=>_(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),d&&p.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[p.jsx("button",{onClick:()=>x(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),p.jsxs("div",{className:"text-center space-y-1",children:[p.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),p.jsx("path",{d:"M14 2v6h6"}),p.jsx("path",{d:"M16 13H8"}),p.jsx("path",{d:"M16 17H8"}),p.jsx("path",{d:"M10 9H8"})]})}),p.jsx("h3",{className:"text-2xl font-black text-white",children:d.supplierName}),p.jsx("p",{className:"text-sm text-gray-500 font-bold",children:d.date})]}),p.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),p.jsx("span",{className:"text-lg font-black text-white",children:It(d.amount)})]}),p.jsx("div",{className:"w-full h-px bg-gray-800"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),p.jsx("span",{className:"text-sm font-black text-[#57b385]",children:It(d.paidAmount||0)})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),p.jsx("span",{className:`text-sm font-black ${d.amount-(d.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:It(d.amount-(d.paidAmount||0))})]})]}),d.images&&d.images.length>0&&p.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.images.map((we,Ge)=>p.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>W(we),children:p.jsx("img",{src:we,alt:"Bon",className:"w-full h-full object-cover"})},Ge))}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>un(d),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),p.jsx("button",{onClick:()=>{i(d.id),x(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[p.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[p.jsx("video",{ref:ae,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:p.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),p.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[p.jsx("button",{onClick:dn,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:At,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),p.jsx("div",{className:"w-14"})]})]})}),u&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:Ze?" ":"  "}),p.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),O.length>0&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:O.map((we,Ge)=>p.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:we,alt:`Img ${Ge}`,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>Nt(Ge),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Ge))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:Bt,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsxs("div",{onClick:()=>{var we;return(we=Be.current)==null?void 0:we.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),p.jsx("input",{ref:Be,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Pn})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:Z,onChange:we=>ge(we.target.value),autoFocus:!0})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:le,onChange:we=>ue(we.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:Ze?" ":" "}),p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:xe,onChange:we=>Ye(we.target.value),readOnly:!!Ze})]})]}),Ze&&p.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[p.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),p.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:Ne,onChange:we=>_e(we.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:pe,onChange:we=>St(we.target.value)})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:fn,disabled:!Z||!le,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),p.jsx("button",{onClick:()=>{h(!1),$t()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),M&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[p.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:p.jsx("img",{ref:je,src:M,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[p.jsx("button",{onClick:dr,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),p.jsx("button",{onClick:at,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),J&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>W(null),children:[p.jsx("img",{src:J,alt:"Full",className:"max-w-full max-h-full object-contain"}),p.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},NG=({onNavigateToHome:t,requests:e,onAddRequest:n,onUpdateRequest:r,onDeleteRequest:i,settings:s})=>{var dr;const[A,u]=Se.useState(!1),[h,d]=Se.useState(null),[x,C]=Se.useState(""),[_,N]=Se.useState(null),[D,R]=Se.useState(!1),[k,j]=Se.useState([]),K=Se.useRef(null),Q=Se.useRef(null),[ne,ae]=Se.useState(""),[ee,M]=Se.useState([]),[H,O]=Se.useState(null),[z,J]=Se.useState([]),[W,X]=Se.useState(null),[Me,Ee]=Se.useState(null),[ve,oe]=Se.useState(!1),[je,Be]=Se.useState(!1),Ze=Se.useRef(null),me=Se.useRef(null),Z=Se.useRef(null),ge=Se.useRef(null),le=Se.useRef(null);Se.useEffect(()=>()=>{Q.current&&Q.current.getTracks().forEach(at=>at.stop())},[]);const ue=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}j([]),R(!0);try{const at=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});Q.current=at,K.current&&(K.current.srcObject=at,K.current.onloadedmetadata=()=>{var Nt;(Nt=K.current)==null||Nt.play().catch(It=>console.error("Play error",It))})}catch(at){console.error("Camera access error:",at),R(!1);let Nt="  .";(at.name==="NotAllowedError"||at.name==="PermissionDeniedError")&&(Nt="    .      ."),alert(Nt)}},xe=()=>{Q.current&&(Q.current.getTracks().forEach(at=>at.stop()),Q.current=null),K.current&&(K.current.srcObject=null),R(!1)},Ye=()=>{if(K.current){const at=document.createElement("canvas");at.width=K.current.videoWidth,at.height=K.current.videoHeight;const Nt=at.getContext("2d");if(Nt){Nt.drawImage(K.current,0,0);const It=at.toDataURL("image/jpeg",.9);j($t=>[...$t,It]),navigator.vibrate&&navigator.vibrate(50)}}},Ne=()=>{k.length>0&&(O(k[0]),J(k.slice(1))),xe()};Se.useEffect(()=>{if(H&&le.current){ge.current&&ge.current.destroy();const at=new Cropper(le.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ge.current=at}return()=>{ge.current&&(ge.current.destroy(),ge.current=null)}},[H]);const _e=Se.useMemo(()=>e.filter(at=>at.status==="pending").filter(at=>at.productName.toLowerCase().includes(x.toLowerCase())),[e,x]),Oe=()=>{ae(""),M([]),J([]),N(null)},yt=()=>{Oe(),u(!0)},pe=at=>{N(at.id),ae(at.productName),at.images&&at.images.length>0?M(at.images):at.image?M([at.image]):M([]),u(!0),d(null)},St=at=>{const Nt=at.target.files;if(Nt&&Nt.length>0){const It=[];Array.from(Nt).forEach($t=>{It.push(new Promise(un=>{const fn=new FileReader;fn.onloadend=()=>un(fn.result),fn.readAsDataURL($t)}))}),Promise.all(It).then($t=>{O($t[0]),J($t.slice(1))})}at.target.value=""},kt=()=>{if(ge.current){const Nt=ge.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);M(It=>[...It,Nt]),z.length>0?(O(z[0]),J(It=>It.slice(1))):O(null)}},Lt=()=>{z.length>0?(O(z[0]),J(at=>at.slice(1))):O(null)},Fe=at=>{M(Nt=>Nt.filter((It,$t)=>$t!==at))},Ue=()=>{var Nt;if(!ne)return;const at={id:_||`req-${Date.now()}`,productName:ne,image:ee.length>0?ee[0]:void 0,images:ee,status:"pending",createdAt:_&&((Nt=e.find(It=>It.id===_))==null?void 0:Nt.createdAt)||Date.now()};_?r(at):n(at),u(!1),Oe()},gt=()=>{Me&&(i(Me),Ee(null),d(null))},Bt=async()=>{if(!(!h||!me.current)){oe(!0);try{(await nc(me.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Nt=>{if(!Nt){oe(!1),alert("  ");return}try{const It=new ClipboardItem({"image/png":Nt});await navigator.clipboard.write([It]),window.open("https://wa.me/","_blank")}catch(It){console.error("Clipboard failed",It),alert("       ."),window.open("https://wa.me/","_blank")}finally{oe(!1)}},"image/png",1)}catch(at){console.error("Share error",at),oe(!1)}}},dn=async()=>{if(!(_e.length===0||!Ze.current)){Be(!0);try{(await nc(Ze.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Nt=>{if(!Nt){Be(!1),alert("  ");return}try{const It=new ClipboardItem({"image/png":Nt});await navigator.clipboard.write([It]),window.open("https://wa.me/","_blank")}catch(It){console.error("Clipboard failed",It),window.open("https://wa.me/","_blank")}finally{Be(!1)}},"image/png",1)}catch(at){console.error("Share error",at),Be(!1)}}},At=()=>{if(!h)return;const at=window.open("","_blank");if(!at){alert("   ");return}const Nt=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${h.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(h.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${h.productName}</p>
          </div>
          <div class="images">
            ${(h.images||[]).map(It=>`<img src="${It}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;at.document.write(Nt),at.document.close()},Pn=()=>{if(_e.length===0)return;const at=window.open("","_blank");if(!at){alert("   ");return}const Nt=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${_e.map((It,$t)=>`
                <tr>
                  <td>${$t+1}</td>
                  <td><strong>${It.productName}</strong></td>
                  <td>${new Date(It.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;at.document.write(Nt),at.document.close()};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{ref:me,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",h?new Date(h.createdAt).toLocaleDateString("ar-MA"):""]})]}),p.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[p.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),p.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:h==null?void 0:h.productName})]})]}),p.jsxs("div",{ref:Ze,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),p.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),p.jsx("tbody",{children:_e.map((at,Nt)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:at.productName}),p.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},Nt))})]}),p.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:p.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",_e.length]})})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[p.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:x,onChange:at=>C(at.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:_e.length>0?_e.map(at=>{var Nt;return p.jsxs("div",{onClick:()=>d(at),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[p.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:at.image||at.images&&at.images.length>0?p.jsx("img",{src:((Nt=at.images)==null?void 0:Nt[0])||at.image,alt:"req",className:"w-full h-full object-cover"}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]})}),p.jsxs("div",{className:"flex-1 text-right",children:[p.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:at.productName}),p.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(at.createdAt).toLocaleDateString("ar-MA")]})]}),p.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]},at.id)}):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),p.jsx("p",{children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[p.jsx("button",{onClick:Pn,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:dn,disabled:je,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${je?"opacity-50 cursor-wait":""}`,title:"  ",children:je?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:yt,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),h&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[p.jsx("button",{onClick:()=>d(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]})}),p.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),p.jsxs("div",{className:"text-center space-y-3",children:[p.jsx("div",{onClick:()=>{var Nt;const at=((Nt=h.images)==null?void 0:Nt[0])||h.image;at&&X(at)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:h.image||h.images&&h.images.length>0?p.jsx("img",{src:((dr=h.images)==null?void 0:dr[0])||h.image,alt:"req",className:"w-full h-full object-cover"}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),p.jsx("h3",{className:"text-2xl font-black text-white",children:h.productName}),p.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(h.createdAt).toLocaleDateString("ar-MA")})]}),h.images&&h.images.length>1&&p.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.images.slice(1).map((at,Nt)=>p.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>X(at),children:p.jsx("img",{src:at,alt:"req",className:"w-full h-full object-cover"})},Nt))}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("button",{onClick:Bt,disabled:ve,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${ve?"opacity-50":""}`,children:[ve?p.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:p.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),p.jsxs("button",{onClick:At,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("button",{onClick:()=>pe(h),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),p.jsx("button",{onClick:()=>Ee(h.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),A&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:_?" ":" "}),p.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),ee.length>0&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:ee.map((at,Nt)=>p.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[p.jsx("img",{src:at,alt:`Img ${Nt}`,className:"w-full h-full object-cover"}),p.jsx("button",{onClick:()=>Fe(Nt),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Nt))}),p.jsxs("div",{className:"flex gap-2 w-full",children:[p.jsxs("button",{onClick:ue,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),p.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:""})]}),p.jsx("div",{onClick:()=>{var at;return(at=Z.current)==null?void 0:at.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:p.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),p.jsx("polyline",{points:"17 8 12 3 7 8"}),p.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),p.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),p.jsx("input",{ref:Z,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:St})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:ne,onChange:at=>ae(at.target.value),placeholder:"  ...",autoFocus:!0})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("button",{onClick:Ue,disabled:!ne,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${ne?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:_?" ":" "}),p.jsx("button",{onClick:()=>u(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),D&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[p.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[p.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),k.length>0&&p.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:p.jsxs("span",{className:"text-sm font-black text-white",children:[k.length,"  "]})}),p.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:p.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),p.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[p.jsx("button",{onClick:xe,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),p.jsx("button",{onClick:Ye,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:p.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),k.length>0?p.jsx("button",{onClick:Ne,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}):p.jsx("div",{className:"w-14"})]})]})}),H&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[p.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:p.jsx("img",{ref:le,src:H,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),p.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[p.jsx("div",{className:"flex-1",children:p.jsx("button",{onClick:kt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:z.length>0?` (${z.length+1} )`:" "})}),p.jsx("div",{className:"flex-1",children:p.jsx("button",{onClick:Lt,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:z.length>0?"":""})})]})]})}),Me&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:gt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>Ee(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&p.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>X(null),children:[p.jsx("img",{src:W,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),p.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:p.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},FG=({onNavigateToHome:t,checks:e,onAddCheck:n,onUpdateCheck:r,onDeleteCheck:i,settings:s})=>{const[A,u]=Se.useState("primary"),[h,d]=Se.useState(!1),[x,C]=Se.useState(""),[_,N]=Se.useState(null),[D,R]=Se.useState(null),[k,j]=Se.useState(!1),K=Se.useRef(null),[Q,ne]=Se.useState(null),[ae,ee]=Se.useState(new Date().toISOString().split("T")[0]),[M,H]=Se.useState(""),[O,z]=Se.useState(""),[J,W]=Se.useState(new Date().toISOString().split("T")[0]),[X,Me]=Se.useState(""),Ee=new Date().toISOString().split("T")[0],ve=Se.useMemo(()=>A==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[A]),oe=Se.useMemo(()=>e.filter(Ne=>{if((Ne.checkbookType||"primary")!==A||!(Ne.name.includes(x)||Ne.amount.toString().includes(x)||Ne.serialNumber&&Ne.serialNumber.includes(x)))return!1;if(D!==null)try{if(parseInt(Ne.paymentDate.split("-")[1],10)!==D)return!1}catch{return!1}return!0}),[e,x,D,A]),je=Se.useMemo(()=>oe.reduce((Ne,_e)=>_e.paymentDate<Ee?Ne:Ne+_e.amount,0),[oe,Ee]),Be=()=>{const Ne=new Date;if(ee(Ne.toISOString().split("T")[0]),H(""),z(""),D!==null){const _e=Ne.getFullYear(),Oe=new Date(_e,D,0).getDate(),yt=Math.min(Ne.getDate(),Oe),pe=D.toString().padStart(2,"0"),St=yt.toString().padStart(2,"0");W(`${_e}-${pe}-${St}`)}else W(Ne.toISOString().split("T")[0]);Me(""),N(null)},Ze=()=>{Be(),d(!0)},me=Ne=>{N(Ne.id),ee(Ne.creationDate),H(Ne.name),z(Ne.amount.toString()),W(Ne.paymentDate),Me(Ne.serialNumber||""),d(!0)},Z=()=>{var _e;if(!M||!O)return;const Ne={id:_||`chk-${Date.now()}`,creationDate:ae,name:M,amount:parseFloat(O),paymentDate:J,serialNumber:X,checkbookType:A,createdAt:_&&((_e=e.find(Oe=>Oe.id===_))==null?void 0:_e.createdAt)||Date.now()};_?r(Ne):n(Ne),d(!1),Be()},ge=()=>{Q&&(i(Q),ne(null),d(!1),Be())},le=()=>{if(oe.length===0){alert("   ");return}const Ne=window.open("","_blank");if(!Ne){alert("   ");return}const _e=D?` ${D}`:" ",Oe=A==="primary"?"  1":"  2",yt=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${s.businessName}</h3>
                <h2>   - ${Oe}</h2>
                <p>: ${_e}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${oe.map(pe=>{const St=pe.paymentDate<Ee;return`
                        <tr>
                            <td>${pe.name} ${St?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${pe.paymentDate}</td>
                            <td class="amount-col">${pe.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${je.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;Ne.document.write(yt),Ne.document.close()},ue=async()=>{if(oe.length!==0&&K.current){j(!0);try{(await nc(K.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async _e=>{if(!_e){alert("  "),j(!1);return}try{const Oe=new ClipboardItem({"image/png":_e});await navigator.clipboard.write([Oe]),window.open("https://wa.me/","_blank")}catch(Oe){console.error("Clipboard failed",Oe),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{j(!1)}},"image/png",1)}catch(Ne){console.error("Error generating report image",Ne),j(!1),alert("    ")}}},xe=D?` ${D}`:" ",Ye=A==="primary"?"  1":"  2";return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[p.jsxs("div",{ref:K,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",Ye,")"]}),p.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",xe]}),p.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),p.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),p.jsx("tbody",{children:oe.map((Ne,_e)=>{const Oe=Ne.paymentDate<Ee;return p.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Oe?"#f0fff4":"transparent"},children:[p.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[Ne.name,Oe&&p.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),p.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:Ne.paymentDate}),p.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:Ne.amount.toFixed(2)})]},_e)})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[p.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),p.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[je.toFixed(2)," ."]})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsxs("span",{className:`text-[10px] ${ve.accentColor} font-bold transition-colors`,children:[ve.name," -  "]})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 pb-4 md:pt-4",children:p.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[p.jsx("button",{onClick:()=>u("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${A==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),p.jsx("button",{onClick:()=>u("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${A==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),p.jsx("div",{className:"px-6 pb-4",children:p.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-8 h-8 ${ve.lightBg} rounded-lg flex items-center justify-center ${ve.accentColor} transition-colors`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("path",{d:"M12 2v20"}),p.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",ve.name]}),p.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),p.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[je.toFixed(2)," ",p.jsx("span",{className:`text-xs ${ve.accentColor}`,children:"."})]})]})}),p.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${ve.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:x,onChange:Ne=>C(Ne.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),p.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[p.jsx("button",{onClick:()=>R(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${D===null?`${ve.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(Ne,_e)=>_e+1).map(Ne=>p.jsx("button",{onClick:()=>R(Ne===D?null:Ne),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${D===Ne?`${ve.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:Ne},Ne))]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:oe.length>0?oe.map(Ne=>{const _e=Ne.paymentDate<Ee;return p.jsxs("div",{onClick:()=>me(Ne),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${_e?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${_e?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${ve.accentColor}`}`,children:_e?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M20 6 9 17l-5-5"})}):p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${_e?"text-green-100":"text-white"}`,children:Ne.name}),Ne.serialNumber&&p.jsxs("span",{className:`text-[10px] ${ve.lightBg} ${ve.lightText} px-1.5 py-0.5 rounded border ${ve.borderLight} font-mono`,children:["#",Ne.serialNumber]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",Ne.paymentDate]}),_e&&p.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),p.jsxs("div",{className:"text-left",children:[p.jsx("span",{className:`text-lg font-black ${_e?"text-green-500":"text-white"}`,children:Ne.amount.toFixed(2)}),p.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),p.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),p.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:p.jsxs("span",{children:[" : ",Ne.creationDate]})})]},Ne.id)}):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[p.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),p.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),p.jsx("p",{children:"   "})]})}),p.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[p.jsx("button",{onClick:le,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:ue,disabled:k,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${k?"opacity-50 cursor-wait":""}`,title:"   ",children:k?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:Ze,className:`pointer-events-auto ${ve.btnBg} text-white px-8 py-4 rounded-full font-black ${ve.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:" "})]})}),h&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:_?" ":" "}),p.jsx("p",{className:`text-xs ${ve.accentColor} font-bold`,children:ve.name})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ve.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:ae,onChange:Ne=>ee(Ne.target.value)})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ve.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:X,onChange:Ne=>Me(Ne.target.value),placeholder:"  "})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),p.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ve.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:M,onChange:Ne=>H(Ne.target.value),placeholder:"  ...",autoFocus:!0})]}),p.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),p.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ve.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:O,onChange:Ne=>z(Ne.target.value),placeholder:"0.00"})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),p.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ve.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:J,onChange:Ne=>W(Ne.target.value)})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[p.jsx("div",{className:"flex gap-2",children:p.jsx("button",{onClick:Z,disabled:!M||!O,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!M||!O?"bg-gray-800 opacity-50":`${ve.btnBg}`}`,children:""})}),_&&p.jsx("button",{onClick:()=>ne(_),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),p.jsx("button",{onClick:()=>d(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Q&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:ge,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>ne(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},RG=({onNavigateToHome:t,orders:e,onAddOrder:n,onUpdateOrder:r,onDeleteOrder:i,settings:s})=>{const[A,u]=Se.useState(!1),[h,d]=Se.useState(""),[x,C]=Se.useState(null),[_,N]=Se.useState(null),[D,R]=Se.useState([]),[k,j]=Se.useState(""),[K,Q]=Se.useState(""),[ne,ae]=Se.useState(!1),ee=Se.useRef(null),M=Se.useMemo(()=>e.filter(oe=>{const je=oe.items.some(Ze=>Ze.name.includes(h)),Be=oe.productName&&oe.productName.includes(h);return je||Be}).sort((oe,je)=>je.createdAt-oe.createdAt),[e,h]),H=()=>{R([]),j(""),Q(""),C(null)},O=()=>{H(),u(!0)},z=oe=>{C(oe.id),j(""),Q(""),oe.items&&oe.items.length>0?R([...oe.items]):oe.productName?R([{id:`legacy-${Date.now()}`,name:oe.productName,quantity:oe.quantity||1}]):R([]),u(!0)},J=()=>{if(!k||!K)return;const oe={id:`item-${Date.now()}-${Math.random()}`,name:k,quantity:parseFloat(K)};R(je=>[...je,oe]),j(""),Q("")},W=oe=>{R(je=>je.filter(Be=>Be.id!==oe))},X=()=>{var je;if(D.length===0)return;const oe={id:x||`ord-${Date.now()}`,items:D,productName:void 0,quantity:void 0,status:"pending",createdAt:x&&((je=e.find(Be=>Be.id===x))==null?void 0:je.createdAt)||Date.now()};x?r(oe):n(oe),u(!1),H()},Me=()=>{_&&(i(_),N(null),u(!1),H())},Ee=()=>{if(D.length===0)return;const oe=window.open("","_blank");if(!oe){alert("   ");return}const je=s.specialOrderLabel||" ",Be=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${je}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h2>${je}</h2>
            <p>: ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <ul>
            ${D.map(Ze=>`<li><span>${Ze.name}</span><span>${Ze.quantity}</span></li>`).join("")}
          </ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;oe.document.write(Be),oe.document.close()},ve=async()=>{if(!(D.length===0||!ee.current)){ae(!0);try{(await nc(ee.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async je=>{if(!je){ae(!1),alert("  ");return}try{const Be=new ClipboardItem({"image/png":je});await navigator.clipboard.write([Be]),window.open("https://wa.me/","_blank")}catch(Be){console.error("Clipboard write failed:",Be),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{ae(!1)}},"image/png",1)}catch(oe){console.error("Error generating image:",oe),ae(!1)}}};return p.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[A&&p.jsxs("div",{ref:ee,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[p.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[p.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),p.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:s.specialOrderLabel||" "}),p.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[p.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),p.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:""})]})}),p.jsx("tbody",{children:D.map((oe,je)=>p.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[p.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:oe.name}),p.jsx("td",{style:{padding:"12px 10px",fontSize:"20px",fontWeight:"900",textAlign:"center"},children:oe.quantity})]},je))})]}),p.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[p.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:[" : ",D.length]}),p.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),p.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),p.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),p.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsxs("div",{className:"relative group",children:[p.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:h,onChange:oe=>d(oe.target.value)}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:M.length>0?M.map(oe=>p.jsxs("div",{onClick:()=>z(oe),className:"bg-[#111111] rounded-2xl border border-gray-800/60 p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 min-w-[48px] bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-rose-500 mt-1",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h3",{className:"font-black text-sm text-gray-400 mb-1",children:new Date(oe.createdAt).toLocaleDateString("ar-MA")}),p.jsxs("div",{className:"space-y-1",children:[oe.items.slice(0,2).map((je,Be)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-white font-bold text-sm",children:je.name}),p.jsxs("span",{className:"text-[10px] text-rose-500 bg-rose-500/10 px-1.5 py-0.5 rounded font-mono",children:["x",je.quantity]})]},Be)),oe.items.length>2&&p.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",oe.items.length-2,"  ..."]})]})]})]}),p.jsx("div",{className:"bg-[#1a1a1a] px-2 py-1 rounded-lg border border-gray-800",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})})]},oe.id)):p.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:p.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),p.jsx("p",{children:"    "})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:p.jsxs("button",{onClick:O,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),p.jsx("span",{children:"  "})]})}),A&&p.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"text-center flex-shrink-0",children:[p.jsx("h3",{className:"text-xl font-black text-white mb-1",children:x?" ":"  "}),p.jsx("p",{className:"text-xs text-rose-500 font-bold",children:"   "})]}),p.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0",children:[p.jsx("div",{className:"flex-1 space-y-1",children:p.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:k,onChange:oe=>j(oe.target.value),placeholder:" ...",onKeyDown:oe=>oe.key==="Enter"&&J()})}),p.jsx("div",{className:"w-20 space-y-1",children:p.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:K,onChange:oe=>Q(oe.target.value),placeholder:"",onKeyDown:oe=>oe.key==="Enter"&&J()})}),p.jsx("button",{onClick:J,disabled:!k||!K,className:`w-12 h-[46px] rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!k||!K?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[p.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),p.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:D.length>0?D.map(oe=>p.jsxs("div",{className:"flex justify-between items-center bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>W(oe.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),p.jsx("span",{className:"text-white font-bold text-sm",children:oe.name})]}),p.jsx("span",{className:"text-rose-500 bg-rose-500/10 px-2 py-1 rounded font-mono font-bold text-xs",children:oe.quantity})]},oe.id)):p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),p.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),p.jsx("p",{children:"  "})]})}),p.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:X,disabled:D.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${D.length===0?"bg-gray-800 opacity-50":"bg-rose-600 hover:bg-rose-500"}`,children:""}),p.jsx("button",{onClick:Ee,disabled:D.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",title:"",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[p.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),p.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),p.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),p.jsx("button",{onClick:ve,disabled:D.length===0||ne,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${ne?"opacity-50 cursor-wait":""}`,title:"  ",children:ne?p.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:p.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),p.jsxs("div",{className:"flex gap-2",children:[x&&p.jsx("button",{onClick:()=>N(x),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),p.jsx("button",{onClick:()=>u(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),_&&p.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:p.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),p.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),p.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),p.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),p.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:Me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),p.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})};var DG={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UG,kG;function MG(){return{geminiUrl:UG,vertexUrl:kG}}function OG(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const A=MG();return e?(i=A.vertexUrl)!==null&&i!==void 0?i:n:(s=A.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hA{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let s=0;s<e.length-1;s++){const A=e[s];if(A.endsWith("[]")){const u=A.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${A}`);if(Array.isArray(t[u])){const h=t[u];if(Array.isArray(n))for(let d=0;d<h.length;d++){const x=h[d];b(x,e.slice(s+1),n[d])}else for(const d of h)b(d,e.slice(s+1),n)}return}else if(A.endsWith("[0]")){const u=A.slice(0,-3);u in t||(t[u]=[{}]);const h=t[u];b(h[0],e.slice(s+1),n);return}(!t[A]||typeof t[A]!="object")&&(t[A]={}),t=t[A]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function E(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const A=t[s];return Array.isArray(A)?A.map(u=>E(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function LG(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),A=new Set;let u=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){u=h;break}if(u!==-1&&s.length>u)for(let h=u;h<s.length;h++){const d=s[h];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&A.add(d)}c2(t,i,s,0,A)}}function c2(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const A=s.slice(0,-2),u=t;if(A in u&&Array.isArray(u[A]))for(const h of u[A])c2(h,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const A=t,u=Object.keys(A).filter(d=>!d.startsWith("_")&&!i.has(d)),h={};for(const d of u)h[d]=A[d];for(const[d,x]of Object.entries(h)){const C=[];for(const _ of n.slice(r))_==="*"?C.push(d):C.push(_);b(A,C,x)}for(const d of u)delete A[d]}}else{const A=t;s in A&&c2(A[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QG(t){const e={},n=E(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=E(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function PG(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response","generateVideoResponse"]);return A!=null&&b(e,["response"],VG(A)),e}function HG(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response"]);return A!=null&&b(e,["response"],jG(A)),e}function VG(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>GG(A))),b(e,["generatedVideos"],s)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function jG(t){const e={},n=E(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>KG(A))),b(e,["generatedVideos"],s)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function GG(t){const e={},n=E(t,["video"]);return n!=null&&b(e,["video"],JG(n)),e}function KG(t){const e={},n=E(t,["_self"]);return n!=null&&b(e,["video"],ZG(n)),e}function zG(t){const e={},n=E(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function WG(t){const e={},n=E(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function XG(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response"]);return A!=null&&b(e,["response"],qG(A)),e}function qG(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&b(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function b3(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response"]);return A!=null&&b(e,["response"],YG(A)),e}function YG(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&b(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function JG(t){const e={},n=E(t,["uri"]);n!=null&&b(e,["uri"],n);const r=E(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],Nw(r));const i=E(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function ZG(t){const e={},n=E(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],Nw(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Z_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Z_||(Z_={}));var $_;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($_||($_={}));var eT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(eT||(eT={}));var $A;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($A||($A={}));var tT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tT||(tT={}));var nT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(nT||(nT={}));var rT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(rT||(rT={}));var iT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(iT||(iT={}));var sT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sT||(sT={}));var aT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aT||(aT={}));var oT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(oT||(oT={}));var AT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(AT||(AT={}));var lT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(lT||(lT={}));var cT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(cT||(cT={}));var uT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(uT||(uT={}));var fT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(fT||(fT={}));var dT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(dT||(dT={}));var hT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(hT||(hT={}));var gT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(gT||(gT={}));var pT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(pT||(pT={}));var mT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mT||(mT={}));var M1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(M1||(M1={}));var xT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xT||(xT={}));var wT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wT||(wT={}));var vT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vT||(vT={}));var u2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(u2||(u2={}));var yT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yT||(yT={}));var CT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(CT||(CT={}));var f2;(function(t){t.COLLECTION="COLLECTION"})(f2||(f2={}));var ET;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ET||(ET={}));var BT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BT||(BT={}));var _T;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_T||(_T={}));var TT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(TT||(TT={}));var bT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bT||(bT={}));var ST;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ST||(ST={}));var IT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(IT||(IT={}));var NT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(NT||(NT={}));var FT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FT||(FT={}));var RT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(RT||(RT={}));var DT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(DT||(DT={}));var UT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(UT||(UT={}));var kT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kT||(kT={}));var MT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(MT||(MT={}));var OT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(OT||(OT={}));var LT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(LT||(LT={}));var QT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(QT||(QT={}));var PT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(PT||(PT={}));var HT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HT||(HT={}));var VT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(VT||(VT={}));var jT;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(jT||(jT={}));var GT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(GT||(GT={}));var KT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(KT||(KT={}));var zT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zT||(zT={}));var WT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(WT||(WT={}));var XT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(XT||(XT={}));var qT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(qT||(qT={}));var gu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(gu||(gu={}));class d2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class F0{get text(){var e,n,r,i,s,A,u,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",x=!1;const C=[];for(const _ of(h=(u=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[N,D]of Object.entries(_))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(D!==null||D!==void 0)&&C.push(N);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,d+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?d:void 0}get data(){var e,n,r,i,s,A,u,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const x=[];for(const C of(h=(u=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[_,N]of Object.entries(C))_!=="inlineData"&&(N!==null||N!==void 0)&&x.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(d+=atob(C.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,A,u,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(u=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,A,u,h,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(h=(u=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(d=x==null?void 0:x[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,A,u,h,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(h=(u=(A=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(d=x==null?void 0:x[0])===null||d===void 0?void 0:d.output}}class YT{}class JT{}class $G{}class eK{}class tK{}class nK{}class ZT{}class $T{}class eb{}class rK{}class O1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new O1;let i;const s=e;return n?i=HG(s):i=PG(s),Object.assign(r,i),r}}class tb{}class nb{}class rb{}class ib{}class iK{}class sK{}class aK{}class Fw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Fw,s=XG(e);return Object.assign(r,s),r}}class oK{}class AK{}class lK{}class sb{}class cK{get text(){var e,n,r;let i="",s=!1;const A=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,d]of Object.entries(u))h!=="text"&&h!=="thought"&&d!==null&&A.push(h);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,i+=u.text}}return A.length>0&&console.warn(`there are non-text parts ${A} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const A of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,h]of Object.entries(A))u!=="inlineData"&&h!==null&&s.push(u);A.inlineData&&typeof A.inlineData.data=="string"&&(i+=atob(A.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uK{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Rw{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rw,s=b3(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function S3(t,e){const n=Kn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function I3(t){return Array.isArray(t)?t.map(e=>L1(e)):[L1(t)]}function L1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function N3(t){const e=L1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function F3(t){const e=L1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ab(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function R3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ab(e)):[ab(t)]}function h2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ob(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ab(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ls(t){if(t==null)throw new Error("ContentUnion is required");return h2(t)?t:{role:"user",parts:R3(t)}}function Dw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ls(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ls(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ls(n)):[ls(e)]}function ka(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ob(t)||Ab(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ls(t)]}const e=[],n=[],r=h2(t[0]);for(const i of t){const s=h2(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(ob(i)||Ab(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:R3(n)}),e}function fK(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($A).includes(n[0].toUpperCase())?n[0].toUpperCase():$A.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($A).includes(r.toUpperCase())?r.toUpperCase():$A.TYPE_UNSPECIFIED})}}function yu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&fK(t.type,e);for(const[A,u]of Object.entries(t))if(u!=null)if(A=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values($A).includes(u.toUpperCase())?u.toUpperCase():$A.TYPE_UNSPECIFIED}else if(n.includes(A))e[A]=yu(u);else if(r.includes(A)){const h=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}h.push(yu(d))}e[A]=h}else if(i.includes(A)){const h={};for(const[d,x]of Object.entries(u))h[d]=yu(x);e[A]=h}else{if(A==="additionalProperties")continue;e[A]=u}return e}function Uw(t){return yu(t)}function kw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Mw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Lu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=yu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=yu(e.response));return t}function Qu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function dK(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function gA(t,e){if(typeof e!="string")throw new Error("name must be a string");return dK(t,e,"cachedContents")}function D3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ml(t){return Nw(t)}function hK(t){return t!=null&&typeof t=="object"&&"name"in t}function gK(t){return t!=null&&typeof t=="object"&&"video"in t}function pK(t){return t!=null&&typeof t=="object"&&"uri"in t}function U3(t){var e;let n;if(hK(t)&&(n=t.name),!(pK(t)&&(n=t.uri,n===void 0))&&!(gK(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function k3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function M3(t){for(const e of["models","tunedModels","publisherModels"])if(mK(t,e))return t[e];return[]}function mK(t,e){return t!==null&&typeof t=="object"&&e in t}function xK(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function wK(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const A=xK(i,e);A.functionDeclarations&&n.push(...A.functionDeclarations)}return{functionDeclarations:n}}function O3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function L3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const A of i){if(typeof A!="object"||A===null)continue;const h=A.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Pu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Q3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yK(t){const e={},n=E(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=E(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>tz(A))),b(e,["inlinedResponses"],s)}const i=E(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["inlinedEmbedContentResponses"],s)}return e}function CK(t){const e={},n=E(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=E(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=E(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function EK(t){const e={},n=E(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=E(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=E(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(E(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function s1(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=E(t,["metadata","state"]);i!=null&&b(e,["state"],Q3(i));const s=E(t,["metadata","createTime"]);s!=null&&b(e,["createTime"],s);const A=E(t,["metadata","endTime"]);A!=null&&b(e,["endTime"],A);const u=E(t,["metadata","updateTime"]);u!=null&&b(e,["updateTime"],u);const h=E(t,["metadata","model"]);h!=null&&b(e,["model"],h);const d=E(t,["metadata","output"]);return d!=null&&b(e,["dest"],yK(L3(d))),e}function g2(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=E(t,["state"]);i!=null&&b(e,["state"],Q3(i));const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["createTime"]);A!=null&&b(e,["createTime"],A);const u=E(t,["startTime"]);u!=null&&b(e,["startTime"],u);const h=E(t,["endTime"]);h!=null&&b(e,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&b(e,["updateTime"],d);const x=E(t,["model"]);x!=null&&b(e,["model"],x);const C=E(t,["inputConfig"]);C!=null&&b(e,["src"],BK(C));const _=E(t,["outputConfig"]);_!=null&&b(e,["dest"],CK(L3(_)));const N=E(t,["completionStats"]);return N!=null&&b(e,["completionStats"],N),e}function BK(t){const e={},n=E(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=E(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=E(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function _K(t,e){const n={};if(E(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(E(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=E(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=E(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>ez(t,A))),b(n,["requests","requests"],s)}return n}function TK(t){const e={},n=E(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=E(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=E(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),E(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(E(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bK(t){const e={},n=E(t,["data"]);if(n!=null&&b(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function SK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function IK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function NK(t){const e={},n=E(t,["content"]);n!=null&&b(e,["content"],n);const r=E(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],FK(r));const i=E(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=E(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const A=E(t,["avgLogprobs"]);A!=null&&b(e,["avgLogprobs"],A);const u=E(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const h=E(t,["index"]);h!=null&&b(e,["index"],h);const d=E(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const x=E(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(N=>N)),b(e,["safetyRatings"],_)}const C=E(t,["urlContextMetadata"]);return C!=null&&b(e,["urlContextMetadata"],C),e}function FK(t){const e={},n=E(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function P3(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Az(s))),b(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&b(e,["role"],r),e}function RK(t,e){const n={},r=E(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),E(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DK(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=E(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],EK(vK(i))),n}function lb(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["src"]);i!=null&&b(n,["batch","inputConfig"],_K(t,O3(t,i)));const s=E(e,["config"]);return s!=null&&RK(s,n),n}function UK(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["model"],Kn(t,r));const i=E(e,["src"]);i!=null&&b(n,["inputConfig"],TK(O3(t,i)));const s=E(e,["config"]);return s!=null&&DK(s,n),n}function kK(t,e){const n={},r=E(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function MK(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["src"]);i!=null&&b(n,["batch","inputConfig"],jK(t,i));const s=E(e,["config"]);return s!=null&&kK(s,n),n}function OK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function LK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function QK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["name"]);r!=null&&b(e,["name"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);return s!=null&&b(e,["error"],s),e}function PK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["name"]);r!=null&&b(e,["name"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);return s!=null&&b(e,["error"],s),e}function HK(t,e){const n={},r=E(e,["contents"]);if(r!=null){let s=Dw(t,r);Array.isArray(s)&&(s=s.map(A=>A)),b(n,["requests[]","request","content"],s)}const i=E(e,["config"]);return i!=null&&(b(n,["_self"],VK(i,n)),LG(n,{"requests[].*":"requests[].request.*"})),n}function VK(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=E(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jK(t,e){const n={},r=E(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=E(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],HK(t,i)),n}function GK(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function KK(t){const e={},n=E(t,["id"]);n!=null&&b(e,["id"],n);const r=E(t,["args"]);r!=null&&b(e,["args"],r);const i=E(t,["name"]);if(i!=null&&b(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zK(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=E(t,["mode"]);if(r!=null&&b(e,["mode"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function WK(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],P3(ls(i)));const s=E(e,["temperature"]);s!=null&&b(r,["temperature"],s);const A=E(e,["topP"]);A!=null&&b(r,["topP"],A);const u=E(e,["topK"]);u!=null&&b(r,["topK"],u);const h=E(e,["candidateCount"]);h!=null&&b(r,["candidateCount"],h);const d=E(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const x=E(e,["stopSequences"]);x!=null&&b(r,["stopSequences"],x);const C=E(e,["responseLogprobs"]);C!=null&&b(r,["responseLogprobs"],C);const _=E(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const N=E(e,["presencePenalty"]);N!=null&&b(r,["presencePenalty"],N);const D=E(e,["frequencyPenalty"]);D!=null&&b(r,["frequencyPenalty"],D);const R=E(e,["seed"]);R!=null&&b(r,["seed"],R);const k=E(e,["responseMimeType"]);k!=null&&b(r,["responseMimeType"],k);const j=E(e,["responseSchema"]);j!=null&&b(r,["responseSchema"],Uw(j));const K=E(e,["responseJsonSchema"]);if(K!=null&&b(r,["responseJsonSchema"],K),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=E(e,["safetySettings"]);if(n!==void 0&&Q!=null){let X=Q;Array.isArray(X)&&(X=X.map(Me=>lz(Me))),b(n,["safetySettings"],X)}const ne=E(e,["tools"]);if(n!==void 0&&ne!=null){let X=Qu(ne);Array.isArray(X)&&(X=X.map(Me=>uz(Lu(Me)))),b(n,["tools"],X)}const ae=E(e,["toolConfig"]);if(n!==void 0&&ae!=null&&b(n,["toolConfig"],cz(ae)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=E(e,["cachedContent"]);n!==void 0&&ee!=null&&b(n,["cachedContent"],gA(t,ee));const M=E(e,["responseModalities"]);M!=null&&b(r,["responseModalities"],M);const H=E(e,["mediaResolution"]);H!=null&&b(r,["mediaResolution"],H);const O=E(e,["speechConfig"]);if(O!=null&&b(r,["speechConfig"],kw(O)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=E(e,["thinkingConfig"]);z!=null&&b(r,["thinkingConfig"],z);const J=E(e,["imageConfig"]);J!=null&&b(r,["imageConfig"],$K(J));const W=E(e,["enableEnhancedCivicAnswers"]);if(W!=null&&b(r,["enableEnhancedCivicAnswers"],W),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function XK(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(d=>NK(d))),b(e,["candidates"],h)}const i=E(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=E(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const A=E(t,["responseId"]);A!=null&&b(e,["responseId"],A);const u=E(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function qK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function YK(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],Pu(t,r)),n}function JK(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function ZK(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function $K(t){const e={},n=E(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=E(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ez(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["request","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let u=ka(i);Array.isArray(u)&&(u=u.map(h=>P3(h))),b(n,["request","contents"],u)}const s=E(e,["metadata"]);s!=null&&b(n,["metadata"],s);const A=E(e,["config"]);return A!=null&&b(n,["request","generationConfig"],WK(t,A,E(n,["request"],{}))),n}function tz(t){const e={},n=E(t,["response"]);n!=null&&b(e,["response"],XK(n));const r=E(t,["error"]);return r!=null&&b(e,["error"],r),e}function nz(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),E(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rz(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const s=E(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),n}function iz(t){const e={},n=E(t,["config"]);return n!=null&&nz(n,e),e}function sz(t){const e={},n=E(t,["config"]);return n!=null&&rz(n,e),e}function az(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>s1(A))),b(e,["batchJobs"],s)}return e}function oz(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>g2(A))),b(e,["batchJobs"],s)}return e}function Az(t){const e={},n=E(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&b(e,["fileData"],GK(s));const A=E(t,["functionCall"]);A!=null&&b(e,["functionCall"],KK(A));const u=E(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const h=E(t,["inlineData"]);h!=null&&b(e,["inlineData"],bK(h));const d=E(t,["text"]);d!=null&&b(e,["text"],d);const x=E(t,["thought"]);x!=null&&b(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&b(e,["thoughtSignature"],C);const _=E(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function lz(t){const e={},n=E(t,["category"]);if(n!=null&&b(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=E(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function cz(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=E(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],zK(r)),e}function uz(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=E(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=E(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),b(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&b(e,["googleMaps"],JK(A));const u=E(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],ZK(u));const h=E(t,["googleSearchRetrieval"]);h!=null&&b(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AA;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(AA||(AA={}));class mc{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let A={config:{}};!r||Object.keys(r).length===0?A={config:{}}:typeof r=="object"?A=Object.assign({},r):A=r,A.config&&(A.config.pageToken=n.nextPageToken),this.paramsInternal=A,this.pageInternalSize=(s=(i=A.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fz extends hA{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mc(AA.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=lb(this.apiClient,e),r=n._url,i=Ft("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,h=u.requests,d=[];for(const x of h){const C=Object.assign({},x);if(C.systemInstruction){const _=C.systemInstruction;delete C.systemInstruction;const N=C.request;N.systemInstruction=_,C.request=N}d.push(C)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),A=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(A)r.dest=`${A}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=UK(this.apiClient,e);return u=Ft("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>g2(x))}else{const d=lb(this.apiClient,e);return u=Ft("{model}:batchGenerateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>s1(x))}}async createEmbeddingsInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MK(this.apiClient,e);return s=Ft("{model}:asyncBatchEmbedContent",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>s1(h))}}async get(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=YK(this.apiClient,e);return u=Ft("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>g2(x))}else{const d=qK(this.apiClient,e);return u=Ft("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>s1(x))}}async cancel(e){var n,r,i,s;let A="",u={};if(this.apiClient.isVertexAI()){const h=IK(this.apiClient,e);A=Ft("batchPredictionJobs/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:A,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const h=SK(this.apiClient,e);A=Ft("batches/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:A,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=sz(e);return u=Ft("batchPredictionJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=oz(x),_=new sb;return Object.assign(_,C),_})}else{const d=iz(e);return u=Ft("batches",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=az(x),_=new sb;return Object.assign(_,C),_})}}async delete(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=LK(this.apiClient,e);return u=Ft("batchPredictionJobs/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>PK(x))}else{const d=OK(this.apiClient,e);return u=Ft("batches/{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>QK(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dz(t){const e={},n=E(t,["data"]);if(n!=null&&b(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function cb(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Mz(s))),b(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&b(e,["role"],r),e}function hz(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const A=E(t,["contents"]);if(e!==void 0&&A!=null){let x=ka(A);Array.isArray(x)&&(x=x.map(C=>cb(C))),b(e,["contents"],x)}const u=E(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],cb(ls(u)));const h=E(t,["tools"]);if(e!==void 0&&h!=null){let x=h;Array.isArray(x)&&(x=x.map(C=>Lz(C))),b(e,["tools"],x)}const d=E(t,["toolConfig"]);if(e!==void 0&&d!=null&&b(e,["toolConfig"],Oz(d)),E(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function gz(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=E(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=E(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const A=E(t,["contents"]);if(e!==void 0&&A!=null){let C=ka(A);Array.isArray(C)&&(C=C.map(_=>_)),b(e,["contents"],C)}const u=E(t,["systemInstruction"]);e!==void 0&&u!=null&&b(e,["systemInstruction"],ls(u));const h=E(t,["tools"]);if(e!==void 0&&h!=null){let C=h;Array.isArray(C)&&(C=C.map(_=>Qz(_))),b(e,["tools"],C)}const d=E(t,["toolConfig"]);e!==void 0&&d!=null&&b(e,["toolConfig"],d);const x=E(t,["kmsKeyName"]);return e!==void 0&&x!=null&&b(e,["encryption_spec","kmsKeyName"],x),n}function pz(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["model"],S3(t,r));const i=E(e,["config"]);return i!=null&&hz(i,n),n}function mz(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["model"],S3(t,r));const i=E(e,["config"]);return i!=null&&gz(i,n),n}function xz(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],gA(t,r)),n}function wz(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],gA(t,r)),n}function vz(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function yz(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Cz(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Ez(t){const e={},n=E(t,["id"]);n!=null&&b(e,["id"],n);const r=E(t,["args"]);r!=null&&b(e,["args"],r);const i=E(t,["name"]);if(i!=null&&b(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bz(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=E(t,["mode"]);if(r!=null&&b(e,["mode"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _z(t){const e={},n=E(t,["description"]);n!=null&&b(e,["description"],n);const r=E(t,["name"]);r!=null&&b(e,["name"],r);const i=E(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const A=E(t,["response"]);A!=null&&b(e,["response"],A);const u=E(t,["responseJsonSchema"]);if(u!=null&&b(e,["responseJsonSchema"],u),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Tz(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],gA(t,r)),n}function bz(t,e){const n={},r=E(e,["name"]);return r!=null&&b(n,["_url","name"],gA(t,r)),n}function Sz(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Iz(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Nz(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Fz(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Rz(t){const e={},n=E(t,["config"]);return n!=null&&Nz(n,e),e}function Dz(t){const e={},n=E(t,["config"]);return n!=null&&Fz(n,e),e}function Uz(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["cachedContents"],s)}return e}function kz(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["cachedContents"],s)}return e}function Mz(t){const e={},n=E(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&b(e,["fileData"],Cz(s));const A=E(t,["functionCall"]);A!=null&&b(e,["functionCall"],Ez(A));const u=E(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const h=E(t,["inlineData"]);h!=null&&b(e,["inlineData"],dz(h));const d=E(t,["text"]);d!=null&&b(e,["text"],d);const x=E(t,["thought"]);x!=null&&b(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&b(e,["thoughtSignature"],C);const _=E(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function Oz(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=E(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],Bz(r)),e}function Lz(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=E(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=E(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),b(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&b(e,["googleMaps"],Sz(A));const u=E(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],Iz(u));const h=E(t,["googleSearchRetrieval"]);h!=null&&b(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function Qz(t){const e={},n=E(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=E(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&b(e,["enterpriseWebSearch"],s);const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(_=>_z(_))),b(e,["functionDeclarations"],C)}const u=E(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const h=E(t,["googleSearch"]);h!=null&&b(e,["googleSearch"],h);const d=E(t,["googleSearchRetrieval"]);d!=null&&b(e,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&b(e,["urlContext"],x),e}function Pz(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Hz(t,e){const n={},r=E(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=E(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Vz(t,e){const n={},r=E(e,["name"]);r!=null&&b(n,["_url","name"],gA(t,r));const i=E(e,["config"]);return i!=null&&Pz(i,n),n}function jz(t,e){const n={},r=E(e,["name"]);r!=null&&b(n,["_url","name"],gA(t,r));const i=E(e,["config"]);return i!=null&&Hz(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gz extends hA{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mc(AA.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=mz(this.apiClient,e);return u=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=pz(this.apiClient,e);return u=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async get(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=bz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=Tz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async delete(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=wz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=yz(x),_=new rb;return Object.assign(_,C),_})}else{const d=xz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=vz(x),_=new rb;return Object.assign(_,C),_})}}async update(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=jz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>x)}else{const d=Vz(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>x)}}async listInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=Dz(e);return u=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=kz(x),_=new ib;return Object.assign(_,C),_})}else{const d=Rz(e);return u=Ft("cachedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=Uz(x),_=new ib;return Object.assign(_,C),_})}}}function Q1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ub(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(t){return this instanceof sn?(this.v=t,this):new sn(t)}function no(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",A),i[Symbol.asyncIterator]=function(){return this},i;function A(N){return function(D){return Promise.resolve(D).then(N,C)}}function u(N,D){r[N]&&(i[N]=function(R){return new Promise(function(k,j){s.push([N,R,k,j])>1||h(N,R)})},D&&(i[N]=D(i[N])))}function h(N,D){try{d(r[N](D))}catch(R){_(s[0][3],R)}}function d(N){N.value instanceof sn?Promise.resolve(N.value.v).then(x,C):_(s[0][2],N)}function x(N){h("next",N)}function C(N){h("throw",N)}function _(N,D){N(D),s.shift(),s.length&&h(s[0][0],s[0][1])}}function ro(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ub=="function"?ub(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(A){return new Promise(function(u,h){A=t[s](A),i(u,h,A.done,A.value)})}}function i(s,A,u,h){Promise.resolve(h).then(function(d){s({value:d,done:u})},A)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:H3(n)}function H3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function zz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fb(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!H3(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Wz{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Xz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Xz{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),zz(s)}async sendMessage(e){var n;await this.sendPromise;const r=ls(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,A,u;const h=await i,d=(A=(s=h.candidates)===null||s===void 0?void 0:s[0])===null||A===void 0?void 0:A.content,x=h.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];x!=null&&(_=(u=x.slice(C))!==null&&u!==void 0?u:[]);const N=d?[d]:[];this.recordHistory(r,N,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ls(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?fb(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return no(this,arguments,function*(){var i,s,A,u,h,d;const x=[];try{for(var C=!0,_=ro(e),N;N=yield sn(_.next()),i=N.done,!i;C=!0){u=N.value,C=!1;const D=u;if(Kz(D)){const R=(d=(h=D.candidates)===null||h===void 0?void 0:h[0])===null||d===void 0?void 0:d.content;R!==void 0&&x.push(R)}yield yield sn(D)}}catch(D){s={error:D}}finally{try{!C&&!i&&(A=_.return)&&(yield sn(A.call(_)))}finally{if(s)throw s.error}}this.recordHistory(n,x)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...fb(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class If extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,If.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qz(t){const e={},n=E(t,["file"]);return n!=null&&b(e,["file"],n),e}function Yz(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Jz(t){const e={},n=E(t,["name"]);return n!=null&&b(e,["_url","file"],U3(n)),e}function Zz(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function $z(t){const e={},n=E(t,["name"]);return n!=null&&b(e,["_url","file"],U3(n)),e}function eW(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function tW(t){const e={},n=E(t,["config"]);return n!=null&&eW(n,e),e}function nW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rW extends hA{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mc(AA.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tW(e);return s=Ft("files",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=nW(h),x=new oK;return Object.assign(x,d),x})}}async createInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qz(e);return s=Ft("upload/v1beta/files",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Yz(h),x=new AK;return Object.assign(x,d),x})}}async get(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$z(e);return s=Ft("files/{file}",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jz(e);return s=Ft("files/{file}",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=Zz(h),x=new lK;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(t){const e={},n=E(t,["data"]);if(n!=null&&b(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function iW(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vW(s))),b(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&b(e,["role"],r),e}function sW(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function aW(t){const e={},n=E(t,["id"]);n!=null&&b(e,["id"],n);const r=E(t,["args"]);r!=null&&b(e,["args"],r);const i=E(t,["name"]);if(i!=null&&b(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oW(t){const e={},n=E(t,["description"]);n!=null&&b(e,["description"],n);const r=E(t,["name"]);r!=null&&b(e,["name"],r);const i=E(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const A=E(t,["response"]);A!=null&&b(e,["response"],A);const u=E(t,["responseJsonSchema"]);if(u!=null&&b(e,["responseJsonSchema"],u),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function AW(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=E(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=E(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=E(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const A=E(t,["enableAffectiveDialog"]);A!=null&&b(e,["enableAffectiveDialog"],A);const u=E(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const h=E(t,["logprobs"]);h!=null&&b(e,["logprobs"],h);const d=E(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const x=E(t,["mediaResolution"]);x!=null&&b(e,["mediaResolution"],x);const C=E(t,["presencePenalty"]);C!=null&&b(e,["presencePenalty"],C);const _=E(t,["responseLogprobs"]);_!=null&&b(e,["responseLogprobs"],_);const N=E(t,["responseMimeType"]);N!=null&&b(e,["responseMimeType"],N);const D=E(t,["responseModalities"]);D!=null&&b(e,["responseModalities"],D);const R=E(t,["responseSchema"]);R!=null&&b(e,["responseSchema"],R);const k=E(t,["routingConfig"]);k!=null&&b(e,["routingConfig"],k);const j=E(t,["seed"]);j!=null&&b(e,["seed"],j);const K=E(t,["speechConfig"]);K!=null&&b(e,["speechConfig"],K);const Q=E(t,["stopSequences"]);Q!=null&&b(e,["stopSequences"],Q);const ne=E(t,["temperature"]);ne!=null&&b(e,["temperature"],ne);const ae=E(t,["thinkingConfig"]);ae!=null&&b(e,["thinkingConfig"],ae);const ee=E(t,["topK"]);ee!=null&&b(e,["topK"],ee);const M=E(t,["topP"]);if(M!=null&&b(e,["topP"],M),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lW(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function cW(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function uW(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&b(e,["setup","generationConfig","topP"],A);const u=E(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&b(e,["setup","generationConfig","speechConfig"],Mw(C));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],N);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&b(e,["setup","systemInstruction"],iW(ls(D)));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let ee=Qu(R);Array.isArray(ee)&&(ee=ee.map(M=>CW(Lu(M)))),b(e,["setup","tools"],ee)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&b(e,["setup","sessionResumption"],yW(k));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&b(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&b(e,["setup","realtimeInputConfig"],Q);const ne=E(t,["contextWindowCompression"]);e!==void 0&&ne!=null&&b(e,["setup","contextWindowCompression"],ne);const ae=E(t,["proactivity"]);if(e!==void 0&&ae!=null&&b(e,["setup","proactivity"],ae),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fW(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],AW(r));const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&b(e,["setup","generationConfig","topP"],A);const u=E(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&b(e,["setup","generationConfig","speechConfig"],Mw(C));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],N);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&b(e,["setup","systemInstruction"],ls(D));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let M=Qu(R);Array.isArray(M)&&(M=M.map(H=>EW(Lu(H)))),b(e,["setup","tools"],M)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&b(e,["setup","sessionResumption"],k);const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&b(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&b(e,["setup","realtimeInputConfig"],Q);const ne=E(t,["contextWindowCompression"]);e!==void 0&&ne!=null&&b(e,["setup","contextWindowCompression"],ne);const ae=E(t,["proactivity"]);e!==void 0&&ae!=null&&b(e,["setup","proactivity"],ae);const ee=E(t,["explicitVadSignal"]);return e!==void 0&&ee!=null&&b(e,["setup","explicitVadSignal"],ee),n}function dW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["setup","model"],Kn(t,r));const i=E(e,["config"]);return i!=null&&b(n,["config"],uW(i,n)),n}function hW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["setup","model"],Kn(t,r));const i=E(e,["config"]);return i!=null&&b(n,["config"],fW(i,n)),n}function gW(t){const e={},n=E(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function pW(t){const e={},n=E(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function mW(t){const e={},n=E(t,["media"]);if(n!=null){let d=I3(n);Array.isArray(d)&&(d=d.map(x=>a1(x))),b(e,["mediaChunks"],d)}const r=E(t,["audio"]);r!=null&&b(e,["audio"],a1(F3(r)));const i=E(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&b(e,["video"],a1(N3(s)));const A=E(t,["text"]);A!=null&&b(e,["text"],A);const u=E(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const h=E(t,["activityEnd"]);return h!=null&&b(e,["activityEnd"],h),e}function xW(t){const e={},n=E(t,["media"]);if(n!=null){let d=I3(n);Array.isArray(d)&&(d=d.map(x=>x)),b(e,["mediaChunks"],d)}const r=E(t,["audio"]);r!=null&&b(e,["audio"],F3(r));const i=E(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=E(t,["video"]);s!=null&&b(e,["video"],N3(s));const A=E(t,["text"]);A!=null&&b(e,["text"],A);const u=E(t,["activityStart"]);u!=null&&b(e,["activityStart"],u);const h=E(t,["activityEnd"]);return h!=null&&b(e,["activityEnd"],h),e}function wW(t){const e={},n=E(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=E(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=E(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const s=E(t,["toolCallCancellation"]);s!=null&&b(e,["toolCallCancellation"],s);const A=E(t,["usageMetadata"]);A!=null&&b(e,["usageMetadata"],BW(A));const u=E(t,["goAway"]);u!=null&&b(e,["goAway"],u);const h=E(t,["sessionResumptionUpdate"]);h!=null&&b(e,["sessionResumptionUpdate"],h);const d=E(t,["voiceActivityDetectionSignal"]);d!=null&&b(e,["voiceActivityDetectionSignal"],d);const x=E(t,["voiceActivity"]);return x!=null&&b(e,["voiceActivity"],_W(x)),e}function vW(t){const e={},n=E(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&b(e,["fileData"],sW(s));const A=E(t,["functionCall"]);A!=null&&b(e,["functionCall"],aW(A));const u=E(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const h=E(t,["inlineData"]);h!=null&&b(e,["inlineData"],a1(h));const d=E(t,["text"]);d!=null&&b(e,["text"],d);const x=E(t,["thought"]);x!=null&&b(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&b(e,["thoughtSignature"],C);const _=E(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function yW(t){const e={},n=E(t,["handle"]);if(n!=null&&b(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CW(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=E(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=E(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),b(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&b(e,["googleMaps"],lW(A));const u=E(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],cW(u));const h=E(t,["googleSearchRetrieval"]);h!=null&&b(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function EW(t){const e={},n=E(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=E(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&b(e,["enterpriseWebSearch"],s);const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(_=>oW(_))),b(e,["functionDeclarations"],C)}const u=E(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const h=E(t,["googleSearch"]);h!=null&&b(e,["googleSearch"],h);const d=E(t,["googleSearchRetrieval"]);d!=null&&b(e,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&b(e,["urlContext"],x),e}function BW(t){const e={},n=E(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=E(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=E(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const s=E(t,["toolUsePromptTokenCount"]);s!=null&&b(e,["toolUsePromptTokenCount"],s);const A=E(t,["thoughtsTokenCount"]);A!=null&&b(e,["thoughtsTokenCount"],A);const u=E(t,["totalTokenCount"]);u!=null&&b(e,["totalTokenCount"],u);const h=E(t,["promptTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(D=>D)),b(e,["promptTokensDetails"],N)}const d=E(t,["cacheTokensDetails"]);if(d!=null){let N=d;Array.isArray(N)&&(N=N.map(D=>D)),b(e,["cacheTokensDetails"],N)}const x=E(t,["candidatesTokensDetails"]);if(x!=null){let N=x;Array.isArray(N)&&(N=N.map(D=>D)),b(e,["responseTokensDetails"],N)}const C=E(t,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(D=>D)),b(e,["toolUsePromptTokensDetails"],N)}const _=E(t,["trafficType"]);return _!=null&&b(e,["trafficType"],_),e}function _W(t){const e={},n=E(t,["type"]);return n!=null&&b(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TW(t){const e={},n=E(t,["data"]);if(n!=null&&b(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function bW(t){const e={},n=E(t,["content"]);n!=null&&b(e,["content"],n);const r=E(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],SW(r));const i=E(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=E(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const A=E(t,["avgLogprobs"]);A!=null&&b(e,["avgLogprobs"],A);const u=E(t,["groundingMetadata"]);u!=null&&b(e,["groundingMetadata"],u);const h=E(t,["index"]);h!=null&&b(e,["index"],h);const d=E(t,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const x=E(t,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(N=>N)),b(e,["safetyRatings"],_)}const C=E(t,["urlContextMetadata"]);return C!=null&&b(e,["urlContextMetadata"],C),e}function SW(t){const e={},n=E(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function IW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let s=ka(i);Array.isArray(s)&&(s=s.map(A=>A)),b(n,["contents"],s)}return n}function NW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["tokensInfo"],i)}return e}function FW(t){const e={},n=E(t,["values"]);n!=null&&b(e,["values"],n);const r=E(t,["statistics"]);return r!=null&&b(e,["statistics"],RW(r)),e}function RW(t){const e={},n=E(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=E(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function pg(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HX(s))),b(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&b(e,["role"],r),e}function DW(t){const e={},n=E(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=E(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function UW(t){const e={};if(E(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(E(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(E(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kW(t,e){const n={},r=E(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],ls(r));const i=E(t,["tools"]);if(e!==void 0&&i!=null){let A=i;Array.isArray(A)&&(A=A.map(u=>K3(u))),b(e,["tools"],A)}const s=E(t,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],TX(s)),n}function MW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let A=ka(i);Array.isArray(A)&&(A=A.map(u=>pg(u))),b(n,["contents"],A)}const s=E(e,["config"]);return s!=null&&UW(s),n}function OW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let A=ka(i);Array.isArray(A)&&(A=A.map(u=>u)),b(n,["contents"],A)}const s=E(e,["config"]);return s!=null&&kW(s,n),n}function LW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=E(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function QW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function PW(t,e){const n={},r=E(e,["model"]);return r!=null&&b(n,["_url","name"],Kn(t,r)),n}function HW(t,e){const n={},r=E(e,["model"]);return r!=null&&b(n,["_url","name"],Kn(t,r)),n}function VW(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function jW(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function GW(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=E(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=E(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const A=E(t,["aspectRatio"]);e!==void 0&&A!=null&&b(e,["parameters","aspectRatio"],A);const u=E(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const h=E(t,["seed"]);e!==void 0&&h!=null&&b(e,["parameters","seed"],h);const d=E(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const x=E(t,["personGeneration"]);e!==void 0&&x!=null&&b(e,["parameters","personGeneration"],x);const C=E(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&b(e,["parameters","includeSafetyAttributes"],C);const _=E(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const N=E(t,["language"]);e!==void 0&&N!=null&&b(e,["parameters","language"],N);const D=E(t,["outputMimeType"]);e!==void 0&&D!=null&&b(e,["parameters","outputOptions","mimeType"],D);const R=E(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&b(e,["parameters","outputOptions","compressionQuality"],R);const k=E(t,["addWatermark"]);e!==void 0&&k!=null&&b(e,["parameters","addWatermark"],k);const j=E(t,["labels"]);e!==void 0&&j!=null&&b(e,["labels"],j);const K=E(t,["editMode"]);e!==void 0&&K!=null&&b(e,["parameters","editMode"],K);const Q=E(t,["baseSteps"]);return e!==void 0&&Q!=null&&b(e,["parameters","editConfig","baseSteps"],Q),n}function KW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=E(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>WX(h))),b(n,["instances[0]","referenceImages"],u)}const A=E(e,["config"]);return A!=null&&GW(A,n),n}function zW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>mg(s))),b(e,["generatedImages"],i)}return e}function WW(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=E(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),E(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(E(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XW(t,e){const n={},r=E(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=E(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const s=E(t,["outputDimensionality"]);e!==void 0&&s!=null&&b(e,["parameters","outputDimensionality"],s);const A=E(t,["mimeType"]);e!==void 0&&A!=null&&b(e,["instances[]","mimeType"],A);const u=E(t,["autoTruncate"]);return e!==void 0&&u!=null&&b(e,["parameters","autoTruncate"],u),n}function qW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let u=Dw(t,i);Array.isArray(u)&&(u=u.map(h=>h)),b(n,["requests[]","content"],u)}const s=E(e,["config"]);s!=null&&WW(s,n);const A=E(e,["model"]);return A!==void 0&&b(n,["requests[]","model"],Kn(t,A)),n}function YW(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let A=Dw(t,i);Array.isArray(A)&&(A=A.map(u=>u)),b(n,["instances[]","content"],A)}const s=E(e,["config"]);return s!=null&&XW(s,n),n}function JW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["embeddings"],s)}const i=E(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function ZW(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>FW(A))),b(e,["embeddings"],s)}const i=E(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function $W(t){const e={},n=E(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=E(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function eX(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function tX(t){const e={},n=E(t,["id"]);n!=null&&b(e,["id"],n);const r=E(t,["args"]);r!=null&&b(e,["args"],r);const i=E(t,["name"]);if(i!=null&&b(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nX(t){const e={},n=E(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=E(t,["mode"]);if(r!=null&&b(e,["mode"],r),E(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rX(t){const e={},n=E(t,["description"]);n!=null&&b(e,["description"],n);const r=E(t,["name"]);r!=null&&b(e,["name"],r);const i=E(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=E(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const A=E(t,["response"]);A!=null&&b(e,["response"],A);const u=E(t,["responseJsonSchema"]);if(u!=null&&b(e,["responseJsonSchema"],u),E(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function iX(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],pg(ls(i)));const s=E(e,["temperature"]);s!=null&&b(r,["temperature"],s);const A=E(e,["topP"]);A!=null&&b(r,["topP"],A);const u=E(e,["topK"]);u!=null&&b(r,["topK"],u);const h=E(e,["candidateCount"]);h!=null&&b(r,["candidateCount"],h);const d=E(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const x=E(e,["stopSequences"]);x!=null&&b(r,["stopSequences"],x);const C=E(e,["responseLogprobs"]);C!=null&&b(r,["responseLogprobs"],C);const _=E(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const N=E(e,["presencePenalty"]);N!=null&&b(r,["presencePenalty"],N);const D=E(e,["frequencyPenalty"]);D!=null&&b(r,["frequencyPenalty"],D);const R=E(e,["seed"]);R!=null&&b(r,["seed"],R);const k=E(e,["responseMimeType"]);k!=null&&b(r,["responseMimeType"],k);const j=E(e,["responseSchema"]);j!=null&&b(r,["responseSchema"],Uw(j));const K=E(e,["responseJsonSchema"]);if(K!=null&&b(r,["responseJsonSchema"],K),E(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(E(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=E(e,["safetySettings"]);if(n!==void 0&&Q!=null){let X=Q;Array.isArray(X)&&(X=X.map(Me=>XX(Me))),b(n,["safetySettings"],X)}const ne=E(e,["tools"]);if(n!==void 0&&ne!=null){let X=Qu(ne);Array.isArray(X)&&(X=X.map(Me=>tq(Lu(Me)))),b(n,["tools"],X)}const ae=E(e,["toolConfig"]);if(n!==void 0&&ae!=null&&b(n,["toolConfig"],eq(ae)),E(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=E(e,["cachedContent"]);n!==void 0&&ee!=null&&b(n,["cachedContent"],gA(t,ee));const M=E(e,["responseModalities"]);M!=null&&b(r,["responseModalities"],M);const H=E(e,["mediaResolution"]);H!=null&&b(r,["mediaResolution"],H);const O=E(e,["speechConfig"]);if(O!=null&&b(r,["speechConfig"],kw(O)),E(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=E(e,["thinkingConfig"]);z!=null&&b(r,["thinkingConfig"],z);const J=E(e,["imageConfig"]);J!=null&&b(r,["imageConfig"],FX(J));const W=E(e,["enableEnhancedCivicAnswers"]);if(W!=null&&b(r,["enableEnhancedCivicAnswers"],W),E(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function sX(t,e,n){const r={},i=E(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],ls(i));const s=E(e,["temperature"]);s!=null&&b(r,["temperature"],s);const A=E(e,["topP"]);A!=null&&b(r,["topP"],A);const u=E(e,["topK"]);u!=null&&b(r,["topK"],u);const h=E(e,["candidateCount"]);h!=null&&b(r,["candidateCount"],h);const d=E(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const x=E(e,["stopSequences"]);x!=null&&b(r,["stopSequences"],x);const C=E(e,["responseLogprobs"]);C!=null&&b(r,["responseLogprobs"],C);const _=E(e,["logprobs"]);_!=null&&b(r,["logprobs"],_);const N=E(e,["presencePenalty"]);N!=null&&b(r,["presencePenalty"],N);const D=E(e,["frequencyPenalty"]);D!=null&&b(r,["frequencyPenalty"],D);const R=E(e,["seed"]);R!=null&&b(r,["seed"],R);const k=E(e,["responseMimeType"]);k!=null&&b(r,["responseMimeType"],k);const j=E(e,["responseSchema"]);j!=null&&b(r,["responseSchema"],Uw(j));const K=E(e,["responseJsonSchema"]);K!=null&&b(r,["responseJsonSchema"],K);const Q=E(e,["routingConfig"]);Q!=null&&b(r,["routingConfig"],Q);const ne=E(e,["modelSelectionConfig"]);ne!=null&&b(r,["modelConfig"],ne);const ae=E(e,["safetySettings"]);if(n!==void 0&&ae!=null){let oe=ae;Array.isArray(oe)&&(oe=oe.map(je=>je)),b(n,["safetySettings"],oe)}const ee=E(e,["tools"]);if(n!==void 0&&ee!=null){let oe=Qu(ee);Array.isArray(oe)&&(oe=oe.map(je=>K3(Lu(je)))),b(n,["tools"],oe)}const M=E(e,["toolConfig"]);n!==void 0&&M!=null&&b(n,["toolConfig"],M);const H=E(e,["labels"]);n!==void 0&&H!=null&&b(n,["labels"],H);const O=E(e,["cachedContent"]);n!==void 0&&O!=null&&b(n,["cachedContent"],gA(t,O));const z=E(e,["responseModalities"]);z!=null&&b(r,["responseModalities"],z);const J=E(e,["mediaResolution"]);J!=null&&b(r,["mediaResolution"],J);const W=E(e,["speechConfig"]);W!=null&&b(r,["speechConfig"],kw(W));const X=E(e,["audioTimestamp"]);X!=null&&b(r,["audioTimestamp"],X);const Me=E(e,["thinkingConfig"]);Me!=null&&b(r,["thinkingConfig"],Me);const Ee=E(e,["imageConfig"]);if(Ee!=null&&b(r,["imageConfig"],RX(Ee)),E(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ve=E(e,["modelArmorConfig"]);return n!==void 0&&ve!=null&&b(n,["modelArmorConfig"],ve),r}function db(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let A=ka(i);Array.isArray(A)&&(A=A.map(u=>pg(u))),b(n,["contents"],A)}const s=E(e,["config"]);return s!=null&&b(n,["generationConfig"],iX(t,s,n)),n}function hb(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["contents"]);if(i!=null){let A=ka(i);Array.isArray(A)&&(A=A.map(u=>u)),b(n,["contents"],A)}const s=E(e,["config"]);return s!=null&&b(n,["generationConfig"],sX(t,s,n)),n}function gb(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(d=>bW(d))),b(e,["candidates"],h)}const i=E(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=E(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const A=E(t,["responseId"]);A!=null&&b(e,["responseId"],A);const u=E(t,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function pb(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(x=>x)),b(e,["candidates"],d)}const i=E(t,["createTime"]);i!=null&&b(e,["createTime"],i);const s=E(t,["modelVersion"]);s!=null&&b(e,["modelVersion"],s);const A=E(t,["promptFeedback"]);A!=null&&b(e,["promptFeedback"],A);const u=E(t,["responseId"]);u!=null&&b(e,["responseId"],u);const h=E(t,["usageMetadata"]);return h!=null&&b(e,["usageMetadata"],h),e}function aX(t,e){const n={};if(E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=E(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=E(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const s=E(t,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const A=E(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&b(e,["parameters","safetySetting"],A);const u=E(t,["personGeneration"]);e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u);const h=E(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&b(e,["parameters","includeSafetyAttributes"],h);const d=E(t,["includeRaiReason"]);e!==void 0&&d!=null&&b(e,["parameters","includeRaiReason"],d);const x=E(t,["language"]);e!==void 0&&x!=null&&b(e,["parameters","language"],x);const C=E(t,["outputMimeType"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","mimeType"],C);const _=E(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_),E(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=E(t,["imageSize"]);if(e!==void 0&&N!=null&&b(e,["parameters","sampleImageSize"],N),E(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function oX(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=E(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=E(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const A=E(t,["aspectRatio"]);e!==void 0&&A!=null&&b(e,["parameters","aspectRatio"],A);const u=E(t,["guidanceScale"]);e!==void 0&&u!=null&&b(e,["parameters","guidanceScale"],u);const h=E(t,["seed"]);e!==void 0&&h!=null&&b(e,["parameters","seed"],h);const d=E(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const x=E(t,["personGeneration"]);e!==void 0&&x!=null&&b(e,["parameters","personGeneration"],x);const C=E(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&b(e,["parameters","includeSafetyAttributes"],C);const _=E(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const N=E(t,["language"]);e!==void 0&&N!=null&&b(e,["parameters","language"],N);const D=E(t,["outputMimeType"]);e!==void 0&&D!=null&&b(e,["parameters","outputOptions","mimeType"],D);const R=E(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&b(e,["parameters","outputOptions","compressionQuality"],R);const k=E(t,["addWatermark"]);e!==void 0&&k!=null&&b(e,["parameters","addWatermark"],k);const j=E(t,["labels"]);e!==void 0&&j!=null&&b(e,["labels"],j);const K=E(t,["imageSize"]);e!==void 0&&K!=null&&b(e,["parameters","sampleImageSize"],K);const Q=E(t,["enhancePrompt"]);return e!==void 0&&Q!=null&&b(e,["parameters","enhancePrompt"],Q),n}function AX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=E(e,["config"]);return s!=null&&aX(s,n),n}function lX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=E(e,["config"]);return s!=null&&oX(s,n),n}function cX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>CX(A))),b(e,["generatedImages"],s)}const i=E(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],j3(i)),e}function uX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>mg(A))),b(e,["generatedImages"],s)}const i=E(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],G3(i)),e}function fX(t,e){const n={},r=E(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),E(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(E(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=E(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),E(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=E(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const A=E(t,["resolution"]);e!==void 0&&A!=null&&b(e,["parameters","resolution"],A);const u=E(t,["personGeneration"]);if(e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u),E(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=E(t,["negativePrompt"]);e!==void 0&&h!=null&&b(e,["parameters","negativePrompt"],h);const d=E(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&b(e,["parameters","enhancePrompt"],d),E(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=E(t,["lastFrame"]);e!==void 0&&x!=null&&b(e,["instances[0]","lastFrame"],xg(x));const C=E(t,["referenceImages"]);if(e!==void 0&&C!=null){let _=C;Array.isArray(_)&&(_=_.map(N=>hq(N))),b(e,["instances[0]","referenceImages"],_)}if(E(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(E(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function dX(t,e){const n={},r=E(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=E(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const s=E(t,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const A=E(t,["durationSeconds"]);e!==void 0&&A!=null&&b(e,["parameters","durationSeconds"],A);const u=E(t,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const h=E(t,["aspectRatio"]);e!==void 0&&h!=null&&b(e,["parameters","aspectRatio"],h);const d=E(t,["resolution"]);e!==void 0&&d!=null&&b(e,["parameters","resolution"],d);const x=E(t,["personGeneration"]);e!==void 0&&x!=null&&b(e,["parameters","personGeneration"],x);const C=E(t,["pubsubTopic"]);e!==void 0&&C!=null&&b(e,["parameters","pubsubTopic"],C);const _=E(t,["negativePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","negativePrompt"],_);const N=E(t,["enhancePrompt"]);e!==void 0&&N!=null&&b(e,["parameters","enhancePrompt"],N);const D=E(t,["generateAudio"]);e!==void 0&&D!=null&&b(e,["parameters","generateAudio"],D);const R=E(t,["lastFrame"]);e!==void 0&&R!=null&&b(e,["instances[0]","lastFrame"],ao(R));const k=E(t,["referenceImages"]);if(e!==void 0&&k!=null){let Q=k;Array.isArray(Q)&&(Q=Q.map(ne=>gq(ne))),b(e,["instances[0]","referenceImages"],Q)}const j=E(t,["mask"]);e!==void 0&&j!=null&&b(e,["instances[0]","mask"],dq(j));const K=E(t,["compressionQuality"]);return e!==void 0&&K!=null&&b(e,["parameters","compressionQuality"],K),n}function hX(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response","generateVideoResponse"]);return A!=null&&b(e,["response"],xX(A)),e}function gX(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response"]);return A!=null&&b(e,["response"],wX(A)),e}function pX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=E(e,["image"]);s!=null&&b(n,["instances[0]","image"],xg(s));const A=E(e,["video"]);A!=null&&b(n,["instances[0]","video"],z3(A));const u=E(e,["source"]);u!=null&&vX(u,n);const h=E(e,["config"]);return h!=null&&fX(h,n),n}function mX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=E(e,["image"]);s!=null&&b(n,["instances[0]","image"],ao(s));const A=E(e,["video"]);A!=null&&b(n,["instances[0]","video"],W3(A));const u=E(e,["source"]);u!=null&&yX(u,n);const h=E(e,["config"]);return h!=null&&dX(h,n),n}function xX(t){const e={},n=E(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>BX(A))),b(e,["generatedVideos"],s)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function wX(t){const e={},n=E(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(A=>_X(A))),b(e,["generatedVideos"],s)}const r=E(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=E(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function vX(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],xg(i));const s=E(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],z3(s)),n}function yX(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],ao(i));const s=E(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],W3(s)),n}function CX(t){const e={},n=E(t,["_self"]);n!=null&&b(e,["image"],DX(n));const r=E(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=E(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],j3(i)),e}function mg(t){const e={},n=E(t,["_self"]);n!=null&&b(e,["image"],V3(n));const r=E(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=E(t,["_self"]);i!=null&&b(e,["safetyAttributes"],G3(i));const s=E(t,["prompt"]);return s!=null&&b(e,["enhancedPrompt"],s),e}function EX(t){const e={},n=E(t,["_self"]);n!=null&&b(e,["mask"],V3(n));const r=E(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["labels"],i)}return e}function BX(t){const e={},n=E(t,["video"]);return n!=null&&b(e,["video"],uq(n)),e}function _X(t){const e={},n=E(t,["_self"]);return n!=null&&b(e,["video"],fq(n)),e}function TX(t){const e={},n=E(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=E(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=E(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=E(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const A=E(t,["enableAffectiveDialog"]);A!=null&&b(e,["enableAffectiveDialog"],A);const u=E(t,["frequencyPenalty"]);u!=null&&b(e,["frequencyPenalty"],u);const h=E(t,["logprobs"]);h!=null&&b(e,["logprobs"],h);const d=E(t,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const x=E(t,["mediaResolution"]);x!=null&&b(e,["mediaResolution"],x);const C=E(t,["presencePenalty"]);C!=null&&b(e,["presencePenalty"],C);const _=E(t,["responseLogprobs"]);_!=null&&b(e,["responseLogprobs"],_);const N=E(t,["responseMimeType"]);N!=null&&b(e,["responseMimeType"],N);const D=E(t,["responseModalities"]);D!=null&&b(e,["responseModalities"],D);const R=E(t,["responseSchema"]);R!=null&&b(e,["responseSchema"],R);const k=E(t,["routingConfig"]);k!=null&&b(e,["routingConfig"],k);const j=E(t,["seed"]);j!=null&&b(e,["seed"],j);const K=E(t,["speechConfig"]);K!=null&&b(e,["speechConfig"],K);const Q=E(t,["stopSequences"]);Q!=null&&b(e,["stopSequences"],Q);const ne=E(t,["temperature"]);ne!=null&&b(e,["temperature"],ne);const ae=E(t,["thinkingConfig"]);ae!=null&&b(e,["thinkingConfig"],ae);const ee=E(t,["topK"]);ee!=null&&b(e,["topK"],ee);const M=E(t,["topP"]);if(M!=null&&b(e,["topP"],M),E(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bX(t,e){const n={},r=E(e,["model"]);return r!=null&&b(n,["_url","name"],Kn(t,r)),n}function SX(t,e){const n={},r=E(e,["model"]);return r!=null&&b(n,["_url","name"],Kn(t,r)),n}function IX(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function NX(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function FX(t){const e={},n=E(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=E(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),E(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(E(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(E(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function RX(t){const e={},n=E(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=E(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=E(t,["personGeneration"]);i!=null&&b(e,["personGeneration"],i);const s=E(t,["outputMimeType"]);s!=null&&b(e,["imageOutputOptions","mimeType"],s);const A=E(t,["outputCompressionQuality"]);return A!=null&&b(e,["imageOutputOptions","compressionQuality"],A),e}function DX(t){const e={},n=E(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],ml(n));const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function V3(t){const e={},n=E(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],ml(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function xg(t){const e={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=E(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],ml(n));const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function ao(t){const e={},n=E(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=E(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],ml(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function UX(t,e,n){const r={},i=E(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=E(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const A=E(e,["filter"]);n!==void 0&&A!=null&&b(n,["_query","filter"],A);const u=E(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],k3(t,u)),r}function kX(t,e,n){const r={},i=E(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=E(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const A=E(e,["filter"]);n!==void 0&&A!=null&&b(n,["_query","filter"],A);const u=E(e,["queryBase"]);return n!==void 0&&u!=null&&b(n,["_url","models_url"],k3(t,u)),r}function MX(t,e){const n={},r=E(e,["config"]);return r!=null&&UX(t,r,n),n}function OX(t,e){const n={},r=E(e,["config"]);return r!=null&&kX(t,r,n),n}function LX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["_self"]);if(i!=null){let s=M3(i);Array.isArray(s)&&(s=s.map(A=>p2(A))),b(e,["models"],s)}return e}function QX(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["_self"]);if(i!=null){let s=M3(i);Array.isArray(s)&&(s=s.map(A=>m2(A))),b(e,["models"],s)}return e}function PX(t){const e={},n=E(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=E(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=E(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function p2(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=E(t,["description"]);i!=null&&b(e,["description"],i);const s=E(t,["version"]);s!=null&&b(e,["version"],s);const A=E(t,["_self"]);A!=null&&b(e,["tunedModelInfo"],nq(A));const u=E(t,["inputTokenLimit"]);u!=null&&b(e,["inputTokenLimit"],u);const h=E(t,["outputTokenLimit"]);h!=null&&b(e,["outputTokenLimit"],h);const d=E(t,["supportedGenerationMethods"]);d!=null&&b(e,["supportedActions"],d);const x=E(t,["temperature"]);x!=null&&b(e,["temperature"],x);const C=E(t,["maxTemperature"]);C!=null&&b(e,["maxTemperature"],C);const _=E(t,["topP"]);_!=null&&b(e,["topP"],_);const N=E(t,["topK"]);N!=null&&b(e,["topK"],N);const D=E(t,["thinking"]);return D!=null&&b(e,["thinking"],D),e}function m2(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=E(t,["description"]);i!=null&&b(e,["description"],i);const s=E(t,["versionId"]);s!=null&&b(e,["version"],s);const A=E(t,["deployedModels"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(_=>$W(_))),b(e,["endpoints"],C)}const u=E(t,["labels"]);u!=null&&b(e,["labels"],u);const h=E(t,["_self"]);h!=null&&b(e,["tunedModelInfo"],rq(h));const d=E(t,["defaultCheckpointId"]);d!=null&&b(e,["defaultCheckpointId"],d);const x=E(t,["checkpoints"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>_)),b(e,["checkpoints"],C)}return e}function HX(t){const e={},n=E(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&b(e,["fileData"],eX(s));const A=E(t,["functionCall"]);A!=null&&b(e,["functionCall"],tX(A));const u=E(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const h=E(t,["inlineData"]);h!=null&&b(e,["inlineData"],TW(h));const d=E(t,["text"]);d!=null&&b(e,["text"],d);const x=E(t,["thought"]);x!=null&&b(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&b(e,["thoughtSignature"],C);const _=E(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function VX(t){const e={},n=E(t,["productImage"]);return n!=null&&b(e,["image"],ao(n)),e}function jX(t,e){const n={},r=E(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=E(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const s=E(t,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const A=E(t,["seed"]);e!==void 0&&A!=null&&b(e,["parameters","seed"],A);const u=E(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const h=E(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const d=E(t,["addWatermark"]);e!==void 0&&d!=null&&b(e,["parameters","addWatermark"],d);const x=E(t,["outputMimeType"]);e!==void 0&&x!=null&&b(e,["parameters","outputOptions","mimeType"],x);const C=E(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","compressionQuality"],C);const _=E(t,["enhancePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_);const N=E(t,["labels"]);return e!==void 0&&N!=null&&b(e,["labels"],N),n}function GX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["source"]);i!=null&&zX(i,n);const s=E(e,["config"]);return s!=null&&jX(s,n),n}function KX(t){const e={},n=E(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mg(i))),b(e,["generatedImages"],r)}return e}function zX(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=E(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],ao(i));const s=E(t,["productImages"]);if(e!==void 0&&s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>VX(u))),b(e,["instances[0]","productImages"],A)}return n}function WX(t){const e={},n=E(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],ao(n));const r=E(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=E(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const s=E(t,["maskImageConfig"]);s!=null&&b(e,["maskImageConfig"],PX(s));const A=E(t,["controlImageConfig"]);A!=null&&b(e,["controlImageConfig"],DW(A));const u=E(t,["styleImageConfig"]);u!=null&&b(e,["styleImageConfig"],u);const h=E(t,["subjectImageConfig"]);return h!=null&&b(e,["subjectImageConfig"],h),e}function j3(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=E(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=E(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function G3(t){const e={},n=E(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=E(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=E(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function XX(t){const e={},n=E(t,["category"]);if(n!=null&&b(e,["category"],n),E(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=E(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function qX(t){const e={},n=E(t,["image"]);return n!=null&&b(e,["image"],ao(n)),e}function YX(t,e){const n={},r=E(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=E(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const s=E(t,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const A=E(t,["maskDilation"]);e!==void 0&&A!=null&&b(e,["parameters","maskDilation"],A);const u=E(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&b(e,["parameters","binaryColorThreshold"],u);const h=E(t,["labels"]);return e!==void 0&&h!=null&&b(e,["labels"],h),n}function JX(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["source"]);i!=null&&$X(i,n);const s=E(e,["config"]);return s!=null&&YX(s,n),n}function ZX(t){const e={},n=E(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>EX(i))),b(e,["generatedMasks"],r)}return e}function $X(t,e){const n={},r=E(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=E(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],ao(i));const s=E(t,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],qX(s)),n}function eq(t){const e={},n=E(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=E(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],nX(r)),e}function tq(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=E(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=E(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),b(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&b(e,["googleMaps"],IX(A));const u=E(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],NX(u));const h=E(t,["googleSearchRetrieval"]);h!=null&&b(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function K3(t){const e={},n=E(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=E(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),E(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=E(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const s=E(t,["enterpriseWebSearch"]);s!=null&&b(e,["enterpriseWebSearch"],s);const A=E(t,["functionDeclarations"]);if(A!=null){let C=A;Array.isArray(C)&&(C=C.map(_=>rX(_))),b(e,["functionDeclarations"],C)}const u=E(t,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const h=E(t,["googleSearch"]);h!=null&&b(e,["googleSearch"],h);const d=E(t,["googleSearchRetrieval"]);d!=null&&b(e,["googleSearchRetrieval"],d);const x=E(t,["urlContext"]);return x!=null&&b(e,["urlContext"],x),e}function nq(t){const e={},n=E(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=E(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=E(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function rq(t){const e={},n=E(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=E(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=E(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function iq(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=E(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=E(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function sq(t,e){const n={},r=E(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=E(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=E(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function aq(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","name"],Kn(t,r));const i=E(e,["config"]);return i!=null&&iq(i,n),n}function oq(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["config"]);return i!=null&&sq(i,n),n}function Aq(t,e){const n={},r=E(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=E(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const s=E(t,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const A=E(t,["includeRaiReason"]);e!==void 0&&A!=null&&b(e,["parameters","includeRaiReason"],A);const u=E(t,["outputMimeType"]);e!==void 0&&u!=null&&b(e,["parameters","outputOptions","mimeType"],u);const h=E(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","compressionQuality"],h);const d=E(t,["enhanceInputImage"]);e!==void 0&&d!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],d);const x=E(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const C=E(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const _=E(t,["numberOfImages"]);e!==void 0&&_!=null&&b(e,["parameters","sampleCount"],_);const N=E(t,["mode"]);return e!==void 0&&N!=null&&b(e,["parameters","mode"],N),n}function lq(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["_url","model"],Kn(t,r));const i=E(e,["image"]);i!=null&&b(n,["instances[0]","image"],ao(i));const s=E(e,["upscaleFactor"]);s!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],s);const A=E(e,["config"]);return A!=null&&Aq(A,n),n}function cq(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>mg(s))),b(e,["generatedImages"],i)}return e}function uq(t){const e={},n=E(t,["uri"]);n!=null&&b(e,["uri"],n);const r=E(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],ml(r));const i=E(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function fq(t){const e={},n=E(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=E(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],ml(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function dq(t){const e={},n=E(t,["image"]);n!=null&&b(e,["_self"],ao(n));const r=E(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function hq(t){const e={},n=E(t,["image"]);n!=null&&b(e,["image"],xg(n));const r=E(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function gq(t){const e={},n=E(t,["image"]);n!=null&&b(e,["image"],ao(n));const r=E(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function z3(t){const e={},n=E(t,["uri"]);n!=null&&b(e,["uri"],n);const r=E(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],ml(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function W3(t){const e={},n=E(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=E(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],ml(r));const i=E(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pq(t,e){const n={},r=E(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function mq(t){const e={},n=E(t,["config"]);return n!=null&&pq(n,e),e}function xq(t,e){const n={},r=E(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function wq(t){const e={},n=E(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=E(t,["config"]);return r!=null&&xq(r,e),e}function vq(t){const e={},n=E(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function yq(t,e){const n={},r=E(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["customMetadata"],s)}const i=E(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function Cq(t){const e={},n=E(t,["name"]);n!=null&&b(e,["name"],n);const r=E(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=E(t,["done"]);i!=null&&b(e,["done"],i);const s=E(t,["error"]);s!=null&&b(e,["error"],s);const A=E(t,["response"]);return A!=null&&b(e,["response"],Bq(A)),e}function Eq(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=E(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=E(t,["config"]);return i!=null&&yq(i,e),e}function Bq(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["parent"]);r!=null&&b(e,["parent"],r);const i=E(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function _q(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Tq(t){const e={},n=E(t,["config"]);return n!=null&&_q(n,e),e}function bq(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["fileSearchStores"],s)}return e}function X3(t,e){const n={},r=E(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=E(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const s=E(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),b(e,["customMetadata"],u)}const A=E(t,["chunkingConfig"]);return e!==void 0&&A!=null&&b(e,["chunkingConfig"],A),n}function Sq(t){const e={},n=E(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=E(t,["config"]);return r!=null&&X3(r,e),e}function Iq(t){const e={},n=E(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nq="Content-Type",Fq="X-Server-Timeout",Rq="User-Agent",x2="x-goog-api-client",Dq="1.38.0",Uq=`google-genai-sdk/${Dq}`,kq="v1beta1",Mq="v1beta";class Oq{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:kq}else{if(!this.clientOptions.apiKey)throw new If({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Mq,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===f2.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[A,u]of Object.entries(e.queryParams))i.searchParams.append(A,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,A=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=A}return n&&n.extraBody!==null&&Lq(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mb(i),new d2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await mb(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return no(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let A="";const u="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:x}=yield sn(i.read());if(d){if(A.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const C=s.decode(x,{stream:!0});try{const D=JSON.parse(C);if("error"in D){const R=JSON.parse(JSON.stringify(D.error)),k=R.status,j=R.code,K=`got status: ${k}. ${JSON.stringify(D)}`;if(j>=400&&j<600)throw new If({message:K,status:j})}}catch(D){if(D.name==="ApiError")throw D}A+=C;let _=-1,N=0;for(;;){_=-1,N=0;for(const k of h){const j=A.indexOf(k);j!==-1&&(_===-1||j<_)&&(_=j,N=k.length)}if(_===-1)break;const D=A.substring(0,_);A=A.substring(_+N);const R=D.trim();if(R.startsWith(u)){const k=R.substring(u.length).trim();try{const j=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield sn(new d2(j))}catch(j){throw new Error(`exception parsing stream chunk ${k}. ${j}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Uq+" "+this.clientOptions.userAgentExtra;return e[Rq]=n,e[x2]=n,e[Nq]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Fq,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,A=await s.stat(e);i.sizeBytes=String(A.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:A.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const h={file:i},d=this.getFileName(e),x=Ft("upload/v1beta/files",h._url),C=await this.fetchUploadUrl(x,i.sizeBytes,i.mimeType,d,h,n==null?void 0:n.httpOptions);return s.upload(e,C,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,A=await s.stat(n),u=String(A.size),h=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:A.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(n),C={};r!=null&&X3(r,C);const _=await this.fetchUploadUrl(d,u,h,x,C,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,A){var u;let h={};A?h=A:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:h});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function mb(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new If({message:i,status:n}):new Error(i)}}function Lq(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,A){const u=Object.assign({},s);for(const h in A)if(Object.prototype.hasOwnProperty.call(A,h)){const d=A[h],x=u[h];d&&typeof d=="object"&&!Array.isArray(d)&&x&&typeof x=="object"&&!Array.isArray(x)?u[h]=r(x,d):(x&&d&&typeof x!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof x}, New type: ${typeof d}. Overwriting.`),u[h]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qq="mcp_used/unknown";let Pq=!1;function q3(t){for(const e of t)if(Hq(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Pq}function Y3(t){var e;const n=(e=t[x2])!==null&&e!==void 0?e:"";t[x2]=(n+` ${Qq}`).trimStart()}function Hq(t){return t!==null&&typeof t=="object"&&t instanceof Ow}function Vq(t){return no(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const A=yield sn(n.listTools({cursor:i}));for(const u of A.tools)yield yield sn(u),s++;if(!A.nextCursor)break;i=A.nextCursor}})}class Ow{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ow(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},A=[];for(const x of this.mcpClients)try{for(var u=!0,h=(n=void 0,ro(Vq(x))),d;d=await h.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const C=i;A.push(C);const _=C.name;if(s[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);s[_]=x}}catch(C){n={error:C}}finally{try{!u&&!e&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}this.mcpTools=A,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),wK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const A=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:A.isError?{error:A}:A}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jq(t,e,n){const r=new uK;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Gq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),A=Wq(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const x=new Promise(Q=>{d=Q}),C=e.callbacks,_=function(){d({})},N=this.apiClient,D={onopen:_,onmessage:Q=>{jq(N,C.onmessage,Q)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(Q){}},R=this.webSocketFactory.create(h,zq(A),D);R.connect(),await x;const K={setup:{model:Kn(this.apiClient,e.model)}};return R.send(JSON.stringify(K)),new Kq(R,this.apiClient)}}class Kq{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pW(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=gW(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(gu.PLAY)}pause(){this.sendPlaybackControl(gu.PAUSE)}stop(){this.sendPlaybackControl(gu.STOP)}resetContext(){this.sendPlaybackControl(gu.RESET_CONTEXT)}close(){this.conn.close()}}function zq(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Wq(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xq="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qq(t,e,n){const r=new cK;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const A=wW(s);Object.assign(r,A)}else Object.assign(r,s);e(r)}class Yq{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Gq(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,A,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let x;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&q3(e.config.tools)&&Y3(C);const _=eY(C);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),z=this.apiClient.getLocation(),J=this.apiClient.getApiKey(),W=!!O&&!!z||!!J;this.apiClient.getCustomBaseUrl()&&!W?x=h:(x=`${h}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x))}else{const O=this.apiClient.getApiKey();let z="BidiGenerateContent",J="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",J="access_token"),x=`${h}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${J}=${O}`}let N=()=>{};const D=new Promise(O=>{N=O}),R=e.callbacks,k=function(){var O;(O=R==null?void 0:R.onopen)===null||O===void 0||O.call(R),N({})},j=this.apiClient,K={onopen:k,onmessage:O=>{qq(j,R.onmessage,O)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=R==null?void 0:R.onclose)!==null&&r!==void 0?r:function(O){}},Q=this.webSocketFactory.create(x,$q(_),K);Q.connect(),await D;let ne=Kn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ne.startsWith("publishers/")){const O=this.apiClient.getProject(),z=this.apiClient.getLocation();O&&z&&(ne=`projects/${O}/locations/${z}/`+ne)}let ae={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[M1.AUDIO]}:e.config.responseModalities=[M1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(u=(A=e.config)===null||A===void 0?void 0:A.tools)!==null&&u!==void 0?u:[],M=[];for(const O of ee)if(this.isCallableTool(O)){const z=O;M.push(await z.tool())}else M.push(O);M.length>0&&(e.config.tools=M);const H={model:ne,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ae=hW(this.apiClient,H):ae=dW(this.apiClient,H),delete ae.config,Q.send(JSON.stringify(ae)),new Zq(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Jq={turnComplete:!0};class Zq{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ka(n.turns),e.isVertexAI()||(r=r.map(i=>pg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Xq)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Jq),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xW(e)}:n={realtimeInput:mW(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function $q(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eY(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xb=10;function wb(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const A of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Cu(A)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cu(t){return"callTool"in t&&typeof t.callTool=="function"}function tY(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Cu(i)))!==null&&r!==void 0?r:!1}function vb(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Cu(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function yb(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nY extends hA{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,A,u;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tY(n)||wb(n.config))return await this.generateContentInternal(h);const d=vb(n);if(d.length>0){const R=d.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let x,C;const _=ka(h.contents),N=(s=(i=(r=h.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:xb;let D=0;for(;D<N&&(x=await this.generateContentInternal(h),!(!x.functionCalls||x.functionCalls.length===0));){const R=x.candidates[0].content,k=[];for(const j of(u=(A=n.config)===null||A===void 0?void 0:A.tools)!==null&&u!==void 0?u:[])if(Cu(j)){const Q=await j.callTool(x.functionCalls);k.push(...Q)}D++,C={role:"user",parts:k},h.contents=ka(h.contents),h.contents.push(R),h.contents.push(C),yb(h.config)&&(_.push(R),_.push(C))}return yb(h.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async n=>{var r,i,s,A,u;if(this.maybeMoveToResponseJsonSchem(n),wb(n.config)){const C=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(C)}const h=vb(n);if(h.length>0){const C=h.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${C}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,x=(u=(A=n==null?void 0:n.config)===null||A===void 0?void 0:A.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const A=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=h==null?void 0:h.safetyAttributes:A.push(h);let u;return s?u={generatedImages:A,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:A,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const A={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!A.config.queryBase){if(!((r=A.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");A.config.filter="labels.tune-type:*"}return new mc(AA.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(A),A)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,A,u,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((A=(s=n.source)===null||s===void 0?void 0:s.video)===null||A===void 0)&&A.uri&&(!((h=(u=n.source)===null||u===void 0?void 0:u.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const A=await Promise.all(s.map(async h=>Cu(h)?await h.tool():h)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:A})};if(u.config.tools=A,e.config&&e.config.tools&&q3(e.config.tools)){const h=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},h);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Y3(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const A of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Cu(A)){const u=A,h=await u.tool();for(const d of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,u)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xb;let A=!1,u=0;const h=await this.initAfcToolsMap(e);return(function(d,x,C){return no(this,arguments,function*(){for(var _,N,D,R,k,j;u<s;){A&&(u++,A=!1);const ae=yield sn(d.processParamsMaybeAddMcpUsage(C)),ee=yield sn(d.generateContentStreamInternal(ae)),M=[],H=[];try{for(var K=!0,Q=(N=void 0,ro(ee)),ne;ne=yield sn(Q.next()),_=ne.done,!_;K=!0){R=ne.value,K=!1;const O=R;if(yield yield sn(O),O.candidates&&(!((k=O.candidates[0])===null||k===void 0)&&k.content)){H.push(O.candidates[0].content);for(const z of(j=O.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(u<s&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(z.functionCall.name)){const J=yield sn(x.get(z.functionCall.name).callTool([z.functionCall]));M.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(O){N={error:O}}finally{try{!K&&!_&&(D=Q.return)&&(yield sn(D.call(Q)))}finally{if(N)throw N.error}}if(M.length>0){A=!0;const O=new F0;O.candidates=[{content:{role:"user",parts:M}}],yield yield sn(O);const z=[];z.push(...H),z.push({role:"user",parts:M});const J=ka(C.contents).concat(z);C.contents=J}else break}})})(this,h,e)}async generateContentInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=hb(this.apiClient,e);return u=Ft("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=pb(x),_=new F0;return Object.assign(_,C),_})}else{const d=db(this.apiClient,e);return u=Ft("{model}:generateContent",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=gb(x),_=new F0;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=hb(this.apiClient,e);return u=Ft("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),A.then(function(C){return no(this,arguments,function*(){var _,N,D,R;try{for(var k=!0,j=ro(C),K;K=yield sn(j.next()),_=K.done,!_;k=!0){R=K.value,k=!1;const Q=R,ne=pb(yield sn(Q.json()));ne.sdkHttpResponse={headers:Q.headers};const ae=new F0;Object.assign(ae,ne),yield yield sn(ae)}}catch(Q){N={error:Q}}finally{try{!k&&!_&&(D=j.return)&&(yield sn(D.call(j)))}finally{if(N)throw N.error}}})})}else{const d=db(this.apiClient,e);return u=Ft("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),A.then(function(C){return no(this,arguments,function*(){var _,N,D,R;try{for(var k=!0,j=ro(C),K;K=yield sn(j.next()),_=K.done,!_;k=!0){R=K.value,k=!1;const Q=R,ne=gb(yield sn(Q.json()));ne.sdkHttpResponse={headers:Q.headers};const ae=new F0;Object.assign(ae,ne),yield yield sn(ae)}}catch(Q){N={error:Q}}finally{try{!k&&!_&&(D=j.return)&&(yield sn(D.call(j)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=YW(this.apiClient,e);return u=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=ZW(x),_=new YT;return Object.assign(_,C),_})}else{const d=qW(this.apiClient,e);return u=Ft("{model}:batchEmbedContents",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=JW(x),_=new YT;return Object.assign(_,C),_})}}async generateImagesInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=lX(this.apiClient,e);return u=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=uX(x),_=new JT;return Object.assign(_,C),_})}else{const d=AX(this.apiClient,e);return u=Ft("{model}:predict",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=cX(x),_=new JT;return Object.assign(_,C),_})}}async editImageInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=KW(this.apiClient,e);return s=Ft("{model}:predict",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=zW(h),x=new $G;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=lq(this.apiClient,e);return s=Ft("{model}:predict",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=cq(h),x=new eK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=GX(this.apiClient,e);return s=Ft("{model}:predict",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=KX(h),x=new tK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=JX(this.apiClient,e);return s=Ft("{model}:predict",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=ZX(h),x=new nK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=SX(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>m2(x))}else{const d=bX(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>p2(x))}}async listInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=OX(this.apiClient,e);return u=Ft("{models_url}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=QX(x),_=new ZT;return Object.assign(_,C),_})}else{const d=MX(this.apiClient,e);return u=Ft("{models_url}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=LX(x),_=new ZT;return Object.assign(_,C),_})}}async update(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=oq(this.apiClient,e);return u=Ft("{model}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>m2(x))}else{const d=aq(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>p2(x))}}async delete(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=HW(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=jW(x),_=new $T;return Object.assign(_,C),_})}else{const d=PW(this.apiClient,e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=VW(x),_=new $T;return Object.assign(_,C),_})}}async countTokens(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=OW(this.apiClient,e);return u=Ft("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=QW(x),_=new eb;return Object.assign(_,C),_})}else{const d=MW(this.apiClient,e);return u=Ft("{model}:countTokens",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=LW(x),_=new eb;return Object.assign(_,C),_})}}async computeTokens(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=IW(this.apiClient,e);return s=Ft("{model}:computeTokens",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>{const d=NW(h),x=new rK;return Object.assign(x,d),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=mX(this.apiClient,e);return u=Ft("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A.then(x=>{const C=gX(x),_=new O1;return Object.assign(_,C),_})}else{const d=pX(this.apiClient,e);return u=Ft("{model}:predictLongRunning",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A.then(x=>{const C=hX(x),_=new O1;return Object.assign(_,C),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rY extends hA{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const A=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:A,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const A=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:A,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=WG(e);return u=Ft("{operationName}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),A}else{const d=zG(e);return u=Ft("{operationName}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),A}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=QG(e);return s=Ft("{resourceName}:fetchPredictOperation",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iY(t){const e={},n=E(t,["data"]);if(n!=null&&b(e,["data"],n),E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function sY(t){const e={},n=E(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>hY(s))),b(e,["parts"],i)}const r=E(t,["role"]);return r!=null&&b(e,["role"],r),e}function aY(t,e,n){const r={},i=E(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const s=E(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&b(n,["newSessionExpireTime"],s);const A=E(e,["uses"]);n!==void 0&&A!=null&&b(n,["uses"],A);const u=E(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&b(n,["bidiGenerateContentSetup"],dY(t,u));const h=E(e,["lockAdditionalFields"]);return n!==void 0&&h!=null&&b(n,["fieldMask"],h),r}function oY(t,e){const n={},r=E(e,["config"]);return r!=null&&b(n,["config"],aY(t,r,n)),n}function AY(t){const e={};if(E(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=E(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=E(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function lY(t){const e={},n=E(t,["id"]);n!=null&&b(e,["id"],n);const r=E(t,["args"]);r!=null&&b(e,["args"],r);const i=E(t,["name"]);if(i!=null&&b(e,["name"],i),E(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(E(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cY(t){const e={};if(E(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=E(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function uY(t){const e={};if(E(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(E(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=E(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function fY(t,e){const n={},r=E(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=E(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=E(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const A=E(t,["topP"]);e!==void 0&&A!=null&&b(e,["setup","generationConfig","topP"],A);const u=E(t,["topK"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","topK"],u);const h=E(t,["maxOutputTokens"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","maxOutputTokens"],h);const d=E(t,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const x=E(t,["seed"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","seed"],x);const C=E(t,["speechConfig"]);e!==void 0&&C!=null&&b(e,["setup","generationConfig","speechConfig"],Mw(C));const _=E(t,["thinkingConfig"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","thinkingConfig"],_);const N=E(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],N);const D=E(t,["systemInstruction"]);e!==void 0&&D!=null&&b(e,["setup","systemInstruction"],sY(ls(D)));const R=E(t,["tools"]);if(e!==void 0&&R!=null){let ee=Qu(R);Array.isArray(ee)&&(ee=ee.map(M=>pY(Lu(M)))),b(e,["setup","tools"],ee)}const k=E(t,["sessionResumption"]);e!==void 0&&k!=null&&b(e,["setup","sessionResumption"],gY(k));const j=E(t,["inputAudioTranscription"]);e!==void 0&&j!=null&&b(e,["setup","inputAudioTranscription"],j);const K=E(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&b(e,["setup","outputAudioTranscription"],K);const Q=E(t,["realtimeInputConfig"]);e!==void 0&&Q!=null&&b(e,["setup","realtimeInputConfig"],Q);const ne=E(t,["contextWindowCompression"]);e!==void 0&&ne!=null&&b(e,["setup","contextWindowCompression"],ne);const ae=E(t,["proactivity"]);if(e!==void 0&&ae!=null&&b(e,["setup","proactivity"],ae),E(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function dY(t,e){const n={},r=E(e,["model"]);r!=null&&b(n,["setup","model"],Kn(t,r));const i=E(e,["config"]);return i!=null&&b(n,["config"],fY(i,n)),n}function hY(t){const e={},n=E(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=E(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=E(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=E(t,["fileData"]);s!=null&&b(e,["fileData"],AY(s));const A=E(t,["functionCall"]);A!=null&&b(e,["functionCall"],lY(A));const u=E(t,["functionResponse"]);u!=null&&b(e,["functionResponse"],u);const h=E(t,["inlineData"]);h!=null&&b(e,["inlineData"],iY(h));const d=E(t,["text"]);d!=null&&b(e,["text"],d);const x=E(t,["thought"]);x!=null&&b(e,["thought"],x);const C=E(t,["thoughtSignature"]);C!=null&&b(e,["thoughtSignature"],C);const _=E(t,["videoMetadata"]);return _!=null&&b(e,["videoMetadata"],_),e}function gY(t){const e={},n=E(t,["handle"]);if(n!=null&&b(e,["handle"],n),E(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pY(t){const e={};if(E(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=E(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=E(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=E(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),E(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=E(t,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(C=>C)),b(e,["functionDeclarations"],x)}const A=E(t,["googleMaps"]);A!=null&&b(e,["googleMaps"],cY(A));const u=E(t,["googleSearch"]);u!=null&&b(e,["googleSearch"],uY(u));const h=E(t,["googleSearchRetrieval"]);h!=null&&b(e,["googleSearchRetrieval"],h);const d=E(t,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mY(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function xY(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=mY(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const A=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>A.includes(d)?`generationConfig.${d}`:d));const h=[];s&&h.push(s),u.length>0&&h.push(...u),h.length>0?t.fieldMask=h.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class wY extends hA{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=oY(this.apiClient,e);s=Ft("auth_tokens",u._url),A=u._query,delete u.config,delete u._url,delete u._query;const h=xY(u,e.config);return i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vY(t,e){const n={},r=E(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function yY(t){const e={},n=E(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=E(t,["config"]);return r!=null&&vY(r,e),e}function CY(t){const e={},n=E(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function EY(t,e){const n={},r=E(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=E(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function BY(t){const e={},n=E(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=E(t,["config"]);return r!=null&&EY(r,e),e}function _Y(t){const e={},n=E(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=E(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=E(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>A)),b(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TY extends hA{constructor(e){super(),this.apiClient=e,this.list=async n=>new mc(AA.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CY(e);return s=Ft("{name}",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=yY(e);i=Ft("{name}",A._url),s=A._query,delete A._url,delete A._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BY(e);return s=Ft("{parent}/documents",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=_Y(h),x=new iK;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bY extends hA{constructor(e,n=new TY(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new mc(AA.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mq(e);return s=Ft("fileSearchStores",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vq(e);return s=Ft("{name}",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=wq(e);i=Ft("{name}",A._url),s=A._query,delete A._url,delete A._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tq(e);return s=Ft("fileSearchStores",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=bq(h),x=new sK;return Object.assign(x,d),x})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sq(e);return s=Ft("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Iq(h),x=new aK;return Object.assign(x,d),x})}}async importFile(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Eq(e);return s=Ft("{file_search_store_name}:importFile",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const d=Cq(h),x=new Fw;return Object.assign(x,d),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let J3=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return J3=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const SY=()=>J3();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w2(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const v2=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La extends Error{}class bs extends La{constructor(e,n,r,i){super(`${bs.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new wg({message:r,cause:v2(n)});const s=n;return e===400?new $3(e,s,r,i):e===401?new eN(e,s,r,i):e===403?new tN(e,s,r,i):e===404?new nN(e,s,r,i):e===409?new rN(e,s,r,i):e===422?new iN(e,s,r,i):e===429?new sN(e,s,r,i):e>=500?new aN(e,s,r,i):new bs(e,s,r,i)}}class y2 extends bs{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wg extends bs{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Z3 extends wg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $3 extends bs{}class eN extends bs{}class tN extends bs{}class nN extends bs{}class rN extends bs{}class iN extends bs{}class sN extends bs{}class aN extends bs{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IY=/^[a-z][a-z0-9+.-]*:/i,NY=t=>IY.test(t);let C2=t=>(C2=Array.isArray,C2(t));const FY=C2;let RY=FY;const Cb=RY;function DY(t){if(!t)return!0;for(const e in t)return!1;return!0}function UY(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const kY=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new La(`${t} must be an integer`);if(e<0)throw new La(`${t} must be a positive integer`);return e},MY=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OY=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Au="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LY(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const QY=()=>{var t,e,n,r,i;const s=LY();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":Bb(Deno.build.os),"X-Stainless-Arch":Eb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":Bb((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Eb((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const A=PY();return A?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${A.browser}`,"X-Stainless-Runtime-Version":A.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Au,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PY(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,A=r[3]||0;return{browser:e,version:`${i}.${s}.${A}`}}}return null}const Eb=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Bb=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Kh;const HY=()=>Kh??(Kh=QY());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VY(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function jY(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return oN({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function AN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function GY(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KY=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fx(t,e,n){return lN(),new File(t,e??"unknown_file",n)}function zY(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const WY=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",XY=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&cN(t),qY=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function YY(t,e,n){if(lN(),t=await t,XY(t))return t instanceof File?t:fx([await t.arrayBuffer()],t.name);if(qY(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),fx(await E2(i),e,n)}const r=await E2(t);if(e||(e=zY(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return fx(r,e,n)}async function E2(t){var e,n,r,i,s;let A=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)A.push(t);else if(cN(t))A.push(t instanceof Blob?t:await t.arrayBuffer());else if(WY(t))try{for(var u=!0,h=ro(t),d;d=await h.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const x=i;A.push(...await E2(x))}}catch(x){n={error:x}}finally{try{!u&&!e&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}else{const x=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${x?`; constructor: ${x}`:""}${JY(t)}`)}return A}function JY(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN{constructor(e){this._client=e}}uN._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const _b=Object.freeze(Object.create(null)),ZY=(t=fN)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],A=n.reduce((x,C,_)=>{var N,D,R;/[?#]/.test(C)&&(i=!0);const k=r[_];let j=(i?encodeURIComponent:t)(""+k);return _!==r.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((D=Object.getPrototypeOf((N=k.hasOwnProperty)!==null&&N!==void 0?N:_b))!==null&&D!==void 0?D:_b))===null||R===void 0?void 0:R.toString))&&(j=k+"",s.push({start:x.length+C.length,length:j.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+C+(_===r.length?"":j)},""),u=A.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=h.exec(u))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((x,C)=>x.start-C.start),s.length>0){let x=0;const C=s.reduce((_,N)=>{const D=" ".repeat(N.start-x),R="^".repeat(N.length);return x=N.start+N.length,_+D+R},"");throw new La(`Path parameters result in path with invalid segments:
${s.map(_=>_.error).join(`
`)}
${A}
${C}`)}return A}),zh=ZY(fN);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN extends uN{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=Q1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new La("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new La("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zh`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(zh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(zh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:A=this._client.apiVersion}=s,u=Q1(s,["api_version"]);return this._client.get(zh`/${A}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}dN._key=Object.freeze(["interactions"]);class hN extends dN{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Y(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Wh;function Lw(t){let e;return(Wh??(e=new globalThis.TextEncoder,Wh=e.encode.bind(e)))(t)}let Xh;function Tb(t){let e;return(Xh??(e=new globalThis.TextDecoder,Xh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vg{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Lw(e):e;this.buffer=$Y([this.buffer,n]);const r=[];let i;for(;(i=eJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Tb(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,A=Tb(this.buffer.subarray(0,s));r.push(A),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}vg.NEWLINE_CHARS=new Set([`
`,"\r"]);vg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eJ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tJ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P1={off:0,error:200,warn:300,info:400,debug:500},bb=(t,e,n)=>{if(t){if(UY(P1,t))return t;vs(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(P1))}`)}};function z0(){}function qh(t,e,n){return!e||P1[t]>P1[n]?z0:e[t].bind(e)}const nJ={error:z0,warn:z0,info:z0,debug:z0};let Sb=new WeakMap;function vs(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return nJ;const i=Sb.get(n);if(i&&i[0]===r)return i[1];const s={error:qh("error",n,r),warn:qh("warn",n,r),info:qh("info",n,r),debug:qh("debug",n,r)};return Sb.set(n,[r,s]),s}const jl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pu{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?vs(r):console;function A(){return no(this,arguments,function*(){var h,d,x,C;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var N=!0,D=ro(rJ(e,n)),R;R=yield sn(D.next()),h=R.done,!h;N=!0){C=R.value,N=!1;const k=C;if(!_)if(k.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield sn(JSON.parse(k.data))}catch(j){throw s.error("Could not parse message into JSON:",k.data),s.error("From chunk:",k.raw),j}}}catch(k){d={error:k}}finally{try{!N&&!h&&(x=D.return)&&(yield sn(x.call(D)))}finally{if(d)throw d.error}}_=!0}catch(k){if(w2(k))return yield sn(void 0);throw k}finally{_||n.abort()}})}return new pu(A,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return no(this,arguments,function*(){var h,d,x,C;const _=new vg,N=AN(e);try{for(var D=!0,R=ro(N),k;k=yield sn(R.next()),h=k.done,!h;D=!0){C=k.value,D=!1;const j=C;for(const K of _.decode(j))yield yield sn(K)}}catch(j){d={error:j}}finally{try{!D&&!h&&(x=R.return)&&(yield sn(x.call(R)))}finally{if(d)throw d.error}}for(const j of _.flush())yield yield sn(j)})}function A(){return no(this,arguments,function*(){var h,d,x,C;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let _=!1;try{try{for(var N=!0,D=ro(s()),R;R=yield sn(D.next()),h=R.done,!h;N=!0){C=R.value,N=!1;const k=C;_||k&&(yield yield sn(JSON.parse(k)))}}catch(k){d={error:k}}finally{try{!N&&!h&&(x=D.return)&&(yield sn(x.call(D)))}finally{if(d)throw d.error}}_=!0}catch(k){if(w2(k))return yield sn(void 0);throw k}finally{_||n.abort()}})}return new pu(A,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const A=r.next();e.push(A),n.push(A)}return s.shift()}});return[new pu(()=>i(e),this.controller,this.client),new pu(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return oN({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const A=Lw(JSON.stringify(i)+`
`);r.enqueue(A)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rJ(t,e){return no(this,arguments,function*(){var r,i,s,A;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new La("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new La("Attempted to iterate over a response with no body");const u=new sJ,h=new vg,d=AN(t.body);try{for(var x=!0,C=ro(iJ(d)),_;_=yield sn(C.next()),r=_.done,!r;x=!0){A=_.value,x=!1;const N=A;for(const D of h.decode(N)){const R=u.decode(D);R&&(yield yield sn(R))}}}catch(N){i={error:N}}finally{try{!x&&!r&&(s=C.return)&&(yield sn(s.call(C)))}finally{if(i)throw i.error}}for(const N of h.flush()){const D=u.decode(N);D&&(yield yield sn(D))}})}function iJ(t){return no(this,arguments,function*(){var n,r,i,s;let A=new Uint8Array;try{for(var u=!0,h=ro(t),d;d=yield sn(h.next()),n=d.done,!n;u=!0){s=d.value,u=!1;const x=s;if(x==null)continue;const C=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Lw(x):x;let _=new Uint8Array(A.length+C.length);_.set(A),_.set(C,A.length),A=_;let N;for(;(N=tJ(A))!==-1;)yield yield sn(A.slice(0,N)),A=A.slice(N)}}catch(x){r={error:x}}finally{try{!u&&!n&&(i=h.return)&&(yield sn(i.call(h)))}finally{if(r)throw r.error}}A.length>0&&(yield yield sn(A))})}class sJ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=aJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function aJ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oJ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,A=await(async()=>{var u;if(e.options.stream)return vs(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):pu.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),d=(u=h==null?void 0:h.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return vs(t).debug(`[${r}] response parsed`,jl({retryOfRequestLogID:i,url:n.url,status:n.status,body:A,durationMs:Date.now()-s})),A}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends Promise{constructor(e,n,r=oJ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Qw(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN=Symbol("brand.privateNullableHeaders");function*AJ(t){if(!t)return;if(gN in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Cb(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Cb(r[1])?r[1]:[r[1]];let A=!1;for(const u of s)u!==void 0&&(e&&!A&&(A=!0,yield[i,null]),yield[i,u])}}const R0=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,A]of AJ(r)){const u=s.toLowerCase();i.has(u)||(e.delete(s),i.add(u)),A===null?(e.delete(s),n.add(u)):(e.append(s,A),n.delete(u))}}return{[gN]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dx=t=>{var e,n,r,i,s,A;if(typeof globalThis.process<"u")return(r=(n=(e=DG)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(A=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||A===void 0?void 0:A.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pN;class yg{constructor(e){var n,r,i,s,A,u,h,{baseURL:d=dx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(n=dx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:C="v1beta"}=e,_=Q1(e,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:x,apiVersion:C},_),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(r=N.timeout)!==null&&r!==void 0?r:yg.DEFAULT_TIMEOUT,this.logger=(i=N.logger)!==null&&i!==void 0?i:console;const D="warn";this.logLevel=D,this.logLevel=(A=(s=bb(N.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:bb(dx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&A!==void 0?A:D,this.fetchOptions=N.fetchOptions,this.maxRetries=(u=N.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(h=N.fetch)!==null&&h!==void 0?h:VY(),this.encoder=KY,this._options=N,this.apiKey=x,this.apiVersion=C,this.clientAdapter=N.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=R0([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return R0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return R0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new La(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Au}`}defaultIdempotencyKey(){return`stainless-node-retry-${SY()}`}makeStatusError(e,n,r,i){return bs.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=NY(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),A=this.defaultQuery();return DY(A)||(n=Object.assign(Object.assign({},A),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Qw(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,A;const u=await e,h=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=h),await this.prepareOptions(u);const{req:d,url:x,timeout:C}=await this.buildRequest(u,{retryCount:h-n});await this.prepareRequest(d,{url:x,options:u});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=r===void 0?"":`, retryOf: ${r}`,D=Date.now();if(vs(this).debug(`[${_}] sending request`,jl({retryOfRequestLogID:r,method:u.method,url:x,options:u,headers:d.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new y2;const R=new AbortController,k=await this.fetchWithTimeout(x,d,C,R).catch(v2),j=Date.now();if(k instanceof globalThis.Error){const Q=`retrying, ${n} attempts remaining`;if(!((A=u.signal)===null||A===void 0)&&A.aborted)throw new y2;const ne=w2(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return vs(this).info(`[${_}] connection ${ne?"timed out":"failed"} - ${Q}`),vs(this).debug(`[${_}] connection ${ne?"timed out":"failed"} (${Q})`,jl({retryOfRequestLogID:r,url:x,durationMs:j-D,message:k.message})),this.retryRequest(u,n,r??_);throw vs(this).info(`[${_}] connection ${ne?"timed out":"failed"} - error; no more retries left`),vs(this).debug(`[${_}] connection ${ne?"timed out":"failed"} (error; no more retries left)`,jl({retryOfRequestLogID:r,url:x,durationMs:j-D,message:k.message})),ne?new Z3:new wg({cause:k})}const K=`[${_}${N}] ${d.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${j-D}ms`;if(!k.ok){const Q=await this.shouldRetry(k);if(n&&Q){const O=`retrying, ${n} attempts remaining`;return await GY(k.body),vs(this).info(`${K} - ${O}`),vs(this).debug(`[${_}] response error (${O})`,jl({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,durationMs:j-D})),this.retryRequest(u,n,r??_,k.headers)}const ne=Q?"error; no more retries left":"error; not retryable";vs(this).info(`${K} - ${ne}`);const ae=await k.text().catch(O=>v2(O).message),ee=MY(ae),M=ee?void 0:ae;throw vs(this).debug(`[${_}] response error (${ne})`,jl({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,message:M,durationMs:Date.now()-D})),this.makeStatusError(k.status,ee,M,k.headers)}return vs(this).info(K),vs(this).debug(`[${_}] response start`,jl({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,durationMs:j-D})),{response:k,options:u,controller:R,requestLogID:_,retryOfRequestLogID:r,startTime:D}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:A,method:u}=s,h=Q1(s,["signal","method"]);A&&A.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),x=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,C=Object.assign(Object.assign(Object.assign({signal:i.signal},x?{duplex:"half"}:{}),{method:"GET"}),h);u&&(C.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,C)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let A;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(A=d)}const h=i==null?void 0:i.get("retry-after");if(h&&!A){const d=parseFloat(h);Number.isNaN(d)?A=Date.parse(h)-Date.now():A=d*1e3}if(!(A&&0<=A&&A<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;A=this.calculateDefaultRetryTimeoutMillis(n,d)}return await OY(A),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,A=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return A*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const A=Object.assign({},e),{method:u,path:h,query:d,defaultBaseURL:x}=A,C=this.buildURL(h,d,x);"timeout"in A&&kY("timeout",A.timeout),A.timeout=(r=A.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:_,body:N}=this.buildBody({options:A}),D=await this.buildHeaders({options:e,method:u,bodyHeaders:_,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:D},A.signal&&{signal:A.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=A.fetchOptions)!==null&&s!==void 0?s:{}),url:C,timeout:A.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const A=await this.authHeaders(e);let u=R0([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),HY()),this._options.defaultHeaders,r,e.headers,A]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=R0([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jY(e)}:this.encoder({body:e,headers:r})}}yg.DEFAULT_TIMEOUT=6e4;class Ii extends yg{constructor(){super(...arguments),this.interactions=new hN(this)}}pN=Ii;Ii.GeminiNextGenAPIClient=pN;Ii.GeminiNextGenAPIClientError=La;Ii.APIError=bs;Ii.APIConnectionError=wg;Ii.APIConnectionTimeoutError=Z3;Ii.APIUserAbortError=y2;Ii.NotFoundError=nN;Ii.ConflictError=rN;Ii.RateLimitError=sN;Ii.BadRequestError=$3;Ii.AuthenticationError=eN;Ii.InternalServerError=aN;Ii.PermissionDeniedError=tN;Ii.UnprocessableEntityError=iN;Ii.toFile=YY;Ii.Interactions=hN;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lJ(t,e){const n={},r=E(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function cJ(t,e){const n={},r=E(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function uJ(t,e){const n={},r=E(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function fJ(t,e){const n={},r=E(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function dJ(t,e,n){const r={};if(E(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=E(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),E(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=E(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","epochCount"],s);const A=E(t,["learningRateMultiplier"]);if(A!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],A),E(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(E(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(E(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=E(t,["batchSize"]);e!==void 0&&u!=null&&b(e,["tuningTask","hyperparameters","batchSize"],u);const h=E(t,["learningRate"]);if(e!==void 0&&h!=null&&b(e,["tuningTask","hyperparameters","learningRate"],h),E(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(E(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function hJ(t,e,n){const r={};let i=E(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const N=E(t,["validationDataset"]);e!==void 0&&N!=null&&b(e,["supervisedTuningSpec"],Ib(N))}else if(i==="PREFERENCE_TUNING"){const N=E(t,["validationDataset"]);e!==void 0&&N!=null&&b(e,["preferenceOptimizationSpec"],Ib(N))}const s=E(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&b(e,["tunedModelDisplayName"],s);const A=E(t,["description"]);e!==void 0&&A!=null&&b(e,["description"],A);let u=E(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const N=E(t,["epochCount"]);e!==void 0&&N!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],N)}else if(u==="PREFERENCE_TUNING"){const N=E(t,["epochCount"]);e!==void 0&&N!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],N)}let h=E(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const N=E(t,["learningRateMultiplier"]);e!==void 0&&N!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],N)}else if(h==="PREFERENCE_TUNING"){const N=E(t,["learningRateMultiplier"]);e!==void 0&&N!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],N)}let d=E(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const N=E(t,["exportLastCheckpointOnly"]);e!==void 0&&N!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],N)}else if(d==="PREFERENCE_TUNING"){const N=E(t,["exportLastCheckpointOnly"]);e!==void 0&&N!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],N)}let x=E(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const N=E(t,["adapterSize"]);e!==void 0&&N!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],N)}else if(x==="PREFERENCE_TUNING"){const N=E(t,["adapterSize"]);e!==void 0&&N!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],N)}if(E(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(E(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const C=E(t,["labels"]);e!==void 0&&C!=null&&b(e,["labels"],C);const _=E(t,["beta"]);return e!==void 0&&_!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function gJ(t,e){const n={},r=E(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=E(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&TJ(s);const A=E(t,["config"]);return A!=null&&dJ(A,n),n}function pJ(t,e){const n={},r=E(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=E(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=E(t,["trainingDataset"]);s!=null&&bJ(s,n,e);const A=E(t,["config"]);return A!=null&&hJ(A,n,e),n}function mJ(t,e){const n={},r=E(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function xJ(t,e){const n={},r=E(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function wJ(t,e,n){const r={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const A=E(t,["filter"]);return e!==void 0&&A!=null&&b(e,["_query","filter"],A),r}function vJ(t,e,n){const r={},i=E(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=E(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const A=E(t,["filter"]);return e!==void 0&&A!=null&&b(e,["_query","filter"],A),r}function yJ(t,e){const n={},r=E(t,["config"]);return r!=null&&wJ(r,n),n}function CJ(t,e){const n={},r=E(t,["config"]);return r!=null&&vJ(r,n),n}function EJ(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=E(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=E(t,["tunedModels"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>mN(u))),b(n,["tuningJobs"],A)}return n}function BJ(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=E(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=E(t,["tuningJobs"]);if(s!=null){let A=s;Array.isArray(A)&&(A=A.map(u=>B2(u))),b(n,["tuningJobs"],A)}return n}function _J(t,e){const n={},r=E(t,["name"]);r!=null&&b(n,["model"],r);const i=E(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function TJ(t,e){const n={};if(E(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(E(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=E(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(n,["examples","examples"],i)}return n}function bJ(t,e,n){const r={};let i=E(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const A=E(t,["gcsUri"]);e!==void 0&&A!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],A)}else if(i==="PREFERENCE_TUNING"){const A=E(t,["gcsUri"]);e!==void 0&&A!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],A)}let s=E(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const A=E(t,["vertexDatasetResource"]);e!==void 0&&A!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],A)}else if(s==="PREFERENCE_TUNING"){const A=E(t,["vertexDatasetResource"]);e!==void 0&&A!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],A)}if(E(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mN(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&b(n,["name"],i);const s=E(t,["state"]);s!=null&&b(n,["state"],D3(s));const A=E(t,["createTime"]);A!=null&&b(n,["createTime"],A);const u=E(t,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const h=E(t,["tuningTask","completeTime"]);h!=null&&b(n,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const x=E(t,["description"]);x!=null&&b(n,["description"],x);const C=E(t,["baseModel"]);C!=null&&b(n,["baseModel"],C);const _=E(t,["_self"]);return _!=null&&b(n,["tunedModel"],_J(_)),n}function B2(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&b(n,["name"],i);const s=E(t,["state"]);s!=null&&b(n,["state"],D3(s));const A=E(t,["createTime"]);A!=null&&b(n,["createTime"],A);const u=E(t,["startTime"]);u!=null&&b(n,["startTime"],u);const h=E(t,["endTime"]);h!=null&&b(n,["endTime"],h);const d=E(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const x=E(t,["error"]);x!=null&&b(n,["error"],x);const C=E(t,["description"]);C!=null&&b(n,["description"],C);const _=E(t,["baseModel"]);_!=null&&b(n,["baseModel"],_);const N=E(t,["tunedModel"]);N!=null&&b(n,["tunedModel"],N);const D=E(t,["preTunedModel"]);D!=null&&b(n,["preTunedModel"],D);const R=E(t,["supervisedTuningSpec"]);R!=null&&b(n,["supervisedTuningSpec"],R);const k=E(t,["preferenceOptimizationSpec"]);k!=null&&b(n,["preferenceOptimizationSpec"],k);const j=E(t,["tuningDataStats"]);j!=null&&b(n,["tuningDataStats"],j);const K=E(t,["encryptionSpec"]);K!=null&&b(n,["encryptionSpec"],K);const Q=E(t,["partnerModelTuningSpec"]);Q!=null&&b(n,["partnerModelTuningSpec"],Q);const ne=E(t,["customBaseModel"]);ne!=null&&b(n,["customBaseModel"],ne);const ae=E(t,["experiment"]);ae!=null&&b(n,["experiment"],ae);const ee=E(t,["labels"]);ee!=null&&b(n,["labels"],ee);const M=E(t,["outputUri"]);M!=null&&b(n,["outputUri"],M);const H=E(t,["pipelineJob"]);H!=null&&b(n,["pipelineJob"],H);const O=E(t,["serviceAccount"]);O!=null&&b(n,["serviceAccount"],O);const z=E(t,["tunedModelDisplayName"]);z!=null&&b(n,["tunedModelDisplayName"],z);const J=E(t,["veoTuningSpec"]);return J!=null&&b(n,["veoTuningSpec"],J),n}function SJ(t,e){const n={},r=E(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=E(t,["name"]);i!=null&&b(n,["name"],i);const s=E(t,["metadata"]);s!=null&&b(n,["metadata"],s);const A=E(t,["done"]);A!=null&&b(n,["done"],A);const u=E(t,["error"]);return u!=null&&b(n,["error"],u),n}function Ib(t,e){const n={},r=E(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=E(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IJ extends hA{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mc(AA.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let A="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?A=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(A=s.name.split("/operations/")[0]),{name:A,state:u2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=xJ(e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>B2(x))}else{const d=mJ(e);return u=Ft("{name}",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>mN(x))}}async listInternal(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=CJ(e);return u=Ft("tuningJobs",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=BJ(x),_=new tb;return Object.assign(_,C),_})}else{const d=yJ(e);return u=Ft("tunedModels",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=EJ(x),_=new tb;return Object.assign(_,C),_})}}async cancel(e){var n,r,i,s;let A,u="",h={};if(this.apiClient.isVertexAI()){const d=cJ(e);return u=Ft("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=fJ(x),_=new nb;return Object.assign(_,C),_})}else{const d=lJ(e);return u=Ft("{name}:cancel",d._url),h=d._query,delete d._url,delete d._query,A=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(C=>{const _=C;return _.sdkHttpResponse={headers:x.headers},_})),A.then(x=>{const C=uJ(x),_=new nb;return Object.assign(_,C),_})}}async tuneInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI()){const u=pJ(e,e);return s=Ft("tuningJobs",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>B2(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",A={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gJ(e);return s=Ft("tunedModels",u._url),A=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(d=>{const x=d;return x.sdkHttpResponse={headers:h.headers},x})),i.then(h=>SJ(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FJ=1024*1024*8,RJ=3,DJ=1e3,UJ=2,H1="x-goog-upload-status";async function kJ(t,e,n){var r;const i=await xN(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[H1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function MJ(t,e,n){var r;const i=await xN(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[H1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const A=b3(s),u=new Rw;return Object.assign(u,A),u}async function xN(t,e,n){var r,i;let s=0,A=0,u=new d2(new Response),h="upload";for(s=t.size;A<s;){const d=Math.min(FJ,s-A),x=t.slice(A,A+d);A+d>=s&&(h+=", finalize");let C=0,_=DJ;for(;C<RJ&&(u=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(A),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[H1]));)C++,await LJ(_),_=_*UJ;if(A+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[H1])!=="active")break;if(s<=A)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function OJ(t){return{size:t.size,type:t.type}}function LJ(t){return new Promise(e=>setTimeout(e,t))}class QJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kJ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PJ{create(e,n,r){return new HJ(e,n,r)}}class HJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nb="x-goog-api-key";class VJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Nb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jJ="gl-node/";class GJ{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ii({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=OG(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new VJ(this.apiKey);this.apiClient=new Oq({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jJ+"web",uploader:new QJ,downloader:new NJ}),this.models=new nY(this.apiClient),this.live=new Yq(this.apiClient,i,new PJ),this.batches=new fz(this.apiClient),this.chats=new Wz(this.models,this.apiClient),this.caches=new Gz(this.apiClient),this.files=new rW(this.apiClient),this.operations=new rY(this.apiClient),this.authTokens=new wY(this.apiClient),this.tunings=new IJ(this.apiClient),this.fileSearchStores=new bY(this.apiClient)}}const KJ=({products:t,invoices:e,currentUser:n,onAction:r,onSearchProduct:i})=>{const[s,A]=Se.useState(!1),[u,h]=Se.useState(!1),[d,x]=Se.useState(null),[C,_]=Se.useState(""),N=Se.useRef(null),D=Se.useRef(null);Se.useEffect(()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;j&&(N.current=new j,N.current.continuous=!1,N.current.lang="ar-MA",N.current.interimResults=!0,N.current.onresult=K=>{let Q="";for(let ne=K.resultIndex;ne<K.results.length;++ne)Q+=K.results[ne][0].transcript;_(Q),K.results[0].isFinal&&k(Q)},N.current.onend=()=>{A(!1)},N.current.onerror=K=>{console.error("Speech error",K.error),A(!1)})},[]);const R=()=>{var j,K;s?(j=N.current)==null||j.stop():(D.current&&clearTimeout(D.current),x(null),_(""),(K=N.current)==null||K.start(),A(!0),navigator.vibrate&&navigator.vibrate(50))},k=async j=>{h(!0);try{const K=new GJ({apiKey:"PLACEHOLDER_API_KEY"}),Q=t.map(z=>`[ID:${z.id} NAME:${z.name} PRICE:${z.price}]`).join("; "),ne=e.map(z=>`[ID:${z.id} CUSTOMER:${z.name} REMAINING:${z.remainingAmount}]`).join("; "),ae=`
            MAMA.
         :
        : {${Q}}
        : {${ne}}
        : ${n.name}

        :   : "${j}"
        
        1.         : OPEN_INVOICE:ID.
        2.         : OPEN_PRODUCT:ID.
        3.  : NAVIGATE:products, customers, settings, create-invoice.
        4. : SEARCH:_.
        
        :   ( OPEN_INVOICE:INV-1)            .
      `,M=(await K.models.generateContent({model:"gemini-3-flash-preview",contents:j,config:{systemInstruction:ae}})).text||"",H=M.split(`
`);let O=M;for(const z of H)if(z.includes("OPEN_INVOICE:")){const J=z.split("OPEN_INVOICE:")[1].trim();r("OPEN_INVOICE",J),O=M.replace(z,"").trim()}else if(z.includes("OPEN_PRODUCT:")){const J=z.split("OPEN_PRODUCT:")[1].trim();r("OPEN_PRODUCT",J),O=M.replace(z,"").trim()}else if(z.includes("NAVIGATE:")){const J=z.split("NAVIGATE:")[1].trim().toLowerCase();r("NAVIGATE",J),O=M.replace(z,"").trim()}else if(z.includes("SEARCH:")){const J=z.split("SEARCH:")[1].trim();i(J),O=M.replace(z,"").trim()}x(O||" ."),D.current=setTimeout(()=>{x(null),_("")},3e3)}catch{x("    ."),D.current=setTimeout(()=>{x(null),_("")},3e3)}finally{h(!1)}};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(C||d||u)&&p.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[C&&p.jsxs("div",{className:"mb-2 border-b border-gray-800/50 pb-2",children:[p.jsx("span",{className:"text-[10px] text-[#57b385] font-black uppercase block mb-1",children:" :"}),p.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',C,'"']})]}),u?p.jsxs("div",{className:"flex items-center gap-2 py-1",children:[p.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:" ..."}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce"}),p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),p.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"})]})]}):d&&p.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:p.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:d})})]}),p.jsxs("button",{onClick:R,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] relative group ${s?"bg-red-500 scale-110":"bg-[#57b385] hover:scale-110"}`,children:[s&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),p.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),p.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})]})]})})};var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],A=t[n++],u=t[n++],h=((i&7)<<18|(s&63)<<12|(A&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],A=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|A&63)}}return e.join("")},vN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],A=i+1<t.length,u=A?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,x=s>>2,C=(s&3)<<4|u>>4;let _=(u&15)<<2|d>>6,N=d&63;h||(N=64,A||(_=64)),r.push(n[x],n[C],n[_],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const C=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||C==null)throw new WJ;const _=s<<2|u>>4;if(r.push(_),d!==64){const N=u<<4&240|d>>2;if(r.push(N),C!==64){const D=d<<6&192|C;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XJ=function(t){const e=wN(t);return vN.encodeByteArray(e,!0)},V1=function(t){return XJ(t).replace(/\./g,"")},qJ=function(t){try{return vN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=()=>YJ().__FIREBASE_DEFAULTS__,ZJ=()=>{if(typeof process>"u"||typeof Fb>"u")return;const t=Fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$J=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qJ(t[1]);return e&&JSON.parse(e)},Pw=()=>{try{return JJ()||ZJ()||$J()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eZ=t=>{var e,n;return(n=(e=Pw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tZ=t=>{const e=eZ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yN=()=>{var t;return(t=Pw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[V1(JSON.stringify(n)),V1(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sZ(){var t;const e=(t=Pw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oZ(){return!sZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function EN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function AZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="FirebaseError";class xl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lZ,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cg.prototype.create)}}class Cg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],A=s?cZ(s,r):"Error",u=`${this.serviceName}: ${A} (${i}).`;return new xl(i,u,r)}}function cZ(t,e){return t.replace(uZ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uZ=/\{\$([^}]+)}/g;function j1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],A=e[i];if(Rb(s)&&Rb(A)){if(!j1(s,A))return!1}else if(s!==A)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ=1e3,dZ=2,hZ=14400*1e3,gZ=.5;function Db(t,e=fZ,n=dZ){const r=e*Math.pow(n,t),i=Math.round(gZ*r*(Math.random()-.5)*2);return Math.min(hZ,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){return t&&t._delegate?t._delegate:t}class lA{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xZ(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,A]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&A.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const A=this.instances.get(i);return A&&e(A,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mZ(t){return t===Gl?void 0:t}function xZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ln||(Ln={}));const vZ={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},yZ=Ln.INFO,CZ={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},EZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CZ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hw{constructor(e){this.name=e,this._logLevel=yZ,this._logHandler=EZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const BZ=(t,e)=>e.some(n=>t instanceof n);let Ub,kb;function _Z(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TZ(){return kb||(kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BN=new WeakMap,_2=new WeakMap,_N=new WeakMap,hx=new WeakMap,Vw=new WeakMap;function bZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",A)},s=()=>{n(il(t.result)),i()},A=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&BN.set(n,t)}).catch(()=>{}),Vw.set(e,t),e}function SZ(t){if(_2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",A),t.removeEventListener("abort",A)},s=()=>{n(),i()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",A),t.addEventListener("abort",A)});_2.set(t,e)}let T2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_N.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return il(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IZ(t){T2=t(T2)}function NZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gx(this),e,...n);return _N.set(r,e.sort?e.sort():[e]),il(r)}:TZ().includes(t)?function(...e){return t.apply(gx(this),e),il(BN.get(this))}:function(...e){return il(t.apply(gx(this),e))}}function FZ(t){return typeof t=="function"?NZ(t):(t instanceof IDBTransaction&&SZ(t),BZ(t,_Z())?new Proxy(t,T2):t)}function il(t){if(t instanceof IDBRequest)return bZ(t);if(hx.has(t))return hx.get(t);const e=FZ(t);return e!==t&&(hx.set(t,e),Vw.set(e,t)),e}const gx=t=>Vw.get(t);function TN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const A=indexedDB.open(t,e),u=il(A);return r&&A.addEventListener("upgradeneeded",h=>{r(il(A.result),h.oldVersion,h.newVersion,il(A.transaction),h)}),n&&A.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const RZ=["get","getKey","getAll","getAllKeys","count"],DZ=["put","add","delete","clear"],px=new Map;function Mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(px.get(e))return px.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RZ.includes(n)))return;const s=async function(A,...u){const h=this.transaction(A,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&h.done]))[0]};return px.set(e,s),s}IZ(t=>({...t,get:(e,n,r)=>Mb(e,n)||t.get(e,n,r),has:(e,n)=>!!Mb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kZ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const b2="@firebase/app",Ob="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Hw("@firebase/app"),MZ="@firebase/app-compat",OZ="@firebase/analytics-compat",LZ="@firebase/analytics",QZ="@firebase/app-check-compat",PZ="@firebase/app-check",HZ="@firebase/auth",VZ="@firebase/auth-compat",jZ="@firebase/database",GZ="@firebase/data-connect",KZ="@firebase/database-compat",zZ="@firebase/functions",WZ="@firebase/functions-compat",XZ="@firebase/installations",qZ="@firebase/installations-compat",YZ="@firebase/messaging",JZ="@firebase/messaging-compat",ZZ="@firebase/performance",$Z="@firebase/performance-compat",e$="@firebase/remote-config",t$="@firebase/remote-config-compat",n$="@firebase/storage",r$="@firebase/storage-compat",i$="@firebase/firestore",s$="@firebase/vertexai-preview",a$="@firebase/firestore-compat",o$="firebase",A$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="[DEFAULT]",l$={[b2]:"fire-core",[MZ]:"fire-core-compat",[LZ]:"fire-analytics",[OZ]:"fire-analytics-compat",[PZ]:"fire-app-check",[QZ]:"fire-app-check-compat",[HZ]:"fire-auth",[VZ]:"fire-auth-compat",[jZ]:"fire-rtdb",[GZ]:"fire-data-connect",[KZ]:"fire-rtdb-compat",[zZ]:"fire-fn",[WZ]:"fire-fn-compat",[XZ]:"fire-iid",[qZ]:"fire-iid-compat",[YZ]:"fire-fcm",[JZ]:"fire-fcm-compat",[ZZ]:"fire-perf",[$Z]:"fire-perf-compat",[e$]:"fire-rc",[t$]:"fire-rc-compat",[n$]:"fire-gcs",[r$]:"fire-gcs-compat",[i$]:"fire-fst",[a$]:"fire-fst-compat",[s$]:"fire-vertex","fire-js":"fire-js",[o$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map,c$=new Map,I2=new Map;function Lb(t,e){try{t.container.addComponent(e)}catch(n){cA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(I2.has(e))return cA.debug(`There were multiple attempts to register component ${e}.`),!1;I2.set(e,t);for(const n of G1.values())Lb(n,t);for(const n of c$.values())Lb(n,t);return!0}function Kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sl=new Cg("app","Firebase",u$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=A$;function bN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:S2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sl.create("bad-app-name",{appName:String(i)});if(n||(n=yN()),!n)throw sl.create("no-options");const s=G1.get(i);if(s){if(j1(n,s.options)&&j1(r,s.config))return s;throw sl.create("duplicate-app",{appName:i})}const A=new wZ(i);for(const h of I2.values())A.addComponent(h);const u=new f$(n,r,A);return G1.set(i,u),u}function SN(t=S2){const e=G1.get(t);if(!e&&t===S2&&yN())return bN();if(!e)throw sl.create("no-app",{appName:t});return e}function wo(t,e,n){var r;let i=(r=l$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),A=e.match(/\s|\//);if(s||A){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&A&&u.push("and"),A&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cA.warn(u.join(" "));return}ul(new lA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="firebase-heartbeat-database",g$=1,Nf="firebase-heartbeat-store";let mx=null;function IN(){return mx||(mx=TN(h$,g$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nf)}catch(n){console.warn(n)}}}}).catch(t=>{throw sl.create("idb-open",{originalErrorMessage:t.message})})),mx}async function p$(t){try{const n=(await IN()).transaction(Nf),r=await n.objectStore(Nf).get(NN(t));return await n.done,r}catch(e){if(e instanceof xl)cA.warn(e.message);else{const n=sl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cA.warn(n.message)}}}async function Qb(t,e){try{const r=(await IN()).transaction(Nf,"readwrite");await r.objectStore(Nf).put(e,NN(t)),await r.done}catch(n){if(n instanceof xl)cA.warn(n.message);else{const r=sl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cA.warn(r.message)}}}function NN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=1024,x$=720*60*60*1e3;class w${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(A=>A.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const u=new Date(A.date).valueOf();return Date.now()-u<=x$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){cA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pb(),{heartbeatsToSend:r,unsentEntries:i}=v$(this._heartbeatsCache.heartbeats),s=V1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return cA.warn(n),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function v$(t,e=m$){const n=[];let r=t.slice();for(const i of t){const s=n.find(A=>A.agent===i.agent);if(s){if(s.dates.push(i.date),Hb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?EN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Hb(t){return V1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){ul(new lA("platform-logger",e=>new UZ(e),"PRIVATE")),ul(new lA("heartbeat",e=>new w$(e),"PRIVATE")),wo(b2,Ob,t),wo(b2,Ob,"esm2017"),wo("fire-js","")}C$("");var E$="firebase",B$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(E$,B$,"app");var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tc,FN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,H){function O(){}O.prototype=H.prototype,M.D=H.prototype,M.prototype=new O,M.prototype.constructor=M,M.C=function(z,J,W){for(var X=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)X[Me-2]=arguments[Me];return H.prototype[J].apply(z,X)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,H,O){O||(O=0);var z=Array(16);if(typeof H=="string")for(var J=0;16>J;++J)z[J]=H.charCodeAt(O++)|H.charCodeAt(O++)<<8|H.charCodeAt(O++)<<16|H.charCodeAt(O++)<<24;else for(J=0;16>J;++J)z[J]=H[O++]|H[O++]<<8|H[O++]<<16|H[O++]<<24;H=M.g[0],O=M.g[1],J=M.g[2];var W=M.g[3],X=H+(W^O&(J^W))+z[0]+3614090360&4294967295;H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[1]+3905402710&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[2]+606105819&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[3]+3250441966&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[4]+4118548399&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[5]+1200080426&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[6]+2821735955&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[7]+4249261313&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[8]+1770035416&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[9]+2336552879&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[10]+4294925233&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[11]+2304563134&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(W^O&(J^W))+z[12]+1804603682&4294967295,H=O+(X<<7&4294967295|X>>>25),X=W+(J^H&(O^J))+z[13]+4254626195&4294967295,W=H+(X<<12&4294967295|X>>>20),X=J+(O^W&(H^O))+z[14]+2792965006&4294967295,J=W+(X<<17&4294967295|X>>>15),X=O+(H^J&(W^H))+z[15]+1236535329&4294967295,O=J+(X<<22&4294967295|X>>>10),X=H+(J^W&(O^J))+z[1]+4129170786&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[6]+3225465664&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[11]+643717713&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[0]+3921069994&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[5]+3593408605&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[10]+38016083&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[15]+3634488961&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[4]+3889429448&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[9]+568446438&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[14]+3275163606&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[3]+4107603335&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[8]+1163531501&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(J^W&(O^J))+z[13]+2850285829&4294967295,H=O+(X<<5&4294967295|X>>>27),X=W+(O^J&(H^O))+z[2]+4243563512&4294967295,W=H+(X<<9&4294967295|X>>>23),X=J+(H^O&(W^H))+z[7]+1735328473&4294967295,J=W+(X<<14&4294967295|X>>>18),X=O+(W^H&(J^W))+z[12]+2368359562&4294967295,O=J+(X<<20&4294967295|X>>>12),X=H+(O^J^W)+z[5]+4294588738&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[8]+2272392833&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[11]+1839030562&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[14]+4259657740&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[1]+2763975236&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[4]+1272893353&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[7]+4139469664&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[10]+3200236656&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[13]+681279174&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[0]+3936430074&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[3]+3572445317&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[6]+76029189&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(O^J^W)+z[9]+3654602809&4294967295,H=O+(X<<4&4294967295|X>>>28),X=W+(H^O^J)+z[12]+3873151461&4294967295,W=H+(X<<11&4294967295|X>>>21),X=J+(W^H^O)+z[15]+530742520&4294967295,J=W+(X<<16&4294967295|X>>>16),X=O+(J^W^H)+z[2]+3299628645&4294967295,O=J+(X<<23&4294967295|X>>>9),X=H+(J^(O|~W))+z[0]+4096336452&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[7]+1126891415&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[14]+2878612391&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[5]+4237533241&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[12]+1700485571&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[3]+2399980690&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[10]+4293915773&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[1]+2240044497&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[8]+1873313359&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[15]+4264355552&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[6]+2734768916&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[13]+1309151649&4294967295,O=J+(X<<21&4294967295|X>>>11),X=H+(J^(O|~W))+z[4]+4149444226&4294967295,H=O+(X<<6&4294967295|X>>>26),X=W+(O^(H|~J))+z[11]+3174756917&4294967295,W=H+(X<<10&4294967295|X>>>22),X=J+(H^(W|~O))+z[2]+718787259&4294967295,J=W+(X<<15&4294967295|X>>>17),X=O+(W^(J|~H))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+H&4294967295,M.g[1]=M.g[1]+(J+(X<<21&4294967295|X>>>11))&4294967295,M.g[2]=M.g[2]+J&4294967295,M.g[3]=M.g[3]+W&4294967295}r.prototype.u=function(M,H){H===void 0&&(H=M.length);for(var O=H-this.blockSize,z=this.B,J=this.h,W=0;W<H;){if(J==0)for(;W<=O;)i(this,M,W),W+=this.blockSize;if(typeof M=="string"){for(;W<H;)if(z[J++]=M.charCodeAt(W++),J==this.blockSize){i(this,z),J=0;break}}else for(;W<H;)if(z[J++]=M[W++],J==this.blockSize){i(this,z),J=0;break}}this.h=J,this.o+=H},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var H=1;H<M.length-8;++H)M[H]=0;var O=8*this.o;for(H=M.length-8;H<M.length;++H)M[H]=O&255,O/=256;for(this.u(M),M=Array(16),H=O=0;4>H;++H)for(var z=0;32>z;z+=8)M[O++]=this.g[H]>>>z&255;return M};function s(M,H){var O=u;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=H(M)}function A(M,H){this.h=H;for(var O=[],z=!0,J=M.length-1;0<=J;J--){var W=M[J]|0;z&&W==H||(O[J]=W,z=!1)}this.g=O}var u={};function h(M){return-128<=M&&128>M?s(M,function(H){return new A([H|0],0>H?-1:0)}):new A([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return C;if(0>M)return k(d(-M));for(var H=[],O=1,z=0;M>=O;z++)H[z]=M/O|0,O*=4294967296;return new A(H,0)}function x(M,H){if(M.length==0)throw Error("number format error: empty string");if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(M.charAt(0)=="-")return k(x(M.substring(1),H));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(H,8)),z=C,J=0;J<M.length;J+=8){var W=Math.min(8,M.length-J),X=parseInt(M.substring(J,J+W),H);8>W?(W=d(Math.pow(H,W)),z=z.j(W).add(d(X))):(z=z.j(O),z=z.add(d(X)))}return z}var C=h(0),_=h(1),N=h(16777216);t=A.prototype,t.m=function(){if(R(this))return-k(this).m();for(var M=0,H=1,O=0;O<this.g.length;O++){var z=this.i(O);M+=(0<=z?z:4294967296+z)*H,H*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(R(this))return"-"+k(this).toString(M);for(var H=d(Math.pow(M,6)),O=this,z="";;){var J=ne(O,H).g;O=j(O,J.j(H));var W=((0<O.g.length?O.g[0]:O.h)>>>0).toString(M);if(O=J,D(O))return W+z;for(;6>W.length;)W="0"+W;z=W+z}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var H=0;H<M.g.length;H++)if(M.g[H]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=j(this,M),R(M)?-1:D(M)?0:1};function k(M){for(var H=M.g.length,O=[],z=0;z<H;z++)O[z]=~M.g[z];return new A(O,~M.h).add(_)}t.abs=function(){return R(this)?k(this):this},t.add=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0,J=0;J<=H;J++){var W=z+(this.i(J)&65535)+(M.i(J)&65535),X=(W>>>16)+(this.i(J)>>>16)+(M.i(J)>>>16);z=X>>>16,W&=65535,X&=65535,O[J]=X<<16|W}return new A(O,O[O.length-1]&-2147483648?-1:0)};function j(M,H){return M.add(k(H))}t.j=function(M){if(D(this)||D(M))return C;if(R(this))return R(M)?k(this).j(k(M)):k(k(this).j(M));if(R(M))return k(this.j(k(M)));if(0>this.l(N)&&0>M.l(N))return d(this.m()*M.m());for(var H=this.g.length+M.g.length,O=[],z=0;z<2*H;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var J=0;J<M.g.length;J++){var W=this.i(z)>>>16,X=this.i(z)&65535,Me=M.i(J)>>>16,Ee=M.i(J)&65535;O[2*z+2*J]+=X*Ee,K(O,2*z+2*J),O[2*z+2*J+1]+=W*Ee,K(O,2*z+2*J+1),O[2*z+2*J+1]+=X*Me,K(O,2*z+2*J+1),O[2*z+2*J+2]+=W*Me,K(O,2*z+2*J+2)}for(z=0;z<H;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=H;z<2*H;z++)O[z]=0;return new A(O,0)};function K(M,H){for(;(M[H]&65535)!=M[H];)M[H+1]+=M[H]>>>16,M[H]&=65535,H++}function Q(M,H){this.g=M,this.h=H}function ne(M,H){if(D(H))throw Error("division by zero");if(D(M))return new Q(C,C);if(R(M))return H=ne(k(M),H),new Q(k(H.g),k(H.h));if(R(H))return H=ne(M,k(H)),new Q(k(H.g),H.h);if(30<M.g.length){if(R(M)||R(H))throw Error("slowDivide_ only works with positive integers.");for(var O=_,z=H;0>=z.l(M);)O=ae(O),z=ae(z);var J=ee(O,1),W=ee(z,1);for(z=ee(z,2),O=ee(O,2);!D(z);){var X=W.add(z);0>=X.l(M)&&(J=J.add(O),W=X),z=ee(z,1),O=ee(O,1)}return H=j(M,J.j(H)),new Q(J,H)}for(J=C;0<=M.l(H);){for(O=Math.max(1,Math.floor(M.m()/H.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),W=d(O),X=W.j(H);R(X)||0<X.l(M);)O-=z,W=d(O),X=W.j(H);D(W)&&(W=_),J=J.add(W),M=j(M,X)}return new Q(J,M)}t.A=function(M){return ne(this,M).h},t.and=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)&M.i(z);return new A(O,this.h&M.h)},t.or=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)|M.i(z);return new A(O,this.h|M.h)},t.xor=function(M){for(var H=Math.max(this.g.length,M.g.length),O=[],z=0;z<H;z++)O[z]=this.i(z)^M.i(z);return new A(O,this.h^M.h)};function ae(M){for(var H=M.g.length+1,O=[],z=0;z<H;z++)O[z]=M.i(z)<<1|M.i(z-1)>>>31;return new A(O,M.h)}function ee(M,H){var O=H>>5;H%=32;for(var z=M.g.length-O,J=[],W=0;W<z;W++)J[W]=0<H?M.i(W+O)>>>H|M.i(W+O+1)<<32-H:M.i(W+O);return new A(J,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FN=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=d,A.fromString=x,tc=A}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RN,W0,DN,o1,N2,UN,kN,MN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,L,G){return T==Array.prototype||T==Object.prototype||(T[L]=G.value),T};function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var L=0;L<T.length;++L){var G=T[L];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(T,L){if(L)e:{var G=r;T=T.split(".");for(var Ae=0;Ae<T.length-1;Ae++){var Pe=T[Ae];if(!(Pe in G))break e;G=G[Pe]}T=T[T.length-1],Ae=G[T],L=L(Ae),L!=Ae&&L!=null&&e(G,T,{configurable:!0,writable:!0,value:L})}}function s(T,L){T instanceof String&&(T+="");var G=0,Ae=!1,Pe={next:function(){if(!Ae&&G<T.length){var et=G++;return{value:L(et,T[et]),done:!1}}return Ae=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}i("Array.prototype.values",function(T){return T||function(){return s(this,function(L,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},u=this||self;function h(T){var L=typeof T;return L=L!="object"?L:T?Array.isArray(T)?"array":L:"null",L=="array"||L=="object"&&typeof T.length=="number"}function d(T){var L=typeof T;return L=="object"&&T!=null||L=="function"}function x(T,L,G){return T.call.apply(T.bind,arguments)}function C(T,L,G){if(!T)throw Error();if(2<arguments.length){var Ae=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,Ae),T.apply(L,Pe)}}return function(){return T.apply(L,arguments)}}function _(T,L,G){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:C,_.apply(null,arguments)}function N(T,L){var G=Array.prototype.slice.call(arguments,1);return function(){var Ae=G.slice();return Ae.push.apply(Ae,arguments),T.apply(this,Ae)}}function D(T,L){function G(){}G.prototype=L.prototype,T.aa=L.prototype,T.prototype=new G,T.prototype.constructor=T,T.Qb=function(Ae,Pe,et){for(var Tt=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)Tt[Hn-2]=arguments[Hn];return L.prototype[Pe].apply(Ae,Tt)}}function R(T){const L=T.length;if(0<L){const G=Array(L);for(let Ae=0;Ae<L;Ae++)G[Ae]=T[Ae];return G}return[]}function k(T,L){for(let G=1;G<arguments.length;G++){const Ae=arguments[G];if(h(Ae)){const Pe=T.length||0,et=Ae.length||0;T.length=Pe+et;for(let Tt=0;Tt<et;Tt++)T[Pe+Tt]=Ae[Tt]}else T.push(Ae)}}class j{constructor(L,G){this.i=L,this.j=G,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function K(T){return/^[\s\xa0]*$/.test(T)}function Q(){var T=u.navigator;return T&&(T=T.userAgent)?T:""}function ne(T){return ne[" "](T),T}ne[" "]=function(){};var ae=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ee(T,L,G){for(const Ae in T)L.call(G,T[Ae],Ae,T)}function M(T,L){for(const G in T)L.call(void 0,T[G],G,T)}function H(T){const L={};for(const G in T)L[G]=T[G];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(T,L){let G,Ae;for(let Pe=1;Pe<arguments.length;Pe++){Ae=arguments[Pe];for(G in Ae)T[G]=Ae[G];for(let et=0;et<O.length;et++)G=O[et],Object.prototype.hasOwnProperty.call(Ae,G)&&(T[G]=Ae[G])}}function J(T){var L=1;T=T.split(":");const G=[];for(;0<L&&T.length;)G.push(T.shift()),L--;return T.length&&G.push(T.join(":")),G}function W(T){u.setTimeout(()=>{throw T},0)}function X(){var T=Be;let L=null;return T.g&&(L=T.g,T.g=T.g.next,T.g||(T.h=null),L.next=null),L}class Me{constructor(){this.h=this.g=null}add(L,G){const Ae=Ee.get();Ae.set(L,G),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var Ee=new j(()=>new ve,T=>T.reset());class ve{constructor(){this.next=this.g=this.h=null}set(L,G){this.h=L,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,je=!1,Be=new Me,Ze=()=>{const T=u.Promise.resolve(void 0);oe=()=>{T.then(me)}};var me=()=>{for(var T;T=X();){try{T.h.call(T.g)}catch(G){W(G)}var L=Ee;L.j(T),100>L.h&&(L.h++,T.next=L.g,L.g=T)}je=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(T,L){this.type=T,this.g=this.target=L,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var T=!1,L=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const G=()=>{};u.addEventListener("test",G,L),u.removeEventListener("test",G,L)}catch{}return T})();function ue(T,L){if(ge.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var G=this.type=T.type,Ae=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=L,L=T.relatedTarget){if(ae){e:{try{ne(L.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(L=null)}}else G=="mouseover"?L=T.fromElement:G=="mouseout"&&(L=T.toElement);this.relatedTarget=L,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:xe[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&ue.aa.h.call(this)}}D(ue,ge);var xe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function _e(T,L,G,Ae,Pe){this.listener=T,this.proxy=null,this.src=L,this.type=G,this.capture=!!Ae,this.ha=Pe,this.key=++Ne,this.da=this.fa=!1}function Oe(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function yt(T){this.src=T,this.g={},this.h=0}yt.prototype.add=function(T,L,G,Ae,Pe){var et=T.toString();T=this.g[et],T||(T=this.g[et]=[],this.h++);var Tt=St(T,L,Ae,Pe);return-1<Tt?(L=T[Tt],G||(L.fa=!1)):(L=new _e(L,this.src,et,!!Ae,Pe),L.fa=G,T.push(L)),L};function pe(T,L){var G=L.type;if(G in T.g){var Ae=T.g[G],Pe=Array.prototype.indexOf.call(Ae,L,void 0),et;(et=0<=Pe)&&Array.prototype.splice.call(Ae,Pe,1),et&&(Oe(L),T.g[G].length==0&&(delete T.g[G],T.h--))}}function St(T,L,G,Ae){for(var Pe=0;Pe<T.length;++Pe){var et=T[Pe];if(!et.da&&et.listener==L&&et.capture==!!G&&et.ha==Ae)return Pe}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Lt={};function Fe(T,L,G,Ae,Pe){if(Array.isArray(L)){for(var et=0;et<L.length;et++)Fe(T,L[et],G,Ae,Pe);return null}return G=Nt(G),T&&T[Ye]?T.K(L,G,d(Ae)?!!Ae.capture:!1,Pe):Ue(T,L,G,!1,Ae,Pe)}function Ue(T,L,G,Ae,Pe,et){if(!L)throw Error("Invalid event type");var Tt=d(Pe)?!!Pe.capture:!!Pe,Hn=dr(T);if(Hn||(T[kt]=Hn=new yt(T)),G=Hn.add(L,G,Ae,Tt,et),G.proxy)return G;if(Ae=gt(),G.proxy=Ae,Ae.src=T,Ae.listener=G,T.addEventListener)le||(Pe=Tt),Pe===void 0&&(Pe=!1),T.addEventListener(L.toString(),Ae,Pe);else if(T.attachEvent)T.attachEvent(At(L.toString()),Ae);else if(T.addListener&&T.removeListener)T.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return G}function gt(){function T(G){return L.call(T.src,T.listener,G)}const L=Pn;return T}function Bt(T,L,G,Ae,Pe){if(Array.isArray(L))for(var et=0;et<L.length;et++)Bt(T,L[et],G,Ae,Pe);else Ae=d(Ae)?!!Ae.capture:!!Ae,G=Nt(G),T&&T[Ye]?(T=T.i,L=String(L).toString(),L in T.g&&(et=T.g[L],G=St(et,G,Ae,Pe),-1<G&&(Oe(et[G]),Array.prototype.splice.call(et,G,1),et.length==0&&(delete T.g[L],T.h--)))):T&&(T=dr(T))&&(L=T.g[L.toString()],T=-1,L&&(T=St(L,G,Ae,Pe)),(G=-1<T?L[T]:null)&&dn(G))}function dn(T){if(typeof T!="number"&&T&&!T.da){var L=T.src;if(L&&L[Ye])pe(L.i,T);else{var G=T.type,Ae=T.proxy;L.removeEventListener?L.removeEventListener(G,Ae,T.capture):L.detachEvent?L.detachEvent(At(G),Ae):L.addListener&&L.removeListener&&L.removeListener(Ae),(G=dr(L))?(pe(G,T),G.h==0&&(G.src=null,L[kt]=null)):Oe(T)}}}function At(T){return T in Lt?Lt[T]:Lt[T]="on"+T}function Pn(T,L){if(T.da)T=!0;else{L=new ue(L,this);var G=T.listener,Ae=T.ha||T.src;T.fa&&dn(T),T=G.call(Ae,L)}return T}function dr(T){return T=T[kt],T instanceof yt?T:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(T){return typeof T=="function"?T:(T[at]||(T[at]=function(L){return T.handleEvent(L)}),T[at])}function It(){Z.call(this),this.i=new yt(this),this.M=this,this.F=null}D(It,Z),It.prototype[Ye]=!0,It.prototype.removeEventListener=function(T,L,G,Ae){Bt(this,T,L,G,Ae)};function $t(T,L){var G,Ae=T.F;if(Ae)for(G=[];Ae;Ae=Ae.F)G.push(Ae);if(T=T.M,Ae=L.type||L,typeof L=="string")L=new ge(L,T);else if(L instanceof ge)L.target=L.target||T;else{var Pe=L;L=new ge(Ae,T),z(L,Pe)}if(Pe=!0,G)for(var et=G.length-1;0<=et;et--){var Tt=L.g=G[et];Pe=un(Tt,Ae,!0,L)&&Pe}if(Tt=L.g=T,Pe=un(Tt,Ae,!0,L)&&Pe,Pe=un(Tt,Ae,!1,L)&&Pe,G)for(et=0;et<G.length;et++)Tt=L.g=G[et],Pe=un(Tt,Ae,!1,L)&&Pe}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var T=this.i,L;for(L in T.g){for(var G=T.g[L],Ae=0;Ae<G.length;Ae++)Oe(G[Ae]);delete T.g[L],T.h--}}this.F=null},It.prototype.K=function(T,L,G,Ae){return this.i.add(String(T),L,!1,G,Ae)},It.prototype.L=function(T,L,G,Ae){return this.i.add(String(T),L,!0,G,Ae)};function un(T,L,G,Ae){if(L=T.i.g[String(L)],!L)return!0;L=L.concat();for(var Pe=!0,et=0;et<L.length;++et){var Tt=L[et];if(Tt&&!Tt.da&&Tt.capture==G){var Hn=Tt.listener,gr=Tt.ha||Tt.src;Tt.fa&&pe(T.i,Tt),Pe=Hn.call(gr,Ae)!==!1&&Pe}}return Pe&&!Ae.defaultPrevented}function fn(T,L,G){if(typeof T=="function")G&&(T=_(T,G));else if(T&&typeof T.handleEvent=="function")T=_(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:u.setTimeout(T,L||0)}function tt(T){T.g=fn(()=>{T.g=null,T.i&&(T.i=!1,tt(T))},T.l);const L=T.h;T.h=null,T.m.apply(null,L)}class we extends Z{constructor(L,G){super(),this.m=L,this.l=G,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(T){Z.call(this),this.h=T,this.g={}}D(Ge,Z);var st=[];function De(T){ee(T.g,function(L,G){this.g.hasOwnProperty(G)&&dn(L)},T),T.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),De(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=u.JSON.stringify,bt=u.JSON.parse,mn=class{stringify(T){return u.JSON.stringify(T,void 0)}parse(T){return u.JSON.parse(T,void 0)}};function Xi(){}Xi.prototype.h=null;function br(T){return T.h||(T.h=T.i())}function qi(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ge.call(this,"d")}D(vi,ge);function ui(){ge.call(this,"c")}D(ui,ge);var Ni={},Dr=null;function ga(){return Dr=Dr||new It}Ni.La="serverreachability";function Cr(T){ge.call(this,Ni.La,T)}D(Cr,ge);function yi(T){const L=ga();$t(L,new Cr(L))}Ni.STAT_EVENT="statevent";function ds(T,L){ge.call(this,Ni.STAT_EVENT,T),this.stat=L}D(ds,ge);function Wn(T){const L=ga();$t(L,new ds(L,T))}Ni.Ma="timingevent";function So(T,L){ge.call(this,Ni.Ma,T),this.size=L}D(So,ge);function ei(T,L){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){T()},L)}function Ss(){this.g=!0}Ss.prototype.xa=function(){this.g=!1};function Ur(T,L,G,Ae,Pe,et){T.info(function(){if(T.g)if(et)for(var Tt="",Hn=et.split("&"),gr=0;gr<Hn.length;gr++){var xn=Hn[gr].split("=");if(1<xn.length){var cr=xn[0];xn=xn[1];var Nr=cr.split("_");Tt=2<=Nr.length&&Nr[1]=="type"?Tt+(cr+"="+xn+"&"):Tt+(cr+"=redacted&")}}else Tt=null;else Tt=et;return"XMLHTTP REQ ("+Ae+") [attempt "+Pe+"]: "+L+`
`+G+`
`+Tt})}function hs(T,L,G,Ae,Pe,et,Tt){T.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+Pe+"]: "+L+`
`+G+`
`+et+" "+Tt})}function te(T,L,G,Ae){T.info(function(){return"XMLHTTP TEXT ("+L+"): "+ce(T,G)+(Ae?" "+Ae:"")})}function se(T,L){T.info(function(){return"TIMEOUT: "+L})}Ss.prototype.info=function(){};function ce(T,L){if(!T.g)return L;if(!L)return null;try{var G=JSON.parse(L);if(G){for(T=0;T<G.length;T++)if(Array.isArray(G[T])){var Ae=G[T];if(!(2>Ae.length)){var Pe=Ae[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var et=Pe[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Tt=1;Tt<Pe.length;Tt++)Pe[Tt]=""}}}}return mt(G)}catch{return L}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},de={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ce;function Ve(){}D(Ve,Xi),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Ce=new Ve;function rt(T,L,G,Ae){this.j=T,this.i=L,this.l=G,this.R=Ae||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qe}function Qe(){this.i=null,this.g="",this.h=!1}var We={},Xe={};function ut(T,L,G){T.L=1,T.v=hr(Yt(L)),T.m=G,T.P=!0,ht(T,null)}function ht(T,L){T.F=Date.now(),Et(T),T.A=Yt(T.v);var G=T.A,Ae=T.R;Array.isArray(Ae)||(Ae=[String(Ae)]),rr(G.i,"t",Ae),T.C=0,G=T.j.J,T.h=new Qe,T.g=Bc(T.j,G?L:null,!T.m),0<T.O&&(T.M=new we(_(T.Y,T,T.g),T.O)),L=T.U,G=T.g,Ae=T.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&(st[0]=Pe.toString()),Pe=st);for(var et=0;et<Pe.length;et++){var Tt=Fe(G,Pe[et],Ae||L.handleEvent,!1,L.h||L);if(!Tt)break;L.g[Tt.key]=Tt}L=T.H?H(T.H):{},T.m?(T.u||(T.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,L)):(T.u="GET",T.g.ea(T.A,T.u,null,L)),yi(),Ur(T.i,T.u,T.A,T.l,T.R,T.m)}rt.prototype.ca=function(T){T=T.target;const L=this.M;L&&Fi(T)==3?L.j():this.Y(T)},rt.prototype.Y=function(T){try{if(T==this.g)e:{const Nr=Fi(this.g);var L=this.g.Ba();const Wr=this.g.Z();if(!(3>Nr)&&(Nr!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Nr!=4||L==7||(L==8||0>=Wr?yi(3):yi(2)),it(this);var G=this.g.Z();this.X=G;t:if(pt(this)){var Ae=Io(this.g);T="";var Pe=Ae.length,et=Fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),Rn(this);var Tt="";break t}this.h.i=new u.TextDecoder}for(L=0;L<Pe;L++)this.h.h=!0,T+=this.h.i.decode(Ae[L],{stream:!(et&&L==Pe-1)});Ae.length=0,this.h.g+=T,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=G==200,hs(this.i,this.u,this.A,this.l,this.R,Nr,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Hn,gr=this.g;if((Hn=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Hn)){var xn=Hn;break t}}xn=null}if(G=xn)te(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,G);else{this.o=!1,this.s=3,Wn(12),Gt(this),Rn(this);break e}}if(this.P){G=!0;let Di;for(;!this.J&&this.C<Tt.length;)if(Di=wt(this,Tt),Di==Xe){Nr==4&&(this.s=4,Wn(14),G=!1),te(this.i,this.l,null,"[Incomplete Response]");break}else if(Di==We){this.s=4,Wn(15),te(this.i,this.l,Tt,"[Invalid Chunk]"),G=!1;break}else te(this.i,this.l,Di,null),Sr(this,Di);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nr!=4||Tt.length!=0||this.h.h||(this.s=1,Wn(16),G=!1),this.o=this.o&&G,!G)te(this.i,this.l,Tt,"[Invalid Chunked Response]"),Gt(this),Rn(this);else if(0<Tt.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),Ro(cr),cr.M=!0,Wn(11))}}else te(this.i,this.l,Tt,null),Sr(this,Tt);Nr==4&&Gt(this),this.o&&!this.J&&(Nr==4?lr(this.j,this):(this.o=!1,Et(this)))}else Mn(this.g),G==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),Gt(this),Rn(this)}}}catch{}finally{}};function pt(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function wt(T,L){var G=T.C,Ae=L.indexOf(`
`,G);return Ae==-1?Xe:(G=Number(L.substring(G,Ae)),isNaN(G)?We:(Ae+=1,Ae+G>L.length?Xe:(L=L.slice(Ae,Ae+G),T.C=Ae+G,L)))}rt.prototype.cancel=function(){this.J=!0,Gt(this)};function Et(T){T.S=Date.now()+T.I,Dt(T,T.I)}function Dt(T,L){if(T.B!=null)throw Error("WatchDog timer not null");T.B=ei(_(T.ba,T),L)}function it(T){T.B&&(u.clearTimeout(T.B),T.B=null)}rt.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(se(this.i,this.A),this.L!=2&&(yi(),Wn(17)),Gt(this),this.s=2,Rn(this)):Dt(this,this.S-T)};function Rn(T){T.j.G==0||T.J||lr(T.j,T)}function Gt(T){it(T);var L=T.M;L&&typeof L.ma=="function"&&L.ma(),T.M=null,De(T.U),T.g&&(L=T.g,T.g=null,L.abort(),L.ma())}function Sr(T,L){try{var G=T.j;if(G.G!=0&&(G.g==T||kr(G.h,T))){if(!T.K&&kr(G.h,T)&&G.G==3){try{var Ae=G.Da.g.parse(L)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var Pe=Ae;if(Pe[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<T.F)xa(G),lo(G);else break e;Bl(G),Wn(18)}}else G.za=Pe[1],0<G.za-G.T&&37500>Pe[2]&&G.F&&G.v==0&&!G.C&&(G.C=ei(_(G.Za,G),6e3));if(1>=an(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Ri(G,11)}else if((T.K||G.g==T)&&xa(G),!K(L))for(Pe=G.Da.g.parse(L),L=0;L<Pe.length;L++){let xn=Pe[L];if(G.T=xn[0],xn=xn[1],G.G==2)if(xn[0]=="c"){G.K=xn[1],G.ia=xn[2];const cr=xn[3];cr!=null&&(G.la=cr,G.j.info("VER="+G.la));const Nr=xn[4];Nr!=null&&(G.Aa=Nr,G.j.info("SVER="+G.Aa));const Wr=xn[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(Ae=1.5*Wr,G.L=Ae,G.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=G;const Di=T.g;if(Di){const Ei=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var et=Ae.h;et.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(pa(et,et.h),et.h=null))}if(Ae.D){const ja=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(Ae.ya=ja,_t(Ae.I,Ae.D,ja))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-T.F,G.j.info("Handshake RTT: "+G.R+"ms")),Ae=G;var Tt=T;if(Ae.qa=jt(Ae,Ae.J?Ae.ia:null,Ae.W),Tt.K){Yi(Ae.h,Tt);var Hn=Tt,gr=Ae.L;gr&&(Hn.I=gr),Hn.B&&(it(Hn),Et(Hn)),Ae.g=Tt}else Ec(Ae);0<G.i.length&&en(G)}else xn[0]!="stop"&&xn[0]!="close"||Ri(G,7);else G.G==3&&(xn[0]=="stop"||xn[0]=="close"?xn[0]=="stop"?Ri(G,7):Ms(G):xn[0]!="noop"&&G.l&&G.l.ta(xn),G.v=0)}}yi(4)}catch{}}var Pa=class{constructor(T,L){this.g=T,this.map=L}};function hn(T){this.l=T||10,u.PerformanceNavigationTiming?(T=u.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function an(T){return T.h?1:T.g?T.g.size:0}function kr(T,L){return T.h?T.h==L:T.g?T.g.has(L):!1}function pa(T,L){T.g?T.g.add(L):T.h=L}function Yi(T,L){T.h&&T.h==L?T.h=null:T.g&&T.g.has(L)&&T.g.delete(L)}hn.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function In(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let L=T.i;for(const G of T.g.values())L=L.concat(G.D);return L}return R(T.i)}function Js(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(h(T)){for(var L=[],G=T.length,Ae=0;Ae<G;Ae++)L.push(T[Ae]);return L}L=[],G=0;for(Ae in T)L[G++]=T[Ae];return L}function Gu(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(h(T)||typeof T=="string"){var L=[];T=T.length;for(var G=0;G<T;G++)L.push(G);return L}L=[],G=0;for(const Ae in T)L[G++]=Ae;return L}}}function nr(T,L){if(T.forEach&&typeof T.forEach=="function")T.forEach(L,void 0);else if(h(T)||typeof T=="string")Array.prototype.forEach.call(T,L,void 0);else for(var G=Gu(T),Ae=Js(T),Pe=Ae.length,et=0;et<Pe;et++)L.call(void 0,Ae[et],G&&G[et],T)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pA(T,L){if(T){T=T.split("&");for(var G=0;G<T.length;G++){var Ae=T[G].indexOf("="),Pe=null;if(0<=Ae){var et=T[G].substring(0,Ae);Pe=T[G].substring(Ae+1)}else et=T[G];L(et,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Ji(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof Ji){this.h=T.h,xr(this,T.j),this.o=T.o,this.g=T.g,He(this,T.s),this.l=T.l;var L=T.i,G=new Fs;G.i=L.i,L.g&&(G.g=new Map(L.g),G.h=L.h),he(this,G),this.m=T.m}else T&&(L=String(T).match(Is))?(this.h=!1,xr(this,L[1]||"",!0),this.o=Kr(L[2]||""),this.g=Kr(L[3]||"",!0),He(this,L[4]),this.l=Kr(L[5]||"",!0),he(this,L[6]||"",!0),this.m=Kr(L[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}Ji.prototype.toString=function(){var T=[],L=this.j;L&&T.push(Ns(L,Ci,!0),":");var G=this.g;return(G||L=="file")&&(T.push("//"),(L=this.o)&&T.push(Ns(L,Ci,!0),"@"),T.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&T.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&T.push("/"),T.push(Ns(G,G.charAt(0)=="/"?Jn:Vt,!0))),(G=this.i.toString())&&T.push("?",G),(G=this.m)&&T.push("#",Ns(G,Ku)),T.join("")};function Yt(T){return new Ji(T)}function xr(T,L,G){T.j=G?Kr(L,!0):L,T.j&&(T.j=T.j.replace(/:$/,""))}function He(T,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);T.s=L}else T.s=null}function he(T,L,G){L instanceof Fs?(T.i=L,Zs(T.i,T.h)):(G||(L=Ns(L,yc)),T.i=new Fs(L,T.h))}function _t(T,L,G){T.i.set(L,G)}function hr(T){return _t(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Kr(T,L){return T?L?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Ns(T,L,G){return typeof T=="string"?(T=encodeURI(T).replace(L,vl),G&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function vl(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var Ci=/[#\/\?@]/g,Vt=/[#\?:]/g,Jn=/[#\?]/g,yc=/[#\?@]/g,Ku=/#/g;function Fs(T,L){this.h=this.g=null,this.i=T||null,this.j=!!L}function Ir(T){T.g||(T.g=new Map,T.h=0,T.i&&pA(T.i,function(L,G){T.add(decodeURIComponent(L.replace(/\+/g," ")),G)}))}t=Fs.prototype,t.add=function(T,L){Ir(this),this.i=null,T=fi(this,T);var G=this.g.get(T);return G||this.g.set(T,G=[]),G.push(L),this.h+=1,this};function oo(T,L){Ir(T),L=fi(T,L),T.g.has(L)&&(T.i=null,T.h-=T.g.get(L).length,T.g.delete(L))}function mA(T,L){return Ir(T),L=fi(T,L),T.g.has(L)}t.forEach=function(T,L){Ir(this),this.g.forEach(function(G,Ae){G.forEach(function(Pe){T.call(L,Pe,Ae,this)},this)},this)},t.na=function(){Ir(this);const T=Array.from(this.g.values()),L=Array.from(this.g.keys()),G=[];for(let Ae=0;Ae<L.length;Ae++){const Pe=T[Ae];for(let et=0;et<Pe.length;et++)G.push(L[Ae])}return G},t.V=function(T){Ir(this);let L=[];if(typeof T=="string")mA(this,T)&&(L=L.concat(this.g.get(fi(this,T))));else{T=Array.from(this.g.values());for(let G=0;G<T.length;G++)L=L.concat(T[G])}return L},t.set=function(T,L){return Ir(this),this.i=null,T=fi(this,T),mA(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[L]),this.h+=1,this},t.get=function(T,L){return T?(T=this.V(T),0<T.length?String(T[0]):L):L};function rr(T,L,G){oo(T,L),0<G.length&&(T.i=null,T.g.set(fi(T,L),R(G)),T.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],L=Array.from(this.g.keys());for(var G=0;G<L.length;G++){var Ae=L[G];const et=encodeURIComponent(String(Ae)),Tt=this.V(Ae);for(Ae=0;Ae<Tt.length;Ae++){var Pe=et;Tt[Ae]!==""&&(Pe+="="+encodeURIComponent(String(Tt[Ae]))),T.push(Pe)}}return this.i=T.join("&")};function fi(T,L){return L=String(L),T.j&&(L=L.toLowerCase()),L}function Zs(T,L){L&&!T.j&&(Ir(T),T.i=null,T.g.forEach(function(G,Ae){var Pe=Ae.toLowerCase();Ae!=Pe&&(oo(this,Ae),rr(this,Pe,G))},T)),T.j=L}function Kt(T,L){const G=new Ss;if(u.Image){const Ae=new Image;Ae.onload=N(zt,G,"TestLoadImage: loaded",!0,L,Ae),Ae.onerror=N(zt,G,"TestLoadImage: error",!1,L,Ae),Ae.onabort=N(zt,G,"TestLoadImage: abort",!1,L,Ae),Ae.ontimeout=N(zt,G,"TestLoadImage: timeout",!1,L,Ae),u.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=T}else L(!1)}function Cc(T,L){const G=new Ss,Ae=new AbortController,Pe=setTimeout(()=>{Ae.abort(),zt(G,"TestPingServer: timeout",!1,L)},1e4);fetch(T,{signal:Ae.signal}).then(et=>{clearTimeout(Pe),et.ok?zt(G,"TestPingServer: ok",!0,L):zt(G,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Pe),zt(G,"TestPingServer: error",!1,L)})}function zt(T,L,G,Ae,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),Ae(G)}catch{}}function Zn(){this.g=new mn}function yl(T,L,G){const Ae=G||"";try{nr(T,function(Pe,et){let Tt=Pe;d(Pe)&&(Tt=mt(Pe)),L.push(Ae+et+"="+encodeURIComponent(Tt))})}catch(Pe){throw L.push(Ae+"type="+encodeURIComponent("_badmap")),Pe}}function Rs(T){this.l=T.Ub||null,this.j=T.eb||!1}D(Rs,Xi),Rs.prototype.g=function(){return new Zi(this.l,this.j)},Rs.prototype.i=(function(T){return function(){return T}})({});function Zi(T,L){It.call(this),this.D=T,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Zi,It),t=Zi.prototype,t.open=function(T,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=L,this.readyState=1,Us(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(L.body=T),(this.D||u).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ds(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ds(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}t.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var L=T.value?T.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!T.done}))&&(this.response=this.responseText+=L)}T.done?ma(this):Us(this),this.readyState==3&&Ds(this)}},t.Ra=function(T){this.g&&(this.response=this.responseText=T,ma(this))},t.Qa=function(T){this.g&&(this.response=T,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(T){T.readyState=4,T.l=null,T.j=null,T.v=null,Us(T)}t.setRequestHeader=function(T,L){this.u.append(T,L)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],L=this.h.entries();for(var G=L.next();!G.done;)G=G.value,T.push(G[0]+": "+G[1]),G=L.next();return T.join(`\r
`)};function Us(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function $s(T){let L="";return ee(T,function(G,Ae){L+=Ae,L+=":",L+=G,L+=`\r
`}),L}function ks(T,L,G){e:{for(Ae in G){var Ae=!1;break e}Ae=!0}Ae||(G=$s(G),typeof T=="string"?G!=null&&encodeURIComponent(String(G)):_t(T,L,G))}function ir(T){It.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ir,It);var Mr=/^https?$/i,gs=["POST","PUT"];t=ir.prototype,t.Ha=function(T){this.J=T},t.ea=function(T,L,G,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);L=L?L.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?br(this.o):br(Ce),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(L,String(T),!0),this.B=!1}catch(et){Or(this,et);return}if(T=G||"",G=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var Pe in Ae)G.set(Pe,Ae[Pe]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const et of Ae.keys())G.set(et,Ae.get(et));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(G.keys()).find(et=>et.toLowerCase()=="content-type"),Pe=u.FormData&&T instanceof u.FormData,!(0<=Array.prototype.indexOf.call(gs,L,void 0))||Ae||Pe||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Tt]of G)this.g.setRequestHeader(et,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xA(this),this.u=!0,this.g.send(T),this.u=!1}catch(et){Or(this,et)}};function Or(T,L){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=L,T.m=5,Ha(T),Va(T)}function Ha(T){T.A||(T.A=!0,$t(T,"complete"),$t(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,$t(this,"complete"),$t(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),ir.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cl(this):this.bb())},t.bb=function(){Cl(this)};function Cl(T){if(T.h&&typeof A<"u"&&(!T.v[1]||Fi(T)!=4||T.Z()!=2)){if(T.u&&Fi(T)==4)fn(T.Ea,0,T);else if($t(T,"readystatechange"),Fi(T)==4){T.h=!1;try{const Tt=T.Z();e:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var G;if(!(G=L)){var Ae;if(Ae=Tt===0){var Pe=String(T.D).match(Is)[1]||null;!Pe&&u.self&&u.self.location&&(Pe=u.self.location.protocol.slice(0,-1)),Ae=!Mr.test(Pe?Pe.toLowerCase():"")}G=Ae}if(G)$t(T,"complete"),$t(T,"success");else{T.m=6;try{var et=2<Fi(T)?T.g.statusText:""}catch{et=""}T.l=et+" ["+T.Z()+"]",Ha(T)}}finally{Va(T)}}}}function Va(T,L){if(T.g){xA(T);const G=T.g,Ae=T.v[0]?()=>{}:null;T.g=null,T.v=null,L||$t(T,"ready");try{G.onreadystatechange=Ae}catch{}}}function xA(T){T.I&&(u.clearTimeout(T.I),T.I=null)}t.isActive=function(){return!!this.g};function Fi(T){return T.g?T.g.readyState:0}t.Z=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(T){if(this.g){var L=this.g.responseText;return T&&L.indexOf(T)==0&&(L=L.substring(T.length)),bt(L)}};function Io(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Mn(T){const L={};T=(T.g&&2<=Fi(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<T.length;Ae++){if(K(T[Ae]))continue;var G=J(T[Ae]);const Pe=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const et=L[Pe]||[];L[Pe]=et,et.push(G)}M(L,function(Ae){return Ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(T,L,G){return G&&G.internalChannelParams&&G.internalChannelParams[T]||L}function No(T){this.Aa=0,this.i=[],this.j=new Ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,T),this.cb=Ao("retryDelaySeedMs",1e4,T),this.Wa=Ao("forwardChannelMaxRetries",2,T),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new hn(T&&T.concurrentRequestLimit),this.Da=new Zn,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=No.prototype,t.la=8,t.G=1,t.connect=function(T,L,G,Ae){Wn(0),this.W=T,this.H=L||{},G&&Ae!==void 0&&(this.H.OSID=G,this.H.OAID=Ae),this.F=this.X,this.I=jt(this,null,this.W),en(this)};function Ms(T){if(Je(T),T.G==3){var L=T.U++,G=Yt(T.I);if(_t(G,"SID",T.K),_t(G,"RID",L),_t(G,"TYPE","terminate"),co(T,G),L=new rt(T,T.j,L),L.L=2,L.v=hr(Yt(G)),G=!1,u.navigator&&u.navigator.sendBeacon)try{G=u.navigator.sendBeacon(L.v.toString(),"")}catch{}!G&&u.Image&&(new Image().src=L.v,G=!0),G||(L.g=Bc(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Et(L)}On(T)}function lo(T){T.g&&(Ro(T),T.g.cancel(),T.g=null)}function Je(T){lo(T),T.u&&(u.clearTimeout(T.u),T.u=null),xa(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&u.clearTimeout(T.s),T.s=null)}function en(T){if(!nn(T.h)&&!T.s){T.s=!0;var L=T.Ga;oe||Ze(),je||(oe(),je=!0),Be.add(L,T),T.B=0}}function zr(T,L){return an(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=L.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=ei(_(T.Ga,T,L),Do(T,T.B)),T.B++,!0)}t.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Pe=new rt(this,this.j,T);let et=this.o;if(this.S&&(et?(et=H(et),z(et,this.S)):et=this.S),this.m!==null||this.O||(Pe.H=et,et=null),this.P)e:{for(var L=0,G=0;G<this.i.length;G++){t:{var Ae=this.i[G];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(L+=Ae,4096<L){L=G;break e}if(L===4096||G===this.i.length-1){L=G+1;break e}}L=1e3}else L=1e3;L=El(this,Pe,L),G=Yt(this.I),_t(G,"RID",T),_t(G,"CVER",22),this.D&&_t(G,"X-HTTP-Session-Id",this.D),co(this,G),et&&(this.O?L="headers="+encodeURIComponent(String($s(et)))+"&"+L:this.m&&ks(G,this.m,et)),pa(this.h,Pe),this.Ua&&_t(G,"TYPE","init"),this.P?(_t(G,"$req",L),_t(G,"SID","null"),Pe.T=!0,ut(Pe,G,null)):ut(Pe,G,L),this.G=2}}else this.G==3&&(T?Fo(this,T):this.i.length==0||nn(this.h)||Fo(this))};function Fo(T,L){var G;L?G=L.l:G=T.U++;const Ae=Yt(T.I);_t(Ae,"SID",T.K),_t(Ae,"RID",G),_t(Ae,"AID",T.T),co(T,Ae),T.m&&T.o&&ks(Ae,T.m,T.o),G=new rt(T,T.j,G,T.B+1),T.m===null&&(G.H=T.o),L&&(T.i=L.D.concat(T.i)),L=El(T,G,1e3),G.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),pa(T.h,G),ut(G,Ae,L)}function co(T,L){T.H&&ee(T.H,function(G,Ae){_t(L,Ae,G)}),T.l&&nr({},function(G,Ae){_t(L,Ae,G)})}function El(T,L,G){G=Math.min(T.i.length,G);var Ae=T.l?_(T.l.Na,T.l,T):null;e:{var Pe=T.i;let et=-1;for(;;){const Tt=["count="+G];et==-1?0<G?(et=Pe[0].g,Tt.push("ofs="+et)):et=0:Tt.push("ofs="+et);let Hn=!0;for(let gr=0;gr<G;gr++){let xn=Pe[gr].g;const cr=Pe[gr].map;if(xn-=et,0>xn)et=Math.max(0,Pe[gr].g-100),Hn=!1;else try{yl(cr,Tt,"req"+xn+"_")}catch{Ae&&Ae(cr)}}if(Hn){Ae=Tt.join("&");break e}}}return T=T.i.splice(0,G),L.D=T,Ae}function Ec(T){if(!T.g&&!T.u){T.Y=1;var L=T.Fa;oe||Ze(),je||(oe(),je=!0),Be.add(L,T),T.v=0}}function Bl(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=ei(_(T.Fa,T),Do(T,T.v)),T.v++,!0)}t.Fa=function(){if(this.u=null,Er(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=ei(_(this.ab,this),T)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wn(10),lo(this),Er(this))};function Ro(T){T.A!=null&&(u.clearTimeout(T.A),T.A=null)}function Er(T){T.g=new rt(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var L=Yt(T.qa);_t(L,"RID","rpc"),_t(L,"SID",T.K),_t(L,"AID",T.T),_t(L,"CI",T.F?"0":"1"),!T.F&&T.ja&&_t(L,"TO",T.ja),_t(L,"TYPE","xmlhttp"),co(T,L),T.m&&T.o&&ks(L,T.m,T.o),T.L&&(T.g.I=T.L);var G=T.g;T=T.ia,G.L=1,G.v=hr(Yt(L)),G.m=null,G.P=!0,ht(G,T)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),Bl(this),Wn(19))};function xa(T){T.C!=null&&(u.clearTimeout(T.C),T.C=null)}function lr(T,L){var G=null;if(T.g==L){xa(T),Ro(T),T.g=null;var Ae=2}else if(kr(T.h,L))G=L.D,Yi(T.h,L),Ae=1;else return;if(T.G!=0){if(L.o)if(Ae==1){G=L.m?L.m.length:0,L=Date.now()-L.F;var Pe=T.B;Ae=ga(),$t(Ae,new So(Ae,G)),en(T)}else Ec(T);else if(Pe=L.s,Pe==3||Pe==0&&0<L.X||!(Ae==1&&zr(T,L)||Ae==2&&Bl(T)))switch(G&&0<G.length&&(L=T.h,L.i=L.i.concat(G)),Pe){case 1:Ri(T,5);break;case 4:Ri(T,10);break;case 3:Ri(T,6);break;default:Ri(T,2)}}}function Do(T,L){let G=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(G*=2),G*L}function Ri(T,L){if(T.j.info("Error code "+L),L==2){var G=_(T.fb,T),Ae=T.Xa;const Pe=!Ae;Ae=new Ji(Ae||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||xr(Ae,"https"),hr(Ae),Pe?Kt(Ae.toString(),G):Cc(Ae.toString(),G)}else Wn(2);T.G=0,T.l&&T.l.sa(L),On(T),Je(T)}t.fb=function(T){T?(this.j.info("Successfully pinged google.com"),Wn(2)):(this.j.info("Failed to ping google.com"),Wn(1))};function On(T){if(T.G=0,T.ka=[],T.l){const L=In(T.h);(L.length!=0||T.i.length!=0)&&(k(T.ka,L),k(T.ka,T.i),T.h.i.length=0,R(T.i),T.i.length=0),T.l.ra()}}function jt(T,L,G){var Ae=G instanceof Ji?Yt(G):new Ji(G);if(Ae.g!="")L&&(Ae.g=L+"."+Ae.g),He(Ae,Ae.s);else{var Pe=u.location;Ae=Pe.protocol,L=L?L+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var et=new Ji(null);Ae&&xr(et,Ae),L&&(et.g=L),Pe&&He(et,Pe),G&&(et.l=G),Ae=et}return G=T.D,L=T.ya,G&&L&&_t(Ae,G,L),_t(Ae,"VER",T.la),co(T,Ae),Ae}function Bc(T,L,G){if(L&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=T.Ca&&!T.pa?new ir(new Rs({eb:G})):new ir(T.pa),L.Ha(T.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xn(){}t=Xn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Os(){}Os.prototype.g=function(T,L){return new Lr(T,L)};function Lr(T,L){It.call(this),this.g=new No(L),this.l=T,this.h=L&&L.messageUrlParams||null,T=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(T?T["X-WebChannel-Content-Type"]=L.messageContentType:T={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(T?T["X-WebChannel-Client-Profile"]=L.va:T={"X-WebChannel-Client-Profile":L.va}),this.g.S=T,(T=L&&L.Sb)&&!K(T)&&(this.g.m=T),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!K(L)&&(this.g.D=L,T=this.h,T!==null&&L in T&&(T=this.h,L in T&&delete T[L])),this.j=new wa(this)}D(Lr,It),Lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Ms(this.g)},Lr.prototype.o=function(T){var L=this.g;if(typeof T=="string"){var G={};G.__data__=T,T=G}else this.u&&(G={},G.__data__=mt(T),T=G);L.i.push(new Pa(L.Ya++,T)),L.G==3&&en(L)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,Lr.aa.N.call(this)};function _c(T){vi.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var L=T.__sm__;if(L){e:{for(const G in L){T=G;break e}T=void 0}(this.i=T)&&(T=this.i,L=L!==null&&T in L?L[T]:void 0),this.data=L}else this.data=T}D(_c,vi);function ps(){ui.call(this),this.status=1}D(ps,ui);function wa(T){this.g=T}D(wa,Xn),wa.prototype.ua=function(){$t(this.g,"a")},wa.prototype.ta=function(T){$t(this.g,new _c(T))},wa.prototype.sa=function(T){$t(this.g,new ps)},wa.prototype.ra=function(){$t(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,MN=function(){return new Os},kN=function(){return ga()},UN=Ni,N2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,o1=fe,de.COMPLETE="complete",DN=de,qi.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",It.prototype.listen=It.prototype.K,W0=qi,ir.prototype.listenOnce=ir.prototype.L,ir.prototype.getLastError=ir.prototype.Ka,ir.prototype.getLastErrorCode=ir.prototype.Ba,ir.prototype.getStatus=ir.prototype.Z,ir.prototype.getResponseJson=ir.prototype.Oa,ir.prototype.getResponseText=ir.prototype.oa,ir.prototype.send=ir.prototype.ea,ir.prototype.setWithCredentials=ir.prototype.Ha,RN=ir}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const jb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Hw("@firebase/firestore");function D0(){return ac.logLevel}function Pt(t,...e){if(ac.logLevel<=Ln.DEBUG){const n=e.map(jw);ac.debug(`Firestore (${Hu}): ${t}`,...n)}}function uA(t,...e){if(ac.logLevel<=Ln.ERROR){const n=e.map(jw);ac.error(`Firestore (${Hu}): ${t}`,...n)}}function bu(t,...e){if(ac.logLevel<=Ln.WARN){const n=e.map(jw);ac.warn(`Firestore (${Hu}): ${t}`,...n)}}function jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t="Unexpected state"){const e=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: `+t;throw uA(e),new Error(e)}function tr(t,e){t||tn()}function cn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends xl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rs.UNAUTHENTICATED)))}shutdown(){}}class T${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class b${constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tr(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new al,e.enqueueRetryable((()=>i(this.currentUser)))};const A=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new al)}}),0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tr(typeof r.accessToken=="string"),new ON(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string"),new rs(e)}}class S${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class I${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(rs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){tr(this.o===void 0);const r=s=>{s.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const A=s.token!==this.R;return this.R=s.token,Pt("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tr(typeof n.token=="string"),this.R=n.token,new N$(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=R$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Gn(t,e){return t<e?-1:t>e?1:0}function Su(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wi(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ln(e)}static min(){return new ln(new wi(0,0))}static max(){return new ln(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r){n===void 0?n=0:n>e.length&&tn(),r===void 0?r=e.length-n:r>e.length-n&&tn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ff.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),A=n.get(i);if(s<A)return-1;if(s>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yr extends Ff{construct(e,n,r){return new yr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new yr(n)}static emptyPath(){return new yr([])}}const D$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Ff{construct(e,n,r){return new Vi(e,n,r)}static isValidIdentifier(e){return D$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ot(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ot(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(A=!A,i++):u!=="."||A?(r+=u,i++):(s(),i++)}if(s(),A)throw new Ot(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(n)}static emptyPath(){return new Vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(yr.fromString(e))}static fromName(e){return new Xt(yr.fromString(e).popFirst(5))}static empty(){return new Xt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new yr(e.slice()))}}function U$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ln.fromTimestamp(r===1e9?new wi(n+1,0):new wi(n,r));return new fl(i,Xt.empty(),e)}function k$(t){return new fl(t.readTime,t.key,-1)}class fl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fl(ln.min(),Xt.empty(),-1)}static max(){return new fl(ln.max(),Xt.empty(),-1)}}function M$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xt.comparator(t.documentKey,e.documentKey),n!==0?n:Gn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==ft.FAILED_PRECONDITION||t.message!==O$)throw t;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xt(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof xt?n:xt.resolve(n)}catch(n){return xt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):xt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):xt.reject(n)}static resolve(e){return new xt(((n,r)=>{n(e)}))}static reject(e){return new xt(((n,r)=>{r(e)}))}static waitFor(e){return new xt(((n,r)=>{let i=0,s=0,A=!1;e.forEach((u=>{++i,u.next((()=>{++s,A&&s===i&&n()}),(h=>r(h)))})),A=!0,s===i&&n()}))}static or(e){let n=xt.resolve(!1);for(const r of e)n=n.next((i=>i?xt.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new xt(((r,i)=>{const s=e.length,A=new Array(s);let u=0;for(let h=0;h<s;h++){const d=h;n(e[d]).next((x=>{A[d]=x,++u,u===s&&r(A)}),(x=>i(x)))}}))}static doWhile(e,n){return new xt(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Q$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gw.oe=-1;function Eg(t){return t==null}function K1(t){return t===0&&1/t==-1/0}function P$(t){return typeof t=="number"&&Number.isInteger(t)&&!K1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.comparator=e,this.root=n||Pi.EMPTY}insert(e,n){return new Rr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pi.RED,this.left=i??Pi.EMPTY,this.right=s??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1;Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zi(this.comparator);return n.data=e,n}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new fa([])}unionWith(e){let n=new zi(Vi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Su(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new PN("Invalid base64 string: "+s):s}})(e);return new Wi(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let A=0;A<i.length;++A)s+=String.fromCharCode(i[A]);return s})(e);return new Wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const H$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dl(t){if(tr(!!t),typeof t=="string"){let e=0;const n=H$.exec(t);if(tr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$r(t.seconds),nanos:$r(t.nanos)}}function $r(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oc(t){return typeof t=="string"?Wi.fromBase64String(t):Wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zw(t){const e=t.mapValue.fields.__previous_value__;return Kw(e)?zw(e):e}function Rf(t){const e=dl(t.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n,r,i,s,A,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=A,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d}}class Df{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Df&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={mapValue:{}};function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:G$(t)?9007199254740991:j$(t)?10:11:tn()}function Eo(t,e){if(t===e)return!0;const n=Ac(t);if(n!==Ac(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rf(t).isEqual(Rf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const A=dl(i.timestampValue),u=dl(s.timestampValue);return A.seconds===u.seconds&&A.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return oc(i.bytesValue).isEqual(oc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return $r(i.geoPointValue.latitude)===$r(s.geoPointValue.latitude)&&$r(i.geoPointValue.longitude)===$r(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return $r(i.integerValue)===$r(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const A=$r(i.doubleValue),u=$r(s.doubleValue);return A===u?K1(A)===K1(u):isNaN(A)&&isNaN(u)}return!1})(t,e);case 9:return Su(t.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:case 11:return(function(i,s){const A=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Gb(A)!==Gb(u))return!1;for(const h in A)if(A.hasOwnProperty(h)&&(u[h]===void 0||!Eo(A[h],u[h])))return!1;return!0})(t,e);default:return tn()}}function Uf(t,e){return(t.values||[]).find((n=>Eo(n,e)))!==void 0}function Iu(t,e){if(t===e)return 0;const n=Ac(t),r=Ac(e);if(n!==r)return Gn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gn(t.booleanValue,e.booleanValue);case 2:return(function(s,A){const u=$r(s.integerValue||s.doubleValue),h=$r(A.integerValue||A.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return zb(t.timestampValue,e.timestampValue);case 4:return zb(Rf(t),Rf(e));case 5:return Gn(t.stringValue,e.stringValue);case 6:return(function(s,A){const u=oc(s),h=oc(A);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,A){const u=s.split("/"),h=A.split("/");for(let d=0;d<u.length&&d<h.length;d++){const x=Gn(u[d],h[d]);if(x!==0)return x}return Gn(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,A){const u=Gn($r(s.latitude),$r(A.latitude));return u!==0?u:Gn($r(s.longitude),$r(A.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Wb(t.arrayValue,e.arrayValue);case 10:return(function(s,A){var u,h,d,x;const C=s.fields||{},_=A.fields||{},N=(u=C.value)===null||u===void 0?void 0:u.arrayValue,D=(h=_.value)===null||h===void 0?void 0:h.arrayValue,R=Gn(((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0,((x=D==null?void 0:D.values)===null||x===void 0?void 0:x.length)||0);return R!==0?R:Wb(N,D)})(t.mapValue,e.mapValue);case 11:return(function(s,A){if(s===Zh.mapValue&&A===Zh.mapValue)return 0;if(s===Zh.mapValue)return 1;if(A===Zh.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),d=A.fields||{},x=Object.keys(d);h.sort(),x.sort();for(let C=0;C<h.length&&C<x.length;++C){const _=Gn(h[C],x[C]);if(_!==0)return _;const N=Iu(u[h[C]],d[x[C]]);if(N!==0)return N}return Gn(h.length,x.length)})(t.mapValue,e.mapValue);default:throw tn()}}function zb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Gn(t,e);const n=dl(t),r=dl(e),i=Gn(n.seconds,r.seconds);return i!==0?i:Gn(n.nanos,r.nanos)}function Wb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Iu(n[i],r[i]);if(s)return s}return Gn(n.length,r.length)}function Nu(t){return F2(t)}function F2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=dl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=F2(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const A of r)s?s=!1:i+=",",i+=`${A}:${F2(n.fields[A])}`;return i+"}"})(t.mapValue):tn()}function Xb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R2(t){return!!t&&"integerValue"in t}function Ww(t){return!!t&&"arrayValue"in t}function qb(t){return!!t&&"nullValue"in t}function Yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A1(t){return!!t&&"mapValue"in t}function j$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ff(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ff(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ff(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!A1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(n)}setAll(e){let n=Vi.emptyPath(),r={},i=[];e.forEach(((A,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}A?r[u.lastSegment()]=ff(A):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());A1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];A1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ws(ff(this.value))}}function HN(t){const e=[];return xc(t.fields,((n,r)=>{const i=new Vi([n]);if(A1(r)){const s=HN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const A of s)e.push(i.child(A))}else e.push(i)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s,A,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=A,this.documentState=u}static newInvalidDocument(e){return new as(e,0,ln.min(),ln.min(),ln.min(),Ws.empty(),0)}static newFoundDocument(e,n,r,i){return new as(e,1,n,ln.min(),r,i,0)}static newNoDocument(e,n){return new as(e,2,n,ln.min(),ln.min(),Ws.empty(),0)}static newUnknownDocument(e,n){return new as(e,3,n,ln.min(),ln.min(),Ws.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ln.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.position=e,this.inclusive=n}}function Jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],A=t.position[i];if(s.field.isKeyField()?r=Xt.comparator(Xt.fromName(A.referenceValue),n.key):r=Iu(A,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Eo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n="asc"){this.field=e,this.dir=n}}function K$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{}class ci extends VN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W$(e,n,r):n==="array-contains"?new Y$(e,r):n==="in"?new J$(e,r):n==="not-in"?new Z$(e,r):n==="array-contains-any"?new $$(e,r):new ci(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X$(e,r):new q$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Iu(n,this.value)):n!==null&&Ac(this.value)===Ac(n)&&this.matchesComparison(Iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends VN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new io(e,n)}matches(e){return jN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jN(t){return t.op==="and"}function GN(t){return z$(t)&&jN(t)}function z$(t){for(const e of t.filters)if(e instanceof io)return!1;return!0}function D2(t){if(t instanceof ci)return t.field.canonicalString()+t.op.toString()+Nu(t.value);if(GN(t))return t.filters.map((e=>D2(e))).join(",");{const e=t.filters.map((n=>D2(n))).join(",");return`${t.op}(${e})`}}function KN(t,e){return t instanceof ci?(function(r,i){return i instanceof ci&&r.op===i.op&&r.field.isEqual(i.field)&&Eo(r.value,i.value)})(t,e):t instanceof io?(function(r,i){return i instanceof io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,A,u)=>s&&KN(A,i.filters[u])),!0):!1})(t,e):void tn()}function zN(t){return t instanceof ci?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nu(n.value)}`})(t):t instanceof io?(function(n){return n.op.toString()+" {"+n.getFilters().map(zN).join(" ,")+"}"})(t):"Filter"}class W$ extends ci{constructor(e,n,r){super(e,n,r),this.key=Xt.fromName(r.referenceValue)}matches(e){const n=Xt.comparator(e.key,this.key);return this.matchesComparison(n)}}class X$ extends ci{constructor(e,n){super(e,"in",n),this.keys=WN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class q$ extends ci{constructor(e,n){super(e,"not-in",n),this.keys=WN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Xt.fromName(r.referenceValue)))}class Y$ extends ci{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ww(n)&&Uf(n.arrayValue,this.value)}}class J$ extends ci{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uf(this.value.arrayValue,n)}}class Z$ extends ci{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uf(this.value.arrayValue,n)}}class $$ extends ci{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e,n=null,r=[],i=[],s=null,A=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=A,this.endAt=u,this.ue=null}}function $b(t,e=null,n=[],r=[],i=null,s=null,A=null){return new eee(t,e,n,r,i,s,A)}function Xw(t){const e=cn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>D2(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Nu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Nu(r))).join(",")),e.ue=n}return e.ue}function qw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function U2(t){return Xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n=null,r=[],i=[],s=null,A="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=A,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tee(t,e,n,r,i,s,A,u){return new Xf(t,e,n,r,i,s,A,u)}function Yw(t){return new Xf(t)}function e4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XN(t){return t.collectionGroup!==null}function df(t){const e=cn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let u=new zi(Vi.comparator);return A.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new W1(s,r))})),n.has(Vi.keyField().canonicalString())||e.ce.push(new W1(Vi.keyField(),r))}return e.ce}function vo(t){const e=cn(t);return e.le||(e.le=nee(e,df(t))),e.le}function nee(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new W1(i.field,s)}));const n=t.endAt?new z1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new z1(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function k2(t,e){const n=t.filters.concat([e]);return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M2(t,e,n){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bg(t,e){return qw(vo(t),vo(e))&&t.limitType===e.limitType}function qN(t){return`${Xw(vo(t))}|lt:${t.limitType}`}function lu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>zN(i))).join(", ")}]`),Eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(A){return`${A.field.canonicalString()} (${A.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Nu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Nu(i))).join(",")),`Target(${r})`})(vo(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Xt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of df(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(A,u,h){const d=Jb(A,u,h);return A.inclusive?d<=0:d<0})(r.startAt,df(r),i)||r.endAt&&!(function(A,u,h){const d=Jb(A,u,h);return A.inclusive?d>=0:d>0})(r.endAt,df(r),i))})(t,e)}function ree(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YN(t){return(e,n)=>{let r=!1;for(const i of df(t)){const s=iee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iee(t,e,n){const r=t.field.isKeyField()?Xt.comparator(e.key,n.key):(function(s,A,u){const h=A.data.field(s),d=u.data.field(s);return h!==null&&d!==null?Iu(h,d):tn()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return QN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new Rr(Xt.comparator);function fA(){return see}const JN=new Rr(Xt.comparator);function X0(...t){let e=JN;for(const n of t)e=e.insert(n.key,n);return e}function ZN(t){let e=JN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ql(){return hf()}function $N(){return hf()}function hf(){return new Vu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const aee=new Rr(Xt.comparator),oee=new zi(Xt.comparator);function Sn(...t){let e=oee;for(const n of t)e=e.add(n);return e}const Aee=new zi(Gn);function lee(){return Aee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K1(e)?"-0":e}}function eF(t){return{integerValue:""+t}}function cee(t,e){return P$(e)?eF(e):Jw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function uee(t,e,n){return t instanceof X1?(function(i,s){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kw(s)&&(s=zw(s)),s&&(A.fields.__previous_value__=s),{mapValue:A}})(n,e):t instanceof kf?nF(t,e):t instanceof Mf?rF(t,e):(function(i,s){const A=tF(i,s),u=t4(A)+t4(i.Pe);return R2(A)&&R2(i.Pe)?eF(u):Jw(i.serializer,u)})(t,e)}function fee(t,e,n){return t instanceof kf?nF(t,e):t instanceof Mf?rF(t,e):n}function tF(t,e){return t instanceof q1?(function(r){return R2(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class X1 extends Tg{}class kf extends Tg{constructor(e){super(),this.elements=e}}function nF(t,e){const n=iF(e);for(const r of t.elements)n.some((i=>Eo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Mf extends Tg{constructor(e){super(),this.elements=e}}function rF(t,e){let n=iF(e);for(const r of t.elements)n=n.filter((i=>!Eo(i,r)));return{arrayValue:{values:n}}}class q1 extends Tg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function t4(t){return $r(t.integerValue||t.doubleValue)}function iF(t){return Ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dee(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof kf&&i instanceof kf||r instanceof Mf&&i instanceof Mf?Su(r.elements,i.elements,Eo):r instanceof q1&&i instanceof q1?Eo(r.Pe,i.Pe):r instanceof X1&&i instanceof X1})(t.transform,e.transform)}class hee{constructor(e,n){this.version=e,this.transformResults=n}}class Xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xs}static exists(e){return new Xs(void 0,e)}static updateTime(e){return new Xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function l1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bg{}function sF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,Xs.none()):new qf(t.key,t.data,Xs.none());{const n=t.data,r=Ws.empty();let i=new zi(Vi.comparator);for(let s of e.fields)if(!i.has(s)){let A=n.field(s);A===null&&s.length>1&&(s=s.popLast(),A=n.field(s)),A===null?r.delete(s):r.set(s,A),i=i.add(s)}return new wl(t.key,r,new fa(i.toArray()),Xs.none())}}function gee(t,e,n){t instanceof qf?(function(i,s,A){const u=i.value.clone(),h=r4(i.fieldTransforms,s,A.transformResults);u.setAll(h),s.convertToFoundDocument(A.version,u).setHasCommittedMutations()})(t,e,n):t instanceof wl?(function(i,s,A){if(!l1(i.precondition,s))return void s.convertToUnknownDocument(A.version);const u=r4(i.fieldTransforms,s,A.transformResults),h=s.data;h.setAll(aF(i)),h.setAll(u),s.convertToFoundDocument(A.version,h).setHasCommittedMutations()})(t,e,n):(function(i,s,A){s.convertToNoDocument(A.version).setHasCommittedMutations()})(0,e,n)}function gf(t,e,n,r){return t instanceof qf?(function(s,A,u,h){if(!l1(s.precondition,A))return u;const d=s.value.clone(),x=i4(s.fieldTransforms,h,A);return d.setAll(x),A.convertToFoundDocument(A.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof wl?(function(s,A,u,h){if(!l1(s.precondition,A))return u;const d=i4(s.fieldTransforms,h,A),x=A.data;return x.setAll(aF(s)),x.setAll(d),A.convertToFoundDocument(A.version,x).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((C=>C.field)))})(t,e,n,r):(function(s,A,u){return l1(s.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):u})(t,e,n)}function pee(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tF(r.transform,i||null);s!=null&&(n===null&&(n=Ws.empty()),n.set(r.field,s))}return n||null}function n4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Su(r,i,((s,A)=>dee(s,A)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qf extends bg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends bg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function r4(t,e,n){const r=new Map;tr(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],A=s.transform,u=e.data.field(s.field);r.set(s.field,fee(A,u,n[i]))}return r}function i4(t,e,n){const r=new Map;for(const i of t){const s=i.transform,A=n.data.field(i.field);r.set(i.field,uee(s,A,e))}return r}class Sg extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mee extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$N();return this.mutations.forEach((i=>{const s=e.get(i.key),A=s.overlayedDocument;let u=this.applyToLocalView(A,s.mutatedFields);u=n.has(i.key)?null:u;const h=sF(A,u);h!==null&&r.set(i.key,h),A.isValidDocument()||A.convertToNoDocument(ln.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Sn())}isEqual(e){return this.batchId===e.batchId&&Su(this.mutations,e.mutations,((n,r)=>n4(n,r)))&&Su(this.baseMutations,e.baseMutations,((n,r)=>n4(n,r)))}}class Zw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tr(e.mutations.length===r.length);let i=(function(){return aee})();const s=e.mutations;for(let A=0;A<s.length;A++)i=i.insert(s[A].key,r[A].version);return new Zw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai,Dn;function yee(t){switch(t){default:return tn();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function oF(t){if(t===void 0)return uA("GRPC error has no .code"),ft.UNKNOWN;switch(t){case ai.OK:return ft.OK;case ai.CANCELLED:return ft.CANCELLED;case ai.UNKNOWN:return ft.UNKNOWN;case ai.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case ai.INTERNAL:return ft.INTERNAL;case ai.UNAVAILABLE:return ft.UNAVAILABLE;case ai.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case ai.NOT_FOUND:return ft.NOT_FOUND;case ai.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case ai.ABORTED:return ft.ABORTED;case ai.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case ai.DATA_LOSS:return ft.DATA_LOSS;default:return tn()}}(Dn=ai||(ai={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee=new tc([4294967295,4294967295],0);function s4(t){const e=Cee().encode(t),n=new FN;return n.update(e),new Uint8Array(n.digest())}function a4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tc([n,r],0),new tc([i,s],0)]}class $w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new q0(`Invalid padding: ${n}`);if(r<0)throw new q0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new q0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new q0(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=tc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(tc.fromNumber(r)));return i.compare(Eee)===1&&(i=new tc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=s4(e),[r,i]=a4(n);for(let s=0;s<this.hashCount;s++){const A=this.Ee(r,i,s);if(!this.de(A))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),A=new $w(s,i,n);return r.forEach((u=>A.insert(u))),A}insert(e){if(this.Ie===0)return;const n=s4(e),[r,i]=a4(n);for(let s=0;s<this.hashCount;s++){const A=this.Ee(r,i,s);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class q0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ig(ln.min(),i,new Rr(Gn),fA(),Sn())}}class Yf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yf(r,n,Sn(),Sn(),Sn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class AF{constructor(e,n){this.targetId=e,this.me=n}}class lF{constructor(e,n,r=Wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o4{constructor(){this.fe=0,this.ge=l4(),this.pe=Wi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Sn(),n=Sn(),r=Sn();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tn()}})),new Yf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=l4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,tr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bee{constructor(e){this.Le=e,this.Be=new Map,this.ke=fA(),this.qe=A4(),this.Qe=new Rr(Gn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:tn()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(U2(s))if(r===0){const A=new Xt(s.path);this.Ue(n,A,as.newNoDocument(A,ln.min()))}else tr(r===1);else{const A=this.Ye(n);if(A!==r){const u=this.Ze(e),h=u?this.Xe(u,e,A):1;if(h!==0){this.je(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let A,u;try{A=oc(r).toUint8Array()}catch(h){if(h instanceof PN)return bu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new $w(A,i,s)}catch(h){return bu(h instanceof q0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const A=this.Le.tt(),u=`projects/${A.projectId}/databases/${A.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((s,A)=>{const u=this.Je(A);if(u){if(s.current&&U2(u.target)){const h=new Xt(u.target.path);this.ke.get(h)!==null||this.it(A,h)||this.Ue(A,h,as.newNoDocument(h,e))}s.be&&(n.set(A,s.ve()),s.Ce())}}));let r=Sn();this.qe.forEach(((s,A)=>{let u=!0;A.forEachWhile((h=>{const d=this.Je(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.ke.forEach(((s,A)=>A.setReadTime(e)));const i=new Ig(e,n,this.Qe,this.ke,r);return this.ke=fA(),this.qe=A4(),this.Qe=new Rr(Gn),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new zi(Gn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Pt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o4),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A4(){return new Rr(Xt.comparator)}function l4(){return new Rr(Xt.comparator)}const _ee={asc:"ASCENDING",desc:"DESCENDING"},Tee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bee={and:"AND",or:"OR"};class See{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O2(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function Y1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Iee(t,e){return Y1(t,e.toTimestamp())}function yo(t){return tr(!!t),ln.fromTimestamp((function(n){const r=dl(n);return new wi(r.seconds,r.nanos)})(t))}function ev(t,e){return L2(t,e).canonicalString()}function L2(t,e){const n=(function(i){return new yr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uF(t){const e=yr.fromString(t);return tr(pF(e)),e}function Q2(t,e){return ev(t.databaseId,e.path)}function xx(t,e){const n=uF(e);if(n.get(1)!==t.databaseId.projectId)throw new Ot(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ot(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xt(dF(n))}function fF(t,e){return ev(t.databaseId,e)}function Nee(t){const e=uF(t);return e.length===4?yr.emptyPath():dF(e)}function P2(t){return new yr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dF(t){return tr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c4(t,e,n){return{name:Q2(t,e),fields:n.value.mapValue.fields}}function Fee(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:tn()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,x){return d.useProto3Json?(tr(x===void 0||typeof x=="string"),Wi.fromBase64String(x||"")):(tr(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Wi.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),A=e.targetChange.cause,u=A&&(function(d){const x=d.code===void 0?ft.UNKNOWN:oF(d.code);return new Ot(x,d.message||"")})(A);n=new lF(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xx(t,r.document.name),s=yo(r.document.updateTime),A=r.document.createTime?yo(r.document.createTime):ln.min(),u=new Ws({mapValue:{fields:r.document.fields}}),h=as.newFoundDocument(i,s,A,u),d=r.targetIds||[],x=r.removedTargetIds||[];n=new c1(d,x,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xx(t,r.document),s=r.readTime?yo(r.readTime):ln.min(),A=as.newNoDocument(i,s),u=r.removedTargetIds||[];n=new c1([],u,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xx(t,r.document),s=r.removedTargetIds||[];n=new c1([],s,i,null)}else{if(!("filter"in e))return tn();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,A=new vee(i,s),u=r.targetId;n=new AF(u,A)}}return n}function Ree(t,e){let n;if(e instanceof qf)n={update:c4(t,e.key,e.value)};else if(e instanceof Sg)n={delete:Q2(t,e.key)};else if(e instanceof wl)n={update:c4(t,e.key,e.data),updateMask:Hee(e.fieldMask)};else{if(!(e instanceof mee))return tn();n={verify:Q2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,A){const u=A.transform;if(u instanceof X1)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof kf)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mf)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof q1)return{fieldPath:A.field.canonicalString(),increment:u.Pe};throw tn()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Iee(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tn()})(t,e.precondition)),n}function Dee(t,e){return t&&t.length>0?(tr(e!==void 0),t.map((n=>(function(i,s){let A=i.updateTime?yo(i.updateTime):yo(s);return A.isEqual(ln.min())&&(A=yo(s)),new hee(A,i.transformResults||[])})(n,e)))):[]}function Uee(t,e){return{documents:[fF(t,e.path)]}}function kee(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fF(t,i);const s=(function(d){if(d.length!==0)return gF(io.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const A=(function(d){if(d.length!==0)return d.map((x=>(function(_){return{field:cu(_.field),direction:Lee(_.dir)}})(x)))})(e.orderBy);A&&(n.structuredQuery.orderBy=A);const u=O2(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:n,parent:i}}function Mee(t){let e=Nee(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tr(r===1);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let s=[];n.where&&(s=(function(C){const _=hF(C);return _ instanceof io&&GN(_)?_.getFilters():[_]})(n.where));let A=[];n.orderBy&&(A=(function(C){return C.map((_=>(function(D){return new W1(uu(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(C){let _;return _=typeof C=="object"?C.value:C,Eg(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(C){const _=!!C.before,N=C.values||[];return new z1(N,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(C){const _=!C.before,N=C.values||[];return new z1(N,_)})(n.endAt)),tee(e,i,A,s,u,"F",h,d)}function Oee(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(n.unaryFilter.field);return ci.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=uu(n.unaryFilter.field);return ci.create(A,"!=",{nullValue:"NULL_VALUE"});default:return tn()}})(t):t.fieldFilter!==void 0?(function(n){return ci.create(uu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return io.create(n.compositeFilter.filters.map((r=>hF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tn()}})(n.compositeFilter.op))})(t):tn()}function Lee(t){return _ee[t]}function Qee(t){return Tee[t]}function Pee(t){return bee[t]}function cu(t){return{fieldPath:t.canonicalString()}}function uu(t){return Vi.fromServerFormat(t.fieldPath)}function gF(t){return t instanceof ci?(function(n){if(n.op==="=="){if(Yb(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NAN"}};if(qb(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yb(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NAN"}};if(qb(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(n.field),op:Qee(n.op),value:n.value}}})(t):t instanceof io?(function(n){const r=n.getFilters().map((i=>gF(i)));return r.length===1?r[0]:{compositeFilter:{op:Pee(n.op),filters:r}}})(t):tn()}function Hee(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r,i,s=ln.min(),A=ln.min(),u=Wi.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(e){this.ct=e}}function jee(t){const e=Mee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(){this.un=new Kee}addToCollectionParentIndex(e,n){return this.un.add(n),xt.resolve()}getCollectionParents(e,n){return xt.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return xt.resolve()}deleteFieldIndex(e,n){return xt.resolve()}deleteAllFieldIndexes(e){return xt.resolve()}createTargetIndexes(e,n){return xt.resolve()}getDocumentsMatchingTarget(e,n){return xt.resolve(null)}getIndexType(e,n){return xt.resolve(0)}getFieldIndexes(e,n){return xt.resolve([])}getNextCollectionGroupToUpdate(e){return xt.resolve(null)}getMinOffset(e,n){return xt.resolve(fl.min())}getMinOffsetFromCollectionGroup(e,n){return xt.resolve(fl.min())}updateCollectionGroup(e,n,r){return xt.resolve()}updateIndexEntries(e,n){return xt.resolve()}}class Kee{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new zi(yr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zi(yr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fu(0)}static kn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(){this.changes=new Vu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&gf(r.mutation,i,fa.empty(),wi.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Sn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Sn()){const i=ql();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let A=X0();return s.forEach(((u,h)=>{A=A.insert(u,h.overlayedDocument)})),A}))))}getOverlayedDocuments(e,n){const r=ql();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Sn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((A,u)=>{n.set(A,u)}))}))}computeViews(e,n,r,i){let s=fA();const A=hf(),u=(function(){return hf()})();return n.forEach(((h,d)=>{const x=r.get(d.key);i.has(d.key)&&(x===void 0||x.mutation instanceof wl)?s=s.insert(d.key,d):x!==void 0?(A.set(d.key,x.mutation.getFieldMask()),gf(x.mutation,d,x.mutation.getFieldMask(),wi.now())):A.set(d.key,fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((d,x)=>A.set(d,x))),n.forEach(((d,x)=>{var C;return u.set(d,new Wee(x,(C=A.get(d))!==null&&C!==void 0?C:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=hf();let i=new Rr(((A,u)=>A-u)),s=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((A=>{for(const u of A)u.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let x=r.get(h)||fa.empty();x=u.applyToLocalView(d,x),r.set(h,x);const C=(i.get(u.batchId)||Sn()).add(h);i=i.insert(u.batchId,C)}))})).next((()=>{const A=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,x=h.value,C=$N();x.forEach((_=>{if(!s.has(_)){const N=sF(n.get(_),r.get(_));N!==null&&C.set(_,N),s=s.add(_)}})),A.push(this.documentOverlayCache.saveOverlays(e,d,C))}return xt.waitFor(A)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(A){return Xt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const A=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):xt.resolve(ql());let u=-1,h=s;return A.next((d=>xt.forEach(d,((x,C)=>(u<C.largestBatchId&&(u=C.largestBatchId),s.get(x)?xt.resolve():this.remoteDocumentCache.getEntry(e,x).next((_=>{h=h.insert(x,_)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,h,d,Sn()))).next((x=>({batchId:u,changes:ZN(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xt(n)).next((r=>{let i=X0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let A=X0();return this.indexManager.getCollectionParents(e,s).next((u=>xt.forEach(u,(h=>{const d=(function(C,_){return new Xf(_,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((x=>{x.forEach(((C,_)=>{A=A.insert(C,_)}))}))})).next((()=>A))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((A=>(s=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((A=>{s.forEach(((h,d)=>{const x=d.getKey();A.get(x)===null&&(A=A.insert(x,as.newInvalidDocument(x)))}));let u=X0();return A.forEach(((h,d)=>{const x=s.get(h);x!==void 0&&gf(x.mutation,d,fa.empty(),wi.now()),_g(n,d)&&(u=u.insert(h,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return xt.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}})(n)),xt.resolve()}getNamedQuery(e,n){return xt.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:jee(i.bundledQuery),readTime:yo(i.readTime)}})(n)),xt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(){this.overlays=new Rr(Xt.comparator),this.Ir=new Map}getOverlay(e,n){return xt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ql();return xt.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.ht(e,n,s)})),xt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(r)),xt.resolve()}getOverlaysForCollection(e,n,r){const i=ql(),s=n.length+1,A=new Xt(n.child("")),u=this.overlays.getIteratorFrom(A);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return xt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rr(((d,x)=>d-x));const A=this.overlays.getIterator();for(;A.hasNext();){const d=A.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let x=s.get(d.largestBatchId);x===null&&(x=ql(),s=s.insert(d.largestBatchId,x)),x.set(d.getKey(),d)}}const u=ql(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,x)=>u.set(d,x))),!(u.size()>=i)););return xt.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const A=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new wee(n,r));let s=this.Ir.get(n);s===void 0&&(s=Sn(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(){this.sessionToken=Wi.EMPTY_BYTE_STRING}getSessionToken(e){return xt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Tr=new zi(bi.Er),this.dr=new zi(bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new bi(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new bi(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Xt(new yr([])),r=new bi(n,e),i=new bi(n,e+1),s=[];return this.dr.forEachInRange([r,i],(A=>{this.Vr(A),s.push(A.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Xt(new yr([])),r=new bi(n,e),i=new bi(n,e+1);let s=Sn();return this.dr.forEachInRange([r,i],(A=>{s=s.add(A.key)})),s}containsKey(e){const n=new bi(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Xt.comparator(e.key,n.key)||Gn(e.wr,n.wr)}static Ar(e,n){return Gn(e.wr,n.wr)||Xt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new zi(bi.Er)}checkEmpty(e){return xt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new xee(s,n,r,i);this.mutationQueue.push(A);for(const u of i)this.br=this.br.add(new bi(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return xt.resolve(A)}lookupMutationBatch(e,n){return xt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return xt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bi(n,0),i=new bi(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],(A=>{const u=this.Dr(A.wr);s.push(u)})),xt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zi(Gn);return n.forEach((i=>{const s=new bi(i,0),A=new bi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,A],(u=>{r=r.add(u.wr)}))})),xt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Xt.isDocumentKey(s)||(s=s.child(""));const A=new bi(new Xt(s),0);let u=new zi(Gn);return this.br.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.wr)),!0)}),A),xt.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){tr(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return xt.forEach(n.mutations,(i=>{const s=new bi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new bi(n,0),i=this.br.firstAfterOrEqual(r);return xt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xt.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.Mr=e,this.docs=(function(){return new Rr(Xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xt.resolve(r?r.document.mutableCopy():as.newInvalidDocument(n))}getEntries(e,n){let r=fA();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():as.newInvalidDocument(i))})),xt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fA();const A=n.path,u=new Xt(A.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:x}}=h.getNext();if(!A.isPrefixOf(d.path))break;d.path.length>A.length+1||M$(k$(x),r)<=0||(i.has(x.key)||_g(n,x))&&(s=s.insert(x.key,x.mutableCopy()))}return xt.resolve(s)}getAllFromCollectionGroup(e,n,r,i){tn()}Or(e,n){return xt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ete(this)}getSize(e){return xt.resolve(this.size)}}class ete extends zee{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),xt.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(e){this.persistence=e,this.Nr=new Vu((n=>Xw(n)),qw),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tv,this.targetCount=0,this.kr=Fu.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),xt.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,xt.resolve()}updateTargetData(e,n){return this.Kn(n),xt.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach(((A,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(A),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),xt.waitFor(s).next((()=>i))}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return xt.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),xt.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((A=>{s.push(i.markPotentiallyOrphaned(e,A))})),xt.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),xt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return xt.resolve(r)}containsKey(e,n){return xt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gw(0),this.Kr=!1,this.Kr=!0,this.$r=new Jee,this.referenceDelegate=e(this),this.Ur=new tte(this),this.indexManager=new Gee,this.remoteDocumentCache=(function(i){return new $ee(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new Vee(n),this.Gr=new qee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Zee(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Pt("MemoryPersistence","Starting transaction:",e);const i=new rte(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,n){return xt.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class rte extends L${constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Jr=new tv,this.Yr=null}static Zr(e){return new nv(e)}get Xr(){if(this.Yr)return this.Yr;throw tn()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),xt.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),xt.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),xt.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.Xr,(r=>{const i=Xt.fromPath(r);return this.ei(e,i).next((s=>{s||n.removeEntry(i,ln.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return xt.or([()=>xt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Sn(),i=Sn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return oZ()?8:Q$(iZ())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next((A=>{s.result=A})).next((()=>{if(!s.result)return this.Zi(e,n,i,r).next((A=>{s.result=A}))})).next((()=>{if(s.result)return;const A=new ite;return this.Xi(e,n,A).next((u=>{if(s.result=u,this.zi)return this.es(e,n,A,u.size)}))})).next((()=>s.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(D0()<=Ln.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),xt.resolve()):(D0()<=Ln.DEBUG&&Pt("QueryEngine","Query:",lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(D0()<=Ln.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(n))):xt.resolve())}Yi(e,n){if(e4(n))return xt.resolve(null);let r=vo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=M2(n,null,"F"),r=vo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const A=Sn(...s);return this.Ji.getDocuments(e,A).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.ts(n,u);return this.ns(n,d,A,h.readTime)?this.Yi(e,M2(n,null,"F")):this.rs(e,d,n,h)}))))})))))}Zi(e,n,r,i){return e4(n)||i.isEqual(ln.min())?xt.resolve(null):this.Ji.getDocuments(e,r).next((s=>{const A=this.ts(n,s);return this.ns(n,A,r,i)?xt.resolve(null):(D0()<=Ln.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lu(n)),this.rs(e,A,n,U$(i,-1)).next((u=>u)))}))}ts(e,n){let r=new zi(YN(e));return n.forEach(((i,s)=>{_g(e,s)&&(r=r.add(s))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return D0()<=Ln.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",lu(n)),this.Ji.getDocumentsMatchingQuery(e,n,fl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((A=>{s=s.insert(A.key,A)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Rr(Gn),this._s=new Vu((s=>Xw(s)),qw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function ote(t,e,n,r){return new ate(t,e,n,r)}async function mF(t,e){const n=cn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const A=[],u=[];let h=Sn();for(const d of i){A.push(d.batchId);for(const x of d.mutations)h=h.add(x.key)}for(const d of s){u.push(d.batchId);for(const x of d.mutations)h=h.add(x.key)}return n.localDocuments.getDocuments(r,h).next((d=>({hs:d,removedBatchIds:A,addedBatchIds:u})))}))}))}function Ate(t,e){const n=cn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return(function(u,h,d,x){const C=d.batch,_=C.keys();let N=xt.resolve();return _.forEach((D=>{N=N.next((()=>x.getEntry(h,D))).next((R=>{const k=d.docVersions.get(D);tr(k!==null),R.version.compareTo(k)<0&&(C.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),x.addEntry(R)))}))})),N.next((()=>u.mutationQueue.removeMutationBatch(h,C)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Sn();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function xF(t){const e=cn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function lte(t,e){const n=cn(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach(((x,C)=>{const _=i.get(C);if(!_)return;u.push(n.Ur.removeMatchingKeys(s,x.removedDocuments,C).next((()=>n.Ur.addMatchingKeys(s,x.addedDocuments,C))));let N=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(C)!==null?N=N.withResumeToken(Wi.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):x.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(x.resumeToken,r)),i=i.insert(C,N),(function(R,k,j){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,N,x)&&u.push(n.Ur.updateTargetData(s,N))}));let h=fA(),d=Sn();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,x))})),u.push(cte(s,A,e.documentUpdates).next((x=>{h=x.Ps,d=x.Is}))),!r.isEqual(ln.min())){const x=n.Ur.getLastRemoteSnapshotVersion(s).next((C=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(x)}return xt.waitFor(u).next((()=>A.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,d))).next((()=>h))})).then((s=>(n.os=i,s)))}function cte(t,e,n){let r=Sn(),i=Sn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let A=fA();return n.forEach(((u,h)=>{const d=s.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ln.min())?(e.removeEntry(u,h.readTime),A=A.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),A=A.insert(u,h)):Pt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)})),{Ps:A,Is:i}}))}function ute(t,e){const n=cn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fte(t,e){const n=cn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((s=>s?(i=s,xt.resolve(i)):n.Ur.allocateTargetId(r).next((A=>(i=new el(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function H2(t,e,n){const r=cn(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(A=>r.persistence.referenceDelegate.removeTarget(A,i)))}catch(A){if(!Wf(A))throw A;Pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function u4(t,e,n){const r=cn(t);let i=ln.min(),s=Sn();return r.persistence.runTransaction("Execute query","readwrite",(A=>(function(h,d,x){const C=cn(h),_=C._s.get(x);return _!==void 0?xt.resolve(C.os.get(_)):C.Ur.getTargetData(d,x)})(r,A,vo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,u.targetId).next((h=>{s=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(A,e,n?i:ln.min(),n?s:Sn()))).next((u=>(dte(r,ree(e),u),{documents:u,Ts:s})))))}function dte(t,e,n){let r=t.us.get(e)||ln.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.us.set(e,r)}class f4{constructor(){this.activeTargetIds=lee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hte{constructor(){this.so=new f4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new f4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gte{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h=null;function wx(){return $h===null?$h=(function(){return 268435456+Math.round(2147483648*Math.random())})():$h++,"0x"+$h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class xte extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,A){const u=wx(),h=this.xo(n,r.toUriEncodedString());Pt("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,A),this.No(n,h,d,i).then((x=>(Pt("RestConnection",`Received RPC '${n}' ${u}: `,x),x)),(x=>{throw bu("RestConnection",`RPC '${n}' ${u} failed with error: `,x,"url: ",h,"request:",i),x}))}Lo(n,r,i,s,A,u){return this.Mo(n,r,i,s,A)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,A)=>n[A]=s)),i&&i.headers.forEach(((s,A)=>n[A]=s))}xo(n,r){const i=pte[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=wx();return new Promise(((A,u)=>{const h=new RN;h.setWithCredentials(!0),h.listenOnce(DN.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case o1.NO_ERROR:const x=h.getResponseJson();Pt(ts,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(x)),A(x);break;case o1.TIMEOUT:Pt(ts,`RPC '${e}' ${s} timed out`),u(new Ot(ft.DEADLINE_EXCEEDED,"Request time out"));break;case o1.HTTP_ERROR:const C=h.getStatus();if(Pt(ts,`RPC '${e}' ${s} failed with status:`,C,"response text:",h.getResponseText()),C>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_==null?void 0:_.error;if(N&&N.status&&N.message){const D=(function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(j)>=0?j:ft.UNKNOWN})(N.status);u(new Ot(D,N.message))}else u(new Ot(ft.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ot(ft.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Pt(ts,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);Pt(ts,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",d,r,15)}))}Bo(e,n,r){const i=wx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=MN(),u=kN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const x=s.join("");Pt(ts,`Creating RPC '${e}' stream ${i}: ${x}`,h);const C=A.createWebChannel(x,h);let _=!1,N=!1;const D=new mte({Io:k=>{N?Pt(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(Pt(ts,`Opening RPC '${e}' stream ${i} transport.`),C.open(),_=!0),Pt(ts,`RPC '${e}' stream ${i} sending:`,k),C.send(k))},To:()=>C.close()}),R=(k,j,K)=>{k.listen(j,(Q=>{try{K(Q)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return R(C,W0.EventType.OPEN,(()=>{N||(Pt(ts,`RPC '${e}' stream ${i} transport opened.`),D.yo())})),R(C,W0.EventType.CLOSE,(()=>{N||(N=!0,Pt(ts,`RPC '${e}' stream ${i} transport closed`),D.So())})),R(C,W0.EventType.ERROR,(k=>{N||(N=!0,bu(ts,`RPC '${e}' stream ${i} transport errored:`,k),D.So(new Ot(ft.UNAVAILABLE,"The operation could not be completed")))})),R(C,W0.EventType.MESSAGE,(k=>{var j;if(!N){const K=k.data[0];tr(!!K);const Q=K,ne=Q.error||((j=Q[0])===null||j===void 0?void 0:j.error);if(ne){Pt(ts,`RPC '${e}' stream ${i} received error:`,ne);const ae=ne.status;let ee=(function(O){const z=ai[O];if(z!==void 0)return oF(z)})(ae),M=ne.message;ee===void 0&&(ee=ft.INTERNAL,M="Unknown error status: "+ae+" with message "+ne.message),N=!0,D.So(new Ot(ee,M)),C.close()}else Pt(ts,`RPC '${e}' stream ${i} received:`,K),D.bo(K)}})),R(u,UN.STAT_EVENT,(k=>{k.stat===N2.PROXY?Pt(ts,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===N2.NOPROXY&&Pt(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.wo()}),0),D}}function vx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return new See(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r,i,s,A,u,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wF(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(uA(n.toString()),uA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Ot(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wte extends vF{constructor(e,n,r,i,s,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,A),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Fee(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ln.min();const A=s.targetChange;return A.targetIds&&A.targetIds.length?ln.min():A.readTime?yo(A.readTime):ln.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=P2(this.serializer),n.addTarget=(function(s,A){let u;const h=A.target;if(u=U2(h)?{documents:Uee(s,h)}:{query:kee(s,h)._t},u.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){u.resumeToken=cF(s,A.resumeToken);const d=O2(s,A.expectedCount);d!==null&&(u.expectedCount=d)}else if(A.snapshotVersion.compareTo(ln.min())>0){u.readTime=Y1(s,A.snapshotVersion.toTimestamp());const d=O2(s,A.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Oee(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=P2(this.serializer),n.removeTarget=e,this.a_(n)}}class vte extends vF{constructor(e,n,r,i,s,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,A),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return tr(!!e.streamToken),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Dee(e.writeResults,e.commitTime),r=yo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=P2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Ree(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ot(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,A])=>this.connection.Mo(e,L2(n,r),i,s,A))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(ft.UNKNOWN,s.toString())}))}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([A,u])=>this.connection.Lo(e,L2(n,r),i,A,u,s))).catch((A=>{throw A.name==="FirebaseError"?(A.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new Ot(ft.UNKNOWN,A.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Cte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(uA(n),this.D_=!1):Pt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((A=>{r.enqueueAndForget((async()=>{wc(this)&&(Pt("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const d=cn(h);d.L_.add(4),await Jf(d),d.q_.set("Unknown"),d.L_.delete(4),await Fg(d)})(this))}))})),this.q_=new Cte(r,i)}}async function Fg(t){if(wc(t))for(const e of t.B_)await e(!0)}async function Jf(t){for(const e of t.B_)await e(!1)}function yF(t,e){const n=cn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ov(n)?av(n):ju(n).r_()&&sv(n,e))}function iv(t,e){const n=cn(t),r=ju(n);n.N_.delete(e),r.r_()&&CF(n,e),n.N_.size===0&&(r.r_()?r.o_():wc(n)&&n.q_.set("Unknown"))}function sv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ln.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ju(t).A_(e)}function CF(t,e){t.Q_.xe(e),ju(t).R_(e)}function av(t){t.Q_=new Bee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ju(t).start(),t.q_.v_()}function ov(t){return wc(t)&&!ju(t).n_()&&t.N_.size>0}function wc(t){return cn(t).L_.size===0}function EF(t){t.Q_=void 0}async function Bte(t){t.q_.set("Online")}async function _te(t){t.N_.forEach(((e,n)=>{sv(t,e)}))}async function Tte(t,e){EF(t),ov(t)?(t.q_.M_(e),av(t)):t.q_.set("Unknown")}async function bte(t,e,n){if(t.q_.set("Online"),e instanceof lF&&e.state===2&&e.cause)try{await(async function(i,s){const A=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,A),i.N_.delete(u),i.Q_.removeTarget(u))})(t,e)}catch(r){Pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await J1(t,r)}else if(e instanceof c1?t.Q_.Ke(e):e instanceof AF?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ln.min()))try{const r=await xF(t.localStore);n.compareTo(r)>=0&&await(function(s,A){const u=s.Q_.rt(A);return u.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const x=s.N_.get(d);x&&s.N_.set(d,x.withResumeToken(h.resumeToken,A))}})),u.targetMismatches.forEach(((h,d)=>{const x=s.N_.get(h);if(!x)return;s.N_.set(h,x.withResumeToken(Wi.EMPTY_BYTE_STRING,x.snapshotVersion)),CF(s,h);const C=new el(x.target,h,d,x.sequenceNumber);sv(s,C)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Pt("RemoteStore","Failed to raise snapshot:",r),await J1(t,r)}}async function J1(t,e,n){if(!Wf(e))throw e;t.L_.add(1),await Jf(t),t.q_.set("Offline"),n||(n=()=>xF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Fg(t)}))}function BF(t,e){return e().catch((n=>J1(t,n,e)))}async function Rg(t){const e=cn(t),n=hl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ste(e);)try{const i=await ute(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Ite(e,i)}catch(i){await J1(e,i)}_F(e)&&TF(e)}function Ste(t){return wc(t)&&t.O_.length<10}function Ite(t,e){t.O_.push(e);const n=hl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _F(t){return wc(t)&&!hl(t).n_()&&t.O_.length>0}function TF(t){hl(t).start()}async function Nte(t){hl(t).p_()}async function Fte(t){const e=hl(t);for(const n of t.O_)e.m_(n.mutations)}async function Rte(t,e,n){const r=t.O_.shift(),i=Zw.from(r,e,n);await BF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Rg(t)}async function Dte(t,e){e&&hl(t).V_&&await(async function(r,i){if((function(A){return yee(A)&&A!==ft.ABORTED})(i.code)){const s=r.O_.shift();hl(r).s_(),await BF(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Rg(r)}})(t,e),_F(t)&&TF(t)}async function h4(t,e){const n=cn(t);n.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const r=wc(n);n.L_.add(3),await Jf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Fg(n)}async function Ute(t,e){const n=cn(t);e?(n.L_.delete(2),await Fg(n)):e||(n.L_.add(2),await Jf(n),n.q_.set("Unknown"))}function ju(t){return t.K_||(t.K_=(function(n,r,i){const s=cn(n);return s.w_(),new wte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:Bte.bind(null,t),Ro:_te.bind(null,t),mo:Tte.bind(null,t),d_:bte.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),ov(t)?av(t):t.q_.set("Unknown")):(await t.K_.stop(),EF(t))}))),t.K_}function hl(t){return t.U_||(t.U_=(function(n,r,i){const s=cn(n);return s.w_(),new vte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Nte.bind(null,t),mo:Dte.bind(null,t),f_:Fte.bind(null,t),g_:Rte.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Rg(t)):(await t.U_.stop(),t.O_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((A=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const A=Date.now()+r,u=new Av(e,n,A,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(t,e){if(uA("AsyncQueue",`${e}: ${t}`),Wf(t))return new Ot(ft.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xt.comparator(n.key,r.key):(n,r)=>Xt.comparator(n.key,r.key),this.keyedMap=X0(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.W_=new Rr(Xt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):tn():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ru{constructor(e,n,r,i,s,A,u,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=A,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const A=[];return n.forEach((u=>{A.push({type:0,doc:u})})),new Ru(e,n,Eu.emptySet(n),A,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Mte{constructor(){this.queries=p4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=cn(n),s=i.queries;i.queries=p4(),s.forEach(((A,u)=>{for(const h of u.j_)h.onError(r)}))})(this,new Ot(ft.ABORTED,"Firestore shutting down"))}}function p4(){return new Vu((t=>qN(t)),Bg)}async function bF(t,e){const n=cn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new kte,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(A){const u=lv(A,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&cv(n)}async function SF(t,e){const n=cn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const A=s.j_.indexOf(e);A>=0&&(s.j_.splice(A,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ote(t,e){const n=cn(t);let r=!1;for(const i of e){const s=i.query,A=n.queries.get(s);if(A){for(const u of A.j_)u.X_(i)&&(r=!0);A.z_=i}}r&&cv(n)}function Lte(t,e,n){const r=cn(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function cv(t){t.Y_.forEach((e=>{e.next()}))}var V2,m4;(m4=V2||(V2={})).ea="default",m4.Cache="cache";class IF{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==V2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.key=e}}class FF{constructor(e){this.key=e}}class Qte{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Sn(),this.mutatedKeys=Sn(),this.Aa=YN(e),this.Ra=new Eu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new g4,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,A=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,C)=>{const _=i.get(x),N=_g(this.query,C)?C:null,D=!!_&&this.mutatedKeys.has(_.key),R=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;_&&N?_.data.isEqual(N.data)?D!==R&&(r.track({type:3,doc:N}),k=!0):this.ga(_,N)||(r.track({type:2,doc:N}),k=!0,(h&&this.Aa(N,h)>0||d&&this.Aa(N,d)<0)&&(u=!0)):!_&&N?(r.track({type:0,doc:N}),k=!0):_&&!N&&(r.track({type:1,doc:_}),k=!0,(h||d)&&(u=!0)),k&&(N?(A=A.add(N),s=R?s.add(x):s.delete(x)):(A=A.delete(x),s=s.delete(x)))})),this.query.limit!==null)for(;A.size>this.query.limit;){const x=this.query.limitType==="F"?A.last():A.first();A=A.delete(x.key),s=s.delete(x.key),r.track({type:1,doc:x})}return{Ra:A,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort(((x,C)=>(function(N,D){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return R(N)-R(D)})(x.type,C.type)||this.Aa(x.doc,C.doc))),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,d=h!==this.Ea;return this.Ea=h,A.length!==0||d?{snapshot:new Ru(this.query,e.Ra,s,A,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new g4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Sn(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new FF(r))})),this.da.forEach((r=>{e.has(r)||n.push(new NF(r))})),n}ba(e){this.Ta=e.Ts,this.da=Sn();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ru.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Pte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hte{constructor(e){this.key=e,this.va=!1}}class Vte{constructor(e,n,r,i,s,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new Vu((u=>qN(u)),Bg),this.Ma=new Map,this.xa=new Set,this.Oa=new Rr(Xt.comparator),this.Na=new Map,this.La=new tv,this.Ba={},this.ka=new Map,this.qa=Fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jte(t,e,n=!0){const r=OF(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await RF(r,e,n,!0),i}async function Gte(t,e){const n=OF(t);await RF(n,e,!0,!1)}async function RF(t,e,n,r){const i=await fte(t.localStore,vo(e)),s=i.targetId,A=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Kte(t,e,s,A==="current",i.resumeToken)),t.isPrimaryClient&&n&&yF(t.remoteStore,i),u}async function Kte(t,e,n,r,i){t.Ka=(C,_,N)=>(async function(R,k,j,K){let Q=k.view.ma(j);Q.ns&&(Q=await u4(R.localStore,k.query,!1).then((({documents:M})=>k.view.ma(M,Q))));const ne=K&&K.targetChanges.get(k.targetId),ae=K&&K.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges(Q,R.isPrimaryClient,ne,ae);return w4(R,k.targetId,ee.wa),ee.snapshot})(t,C,_,N);const s=await u4(t.localStore,e,!0),A=new Qte(e,s.Ts),u=A.ma(s.documents),h=Yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=A.applyChanges(u,t.isPrimaryClient,h);w4(t,n,d.wa);const x=new Pte(e,n,A);return t.Fa.set(e,x),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function zte(t,e,n){const r=cn(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((A=>!Bg(A,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await H2(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iv(r.remoteStore,i.targetId),j2(r,i.targetId)})).catch(zf)):(j2(r,i.targetId),await H2(r.localStore,i.targetId,!0))}async function Wte(t,e){const n=cn(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iv(n.remoteStore,r.targetId))}async function Xte(t,e,n){const r=tne(t);try{const i=await(function(A,u){const h=cn(A),d=wi.now(),x=u.reduce(((N,D)=>N.add(D.key)),Sn());let C,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let D=fA(),R=Sn();return h.cs.getEntries(N,x).next((k=>{D=k,D.forEach(((j,K)=>{K.isValidDocument()||(R=R.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(N,D))).next((k=>{C=k;const j=[];for(const K of u){const Q=pee(K,C.get(K.key).overlayedDocument);Q!=null&&j.push(new wl(K.key,Q,HN(Q.value.mapValue),Xs.exists(!0)))}return h.mutationQueue.addMutationBatch(N,d,j,u)})).next((k=>{_=k;const j=k.applyToLocalDocumentSet(C,R);return h.documentOverlayCache.saveOverlays(N,k.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:ZN(C)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(A,u,h){let d=A.Ba[A.currentUser.toKey()];d||(d=new Rr(Gn)),d=d.insert(u,h),A.Ba[A.currentUser.toKey()]=d})(r,i.batchId,n),await Zf(r,i.changes),await Rg(r.remoteStore)}catch(i){const s=lv(i,"Failed to persist write");n.reject(s)}}async function DF(t,e){const n=cn(t);try{const r=await lte(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const A=n.Na.get(s);A&&(tr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?A.va=!0:i.modifiedDocuments.size>0?tr(A.va):i.removedDocuments.size>0&&(tr(A.va),A.va=!1))})),await Zf(n,r,e)}catch(r){await zf(r)}}function x4(t,e,n){const r=cn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((s,A)=>{const u=A.view.Z_(e);u.snapshot&&i.push(u.snapshot)})),(function(A,u){const h=cn(A);h.onlineState=u;let d=!1;h.queries.forEach(((x,C)=>{for(const _ of C.j_)_.Z_(u)&&(d=!0)})),d&&cv(h)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qte(t,e,n){const r=cn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let A=new Rr(Xt.comparator);A=A.insert(s,as.newNoDocument(s,ln.min()));const u=Sn().add(s),h=new Ig(ln.min(),new Map,new Rr(Gn),A,u);await DF(r,h),r.Oa=r.Oa.remove(s),r.Na.delete(e),uv(r)}else await H2(r.localStore,e,!1).then((()=>j2(r,e,n))).catch(zf)}async function Yte(t,e){const n=cn(t),r=e.batch.batchId;try{const i=await Ate(n.localStore,e);kF(n,r,null),UF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zf(n,i)}catch(i){await zf(i)}}async function Jte(t,e,n){const r=cn(t);try{const i=await(function(A,u){const h=cn(A);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let x;return h.mutationQueue.lookupMutationBatch(d,u).next((C=>(tr(C!==null),x=C.keys(),h.mutationQueue.removeMutationBatch(d,C)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,x,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,x))).next((()=>h.localDocuments.getDocuments(d,x)))}))})(r.localStore,e);kF(r,e,n),UF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zf(r,i)}catch(i){await zf(i)}}function UF(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function kF(t,e,n){const r=cn(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function j2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||MF(t,r)}))}function MF(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),uv(t))}function w4(t,e,n){for(const r of n)r instanceof NF?(t.La.addReference(r.key,e),Zte(t,r)):r instanceof FF?(Pt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MF(t,r.key)):tn()}function Zte(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Pt("SyncEngine","New document in limbo: "+n),t.xa.add(r),uv(t))}function uv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Xt(yr.fromString(e)),r=t.qa.next();t.Na.set(r,new Hte(n)),t.Oa=t.Oa.insert(n,r),yF(t.remoteStore,new el(vo(Yw(n.path)),r,"TargetPurposeLimboResolution",Gw.oe))}}async function Zf(t,e,n){const r=cn(t),i=[],s=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach(((u,h)=>{A.push(r.Ka(h,e,n).then((d=>{var x;if((d||n)&&r.isPrimaryClient){const C=d?!d.fromCache:(x=n==null?void 0:n.targetChanges.get(h.targetId))===null||x===void 0?void 0:x.current;r.sharedClientState.updateQueryState(h.targetId,C?"current":"not-current")}if(d){i.push(d);const C=rv.Wi(h.targetId,d);s.push(C)}})))})),await Promise.all(A),r.Ca.d_(i),await(async function(h,d){const x=cn(h);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>xt.forEach(d,(_=>xt.forEach(_.$i,(N=>x.persistence.referenceDelegate.addReference(C,_.targetId,N))).next((()=>xt.forEach(_.Ui,(N=>x.persistence.referenceDelegate.removeReference(C,_.targetId,N)))))))))}catch(C){if(!Wf(C))throw C;Pt("LocalStore","Failed to update sequence numbers: "+C)}for(const C of d){const _=C.targetId;if(!C.fromCache){const N=x.os.get(_),D=N.snapshotVersion,R=N.withLastLimboFreeSnapshotVersion(D);x.os=x.os.insert(_,R)}}})(r.localStore,s))}async function $te(t,e){const n=cn(t);if(!n.currentUser.isEqual(e)){Pt("SyncEngine","User change. New user:",e.toKey());const r=await mF(n.localStore,e);n.currentUser=e,(function(s,A){s.ka.forEach((u=>{u.forEach((h=>{h.reject(new Ot(ft.CANCELLED,A))}))})),s.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zf(n,r.hs)}}function ene(t,e){const n=cn(t),r=n.Na.get(e);if(r&&r.va)return Sn().add(r.key);{let i=Sn();const s=n.Ma.get(e);if(!s)return i;for(const A of s){const u=n.Fa.get(A);i=i.unionWith(u.view.Va)}return i}}function OF(t){const e=cn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ene.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qte.bind(null,e),e.Ca.d_=Ote.bind(null,e.eventManager),e.Ca.$a=Lte.bind(null,e.eventManager),e}function tne(t){const e=cn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jte.bind(null,e),e}class Z1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ote(this.persistence,new ste,e.initialUser,this.serializer)}Ga(e){return new nte(nv.Zr,this.serializer)}Wa(e){return new hte}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z1.provider={build:()=>new Z1};class G2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$te.bind(null,this.syncEngine),await Ute(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mte})()}createDatastore(e){const n=Ng(e.databaseInfo.databaseId),r=(function(s){return new xte(s)})(e.databaseInfo);return(function(s,A,u,h){return new yte(s,A,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,A,u){return new Ete(r,i,s,A,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>x4(this.syncEngine,n,0)),(function(){return d4.D()?new d4:new gte})())}createSyncEngine(e,n){return(function(i,s,A,u,h,d,x){const C=new Vte(i,s,A,u,h,d);return x&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=cn(i);Pt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}G2.provider={build:()=>new G2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rs.UNAUTHENTICATED,this.clientId=LN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async A=>{Pt("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A})),this.appCheckCredentials.start(r,(A=>(Pt("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yx(t,e){t.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await mF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function v4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rne(t);Pt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>h4(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>h4(e.remoteStore,i))),t._onlineComponents=e}async function rne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{await yx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ft.FAILED_PRECONDITION||i.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await yx(t,new Z1)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),await yx(t,new Z1);return t._offlineComponents}async function QF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),await v4(t,t._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),await v4(t,new G2))),t._onlineComponents}function ine(t){return QF(t).then((e=>e.syncEngine))}async function K2(t){const e=await QF(t),n=e.eventManager;return n.onListen=jte.bind(null,e.syncEngine),n.onUnlisten=zte.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wte.bind(null,e.syncEngine),n}function sne(t,e,n={}){const r=new al;return t.asyncQueue.enqueueAndForget((async()=>(function(s,A,u,h,d){const x=new LF({next:_=>{x.Za(),A.enqueueAndForget((()=>SF(s,C))),_.fromCache&&h.source==="server"?d.reject(new Ot(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),C=new IF(u,x,{includeMetadataChanges:!0,_a:!0});return bF(s,C)})(await K2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e,n){if(!n)throw new Ot(ft.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ane(t,e,n,r){if(e===!0&&r===!0)throw new Ot(ft.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C4(t){if(!Xt.isDocumentKey(t))throw new Ot(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E4(t){if(Xt.isDocumentKey(t))throw new Ot(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tn()}function Ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dg(t);throw new Ot(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ot(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ane("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ot(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _$;switch(r.type){case"firstParty":return new I$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ot(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=y4.get(n);r&&(Pt("ComponentProvider","Removing Datastore"),y4.delete(n),r.terminate())})(this),Promise.resolve()}}function one(t,e,n,r={}){var i;const s=(t=Ma(t,Ug))._getSettings(),A=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==A&&bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:A,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=rs.MOCK_USER;else{u=rZ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Ot(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rs(d)}t._authCredentials=new T$(new ON(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vc(this.firestore,e,this._query)}}class _s{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _s(this.firestore,e,this._key)}}class ol extends vc{constructor(e,n,r){super(e,n,Yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _s(this.firestore,null,new Xt(e))}withConverter(e){return new ol(this.firestore,e,this._path)}}function qa(t,e,...n){if(t=Ys(t),HF("collection","path",e),t instanceof Ug){const r=yr.fromString(e,...n);return E4(r),new ol(t,null,r)}{if(!(t instanceof _s||t instanceof ol))throw new Ot(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yr.fromString(e,...n));return E4(r),new ol(t.firestore,null,r)}}function fr(t,e,...n){if(t=Ys(t),arguments.length===1&&(e=LN.newId()),HF("doc","path",e),t instanceof Ug){const r=yr.fromString(e,...n);return C4(r),new _s(t,null,new Xt(r))}{if(!(t instanceof _s||t instanceof ol))throw new Ot(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yr.fromString(e,...n));return C4(r),new _s(t.firestore,t instanceof ol?t.converter:null,new Xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wF(this,"async_queue_retry"),this.Vu=()=>{const r=vx();r&&Pt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=vx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=vx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new al;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wf(e))throw e;Pt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(A){let u=A.message||"";return A.stack&&(u=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),u})(r);throw uA("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Av.createAndSchedule(this,e,n,r,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&tn()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function T4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class gl extends Ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _4(e),this._firestoreClient=void 0,await e}}}function Ane(t,e){const n=typeof t=="object"?t:SN(),r=typeof t=="string"?t:"(default)",i=Kf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=tZ("firestore");s&&one(i,...s)}return i}function kg(t){if(t._terminated)throw new Ot(ft.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lne(t),t._firestoreClient}function lne(t){var e,n,r;const i=t._freezeSettings(),s=(function(u,h,d,x){return new V$(u,h,d,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,PF(x.experimentalLongPollingOptions),x.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nne(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Du(Wi.fromBase64String(e))}catch(n){throw new Ot(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Du(Wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ot(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=/^__.*__$/;class une{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,n,this.fieldTransforms):new qf(e,this.data,n,this.fieldTransforms)}}class VF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class gv{constructor(e,n,r,i,s,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jF(this.Cu)&&cne.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fne{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ng(e)}Qu(e,n,r,i=!1){return new gv({Cu:e,methodName:n,qu:r,path:Vi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(t){const e=t._freezeSettings(),n=Ng(t._databaseId);return new fne(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GF(t,e,n,r,i,s={}){const A=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);pv("Data must be an object, but it was:",A,r);const u=WF(r,A);let h,d;if(s.merge)h=new fa(A.fieldMask),d=A.fieldTransforms;else if(s.mergeFields){const x=[];for(const C of s.mergeFields){const _=z2(e,C,n);if(!A.contains(_))throw new Ot(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);qF(x,_)||x.push(_)}h=new fa(x),d=A.fieldTransforms.filter((C=>h.covers(C.field)))}else h=null,d=A.fieldTransforms;return new une(new Ws(u),h,d)}class Og extends fv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function KF(t,e,n,r){const i=t.Qu(1,e,n);pv("Data must be an object, but it was:",i,r);const s=[],A=Ws.empty();xc(r,((h,d)=>{const x=mv(e,h,n);d=Ys(d);const C=i.Nu(x);if(d instanceof Og)s.push(x);else{const _=ed(d,C);_!=null&&(s.push(x),A.set(x,_))}}));const u=new fa(s);return new VF(A,u,i.fieldTransforms)}function zF(t,e,n,r,i,s){const A=t.Qu(1,e,n),u=[z2(e,r,n)],h=[i];if(s.length%2!=0)throw new Ot(ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(z2(e,s[_])),h.push(s[_+1]);const d=[],x=Ws.empty();for(let _=u.length-1;_>=0;--_)if(!qF(d,u[_])){const N=u[_];let D=h[_];D=Ys(D);const R=A.Nu(N);if(D instanceof Og)d.push(N);else{const k=ed(D,R);k!=null&&(d.push(N),x.set(N,k))}}const C=new fa(d);return new VF(x,C,A.fieldTransforms)}function dne(t,e,n,r=!1){return ed(n,t.Qu(r?4:3,e))}function ed(t,e){if(XF(t=Ys(t)))return pv("Unsupported field value:",e,t),WF(t,e);if(t instanceof fv)return(function(r,i){if(!jF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const s=[];let A=0;for(const u of r){let h=ed(u,i.Lu(A));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),A++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ys(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wi.fromDate(r);return{timestampValue:Y1(i.serializer,s)}}if(r instanceof wi){const s=new wi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Y1(i.serializer,s)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Du)return{bytesValue:cF(i.serializer,r._byteString)};if(r instanceof _s){const s=i.databaseId,A=r.firestore._databaseId;if(!A.isEqual(s))throw i.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ev(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hv)return(function(A,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map((h=>{if(typeof h!="number")throw u.Bu("VectorValues must only contain numeric values.");return Jw(u.serializer,h)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Dg(r)}`)})(t,e)}function WF(t,e){const n={};return QN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xc(t,((r,i)=>{const s=ed(i,e.Mu(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function XF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wi||t instanceof dv||t instanceof Du||t instanceof _s||t instanceof fv||t instanceof hv)}function pv(t,e,n){if(!XF(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Dg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function z2(t,e,n){if((e=Ys(e))instanceof $f)return e._internalPath;if(typeof e=="string")return mv(t,e);throw $1("Field path arguments must be of type string or ",t,!1,void 0,n)}const hne=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(hne)>=0)throw $1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw $1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $1(t,e,n,r,i){const s=r&&!r.isEmpty(),A=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||A)&&(h+=" (found",s&&(h+=` in field ${r}`),A&&(h+=` in document ${i}`),h+=")"),new Ot(ft.INVALID_ARGUMENT,u+t+h)}function qF(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gne extends YF{data(){return super.data()}}function xv(t,e){return typeof e=="string"?mv(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class pne extends wv{}function Ya(t,e,...n){let r=[];e instanceof wv&&r.push(e),r=r.concat(n),(function(s){const A=s.filter((h=>h instanceof vv)).length,u=s.filter((h=>h instanceof Lg)).length;if(A>1||A>0&&u>0)throw new Ot(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Lg extends pne{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lg(e,n,r)}_apply(e){const n=this._parse(e);return ZF(e._query,n),new vc(e.firestore,e.converter,k2(e._query,n))}_parse(e){const n=Mg(e.firestore);return(function(s,A,u,h,d,x,C){let _;if(d.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ot(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){S4(C,x);const N=[];for(const D of C)N.push(b4(h,s,D));_={arrayValue:{values:N}}}else _=b4(h,s,C)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||S4(C,x),_=dne(u,A,C,x==="in"||x==="not-in");return ci.create(d,x,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cx(t,e,n){const r=e,i=xv("where",t);return Lg._create(i,r,n)}class vv extends wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:io.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let A=i;const u=s.getFlattenedFilters();for(const h of u)ZF(A,h),A=k2(A,h)})(e._query,n),new vc(e.firestore,e.converter,k2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function b4(t,e,n){if(typeof(n=Ys(n))=="string"){if(n==="")throw new Ot(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XN(e)&&n.indexOf("/")!==-1)throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yr.fromString(n));if(!Xt.isDocumentKey(r))throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xb(t,new Xt(r))}if(n instanceof _s)return Xb(t,n._key);throw new Ot(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(n)}.`)}function S4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ot(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZF(t,e){const n=(function(i,s){for(const A of i)for(const u of A.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ot(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ot(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mne{convertValue(e,n="none"){switch(Ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((A=>$r(A.doubleValue)));return new hv(s)}convertGeoPoint(e){return new dv($r(e.latitude),$r(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rf(e));default:return null}}convertTimestamp(e){const n=dl(e);return new wi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yr.fromString(e);tr(pF(r));const i=new Df(r.get(1),r.get(3)),s=new Xt(r.popFirst(5));return i.isEqual(n)||uA(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e8 extends YF{constructor(e,n,r,i,s,A){super(e,n,r,i,A),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new u1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class u1 extends e8{data(e={}){return super.data(e)}}class t8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Y0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new u1(this._firestore,this._userDataWriter,r.key,r,new Y0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let A=0;return i._snapshot.docChanges.map((u=>{const h=new u1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Y0(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:A++}}))}{let A=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const h=new u1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Y0(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,x=-1;return u.type!==0&&(d=A.indexOf(u.doc.key),A=A.delete(u.doc.key)),u.type!==1&&(A=A.add(u.doc),x=A.indexOf(u.doc.key)),{type:xne(u.type),doc:h,oldIndex:d,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class yv extends mne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,n)}}function Ex(t){t=Ma(t,vc);const e=Ma(t.firestore,gl),n=kg(e),r=new yv(e);return JF(t._query),sne(n,t._query).then((i=>new t8(e,r,t,i)))}function Gs(t,e,n){t=Ma(t,_s);const r=Ma(t.firestore,gl),i=$F(t.converter,e,n);return Qg(r,[GF(Mg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xs.none())])}function e1(t,e,n,...r){t=Ma(t,_s);const i=Ma(t.firestore,gl),s=Mg(i);let A;return A=typeof(e=Ys(e))=="string"||e instanceof $f?zF(s,"updateDoc",t._key,e,n,r):KF(s,"updateDoc",t._key,e),Qg(i,[A.toMutation(t._key,Xs.exists(!0))])}function Vl(t){return Qg(Ma(t.firestore,gl),[new Sg(t._key,Xs.none())])}function eA(t,...e){var n,r,i;t=Ys(t);let s={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||T4(e[A])||(s=e[A],A++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(T4(e[A])){const C=e[A];e[A]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[A+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[A+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let h,d,x;if(t instanceof _s)d=Ma(t.firestore,gl),x=Yw(t._key.path),h={next:C=>{e[A]&&e[A](wne(d,t,C))},error:e[A+1],complete:e[A+2]};else{const C=Ma(t,vc);d=Ma(C.firestore,gl),x=C._query;const _=new yv(d);h={next:N=>{e[A]&&e[A](new t8(d,_,C,N))},error:e[A+1],complete:e[A+2]},JF(t._query)}return(function(_,N,D,R){const k=new LF(R),j=new IF(N,k,D);return _.asyncQueue.enqueueAndForget((async()=>bF(await K2(_),j))),()=>{k.Za(),_.asyncQueue.enqueueAndForget((async()=>SF(await K2(_),j)))}})(kg(d),x,u,h)}function Qg(t,e){return(function(r,i){const s=new al;return r.asyncQueue.enqueueAndForget((async()=>Xte(await ine(r),i,s))),s.promise})(kg(t),e)}function wne(t,e,n){const r=n.docs.get(e._key),i=new yv(t);return new e8(t,i,e._key,r,new Y0(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mg(e)}set(e,n,r){this._verifyNotCommitted();const i=Bx(e,this._firestore),s=$F(i.converter,n,r),A=GF(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(A.toMutation(i._key,Xs.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Bx(e,this._firestore);let A;return A=typeof(n=Ys(n))=="string"||n instanceof $f?zF(this._dataReader,"WriteBatch.update",s._key,n,r,i):KF(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(A.toMutation(s._key,Xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bx(e,this._firestore);return this._mutations=this._mutations.concat(new Sg(n._key,Xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bx(t,e){if((t=Ys(t)).firestore!==e)throw new Ot(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return kg(t=Ma(t,gl)),new vne(t,(e=>Qg(t,e)))}(function(e,n=!0){(function(i){Hu=i})(d$),ul(new lA("firestore",((r,{instanceIdentifier:i,options:s})=>{const A=r.getProvider("app").getImmediate(),u=new gl(new b$(r.getProvider("auth-internal")),new F$(r.getProvider("app-check-internal")),(function(d,x){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ot(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(d.options.projectId,x)})(A,i),A);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),wo(jb,"4.7.3",e),wo(jb,"4.7.3","esm2017")})();const n8="@firebase/installations",Cv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=1e4,i8=`w:${Cv}`,s8="FIS_v2",yne="https://firebaseinstallations.googleapis.com/v1",Cne=3600*1e3,Ene="installations",Bne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lc=new Cg(Ene,Bne,_ne);function a8(t){return t instanceof xl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8({projectId:t}){return`${yne}/projects/${t}/installations`}function A8(t){return{token:t.token,requestStatus:2,expiresIn:bne(t.expiresIn),creationTime:Date.now()}}async function l8(t,e){const r=(await e.json()).error;return lc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function c8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tne(t,{refreshToken:e}){const n=c8(t);return n.append("Authorization",Sne(e)),n}async function u8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bne(t){return Number(t.replace("s","000"))}function Sne(t){return`${s8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ine({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=o8(t),i=c8(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const A={fid:n,authVersion:s8,appId:t.appId,sdkVersion:i8},u={method:"POST",headers:i,body:JSON.stringify(A)},h=await u8(()=>fetch(r,u));if(h.ok){const d=await h.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:A8(d.authToken)}}else throw await l8("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne=/^[cdef][\w-]{21}$/,W2="";function Rne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Dne(t);return Fne.test(n)?n:W2}catch{return W2}}function Dne(t){return Nne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new Map;function h8(t,e){const n=Pg(t);g8(n,e),Une(n,e)}function g8(t,e){const n=d8.get(t);if(n)for(const r of n)r(e)}function Une(t,e){const n=kne();n&&n.postMessage({key:t,fid:e}),Mne()}let Yl=null;function kne(){return!Yl&&"BroadcastChannel"in self&&(Yl=new BroadcastChannel("[Firebase] FID Change"),Yl.onmessage=t=>{g8(t.data.key,t.data.fid)}),Yl}function Mne(){d8.size===0&&Yl&&(Yl.close(),Yl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const One="firebase-installations-database",Lne=1,cc="firebase-installations-store";let _x=null;function Ev(){return _x||(_x=TN(One,Lne,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cc)}}})),_x}async function eg(t,e){const n=Pg(t),i=(await Ev()).transaction(cc,"readwrite"),s=i.objectStore(cc),A=await s.get(n);return await s.put(e,n),await i.done,(!A||A.fid!==e.fid)&&h8(t,e.fid),e}async function p8(t){const e=Pg(t),r=(await Ev()).transaction(cc,"readwrite");await r.objectStore(cc).delete(e),await r.done}async function Hg(t,e){const n=Pg(t),i=(await Ev()).transaction(cc,"readwrite"),s=i.objectStore(cc),A=await s.get(n),u=e(A);return u===void 0?await s.delete(n):await s.put(u,n),await i.done,u&&(!A||A.fid!==u.fid)&&h8(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t){let e;const n=await Hg(t.appConfig,r=>{const i=Qne(r),s=Pne(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===W2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Qne(t){const e=t||{fid:Rne(),registrationStatus:0};return m8(e)}function Pne(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(lc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Hne(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Vne(t)}:{installationEntry:e}}async function Hne(t,e){try{const n=await Ine(t,e);return eg(t.appConfig,n)}catch(n){throw a8(n)&&n.customData.serverCode===409?await p8(t.appConfig):await eg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Vne(t){let e=await N4(t.appConfig);for(;e.registrationStatus===1;)await f8(100),e=await N4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Bv(t);return r||n}return e}function N4(t){return Hg(t,e=>{if(!e)throw lc.create("installation-not-found");return m8(e)})}function m8(t){return jne(t)?{fid:t.fid,registrationStatus:0}:t}function jne(t){return t.registrationStatus===1&&t.registrationTime+r8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gne({appConfig:t,heartbeatServiceProvider:e},n){const r=Kne(t,n),i=Tne(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const A={installation:{sdkVersion:i8,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(A)},h=await u8(()=>fetch(r,u));if(h.ok){const d=await h.json();return A8(d)}else throw await l8("Generate Auth Token",h)}function Kne(t,{fid:e}){return`${o8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(t,e=!1){let n;const r=await Hg(t.appConfig,s=>{if(!x8(s))throw lc.create("not-registered");const A=s.authToken;if(!e&&Xne(A))return s;if(A.requestStatus===1)return n=zne(t,e),s;{if(!navigator.onLine)throw lc.create("app-offline");const u=Yne(s);return n=Wne(t,u),u}});return n?await n:r.authToken}async function zne(t,e){let n=await F4(t.appConfig);for(;n.authToken.requestStatus===1;)await f8(100),n=await F4(t.appConfig);const r=n.authToken;return r.requestStatus===0?_v(t,e):r}function F4(t){return Hg(t,e=>{if(!x8(e))throw lc.create("not-registered");const n=e.authToken;return Jne(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Wne(t,e){try{const n=await Gne(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await eg(t.appConfig,r),n}catch(n){if(a8(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await p8(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await eg(t.appConfig,r)}throw n}}function x8(t){return t!==void 0&&t.registrationStatus===2}function Xne(t){return t.requestStatus===2&&!qne(t)}function qne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Cne}function Yne(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Jne(t){return t.requestStatus===1&&t.requestTime+r8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zne(t){const e=t,{installationEntry:n,registrationPromise:r}=await Bv(e);return r?r.catch(console.error):_v(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ne(t,e=!1){const n=t;return await ere(n),(await _v(n,e)).token}async function ere(t){const{registrationPromise:e}=await Bv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t){if(!t||!t.options)throw Tx("App Configuration");if(!t.name)throw Tx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tx(t){return lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="installations",nre="installations-internal",rre=t=>{const e=t.getProvider("app").getImmediate(),n=tre(e),r=Kf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ire=t=>{const e=t.getProvider("app").getImmediate(),n=Kf(e,w8).getImmediate();return{getId:()=>Zne(n),getToken:i=>$ne(n,i)}};function sre(){ul(new lA(w8,rre,"PUBLIC")),ul(new lA(nre,ire,"PRIVATE"))}sre();wo(n8,Cv);wo(n8,Cv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="analytics",are="firebase_id",ore="origin",Are=60*1e3,lre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Hw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new Cg("analytics","Analytics",cre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(t){if(!t.startsWith(Tv)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return qs.warn(e.message),""}return t}function v8(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dre(t,e){const n=fre("firebase-js-sdk-policy",{createScriptURL:ure}),r=document.createElement("script"),i=`${Tv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hre(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gre(t,e,n,r,i,s){const A=r[i];try{if(A)await e[A];else{const h=(await v8(n)).find(d=>d.measurementId===i);h&&await e[h.appId]}}catch(u){qs.error(u)}t("config",i,s)}async function pre(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let A=i.send_to;Array.isArray(A)||(A=[A]);const u=await v8(n);for(const h of A){const d=u.find(C=>C.measurementId===h),x=d&&e[d.appId];if(x)s.push(x);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){qs.error(s)}}function mre(t,e,n,r){async function i(s,...A){try{if(s==="event"){const[u,h]=A;await pre(t,e,n,u,h)}else if(s==="config"){const[u,h]=A;await gre(t,e,n,r,u,h)}else if(s==="consent"){const[u,h]=A;t("consent",u,h)}else if(s==="get"){const[u,h,d]=A;t("get",u,h,d)}else if(s==="set"){const[u]=A;t("set",u)}else t(s,...A)}catch(u){qs.error(u)}}return i}function xre(t,e,n,r,i){let s=function(...A){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=mre(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function wre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Tv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=30,yre=1e3;class Cre{constructor(e={},n=yre){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const y8=new Cre;function Ere(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Bre(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ere(r)},s=lre.replace("{app-id}",n),A=await fetch(s,i);if(A.status!==200&&A.status!==304){let u="";try{const h=await A.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:A.status,responseMessage:u})}return A.json()}async function _re(t,e=y8,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw da.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw da.create("no-api-key")}const A=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Sre;return setTimeout(async()=>{u.abort()},Are),C8({appId:r,apiKey:i,measurementId:s},A,u,e)}async function C8(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=y8){var s;const{appId:A,measurementId:u}=t;try{await Tre(r,e)}catch(h){if(u)return qs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:A,measurementId:u};throw h}try{const h=await Bre(t);return i.deleteThrottleMetadata(A),h}catch(h){const d=h;if(!bre(d)){if(i.deleteThrottleMetadata(A),u)return qs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:A,measurementId:u};throw h}const x=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?Db(n,i.intervalMillis,vre):Db(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+x,backoffCount:n+1};return i.setThrottleMetadata(A,C),qs.debug(`Calling attemptFetch again in ${x} millis`),C8(t,C,r,i)}}function Tre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bre(t){if(!(t instanceof xl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Sre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ire(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,A=Object.assign(Object.assign({},r),{send_to:s});t("event",n,A)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nre(){if(CN())try{await EN()}catch(t){return qs.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qs.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Fre(t,e,n,r,i,s,A){var u;const h=_re(t);h.then(N=>{n[N.measurementId]=N.appId,t.options.measurementId&&N.measurementId!==t.options.measurementId&&qs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>qs.error(N)),e.push(h);const d=Nre().then(N=>{if(N)return r.getId()}),[x,C]=await Promise.all([h,d]);wre(s)||dre(s,x.measurementId),i("js",new Date);const _=(u=A==null?void 0:A.config)!==null&&u!==void 0?u:{};return _[ore]="firebase",_.update=!0,C!=null&&(_[are]=C),i("config",x.measurementId,_),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e){this.app=e}_delete(){return delete pf[this.app.options.appId],Promise.resolve()}}let pf={},R4=[];const D4={};let bx="dataLayer",Dre="gtag",U4,E8,k4=!1;function Ure(){const t=[];if(aZ()&&t.push("This is a browser extension environment."),AZ()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});qs.warn(n.message)}}function kre(t,e,n){Ure();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(pf[r]!=null)throw da.create("already-exists",{id:r});if(!k4){hre(bx);const{wrappedGtag:s,gtagCore:A}=xre(pf,R4,D4,bx,Dre);E8=s,U4=A,k4=!0}return pf[r]=Fre(t,R4,D4,e,U4,bx,n),new Rre(t)}function Mre(t=SN()){t=Ys(t);const e=Kf(t,tg);return e.isInitialized()?e.getImmediate():Ore(t)}function Ore(t,e={}){const n=Kf(t,tg);if(n.isInitialized()){const i=n.getImmediate();if(j1(e,n.getOptions()))return i;throw da.create("already-initialized")}return n.initialize({options:e})}function Lre(t,e,n,r){t=Ys(t),Ire(E8,pf[t.app.options.appId],e,n,r).catch(i=>qs.error(i))}const M4="@firebase/analytics",O4="0.10.8";function Qre(){ul(new lA(tg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return kre(r,i,n)},"PUBLIC")),ul(new lA("analytics-internal",t,"PRIVATE")),wo(M4,O4),wo(M4,O4,"esm2017");function t(e){try{const n=e.getProvider(tg).getImmediate();return{logEvent:(r,i,s)=>Lre(n,r,i,s)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}Qre();const Pre={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},B8=bN(Pre),yn=Ane(B8);Mre(B8);const Sx={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" "},Hre=()=>{const[t,e]=Se.useState("login"),[n,r]=Se.useState([]),[i,s]=Se.useState(""),[A,u]=Se.useState(""),[h,d]=Se.useState("retail"),[x,C]=Se.useState(!1),[_,N]=Se.useState(null),[D,R]=Se.useState(!1),[k,j]=Se.useState(null),[K,Q]=Se.useState(Sx),[ne,ae]=Se.useState([]),[ee,M]=Se.useState([]),[H,O]=Se.useState([]),[z,J]=Se.useState([]),[W,X]=Se.useState([]),[Me,Ee]=Se.useState([]),[ve,oe]=Se.useState([]),[je,Be]=Se.useState([]),[Ze,me]=Se.useState(!0),[Z,ge]=Se.useState("");Se.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),Se.useEffect(()=>{const we=eA(fr(yn,"settings","global"),Ge=>{if(Ge.exists()){const st=Ge.data();Q({...Sx,...st})}else Gs(fr(yn,"settings","global"),Sx);me(!1)});return()=>we()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"invoices")),Ge=eA(we,st=>{const De=st.docs.map(mt=>{const bt=mt.data();return{...bt,items:bt.items||[],payments:bt.payments||[]}});De.sort((mt,bt)=>bt.createdAt-mt.createdAt),ae(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"supplier_invoices")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());De.sort((mt,bt)=>bt.createdAt-mt.createdAt),M(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"client_requests")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());De.sort((mt,bt)=>bt.createdAt-mt.createdAt),O(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"checks")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());De.sort((mt,bt)=>bt.createdAt-mt.createdAt),J(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"special_orders")),Ge=eA(we,st=>{const De=st.docs.map(mt=>{const bt=mt.data();return!bt.items&&bt.productName&&(bt.items=[{id:"legacy-1",name:bt.productName,quantity:bt.quantity||1}]),bt});De.sort((mt,bt)=>bt.createdAt-mt.createdAt),X(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"notifications")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());De.sort((mt,bt)=>bt.timestamp-mt.timestamp),Ee(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"general_payments")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());De.sort((mt,bt)=>bt.timestamp-mt.timestamp),oe(De)});return()=>Ge()},[]),Se.useEffect(()=>{const we=Ya(qa(yn,"products")),Ge=eA(we,st=>{const De=st.docs.map(mt=>mt.data());Be(De)});return()=>Ge()},[]);const le=async we=>{let Ge;typeof we=="function"?Ge=we(K):Ge=we,Q(Ge);const st=JSON.parse(JSON.stringify(Ge));await Gs(fr(yn,"settings","global"),st)},ue=async we=>{await Gs(fr(yn,"products",we.id),JSON.parse(JSON.stringify(we)))},xe=async we=>{await Gs(fr(yn,"products",we.id),JSON.parse(JSON.stringify(we)))},Ye=async we=>{await Gs(fr(yn,"supplier_invoices",we.id),JSON.parse(JSON.stringify(we)))},Ne=async we=>{await e1(fr(yn,"supplier_invoices",we.id),JSON.parse(JSON.stringify(we)))},_e=async we=>{await Vl(fr(yn,"supplier_invoices",we))},Oe=async we=>{const Ge=I4(yn),st=Ya(qa(yn,"supplier_invoices"),Cx("supplierName","==",we));(await Ex(st)).forEach(mt=>{Ge.delete(mt.ref)}),await Ge.commit()},yt=async we=>{await Gs(fr(yn,"client_requests",we.id),JSON.parse(JSON.stringify(we)))},pe=async we=>{await Gs(fr(yn,"client_requests",we.id),JSON.parse(JSON.stringify(we)))},St=async we=>{await Vl(fr(yn,"client_requests",we))},kt=async we=>{await Gs(fr(yn,"checks",we.id),JSON.parse(JSON.stringify(we)))},Lt=async we=>{await Gs(fr(yn,"checks",we.id),JSON.parse(JSON.stringify(we)))},Fe=async we=>{await Vl(fr(yn,"checks",we))},Ue=async we=>{await Gs(fr(yn,"special_orders",we.id),JSON.parse(JSON.stringify(we)))},gt=async we=>{await Gs(fr(yn,"special_orders",we.id),JSON.parse(JSON.stringify(we)))},Bt=async we=>{await Vl(fr(yn,"special_orders",we))},dn=async we=>{await Gs(fr(yn,"general_payments",we.id),JSON.parse(JSON.stringify(we)))},At=async we=>{await Vl(fr(yn,"general_payments",we))},Pn=async we=>{await Vl(fr(yn,"invoices",we)),await Vl(fr(yn,"notifications",`debt-${we}`))},dr=async we=>{const Ge=I4(yn),st=Ya(qa(yn,"invoices"),Cx("name","==",we));(await Ex(st)).forEach(mn=>{Ge.delete(mn.ref),Ge.delete(fr(yn,"notifications",`debt-${mn.id}`))});const mt=Ya(qa(yn,"general_payments"),Cx("customerName","==",we));(await Ex(mt)).forEach(mn=>Ge.delete(mn.ref)),await Ge.commit()},at=()=>{e("login"),j(null),Nt()},Nt=()=>{r([]),N(null),s(""),u(""),d("retail")},It=we=>{k!=null&&k.permissions.createInvoices&&(N(we),r(we.items),s(we.name),u(we.phone||""),d(we.priceMode||"retail"),e("create-invoice"))},$t=(we,Ge)=>{k!=null&&k.permissions.createInvoices&&(Nt(),s(we),u(Ge||""),e("create-invoice"))},un=async we=>{await Gs(fr(yn,"invoices",we.id),JSON.parse(JSON.stringify(we)));for(const Ge of we.items)if(!Ge.isManual){const st=je.find(De=>De.id===Ge.id);if(st){let De=Ge.count;if(_){const mt=_.items.find(bt=>bt.id===Ge.id);mt&&(De=Ge.count-mt.count)}if(De!==0){const mt=Math.max(0,st.stock-De);await e1(fr(yn,"products",Ge.id),{stock:mt})}}}Nt(),e("dashboard")},fn=Se.useMemo(()=>k?k.role==="admin"||k.permissions.isManager||k.permissions.viewAllWork?ne:ne.filter(we=>we.creatorName===k.name):[],[ne,k]),tt=(we,Ge)=>{if(we==="OPEN_INVOICE"&&Ge){const st=ne.find(De=>De.id===Ge);st&&It(st)}else we==="OPEN_PRODUCT"&&Ge?(ge(Ge),e("products")):we==="NAVIGATE"?Object.values(["dashboard","products","customers","settings","create-invoice","suppliers"]).includes(Ge)&&e(Ge):we==="SEARCH"&&(ge(Ge||""),e("products"))};return Ze?p.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):p.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[t==="login"&&p.jsx(t6,{onLoginSuccess:we=>{j(we),e("dashboard")},settings:K}),t==="dashboard"&&k&&p.jsx(TM,{currentUser:k,onLogout:at,invoices:fn,settings:K,products:je,onNavigateToProducts:()=>{ge(""),e("products")},onNavigateToCreateInvoice:()=>{_||Nt(),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onEditInvoice:It,onDeleteInvoice:Pn,onNewInvoiceForCustomer:$t,unreadNotificationsCount:Me.filter(we=>!we.isRead).length}),t==="products"&&k&&p.jsx(iG,{currentUser:k,products:je,onAddProduct:ue,onUpdateProduct:xe,onLogout:at,onNavigateToHome:()=>e("dashboard"),onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:x,onSelectProduct:(we,Ge)=>r(st=>st.find(mt=>mt.id===we.id)?st.map(mt=>mt.id===we.id?{...mt,count:mt.count+Ge,total:(mt.count+Ge)*we.price}:mt):[...st,{...we,productName:we.name,count:Ge,total:we.price*Ge}]),onStartInvoiceWithProduct:(we,Ge)=>{Nt(),r([{...we,productName:we.name,count:Ge,total:we.price*Ge}]),e("create-invoice")},selectedItems:n,settings:K,invoicePriceMode:h,initialSearchTerm:Z}),t==="create-invoice"&&k&&p.jsx(lG,{currentUser:k,onNavigateToHome:()=>{Nt(),e("dashboard")},onNavigateToProductSelection:()=>{C(!0),e("products")},items:n,setInvoiceItems:r,products:je,onUpdateQuantity:(we,Ge)=>r(st=>st.map(De=>De.id===we?{...De,count:Math.max(0,De.count+Ge),total:Math.max(0,De.count+Ge)*De.price}:De).filter(De=>De.count>0)),onClearInvoice:Nt,onAddManualItem:(we,Ge,st)=>r(De=>[...De,{id:`manual-${Date.now()}`,productName:we,price:Ge,count:st,total:Ge*st,isManual:!0}]),onSaveInvoice:un,initialInvoice:_,settings:K,onUpdateItem:(we,Ge)=>r(st=>st.map(De=>De.id===we?{...De,...Ge,total:(Ge.price||De.price)*(Ge.count||De.count)}:De)),customerName:i,setCustomerName:s,customerPhone:A,setCustomerPhone:u,priceMode:h,setPriceMode:d}),t==="settings"&&k&&p.jsx(cG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),settings:K,onUpdateSettings:le,onTriggerManualBackup:()=>{},invoices:ne,onEditInvoice:It,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:at}),t==="customers"&&k&&p.jsx(wG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:fn,generalPayments:ve,onAddGeneralPayment:dn,onDeleteGeneralPayment:At,onDeleteCustomer:dr,onProcessPayment:async(we,Ge,st)=>{const De=ne.find(mt=>mt.id===we);if(De){const mt=De.paidAmount+Ge,bt=Math.max(0,De.amount-mt),mn={...De,paidAmount:mt,remainingAmount:bt,type:bt<=0?"paid":"partial",payments:[...De.payments,{id:`pay-${Date.now()}`,amount:Ge,timestamp:Date.now(),method:st}]};await Gs(fr(yn,"invoices",we),JSON.parse(JSON.stringify(mn)))}},onEditInvoice:It,settings:K}),k&&t==="dashboard"&&p.jsx(KJ,{products:je,invoices:ne,currentUser:k,onAction:tt,onSearchProduct:we=>{ge(we),e("products")}}),t==="notifications"&&k&&p.jsx(BG,{onNavigateToHome:()=>e("dashboard"),notifications:Me,onMarkAllAsRead:()=>Me.forEach(we=>e1(fr(yn,"notifications",we.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:we=>e1(fr(yn,"notifications",we),{isRead:!0})}),t==="suppliers"&&k&&p.jsx(IG,{currentUser:k,onNavigateToHome:()=>e("dashboard"),onAddInvoice:Ye,onUpdateInvoice:Ne,onDeleteInvoice:_e,onDeleteSupplier:Oe,invoices:ee}),t==="client-requests"&&k&&p.jsx(NG,{onNavigateToHome:()=>e("dashboard"),requests:H,onAddRequest:yt,onUpdateRequest:pe,onDeleteRequest:St,settings:K}),t==="checkbook"&&k&&p.jsx(FG,{onNavigateToHome:()=>e("dashboard"),checks:z,onAddCheck:kt,onUpdateCheck:Lt,onDeleteCheck:Fe,settings:K}),t==="special-orders"&&k&&p.jsx(RG,{onNavigateToHome:()=>e("dashboard"),orders:W,onAddOrder:Ue,onUpdateOrder:gt,onDeleteOrder:Bt,settings:K})]})},_8=document.getElementById("root");if(!_8)throw new Error("Could not find root element to mount to");const Vre=e6.createRoot(_8);Vre.render(p.jsx(zR.StrictMode,{children:p.jsx(Hre,{})}));

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Py(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sN={exports:{}},tm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM=Symbol.for("react.transitional.element"),jM=Symbol.for("react.fragment");function oN(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:VM,type:t,key:n,ref:e!==void 0?e:null,props:r}}tm.Fragment=jM;tm.jsx=oN;tm.jsxs=oN;sN.exports=tm;var d=sN.exports,AN={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Symbol.for("react.transitional.element"),GM=Symbol.for("react.portal"),KM=Symbol.for("react.fragment"),zM=Symbol.for("react.strict_mode"),WM=Symbol.for("react.profiler"),XM=Symbol.for("react.consumer"),qM=Symbol.for("react.context"),YM=Symbol.for("react.forward_ref"),JM=Symbol.for("react.suspense"),$M=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),ZM=Symbol.for("react.activity"),nB=Symbol.iterator;function eO(t){return t===null||typeof t!="object"?null:(t=nB&&t[nB]||t["@@iterator"],typeof t=="function"?t:null)}var cN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uN=Object.assign,fN={};function w0(t,e,r){this.props=t,this.context=e,this.refs=fN,this.updater=r||cN}w0.prototype.isReactComponent={};w0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};w0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hN(){}hN.prototype=w0.prototype;function Hy(t,e,r){this.props=t,this.context=e,this.refs=fN,this.updater=r||cN}var Vy=Hy.prototype=new hN;Vy.constructor=Hy;uN(Vy,w0.prototype);Vy.isPureReactComponent=!0;var iB=Array.isArray;function cv(){}var Kr={H:null,A:null,T:null,S:null},dN=Object.prototype.hasOwnProperty;function jy(t,e,r){var n=r.ref;return{$$typeof:Qy,type:t,key:e,ref:n!==void 0?n:null,props:r}}function tO(t,e){return jy(t.type,e,t.props)}function Gy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qy}function rO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var aB=/\/+/g;function Bx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rO(""+t.key):e.toString(36)}function nO(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(cv,cv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function su(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Qy:case GM:s=!0;break;case lN:return s=t._init,su(s(t._payload),e,r,n,i)}}if(s)return i=i(t),s=n===""?"."+Bx(t,0):n,iB(i)?(r="",s!=null&&(r=s.replace(aB,"$&/")+"/"),su(i,e,r,"",function(u){return u})):i!=null&&(Gy(i)&&(i=tO(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(aB,"$&/")+"/")+s)),e.push(i)),1;s=0;var A=n===""?".":n+":";if(iB(t))for(var c=0;c<t.length;c++)n=t[c],a=A+Bx(n,c),s+=su(n,e,r,a,i);else if(c=eO(t),typeof c=="function")for(t=c.call(t),c=0;!(n=t.next()).done;)n=n.value,a=A+Bx(n,c++),s+=su(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return su(nO(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Kd(t,e,r){if(t==null)return t;var n=[],i=0;return su(t,n,"","",function(a){return e.call(r,a,i++)}),n}function iO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sB=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},aO={map:Kd,forEach:function(t,e,r){Kd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Kd(t,function(){e++}),e},toArray:function(t){return Kd(t,function(e){return e})||[]},only:function(t){if(!Gy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Activity=ZM;Lt.Children=aO;Lt.Component=w0;Lt.Fragment=KM;Lt.Profiler=WM;Lt.PureComponent=Hy;Lt.StrictMode=zM;Lt.Suspense=JM;Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kr;Lt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Kr.H.useMemoCache(t)}};Lt.cache=function(t){return function(){return t.apply(null,arguments)}};Lt.cacheSignal=function(){return null};Lt.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=uN({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!dN.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var s=Array(a),A=0;A<a;A++)s[A]=arguments[A+2];n.children=s}return jy(t.type,i,n)};Lt.createContext=function(t){return t={$$typeof:qM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:XM,_context:t},t};Lt.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)dN.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var A=Array(s),c=0;c<s;c++)A[c]=arguments[c+2];i.children=A}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return jy(t,a,i)};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:YM,render:t}};Lt.isValidElement=Gy;Lt.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:iO}};Lt.memo=function(t,e){return{$$typeof:$M,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=Kr.T,r={};Kr.T=r;try{var n=t(),i=Kr.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(cv,sB)}catch(a){sB(a)}finally{e!==null&&r.types!==null&&(e.types=r.types),Kr.T=e}};Lt.unstable_useCacheRefresh=function(){return Kr.H.useCacheRefresh()};Lt.use=function(t){return Kr.H.use(t)};Lt.useActionState=function(t,e,r){return Kr.H.useActionState(t,e,r)};Lt.useCallback=function(t,e){return Kr.H.useCallback(t,e)};Lt.useContext=function(t){return Kr.H.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t,e){return Kr.H.useDeferredValue(t,e)};Lt.useEffect=function(t,e){return Kr.H.useEffect(t,e)};Lt.useEffectEvent=function(t){return Kr.H.useEffectEvent(t)};Lt.useId=function(){return Kr.H.useId()};Lt.useImperativeHandle=function(t,e,r){return Kr.H.useImperativeHandle(t,e,r)};Lt.useInsertionEffect=function(t,e){return Kr.H.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return Kr.H.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return Kr.H.useMemo(t,e)};Lt.useOptimistic=function(t,e){return Kr.H.useOptimistic(t,e)};Lt.useReducer=function(t,e,r){return Kr.H.useReducer(t,e,r)};Lt.useRef=function(t){return Kr.H.useRef(t)};Lt.useState=function(t){return Kr.H.useState(t)};Lt.useSyncExternalStore=function(t,e,r){return Kr.H.useSyncExternalStore(t,e,r)};Lt.useTransition=function(){return Kr.H.useTransition()};Lt.version="19.2.3";AN.exports=Lt;var me=AN.exports;const sO=Py(me);var gN={exports:{}},rm={},pN={exports:{}},mN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(de,ne){var De=de.length;de.push(ne);e:for(;0<De;){var he=De-1>>>1,Le=de[he];if(0<i(Le,ne))de[he]=ne,de[De]=Le,De=he;else break e}}function r(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var ne=de[0],De=de.pop();if(De!==ne){de[0]=De;e:for(var he=0,Le=de.length,Ze=Le>>>1;he<Ze;){var Z=2*(he+1)-1,ge=de[Z],ce=Z+1,se=de[ce];if(0>i(ge,De))ce<Le&&0>i(se,ge)?(de[he]=se,de[ce]=De,he=ce):(de[he]=ge,de[Z]=De,he=Z);else if(ce<Le&&0>i(se,De))de[he]=se,de[ce]=De,he=ce;else break e}}return ne}function i(de,ne){var De=de.sortIndex-ne.sortIndex;return De!==0?De:de.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,A=s.now();t.unstable_now=function(){return s.now()-A}}var c=[],u=[],h=1,m=null,v=3,_=!1,b=!1,T=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(de){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=de)n(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=r(u)}}function W(de){if(T=!1,L(de),!b)if(r(c)!==null)b=!0,P||(P=!0,j());else{var ne=r(u);ne!==null&&le(W,ne.startTime-de)}}var P=!1,N=-1,M=5,D=-1;function Q(){return I?!0:!(t.unstable_now()-D<M)}function G(){if(I=!1,P){var de=t.unstable_now();D=de;var ne=!0;try{e:{b=!1,T&&(T=!1,R(N),N=-1),_=!0;var De=v;try{t:{for(L(de),m=r(c);m!==null&&!(m.expirationTime>de&&Q());){var he=m.callback;if(typeof he=="function"){m.callback=null,v=m.priorityLevel;var Le=he(m.expirationTime<=de);if(de=t.unstable_now(),typeof Le=="function"){m.callback=Le,L(de),ne=!0;break t}m===r(c)&&n(c),L(de)}else n(c);m=r(c)}if(m!==null)ne=!0;else{var Ze=r(u);Ze!==null&&le(W,Ze.startTime-de),ne=!1}}break e}finally{m=null,v=De,_=!1}ne=void 0}}finally{ne?j():P=!1}}}var j;if(typeof F=="function")j=function(){F(G)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ce=V.port2;V.port1.onmessage=G,j=function(){Ce.postMessage(null)}}else j=function(){k(G,0)};function le(de,ne){N=k(function(){de(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(de){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var De=v;v=ne;try{return de()}finally{v=De}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(de,ne){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var De=v;v=de;try{return ne()}finally{v=De}},t.unstable_scheduleCallback=function(de,ne,De){var he=t.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?he+De:he):De=he,de){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=De+Le,de={id:h++,callback:ne,priorityLevel:de,startTime:De,expirationTime:Le,sortIndex:-1},De>he?(de.sortIndex=De,e(u,de),r(c)===null&&de===r(u)&&(T?(R(N),N=-1):T=!0,le(W,De-he))):(de.sortIndex=Le,e(c,de),b||_||(b=!0,P||(P=!0,j()))),de},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(de){var ne=v;return function(){var De=v;v=ne;try{return de.apply(this,arguments)}finally{v=De}}}})(mN);pN.exports=mN;var oO=pN.exports,xN={exports:{}},Yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO=me;function vN(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hA(){}var Gi={d:{f:hA,r:function(){throw Error(vN(522))},D:hA,C:hA,L:hA,m:hA,X:hA,S:hA,M:hA},p:0,findDOMNode:null},lO=Symbol.for("react.portal");function cO(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lO,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Pf=AO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function nm(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gi;Yi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(vN(299));return cO(t,e,null,r)};Yi.flushSync=function(t){var e=Pf.T,r=Gi.p;try{if(Pf.T=null,Gi.p=2,t)return t()}finally{Pf.T=e,Gi.p=r,Gi.d.f()}};Yi.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gi.d.C(t,e))};Yi.prefetchDNS=function(t){typeof t=="string"&&Gi.d.D(t)};Yi.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=nm(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?Gi.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&Gi.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Yi.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=nm(e.as,e.crossOrigin);Gi.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gi.d.M(t)};Yi.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=nm(r,e.crossOrigin);Gi.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Yi.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=nm(e.as,e.crossOrigin);Gi.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gi.d.m(t)};Yi.requestFormReset=function(t){Gi.d.r(t)};Yi.unstable_batchedUpdates=function(t,e){return t(e)};Yi.useFormState=function(t,e,r){return Pf.H.useFormState(t,e,r)};Yi.useFormStatus=function(){return Pf.H.useHostTransitionStatus()};Yi.version="19.2.3";function wN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wN)}catch(t){console.error(t)}}wN(),xN.exports=Yi;var uO=xN.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=oO,yN=me,fO=uO;function ze(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function EN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function td(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function CN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _N(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oB(t){if(td(t)!==t)throw Error(ze(188))}function hO(t){var e=t.alternate;if(!e){if(e=td(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return oB(i),t;if(a===n)return oB(i),e;a=a.sibling}throw Error(ze(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,A=i.child;A;){if(A===r){s=!0,r=i,n=a;break}if(A===n){s=!0,n=i,r=a;break}A=A.sibling}if(!s){for(A=a.child;A;){if(A===r){s=!0,r=a,n=i;break}if(A===n){s=!0,n=a,r=i;break}A=A.sibling}if(!s)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?t:e}function BN(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=BN(t),e!==null)return e;t=t.sibling}return null}var zr=Object.assign,dO=Symbol.for("react.element"),zd=Symbol.for("react.transitional.element"),mf=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),bN=Symbol.for("react.strict_mode"),uv=Symbol.for("react.profiler"),TN=Symbol.for("react.consumer"),Uo=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),hv=Symbol.for("react.suspense_list"),zy=Symbol.for("react.memo"),vA=Symbol.for("react.lazy"),dv=Symbol.for("react.activity"),gO=Symbol.for("react.memo_cache_sentinel"),AB=Symbol.iterator;function q0(t){return t===null||typeof t!="object"?null:(t=AB&&t[AB]||t["@@iterator"],typeof t=="function"?t:null)}var pO=Symbol.for("react.client.reference");function gv(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pO?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pu:return"Fragment";case uv:return"Profiler";case bN:return"StrictMode";case fv:return"Suspense";case hv:return"SuspenseList";case dv:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case mf:return"Portal";case Uo:return t.displayName||"Context";case TN:return(t._context.displayName||"Context")+".Consumer";case Ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zy:return e=t.displayName||null,e!==null?e:gv(t.type)||"Memo";case vA:e=t._payload,t=t._init;try{return gv(t(e))}catch{}}return null}var xf=Array.isArray,It=yN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xr=fO.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jl={pending:!1,data:null,method:null,action:null},pv=[],mu=-1;function ho(t){return{current:t}}function ei(t){0>mu||(t.current=pv[mu],pv[mu]=null,mu--)}function Mr(t,e){mu++,pv[mu]=t.current,t.current=e}var ao=ho(null),vh=ho(null),HA=ho(null),Ug=ho(null);function Mg(t,e){switch(Mr(HA,e),Mr(vh,t),Mr(ao,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?db(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=db(e),t=WR(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ei(ao),Mr(ao,t)}function Ju(){ei(ao),ei(vh),ei(HA)}function mv(t){t.memoizedState!==null&&Mr(Ug,t);var e=ao.current,r=WR(e,t.type);e!==r&&(Mr(vh,t),Mr(ao,r))}function Og(t){vh.current===t&&(ei(ao),ei(vh)),Ug.current===t&&(ei(Ug),Nh._currentValue=Jl)}var bx,lB;function Pl(t){if(bx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bx=e&&e[1]||"",lB=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bx+t+lB}var Tx=!1;function Sx(t,e){if(!t||Tx)return"";Tx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(_){var v=_}Reflect.construct(t,[],m)}else{try{m.call()}catch(_){v=_}t.call(m.prototype)}}else{try{throw Error()}catch(_){v=_}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(_){if(_&&v&&typeof _.stack=="string")return[_.stack,v.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],A=a[1];if(s&&A){var c=s.split(`
`),u=A.split(`
`);for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===u.length)for(n=c.length-1,i=u.length-1;1<=n&&0<=i&&c[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||c[n]!==u[i]){var h=`
`+c[n].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=n&&0<=i);break}}}finally{Tx=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Pl(r):""}function mO(t,e){switch(t.tag){case 26:case 27:case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return t.child!==e&&e!==null?Pl("Suspense Fallback"):Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 15:return Sx(t.type,!1);case 11:return Sx(t.type.render,!1);case 1:return Sx(t.type,!0);case 31:return Pl("Activity");default:return""}}function cB(t){try{var e="",r=null;do e+=mO(t,r),r=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var xv=Object.prototype.hasOwnProperty,Wy=Kn.unstable_scheduleCallback,Ix=Kn.unstable_cancelCallback,xO=Kn.unstable_shouldYield,vO=Kn.unstable_requestPaint,Oa=Kn.unstable_now,wO=Kn.unstable_getCurrentPriorityLevel,SN=Kn.unstable_ImmediatePriority,IN=Kn.unstable_UserBlockingPriority,Lg=Kn.unstable_NormalPriority,yO=Kn.unstable_LowPriority,NN=Kn.unstable_IdlePriority,EO=Kn.log,CO=Kn.unstable_setDisableYieldValue,rd=null,La=null;function TA(t){if(typeof EO=="function"&&CO(t),La&&typeof La.setStrictMode=="function")try{La.setStrictMode(rd,t)}catch{}}var Pa=Math.clz32?Math.clz32:bO,_O=Math.log,BO=Math.LN2;function bO(t){return t>>>=0,t===0?32:31-(_O(t)/BO|0)|0}var Wd=256,Xd=262144,qd=4194304;function Ql(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function im(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var A=n&134217727;return A!==0?(n=A&~a,n!==0?i=Ql(n):(s&=A,s!==0?i=Ql(s):r||(r=A&~t,r!==0&&(i=Ql(r))))):(A=n&~a,A!==0?i=Ql(A):s!==0?i=Ql(s):r||(r=n&~t,r!==0&&(i=Ql(r)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,r=e&-e,a>=r||a===32&&(r&4194048)!==0)?e:i}function nd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function TO(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FN(){var t=qd;return qd<<=1,!(qd&62914560)&&(qd=4194304),t}function Nx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function id(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function SO(t,e,r,n,i,a){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(r=s&~r;0<r;){var h=31-Pa(r),m=1<<h;A[h]=0,c[h]=-1;var v=u[h];if(v!==null)for(u[h]=null,h=0;h<v.length;h++){var _=v[h];_!==null&&(_.lane&=-536870913)}r&=~m}n!==0&&RN(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function RN(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Pa(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&261930}function DN(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function kN(t,e){var r=e&-e;return r=r&42?1:Xy(r),r&(t.suspendedLanes|e)?0:r}function Xy(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function UN(){var t=xr.p;return t!==0?t:(t=window.event,t===void 0?32:i8(t.type))}function uB(t,e){var r=xr.p;try{return xr.p=t,e()}finally{xr.p=r}}var pl=Math.random().toString(36).slice(2),ui="__reactFiber$"+pl,xa="__reactProps$"+pl,y0="__reactContainer$"+pl,vv="__reactEvents$"+pl,IO="__reactListeners$"+pl,NO="__reactHandles$"+pl,fB="__reactResources$"+pl,ad="__reactMarker$"+pl;function Yy(t){delete t[ui],delete t[xa],delete t[vv],delete t[IO],delete t[NO]}function xu(t){var e=t[ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[y0]||r[ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vb(t);t!==null;){if(r=t[ui])return r;t=vb(t)}return e}t=r,r=t.parentNode}return null}function E0(t){if(t=t[ui]||t[y0]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function vf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ze(33))}function Uu(t){var e=t[fB];return e||(e=t[fB]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Zn(t){t[ad]=!0}var MN=new Set,ON={};function Cc(t,e){$u(t,e),$u(t+"Capture",e)}function $u(t,e){for(ON[t]=e,t=0;t<e.length;t++)MN.add(e[t])}var FO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hB={},dB={};function RO(t){return xv.call(dB,t)?!0:xv.call(hB,t)?!1:FO.test(t)?dB[t]=!0:(hB[t]=!0,!1)}function lg(t,e,r){if(RO(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function Yd(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function _o(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function ts(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DO(t,e,r){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wv(t){if(!t._valueTracker){var e=LN(t)?"checked":"value";t._valueTracker=DO(t,e,""+t[e])}}function PN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=LN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kO=/[\n"\\]/g;function as(t){return t.replace(kO,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yv(t,e,r,n,i,a,s,A){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ts(e)):t.value!==""+ts(e)&&(t.value=""+ts(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Ev(t,s,ts(e)):r!=null?Ev(t,s,ts(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+ts(A):t.removeAttribute("name")}function QN(t,e,r,n,i,a,s,A){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){wv(t);return}r=r!=null?""+ts(r):"",e=e!=null?""+ts(e):r,A||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=A?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),wv(t)}function Ev(t,e,r){e==="number"&&Pg(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Mu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ts(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function HN(t,e,r){if(e!=null&&(e=""+ts(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ts(r):""}function VN(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(ze(92));if(xf(n)){if(1<n.length)throw Error(ze(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=ts(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n),wv(t)}function Zu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var UO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gB(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||UO.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function jN(t,e,r){if(e!=null&&typeof e!="object")throw Error(ze(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&gB(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&gB(t,a,e[a])}function Jy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cg(t){return OO.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mo(){}var Cv=null;function $y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vu=null,Ou=null;function pB(t){var e=E0(t);if(e&&(t=e.stateNode)){var r=t[xa]||null;e:switch(t=e.stateNode,e.type){case"input":if(yv(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+as(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[xa]||null;if(!i)throw Error(ze(90));yv(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&PN(n)}break e;case"textarea":HN(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Mu(t,!!r.multiple,e,!1)}}}var Fx=!1;function GN(t,e,r){if(Fx)return t(e,r);Fx=!0;try{var n=t(e);return n}finally{if(Fx=!1,(vu!==null||Ou!==null)&&(pm(),vu&&(e=vu,t=Ou,Ou=vu=null,pB(e),t)))for(e=0;e<t.length;e++)pB(t[e])}}function wh(t,e){var r=t.stateNode;if(r===null)return null;var n=r[xa]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ze(231,e,typeof r));return r}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_v=!1;if(zo)try{var Y0={};Object.defineProperty(Y0,"passive",{get:function(){_v=!0}}),window.addEventListener("test",Y0,Y0),window.removeEventListener("test",Y0,Y0)}catch{_v=!1}var SA=null,Zy=null,ug=null;function KN(){if(ug)return ug;var t,e=Zy,r=e.length,n,i="value"in SA?SA.value:SA.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return ug=i.slice(t,1<n?1-n:void 0)}function fg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jd(){return!0}function mB(){return!1}function wa(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(a):a[A]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jd:mB,this.isPropagationStopped=mB,this}return zr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jd)},persist:function(){},isPersistent:Jd}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=wa(_c),sd=zr({},_c,{view:0,detail:0}),LO=wa(sd),Rx,Dx,J0,sm=zr({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==J0&&(J0&&t.type==="mousemove"?(Rx=t.screenX-J0.screenX,Dx=t.screenY-J0.screenY):Dx=Rx=0,J0=t),Rx)},movementY:function(t){return"movementY"in t?t.movementY:Dx}}),xB=wa(sm),PO=zr({},sm,{dataTransfer:0}),QO=wa(PO),HO=zr({},sd,{relatedTarget:0}),kx=wa(HO),VO=zr({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),jO=wa(VO),GO=zr({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KO=wa(GO),zO=zr({},_c,{data:0}),vB=wa(zO),WO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qO[t])?!!e[t]:!1}function eE(){return YO}var JO=zr({},sd,{key:function(t){if(t.key){var e=WO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eE,charCode:function(t){return t.type==="keypress"?fg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$O=wa(JO),ZO=zr({},sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wB=wa(ZO),eL=zr({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eE}),tL=wa(eL),rL=zr({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),nL=wa(rL),iL=zr({},sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aL=wa(iL),sL=zr({},_c,{newState:0,oldState:0}),oL=wa(sL),AL=[9,13,27,32],tE=zo&&"CompositionEvent"in window,Qf=null;zo&&"documentMode"in document&&(Qf=document.documentMode);var lL=zo&&"TextEvent"in window&&!Qf,zN=zo&&(!tE||Qf&&8<Qf&&11>=Qf),yB=" ",EB=!1;function WN(t,e){switch(t){case"keyup":return AL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wu=!1;function cL(t,e){switch(t){case"compositionend":return XN(e);case"keypress":return e.which!==32?null:(EB=!0,yB);case"textInput":return t=e.data,t===yB&&EB?null:t;default:return null}}function uL(t,e){if(wu)return t==="compositionend"||!tE&&WN(t,e)?(t=KN(),ug=Zy=SA=null,wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zN&&e.locale!=="ko"?null:e.data;default:return null}}var fL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fL[t.type]:e==="textarea"}function qN(t,e,r,n){vu?Ou?Ou.push(n):Ou=[n]:vu=n,e=np(e,"onChange"),0<e.length&&(r=new am("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hf=null,yh=null;function hL(t){GR(t,0)}function om(t){var e=vf(t);if(PN(e))return t}function _B(t,e){if(t==="change")return e}var YN=!1;if(zo){var Ux;if(zo){var Mx="oninput"in document;if(!Mx){var BB=document.createElement("div");BB.setAttribute("oninput","return;"),Mx=typeof BB.oninput=="function"}Ux=Mx}else Ux=!1;YN=Ux&&(!document.documentMode||9<document.documentMode)}function bB(){Hf&&(Hf.detachEvent("onpropertychange",JN),yh=Hf=null)}function JN(t){if(t.propertyName==="value"&&om(yh)){var e=[];qN(e,yh,t,$y(t)),GN(hL,e)}}function dL(t,e,r){t==="focusin"?(bB(),Hf=e,yh=r,Hf.attachEvent("onpropertychange",JN)):t==="focusout"&&bB()}function gL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(yh)}function pL(t,e){if(t==="click")return om(e)}function mL(t,e){if(t==="input"||t==="change")return om(e)}function xL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Va=typeof Object.is=="function"?Object.is:xL;function Eh(t,e){if(Va(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xv.call(e,i)||!Va(t[i],e[i]))return!1}return!0}function TB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SB(t,e){var r=TB(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TB(r)}}function $N(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$N(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZN(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pg(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Pg(t.document)}return e}function rE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var vL=zo&&"documentMode"in document&&11>=document.documentMode,yu=null,Bv=null,Vf=null,bv=!1;function IB(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bv||yu==null||yu!==Pg(n)||(n=yu,"selectionStart"in n&&rE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vf&&Eh(Vf,n)||(Vf=n,n=np(Bv,"onSelect"),0<n.length&&(e=new am("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=yu)))}function kl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Eu={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},Ox={},eF={};zo&&(eF=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Bc(t){if(Ox[t])return Ox[t];if(!Eu[t])return t;var e=Eu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in eF)return Ox[t]=e[r];return t}var tF=Bc("animationend"),rF=Bc("animationiteration"),nF=Bc("animationstart"),wL=Bc("transitionrun"),yL=Bc("transitionstart"),EL=Bc("transitioncancel"),iF=Bc("transitionend"),aF=new Map,Tv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tv.push("scrollEnd");function js(t,e){aF.set(t,e),Cc(e,[t])}var Qg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},es=[],Cu=0,nE=0;function Am(){for(var t=Cu,e=nE=Cu=0;e<t;){var r=es[e];es[e++]=null;var n=es[e];es[e++]=null;var i=es[e];es[e++]=null;var a=es[e];if(es[e++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&sF(r,i,a)}}function lm(t,e,r,n){es[Cu++]=t,es[Cu++]=e,es[Cu++]=r,es[Cu++]=n,nE|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function iE(t,e,r,n){return lm(t,e,r,n),Hg(t)}function bc(t,e){return lm(t,null,null,e),Hg(t)}function sF(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Pa(r),t=a.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=r|536870912),a):null}function Hg(t){if(50<Jf)throw Jf=0,Xv=null,Error(ze(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var _u={};function CL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(t,e,r,n){return new CL(t,e,r,n)}function aE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Po(t,e){var r=t.alternate;return r===null?(r=Ra(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function oF(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function hg(t,e,r,n,i,a){var s=0;if(n=t,typeof t=="function")aE(t)&&(s=1);else if(typeof t=="string")s=S9(t,r,ao.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case dv:return t=Ra(31,r,e,i),t.elementType=dv,t.lanes=a,t;case pu:return $l(r.children,i,a,e);case bN:s=8,i|=24;break;case uv:return t=Ra(12,r,e,i|2),t.elementType=uv,t.lanes=a,t;case fv:return t=Ra(13,r,e,i),t.elementType=fv,t.lanes=a,t;case hv:return t=Ra(19,r,e,i),t.elementType=hv,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uo:s=10;break e;case TN:s=9;break e;case Ky:s=11;break e;case zy:s=14;break e;case vA:s=16,n=null;break e}s=29,r=Error(ze(130,t===null?"null":typeof t,"")),n=null}return e=Ra(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function $l(t,e,r,n){return t=Ra(7,t,n,e),t.lanes=r,t}function Lx(t,e,r){return t=Ra(6,t,null,e),t.lanes=r,t}function AF(t){var e=Ra(18,null,null,0);return e.stateNode=t,e}function Px(t,e,r){return e=Ra(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var NB=new WeakMap;function ss(t,e){if(typeof t=="object"&&t!==null){var r=NB.get(t);return r!==void 0?r:(e={value:t,source:e,stack:cB(e)},NB.set(t,e),e)}return{value:t,source:e,stack:cB(e)}}var Bu=[],bu=0,Vg=null,Ch=0,rs=[],ns=0,il=null,to=1,ro="";function Do(t,e){Bu[bu++]=Ch,Bu[bu++]=Vg,Vg=t,Ch=e}function lF(t,e,r){rs[ns++]=to,rs[ns++]=ro,rs[ns++]=il,il=t;var n=to;t=ro;var i=32-Pa(n)-1;n&=~(1<<i),r+=1;var a=32-Pa(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,to=1<<32-Pa(e)+i|r<<i|n,ro=a+t}else to=1<<a|r<<i|n,ro=t}function sE(t){t.return!==null&&(Do(t,1),lF(t,1,0))}function oE(t){for(;t===Vg;)Vg=Bu[--bu],Bu[bu]=null,Ch=Bu[--bu],Bu[bu]=null;for(;t===il;)il=rs[--ns],rs[ns]=null,ro=rs[--ns],rs[ns]=null,to=rs[--ns],rs[ns]=null}function cF(t,e){rs[ns++]=to,rs[ns++]=ro,rs[ns++]=il,to=e.id,ro=e.overflow,il=t}var fi=null,jr=null,sr=!1,VA=null,os=!1,Sv=Error(ze(519));function al(t){var e=Error(ze(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _h(ss(e,t)),Sv}function FB(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[ui]=t,e[xa]=n,r){case"dialog":Jt("cancel",e),Jt("close",e);break;case"iframe":case"object":case"embed":Jt("load",e);break;case"video":case"audio":for(r=0;r<Sh.length;r++)Jt(Sh[r],e);break;case"source":Jt("error",e);break;case"img":case"image":case"link":Jt("error",e),Jt("load",e);break;case"details":Jt("toggle",e);break;case"input":Jt("invalid",e),QN(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Jt("invalid",e);break;case"textarea":Jt("invalid",e),VN(e,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||zR(e.textContent,r)?(n.popover!=null&&(Jt("beforetoggle",e),Jt("toggle",e)),n.onScroll!=null&&Jt("scroll",e),n.onScrollEnd!=null&&Jt("scrollend",e),n.onClick!=null&&(e.onclick=Mo),e=!0):e=!1,e||al(t,!0)}function RB(t){for(fi=t.return;fi;)switch(fi.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:fi=fi.return}}function Wc(t){if(t!==fi)return!1;if(!sr)return RB(t),sr=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zv(t.type,t.memoizedProps)),r=!r),r&&jr&&al(t),RB(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));jr=xb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));jr=xb(t)}else e===27?(e=jr,ml(t.type)?(t=nw,nw=null,jr=t):jr=e):jr=fi?fs(t.stateNode.nextSibling):null;return!0}function Ac(){jr=fi=null,sr=!1}function Qx(){var t=VA;return t!==null&&(la===null?la=t:la.push.apply(la,t),VA=null),t}function _h(t){VA===null?VA=[t]:VA.push(t)}var Iv=ho(null),Tc=null,Oo=null;function EA(t,e,r){Mr(Iv,e._currentValue),e._currentValue=r}function Qo(t){t._currentValue=Iv.current,ei(Iv)}function Nv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Fv(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var A=a;a=i;for(var c=0;c<e.length;c++)if(A.context===e[c]){a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),Nv(a.return,r,t),n||(s=null);break e}a=A.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(ze(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Nv(s,r,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function C0(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(ze(387));if(s=s.memoizedProps,s!==null){var A=i.type;Va(i.pendingProps.value,s.value)||(t!==null?t.push(A):t=[A])}}else if(i===Ug.current){if(s=i.alternate,s===null)throw Error(ze(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Nh):t=[Nh])}i=i.return}t!==null&&Fv(e,t,r,n),e.flags|=262144}function jg(t){for(t=t.firstContext;t!==null;){if(!Va(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lc(t){Tc=t,Oo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function di(t){return uF(Tc,t)}function $d(t,e){return Tc===null&&lc(t),uF(t,e)}function uF(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},Oo===null){if(t===null)throw Error(ze(308));Oo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Oo=Oo.next=e;return r}var _L=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},BL=Kn.unstable_scheduleCallback,bL=Kn.unstable_NormalPriority,Fn={$$typeof:Uo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function AE(){return{controller:new _L,data:new Map,refCount:0}}function od(t){t.refCount--,t.refCount===0&&BL(bL,function(){t.controller.abort()})}var jf=null,Rv=0,e0=0,Lu=null;function TL(t,e){if(jf===null){var r=jf=[];Rv=0,e0=DE(),Lu={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Rv++,e.then(DB,DB),e}function DB(){if(--Rv===0&&jf!==null){Lu!==null&&(Lu.status="fulfilled");var t=jf;jf=null,e0=0,Lu=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function SL(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var kB=It.S;It.S=function(t,e){BR=Oa(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&TL(t,e),kB!==null&&kB(t,e)};var Zl=ho(null);function lE(){var t=Zl.current;return t!==null?t:kr.pooledCache}function dg(t,e){e===null?Mr(Zl,Zl.current):Mr(Zl,e.pool)}function fF(){var t=lE();return t===null?null:{parent:Fn._currentValue,pool:t}}var _0=Error(ze(460)),cE=Error(ze(474)),cm=Error(ze(542)),Gg={then:function(){}};function UB(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hF(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(Mo,Mo),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,OB(t),t;default:if(typeof e.status=="string")e.then(Mo,Mo);else{if(t=kr,t!==null&&100<t.shellSuspendCounter)throw Error(ze(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,OB(t),t}throw ec=e,_0}}function Hl(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ec=r,_0):r}}var ec=null;function MB(){if(ec===null)throw Error(ze(459));var t=ec;return ec=null,t}function OB(t){if(t===_0||t===cm)throw Error(ze(483))}var Pu=null,Bh=0;function Zd(t){var e=Bh;return Bh+=1,Pu===null&&(Pu=[]),hF(Pu,t,e)}function $0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function e1(t,e){throw e.$$typeof===dO?Error(ze(525)):(t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function dF(t){function e(k,R){if(t){var F=k.deletions;F===null?(k.deletions=[R],k.flags|=16):F.push(R)}}function r(k,R){if(!t)return null;for(;R!==null;)e(k,R),R=R.sibling;return null}function n(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function i(k,R){return k=Po(k,R),k.index=0,k.sibling=null,k}function a(k,R,F){return k.index=F,t?(F=k.alternate,F!==null?(F=F.index,F<R?(k.flags|=67108866,R):F):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function s(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,R,F,L){return R===null||R.tag!==6?(R=Lx(F,k.mode,L),R.return=k,R):(R=i(R,F),R.return=k,R)}function c(k,R,F,L){var W=F.type;return W===pu?h(k,R,F.props.children,L,F.key):R!==null&&(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===vA&&Hl(W)===R.type)?(R=i(R,F.props),$0(R,F),R.return=k,R):(R=hg(F.type,F.key,F.props,null,k.mode,L),$0(R,F),R.return=k,R)}function u(k,R,F,L){return R===null||R.tag!==4||R.stateNode.containerInfo!==F.containerInfo||R.stateNode.implementation!==F.implementation?(R=Px(F,k.mode,L),R.return=k,R):(R=i(R,F.children||[]),R.return=k,R)}function h(k,R,F,L,W){return R===null||R.tag!==7?(R=$l(F,k.mode,L,W),R.return=k,R):(R=i(R,F),R.return=k,R)}function m(k,R,F){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Lx(""+R,k.mode,F),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case zd:return F=hg(R.type,R.key,R.props,null,k.mode,F),$0(F,R),F.return=k,F;case mf:return R=Px(R,k.mode,F),R.return=k,R;case vA:return R=Hl(R),m(k,R,F)}if(xf(R)||q0(R))return R=$l(R,k.mode,F,null),R.return=k,R;if(typeof R.then=="function")return m(k,Zd(R),F);if(R.$$typeof===Uo)return m(k,$d(k,R),F);e1(k,R)}return null}function v(k,R,F,L){var W=R!==null?R.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return W!==null?null:A(k,R,""+F,L);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case zd:return F.key===W?c(k,R,F,L):null;case mf:return F.key===W?u(k,R,F,L):null;case vA:return F=Hl(F),v(k,R,F,L)}if(xf(F)||q0(F))return W!==null?null:h(k,R,F,L,null);if(typeof F.then=="function")return v(k,R,Zd(F),L);if(F.$$typeof===Uo)return v(k,R,$d(k,F),L);e1(k,F)}return null}function _(k,R,F,L,W){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return k=k.get(F)||null,A(R,k,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case zd:return k=k.get(L.key===null?F:L.key)||null,c(R,k,L,W);case mf:return k=k.get(L.key===null?F:L.key)||null,u(R,k,L,W);case vA:return L=Hl(L),_(k,R,F,L,W)}if(xf(L)||q0(L))return k=k.get(F)||null,h(R,k,L,W,null);if(typeof L.then=="function")return _(k,R,F,Zd(L),W);if(L.$$typeof===Uo)return _(k,R,F,$d(R,L),W);e1(R,L)}return null}function b(k,R,F,L){for(var W=null,P=null,N=R,M=R=0,D=null;N!==null&&M<F.length;M++){N.index>M?(D=N,N=null):D=N.sibling;var Q=v(k,N,F[M],L);if(Q===null){N===null&&(N=D);break}t&&N&&Q.alternate===null&&e(k,N),R=a(Q,R,M),P===null?W=Q:P.sibling=Q,P=Q,N=D}if(M===F.length)return r(k,N),sr&&Do(k,M),W;if(N===null){for(;M<F.length;M++)N=m(k,F[M],L),N!==null&&(R=a(N,R,M),P===null?W=N:P.sibling=N,P=N);return sr&&Do(k,M),W}for(N=n(N);M<F.length;M++)D=_(N,k,M,F[M],L),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?M:D.key),R=a(D,R,M),P===null?W=D:P.sibling=D,P=D);return t&&N.forEach(function(G){return e(k,G)}),sr&&Do(k,M),W}function T(k,R,F,L){if(F==null)throw Error(ze(151));for(var W=null,P=null,N=R,M=R=0,D=null,Q=F.next();N!==null&&!Q.done;M++,Q=F.next()){N.index>M?(D=N,N=null):D=N.sibling;var G=v(k,N,Q.value,L);if(G===null){N===null&&(N=D);break}t&&N&&G.alternate===null&&e(k,N),R=a(G,R,M),P===null?W=G:P.sibling=G,P=G,N=D}if(Q.done)return r(k,N),sr&&Do(k,M),W;if(N===null){for(;!Q.done;M++,Q=F.next())Q=m(k,Q.value,L),Q!==null&&(R=a(Q,R,M),P===null?W=Q:P.sibling=Q,P=Q);return sr&&Do(k,M),W}for(N=n(N);!Q.done;M++,Q=F.next())Q=_(N,k,M,Q.value,L),Q!==null&&(t&&Q.alternate!==null&&N.delete(Q.key===null?M:Q.key),R=a(Q,R,M),P===null?W=Q:P.sibling=Q,P=Q);return t&&N.forEach(function(j){return e(k,j)}),sr&&Do(k,M),W}function I(k,R,F,L){if(typeof F=="object"&&F!==null&&F.type===pu&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case zd:e:{for(var W=F.key;R!==null;){if(R.key===W){if(W=F.type,W===pu){if(R.tag===7){r(k,R.sibling),L=i(R,F.props.children),L.return=k,k=L;break e}}else if(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===vA&&Hl(W)===R.type){r(k,R.sibling),L=i(R,F.props),$0(L,F),L.return=k,k=L;break e}r(k,R);break}else e(k,R);R=R.sibling}F.type===pu?(L=$l(F.props.children,k.mode,L,F.key),L.return=k,k=L):(L=hg(F.type,F.key,F.props,null,k.mode,L),$0(L,F),L.return=k,k=L)}return s(k);case mf:e:{for(W=F.key;R!==null;){if(R.key===W)if(R.tag===4&&R.stateNode.containerInfo===F.containerInfo&&R.stateNode.implementation===F.implementation){r(k,R.sibling),L=i(R,F.children||[]),L.return=k,k=L;break e}else{r(k,R);break}else e(k,R);R=R.sibling}L=Px(F,k.mode,L),L.return=k,k=L}return s(k);case vA:return F=Hl(F),I(k,R,F,L)}if(xf(F))return b(k,R,F,L);if(q0(F)){if(W=q0(F),typeof W!="function")throw Error(ze(150));return F=W.call(F),T(k,R,F,L)}if(typeof F.then=="function")return I(k,R,Zd(F),L);if(F.$$typeof===Uo)return I(k,R,$d(k,F),L);e1(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,R!==null&&R.tag===6?(r(k,R.sibling),L=i(R,F),L.return=k,k=L):(r(k,R),L=Lx(F,k.mode,L),L.return=k,k=L),s(k)):r(k,R)}return function(k,R,F,L){try{Bh=0;var W=I(k,R,F,L);return Pu=null,W}catch(N){if(N===_0||N===cm)throw N;var P=Ra(29,N,null,k.mode);return P.lanes=L,P.return=k,P}finally{}}}var cc=dF(!0),gF=dF(!1),wA=!1;function uE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jA(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function GA(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Hg(t),sF(t,null,r),e}return lm(t,n,e,r),Hg(t)}function Gf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,DN(t,r)}}function Hx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var kv=!1;function Kf(){if(kv){var t=Lu;if(t!==null)throw t}}function zf(t,e,r,n){kv=!1;var i=t.updateQueue;wA=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,A=i.shared.pending;if(A!==null){i.shared.pending=null;var c=A,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var h=t.alternate;h!==null&&(h=h.updateQueue,A=h.lastBaseUpdate,A!==s&&(A===null?h.firstBaseUpdate=u:A.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;s=0,h=u=c=null,A=a;do{var v=A.lane&-536870913,_=v!==A.lane;if(_?(ir&v)===v:(n&v)===v){v!==0&&v===e0&&(kv=!0),h!==null&&(h=h.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var b=t,T=A;v=e;var I=r;switch(T.tag){case 1:if(b=T.payload,typeof b=="function"){m=b.call(I,m,v);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=T.payload,v=typeof b=="function"?b.call(I,m,v):b,v==null)break e;m=zr({},m,v);break e;case 2:wA=!0}}v=A.callback,v!==null&&(t.flags|=64,_&&(t.flags|=8192),_=i.callbacks,_===null?i.callbacks=[v]:_.push(v))}else _={lane:v,tag:A.tag,payload:A.payload,callback:A.callback,next:null},h===null?(u=h=_,c=m):h=h.next=_,s|=v;if(A=A.next,A===null){if(A=i.shared.pending,A===null)break;_=A,A=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),ol|=s,t.lanes=s,t.memoizedState=m}}function pF(t,e){if(typeof t!="function")throw Error(ze(191,t));t.call(e)}function mF(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pF(r[t],e)}var t0=ho(null),Kg=ho(0);function LB(t,e){t=Yo,Mr(Kg,t),Mr(t0,e),Yo=t|e.baseLanes}function Uv(){Mr(Kg,Yo),Mr(t0,t0.current)}function fE(){Yo=Kg.current,ei(t0),ei(Kg)}var ja=ho(null),us=null;function CA(t){var e=t.alternate;Mr(En,En.current&1),Mr(ja,t),us===null&&(e===null||t0.current!==null||e.memoizedState!==null)&&(us=t)}function Mv(t){Mr(En,En.current),Mr(ja,t),us===null&&(us=t)}function xF(t){t.tag===22?(Mr(En,En.current),Mr(ja,t),us===null&&(us=t)):_A()}function _A(){Mr(En,En.current),Mr(ja,ja.current)}function Na(t){ei(ja),us===t&&(us=null),ei(En)}var En=ho(0);function zg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||tw(r)||rw(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wo=0,Gt=null,Nr=null,In=null,Wg=!1,Qu=!1,uc=!1,Xg=0,bh=0,Hu=null,IL=0;function An(){throw Error(ze(321))}function hE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Va(t[r],e[r]))return!1;return!0}function dE(t,e,r,n,i,a){return Wo=a,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,It.H=t===null||t.memoizedState===null?qF:BE,uc=!1,a=r(n,i),uc=!1,Qu&&(a=wF(e,r,n,i)),vF(t),a}function vF(t){It.H=Th;var e=Nr!==null&&Nr.next!==null;if(Wo=0,In=Nr=Gt=null,Wg=!1,bh=0,Hu=null,e)throw Error(ze(300));t===null||Un||(t=t.dependencies,t!==null&&jg(t)&&(Un=!0))}function wF(t,e,r,n){Gt=t;var i=0;do{if(Qu&&(Hu=null),bh=0,Qu=!1,25<=i)throw Error(ze(301));if(i+=1,In=Nr=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}It.H=YF,a=e(r,n)}while(Qu);return a}function NL(){var t=It.H,e=t.useState()[0];return e=typeof e.then=="function"?Ad(e):e,t=t.useState()[0],(Nr!==null?Nr.memoizedState:null)!==t&&(Gt.flags|=1024),e}function gE(){var t=Xg!==0;return Xg=0,t}function pE(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function mE(t){if(Wg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Wg=!1}Wo=0,In=Nr=Gt=null,Qu=!1,bh=Xg=0,Hu=null}function Pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Gt.memoizedState=In=t:In=In.next=t,In}function Cn(){if(Nr===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=Nr.next;var e=In===null?Gt.memoizedState:In.next;if(e!==null)In=e,Nr=t;else{if(t===null)throw Gt.alternate===null?Error(ze(467)):Error(ze(310));Nr=t,t={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},In===null?Gt.memoizedState=In=t:In=In.next=t}return In}function um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ad(t){var e=bh;return bh+=1,Hu===null&&(Hu=[]),t=hF(Hu,t,e),e=Gt,(In===null?e.memoizedState:In.next)===null&&(e=e.alternate,It.H=e===null||e.memoizedState===null?qF:BE),t}function fm(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ad(t);if(t.$$typeof===Uo)return di(t)}throw Error(ze(438,String(t)))}function xE(t){var e=null,r=Gt.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=Gt.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=um(),Gt.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=gO;return e.index++,r}function Xo(t,e){return typeof e=="function"?e(t):e}function gg(t){var e=Cn();return vE(e,Nr,t)}function vE(t,e,r){var n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var A=s=null,c=null,u=e,h=!1;do{var m=u.lane&-536870913;if(m!==u.lane?(ir&m)===m:(Wo&m)===m){var v=u.revertLane;if(v===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===e0&&(h=!0);else if((Wo&v)===v){u=u.next,v===e0&&(h=!0);continue}else m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(A=c=m,s=a):c=c.next=m,Gt.lanes|=v,ol|=v;m=u.action,uc&&r(a,m),a=u.hasEagerState?u.eagerState:r(a,m)}else v={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(A=c=v,s=a):c=c.next=v,Gt.lanes|=m,ol|=m;u=u.next}while(u!==null&&u!==e);if(c===null?s=a:c.next=A,!Va(a,t.memoizedState)&&(Un=!0,h&&(r=Lu,r!==null)))throw r;t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Vx(t){var e=Cn(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Va(a,e.memoizedState)||(Un=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function yF(t,e,r){var n=Gt,i=Cn(),a=sr;if(a){if(r===void 0)throw Error(ze(407));r=r()}else r=e();var s=!Va((Nr||i).memoizedState,r);if(s&&(i.memoizedState=r,Un=!0),i=i.queue,wE(_F.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,r0(9,{destroy:void 0},CF.bind(null,n,i,r,e),null),kr===null)throw Error(ze(349));a||Wo&127||EF(n,e,r)}return r}function EF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Gt.updateQueue,e===null?(e=um(),Gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CF(t,e,r,n){e.value=r,e.getSnapshot=n,BF(e)&&bF(t)}function _F(t,e,r){return r(function(){BF(e)&&bF(t)})}function BF(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Va(t,r)}catch{return!0}}function bF(t){var e=bc(t,2);e!==null&&ga(e,t,2)}function Ov(t){var e=Pi();if(typeof t=="function"){var r=t;if(t=r(),uc){TA(!0);try{r()}finally{TA(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e}function TF(t,e,r,n){return t.baseState=r,vE(t,Nr,typeof n=="function"?n:Xo)}function FL(t,e,r,n,i){if(dm(t))throw Error(ze(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};It.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,SF(e,a)):(a.next=r.next,e.pending=r.next=a)}}function SF(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=It.T,s={};It.T=s;try{var A=r(i,n),c=It.S;c!==null&&c(s,A),PB(t,e,A)}catch(u){Lv(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),It.T=a}}else try{a=r(i,n),PB(t,e,a)}catch(u){Lv(t,e,u)}}function PB(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){QB(t,e,n)},function(n){return Lv(t,e,n)}):QB(t,e,r)}function QB(t,e,r){e.status="fulfilled",e.value=r,IF(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,SF(t,r)))}function Lv(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,IF(e),e=e.next;while(e!==n)}t.action=null}function IF(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function NF(t,e){return e}function HB(t,e){if(sr){var r=kr.formState;if(r!==null){e:{var n=Gt;if(sr){if(jr){t:{for(var i=jr,a=os;i.nodeType!==8;){if(!a){i=null;break t}if(i=fs(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){jr=fs(i.nextSibling),n=i.data==="F!";break e}}al(n)}n=!1}n&&(e=r[0])}}return r=Pi(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NF,lastRenderedState:e},r.queue=n,r=zF.bind(null,Gt,n),n.dispatch=r,n=Ov(!1),a=_E.bind(null,Gt,!1,n.queue),n=Pi(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=FL.bind(null,Gt,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function VB(t){var e=Cn();return FF(e,Nr,t)}function FF(t,e,r){if(e=vE(t,e,NF)[0],t=gg(Xo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Ad(e)}catch(s){throw s===_0?cm:s}else n=e;e=Cn();var i=e.queue,a=i.dispatch;return r!==e.memoizedState&&(Gt.flags|=2048,r0(9,{destroy:void 0},RL.bind(null,i,r),null)),[n,a,t]}function RL(t,e){t.action=e}function jB(t){var e=Cn(),r=Nr;if(r!==null)return FF(e,r,t);Cn(),e=e.memoizedState,r=Cn();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function r0(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=Gt.updateQueue,e===null&&(e=um(),Gt.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function RF(){return Cn().memoizedState}function pg(t,e,r,n){var i=Pi();Gt.flags|=t,i.memoizedState=r0(1|e,{destroy:void 0},r,n===void 0?null:n)}function hm(t,e,r,n){var i=Cn();n=n===void 0?null:n;var a=i.memoizedState.inst;Nr!==null&&n!==null&&hE(n,Nr.memoizedState.deps)?i.memoizedState=r0(e,a,r,n):(Gt.flags|=t,i.memoizedState=r0(1|e,a,r,n))}function GB(t,e){pg(8390656,8,t,e)}function wE(t,e){hm(2048,8,t,e)}function DL(t){Gt.flags|=4;var e=Gt.updateQueue;if(e===null)e=um(),Gt.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function DF(t){var e=Cn().memoizedState;return DL({ref:e,nextImpl:t}),function(){if(mr&2)throw Error(ze(440));return e.impl.apply(void 0,arguments)}}function kF(t,e){return hm(4,2,t,e)}function UF(t,e){return hm(4,4,t,e)}function MF(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OF(t,e,r){r=r!=null?r.concat([t]):null,hm(4,4,MF.bind(null,e,t),r)}function yE(){}function LF(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&hE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function PF(t,e){var r=Cn();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&hE(e,n[1]))return n[0];if(n=t(),uc){TA(!0);try{t()}finally{TA(!1)}}return r.memoizedState=[n,e],n}function EE(t,e,r){return r===void 0||Wo&1073741824&&!(ir&261930)?t.memoizedState=e:(t.memoizedState=r,t=TR(),Gt.lanes|=t,ol|=t,r)}function QF(t,e,r,n){return Va(r,e)?r:t0.current!==null?(t=EE(t,r,n),Va(t,e)||(Un=!0),t):!(Wo&42)||Wo&1073741824&&!(ir&261930)?(Un=!0,t.memoizedState=r):(t=TR(),Gt.lanes|=t,ol|=t,e)}function HF(t,e,r,n,i){var a=xr.p;xr.p=a!==0&&8>a?a:8;var s=It.T,A={};It.T=A,_E(t,!1,e,r);try{var c=i(),u=It.S;if(u!==null&&u(A,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=SL(c,n);Wf(t,e,h,Qa(t))}else Wf(t,e,n,Qa(t))}catch(m){Wf(t,e,{then:function(){},status:"rejected",reason:m},Qa())}finally{xr.p=a,s!==null&&A.types!==null&&(s.types=A.types),It.T=s}}function kL(){}function Pv(t,e,r,n){if(t.tag!==5)throw Error(ze(476));var i=VF(t).queue;HF(t,i,e,Jl,r===null?kL:function(){return jF(t),r(n)})}function VF(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Jl,baseState:Jl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:Jl},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function jF(t){var e=VF(t);e.next===null&&(e=t.alternate.memoizedState),Wf(t,e.next.queue,{},Qa())}function CE(){return di(Nh)}function GF(){return Cn().memoizedState}function KF(){return Cn().memoizedState}function UL(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Qa();t=jA(r);var n=GA(e,t,r);n!==null&&(ga(n,e,r),Gf(n,e,r)),e={cache:AE()},t.payload=e;return}e=e.return}}function ML(t,e,r){var n=Qa();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},dm(t)?WF(e,r):(r=iE(t,e,r,n),r!==null&&(ga(r,t,n),XF(r,e,n)))}function zF(t,e,r){var n=Qa();Wf(t,e,r,n)}function Wf(t,e,r,n){var i={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(dm(t))WF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,A=a(s,r);if(i.hasEagerState=!0,i.eagerState=A,Va(A,s))return lm(t,e,i,0),kr===null&&Am(),!1}catch{}finally{}if(r=iE(t,e,i,n),r!==null)return ga(r,t,n),XF(r,e,n),!0}return!1}function _E(t,e,r,n){if(n={lane:2,revertLane:DE(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},dm(t)){if(e)throw Error(ze(479))}else e=iE(t,r,n,2),e!==null&&ga(e,t,2)}function dm(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function WF(t,e){Qu=Wg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function XF(t,e,r){if(r&4194048){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,DN(t,r)}}var Th={readContext:di,use:fm,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};Th.useEffectEvent=An;var qF={readContext:di,use:fm,useCallback:function(t,e){return Pi().memoizedState=[t,e===void 0?null:e],t},useContext:di,useEffect:GB,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,pg(4194308,4,MF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return pg(4194308,4,t,e)},useInsertionEffect:function(t,e){pg(4,2,t,e)},useMemo:function(t,e){var r=Pi();e=e===void 0?null:e;var n=t();if(uc){TA(!0);try{t()}finally{TA(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=Pi();if(r!==void 0){var i=r(e);if(uc){TA(!0);try{r(e)}finally{TA(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=ML.bind(null,Gt,t),[n.memoizedState,t]},useRef:function(t){var e=Pi();return t={current:t},e.memoizedState=t},useState:function(t){t=Ov(t);var e=t.queue,r=zF.bind(null,Gt,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:yE,useDeferredValue:function(t,e){var r=Pi();return EE(r,t,e)},useTransition:function(){var t=Ov(!1);return t=HF.bind(null,Gt,t.queue,!0,!1),Pi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=Gt,i=Pi();if(sr){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=e(),kr===null)throw Error(ze(349));ir&127||EF(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,GB(_F.bind(null,n,a,t),[t]),n.flags|=2048,r0(9,{destroy:void 0},CF.bind(null,n,a,r,e),null),r},useId:function(){var t=Pi(),e=kr.identifierPrefix;if(sr){var r=ro,n=to;r=(n&~(1<<32-Pa(n)-1)).toString(32)+r,e="_"+e+"R_"+r,r=Xg++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=IL++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:CE,useFormState:HB,useActionState:HB,useOptimistic:function(t){var e=Pi();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=_E.bind(null,Gt,!0,r),r.dispatch=e,[t,e]},useMemoCache:xE,useCacheRefresh:function(){return Pi().memoizedState=UL.bind(null,Gt)},useEffectEvent:function(t){var e=Pi(),r={impl:t};return e.memoizedState=r,function(){if(mr&2)throw Error(ze(440));return r.impl.apply(void 0,arguments)}}},BE={readContext:di,use:fm,useCallback:LF,useContext:di,useEffect:wE,useImperativeHandle:OF,useInsertionEffect:kF,useLayoutEffect:UF,useMemo:PF,useReducer:gg,useRef:RF,useState:function(){return gg(Xo)},useDebugValue:yE,useDeferredValue:function(t,e){var r=Cn();return QF(r,Nr.memoizedState,t,e)},useTransition:function(){var t=gg(Xo)[0],e=Cn().memoizedState;return[typeof t=="boolean"?t:Ad(t),e]},useSyncExternalStore:yF,useId:GF,useHostTransitionStatus:CE,useFormState:VB,useActionState:VB,useOptimistic:function(t,e){var r=Cn();return TF(r,Nr,t,e)},useMemoCache:xE,useCacheRefresh:KF};BE.useEffectEvent=DF;var YF={readContext:di,use:fm,useCallback:LF,useContext:di,useEffect:wE,useImperativeHandle:OF,useInsertionEffect:kF,useLayoutEffect:UF,useMemo:PF,useReducer:Vx,useRef:RF,useState:function(){return Vx(Xo)},useDebugValue:yE,useDeferredValue:function(t,e){var r=Cn();return Nr===null?EE(r,t,e):QF(r,Nr.memoizedState,t,e)},useTransition:function(){var t=Vx(Xo)[0],e=Cn().memoizedState;return[typeof t=="boolean"?t:Ad(t),e]},useSyncExternalStore:yF,useId:GF,useHostTransitionStatus:CE,useFormState:jB,useActionState:jB,useOptimistic:function(t,e){var r=Cn();return Nr!==null?TF(r,Nr,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xE,useCacheRefresh:KF};YF.useEffectEvent=DF;function jx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:zr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qv={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qa(),i=jA(n);i.payload=e,r!=null&&(i.callback=r),e=GA(t,i,n),e!==null&&(ga(e,t,n),Gf(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qa(),i=jA(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=GA(t,i,n),e!==null&&(ga(e,t,n),Gf(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qa(),n=jA(r);n.tag=2,e!=null&&(n.callback=e),e=GA(t,n,r),e!==null&&(ga(e,t,r),Gf(e,t,r))}};function KB(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Eh(r,n)||!Eh(i,a):!0}function zB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qv.enqueueReplaceState(e,e.state,null)}function fc(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=zr({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}function JF(t){Qg(t)}function $F(t){console.error(t)}function ZF(t){Qg(t)}function qg(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function WB(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Hv(t,e,r){return r=jA(r),r.tag=3,r.payload={element:null},r.callback=function(){qg(t,e)},r}function eR(t){return t=jA(t),t.tag=3,t}function tR(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){WB(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){WB(e,r,n),typeof i!="function"&&(KA===null?KA=new Set([this]):KA.add(this));var A=n.stack;this.componentDidCatch(n.value,{componentStack:A!==null?A:""})})}function OL(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&C0(e,r,i,!0),r=ja.current,r!==null){switch(r.tag){case 31:case 13:return us===null?ep():r.alternate===null&&un===0&&(un=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Gg?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),e2(t,n,i)),!1;case 22:return r.flags|=65536,n===Gg?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),e2(t,n,i)),!1}throw Error(ze(435,r.tag))}return e2(t,n,i),ep(),!1}if(sr)return e=ja.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==Sv&&(t=Error(ze(422),{cause:n}),_h(ss(t,r)))):(n!==Sv&&(e=Error(ze(423),{cause:n}),_h(ss(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=ss(n,r),i=Hv(t.stateNode,n,i),Hx(t,i),un!==4&&(un=2)),!1;var a=Error(ze(520),{cause:n});if(a=ss(a,r),Yf===null?Yf=[a]:Yf.push(a),un!==4&&(un=2),e===null)return!0;n=ss(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=Hv(r.stateNode,n,t),Hx(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(KA===null||!KA.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=eR(i),tR(i,t,r,n),Hx(r,i),!1}r=r.return}while(r!==null);return!1}var bE=Error(ze(461)),Un=!1;function oi(t,e,r,n){e.child=t===null?gF(e,null,r,n):cc(e,t.child,r,n)}function XB(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var s={};for(var A in n)A!=="ref"&&(s[A]=n[A])}else s=n;return lc(e),n=dE(t,e,r,s,a,i),A=gE(),t!==null&&!Un?(pE(t,e,i),qo(t,e,i)):(sr&&A&&sE(e),e.flags|=1,oi(t,e,n,i),e.child)}function qB(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!aE(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,rR(t,e,a,n,i)):(t=hg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!TE(t,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Eh,r(s,n)&&t.ref===e.ref)return qo(t,e,i)}return e.flags|=1,t=Po(a,n),t.ref=e.ref,t.return=e,e.child=t}function rR(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Eh(a,n)&&t.ref===e.ref)if(Un=!1,e.pendingProps=n=a,TE(t,i))t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,qo(t,e,i)}return Vv(t,e,r,n,i)}function nR(t,e,r,n){var i=n.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|r:r,t!==null){for(n=e.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,e.child=null;return YB(t,e,a,r,n)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&dg(e,a!==null?a.cachePool:null),a!==null?LB(e,a):Uv(),xF(e);else return n=e.lanes=536870912,YB(t,e,a!==null?a.baseLanes|r:r,r,n)}else a!==null?(dg(e,a.cachePool),LB(e,a),_A(),e.memoizedState=null):(t!==null&&dg(e,null),Uv(),_A());return oi(t,e,i,r),e.child}function wf(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function YB(t,e,r,n,i){var a=lE();return a=a===null?null:{parent:Fn._currentValue,pool:a},e.memoizedState={baseLanes:r,cachePool:a},t!==null&&dg(e,null),Uv(),xF(e),t!==null&&C0(t,e,n,!0),e.childLanes=i,null}function mg(t,e){return e=Yg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function JB(t,e,r){return cc(e,t.child,null,r),t=mg(e,e.pendingProps),t.flags|=2,Na(e),e.memoizedState=null,t}function LL(t,e,r){var n=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(sr){if(n.mode==="hidden")return t=mg(e,n),e.lanes=536870912,wf(null,t);if(Mv(e),(t=jr)?(t=qR(t,os),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:to,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},r=AF(t),r.return=e,e.child=r,fi=e,jr=null)):t=null,t===null)throw al(e);return e.lanes=536870912,null}return mg(e,n)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(Mv(e),i)if(e.flags&256)e.flags&=-257,e=JB(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(ze(558));else if(Un||C0(t,e,r,!1),i=(r&t.childLanes)!==0,Un||i){if(n=kr,n!==null&&(s=kN(n,r),s!==0&&s!==a.retryLane))throw a.retryLane=s,bc(t,s),ga(n,t,s),bE;ep(),e=JB(t,e,r)}else t=a.treeContext,jr=fs(s.nextSibling),fi=e,sr=!0,VA=null,os=!1,t!==null&&cF(e,t),e=mg(e,n),e.flags|=4096;return e}return t=Po(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function xg(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(ze(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function Vv(t,e,r,n,i){return lc(e),r=dE(t,e,r,n,void 0,i),n=gE(),t!==null&&!Un?(pE(t,e,i),qo(t,e,i)):(sr&&n&&sE(e),e.flags|=1,oi(t,e,r,i),e.child)}function $B(t,e,r,n,i,a){return lc(e),e.updateQueue=null,r=wF(e,n,r,i),vF(t),n=gE(),t!==null&&!Un?(pE(t,e,a),qo(t,e,a)):(sr&&n&&sE(e),e.flags|=1,oi(t,e,r,a),e.child)}function ZB(t,e,r,n,i){if(lc(e),e.stateNode===null){var a=_u,s=r.contextType;typeof s=="object"&&s!==null&&(a=di(s)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Qv,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},uE(e),s=r.contextType,a.context=typeof s=="object"&&s!==null?di(s):_u,a.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(jx(e,r,s,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Qv.enqueueReplaceState(a,a.state,null),zf(e,n,a,i),Kf(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var A=e.memoizedProps,c=fc(r,A);a.props=c;var u=a.context,h=r.contextType;s=_u,typeof h=="object"&&h!==null&&(s=di(h));var m=r.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",A=e.pendingProps!==A,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(A||u!==s)&&zB(e,a,n,s),wA=!1;var v=e.memoizedState;a.state=v,zf(e,n,a,i),Kf(),u=e.memoizedState,A||v!==u||wA?(typeof m=="function"&&(jx(e,r,m,n),u=e.memoizedState),(c=wA||KB(e,r,c,n,v,u,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=s,n=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Dv(t,e),s=e.memoizedProps,h=fc(r,s),a.props=h,m=e.pendingProps,v=a.context,u=r.contextType,c=_u,typeof u=="object"&&u!==null&&(c=di(u)),A=r.getDerivedStateFromProps,(u=typeof A=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||v!==c)&&zB(e,a,n,c),wA=!1,v=e.memoizedState,a.state=v,zf(e,n,a,i),Kf();var _=e.memoizedState;s!==m||v!==_||wA||t!==null&&t.dependencies!==null&&jg(t.dependencies)?(typeof A=="function"&&(jx(e,r,A,n),_=e.memoizedState),(h=wA||KB(e,r,h,n,v,_,c)||t!==null&&t.dependencies!==null&&jg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=c,n=h):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,xg(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=cc(e,t.child,null,i),e.child=cc(e,null,r,i)):oi(t,e,r,i),e.memoizedState=a.state,t=e.child):t=qo(t,e,i),t}function eb(t,e,r,n){return Ac(),e.flags|=256,oi(t,e,r,n),e.child}var Gx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kx(t){return{baseLanes:t,cachePool:fF()}}function zx(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=Ua),t}function iR(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(En.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(sr){if(i?CA(e):_A(),(t=jr)?(t=qR(t,os),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:to,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},r=AF(t),r.return=e,e.child=r,fi=e,jr=null)):t=null,t===null)throw al(e);return rw(t)?e.lanes=32:e.lanes=536870912,null}var A=n.children;return n=n.fallback,i?(_A(),i=e.mode,A=Yg({mode:"hidden",children:A},i),n=$l(n,i,r,null),A.return=e,n.return=e,A.sibling=n,e.child=A,n=e.child,n.memoizedState=Kx(r),n.childLanes=zx(t,s,r),e.memoizedState=Gx,wf(null,n)):(CA(e),jv(e,A))}var c=t.memoizedState;if(c!==null&&(A=c.dehydrated,A!==null)){if(a)e.flags&256?(CA(e),e.flags&=-257,e=Wx(t,e,r)):e.memoizedState!==null?(_A(),e.child=t.child,e.flags|=128,e=null):(_A(),A=n.fallback,i=e.mode,n=Yg({mode:"visible",children:n.children},i),A=$l(A,i,r,null),A.flags|=2,n.return=e,A.return=e,n.sibling=A,e.child=n,cc(e,t.child,null,r),n=e.child,n.memoizedState=Kx(r),n.childLanes=zx(t,s,r),e.memoizedState=Gx,e=wf(null,n));else if(CA(e),rw(A)){if(s=A.nextSibling&&A.nextSibling.dataset,s)var u=s.dgst;s=u,n=Error(ze(419)),n.stack="",n.digest=s,_h({value:n,source:null,stack:null}),e=Wx(t,e,r)}else if(Un||C0(t,e,r,!1),s=(r&t.childLanes)!==0,Un||s){if(s=kr,s!==null&&(n=kN(s,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,bc(t,n),ga(s,t,n),bE;tw(A)||ep(),e=Wx(t,e,r)}else tw(A)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,jr=fs(A.nextSibling),fi=e,sr=!0,VA=null,os=!1,t!==null&&cF(e,t),e=jv(e,n.children),e.flags|=4096);return e}return i?(_A(),A=n.fallback,i=e.mode,c=t.child,u=c.sibling,n=Po(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?A=Po(u,A):(A=$l(A,i,r,null),A.flags|=2),A.return=e,n.return=e,n.sibling=A,e.child=n,wf(null,n),n=e.child,A=t.child.memoizedState,A===null?A=Kx(r):(i=A.cachePool,i!==null?(c=Fn._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=fF(),A={baseLanes:A.baseLanes|r,cachePool:i}),n.memoizedState=A,n.childLanes=zx(t,s,r),e.memoizedState=Gx,wf(t.child,n)):(CA(e),r=t.child,t=r.sibling,r=Po(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function jv(t,e){return e=Yg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Yg(t,e){return t=Ra(22,t,null,e),t.lanes=0,t}function Wx(t,e,r){return cc(e,t.child,null,r),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Nv(t.return,e,r)}function Xx(t,e,r,n,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.treeForkCount=a)}function aR(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var s=En.current,A=(s&2)!==0;if(A?(s=s&1|2,e.flags|=128):s&=1,Mr(En,s),oi(t,e,n,r),n=sr?Ch:0,!A&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tb(t,r,e);else if(t.tag===19)tb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&zg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Xx(e,!1,i,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Xx(e,!0,r,null,a,n);break;case"together":Xx(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function qo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(r&e.childLanes))if(t!==null){if(C0(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,r=Po(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Po(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function TE(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&jg(t)))}function PL(t,e,r){switch(e.tag){case 3:Mg(e,e.stateNode.containerInfo),EA(e,Fn,t.memoizedState.cache),Ac();break;case 27:case 5:mv(e);break;case 4:Mg(e,e.stateNode.containerInfo);break;case 10:EA(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mv(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(CA(e),e.flags|=128,null):r&e.child.childLanes?iR(t,e,r):(CA(e),t=qo(t,e,r),t!==null?t.sibling:null);CA(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(C0(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return aR(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mr(En,En.current),n)break;return null;case 22:return e.lanes=0,nR(t,e,r,e.pendingProps);case 24:EA(e,Fn,t.memoizedState.cache)}return qo(t,e,r)}function sR(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Un=!0;else{if(!TE(t,r)&&!(e.flags&128))return Un=!1,PL(t,e,r);Un=!!(t.flags&131072)}else Un=!1,sr&&e.flags&1048576&&lF(e,Ch,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(t=Hl(e.elementType),e.type=t,typeof t=="function")aE(t)?(n=fc(t,n),e.tag=1,e=ZB(null,e,t,n,r)):(e.tag=0,e=Vv(null,e,t,n,r));else{if(t!=null){var i=t.$$typeof;if(i===Ky){e.tag=11,e=XB(null,e,t,n,r);break e}else if(i===zy){e.tag=14,e=qB(null,e,t,n,r);break e}}throw e=gv(t)||t,Error(ze(306,e,""))}}return e;case 0:return Vv(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=fc(n,e.pendingProps),ZB(t,e,n,i,r);case 3:e:{if(Mg(e,e.stateNode.containerInfo),t===null)throw Error(ze(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,Dv(t,e),zf(e,n,null,r);var s=e.memoizedState;if(n=s.cache,EA(e,Fn,n),n!==a.cache&&Fv(e,[Fn],r,!0),Kf(),n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=eb(t,e,n,r);break e}else if(n!==i){i=ss(Error(ze(424)),e),_h(i),e=eb(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jr=fs(t.firstChild),fi=e,sr=!0,VA=null,os=!0,r=gF(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ac(),n===i){e=qo(t,e,r);break e}oi(t,e,n,r)}e=e.child}return e;case 26:return xg(t,e),t===null?(r=yb(e.type,null,e.pendingProps,null))?e.memoizedState=r:sr||(r=e.type,t=e.pendingProps,n=ip(HA.current).createElement(r),n[ui]=e,n[xa]=t,pi(n,r,t),Zn(n),e.stateNode=n):e.memoizedState=yb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return mv(e),t===null&&sr&&(n=e.stateNode=YR(e.type,e.pendingProps,HA.current),fi=e,os=!0,i=jr,ml(e.type)?(nw=i,jr=fs(n.firstChild)):jr=i),oi(t,e,e.pendingProps.children,r),xg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&sr&&((i=n=jr)&&(n=g9(n,e.type,e.pendingProps,os),n!==null?(e.stateNode=n,fi=e,jr=fs(n.firstChild),os=!1,i=!0):i=!1),i||al(e)),mv(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,n=a.children,Zv(i,a)?n=null:s!==null&&Zv(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=dE(t,e,NL,null,null,r),Nh._currentValue=i),xg(t,e),oi(t,e,n,r),e.child;case 6:return t===null&&sr&&((t=r=jr)&&(r=p9(r,e.pendingProps,os),r!==null?(e.stateNode=r,fi=e,jr=null,t=!0):t=!1),t||al(e)),null;case 13:return iR(t,e,r);case 4:return Mg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=cc(e,null,n,r):oi(t,e,n,r),e.child;case 11:return XB(t,e,e.type,e.pendingProps,r);case 7:return oi(t,e,e.pendingProps,r),e.child;case 8:return oi(t,e,e.pendingProps.children,r),e.child;case 12:return oi(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,EA(e,e.type,n.value),oi(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,lc(e),i=di(i),n=n(i),e.flags|=1,oi(t,e,n,r),e.child;case 14:return qB(t,e,e.type,e.pendingProps,r);case 15:return rR(t,e,e.type,e.pendingProps,r);case 19:return aR(t,e,r);case 31:return LL(t,e,r);case 22:return nR(t,e,r,e.pendingProps);case 24:return lc(e),n=di(Fn),t===null?(i=lE(),i===null&&(i=kr,a=AE(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},uE(e),EA(e,Fn,i)):(t.lanes&r&&(Dv(t,e),zf(e,null,null,r),Kf()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),EA(e,Fn,n)):(n=a.cache,EA(e,Fn,n),n!==i.cache&&Fv(e,[Fn],r,!0))),oi(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(ze(156,e.tag))}function Bo(t){t.flags|=4}function qx(t,e,r,n,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(NR())t.flags|=8192;else throw ec=Gg,cE}else t.flags&=-16777217}function rb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ZR(e))if(NR())t.flags|=8192;else throw ec=Gg,cE}function t1(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?FN():536870912,t.lanes|=e,n0|=e)}function Z0(t,e){if(!sr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function QL(t,e,r){var n=e.pendingProps;switch(oE(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return Vr(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Qo(Fn),Ju(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?Bo(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qx())),Vr(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Bo(e),a!==null?(Vr(e),rb(e,a)):(Vr(e),qx(e,i,null,n,r))):a?a!==t.memoizedState?(Bo(e),Vr(e),rb(e,a)):(Vr(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Bo(e),Vr(e),qx(e,i,t,n,r)),null;case 27:if(Og(e),r=HA.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Bo(e);else{if(!n){if(e.stateNode===null)throw Error(ze(166));return Vr(e),null}t=ao.current,Wc(e)?FB(e):(t=YR(i,n,r),e.stateNode=t,Bo(e))}return Vr(e),null;case 5:if(Og(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Bo(e);else{if(!n){if(e.stateNode===null)throw Error(ze(166));return Vr(e),null}if(a=ao.current,Wc(e))FB(e);else{var s=ip(HA.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?s.createElement(i,{is:n.is}):s.createElement(i)}}a[ui]=e,a[xa]=n;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(pi(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Bo(e)}}return Vr(e),qx(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Bo(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ze(166));if(t=HA.current,Wc(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=fi,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[ui]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||zR(t.nodeValue,r)),t||al(e,!0)}else t=ip(t).createTextNode(n),t[ui]=e,e.stateNode=t}return Vr(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(n=Wc(e),r!==null){if(t===null){if(!n)throw Error(ze(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(557));t[ui]=e}else Ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),t=!1}else r=Qx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(Na(e),e):(Na(e),null);if(e.flags&128)throw Error(ze(558))}return Vr(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Wc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[ui]=e}else Ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),i=!1}else i=Qx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Na(e),e):(Na(e),null)}return Na(e),e.flags&128?(e.lanes=r,e):(r=n!==null,t=t!==null&&t.memoizedState!==null,r&&(n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),t1(e,e.updateQueue),Vr(e),null);case 4:return Ju(),t===null&&kE(e.stateNode.containerInfo),Vr(e),null;case 10:return Qo(e.type),Vr(e),null;case 19:if(ei(En),n=e.memoizedState,n===null)return Vr(e),null;if(i=(e.flags&128)!==0,a=n.rendering,a===null)if(i)Z0(n,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zg(t),a!==null){for(e.flags|=128,Z0(n,!1),t=a.updateQueue,e.updateQueue=t,t1(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)oF(r,t),r=r.sibling;return Mr(En,En.current&1|2),sr&&Do(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Oa()>$g&&(e.flags|=128,i=!0,Z0(n,!1),e.lanes=4194304)}else{if(!i)if(t=zg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,t1(e,t),Z0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!sr)return Vr(e),null}else 2*Oa()-n.renderingStartTime>$g&&r!==536870912&&(e.flags|=128,i=!0,Z0(n,!1),e.lanes=4194304);n.isBackwards?(a.sibling=e.child,e.child=a):(t=n.last,t!==null?t.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Oa(),t.sibling=null,r=En.current,Mr(En,i?r&1|2:r&1),sr&&Do(e,n.treeForkCount),t):(Vr(e),null);case 22:case 23:return Na(e),fE(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),r=e.updateQueue,r!==null&&t1(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&ei(Zl),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Qo(Fn),Vr(e),null;case 25:return null;case 30:return null}throw Error(ze(156,e.tag))}function HL(t,e){switch(oE(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(Fn),Ju(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Og(e),null;case 31:if(e.memoizedState!==null){if(Na(e),e.alternate===null)throw Error(ze(340));Ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Na(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));Ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ei(En),null;case 4:return Ju(),null;case 10:return Qo(e.type),null;case 22:case 23:return Na(e),fE(),t!==null&&ei(Zl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Qo(Fn),null;case 25:return null;default:return null}}function oR(t,e){switch(oE(e),e.tag){case 3:Qo(Fn),Ju();break;case 26:case 27:case 5:Og(e);break;case 4:Ju();break;case 31:e.memoizedState!==null&&Na(e);break;case 13:Na(e);break;case 19:ei(En);break;case 10:Qo(e.type);break;case 22:case 23:Na(e),fE(),t!==null&&ei(Zl);break;case 24:Qo(Fn)}}function ld(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(A){Br(e,e.return,A)}}function sl(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var s=n.inst,A=s.destroy;if(A!==void 0){s.destroy=void 0,i=e;var c=r,u=A;try{u()}catch(h){Br(i,c,h)}}}n=n.next}while(n!==a)}}catch(h){Br(e,e.return,h)}}function AR(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{mF(e,r)}catch(n){Br(t,t.return,n)}}}function lR(t,e,r){r.props=fc(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){Br(t,e,n)}}function Xf(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){Br(t,e,i)}}function no(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){Br(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){Br(t,e,i)}else r.current=null}function cR(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){Br(t,t.return,i)}}function Yx(t,e,r){try{var n=t.stateNode;l9(n,t.type,r,e),n[xa]=e}catch(i){Br(t,t.return,i)}}function uR(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ml(t.type)||t.tag===4}function Jx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ml(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mo));else if(n!==4&&(n===27&&ml(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(Gv(t,e,r),t=t.sibling;t!==null;)Gv(t,e,r),t=t.sibling}function Jg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&ml(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Jg(t,e,r),t=t.sibling;t!==null;)Jg(t,e,r),t=t.sibling}function fR(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);pi(e,n,r),e[ui]=t,e[xa]=r}catch(a){Br(t,t.return,a)}}var ko=!1,Nn=!1,$x=!1,nb=typeof WeakSet=="function"?WeakSet:Set,$n=null;function VL(t,e){if(t=t.containerInfo,Jv=Ap,t=ZN(t),rE(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,A=-1,c=-1,u=0,h=0,m=t,v=null;t:for(;;){for(var _;m!==r||i!==0&&m.nodeType!==3||(A=s+i),m!==a||n!==0&&m.nodeType!==3||(c=s+n),m.nodeType===3&&(s+=m.nodeValue.length),(_=m.firstChild)!==null;)v=m,m=_;for(;;){if(m===t)break t;if(v===r&&++u===i&&(A=s),v===a&&++h===n&&(c=s),(_=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=_}r=A===-1||c===-1?null:{start:A,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($v={focusedElem:t,selectionRange:r},Ap=!1,$n=e;$n!==null;)if(e=$n,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$n=t;else for(;$n!==null;){switch(e=$n,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)i=t[r],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var b=fc(r.type,i);t=n.getSnapshotBeforeUpdate(b,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(T){Br(r,r.return,T)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)ew(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ew(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ze(163))}if(t=e.sibling,t!==null){t.return=e.return,$n=t;break}$n=e.return}}function hR(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:To(t,r),n&4&&ld(5,r);break;case 1:if(To(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(s){Br(r,r.return,s)}else{var i=fc(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Br(r,r.return,s)}}n&64&&AR(r),n&512&&Xf(r,r.return);break;case 3:if(To(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{mF(t,e)}catch(s){Br(r,r.return,s)}}break;case 27:e===null&&n&4&&fR(r);case 26:case 5:To(t,r),e===null&&n&4&&cR(r),n&512&&Xf(r,r.return);break;case 12:To(t,r);break;case 31:To(t,r),n&4&&pR(t,r);break;case 13:To(t,r),n&4&&mR(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=JL.bind(null,r),m9(t,r))));break;case 22:if(n=r.memoizedState!==null||ko,!n){e=e!==null&&e.memoizedState!==null||Nn,i=ko;var a=Nn;ko=n,(Nn=e)&&!a?Fo(t,r,(r.subtreeFlags&8772)!==0):To(t,r),ko=i,Nn=a}break;case 30:break;default:To(t,r)}}function dR(t){var e=t.alternate;e!==null&&(t.alternate=null,dR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Yy(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jr=null,oa=!1;function bo(t,e,r){for(r=r.child;r!==null;)gR(t,e,r),r=r.sibling}function gR(t,e,r){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(rd,r)}catch{}switch(r.tag){case 26:Nn||no(r,e),bo(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Nn||no(r,e);var n=Jr,i=oa;ml(r.type)&&(Jr=r.stateNode,oa=!1),bo(t,e,r),$f(r.stateNode),Jr=n,oa=i;break;case 5:Nn||no(r,e);case 6:if(n=Jr,i=oa,Jr=null,bo(t,e,r),Jr=n,oa=i,Jr!==null)if(oa)try{(Jr.nodeType===9?Jr.body:Jr.nodeName==="HTML"?Jr.ownerDocument.body:Jr).removeChild(r.stateNode)}catch(a){Br(r,e,a)}else try{Jr.removeChild(r.stateNode)}catch(a){Br(r,e,a)}break;case 18:Jr!==null&&(oa?(t=Jr,pb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),o0(t)):pb(Jr,r.stateNode));break;case 4:n=Jr,i=oa,Jr=r.stateNode.containerInfo,oa=!0,bo(t,e,r),Jr=n,oa=i;break;case 0:case 11:case 14:case 15:sl(2,r,e),Nn||sl(4,r,e),bo(t,e,r);break;case 1:Nn||(no(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&lR(r,e,n)),bo(t,e,r);break;case 21:bo(t,e,r);break;case 22:Nn=(n=Nn)||r.memoizedState!==null,bo(t,e,r),Nn=n;break;default:bo(t,e,r)}}function pR(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{o0(t)}catch(r){Br(e,e.return,r)}}}function mR(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{o0(t)}catch(r){Br(e,e.return,r)}}function jL(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new nb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new nb),e;default:throw Error(ze(435,t.tag))}}function r1(t,e){var r=jL(t);e.forEach(function(n){if(!r.has(n)){r.add(n);var i=$L.bind(null,t,n);n.then(i,i)}})}function ia(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,s=e,A=s;e:for(;A!==null;){switch(A.tag){case 27:if(ml(A.type)){Jr=A.stateNode,oa=!1;break e}break;case 5:Jr=A.stateNode,oa=!1;break e;case 3:case 4:Jr=A.stateNode.containerInfo,oa=!0;break e}A=A.return}if(Jr===null)throw Error(ze(160));gR(a,s,i),Jr=null,oa=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)xR(e,t),e=e.sibling}var Us=null;function xR(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ia(e,t),aa(t),n&4&&(sl(3,t,t.return),ld(3,t),sl(5,t,t.return));break;case 1:ia(e,t),aa(t),n&512&&(Nn||r===null||no(r,r.return)),n&64&&ko&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Us;if(ia(e,t),aa(t),n&512&&(Nn||r===null||no(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[ad]||a[ui]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),pi(a,n,r),a[ui]=t,Zn(a),n=a;break e;case"link":var s=Cb("link","href",i).get(n+(r.href||""));if(s){for(var A=0;A<s.length;A++)if(a=s[A],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(A,1);break t}}a=i.createElement(n),pi(a,n,r),i.head.appendChild(a);break;case"meta":if(s=Cb("meta","content",i).get(n+(r.content||""))){for(A=0;A<s.length;A++)if(a=s[A],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(A,1);break t}}a=i.createElement(n),pi(a,n,r),i.head.appendChild(a);break;default:throw Error(ze(468,n))}a[ui]=t,Zn(a),n=a}t.stateNode=n}else _b(i,t.type,t.stateNode);else t.stateNode=Eb(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?_b(i,t.type,t.stateNode):Eb(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Yx(t,t.memoizedProps,r.memoizedProps)}break;case 27:ia(e,t),aa(t),n&512&&(Nn||r===null||no(r,r.return)),r!==null&&n&4&&Yx(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ia(e,t),aa(t),n&512&&(Nn||r===null||no(r,r.return)),t.flags&32){i=t.stateNode;try{Zu(i,"")}catch(b){Br(t,t.return,b)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Yx(t,i,r!==null?r.memoizedProps:i)),n&1024&&($x=!0);break;case 6:if(ia(e,t),aa(t),n&4){if(t.stateNode===null)throw Error(ze(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(b){Br(t,t.return,b)}}break;case 3:if(yg=null,i=Us,Us=ap(e.containerInfo),ia(e,t),Us=i,aa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{o0(e.containerInfo)}catch(b){Br(t,t.return,b)}$x&&($x=!1,vR(t));break;case 4:n=Us,Us=ap(t.stateNode.containerInfo),ia(e,t),aa(t),Us=n;break;case 12:ia(e,t),aa(t);break;case 31:ia(e,t),aa(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,r1(t,n)));break;case 13:ia(e,t),aa(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(gm=Oa()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,r1(t,n)));break;case 22:i=t.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=ko,h=Nn;if(ko=u||i,Nn=h||c,ia(e,t),Nn=h,ko=u,aa(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||c||ko||Nn||Vl(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){c=r=e;try{if(a=c.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{A=c.stateNode;var m=c.memoizedProps.style,v=m!=null&&m.hasOwnProperty("display")?m.display:null;A.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(b){Br(c,c.return,b)}}}else if(e.tag===6){if(r===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(b){Br(c,c.return,b)}}}else if(e.tag===18){if(r===null){c=e;try{var _=c.stateNode;i?mb(_,!0):mb(c.stateNode,!1)}catch(b){Br(c,c.return,b)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,r1(t,r))));break;case 19:ia(e,t),aa(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,r1(t,n)));break;case 30:break;case 21:break;default:ia(e,t),aa(t)}}function aa(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(uR(n)){r=n;break}n=n.return}if(r==null)throw Error(ze(160));switch(r.tag){case 27:var i=r.stateNode,a=Jx(t);Jg(t,a,i);break;case 5:var s=r.stateNode;r.flags&32&&(Zu(s,""),r.flags&=-33);var A=Jx(t);Jg(t,A,s);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Jx(t);Gv(t,u,c);break;default:throw Error(ze(161))}}catch(h){Br(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vR(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;vR(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function To(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)hR(t,e.alternate,e),e=e.sibling}function Vl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sl(4,e,e.return),Vl(e);break;case 1:no(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&lR(e,e.return,r),Vl(e);break;case 27:$f(e.stateNode);case 26:case 5:no(e,e.return),Vl(e);break;case 22:e.memoizedState===null&&Vl(e);break;case 30:Vl(e);break;default:Vl(e)}t=t.sibling}}function Fo(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Fo(i,a,r),ld(4,a);break;case 1:if(Fo(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Br(n,n.return,u)}if(n=a,i=n.updateQueue,i!==null){var A=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)pF(c[i],A)}catch(u){Br(n,n.return,u)}}r&&s&64&&AR(a),Xf(a,a.return);break;case 27:fR(a);case 26:case 5:Fo(i,a,r),r&&n===null&&s&4&&cR(a),Xf(a,a.return);break;case 12:Fo(i,a,r);break;case 31:Fo(i,a,r),r&&s&4&&pR(i,a);break;case 13:Fo(i,a,r),r&&s&4&&mR(i,a);break;case 22:a.memoizedState===null&&Fo(i,a,r),Xf(a,a.return);break;case 30:break;default:Fo(i,a,r)}e=e.sibling}}function SE(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&od(r))}function IE(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&od(t))}function Ss(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wR(t,e,r,n),e=e.sibling}function wR(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ss(t,e,r,n),i&2048&&ld(9,e);break;case 1:Ss(t,e,r,n);break;case 3:Ss(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&od(t)));break;case 12:if(i&2048){Ss(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,A=a.onPostCommit;typeof A=="function"&&A(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Br(e,e.return,c)}}else Ss(t,e,r,n);break;case 31:Ss(t,e,r,n);break;case 13:Ss(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Ss(t,e,r,n):qf(t,e):a._visibility&2?Ss(t,e,r,n):(a._visibility|=2,ou(t,e,r,n,(e.subtreeFlags&10256)!==0||!1)),i&2048&&SE(s,e);break;case 24:Ss(t,e,r,n),i&2048&&IE(e.alternate,e);break;default:Ss(t,e,r,n)}}function ou(t,e,r,n,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,A=r,c=n,u=s.flags;switch(s.tag){case 0:case 11:case 15:ou(a,s,A,c,i),ld(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?ou(a,s,A,c,i):qf(a,s):(h._visibility|=2,ou(a,s,A,c,i)),i&&u&2048&&SE(s.alternate,s);break;case 24:ou(a,s,A,c,i),i&&u&2048&&IE(s.alternate,s);break;default:ou(a,s,A,c,i)}e=e.sibling}}function qf(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:qf(r,n),i&2048&&SE(n.alternate,n);break;case 24:qf(r,n),i&2048&&IE(n.alternate,n);break;default:qf(r,n)}e=e.sibling}}var yf=8192;function Xc(t,e,r){if(t.subtreeFlags&yf)for(t=t.child;t!==null;)yR(t,e,r),t=t.sibling}function yR(t,e,r){switch(t.tag){case 26:Xc(t,e,r),t.flags&yf&&t.memoizedState!==null&&I9(r,Us,t.memoizedState,t.memoizedProps);break;case 5:Xc(t,e,r);break;case 3:case 4:var n=Us;Us=ap(t.stateNode.containerInfo),Xc(t,e,r),Us=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=yf,yf=16777216,Xc(t,e,r),yf=n):Xc(t,e,r));break;default:Xc(t,e,r)}}function ER(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ef(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];$n=n,_R(n,t)}ER(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)CR(t),t=t.sibling}function CR(t){switch(t.tag){case 0:case 11:case 15:ef(t),t.flags&2048&&sl(9,t,t.return);break;case 3:ef(t);break;case 12:ef(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,vg(t)):ef(t);break;default:ef(t)}}function vg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];$n=n,_R(n,t)}ER(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sl(8,e,e.return),vg(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,vg(e));break;default:vg(e)}t=t.sibling}}function _R(t,e){for(;$n!==null;){var r=$n;switch(r.tag){case 0:case 11:case 15:sl(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:od(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,$n=n;else e:for(r=t;$n!==null;){n=$n;var i=n.sibling,a=n.return;if(dR(n),n===r){$n=null;break e}if(i!==null){i.return=a,$n=i;break e}$n=a}}}var GL={getCacheForType:function(t){var e=di(Fn),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return di(Fn).controller.signal}},KL=typeof WeakMap=="function"?WeakMap:Map,mr=0,kr=null,$t=null,ir=0,_r=0,Ia=null,IA=!1,B0=!1,NE=!1,Yo=0,un=0,ol=0,tc=0,FE=0,Ua=0,n0=0,Yf=null,la=null,Kv=!1,gm=0,BR=0,$g=1/0,Zg=null,KA=null,Hn=0,zA=null,i0=null,Ho=0,zv=0,Wv=null,bR=null,Jf=0,Xv=null;function Qa(){return mr&2&&ir!==0?ir&-ir:It.T!==null?DE():UN()}function TR(){if(Ua===0)if(!(ir&536870912)||sr){var t=Xd;Xd<<=1,!(Xd&3932160)&&(Xd=262144),Ua=t}else Ua=536870912;return t=ja.current,t!==null&&(t.flags|=32),Ua}function ga(t,e,r){(t===kr&&(_r===2||_r===9)||t.cancelPendingCommit!==null)&&(a0(t,0),NA(t,ir,Ua,!1)),id(t,r),(!(mr&2)||t!==kr)&&(t===kr&&(!(mr&2)&&(tc|=r),un===4&&NA(t,ir,Ua,!1)),go(t))}function SR(t,e,r){if(mr&6)throw Error(ze(327));var n=!r&&(e&127)===0&&(e&t.expiredLanes)===0||nd(t,e),i=n?XL(t,e):Zx(t,e,!0),a=n;do{if(i===0){B0&&!n&&NA(t,e,0,!1);break}else{if(r=t.current.alternate,a&&!zL(r)){i=Zx(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var A=t;i=Yf;var c=A.current.memoizedState.isDehydrated;if(c&&(a0(A,s).flags|=256),s=Zx(A,s,!1),s!==2){if(NE&&!c){A.errorRecoveryDisabledLanes|=a,tc|=a,i=4;break e}a=la,la=i,a!==null&&(la===null?la=a:la.push.apply(la,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){a0(t,0),NA(t,e,0,!0);break}e:{switch(n=t,a=i,a){case 0:case 1:throw Error(ze(345));case 4:if((e&4194048)!==e)break;case 6:NA(n,e,Ua,!IA);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(ze(329))}if((e&62914560)===e&&(i=gm+300-Oa(),10<i)){if(NA(n,e,Ua,!IA),im(n,0,!0)!==0)break e;Ho=e,n.timeoutHandle=XR(ib.bind(null,n,r,la,Zg,Kv,e,Ua,tc,n0,IA,a,"Throttled",-0,0),i);break e}ib(n,r,la,Zg,Kv,e,Ua,tc,n0,IA,a,null,-0,0)}}break}while(!0);go(t)}function ib(t,e,r,n,i,a,s,A,c,u,h,m,v,_){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mo},yR(e,a,m);var b=(a&62914560)===a?gm-Oa():(a&4194048)===a?BR-Oa():0;if(b=N9(m,b),b!==null){Ho=a,t.cancelPendingCommit=b(sb.bind(null,t,e,a,r,n,i,s,A,c,h,m,null,v,_)),NA(t,a,s,!u);return}}sb(t,e,a,r,n,i,s,A,c)}function zL(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Va(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function NA(t,e,r,n){e&=~FE,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-Pa(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&RN(t,r,e)}function pm(){return mr&6?!0:(cd(0),!1)}function RE(){if($t!==null){if(_r===0)var t=$t.return;else t=$t,Oo=Tc=null,mE(t),Pu=null,Bh=0,t=$t;for(;t!==null;)oR(t.alternate,t),t=t.return;$t=null}}function a0(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,f9(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ho=0,RE(),kr=t,$t=r=Po(t.current,null),ir=e,_r=0,Ia=null,IA=!1,B0=nd(t,e),NE=!1,n0=Ua=FE=tc=ol=un=0,la=Yf=null,Kv=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Pa(n),a=1<<i;e|=t[i],n&=~a}return Yo=e,Am(),r}function IR(t,e){Gt=null,It.H=Th,e===_0||e===cm?(e=MB(),_r=3):e===cE?(e=MB(),_r=4):_r=e===bE?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ia=e,$t===null&&(un=1,qg(t,ss(e,t.current)))}function NR(){var t=ja.current;return t===null?!0:(ir&4194048)===ir?us===null:(ir&62914560)===ir||ir&536870912?t===us:!1}function FR(){var t=It.H;return It.H=Th,t===null?Th:t}function RR(){var t=It.A;return It.A=GL,t}function ep(){un=4,IA||(ir&4194048)!==ir&&ja.current!==null||(B0=!0),!(ol&134217727)&&!(tc&134217727)||kr===null||NA(kr,ir,Ua,!1)}function Zx(t,e,r){var n=mr;mr|=2;var i=FR(),a=RR();(kr!==t||ir!==e)&&(Zg=null,a0(t,e)),e=!1;var s=un;e:do try{if(_r!==0&&$t!==null){var A=$t,c=Ia;switch(_r){case 8:RE(),s=6;break e;case 3:case 2:case 9:case 6:ja.current===null&&(e=!0);var u=_r;if(_r=0,Ia=null,Tu(t,A,c,u),r&&B0){s=0;break e}break;default:u=_r,_r=0,Ia=null,Tu(t,A,c,u)}}WL(),s=un;break}catch(h){IR(t,h)}while(!0);return e&&t.shellSuspendCounter++,Oo=Tc=null,mr=n,It.H=i,It.A=a,$t===null&&(kr=null,ir=0,Am()),s}function WL(){for(;$t!==null;)DR($t)}function XL(t,e){var r=mr;mr|=2;var n=FR(),i=RR();kr!==t||ir!==e?(Zg=null,$g=Oa()+500,a0(t,e)):B0=nd(t,e);e:do try{if(_r!==0&&$t!==null){e=$t;var a=Ia;t:switch(_r){case 1:_r=0,Ia=null,Tu(t,e,a,1);break;case 2:case 9:if(UB(a)){_r=0,Ia=null,ab(e);break}e=function(){_r!==2&&_r!==9||kr!==t||(_r=7),go(t)},a.then(e,e);break e;case 3:_r=7;break e;case 4:_r=5;break e;case 7:UB(a)?(_r=0,Ia=null,ab(e)):(_r=0,Ia=null,Tu(t,e,a,7));break;case 5:var s=null;switch($t.tag){case 26:s=$t.memoizedState;case 5:case 27:var A=$t;if(s?ZR(s):A.stateNode.complete){_r=0,Ia=null;var c=A.sibling;if(c!==null)$t=c;else{var u=A.return;u!==null?($t=u,mm(u)):$t=null}break t}}_r=0,Ia=null,Tu(t,e,a,5);break;case 6:_r=0,Ia=null,Tu(t,e,a,6);break;case 8:RE(),un=6;break e;default:throw Error(ze(462))}}qL();break}catch(h){IR(t,h)}while(!0);return Oo=Tc=null,It.H=n,It.A=i,mr=r,$t!==null?0:(kr=null,ir=0,Am(),un)}function qL(){for(;$t!==null&&!xO();)DR($t)}function DR(t){var e=sR(t.alternate,t,Yo);t.memoizedProps=t.pendingProps,e===null?mm(t):$t=e}function ab(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=$B(r,e,e.pendingProps,e.type,void 0,ir);break;case 11:e=$B(r,e,e.pendingProps,e.type.render,e.ref,ir);break;case 5:mE(e);default:oR(r,e),e=$t=oF(e,Yo),e=sR(r,e,Yo)}t.memoizedProps=t.pendingProps,e===null?mm(t):$t=e}function Tu(t,e,r,n){Oo=Tc=null,mE(e),Pu=null,Bh=0;var i=e.return;try{if(OL(t,i,e,r,ir)){un=1,qg(t,ss(r,t.current)),$t=null;return}}catch(a){if(i!==null)throw $t=i,a;un=1,qg(t,ss(r,t.current)),$t=null;return}e.flags&32768?(sr||n===1?t=!0:B0||ir&536870912?t=!1:(IA=t=!0,(n===2||n===9||n===3||n===6)&&(n=ja.current,n!==null&&n.tag===13&&(n.flags|=16384))),kR(e,t)):mm(e)}function mm(t){var e=t;do{if(e.flags&32768){kR(e,IA);return}t=e.return;var r=QL(e.alternate,e,Yo);if(r!==null){$t=r;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);un===0&&(un=5)}function kR(t,e){do{var r=HL(t.alternate,t);if(r!==null){r.flags&=32767,$t=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){$t=t;return}$t=t=r}while(t!==null);un=6,$t=null}function sb(t,e,r,n,i,a,s,A,c){t.cancelPendingCommit=null;do xm();while(Hn!==0);if(mr&6)throw Error(ze(327));if(e!==null){if(e===t.current)throw Error(ze(177));if(a=e.lanes|e.childLanes,a|=nE,SO(t,r,a,s,A,c),t===kr&&($t=kr=null,ir=0),i0=e,zA=t,Ho=r,zv=a,Wv=i,bR=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ZL(Lg,function(){return PR(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=It.T,It.T=null,i=xr.p,xr.p=2,s=mr,mr|=4;try{VL(t,e,r)}finally{mr=s,xr.p=i,It.T=n}}Hn=1,UR(),MR(),OR()}}function UR(){if(Hn===1){Hn=0;var t=zA,e=i0,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=It.T,It.T=null;var n=xr.p;xr.p=2;var i=mr;mr|=4;try{xR(e,t);var a=$v,s=ZN(t.containerInfo),A=a.focusedElem,c=a.selectionRange;if(s!==A&&A&&A.ownerDocument&&$N(A.ownerDocument.documentElement,A)){if(c!==null&&rE(A)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in A)A.selectionStart=u,A.selectionEnd=Math.min(h,A.value.length);else{var m=A.ownerDocument||document,v=m&&m.defaultView||window;if(v.getSelection){var _=v.getSelection(),b=A.textContent.length,T=Math.min(c.start,b),I=c.end===void 0?T:Math.min(c.end,b);!_.extend&&T>I&&(s=I,I=T,T=s);var k=SB(A,T),R=SB(A,I);if(k&&R&&(_.rangeCount!==1||_.anchorNode!==k.node||_.anchorOffset!==k.offset||_.focusNode!==R.node||_.focusOffset!==R.offset)){var F=m.createRange();F.setStart(k.node,k.offset),_.removeAllRanges(),T>I?(_.addRange(F),_.extend(R.node,R.offset)):(F.setEnd(R.node,R.offset),_.addRange(F))}}}}for(m=[],_=A;_=_.parentNode;)_.nodeType===1&&m.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<m.length;A++){var L=m[A];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Ap=!!Jv,$v=Jv=null}finally{mr=i,xr.p=n,It.T=r}}t.current=e,Hn=2}}function MR(){if(Hn===2){Hn=0;var t=zA,e=i0,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=It.T,It.T=null;var n=xr.p;xr.p=2;var i=mr;mr|=4;try{hR(t,e.alternate,e)}finally{mr=i,xr.p=n,It.T=r}}Hn=3}}function OR(){if(Hn===4||Hn===3){Hn=0,vO();var t=zA,e=i0,r=Ho,n=bR;e.subtreeFlags&10256||e.flags&10256?Hn=5:(Hn=0,i0=zA=null,LR(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(KA=null),qy(r),e=e.stateNode,La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(rd,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=It.T,i=xr.p,xr.p=2,It.T=null;try{for(var a=t.onRecoverableError,s=0;s<n.length;s++){var A=n[s];a(A.value,{componentStack:A.stack})}}finally{It.T=e,xr.p=i}}Ho&3&&xm(),go(t),i=t.pendingLanes,r&261930&&i&42?t===Xv?Jf++:(Jf=0,Xv=t):Jf=0,cd(0)}}function LR(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,od(e)))}function xm(){return UR(),MR(),OR(),PR()}function PR(){if(Hn!==5)return!1;var t=zA,e=zv;zv=0;var r=qy(Ho),n=It.T,i=xr.p;try{xr.p=32>r?32:r,It.T=null,r=Wv,Wv=null;var a=zA,s=Ho;if(Hn=0,i0=zA=null,Ho=0,mr&6)throw Error(ze(331));var A=mr;if(mr|=4,CR(a.current),wR(a,a.current,s,r),mr=A,cd(0,!1),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(rd,a)}catch{}return!0}finally{xr.p=i,It.T=n,LR(t,e)}}function ob(t,e,r){e=ss(r,e),e=Hv(t.stateNode,e,2),t=GA(t,e,2),t!==null&&(id(t,2),go(t))}function Br(t,e,r){if(t.tag===3)ob(t,t,r);else for(;e!==null;){if(e.tag===3){ob(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(KA===null||!KA.has(n))){t=ss(r,t),r=eR(2),n=GA(e,r,2),n!==null&&(tR(r,n,e,t),id(n,2),go(n));break}}e=e.return}}function e2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new KL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(NE=!0,i.add(r),t=YL.bind(null,t,e,r),e.then(t,t))}function YL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,kr===t&&(ir&r)===r&&(un===4||un===3&&(ir&62914560)===ir&&300>Oa()-gm?!(mr&2)&&a0(t,0):FE|=r,n0===ir&&(n0=0)),go(t)}function QR(t,e){e===0&&(e=FN()),t=bc(t,e),t!==null&&(id(t,e),go(t))}function JL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),QR(t,r)}function $L(t,e){var r=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(ze(314))}n!==null&&n.delete(e),QR(t,r)}function ZL(t,e){return Wy(t,e)}var tp=null,Au=null,qv=!1,rp=!1,t2=!1,FA=0;function go(t){t!==Au&&t.next===null&&(Au===null?tp=Au=t:Au=Au.next=t),rp=!0,qv||(qv=!0,t9())}function cd(t,e){if(!t2&&rp){t2=!0;do for(var r=!1,n=tp;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,A=n.pingedLanes;a=(1<<31-Pa(42|t)+1)-1,a&=i&~(s&~A),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,Ab(n,a))}else a=ir,a=im(n,n===kr?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||nd(n,a)||(r=!0,Ab(n,a));n=n.next}while(r);t2=!1}}function e9(){HR()}function HR(){rp=qv=!1;var t=0;FA!==0&&u9()&&(t=FA);for(var e=Oa(),r=null,n=tp;n!==null;){var i=n.next,a=VR(n,e);a===0?(n.next=null,r===null?tp=i:r.next=i,i===null&&(Au=r)):(r=n,(t!==0||a&3)&&(rp=!0)),n=i}Hn!==0&&Hn!==5||cd(t),FA!==0&&(FA=0)}function VR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Pa(a),A=1<<s,c=i[s];c===-1?(!(A&r)||A&n)&&(i[s]=TO(A,e)):c<=e&&(t.expiredLanes|=A),a&=~A}if(e=kr,r=ir,r=im(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(_r===2||_r===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Ix(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||nd(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&Ix(n),qy(r)){case 2:case 8:r=IN;break;case 32:r=Lg;break;case 268435456:r=NN;break;default:r=Lg}return n=jR.bind(null,t),r=Wy(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&Ix(n),t.callbackPriority=2,t.callbackNode=null,2}function jR(t,e){if(Hn!==0&&Hn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(xm()&&t.callbackNode!==r)return null;var n=ir;return n=im(t,t===kr?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(SR(t,n,e),VR(t,Oa()),t.callbackNode!=null&&t.callbackNode===r?jR.bind(null,t):null)}function Ab(t,e){if(xm())return null;SR(t,e,!0)}function t9(){h9(function(){mr&6?Wy(SN,e9):HR()})}function DE(){if(FA===0){var t=e0;t===0&&(t=Wd,Wd<<=1,!(Wd&261888)&&(Wd=256)),FA=t}return FA}function lb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cg(""+t)}function cb(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function r9(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=lb((i[xa]||null).action),s=n.submitter;s&&(e=(e=s[xa]||null)?lb(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var A=new am("action","action",null,n,i);t.push({event:A,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(FA!==0){var c=s?cb(i,s):new FormData(i);Pv(r,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(A.preventDefault(),c=s?cb(i,s):new FormData(i),Pv(r,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var r2=0;r2<Tv.length;r2++){var n2=Tv[r2],n9=n2.toLowerCase(),i9=n2[0].toUpperCase()+n2.slice(1);js(n9,"on"+i9)}js(tF,"onAnimationEnd");js(rF,"onAnimationIteration");js(nF,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(wL,"onTransitionRun");js(yL,"onTransitionStart");js(EL,"onTransitionCancel");js(iF,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sh));function GR(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var A=n[s],c=A.instance,u=A.currentTarget;if(A=A.listener,c!==a&&i.isPropagationStopped())break e;a=A,i.currentTarget=u;try{a(i)}catch(h){Qg(h)}i.currentTarget=null,a=c}else for(s=0;s<n.length;s++){if(A=n[s],c=A.instance,u=A.currentTarget,A=A.listener,c!==a&&i.isPropagationStopped())break e;a=A,i.currentTarget=u;try{a(i)}catch(h){Qg(h)}i.currentTarget=null,a=c}}}}function Jt(t,e){var r=e[vv];r===void 0&&(r=e[vv]=new Set);var n=t+"__bubble";r.has(n)||(KR(e,t,2,!1),r.add(n))}function i2(t,e,r){var n=0;e&&(n|=4),KR(r,t,n,e)}var n1="_reactListening"+Math.random().toString(36).slice(2);function kE(t){if(!t[n1]){t[n1]=!0,MN.forEach(function(r){r!=="selectionchange"&&(a9.has(r)||i2(r,!1,t),i2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[n1]||(e[n1]=!0,i2("selectionchange",!1,e))}}function KR(t,e,r,n){switch(i8(e)){case 2:var i=D9;break;case 8:i=k9;break;default:i=LE}r=i.bind(null,e,r,t),i=void 0,!_v||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function a2(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var A=n.stateNode.containerInfo;if(A===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;A!==null;){if(s=xu(A),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){n=a=s;continue e}A=A.parentNode}}n=n.return}GN(function(){var u=a,h=$y(r),m=[];e:{var v=aF.get(t);if(v!==void 0){var _=am,b=t;switch(t){case"keypress":if(fg(r)===0)break e;case"keydown":case"keyup":_=$O;break;case"focusin":b="focus",_=kx;break;case"focusout":b="blur",_=kx;break;case"beforeblur":case"afterblur":_=kx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=xB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=QO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=tL;break;case tF:case rF:case nF:_=jO;break;case iF:_=nL;break;case"scroll":case"scrollend":_=LO;break;case"wheel":_=aL;break;case"copy":case"cut":case"paste":_=KO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=wB;break;case"toggle":case"beforetoggle":_=oL}var T=(e&4)!==0,I=!T&&(t==="scroll"||t==="scrollend"),k=T?v!==null?v+"Capture":null:v;T=[];for(var R=u,F;R!==null;){var L=R;if(F=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||F===null||k===null||(L=wh(R,k),L!=null&&T.push(Ih(R,L,F))),I)break;R=R.return}0<T.length&&(v=new _(v,b,null,r,h),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",v&&r!==Cv&&(b=r.relatedTarget||r.fromElement)&&(xu(b)||b[y0]))break e;if((_||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,_?(b=r.relatedTarget||r.toElement,_=u,b=b?xu(b):null,b!==null&&(I=td(b),T=b.tag,b!==I||T!==5&&T!==27&&T!==6)&&(b=null)):(_=null,b=u),_!==b)){if(T=xB,L="onMouseLeave",k="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(T=wB,L="onPointerLeave",k="onPointerEnter",R="pointer"),I=_==null?v:vf(_),F=b==null?v:vf(b),v=new T(L,R+"leave",_,r,h),v.target=I,v.relatedTarget=F,L=null,xu(h)===u&&(T=new T(k,R+"enter",b,r,h),T.target=F,T.relatedTarget=I,L=T),I=L,_&&b)t:{for(T=s9,k=_,R=b,F=0,L=k;L;L=T(L))F++;L=0;for(var W=R;W;W=T(W))L++;for(;0<F-L;)k=T(k),F--;for(;0<L-F;)R=T(R),L--;for(;F--;){if(k===R||R!==null&&k===R.alternate){T=k;break t}k=T(k),R=T(R)}T=null}else T=null;_!==null&&ub(m,v,_,T,!1),b!==null&&I!==null&&ub(m,I,b,T,!0)}}e:{if(v=u?vf(u):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var P=_B;else if(CB(v))if(YN)P=mL;else{P=gL;var N=dL}else _=v.nodeName,!_||_.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?u&&Jy(u.elementType)&&(P=_B):P=pL;if(P&&(P=P(t,u))){qN(m,P,r,h);break e}N&&N(t,v,u),t==="focusout"&&u&&v.type==="number"&&u.memoizedProps.value!=null&&Ev(v,"number",v.value)}switch(N=u?vf(u):window,t){case"focusin":(CB(N)||N.contentEditable==="true")&&(yu=N,Bv=u,Vf=null);break;case"focusout":Vf=Bv=yu=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,IB(m,r,h);break;case"selectionchange":if(vL)break;case"keydown":case"keyup":IB(m,r,h)}var M;if(tE)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else wu?WN(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(zN&&r.locale!=="ko"&&(wu||D!=="onCompositionStart"?D==="onCompositionEnd"&&wu&&(M=KN()):(SA=h,Zy="value"in SA?SA.value:SA.textContent,wu=!0)),N=np(u,D),0<N.length&&(D=new vB(D,t,null,r,h),m.push({event:D,listeners:N}),M?D.data=M:(M=XN(r),M!==null&&(D.data=M)))),(M=lL?cL(t,r):uL(t,r))&&(D=np(u,"onBeforeInput"),0<D.length&&(N=new vB("onBeforeInput","beforeinput",null,r,h),m.push({event:N,listeners:D}),N.data=M)),r9(m,t,u,r,h)}GR(m,e)})}function Ih(t,e,r){return{instance:t,listener:e,currentTarget:r}}function np(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=wh(t,r),i!=null&&n.unshift(Ih(t,i,a)),i=wh(t,e),i!=null&&n.push(Ih(t,i,a))),t.tag===3)return n;t=t.return}return[]}function s9(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ub(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var A=r,c=A.alternate,u=A.stateNode;if(A=A.tag,c!==null&&c===n)break;A!==5&&A!==26&&A!==27||u===null||(c=u,i?(u=wh(r,a),u!=null&&s.unshift(Ih(r,u,c))):i||(u=wh(r,a),u!=null&&s.push(Ih(r,u,c)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var o9=/\r\n?/g,A9=/\u0000|\uFFFD/g;function fb(t){return(typeof t=="string"?t:""+t).replace(o9,`
`).replace(A9,"")}function zR(t,e){return e=fb(e),fb(t)===e}function Ir(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Zu(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Zu(t,""+n);break;case"className":Yd(t,"class",n);break;case"tabIndex":Yd(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Yd(t,r,n);break;case"style":jN(t,n,a);break;case"data":if(e!=="object"){Yd(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=cg(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&Ir(t,e,"name",i.name,i,null),Ir(t,e,"formEncType",i.formEncType,i,null),Ir(t,e,"formMethod",i.formMethod,i,null),Ir(t,e,"formTarget",i.formTarget,i,null)):(Ir(t,e,"encType",i.encType,i,null),Ir(t,e,"method",i.method,i,null),Ir(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=cg(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=Mo);break;case"onScroll":n!=null&&Jt("scroll",t);break;case"onScrollEnd":n!=null&&Jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ze(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=cg(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Jt("beforetoggle",t),Jt("toggle",t),lg(t,"popover",n);break;case"xlinkActuate":_o(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":_o(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":_o(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":_o(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":_o(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":_o(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":_o(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":_o(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":_o(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lg(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=MO.get(r)||r,lg(t,r,n))}}function Yv(t,e,r,n,i,a){switch(r){case"style":jN(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ze(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=r}}break;case"children":typeof n=="string"?Zu(t,n):(typeof n=="number"||typeof n=="bigint")&&Zu(t,""+n);break;case"onScroll":n!=null&&Jt("scroll",t);break;case"onScrollEnd":n!=null&&Jt("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ON.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[xa]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):lg(t,r,n)}}}function pi(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",t),Jt("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:Ir(t,e,a,s,r,null)}}i&&Ir(t,e,"srcSet",r.srcSet,r,null),n&&Ir(t,e,"src",r.src,r,null);return;case"input":Jt("invalid",t);var A=a=s=i=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var h=r[n];if(h!=null)switch(n){case"name":i=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":A=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ze(137,e));break;default:Ir(t,e,n,h,r,null)}}QN(t,a,A,c,u,s,i,!1);return;case"select":Jt("invalid",t),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(A=r[i],A!=null))switch(i){case"value":a=A;break;case"defaultValue":s=A;break;case"multiple":n=A;default:Ir(t,e,i,A,r,null)}e=a,r=s,t.multiple=!!n,e!=null?Mu(t,!!n,e,!1):r!=null&&Mu(t,!!n,r,!0);return;case"textarea":Jt("invalid",t),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(A=r[s],A!=null))switch(s){case"value":n=A;break;case"defaultValue":i=A;break;case"children":a=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(ze(91));break;default:Ir(t,e,s,A,r,null)}VN(t,n,i,a);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ir(t,e,c,n,r,null)}return;case"dialog":Jt("beforetoggle",t),Jt("toggle",t),Jt("cancel",t),Jt("close",t);break;case"iframe":case"object":Jt("load",t);break;case"video":case"audio":for(n=0;n<Sh.length;n++)Jt(Sh[n],t);break;case"image":Jt("error",t),Jt("load",t);break;case"details":Jt("toggle",t);break;case"embed":case"source":case"link":Jt("error",t),Jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:Ir(t,e,u,n,r,null)}return;default:if(Jy(e)){for(h in r)r.hasOwnProperty(h)&&(n=r[h],n!==void 0&&Yv(t,e,h,n,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(n=r[A],n!=null&&Ir(t,e,A,n,r,null))}function l9(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,A=null,c=null,u=null,h=null;for(_ in r){var m=r[_];if(r.hasOwnProperty(_)&&m!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(_)||Ir(t,e,_,null,n,m)}}for(var v in n){var _=n[v];if(m=r[v],n.hasOwnProperty(v)&&(_!=null||m!=null))switch(v){case"type":a=_;break;case"name":i=_;break;case"checked":u=_;break;case"defaultChecked":h=_;break;case"value":s=_;break;case"defaultValue":A=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(ze(137,e));break;default:_!==m&&Ir(t,e,v,_,n,m)}}yv(t,s,A,c,u,h,a,i);return;case"select":_=s=A=v=null;for(a in r)if(c=r[a],r.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":_=c;default:n.hasOwnProperty(a)||Ir(t,e,a,null,n,c)}for(i in n)if(a=n[i],c=r[i],n.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":v=a;break;case"defaultValue":A=a;break;case"multiple":s=a;default:a!==c&&Ir(t,e,i,a,n,c)}e=A,r=s,n=_,v!=null?Mu(t,!!r,v,!1):!!n!=!!r&&(e!=null?Mu(t,!!r,e,!0):Mu(t,!!r,r?[]:"",!1));return;case"textarea":_=v=null;for(A in r)if(i=r[A],r.hasOwnProperty(A)&&i!=null&&!n.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ir(t,e,A,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":v=i;break;case"defaultValue":_=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ze(91));break;default:i!==a&&Ir(t,e,s,i,n,a)}HN(t,v,_);return;case"option":for(var b in r)if(v=r[b],r.hasOwnProperty(b)&&v!=null&&!n.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:Ir(t,e,b,null,n,v)}for(c in n)if(v=n[c],_=r[c],n.hasOwnProperty(c)&&v!==_&&(v!=null||_!=null))switch(c){case"selected":t.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ir(t,e,c,v,n,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in r)v=r[T],r.hasOwnProperty(T)&&v!=null&&!n.hasOwnProperty(T)&&Ir(t,e,T,null,n,v);for(u in n)if(v=n[u],_=r[u],n.hasOwnProperty(u)&&v!==_&&(v!=null||_!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(ze(137,e));break;default:Ir(t,e,u,v,n,_)}return;default:if(Jy(e)){for(var I in r)v=r[I],r.hasOwnProperty(I)&&v!==void 0&&!n.hasOwnProperty(I)&&Yv(t,e,I,void 0,n,v);for(h in n)v=n[h],_=r[h],!n.hasOwnProperty(h)||v===_||v===void 0&&_===void 0||Yv(t,e,h,v,n,_);return}}for(var k in r)v=r[k],r.hasOwnProperty(k)&&v!=null&&!n.hasOwnProperty(k)&&Ir(t,e,k,null,n,v);for(m in n)v=n[m],_=r[m],!n.hasOwnProperty(m)||v===_||v==null&&_==null||Ir(t,e,m,v,n,_)}function hb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c9(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var i=r[n],a=i.transferSize,s=i.initiatorType,A=i.duration;if(a&&A&&hb(s)){for(s=0,A=i.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>A)break;var h=c.transferSize,m=c.initiatorType;h&&hb(m)&&(c=c.responseEnd,s+=h*(c<A?1:(A-u)/(c-u)))}if(--n,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jv=null,$v=null;function ip(t){return t.nodeType===9?t:t.ownerDocument}function db(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WR(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Zv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s2=null;function u9(){var t=window.event;return t&&t.type==="popstate"?t===s2?!1:(s2=t,!0):(s2=null,!1)}var XR=typeof setTimeout=="function"?setTimeout:void 0,f9=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,h9=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(t){return gb.resolve(null).then(t).catch(d9)}:XR;function d9(t){setTimeout(function(){throw t})}function ml(t){return t==="head"}function pb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"||r==="/&"){if(n===0){t.removeChild(i),o0(e);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")$f(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,$f(r);for(var a=r.firstChild;a;){var s=a.nextSibling,A=a.nodeName;a[ad]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&a.rel.toLowerCase()==="stylesheet"||r.removeChild(a),a=s}}else r==="body"&&$f(t.ownerDocument.body);r=i}while(r);o0(e)}function mb(t,e){var r=t;t=0;do{var n=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=n}while(r)}function ew(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ew(r),Yy(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function g9(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[ad])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=fs(t.nextSibling),t===null)break}return null}function p9(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=fs(t.nextSibling),t===null))return null;return t}function qR(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=fs(t.nextSibling),t===null))return null;return t}function tw(t){return t.data==="$?"||t.data==="$~"}function rw(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function m9(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var nw=null;function xb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return fs(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function vb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function YR(t,e,r){switch(e=ip(r),t){case"html":if(t=e.documentElement,!t)throw Error(ze(452));return t;case"head":if(t=e.head,!t)throw Error(ze(453));return t;case"body":if(t=e.body,!t)throw Error(ze(454));return t;default:throw Error(ze(451))}}function $f(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Yy(t)}var gs=new Map,wb=new Set;function ap(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var iA=xr.d;xr.d={f:x9,r:v9,D:w9,C:y9,L:E9,m:C9,X:B9,S:_9,M:b9};function x9(){var t=iA.f(),e=pm();return t||e}function v9(t){var e=E0(t);e!==null&&e.tag===5&&e.type==="form"?jF(e):iA.r(t)}var b0=typeof document>"u"?null:document;function JR(t,e,r){var n=b0;if(n&&typeof e=="string"&&e){var i=as(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),wb.has(i)||(wb.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),pi(e,"link",t),Zn(e),n.head.appendChild(e)))}}function w9(t){iA.D(t),JR("dns-prefetch",t,null)}function y9(t,e){iA.C(t,e),JR("preconnect",t,e)}function E9(t,e,r){iA.L(t,e,r);var n=b0;if(n&&t&&e){var i='link[rel="preload"][as="'+as(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+as(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+as(r.imageSizes)+'"]')):i+='[href="'+as(t)+'"]';var a=i;switch(e){case"style":a=s0(t);break;case"script":a=T0(t)}gs.has(a)||(t=zr({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),gs.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(ud(a))||e==="script"&&n.querySelector(fd(a))||(e=n.createElement("link"),pi(e,"link",t),Zn(e),n.head.appendChild(e)))}}function C9(t,e){iA.m(t,e);var r=b0;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+as(n)+'"][href="'+as(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=T0(t)}if(!gs.has(a)&&(t=zr({rel:"modulepreload",href:t},e),gs.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fd(a)))return}n=r.createElement("link"),pi(n,"link",t),Zn(n),r.head.appendChild(n)}}}function _9(t,e,r){iA.S(t,e,r);var n=b0;if(n&&t){var i=Uu(n).hoistableStyles,a=s0(t);e=e||"default";var s=i.get(a);if(!s){var A={loading:0,preload:null};if(s=n.querySelector(ud(a)))A.loading=5;else{t=zr({rel:"stylesheet",href:t,"data-precedence":e},r),(r=gs.get(a))&&UE(t,r);var c=s=n.createElement("link");Zn(c),pi(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){A.loading|=1}),c.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wg(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:A},i.set(a,s)}}}function B9(t,e){iA.X(t,e);var r=b0;if(r&&t){var n=Uu(r).hoistableScripts,i=T0(t),a=n.get(i);a||(a=r.querySelector(fd(i)),a||(t=zr({src:t,async:!0},e),(e=gs.get(i))&&ME(t,e),a=r.createElement("script"),Zn(a),pi(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function b9(t,e){iA.M(t,e);var r=b0;if(r&&t){var n=Uu(r).hoistableScripts,i=T0(t),a=n.get(i);a||(a=r.querySelector(fd(i)),a||(t=zr({src:t,async:!0,type:"module"},e),(e=gs.get(i))&&ME(t,e),a=r.createElement("script"),Zn(a),pi(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function yb(t,e,r,n){var i=(i=HA.current)?ap(i):null;if(!i)throw Error(ze(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=s0(r.href),r=Uu(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=s0(r.href);var a=Uu(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(ud(t)))&&!a._p&&(s.instance=a,s.state.loading=5),gs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},gs.set(t,r),a||T9(i,t,r,s.state))),e&&n===null)throw Error(ze(528,""));return s}if(e&&n!==null)throw Error(ze(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=T0(r),r=Uu(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ze(444,t))}}function s0(t){return'href="'+as(t)+'"'}function ud(t){return'link[rel="stylesheet"]['+t+"]"}function $R(t){return zr({},t,{"data-precedence":t.precedence,precedence:null})}function T9(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),pi(e,"link",r),Zn(e),t.head.appendChild(e))}function T0(t){return'[src="'+as(t)+'"]'}function fd(t){return"script[async]"+t}function Eb(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+as(r.href)+'"]');if(n)return e.instance=n,Zn(n),n;var i=zr({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Zn(n),pi(n,"style",i),wg(n,r.precedence,t),e.instance=n;case"stylesheet":i=s0(r.href);var a=t.querySelector(ud(i));if(a)return e.state.loading|=4,e.instance=a,Zn(a),a;n=$R(r),(i=gs.get(i))&&UE(n,i),a=(t.ownerDocument||t).createElement("link"),Zn(a);var s=a;return s._p=new Promise(function(A,c){s.onload=A,s.onerror=c}),pi(a,"link",n),e.state.loading|=4,wg(a,r.precedence,t),e.instance=a;case"script":return a=T0(r.src),(i=t.querySelector(fd(a)))?(e.instance=i,Zn(i),i):(n=r,(i=gs.get(a))&&(n=zr({},r),ME(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Zn(i),pi(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ze(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,wg(n,r.precedence,t));return e.instance}function wg(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var A=n[s];if(A.dataset.precedence===e)a=A;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function UE(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ME(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yg=null;function Cb(t,e,r){if(yg===null){var n=new Map,i=yg=new Map;i.set(r,n)}else i=yg,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[ad]||a[ui]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var A=n.get(s);A?A.push(a):n.set(s,[a])}}return n}function _b(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function S9(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ZR(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function I9(t,e,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var i=s0(n.href),a=e.querySelector(ud(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=sp.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=a,Zn(a);return}a=e.ownerDocument||e,n=$R(n),(i=gs.get(i))&&UE(n,i),a=a.createElement("link"),Zn(a);var s=a;s._p=new Promise(function(A,c){s.onload=A,s.onerror=c}),pi(a,"link",n),r.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&!(r.state.loading&3)&&(t.count++,r=sp.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var o2=0;function N9(t,e){return t.stylesheets&&t.count===0&&Eg(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var n=setTimeout(function(){if(t.stylesheets&&Eg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&o2===0&&(o2=62500*c9());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Eg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>o2?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function sp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var op=null;function Eg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,op=new Map,e.forEach(F9,t),op=null,sp.call(t))}function F9(t,e){if(!(e.state.loading&4)){var r=op.get(t);if(r)var n=r.get(null);else{r=new Map,op.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=e.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=sp.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Nh={$$typeof:Uo,Provider:null,Consumer:null,_currentValue:Jl,_currentValue2:Jl,_threadCount:0};function R9(t,e,r,n,i,a,s,A,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nx(0),this.hiddenUpdates=Nx(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function e8(t,e,r,n,i,a,s,A,c,u,h,m){return t=new R9(t,e,r,s,c,u,h,m,A),e=1,a===!0&&(e|=24),a=Ra(3,null,null,e),t.current=a,a.stateNode=t,e=AE(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},uE(a),t}function t8(t){return t?(t=_u,t):_u}function r8(t,e,r,n,i,a){i=t8(i),n.context===null?n.context=i:n.pendingContext=i,n=jA(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=GA(t,n,e),r!==null&&(ga(r,t,e),Gf(r,t,e))}function Bb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function OE(t,e){Bb(t,e),(t=t.alternate)&&Bb(t,e)}function n8(t){if(t.tag===13||t.tag===31){var e=bc(t,67108864);e!==null&&ga(e,t,67108864),OE(t,67108864)}}function bb(t){if(t.tag===13||t.tag===31){var e=Qa();e=Xy(e);var r=bc(t,e);r!==null&&ga(r,t,e),OE(t,e)}}var Ap=!0;function D9(t,e,r,n){var i=It.T;It.T=null;var a=xr.p;try{xr.p=2,LE(t,e,r,n)}finally{xr.p=a,It.T=i}}function k9(t,e,r,n){var i=It.T;It.T=null;var a=xr.p;try{xr.p=8,LE(t,e,r,n)}finally{xr.p=a,It.T=i}}function LE(t,e,r,n){if(Ap){var i=iw(n);if(i===null)a2(t,e,n,lp,r),Tb(t,n);else if(M9(i,t,e,r,n))n.stopPropagation();else if(Tb(t,n),e&4&&-1<U9.indexOf(t)){for(;i!==null;){var a=E0(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ql(a.pendingLanes);if(s!==0){var A=a;for(A.pendingLanes|=2,A.entangledLanes|=2;s;){var c=1<<31-Pa(s);A.entanglements[1]|=c,s&=~c}go(a),!(mr&6)&&($g=Oa()+500,cd(0))}}break;case 31:case 13:A=bc(a,2),A!==null&&ga(A,a,2),pm(),OE(a,2)}if(a=iw(n),a===null&&a2(t,e,n,lp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else a2(t,e,n,null,r)}}function iw(t){return t=$y(t),PE(t)}var lp=null;function PE(t){if(lp=null,t=xu(t),t!==null){var e=td(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=CN(e),t!==null)return t;t=null}else if(r===31){if(t=_N(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return lp=t,null}function i8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wO()){case SN:return 2;case IN:return 8;case Lg:case yO:return 32;case NN:return 268435456;default:return 32}default:return 32}}var aw=!1,WA=null,XA=null,qA=null,Fh=new Map,Rh=new Map,BA=[],U9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tb(t,e){switch(t){case"focusin":case"focusout":WA=null;break;case"dragenter":case"dragleave":XA=null;break;case"mouseover":case"mouseout":qA=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(e.pointerId)}}function tf(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=E0(e),e!==null&&n8(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M9(t,e,r,n,i){switch(e){case"focusin":return WA=tf(WA,t,e,r,n,i),!0;case"dragenter":return XA=tf(XA,t,e,r,n,i),!0;case"mouseover":return qA=tf(qA,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Fh.set(a,tf(Fh.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Rh.set(a,tf(Rh.get(a)||null,t,e,r,n,i)),!0}return!1}function a8(t){var e=xu(t.target);if(e!==null){var r=td(e);if(r!==null){if(e=r.tag,e===13){if(e=CN(r),e!==null){t.blockedOn=e,uB(t.priority,function(){bb(r)});return}}else if(e===31){if(e=_N(r),e!==null){t.blockedOn=e,uB(t.priority,function(){bb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=iw(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Cv=n,r.target.dispatchEvent(n),Cv=null}else return e=E0(r),e!==null&&n8(e),t.blockedOn=r,!1;e.shift()}return!0}function Sb(t,e,r){Cg(t)&&r.delete(e)}function O9(){aw=!1,WA!==null&&Cg(WA)&&(WA=null),XA!==null&&Cg(XA)&&(XA=null),qA!==null&&Cg(qA)&&(qA=null),Fh.forEach(Sb),Rh.forEach(Sb)}function i1(t,e){t.blockedOn===e&&(t.blockedOn=null,aw||(aw=!0,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,O9)))}var a1=null;function Ib(t){a1!==t&&(a1=t,Kn.unstable_scheduleCallback(Kn.unstable_NormalPriority,function(){a1===t&&(a1=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(PE(n||r)===null)continue;break}var a=E0(r);a!==null&&(t.splice(e,3),e-=3,Pv(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function o0(t){function e(c){return i1(c,t)}WA!==null&&i1(WA,t),XA!==null&&i1(XA,t),qA!==null&&i1(qA,t),Fh.forEach(e),Rh.forEach(e);for(var r=0;r<BA.length;r++){var n=BA[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<BA.length&&(r=BA[0],r.blockedOn===null);)a8(r),r.blockedOn===null&&BA.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[xa]||null;if(typeof a=="function")s||Ib(r);else if(s){var A=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[xa]||null)A=s.formAction;else if(PE(i)!==null)continue}else A=s.action;typeof A=="function"?r[n+1]=A:(r.splice(n,3),n-=3),Ib(r)}}}function s8(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function QE(t){this._internalRoot=t}vm.prototype.render=QE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));var r=e.current,n=Qa();r8(r,n,t,e,null,null)};vm.prototype.unmount=QE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;r8(t.current,2,null,t,null,null),pm(),e[y0]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=UN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<BA.length&&e!==0&&e<BA[r].priority;r++);BA.splice(r,0,t),r===0&&a8(t)}};var Nb=yN.version;if(Nb!=="19.2.3")throw Error(ze(527,Nb,"19.2.3"));xr.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=hO(e),t=t!==null?BN(t):null,t=t===null?null:t.stateNode,t};var L9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:It,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s1.isDisabled&&s1.supportsFiber)try{rd=s1.inject(L9),La=s1}catch{}}rm.createRoot=function(t,e){if(!EN(t))throw Error(ze(299));var r=!1,n="",i=JF,a=$F,s=ZF;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=e8(t,1,!1,null,null,r,n,null,i,a,s,s8),t[y0]=e.current,kE(t),new QE(e)};rm.hydrateRoot=function(t,e,r){if(!EN(t))throw Error(ze(299));var n=!1,i="",a=JF,s=$F,A=ZF,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),e=e8(t,1,!0,e,r??null,n,i,c,a,s,A,s8),e.context=t8(null),r=e.current,n=Qa(),n=Xy(n),i=jA(n),i.callback=null,GA(r,i,n),r=n,e.current.lanes=r,id(e,r),go(e),t[y0]=e.current,kE(t),new vm(e)};rm.version="19.2.3";function o8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o8)}catch(t){console.error(t)}}o8(),gN.exports=rm;var P9=gN.exports;const Q9=Py(P9),H9=({onLoginSuccess:t,settings:e})=>{const[r,n]=me.useState(""),[i,a]=me.useState(!1),[s,A]=me.useState(""),c=u=>{if(u.preventDefault(),A(""),r===e.loginPassword){t({role:"admin",name:e.userName,phone:e.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const h=e.staffList.find(m=>m.password===r);if(h){t({role:"staff",name:h.name,phone:h.phone,permissions:h.permissions});return}A("   ")};return d.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:d.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[d.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),d.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),d.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),d.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[d.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),d.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),s&&d.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:s}),d.jsxs("form",{onSubmit:c,className:"w-full space-y-6",children:[d.jsxs("div",{className:"input-container relative",children:[d.jsx("label",{className:"input-label",children:" "}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:i?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:r,onChange:u=>n(u.target.value),required:!0}),d.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>a(!i),"aria-label":i?"  ":"  ",children:i?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),d.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),d.jsx("div",{className:"mt-20 text-center",children:d.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},A8=(t,e)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=t.items||[];n.reduce((a,s)=>a+s.count,0);const i=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(a=>`
                <tr>
                  <td>${a.productName}</td>
                  <td class="col-price">${a.count}</td>
                  <td class="col-total">${a.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(i),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sw=function(t,e){return sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},sw(t,e)};function Gs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ow=function(){return ow=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ow.apply(this,arguments)};function Qi(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,[])).next())})}function Bi(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function o1(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var Jo=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),wm=function(t,e){return Jo.fromClientRect(t,e.getBoundingClientRect())},V9=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Jo(0,0,n,i)},ym=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},wn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Fb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var A1=0;A1<Fb.length;A1++)j9[Fb.charCodeAt(A1)]=A1;var Rb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ef=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var l1=0;l1<Rb.length;l1++)Ef[Rb.charCodeAt(l1)]=l1;var G9=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,A,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=Ef[t.charCodeAt(n)],s=Ef[t.charCodeAt(n+1)],A=Ef[t.charCodeAt(n+2)],c=Ef[t.charCodeAt(n+3)],h[i++]=a<<2|s>>4,h[i++]=(s&15)<<4|A>>2,h[i++]=(A&3)<<6|c&63;return u},K9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},z9=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},rc=5,HE=11,A2=2,W9=HE-rc,l8=65536>>rc,X9=1<<rc,l2=X9-1,q9=1024>>rc,Y9=l8+q9,J9=Y9,$9=32,Z9=J9+$9,eP=65536>>HE,tP=1<<W9,rP=tP-1,Db=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},nP=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},iP=function(t,e){var r=G9(t),n=Array.isArray(r)?z9(r):new Uint32Array(r),i=Array.isArray(r)?K9(r):new Uint16Array(r),a=24,s=Db(i,a/2,n[4]/2),A=n[5]===2?Db(i,(a+n[4])/2):nP(n,Math.ceil((a+n[4])/4));return new aP(n[0],n[1],n[2],n[3],s,A)},aP=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>rc],r=(r<<A2)+(e&l2),this.data[r];if(e<=65535)return r=this.index[l8+(e-55296>>rc)],r=(r<<A2)+(e&l2),this.data[r];if(e<this.highStart)return r=Z9-eP+(e>>HE),r=this.index[r],r+=e>>rc&rP,r=this.index[r],r=(r<<A2)+(e&l2),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var c1=0;c1<kb.length;c1++)sP[kb.charCodeAt(c1)]=c1;var oP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ub=50,AP=1,c8=2,u8=3,lP=4,cP=5,Mb=7,f8=8,Ob=9,RA=10,Aw=11,Lb=12,lw=13,uP=14,Cf=15,cw=16,u1=17,rf=18,fP=19,Pb=20,uw=21,nf=22,c2=23,qc=24,Ta=25,_f=26,Bf=27,Yc=28,hP=29,Kl=30,dP=31,f1=32,h1=33,fw=34,hw=35,dw=36,Dh=37,gw=38,_g=39,Bg=40,u2=41,h8=42,gP=43,pP=[9001,65288],d8="!",tr="",d1="",pw=iP(oP),So=[Kl,dw],mw=[AP,c8,u8,cP],g8=[RA,f8],Qb=[Bf,_f],mP=mw.concat(g8),Hb=[gw,_g,Bg,fw,hw],xP=[Cf,lw],vP=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(a,s){var A=pw.get(a);if(A>Ub?(i.push(!0),A-=Ub):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(s),r.push(cw);if(A===lP||A===Aw){if(s===0)return n.push(s),r.push(Kl);var c=r[s-1];return mP.indexOf(c)===-1?(n.push(n[s-1]),r.push(c)):(n.push(s),r.push(Kl))}if(n.push(s),A===dP)return r.push(e==="strict"?uw:Dh);if(A===h8||A===hP)return r.push(Kl);if(A===gP)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Dh):r.push(Kl);r.push(A)}),[n,r,i]},f2=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var a=r;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==RA)break}if(i===RA)for(var a=r;a>0;){a--;var A=n[a];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var c=r;c<=n.length;){c++;var s=n[c];if(s===e)return!0;if(s!==RA)break}if(A!==RA)break}return!1},Vb=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===RA)r--;else return n}return 0},wP=function(t,e,r,n,i){if(r[n]===0)return tr;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return tr;var s=a-1,A=a+1,c=e[a],u=s>=0?e[s]:0,h=e[A];if(c===c8&&h===u8)return tr;if(mw.indexOf(c)!==-1)return d8;if(mw.indexOf(h)!==-1||g8.indexOf(h)!==-1)return tr;if(Vb(a,e)===f8)return d1;if(pw.get(t[a])===Aw||(c===f1||c===h1)&&pw.get(t[A])===Aw||c===Mb||h===Mb||c===Ob||[RA,lw,Cf].indexOf(c)===-1&&h===Ob||[u1,rf,fP,qc,Yc].indexOf(h)!==-1||Vb(a,e)===nf||f2(c2,nf,a,e)||f2([u1,rf],uw,a,e)||f2(Lb,Lb,a,e))return tr;if(c===RA)return d1;if(c===c2||h===c2)return tr;if(h===cw||c===cw)return d1;if([lw,Cf,uw].indexOf(h)!==-1||c===uP||u===dw&&xP.indexOf(c)!==-1||c===Yc&&h===dw||h===Pb||So.indexOf(h)!==-1&&c===Ta||So.indexOf(c)!==-1&&h===Ta||c===Bf&&[Dh,f1,h1].indexOf(h)!==-1||[Dh,f1,h1].indexOf(c)!==-1&&h===_f||So.indexOf(c)!==-1&&Qb.indexOf(h)!==-1||Qb.indexOf(c)!==-1&&So.indexOf(h)!==-1||[Bf,_f].indexOf(c)!==-1&&(h===Ta||[nf,Cf].indexOf(h)!==-1&&e[A+1]===Ta)||[nf,Cf].indexOf(c)!==-1&&h===Ta||c===Ta&&[Ta,Yc,qc].indexOf(h)!==-1)return tr;if([Ta,Yc,qc,u1,rf].indexOf(h)!==-1)for(var m=a;m>=0;){var v=e[m];if(v===Ta)return tr;if([Yc,qc].indexOf(v)!==-1)m--;else break}if([Bf,_f].indexOf(h)!==-1)for(var m=[u1,rf].indexOf(c)!==-1?s:a;m>=0;){var v=e[m];if(v===Ta)return tr;if([Yc,qc].indexOf(v)!==-1)m--;else break}if(gw===c&&[gw,_g,fw,hw].indexOf(h)!==-1||[_g,fw].indexOf(c)!==-1&&[_g,Bg].indexOf(h)!==-1||[Bg,hw].indexOf(c)!==-1&&h===Bg||Hb.indexOf(c)!==-1&&[Pb,_f].indexOf(h)!==-1||Hb.indexOf(h)!==-1&&c===Bf||So.indexOf(c)!==-1&&So.indexOf(h)!==-1||c===qc&&So.indexOf(h)!==-1||So.concat(Ta).indexOf(c)!==-1&&h===nf&&pP.indexOf(t[A])===-1||So.concat(Ta).indexOf(h)!==-1&&c===rf)return tr;if(c===u2&&h===u2){for(var _=r[a],b=1;_>0&&(_--,e[_]===u2);)b++;if(b%2!==0)return tr}return c===f1&&h===h1?tr:d1},yP=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=vP(t,e.lineBreak),n=r[0],i=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(A){return[Ta,Kl,h8].indexOf(A)!==-1?Dh:A}));var s=e.wordBreak==="keep-all"?a.map(function(A,c){return A&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,i,s]},EP=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===d8,this.start=n,this.end=i}return t.prototype.slice=function(){return wn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),CP=function(t,e){var r=ym(t),n=yP(r,e),i=n[0],a=n[1],s=n[2],A=r.length,c=0,u=0;return{next:function(){if(u>=A)return{done:!0,value:null};for(var h=tr;u<A&&(h=wP(r,a,i,++u,s))===tr;);if(h!==tr||u===A){var m=new EP(r,h,c,u);return c=u,{value:m,done:!1}}return{done:!0,value:null}}}},_P=1,BP=2,hd=4,jb=8,cp=10,Gb=47,Zf=92,bP=9,TP=32,g1=34,af=61,SP=35,IP=36,NP=37,p1=39,m1=40,sf=41,FP=95,ua=45,RP=33,DP=60,kP=62,UP=64,MP=91,OP=93,LP=61,PP=123,x1=63,QP=125,Kb=124,HP=126,VP=128,zb=65533,h2=42,Wl=43,jP=44,GP=58,KP=59,kh=46,zP=0,WP=8,XP=11,qP=14,YP=31,JP=127,$s=-1,p8=48,m8=97,x8=101,$P=102,ZP=117,e7=122,v8=65,w8=69,y8=70,t7=85,r7=90,Ti=function(t){return t>=p8&&t<=57},n7=function(t){return t>=55296&&t<=57343},Jc=function(t){return Ti(t)||t>=v8&&t<=y8||t>=m8&&t<=$P},i7=function(t){return t>=m8&&t<=e7},a7=function(t){return t>=v8&&t<=r7},s7=function(t){return i7(t)||a7(t)},o7=function(t){return t>=VP},v1=function(t){return t===cp||t===bP||t===TP},up=function(t){return s7(t)||o7(t)||t===FP},Wb=function(t){return up(t)||Ti(t)||t===ua},A7=function(t){return t>=zP&&t<=WP||t===XP||t>=qP&&t<=YP||t===JP},yA=function(t,e){return t!==Zf?!1:e!==cp},w1=function(t,e,r){return t===ua?up(e)||yA(e,r):up(t)?!0:!!(t===Zf&&yA(t,e))},d2=function(t,e,r){return t===Wl||t===ua?Ti(e)?!0:e===kh&&Ti(r):Ti(t===kh?e:t)},l7=function(t){var e=0,r=1;(t[e]===Wl||t[e]===ua)&&(t[e]===ua&&(r=-1),e++);for(var n=[];Ti(t[e]);)n.push(t[e++]);var i=n.length?parseInt(wn.apply(void 0,n),10):0;t[e]===kh&&e++;for(var a=[];Ti(t[e]);)a.push(t[e++]);var s=a.length,A=s?parseInt(wn.apply(void 0,a),10):0;(t[e]===w8||t[e]===x8)&&e++;var c=1;(t[e]===Wl||t[e]===ua)&&(t[e]===ua&&(c=-1),e++);for(var u=[];Ti(t[e]);)u.push(t[e++]);var h=u.length?parseInt(wn.apply(void 0,u),10):0;return r*(i+A*Math.pow(10,-s))*Math.pow(10,c*h)},c7={type:2},u7={type:3},f7={type:4},h7={type:13},d7={type:8},g7={type:21},p7={type:9},m7={type:10},x7={type:11},v7={type:12},w7={type:14},y1={type:23},y7={type:1},E7={type:25},C7={type:24},_7={type:26},B7={type:27},b7={type:28},T7={type:29},S7={type:31},xw={type:32},E8=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ym(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==xw;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case g1:return this.consumeStringToken(g1);case SP:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Wb(r)||yA(n,i)){var a=w1(r,n,i)?BP:_P,s=this.consumeName();return{type:5,value:s,flags:a}}break;case IP:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),h7;break;case p1:return this.consumeStringToken(p1);case m1:return c7;case sf:return u7;case h2:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),w7;break;case Wl:if(d2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jP:return f7;case ua:var A=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(d2(A,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(w1(A,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===ua&&u===kP)return this.consumeCodePoint(),this.consumeCodePoint(),C7;break;case kh:if(d2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Gb:if(this.peekCodePoint(0)===h2)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===h2&&(h=this.consumeCodePoint(),h===Gb))return this.consumeToken();if(h===$s)return this.consumeToken()}break;case GP:return _7;case KP:return B7;case DP:if(this.peekCodePoint(0)===RP&&this.peekCodePoint(1)===ua&&this.peekCodePoint(2)===ua)return this.consumeCodePoint(),this.consumeCodePoint(),E7;break;case UP:var m=this.peekCodePoint(0),v=this.peekCodePoint(1),_=this.peekCodePoint(2);if(w1(m,v,_)){var s=this.consumeName();return{type:7,value:s}}break;case MP:return b7;case Zf:if(yA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case OP:return T7;case LP:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),d7;break;case PP:return x7;case QP:return v7;case ZP:case t7:var b=this.peekCodePoint(0),T=this.peekCodePoint(1);return b===Wl&&(Jc(T)||T===x1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Kb:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),p7;if(this.peekCodePoint(0)===Kb)return this.consumeCodePoint(),g7;break;case HP:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),m7;break;case $s:return xw}return v1(e)?(this.consumeWhiteSpace(),S7):Ti(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):up(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:wn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Jc(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===x1&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(wn.apply(void 0,e.map(function(c){return c===x1?p8:c})),16),a=parseInt(wn.apply(void 0,e.map(function(c){return c===x1?y8:c})),16);return{type:30,start:i,end:a}}var s=parseInt(wn.apply(void 0,e),16);if(this.peekCodePoint(0)===ua&&Jc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];Jc(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var a=parseInt(wn.apply(void 0,A),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===m1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===m1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$s)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===p1||r===g1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$s||this.peekCodePoint(0)===sf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),y1)}for(;;){var i=this.consumeCodePoint();if(i===$s||i===sf)return{type:22,value:wn.apply(void 0,e)};if(v1(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$s||this.peekCodePoint(0)===sf?(this.consumeCodePoint(),{type:22,value:wn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),y1);if(i===g1||i===p1||i===m1||A7(i))return this.consumeBadUrlRemnants(),y1;if(i===Zf)if(yA(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),y1;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;v1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===sf||e===$s)return;yA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=wn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===$s||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===cp)return this._value.splice(0,n),y7;if(i===Zf){var a=this._value[n+1];a!==$s&&a!==void 0&&(a===cp?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):yA(i,a)&&(r+=this.consumeStringSlice(n),r+=wn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=hd,n=this.peekCodePoint(0);for((n===Wl||n===ua)&&e.push(this.consumeCodePoint());Ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===kh&&Ti(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=jb;Ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===w8||n===x8)&&((i===Wl||i===ua)&&Ti(a)||Ti(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=jb;Ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[l7(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(w1(i,a,s)){var A=this.consumeName();return{type:15,number:r,flags:n,unit:A}}return i===NP?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Jc(e)){for(var r=wn(e);Jc(this.peekCodePoint(0))&&r.length<6;)r+=wn(this.consumeCodePoint());v1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||n7(n)||n>1114111?zb:n}return e===$s?zb:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(Wb(r))e+=wn(r);else if(yA(r,this.peekCodePoint(0)))e+=wn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),C8=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new E8;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||N7(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?xw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),dd=function(t){return t.type===15},S0=function(t){return t.type===17},Fr=function(t){return t.type===20},I7=function(t){return t.type===0},vw=function(t,e){return Fr(t)&&t.value===e},_8=function(t){return t.type!==31},A0=function(t){return t.type!==31&&t.type!==4},po=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},N7=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Al=function(t){return t.type===17||t.type===15},Rn=function(t){return t.type===16||Al(t)},B8=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},gi={type:17,number:0,flags:hd},VE={type:16,number:50,flags:hd},DA={type:16,number:100,flags:hd},bf=function(t,e,r){var n=t[0],i=t[1];return[Ur(n,e),Ur(typeof i<"u"?i:n,r)]},Ur=function(t,e){if(t.type===16)return t.number/100*e;if(dd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},b8="deg",T8="grad",S8="rad",I8="turn",Em={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case b8:return Math.PI*e.number/180;case T8:return Math.PI/200*e.number;case S8:return e.number;case I8:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},N8=function(t){return t.type===15&&(t.unit===b8||t.unit===T8||t.unit===S8||t.unit===I8)},F8=function(t){var e=t.filter(Fr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[gi,gi];case"to top":case"bottom":return ls(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[gi,DA];case"to right":case"left":return ls(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[DA,DA];case"to bottom":case"top":return ls(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[DA,gi];case"to left":case"right":return ls(270)}return 0},ls=function(t){return Math.PI*t/180},YA={name:"color",parse:function(t,e){if(e.type===18){var r=F7[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return kA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return kA(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return kA(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return kA(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var A=Vo[e.value.toUpperCase()];if(typeof A<"u")return A}return Vo.TRANSPARENT}},JA=function(t){return(255&t)===0},Xn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},kA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Xb=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},qb=function(t,e){var r=e.filter(A0);if(r.length===3){var n=r.map(Xb),i=n[0],a=n[1],s=n[2];return kA(i,a,s,1)}if(r.length===4){var A=r.map(Xb),i=A[0],a=A[1],s=A[2],c=A[3];return kA(i,a,s,c)}return 0};function g2(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Yb=function(t,e){var r=e.filter(A0),n=r[0],i=r[1],a=r[2],s=r[3],A=(n.type===17?ls(n.number):Em.parse(t,n))/(Math.PI*2),c=Rn(i)?i.number/100:0,u=Rn(a)?a.number/100:0,h=typeof s<"u"&&Rn(s)?Ur(s,1):1;if(c===0)return kA(u*255,u*255,u*255,1);var m=u<=.5?u*(c+1):u+c-u*c,v=u*2-m,_=g2(v,m,A+1/3),b=g2(v,m,A),T=g2(v,m,A-1/3);return kA(_*255,b*255,T*255,h)},F7={hsl:Yb,hsla:Yb,rgb:qb,rgba:qb},eh=function(t,e){return YA.parse(t,C8.create(e).parseComponentValue())},Vo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},R7={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Fr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},D7={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cm=function(t,e){var r=YA.parse(t,e[0]),n=e[1];return n&&Rn(n)?{color:r,stop:n}:{color:r,stop:null}},Jb=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=gi),n.stop===null&&(n.stop=DA);for(var i=[],a=0,s=0;s<t.length;s++){var A=t[s].stop;if(A!==null){var c=Ur(A,e);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var u=null,s=0;s<i.length;s++){var h=i[s];if(h===null)u===null&&(u=s);else if(u!==null){for(var m=s-u,v=i[u-1],_=(h-v)/(m+1),b=1;b<=m;b++)i[u+b-1]=_*b;u=null}}return t.map(function(T,I){var k=T.color;return{color:k,stop:Math.max(Math.min(1,i[I]/e),0)}})},k7=function(t,e,r){var n=e/2,i=r/2,a=Ur(t[0],e)-n,s=i-Ur(t[1],r);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},U7=function(t,e,r){var n=typeof t=="number"?t:k7(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,s=r/2,A=i/2,c=Math.sin(n-Math.PI/2)*A,u=Math.cos(n-Math.PI/2)*A;return[i,a-u,a+u,s-c,s+c]},ks=function(t,e){return Math.sqrt(t*t+e*e)},$b=function(t,e,r,n,i){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,A){var c=A[0],u=A[1],h=ks(r-c,n-u);return(i?h<s.optimumDistance:h>s.optimumDistance)?{optimumCorner:A,optimumDistance:h}:s},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},M7=function(t,e,r,n,i){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)a=s=Math.min(ks(e,r),ks(e,r-i),ks(e-n,r),ks(e-n,r-i));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),c=$b(n,i,e,r,!0),u=c[0],h=c[1];a=ks(u-e,(h-r)/A),s=A*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)a=s=Math.max(ks(e,r),ks(e,r-i),ks(e-n,r),ks(e-n,r-i));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),m=$b(n,i,e,r,!1),u=m[0],h=m[1];a=ks(u-e,(h-r)/A),s=A*a}break}return Array.isArray(t.size)&&(a=Ur(t.size[0],n),s=t.size.length===2?Ur(t.size[1],i):a),[a,s]},O7=function(t,e){var r=ls(180),n=[];return po(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&s.value==="to"){r=F8(i);return}else if(N8(s)){r=Em.parse(t,s);return}}var A=Cm(t,i);n.push(A)}),{angle:r,stops:n,type:1}},E1=function(t,e){var r=ls(180),n=[];return po(e).forEach(function(i,a){if(a===0){var s=i[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){r=F8(i);return}else if(N8(s)){r=(Em.parse(t,s)+ls(270))%ls(360);return}}var A=Cm(t,i);n.push(A)}),{angle:r,stops:n,type:1}},L7=function(t,e){var r=ls(180),n=[],i=1,a=0,s=3,A=[];return po(e).forEach(function(c,u){var h=c[0];if(u===0){if(Fr(h)&&h.value==="linear"){i=1;return}else if(Fr(h)&&h.value==="radial"){i=2;return}}if(h.type===18){if(h.name==="from"){var m=YA.parse(t,h.values[0]);n.push({stop:gi,color:m})}else if(h.name==="to"){var m=YA.parse(t,h.values[0]);n.push({stop:DA,color:m})}else if(h.name==="color-stop"){var v=h.values.filter(A0);if(v.length===2){var m=YA.parse(t,v[1]),_=v[0];S0(_)&&n.push({stop:{type:16,number:_.number*100,flags:_.flags},color:m})}}}}),i===1?{angle:(r+ls(180))%ls(360),stops:n,type:i}:{size:s,shape:a,stops:n,position:A,type:i}},R8="closest-side",D8="farthest-side",k8="closest-corner",U8="farthest-corner",M8="circle",O8="ellipse",L8="cover",P8="contain",P7=function(t,e){var r=0,n=3,i=[],a=[];return po(e).forEach(function(s,A){var c=!0;if(A===0){var u=!1;c=s.reduce(function(m,v){if(u)if(Fr(v))switch(v.value){case"center":return a.push(VE),m;case"top":case"left":return a.push(gi),m;case"right":case"bottom":return a.push(DA),m}else(Rn(v)||Al(v))&&a.push(v);else if(Fr(v))switch(v.value){case M8:return r=0,!1;case O8:return r=1,!1;case"at":return u=!0,!1;case R8:return n=0,!1;case L8:case D8:return n=1,!1;case P8:case k8:return n=2,!1;case U8:return n=3,!1}else if(Al(v)||Rn(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return m},c)}if(c){var h=Cm(t,s);i.push(h)}}),{size:n,shape:r,stops:i,position:a,type:2}},C1=function(t,e){var r=0,n=3,i=[],a=[];return po(e).forEach(function(s,A){var c=!0;if(A===0?c=s.reduce(function(h,m){if(Fr(m))switch(m.value){case"center":return a.push(VE),!1;case"top":case"left":return a.push(gi),!1;case"right":case"bottom":return a.push(DA),!1}else if(Rn(m)||Al(m))return a.push(m),!1;return h},c):A===1&&(c=s.reduce(function(h,m){if(Fr(m))switch(m.value){case M8:return r=0,!1;case O8:return r=1,!1;case P8:case R8:return n=0,!1;case D8:return n=1,!1;case k8:return n=2,!1;case L8:case U8:return n=3,!1}else if(Al(m)||Rn(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},c)),c){var u=Cm(t,s);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},Q7=function(t){return t.type===1},H7=function(t){return t.type===2},jE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Q8[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function V7(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Q8[t.name])}var Q8={"linear-gradient":O7,"-moz-linear-gradient":E1,"-ms-linear-gradient":E1,"-o-linear-gradient":E1,"-webkit-linear-gradient":E1,"radial-gradient":P7,"-moz-radial-gradient":C1,"-ms-radial-gradient":C1,"-o-radial-gradient":C1,"-webkit-radial-gradient":C1,"-webkit-gradient":L7},j7={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return A0(n)&&V7(n)}).map(function(n){return jE.parse(t,n)})}},G7={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Fr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},K7={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return po(e).map(function(r){return r.filter(Rn)}).map(B8)}},z7={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return po(e).map(function(r){return r.filter(Fr).map(function(n){return n.value}).join(" ")}).map(W7)}},W7=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vu;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Vu||(Vu={}));var X7={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return po(e).map(function(r){return r.filter(q7)})}},q7=function(t){return Fr(t)||Rn(t)},_m=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Y7=_m("top"),J7=_m("right"),$7=_m("bottom"),Z7=_m("left"),Bm=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return B8(r.filter(Rn))}}},eQ=Bm("top-left"),tQ=Bm("top-right"),rQ=Bm("bottom-right"),nQ=Bm("bottom-left"),bm=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iQ=bm("top"),aQ=bm("right"),sQ=bm("bottom"),oQ=bm("left"),Tm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return dd(r)?r.number:0}}},AQ=Tm("top"),lQ=Tm("right"),cQ=Tm("bottom"),uQ=Tm("left"),fQ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hQ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},dQ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Fr).reduce(function(r,n){return r|gQ(n.value)},0)}},gQ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pQ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mQ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},fp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(fp||(fp={}));var xQ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return fp.STRICT;case"normal":default:return fp.NORMAL}}},vQ={name:"line-height",initialValue:"normal",prefix:!1,type:4},Zb=function(t,e){return Fr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Rn(t)?Ur(t,e):e},wQ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:jE.parse(t,e)}},yQ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},ww={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Sm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},EQ=Sm("top"),CQ=Sm("right"),_Q=Sm("bottom"),BQ=Sm("left"),bQ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Fr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},TQ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Im=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},SQ=Im("top"),IQ=Im("right"),NQ=Im("bottom"),FQ=Im("left"),RQ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},DQ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kQ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&vw(e[0],"none")?[]:po(e).map(function(r){for(var n={color:Vo.TRANSPARENT,offsetX:gi,offsetY:gi,blur:gi},i=0,a=0;a<r.length;a++){var s=r[a];Al(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:n.blur=s,i++):n.color=YA.parse(t,s)}return n})}},UQ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},MQ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=PQ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},OQ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},LQ=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],A=e[13];return e[14],e[15],e.length===16?[r,n,i,a,s,A]:null},PQ={matrix:OQ,matrix3d:LQ},eT={type:16,number:50,flags:hd},QQ=[eT,eT],HQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Rn);return r.length!==2?QQ:[r[0],r[1]]}},VQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},th;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(th||(th={}));var jQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return th.BREAK_ALL;case"keep-all":return th.KEEP_ALL;case"normal":default:return th.NORMAL}}},GQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(S0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},H8={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},KQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return S0(e)?e.number:1}},zQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Fr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},XQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},qQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},YQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(S0(e))return e.number;if(Fr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},JQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Fr).map(function(r){return r.value})}},$Q={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Qn=function(t,e){return(t&e)!==0},ZQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},eH={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(_8),a=0;a<i.length;a++){var s=i[a],A=i[a+1];if(s.type===20){var c=A&&S0(A)?A.number:1;n.push({counter:s.value,increment:c})}}return n}},tH={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(_8),i=0;i<n.length;i++){var a=n[i],s=n[i+1];if(Fr(a)&&a.value!=="none"){var A=s&&S0(s)?s.number:0;r.push({counter:a.value,reset:A})}}return r}},rH={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(dd).map(function(r){return H8.parse(t,r)})}},nH={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(I7);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var s=i[a].value,A=i[a+1].value;n.push({open:s,close:A})}return n}},tT=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},iH={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&vw(e[0],"none")?[]:po(e).map(function(r){for(var n={color:255,offsetX:gi,offsetY:gi,blur:gi,spread:gi,inset:!1},i=0,a=0;a<r.length;a++){var s=r[a];vw(s,"inset")?n.inset=!0:Al(s)?(i===0?n.offsetX=s:i===1?n.offsetY=s:i===2?n.blur=s:n.spread=s,i++):n.color=YA.parse(t,s)}return n})}},aH={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Fr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},sH={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},oH={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return dd(e)?e.number:0}},AH=function(){function t(e,r){var n,i;this.animationDuration=pt(e,rH,r.animationDuration),this.backgroundClip=pt(e,R7,r.backgroundClip),this.backgroundColor=pt(e,D7,r.backgroundColor),this.backgroundImage=pt(e,j7,r.backgroundImage),this.backgroundOrigin=pt(e,G7,r.backgroundOrigin),this.backgroundPosition=pt(e,K7,r.backgroundPosition),this.backgroundRepeat=pt(e,z7,r.backgroundRepeat),this.backgroundSize=pt(e,X7,r.backgroundSize),this.borderTopColor=pt(e,Y7,r.borderTopColor),this.borderRightColor=pt(e,J7,r.borderRightColor),this.borderBottomColor=pt(e,$7,r.borderBottomColor),this.borderLeftColor=pt(e,Z7,r.borderLeftColor),this.borderTopLeftRadius=pt(e,eQ,r.borderTopLeftRadius),this.borderTopRightRadius=pt(e,tQ,r.borderTopRightRadius),this.borderBottomRightRadius=pt(e,rQ,r.borderBottomRightRadius),this.borderBottomLeftRadius=pt(e,nQ,r.borderBottomLeftRadius),this.borderTopStyle=pt(e,iQ,r.borderTopStyle),this.borderRightStyle=pt(e,aQ,r.borderRightStyle),this.borderBottomStyle=pt(e,sQ,r.borderBottomStyle),this.borderLeftStyle=pt(e,oQ,r.borderLeftStyle),this.borderTopWidth=pt(e,AQ,r.borderTopWidth),this.borderRightWidth=pt(e,lQ,r.borderRightWidth),this.borderBottomWidth=pt(e,cQ,r.borderBottomWidth),this.borderLeftWidth=pt(e,uQ,r.borderLeftWidth),this.boxShadow=pt(e,iH,r.boxShadow),this.color=pt(e,fQ,r.color),this.direction=pt(e,hQ,r.direction),this.display=pt(e,dQ,r.display),this.float=pt(e,pQ,r.cssFloat),this.fontFamily=pt(e,XQ,r.fontFamily),this.fontSize=pt(e,qQ,r.fontSize),this.fontStyle=pt(e,$Q,r.fontStyle),this.fontVariant=pt(e,JQ,r.fontVariant),this.fontWeight=pt(e,YQ,r.fontWeight),this.letterSpacing=pt(e,mQ,r.letterSpacing),this.lineBreak=pt(e,xQ,r.lineBreak),this.lineHeight=pt(e,vQ,r.lineHeight),this.listStyleImage=pt(e,wQ,r.listStyleImage),this.listStylePosition=pt(e,yQ,r.listStylePosition),this.listStyleType=pt(e,ww,r.listStyleType),this.marginTop=pt(e,EQ,r.marginTop),this.marginRight=pt(e,CQ,r.marginRight),this.marginBottom=pt(e,_Q,r.marginBottom),this.marginLeft=pt(e,BQ,r.marginLeft),this.opacity=pt(e,KQ,r.opacity);var a=pt(e,bQ,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=pt(e,TQ,r.overflowWrap),this.paddingTop=pt(e,SQ,r.paddingTop),this.paddingRight=pt(e,IQ,r.paddingRight),this.paddingBottom=pt(e,NQ,r.paddingBottom),this.paddingLeft=pt(e,FQ,r.paddingLeft),this.paintOrder=pt(e,aH,r.paintOrder),this.position=pt(e,DQ,r.position),this.textAlign=pt(e,RQ,r.textAlign),this.textDecorationColor=pt(e,zQ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=pt(e,WQ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=pt(e,kQ,r.textShadow),this.textTransform=pt(e,UQ,r.textTransform),this.transform=pt(e,MQ,r.transform),this.transformOrigin=pt(e,HQ,r.transformOrigin),this.visibility=pt(e,VQ,r.visibility),this.webkitTextStrokeColor=pt(e,sH,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=pt(e,oH,r.webkitTextStrokeWidth),this.wordBreak=pt(e,jQ,r.wordBreak),this.zIndex=pt(e,GQ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return JA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Qn(this.display,4)||Qn(this.display,33554432)||Qn(this.display,268435456)||Qn(this.display,536870912)||Qn(this.display,67108864)||Qn(this.display,134217728)},t}(),lH=function(){function t(e,r){this.content=pt(e,ZQ,r.content),this.quotes=pt(e,nH,r.quotes)}return t}(),rT=function(){function t(e,r){this.counterIncrement=pt(e,eH,r.counterIncrement),this.counterReset=pt(e,tH,r.counterReset)}return t}(),pt=function(t,e,r){var n=new E8,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var a=new C8(n.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,Fr(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return Em.parse(t,a.parseComponentValue());case"color":return YA.parse(t,a.parseComponentValue());case"image":return jE.parse(t,a.parseComponentValue());case"length":var A=a.parseComponentValue();return Al(A)?A:gi;case"length-percentage":var c=a.parseComponentValue();return Rn(c)?c:gi;case"time":return H8.parse(t,a.parseComponentValue())}break}},cH="data-html2canvas-debug",uH=function(t){var e=t.getAttribute(cH);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yw=function(t,e){var r=uH(t);return r===1||e===r},mo=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yw(r,3))debugger;this.styles=new AH(e,window.getComputedStyle(r,null)),_w(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=wm(this.context,r),yw(r,4)&&(this.flags|=16)}return t}(),fH="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",nT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _1=0;_1<nT.length;_1++)Tf[nT.charCodeAt(_1)]=_1;var hH=function(t){var e=t.length*.75,r=t.length,n,i=0,a,s,A,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=Tf[t.charCodeAt(n)],s=Tf[t.charCodeAt(n+1)],A=Tf[t.charCodeAt(n+2)],c=Tf[t.charCodeAt(n+3)],h[i++]=a<<2|s>>4,h[i++]=(s&15)<<4|A>>2,h[i++]=(A&3)<<6|c&63;return u},dH=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},gH=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},nc=5,GE=11,p2=2,pH=GE-nc,V8=65536>>nc,mH=1<<nc,m2=mH-1,xH=1024>>nc,vH=V8+xH,wH=vH,yH=32,EH=wH+yH,CH=65536>>GE,_H=1<<pH,BH=_H-1,iT=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},bH=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},TH=function(t,e){var r=hH(t),n=Array.isArray(r)?gH(r):new Uint32Array(r),i=Array.isArray(r)?dH(r):new Uint16Array(r),a=24,s=iT(i,a/2,n[4]/2),A=n[5]===2?iT(i,(a+n[4])/2):bH(n,Math.ceil((a+n[4])/4));return new SH(n[0],n[1],n[2],n[3],s,A)},SH=function(){function t(e,r,n,i,a,s){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=s}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>nc],r=(r<<p2)+(e&m2),this.data[r];if(e<=65535)return r=this.index[V8+(e-55296>>nc)],r=(r<<p2)+(e&m2),this.data[r];if(e<this.highStart)return r=EH-CH+(e>>GE),r=this.index[r],r+=e>>nc&BH,r=this.index[r],r=(r<<p2)+(e&m2),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),aT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var B1=0;B1<aT.length;B1++)IH[aT.charCodeAt(B1)]=B1;var NH=1,x2=2,v2=3,sT=4,oT=5,FH=7,AT=8,w2=9,y2=10,lT=11,cT=12,uT=13,fT=14,E2=15,RH=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},DH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var s=t[i];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},kH=TH(fH),$a="",C2="",UH=function(t){return kH.get(t)},MH=function(t,e,r){var n=r-2,i=e[n],a=e[r-1],s=e[r];if(a===x2&&s===v2)return $a;if(a===x2||a===v2||a===sT||s===x2||s===v2||s===sT)return C2;if(a===AT&&[AT,w2,lT,cT].indexOf(s)!==-1||(a===lT||a===w2)&&(s===w2||s===y2)||(a===cT||a===y2)&&s===y2||s===uT||s===oT||s===FH||a===NH)return $a;if(a===uT&&s===fT){for(;i===oT;)i=e[--n];if(i===fT)return $a}if(a===E2&&s===E2){for(var A=0;i===E2;)A++,i=e[--n];if(A%2===0)return $a}return C2},OH=function(t){var e=RH(t),r=e.length,n=0,i=0,a=e.map(UH);return{next:function(){if(n>=r)return{done:!0,value:null};for(var s=$a;n<r&&(s=MH(e,a,++n))===$a;);if(s!==$a||n===r){var A=DH.apply(null,e.slice(i,n));return i=n,{value:A,done:!1}}return{done:!0,value:null}}}},LH=function(t){for(var e=OH(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},PH=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(t.body.removeChild(n),a===e)return!0}}return!1},QH=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=ym(n.data).map(function(c){return wn(c)}),a=0,s={},A=i.every(function(c,u){r.setStart(n,a),r.setEnd(n,a+c.length);var h=r.getBoundingClientRect();a+=c.length;var m=h.x>s.x||h.y>s.y;return s=h,u===0?!0:m});return t.body.removeChild(e),A},HH=function(){return typeof new Image().crossOrigin<"u"},VH=function(){return typeof new XMLHttpRequest().responseType=="string"},jH=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},hT=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},GH=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=e.toDataURL();i.src=a;var s=Ew(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),dT(s).then(function(A){n.drawImage(A,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=r+"px",hT(c)?dT(Ew(r,r,0,0,u)):Promise.reject(!1)}).then(function(A){return n.drawImage(A,0,0),hT(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Ew=function(t,e,r,n,i){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),A=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",n.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(A),A.appendChild(i),s},dT=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ai={get SUPPORT_RANGE_BOUNDS(){var t=PH(document);return Object.defineProperty(Ai,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ai.SUPPORT_RANGE_BOUNDS&&QH(document);return Object.defineProperty(Ai,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jH(document);return Object.defineProperty(Ai,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?GH(document):Promise.resolve(!1);return Object.defineProperty(Ai,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=HH();return Object.defineProperty(Ai,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=VH();return Object.defineProperty(Ai,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ai,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ai,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},rh=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),KH=function(t,e,r,n){var i=XH(e,r),a=[],s=0;return i.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Ai.SUPPORT_RANGE_BOUNDS){var c=gT(n,s,A.length).getClientRects();if(c.length>1){var u=KE(A),h=0;u.forEach(function(v){a.push(new rh(v,Jo.fromDOMRectList(t,gT(n,h+s,v.length).getClientRects()))),h+=v.length})}else a.push(new rh(A,Jo.fromDOMRectList(t,c)))}else{var m=n.splitText(A.length);a.push(new rh(A,zH(t,n))),n=m}else Ai.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));s+=A.length}),a},zH=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=wm(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return Jo.EMPTY},gT=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},KE=function(t){if(Ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return LH(t)},WH=function(t,e){if(Ai.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return YH(t,e)},XH=function(t,e){return e.letterSpacing!==0?KE(t):WH(t,e)},qH=[32,160,4961,65792,65793,4153,4241],YH=function(t,e){for(var r=CP(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var s=i.value.slice(),A=ym(s),c="";A.forEach(function(u){qH.indexOf(u)===-1?c+=wn(u):(c.length&&n.push(c),n.push(wn(u)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)a();return n},JH=function(){function t(e,r,n){this.text=$H(r.data,n.textTransform),this.textBounds=KH(e,this.text,n,r)}return t}(),$H=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ZH,eV);case 2:return t.toUpperCase();default:return t}},ZH=/(^|\s|:|-|\(|\))([a-z])/g,eV=function(t,e,r){return t.length>0?e+r.toUpperCase():t},j8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(mo),G8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(mo),K8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=new XMLSerializer,s=wm(r,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(mo),z8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(mo),Cw=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(mo),tV=[{type:15,flags:0,unit:"px",number:3}],rV=[{type:16,flags:0,number:50}],nV=function(t){return t.width>t.height?new Jo(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Jo(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},iV=function(t){var e=t.type===aV?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},hp="checkbox",dp="radio",aV="password",pT=707406591,zE=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=iV(n),(i.type===hp||i.type===dp)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=nV(i.bounds)),i.type){case hp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=tV;break;case dp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=rV;break}return i}return e}(mo),W8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(mo),X8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(mo),q8=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=J8(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?eh(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Vo.TRANSPARENT,s=n.contentWindow.document.body?eh(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Vo.TRANSPARENT;i.backgroundColor=JA(a)?JA(s)?i.styles.backgroundColor:s:a}}catch{}return i}return e}(mo),sV=["OL","UL","MENU"],bg=function(t,e,r,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,$8(i)&&i.data.trim().length>0)r.textNodes.push(new JH(t,i,r.styles));else if(Su(i))if(rD(i)&&i.assignedNodes)i.assignedNodes().forEach(function(A){return bg(t,A,r,n)});else{var s=Y8(t,i);s.styles.isVisible()&&(oV(i,s,n)?s.flags|=4:AV(s.styles)&&(s.flags|=2),sV.indexOf(i.tagName)!==-1&&(s.flags|=8),r.elements.push(s),i.slot,i.shadowRoot?bg(t,i.shadowRoot,s,n):!gp(i)&&!Z8(i)&&!pp(i)&&bg(t,i,s,n))}},Y8=function(t,e){return Bw(e)?new j8(t,e):eD(e)?new G8(t,e):Z8(e)?new K8(t,e):lV(e)?new z8(t,e):cV(e)?new Cw(t,e):uV(e)?new zE(t,e):pp(e)?new W8(t,e):gp(e)?new X8(t,e):tD(e)?new q8(t,e):new mo(t,e)},J8=function(t,e){var r=Y8(t,e);return r.flags|=4,bg(t,e,r,r),r},oV=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||WE(t)&&r.styles.isTransparent()},AV=function(t){return t.isPositioned()||t.isFloating()},$8=function(t){return t.nodeType===Node.TEXT_NODE},Su=function(t){return t.nodeType===Node.ELEMENT_NODE},_w=function(t){return Su(t)&&typeof t.style<"u"&&!Tg(t)},Tg=function(t){return typeof t.className=="object"},lV=function(t){return t.tagName==="LI"},cV=function(t){return t.tagName==="OL"},uV=function(t){return t.tagName==="INPUT"},fV=function(t){return t.tagName==="HTML"},Z8=function(t){return t.tagName==="svg"},WE=function(t){return t.tagName==="BODY"},eD=function(t){return t.tagName==="CANVAS"},mT=function(t){return t.tagName==="VIDEO"},Bw=function(t){return t.tagName==="IMG"},tD=function(t){return t.tagName==="IFRAME"},xT=function(t){return t.tagName==="STYLE"},hV=function(t){return t.tagName==="SCRIPT"},gp=function(t){return t.tagName==="TEXTAREA"},pp=function(t){return t.tagName==="SELECT"},rD=function(t){return t.tagName==="SLOT"},vT=function(t){return t.tagName.indexOf("-")>0},dV=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(A){var c=r.counters[A.counter];c&&A.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=A.increment)});var s=[];return a&&i.forEach(function(A){var c=r.counters[A.counter];s.push(A.counter),c||(c=r.counters[A.counter]=[]),c.push(A.reset)}),s},t}(),wT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},yT={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$c=function(t,e,r,n,i,a){return t<e||t>r?Uh(t,i,a.length>0):n.integers.reduce(function(s,A,c){for(;t>=A;)t-=A,s+=n.values[c];return s},"")+a},nD=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},xn=function(t,e,r,n,i){var a=r-e+1;return(t<0?"-":"")+(nD(Math.abs(t),a,n,function(s){return wn(Math.floor(s%a)+e)})+i)},Ul=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return nD(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},lu=1,mA=2,xA=4,Sf=8,Io=function(t,e,r,n,i,a){if(t<-9999||t>9999)return Uh(t,4,i.length>0);var s=Math.abs(t),A=i;if(s===0)return e[0]+A;for(var c=0;s>0&&c<=4;c++){var u=s%10;u===0&&Qn(a,lu)&&A!==""?A=e[u]+A:u>1||u===1&&c===0||u===1&&c===1&&Qn(a,mA)||u===1&&c===1&&Qn(a,xA)&&t>100||u===1&&c>1&&Qn(a,Sf)?A=e[u]+(c>0?r[c-1]:"")+A:u===1&&c>0&&(A=r[c-1]+A),s=Math.floor(s/10)}return(t<0?n:"")+A},ET="",CT="",_T="",_2="",Uh=function(t,e,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",s=r?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var A=xn(t,48,57,!0,n);return A.length<4?"0"+A:A;case 4:return Ul(t,"",i);case 6:return $c(t,1,3999,wT,3,n).toLowerCase();case 7:return $c(t,1,3999,wT,3,n);case 8:return xn(t,945,969,!1,n);case 9:return xn(t,97,122,!1,n);case 10:return xn(t,65,90,!1,n);case 11:return xn(t,1632,1641,!0,n);case 12:case 49:return $c(t,1,9999,yT,3,n);case 35:return $c(t,1,9999,yT,3,n).toLowerCase();case 13:return xn(t,2534,2543,!0,n);case 14:case 30:return xn(t,6112,6121,!0,n);case 15:return Ul(t,"",i);case 16:return Ul(t,"",i);case 17:case 48:return Io(t,"",ET,"",i,mA|xA|Sf);case 47:return Io(t,"",CT,"",i,lu|mA|xA|Sf);case 42:return Io(t,"",ET,"",i,mA|xA|Sf);case 41:return Io(t,"",CT,"",i,lu|mA|xA|Sf);case 26:return Io(t,"","",_T,i,0);case 25:return Io(t,"","",_T,i,lu|mA|xA);case 31:return Io(t,"","",_2,a,lu|mA|xA);case 33:return Io(t,"","",_2,a,0);case 32:return Io(t,"","",_2,a,lu|mA|xA);case 18:return xn(t,2406,2415,!0,n);case 20:return $c(t,1,19999,pV,3,n);case 21:return xn(t,2790,2799,!0,n);case 22:return xn(t,2662,2671,!0,n);case 22:return $c(t,1,10999,gV,3,n);case 23:return Ul(t,"");case 24:return Ul(t,"");case 27:return xn(t,3302,3311,!0,n);case 28:return Ul(t,"",i);case 29:return Ul(t,"",i);case 34:return xn(t,3792,3801,!0,n);case 37:return xn(t,6160,6169,!0,n);case 38:return xn(t,4160,4169,!0,n);case 39:return xn(t,2918,2927,!0,n);case 40:return xn(t,1776,1785,!0,n);case 43:return xn(t,3046,3055,!0,n);case 44:return xn(t,3174,3183,!0,n);case 45:return xn(t,3664,3673,!0,n);case 46:return xn(t,3872,3881,!0,n);case 3:default:return xn(t,48,57,!0,n)}},iD="data-html2canvas-ignore",BT=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new dV,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=mV(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,A=i.contentWindow,c=A.document,u=wV(i).then(function(){return Qi(n,void 0,void 0,function(){var h,m;return Bi(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(_V),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),h=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vV(c)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(c,m)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(EV(document.doctype)+"<html></html>"),CV(this.referenceElement.ownerDocument,a,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(yw(e,2))debugger;if(eD(e))return this.createCanvasClone(e);if(mT(e))return this.createVideoClone(e);if(xT(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Bw(r)&&(Bw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),vT(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return B2(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),s=i.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var A=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(A){var c=A.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Su(r)||!hV(r)&&!r.hasAttribute(iD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Su(r)||!xT(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Su(a)&&rD(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(A){return i.appendChildNode(r,A,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if($8(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Su(e)&&(_w(e)||Tg(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),A=n.getComputedStyle(e,":after");this.referenceElement===e&&_w(i)&&(this.clonedReferenceElement=i),WE(i)&&TV(i);var c=this.counters.parse(new rT(this.context,a)),u=this.resolvePseudoContent(e,i,s,nh.BEFORE);vT(e)&&(r=!0),mT(e)||this.cloneChildNodes(e,i,r),u&&i.insertBefore(u,i.firstChild);var h=this.resolvePseudoContent(e,i,A,nh.AFTER);return h&&i.appendChild(h),this.counters.pop(c),(a&&(this.options.copyStyles||Tg(e))&&!tD(e)||r)&&B2(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(gp(e)||pp(e))&&(gp(i)||pp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var a=this;if(n){var s=n.content,A=r.ownerDocument;if(!(!A||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new rT(this.context,n));var c=new lH(this.context,n),u=A.createElement("html2canvaspseudoelement");B2(n,u),c.content.forEach(function(m){if(m.type===0)u.appendChild(A.createTextNode(m.value));else if(m.type===22){var v=A.createElement("img");v.src=m.value,v.style.opacity="1",u.appendChild(v)}else if(m.type===18){if(m.name==="attr"){var _=m.values.filter(Fr);_.length&&u.appendChild(A.createTextNode(e.getAttribute(_[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(A0),T=b[0],I=b[1];if(T&&Fr(T)){var k=a.counters.getCounterValue(T.value),R=I&&Fr(I)?ww.parse(a.context,I.value):3;u.appendChild(A.createTextNode(Uh(k,R,!1)))}}else if(m.name==="counters"){var F=m.values.filter(A0),T=F[0],L=F[1],I=F[2];if(T&&Fr(T)){var W=a.counters.getCounterValues(T.value),P=I&&Fr(I)?ww.parse(a.context,I.value):3,N=L&&L.type===0?L.value:"",M=W.map(function(G){return Uh(G,P,!1)}).join(N);u.appendChild(A.createTextNode(M))}}}else if(m.type===20)switch(m.value){case"open-quote":u.appendChild(A.createTextNode(tT(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(A.createTextNode(tT(c.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(A.createTextNode(m.value))}}),u.className=bw+" "+Tw;var h=i===nh.BEFORE?" "+bw:" "+Tw;return Tg(r)?r.className.baseValue+=h:r.className+=h,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),nh;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(nh||(nh={}));var mV=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(iD,"true"),t.body.appendChild(r),r},xV=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},vV=function(t){return Promise.all([].slice.call(t.images,0).map(xV))},wV=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},yV=["all","d","content"],B2=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);yV.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},EV=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},CV=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},_V=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},BV=":before",bV=":after",bw="___html2canvas___pseudoelement_before",Tw="___html2canvas___pseudoelement_after",bT=`{
    content: "" !important;
    display: none !important;
}`,TV=function(t){SV(t,"."+bw+BV+bT+`
         .`+Tw+bV+bT)},SV=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},aD=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),IV=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(T2(e)||DV(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Qi(this,void 0,void 0,function(){var r,n,i,a,s=this;return Bi(this,function(A){switch(A.label){case 0:return r=aD.isSameOrigin(e),n=!b2(e)&&this._options.useCORS===!0&&Ai.SUPPORT_CORS_IMAGES&&!r,i=!b2(e)&&!r&&!T2(e)&&typeof this._options.proxy=="string"&&Ai.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!b2(e)&&!T2(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var h=new Image;h.onload=function(){return c(h)},h.onerror=u,(kV(a)||n)&&(h.crossOrigin="anonymous"),h.src=a,h.complete===!0&&setTimeout(function(){return c(h)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,s){var A=Ai.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(A==="text")a(c.response);else{var m=new FileReader;m.addEventListener("load",function(){return a(m.result)},!1),m.addEventListener("error",function(v){return s(v)},!1),m.readAsDataURL(c.response)}else s("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=s;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+A),A!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=A),r._options.imageTimeout){var h=r._options.imageTimeout;c.timeout=h,c.ontimeout=function(){return s("Timed out ("+h+"ms) proxying "+i)}}c.send()})},t}(),NV=/^data:image\/svg\+xml/i,FV=/^data:image\/.*;base64,/i,RV=/^data:image\/.*/i,DV=function(t){return Ai.SUPPORT_SVG_DRAWING||!UV(t)},b2=function(t){return RV.test(t)},kV=function(t){return FV.test(t)},T2=function(t){return t.substr(0,4)==="blob"},UV=function(t){return t.substr(-3).toLowerCase()==="svg"||NV.test(t)},gt=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Zc=function(t,e,r){return new gt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},b1=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Zc(this.start,this.startControl,e),i=Zc(this.startControl,this.endControl,e),a=Zc(this.endControl,this.end,e),s=Zc(n,i,e),A=Zc(i,a,e),c=Zc(s,A,e);return r?new t(this.start,n,s,c):new t(c,A,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),is=function(t){return t.type===1},MV=function(){function t(e){var r=e.styles,n=e.bounds,i=bf(r.borderTopLeftRadius,n.width,n.height),a=i[0],s=i[1],A=bf(r.borderTopRightRadius,n.width,n.height),c=A[0],u=A[1],h=bf(r.borderBottomRightRadius,n.width,n.height),m=h[0],v=h[1],_=bf(r.borderBottomLeftRadius,n.width,n.height),b=_[0],T=_[1],I=[];I.push((a+c)/n.width),I.push((b+m)/n.width),I.push((s+T)/n.height),I.push((u+v)/n.height);var k=Math.max.apply(Math,I);k>1&&(a/=k,s/=k,c/=k,u/=k,m/=k,v/=k,b/=k,T/=k);var R=n.width-c,F=n.height-v,L=n.width-m,W=n.height-T,P=r.borderTopWidth,N=r.borderRightWidth,M=r.borderBottomWidth,D=r.borderLeftWidth,Q=Ur(r.paddingTop,e.bounds.width),G=Ur(r.paddingRight,e.bounds.width),j=Ur(r.paddingBottom,e.bounds.width),V=Ur(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?Yr(n.left+D/3,n.top+P/3,a-D/3,s-P/3,Er.TOP_LEFT):new gt(n.left+D/3,n.top+P/3),this.topRightBorderDoubleOuterBox=a>0||s>0?Yr(n.left+R,n.top+P/3,c-N/3,u-P/3,Er.TOP_RIGHT):new gt(n.left+n.width-N/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=m>0||v>0?Yr(n.left+L,n.top+F,m-N/3,v-M/3,Er.BOTTOM_RIGHT):new gt(n.left+n.width-N/3,n.top+n.height-M/3),this.bottomLeftBorderDoubleOuterBox=b>0||T>0?Yr(n.left+D/3,n.top+W,b-D/3,T-M/3,Er.BOTTOM_LEFT):new gt(n.left+D/3,n.top+n.height-M/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?Yr(n.left+D*2/3,n.top+P*2/3,a-D*2/3,s-P*2/3,Er.TOP_LEFT):new gt(n.left+D*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?Yr(n.left+R,n.top+P*2/3,c-N*2/3,u-P*2/3,Er.TOP_RIGHT):new gt(n.left+n.width-N*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=m>0||v>0?Yr(n.left+L,n.top+F,m-N*2/3,v-M*2/3,Er.BOTTOM_RIGHT):new gt(n.left+n.width-N*2/3,n.top+n.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||T>0?Yr(n.left+D*2/3,n.top+W,b-D*2/3,T-M*2/3,Er.BOTTOM_LEFT):new gt(n.left+D*2/3,n.top+n.height-M*2/3),this.topLeftBorderStroke=a>0||s>0?Yr(n.left+D/2,n.top+P/2,a-D/2,s-P/2,Er.TOP_LEFT):new gt(n.left+D/2,n.top+P/2),this.topRightBorderStroke=a>0||s>0?Yr(n.left+R,n.top+P/2,c-N/2,u-P/2,Er.TOP_RIGHT):new gt(n.left+n.width-N/2,n.top+P/2),this.bottomRightBorderStroke=m>0||v>0?Yr(n.left+L,n.top+F,m-N/2,v-M/2,Er.BOTTOM_RIGHT):new gt(n.left+n.width-N/2,n.top+n.height-M/2),this.bottomLeftBorderStroke=b>0||T>0?Yr(n.left+D/2,n.top+W,b-D/2,T-M/2,Er.BOTTOM_LEFT):new gt(n.left+D/2,n.top+n.height-M/2),this.topLeftBorderBox=a>0||s>0?Yr(n.left,n.top,a,s,Er.TOP_LEFT):new gt(n.left,n.top),this.topRightBorderBox=c>0||u>0?Yr(n.left+R,n.top,c,u,Er.TOP_RIGHT):new gt(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||v>0?Yr(n.left+L,n.top+F,m,v,Er.BOTTOM_RIGHT):new gt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||T>0?Yr(n.left,n.top+W,b,T,Er.BOTTOM_LEFT):new gt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?Yr(n.left+D,n.top+P,Math.max(0,a-D),Math.max(0,s-P),Er.TOP_LEFT):new gt(n.left+D,n.top+P),this.topRightPaddingBox=c>0||u>0?Yr(n.left+Math.min(R,n.width-N),n.top+P,R>n.width+N?0:Math.max(0,c-N),Math.max(0,u-P),Er.TOP_RIGHT):new gt(n.left+n.width-N,n.top+P),this.bottomRightPaddingBox=m>0||v>0?Yr(n.left+Math.min(L,n.width-D),n.top+Math.min(F,n.height-M),Math.max(0,m-N),Math.max(0,v-M),Er.BOTTOM_RIGHT):new gt(n.left+n.width-N,n.top+n.height-M),this.bottomLeftPaddingBox=b>0||T>0?Yr(n.left+D,n.top+Math.min(W,n.height-M),Math.max(0,b-D),Math.max(0,T-M),Er.BOTTOM_LEFT):new gt(n.left+D,n.top+n.height-M),this.topLeftContentBox=a>0||s>0?Yr(n.left+D+V,n.top+P+Q,Math.max(0,a-(D+V)),Math.max(0,s-(P+Q)),Er.TOP_LEFT):new gt(n.left+D+V,n.top+P+Q),this.topRightContentBox=c>0||u>0?Yr(n.left+Math.min(R,n.width+D+V),n.top+P+Q,R>n.width+D+V?0:c-D+V,u-(P+Q),Er.TOP_RIGHT):new gt(n.left+n.width-(N+G),n.top+P+Q),this.bottomRightContentBox=m>0||v>0?Yr(n.left+Math.min(L,n.width-(D+V)),n.top+Math.min(F,n.height+P+Q),Math.max(0,m-(N+G)),v-(M+j),Er.BOTTOM_RIGHT):new gt(n.left+n.width-(N+G),n.top+n.height-(M+j)),this.bottomLeftContentBox=b>0||T>0?Yr(n.left+D+V,n.top+W,Math.max(0,b-(D+V)),T-(M+j),Er.BOTTOM_LEFT):new gt(n.left+D+V,n.top+n.height-(M+j))}return t}(),Er;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Er||(Er={}));var Yr=function(t,e,r,n,i){var a=4*((Math.sqrt(2)-1)/3),s=r*a,A=n*a,c=t+r,u=e+n;switch(i){case Er.TOP_LEFT:return new b1(new gt(t,u),new gt(t,u-A),new gt(c-s,e),new gt(c,e));case Er.TOP_RIGHT:return new b1(new gt(t,e),new gt(t+s,e),new gt(c,u-A),new gt(c,u));case Er.BOTTOM_RIGHT:return new b1(new gt(c,e),new gt(c,e+A),new gt(t+s,u),new gt(t,u));case Er.BOTTOM_LEFT:default:return new b1(new gt(c,u),new gt(c-s,u),new gt(t,e+A),new gt(t,e))}},mp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},OV=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},xp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},LV=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),T1=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),PV=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),QV=function(t){return t.type===0},sD=function(t){return t.type===1},HV=function(t){return t.type===2},TT=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},VV=function(t,e,r,n,i){return t.map(function(a,s){switch(s){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+i);case 3:return a.add(e,r+i)}return a})},oD=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),AD=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new MV(this.container),this.container.styles.opacity<1&&this.effects.push(new PV(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new LV(n,i,a))}if(this.container.styles.overflowX!==0){var s=mp(this.curves),A=xp(this.curves);TT(s,A)?this.effects.push(new T1(s,6)):(this.effects.push(new T1(s,2)),this.effects.push(new T1(A,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!sD(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=mp(n.curves),A=xp(n.curves);TT(s,A)||i.unshift(new T1(A,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return Qn(c.target,e)})},t}(),Sw=function(t,e,r,n){t.container.elements.forEach(function(i){var a=Qn(i.flags,4),s=Qn(i.flags,2),A=new AD(i,t);Qn(i.styles.display,2048)&&n.push(A);var c=Qn(i.flags,8)?[]:n;if(a||s){var u=a||i.styles.isPositioned()?r:e,h=new oD(A);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var m=i.styles.zIndex.order;if(m<0){var v=0;u.negativeZIndex.some(function(b,T){return m>b.element.container.styles.zIndex.order?(v=T,!1):v>0}),u.negativeZIndex.splice(v,0,h)}else if(m>0){var _=0;u.positiveZIndex.some(function(b,T){return m>=b.element.container.styles.zIndex.order?(_=T+1,!1):_>0}),u.positiveZIndex.splice(_,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else i.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);Sw(A,h,a?h:r,c)}else i.styles.isInlineLevel()?e.inlineLevel.push(A):e.nonInlineLevel.push(A),Sw(A,e,r,c);Qn(i.flags,8)&&lD(i,c)})},lD=function(t,e){for(var r=t instanceof Cw?t.start:1,n=t instanceof Cw?t.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof z8&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Uh(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},jV=function(t){var e=new AD(t,null),r=new oD(e),n=[];return Sw(e,r,r,n),lD(e.container,n),r},ST=function(t,e){switch(e){case 0:return cs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return cs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return cs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return cs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},GV=function(t,e){switch(e){case 0:return cs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return cs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return cs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return cs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},KV=function(t,e){switch(e){case 0:return cs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return cs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return cs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return cs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},zV=function(t,e){switch(e){case 0:return S1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return S1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return S1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return S1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},S1=function(t,e){var r=[];return is(t)?r.push(t.subdivide(.5,!1)):r.push(t),is(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},cs=function(t,e,r,n){var i=[];return is(t)?i.push(t.subdivide(.5,!1)):i.push(t),is(r)?i.push(r.subdivide(.5,!0)):i.push(r),is(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),is(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},cD=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},vp=function(t){var e=t.styles,r=t.bounds,n=Ur(e.paddingLeft,r.width),i=Ur(e.paddingRight,r.width),a=Ur(e.paddingTop,r.width),s=Ur(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+s))},WV=function(t,e){return t===0?e.bounds:t===2?vp(e):cD(e)},XV=function(t,e){return t===0?e.bounds:t===2?vp(e):cD(e)},S2=function(t,e,r){var n=WV(cu(t.styles.backgroundOrigin,e),t),i=XV(cu(t.styles.backgroundClip,e),t),a=qV(cu(t.styles.backgroundSize,e),r,n),s=a[0],A=a[1],c=bf(cu(t.styles.backgroundPosition,e),n.width-s,n.height-A),u=YV(cu(t.styles.backgroundRepeat,e),c,a,n,i),h=Math.round(n.left+c[0]),m=Math.round(n.top+c[1]);return[u,h,m,s,A]},eu=function(t){return Fr(t)&&t.value===Vu.AUTO},I1=function(t){return typeof t=="number"},qV=function(t,e,r){var n=e[0],i=e[1],a=e[2],s=t[0],A=t[1];if(!s)return[0,0];if(Rn(s)&&A&&Rn(A))return[Ur(s,r.width),Ur(A,r.height)];var c=I1(a);if(Fr(s)&&(s.value===Vu.CONTAIN||s.value===Vu.COVER)){if(I1(a)){var u=r.width/r.height;return u<a!=(s.value===Vu.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var h=I1(n),m=I1(i),v=h||m;if(eu(s)&&(!A||eu(A))){if(h&&m)return[n,i];if(!c&&!v)return[r.width,r.height];if(v&&c){var _=h?n:i*a,b=m?i:n/a;return[_,b]}var T=h?n:r.width,I=m?i:r.height;return[T,I]}if(c){var k=0,R=0;return Rn(s)?k=Ur(s,r.width):Rn(A)&&(R=Ur(A,r.height)),eu(s)?k=R*a:(!A||eu(A))&&(R=k/a),[k,R]}var F=null,L=null;if(Rn(s)?F=Ur(s,r.width):A&&Rn(A)&&(L=Ur(A,r.height)),F!==null&&(!A||eu(A))&&(L=h&&m?F/n*i:r.height),L!==null&&eu(s)&&(F=h&&m?L/i*n:r.width),F!==null&&L!==null)return[F,L];throw new Error("Unable to calculate background-size for element")},cu=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},YV=function(t,e,r,n,i){var a=e[0],s=e[1],A=r[0],c=r[1];switch(t){case 2:return[new gt(Math.round(n.left),Math.round(n.top+s)),new gt(Math.round(n.left+n.width),Math.round(n.top+s)),new gt(Math.round(n.left+n.width),Math.round(c+n.top+s)),new gt(Math.round(n.left),Math.round(c+n.top+s))];case 3:return[new gt(Math.round(n.left+a),Math.round(n.top)),new gt(Math.round(n.left+a+A),Math.round(n.top)),new gt(Math.round(n.left+a+A),Math.round(n.height+n.top)),new gt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new gt(Math.round(n.left+a),Math.round(n.top+s)),new gt(Math.round(n.left+a+A),Math.round(n.top+s)),new gt(Math.round(n.left+a+A),Math.round(n.top+s+c)),new gt(Math.round(n.left+a),Math.round(n.top+s+c))];default:return[new gt(Math.round(i.left),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.top)),new gt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new gt(Math.round(i.left),Math.round(i.height+i.top))]}},JV="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",IT="Hidden Text",$V=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),i.src=JV,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(IT)),n.appendChild(a),n.appendChild(i);var A=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(IT)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:A,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),uD=function(){function t(e,r){this.context=e,this.options=r}return t}(),ZV=1e4,ej=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new $V(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),HV(r)&&(this.ctx.globalAlpha=r.opacity),QV(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),sD(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Qi(this,void 0,void 0,function(){var n;return Bi(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Qi(this,void 0,void 0,function(){return Bi(this,function(n){switch(n.label){case 0:if(Qn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var s=KE(r.text);s.reduce(function(A,c){return a.ctx.fillText(c,A,r.bounds.top+i),A+a.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),i=aj(r.fontFamily).join(", "),a=dd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(r,n){return Qi(this,void 0,void 0,function(){var i,a,s,A,c,u,h,m,v=this;return Bi(this,function(_){return i=this.createFontStyle(n),a=i[0],s=i[1],A=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(s,A),u=c.baseline,h=c.middle,m=n.paintOrder,r.textBounds.forEach(function(b){m.forEach(function(T){switch(T){case 0:v.ctx.fillStyle=Xn(n.color),v.renderTextWithLetterSpacing(b,n.letterSpacing,u);var I=n.textShadow;I.length&&b.text.trim().length&&(I.slice(0).reverse().forEach(function(k){v.ctx.shadowColor=Xn(k.color),v.ctx.shadowOffsetX=k.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=k.offsetY.number*v.options.scale,v.ctx.shadowBlur=k.blur.number,v.renderTextWithLetterSpacing(b,n.letterSpacing,u)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=Xn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(k){switch(k){case 1:v.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:v.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:v.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(v.ctx.strokeStyle=Xn(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=vp(r),s=xp(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Qi(this,void 0,void 0,function(){var n,i,a,s,A,c,R,R,u,h,m,v,L,_,b,W,T,I,k,R,F,L,W;return Bi(this,function(P){switch(P.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,s=0,A=n.textNodes,P.label=1;case 1:return s<A.length?(c=A[s],[4,this.renderTextNode(c,a)]):[3,4];case 2:P.sent(),P.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof j8))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return R=P.sent(),this.renderReplacedElement(n,i,R),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof G8&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof K8))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return R=P.sent(),this.renderReplacedElement(n,i,R),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof q8&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:h=P.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof zE&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===hp?n.checked&&(this.ctx.save(),this.path([new gt(n.bounds.left+m*.39363,n.bounds.top+m*.79),new gt(n.bounds.left+m*.16,n.bounds.top+m*.5549),new gt(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new gt(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new gt(n.bounds.left+m*.72983,n.bounds.top+m*.23),new gt(n.bounds.left+m*.84,n.bounds.top+m*.34085),new gt(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=Xn(pT),this.ctx.fill(),this.ctx.restore()):n.type===dp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xn(pT),this.ctx.fill(),this.ctx.restore())),tj(n)&&n.value.length){switch(v=this.createFontStyle(a),L=v[0],_=v[1],b=this.fontMetrics.getMetrics(L,_).baseline,this.ctx.font=L,this.ctx.fillStyle=Xn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nj(n.styles.textAlign),W=vp(n),T=0,n.styles.textAlign){case 1:T+=W.width/2;break;case 2:T+=W.width;break}I=W.add(T,0,0,-W.height/2+1),this.ctx.save(),this.path([new gt(W.left,W.top),new gt(W.left+W.width,W.top),new gt(W.left+W.width,W.top+W.height),new gt(W.left,W.top+W.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new rh(n.value,I),a.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(k=n.styles.listStyleImage,k.type!==0)return[3,18];R=void 0,F=k.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(F)];case 16:return R=P.sent(),this.ctx.drawImage(R,n.bounds.left-(R.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+F),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(L=this.createFontStyle(a)[0],this.ctx.font=L,this.ctx.fillStyle=Xn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",W=new Jo(n.bounds.left,n.bounds.top+Ur(n.styles.paddingTop,n.bounds.width),n.bounds.width,Zb(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new rh(r.listValue,W),a.letterSpacing,Zb(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Qi(this,void 0,void 0,function(){var n,i,k,a,s,k,A,c,k,u,h,k,m,v,k,_,b,k,T,I,k;return Bi(this,function(R){switch(R.label){case 0:if(Qn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:R.sent(),n=0,i=r.negativeZIndex,R.label=2;case 2:return n<i.length?(k=i[n],[4,this.renderStack(k)]):[3,5];case 3:R.sent(),R.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:R.sent(),a=0,s=r.nonInlineLevel,R.label=7;case 7:return a<s.length?(k=s[a],[4,this.renderNode(k)]):[3,10];case 8:R.sent(),R.label=9;case 9:return a++,[3,7];case 10:A=0,c=r.nonPositionedFloats,R.label=11;case 11:return A<c.length?(k=c[A],[4,this.renderStack(k)]):[3,14];case 12:R.sent(),R.label=13;case 13:return A++,[3,11];case 14:u=0,h=r.nonPositionedInlineLevel,R.label=15;case 15:return u<h.length?(k=h[u],[4,this.renderStack(k)]):[3,18];case 16:R.sent(),R.label=17;case 17:return u++,[3,15];case 18:m=0,v=r.inlineLevel,R.label=19;case 19:return m<v.length?(k=v[m],[4,this.renderNode(k)]):[3,22];case 20:R.sent(),R.label=21;case 21:return m++,[3,19];case 22:_=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,R.label=23;case 23:return _<b.length?(k=b[_],[4,this.renderStack(k)]):[3,26];case 24:R.sent(),R.label=25;case 25:return _++,[3,23];case 26:T=0,I=r.positiveZIndex,R.label=27;case 27:return T<I.length?(k=I[T],[4,this.renderStack(k)]):[3,30];case 28:R.sent(),R.label=29;case 29:return T++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var s=is(i)?i.start:i;a===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),is(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,A=s.createElement("canvas");A.width=Math.max(1,n),A.height=Math.max(1,i);var c=A.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),A},e.prototype.renderBackgroundImage=function(r){return Qi(this,void 0,void 0,function(){var n,i,a,s,A,c;return Bi(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,i=function(h){var m,v,_,Q,de,ne,V,Ce,M,b,Q,de,ne,V,Ce,T,I,k,R,F,L,W,P,N,M,D,Q,G,j,V,Ce,le,de,ne,De,he,Le,Ze,Z,ge,ce,se;return Bi(this,function(fe){switch(fe.label){case 0:if(h.type!==0)return[3,5];m=void 0,v=h.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,a.context.cache.match(v)];case 2:return m=fe.sent(),[3,4];case 3:return fe.sent(),a.context.logger.error("Error loading background-image "+v),[3,4];case 4:return m&&(_=S2(r,n,[m.width,m.height,m.width/m.height]),Q=_[0],de=_[1],ne=_[2],V=_[3],Ce=_[4],M=a.ctx.createPattern(a.resizeImage(m,V,Ce),"repeat"),a.renderRepeat(Q,M,de,ne)),[3,6];case 5:Q7(h)?(b=S2(r,n,[null,null,null]),Q=b[0],de=b[1],ne=b[2],V=b[3],Ce=b[4],T=U7(h.angle,V,Ce),I=T[0],k=T[1],R=T[2],F=T[3],L=T[4],W=document.createElement("canvas"),W.width=V,W.height=Ce,P=W.getContext("2d"),N=P.createLinearGradient(k,F,R,L),Jb(h.stops,I).forEach(function(je){return N.addColorStop(je.stop,Xn(je.color))}),P.fillStyle=N,P.fillRect(0,0,V,Ce),V>0&&Ce>0&&(M=a.ctx.createPattern(W,"repeat"),a.renderRepeat(Q,M,de,ne))):H7(h)&&(D=S2(r,n,[null,null,null]),Q=D[0],G=D[1],j=D[2],V=D[3],Ce=D[4],le=h.position.length===0?[VE]:h.position,de=Ur(le[0],V),ne=Ur(le[le.length-1],Ce),De=M7(h,de,ne,V,Ce),he=De[0],Le=De[1],he>0&&Le>0&&(Ze=a.ctx.createRadialGradient(G+de,j+ne,0,G+de,j+ne,he),Jb(h.stops,he*2).forEach(function(je){return Ze.addColorStop(je.stop,Xn(je.color))}),a.path(Q),a.ctx.fillStyle=Ze,he!==Le?(Z=r.bounds.left+.5*r.bounds.width,ge=r.bounds.top+.5*r.bounds.height,ce=Le/he,se=1/ce,a.ctx.save(),a.ctx.translate(Z,ge),a.ctx.transform(1,0,0,ce,0,0),a.ctx.translate(-Z,-ge),a.ctx.fillRect(G,se*(j-ge)+ge,V,Ce*se),a.ctx.restore()):a.ctx.fill())),fe.label=6;case 6:return n--,[2]}})},a=this,s=0,A=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<A.length?(c=A[s],[5,i(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Qi(this,void 0,void 0,function(){return Bi(this,function(a){return this.path(ST(i,n)),this.ctx.fillStyle=Xn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,a){return Qi(this,void 0,void 0,function(){var s,A;return Bi(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return s=GV(a,i),this.path(s),this.ctx.fillStyle=Xn(r),this.ctx.fill(),A=KV(a,i),this.path(A),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Qi(this,void 0,void 0,function(){var n,i,a,s,A,c,u,h,m=this;return Bi(this,function(v){switch(v.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!JA(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=rj(cu(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),JA(n.backgroundColor)||(this.ctx.fillStyle=Xn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(_){m.ctx.save();var b=mp(r.curves),T=_.inset?0:ZV,I=VV(b,-T+(_.inset?1:-1)*_.spread.number,(_.inset?1:-1)*_.spread.number,_.spread.number*(_.inset?-2:2),_.spread.number*(_.inset?-2:2));_.inset?(m.path(b),m.ctx.clip(),m.mask(I)):(m.mask(b),m.ctx.clip(),m.path(I)),m.ctx.shadowOffsetX=_.offsetX.number+T,m.ctx.shadowOffsetY=_.offsetY.number,m.ctx.shadowColor=Xn(_.color),m.ctx.shadowBlur=_.blur.number,m.ctx.fillStyle=_.inset?Xn(_.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),v.label=2;case 2:A=0,c=0,u=a,v.label=3;case 3:return c<u.length?(h=u[c],h.style!==0&&!JA(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,A,r.curves,3)];case 6:return v.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,A,r.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,A,r.curves)];case 10:v.sent(),v.label=11;case 11:A++,v.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,a,s){return Qi(this,void 0,void 0,function(){var A,c,u,h,m,v,_,b,T,I,k,R,F,L,W,P,W,P;return Bi(this,function(N){return this.ctx.save(),A=zV(a,i),c=ST(a,i),s===2&&(this.path(c),this.ctx.clip()),is(c[0])?(u=c[0].start.x,h=c[0].start.y):(u=c[0].x,h=c[0].y),is(c[1])?(m=c[1].end.x,v=c[1].end.y):(m=c[1].x,v=c[1].y),i===0||i===2?_=Math.abs(u-m):_=Math.abs(h-v),this.ctx.beginPath(),s===3?this.formatPath(A):this.formatPath(c.slice(0,2)),b=n<3?n*3:n*2,T=n<3?n*2:n,s===3&&(b=n,T=n),I=!0,_<=b*2?I=!1:_<=b*2+T?(k=_/(2*b+T),b*=k,T*=k):(R=Math.floor((_+T)/(b+T)),F=(_-R*b)/(R-1),L=(_-(R+1)*b)/R,T=L<=0||Math.abs(T-F)<Math.abs(T-L)?F:L),I&&(s===3?this.ctx.setLineDash([0,b+T]):this.ctx.setLineDash([b,T])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Xn(r),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(is(c[0])&&(W=c[3],P=c[0],this.ctx.beginPath(),this.formatPath([new gt(W.end.x,W.end.y),new gt(P.start.x,P.start.y)]),this.ctx.stroke()),is(c[1])&&(W=c[1],P=c[2],this.ctx.beginPath(),this.formatPath([new gt(W.end.x,W.end.y),new gt(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Qi(this,void 0,void 0,function(){var n;return Bi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=jV(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(uD),tj=function(t){return t instanceof X8||t instanceof W8?!0:t instanceof zE&&t.type!==dp&&t.type!==hp},rj=function(t,e){switch(t){case 0:return mp(e);case 2:return OV(e);case 1:default:return xp(e)}},nj=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ij=["-apple-system","system-ui"],aj=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return ij.indexOf(e)===-1}):t},sj=function(t){Gs(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Qi(this,void 0,void 0,function(){var n,i;return Bi(this,function(a){switch(a.label){case 0:return n=Ew(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,oj(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(uD),oj=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Aj=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),lj=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Aj({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new IV(this,e)}return t.instanceCount=1,t}(),hc=function(t,e){return e===void 0&&(e={}),cj(t,e)};typeof window<"u"&&aD.setContext(window);var cj=function(t,e){return Qi(void 0,void 0,void 0,function(){var r,n,i,a,s,A,c,u,h,m,v,_,b,T,I,k,R,F,L,W,N,P,N,M,D,Q,G,j,V,Ce,le,de,ne,De,he,Le,Ze,Z,ge,ce;return Bi(this,function(se){switch(se.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(Q=e.useCORS)!==null&&Q!==void 0?Q:!1},a=ow({logging:(G=e.logging)!==null&&G!==void 0?G:!0,cache:e.cache},i),s={windowWidth:(j=e.windowWidth)!==null&&j!==void 0?j:n.innerWidth,windowHeight:(V=e.windowHeight)!==null&&V!==void 0?V:n.innerHeight,scrollX:(Ce=e.scrollX)!==null&&Ce!==void 0?Ce:n.pageXOffset,scrollY:(le=e.scrollY)!==null&&le!==void 0?le:n.pageYOffset},A=new Jo(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),c=new lj(a,A),u=(de=e.foreignObjectRendering)!==null&&de!==void 0?de:!1,h={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),m=new BT(c,t,h),v=m.clonedReferenceElement,v?[4,m.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return _=se.sent(),b=WE(v)||fV(v)?V9(v.ownerDocument):wm(c,v),T=b.width,I=b.height,k=b.left,R=b.top,F=uj(c,v,e.backgroundColor),L={canvas:e.canvas,backgroundColor:F,scale:(he=(De=e.scale)!==null&&De!==void 0?De:n.devicePixelRatio)!==null&&he!==void 0?he:1,x:((Le=e.x)!==null&&Le!==void 0?Le:0)+k,y:((Ze=e.y)!==null&&Ze!==void 0?Ze:0)+R,width:(Z=e.width)!==null&&Z!==void 0?Z:Math.ceil(T),height:(ge=e.height)!==null&&ge!==void 0?ge:Math.ceil(I)},u?(c.logger.debug("Document cloned, using foreign object rendering"),N=new sj(c,L),[4,N.render(v)]):[3,3];case 2:return W=se.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+k+","+R+" with size "+T+"x"+I+" using computed rendering"),c.logger.debug("Starting DOM parsing"),P=J8(c,v),F===P.styles.backgroundColor&&(P.styles.backgroundColor=Vo.TRANSPARENT),c.logger.debug("Starting renderer for element at "+L.x+","+L.y+" with size "+L.width+"x"+L.height),N=new ej(c,L),[4,N.render(P)];case 4:W=se.sent(),se.label=5;case 5:return(!((ce=e.removeContainer)!==null&&ce!==void 0)||ce)&&(BT.destroy(_)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,W]}})})},uj=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?eh(t,getComputedStyle(n.documentElement).backgroundColor):Vo.TRANSPARENT,a=n.body?eh(t,getComputedStyle(n.body).backgroundColor):Vo.TRANSPARENT,s=typeof r=="string"?eh(t,r):r===null?Vo.TRANSPARENT:4294967295;return e===n.documentElement?JA(i)?JA(a)?s:a:i:s},XE={},Nm={},Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});function fj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var hj=function t(e,r){fj(this,t),this.data=e,this.text=r.text||e,this.options=r};Ji.default=hj;Object.defineProperty(Nm,"__esModule",{value:!0});Nm.CODE39=void 0;var dj=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),gj=Ji,pj=mj(gj);function mj(t){return t&&t.__esModule?t:{default:t}}function xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yj=function(t){wj(e,t);function e(r,n){return xj(this,e),r=r.toUpperCase(),n.mod43&&(r+=_j(Bj(r))),vj(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return dj(e,[{key:"encode",value:function(){for(var n=I2("*"),i=0;i<this.data.length;i++)n+=I2(this.data[i])+"0";return n+=I2("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(pj.default),fD=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Ej=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function I2(t){return Cj(hD(t))}function Cj(t){return Ej[t].toString(2)}function _j(t){return fD[t]}function hD(t){return fD.indexOf(t)}function Bj(t){for(var e=0,r=0;r<t.length;r++)e+=hD(t[r]);return e=e%43,e}Nm.CODE39=yj;var io={},qE={},I0={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});var of;function N2(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var dD=Wr.SET_A=0,gD=Wr.SET_B=1,pD=Wr.SET_C=2;Wr.SHIFT=98;var bj=Wr.START_A=103,Tj=Wr.START_B=104,Sj=Wr.START_C=105;Wr.MODULO=103;Wr.STOP=106;Wr.FNC1=207;Wr.SET_BY_CODE=(of={},N2(of,bj,dD),N2(of,Tj,gD),N2(of,Sj,pD),of);Wr.SWAP={101:dD,100:gD,99:pD};Wr.A_START_CHAR="";Wr.B_START_CHAR="";Wr.C_START_CHAR="";Wr.A_CHARS="[\0-_-]";Wr.B_CHARS="[ --]";Wr.C_CHARS="(*[0-9]{2}*)";Wr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(I0,"__esModule",{value:!0});var Ij=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Nj=Ji,Fj=Rj(Nj),Ba=Wr;function Rj(t){return t&&t.__esModule?t:{default:t}}function Dj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mj=function(t){Uj(e,t);function e(r,n){Dj(this,e);var i=kj(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.substring(1),n));return i.bytes=r.split("").map(function(a){return a.charCodeAt(0)}),i}return Ij(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,i=n.shift()-105,a=Ba.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(Ba.FNC1);var s=e.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%Ba.MODULO)+e.getBar(Ba.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return Ba.BARS[n]?Ba.BARS[n].toString():""}},{key:"correctIndex",value:function(n,i){if(i===Ba.SET_A){var a=n.shift();return a<32?a+64:a-32}else return i===Ba.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,i,a){if(!n.length)return{result:"",checksum:0};var s=void 0,A=void 0;if(n[0]>=200){A=n.shift()-105;var c=Ba.SWAP[A];c!==void 0?s=e.next(n,i+1,c):((a===Ba.SET_A||a===Ba.SET_B)&&A===Ba.SHIFT&&(n[0]=a===Ba.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),s=e.next(n,i+1,a))}else A=e.correctIndex(n,a),s=e.next(n,i+1,a);var u=e.getBar(A),h=A*i;return{result:u+s.result,checksum:h+s.checksum}}}]),e}(Fj.default);I0.default=Mj;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});var $A=Wr,mD=function(e){return e.match(new RegExp("^"+$A.A_CHARS+"*"))[0].length},xD=function(e){return e.match(new RegExp("^"+$A.B_CHARS+"*"))[0].length},vD=function(e){return e.match(new RegExp("^"+$A.C_CHARS+"*"))[0]};function JE(t,e){var r=e?$A.A_CHARS:$A.B_CHARS,n=t.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+wD(t.substring(n[1].length));var i=t.match(new RegExp("^"+r+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+JE(t.substring(i.length),!e)}function wD(t){var e=vD(t),r=e.length;if(r===t.length)return t;t=t.substring(r);var n=mD(t)>=xD(t);return e+String.fromCharCode(n?206:205)+JE(t,n)}YE.default=function(t){var e=void 0,r=vD(t).length;if(r>=2)e=$A.C_START_CHAR+wD(t);else{var n=mD(t)>xD(t);e=(n?$A.A_START_CHAR:$A.B_START_CHAR)+JE(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(qE,"__esModule",{value:!0});var Oj=I0,Lj=yD(Oj),Pj=YE,Qj=yD(Pj);function yD(t){return t&&t.__esModule?t:{default:t}}function Hj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jj=function(t){Vj(e,t);function e(r,n){if(Hj(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var i=F2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Qj.default)(r),n));else var i=F2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return F2(i)}return e}(Lj.default);qE.default=jj;var $E={};Object.defineProperty($E,"__esModule",{value:!0});var Gj=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Kj=I0,zj=Wj(Kj),NT=Wr;function Wj(t){return t&&t.__esModule?t:{default:t}}function Xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jj=function(t){Yj(e,t);function e(r,n){return Xj(this,e),qj(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,NT.A_START_CHAR+r,n))}return Gj(e,[{key:"valid",value:function(){return new RegExp("^"+NT.A_CHARS+"+$").test(this.data)}}]),e}(zj.default);$E.default=Jj;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});var $j=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Zj=I0,eG=tG(Zj),FT=Wr;function tG(t){return t&&t.__esModule?t:{default:t}}function rG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aG=function(t){iG(e,t);function e(r,n){return rG(this,e),nG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,FT.B_START_CHAR+r,n))}return $j(e,[{key:"valid",value:function(){return new RegExp("^"+FT.B_CHARS+"+$").test(this.data)}}]),e}(eG.default);ZE.default=aG;var eC={};Object.defineProperty(eC,"__esModule",{value:!0});var sG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),oG=I0,AG=lG(oG),RT=Wr;function lG(t){return t&&t.__esModule?t:{default:t}}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hG=function(t){fG(e,t);function e(r,n){return cG(this,e),uG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,RT.C_START_CHAR+r,n))}return sG(e,[{key:"valid",value:function(){return new RegExp("^"+RT.C_CHARS+"+$").test(this.data)}}]),e}(AG.default);eC.default=hG;Object.defineProperty(io,"__esModule",{value:!0});io.CODE128C=io.CODE128B=io.CODE128A=io.CODE128=void 0;var dG=qE,gG=Fm(dG),pG=$E,mG=Fm(pG),xG=ZE,vG=Fm(xG),wG=eC,yG=Fm(wG);function Fm(t){return t&&t.__esModule?t:{default:t}}io.CODE128=gG.default;io.CODE128A=mG.default;io.CODE128B=vG.default;io.CODE128C=yG.default;var ha={},tC={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.SIDE_BIN="101";xs.MIDDLE_BIN="01010";xs.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};xs.EAN2_STRUCTURE=["LL","LG","GL","GG"];xs.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];xs.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Rm={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});var EG=xs,CG=function(e,r,n){var i=e.split("").map(function(s,A){return EG.BINARIES[r[A]]}).map(function(s,A){return s?s[e[A]]:""});if(n){var a=e.length-1;i=i.map(function(s,A){return A<a?s+n:s})}return i.join("")};Sc.default=CG;Object.defineProperty(Rm,"__esModule",{value:!0});var _G=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),tu=xs,BG=Sc,DT=ED(BG),bG=Ji,TG=ED(bG);function ED(t){return t&&t.__esModule?t:{default:t}}function SG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FG=function(t){NG(e,t);function e(r,n){SG(this,e);var i=IG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return _G(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,i){return this.text.substr(n,i)}},{key:"leftEncode",value:function(n,i){return(0,DT.default)(n,i)}},{key:"rightText",value:function(n,i){return this.text.substr(n,i)}},{key:"rightEncode",value:function(n,i){return(0,DT.default)(n,i)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:tu.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:n},{data:tu.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:n},{data:tu.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var n=[tu.SIDE_BIN,this.leftEncode(),tu.MIDDLE_BIN,this.rightEncode(),tu.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(TG.default);Rm.default=FG;Object.defineProperty(tC,"__esModule",{value:!0});var RG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Af=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,r,n)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(n)}},DG=xs,kG=Rm,UG=MG(kG);function MG(t){return t&&t.__esModule?t:{default:t}}function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kT=function(e){var r=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*3:n+i},0);return(10-r%10)%10},QG=function(t){PG(e,t);function e(r,n){OG(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=kT(r));var i=LG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.lastChar=n.lastChar,i}return RG(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===kT(this.data)}},{key:"leftText",value:function(){return Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),i=DG.EAN13_STRUCTURE[this.data[0]];return Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,i)}},{key:"rightText",value:function(){return Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=Af(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(UG.default);tC.default=QG;var rC={};Object.defineProperty(rC,"__esModule",{value:!0});var HG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),N1=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,r,n)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(n)}},VG=Rm,jG=GG(VG);function GG(t){return t&&t.__esModule?t:{default:t}}function KG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function WG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UT=function(e){var r=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i:n+i*3},0);return(10-r%10)%10},XG=function(t){WG(e,t);function e(r,n){return KG(this,e),r.search(/^[0-9]{7}$/)!==-1&&(r+=UT(r)),zG(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return HG(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===UT(this.data)}},{key:"leftText",value:function(){return N1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return N1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return N1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return N1(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(jG.default);rC.default=XG;var nC={};Object.defineProperty(nC,"__esModule",{value:!0});var qG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),YG=xs,JG=Sc,$G=CD(JG),ZG=Ji,eK=CD(ZG);function CD(t){return t&&t.__esModule?t:{default:t}}function tK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iK=function(e){var r=e.split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*9:n+i*3},0);return r%10},aK=function(t){nK(e,t);function e(r,n){return tK(this,e),rK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return qG(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=YG.EAN5_STRUCTURE[iK(this.data)];return{data:"1011"+(0,$G.default)(this.data,n,"01"),text:this.text}}}]),e}(eK.default);nC.default=aK;var iC={};Object.defineProperty(iC,"__esModule",{value:!0});var sK=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),oK=xs,AK=Sc,lK=_D(AK),cK=Ji,uK=_D(cK);function _D(t){return t&&t.__esModule?t:{default:t}}function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gK=function(t){dK(e,t);function e(r,n){return fK(this,e),hK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return sK(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=oK.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,lK.default)(this.data,n,"01"),text:this.text}}}]),e}(uK.default);iC.default=gK;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});var pK=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();gd.checksum=Iw;var mK=Sc,ru=BD(mK),xK=Ji,vK=BD(xK);function BD(t){return t&&t.__esModule?t:{default:t}}function wK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CK=function(t){EK(e,t);function e(r,n){wK(this,e),r.search(/^[0-9]{11}$/)!==-1&&(r+=Iw(r));var i=yK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return pK(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Iw(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,ru.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,ru.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,ru.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,ru.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,ru.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,ru.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(vK.default);function Iw(t){var e=0,r;for(r=1;r<11;r+=2)e+=parseInt(t[r]);for(r=0;r<11;r+=2)e+=parseInt(t[r])*3;return(10-e%10)%10}gd.default=CK;var aC={};Object.defineProperty(aC,"__esModule",{value:!0});var _K=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),BK=Sc,bK=bD(BK),TK=Ji,SK=bD(TK),IK=gd;function bD(t){return t&&t.__esModule?t:{default:t}}function NK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function FK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var RK=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],DK=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],kK=function(t){FK(e,t);function e(r,n){NK(this,e);var i=R2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));if(i.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)i.middleDigits=r,i.upcA=MT(r,"0"),i.text=n.text||""+i.upcA[0]+r+i.upcA[i.upcA.length-1],i.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=r.substring(1,r.length-1),i.upcA=MT(i.middleDigits,r[0]),i.upcA[i.upcA.length-1]===r[r.length-1])i.isValid=!0;else return R2(i);else return R2(i);return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return _K(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],i=this.upcA[this.upcA.length-1],a=DK[parseInt(i)][parseInt(n)];return(0,bK.default)(this.middleDigits,a)}}]),e}(SK.default);function MT(t,e){for(var r=parseInt(t[t.length-1]),n=RK[r],i="",a=0,s=0;s<n.length;s++){var A=n[s];A==="X"?i+=t[a++]:i+=A}return i=""+e+i,""+i+(0,IK.checksum)(i)}aC.default=kK;Object.defineProperty(ha,"__esModule",{value:!0});ha.UPCE=ha.UPC=ha.EAN2=ha.EAN5=ha.EAN8=ha.EAN13=void 0;var UK=tC,MK=N0(UK),OK=rC,LK=N0(OK),PK=nC,QK=N0(PK),HK=iC,VK=N0(HK),jK=gd,GK=N0(jK),KK=aC,zK=N0(KK);function N0(t){return t&&t.__esModule?t:{default:t}}ha.EAN13=MK.default;ha.EAN8=LK.default;ha.EAN5=QK.default;ha.EAN2=VK.default;ha.UPC=GK.default;ha.UPCE=zK.default;var l0={},Dm={},pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.START_BIN="1010";pd.END_BIN="11101";pd.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Dm,"__esModule",{value:!0});var WK=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),F1=pd,XK=Ji,qK=YK(XK);function YK(t){return t&&t.__esModule?t:{default:t}}function JK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ZK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ez=function(t){ZK(e,t);function e(){return JK(this,e),$K(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return WK(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,i=this.data.match(/.{2}/g).map(function(a){return n.encodePair(a)}).join("");return{data:F1.START_BIN+i+F1.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var i=F1.BINARIES[n[1]];return F1.BINARIES[n[0]].split("").map(function(a,s){return(a==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(qK.default);Dm.default=ez;var sC={};Object.defineProperty(sC,"__esModule",{value:!0});var tz=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),rz=Dm,nz=iz(rz);function iz(t){return t&&t.__esModule?t:{default:t}}function az(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OT=function(e){var r=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,i,a){return n+i*(3-a%2*2)},0);return Math.ceil(r/10)*10-r},Az=function(t){oz(e,t);function e(r,n){return az(this,e),r.search(/^[0-9]{13}$/)!==-1&&(r+=OT(r)),sz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return tz(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===OT(this.data)}}]),e}(nz.default);sC.default=Az;Object.defineProperty(l0,"__esModule",{value:!0});l0.ITF14=l0.ITF=void 0;var lz=Dm,cz=TD(lz),uz=sC,fz=TD(uz);function TD(t){return t&&t.__esModule?t:{default:t}}l0.ITF=cz.default;l0.ITF14=fz.default;var As={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});var hz=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),dz=Ji,gz=pz(dz);function pz(t){return t&&t.__esModule?t:{default:t}}function mz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wz=function(t){vz(e,t);function e(r,n){return mz(this,e),xz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return hz(e,[{key:"encode",value:function(){for(var n="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),s=a.toString(2);s=yz(s,4-s.length);for(var A=0;A<s.length;A++)n+=s[A]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(gz.default);function yz(t,e){for(var r=0;r<e;r++)t="0"+t;return t}Ic.default=wz;var oC={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.mod10=Ez;Nc.mod11=Cz;function Ez(t){for(var e=0,r=0;r<t.length;r++){var n=parseInt(t[r]);(r+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function Cz(t){for(var e=0,r=[2,3,4,5,6,7],n=0;n<t.length;n++){var i=parseInt(t[t.length-1-n]);e+=r[n%r.length]*i}return(11-e%11)%11}Object.defineProperty(oC,"__esModule",{value:!0});var _z=Ic,Bz=Tz(_z),bz=Nc;function Tz(t){return t&&t.__esModule?t:{default:t}}function Sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fz=function(t){Nz(e,t);function e(r,n){return Sz(this,e),Iz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,bz.mod10)(r),n))}return e}(Bz.default);oC.default=Fz;var AC={};Object.defineProperty(AC,"__esModule",{value:!0});var Rz=Ic,Dz=Uz(Rz),kz=Nc;function Uz(t){return t&&t.__esModule?t:{default:t}}function Mz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pz=function(t){Lz(e,t);function e(r,n){return Mz(this,e),Oz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,kz.mod11)(r),n))}return e}(Dz.default);AC.default=Pz;var lC={};Object.defineProperty(lC,"__esModule",{value:!0});var Qz=Ic,Hz=Vz(Qz),LT=Nc;function Vz(t){return t&&t.__esModule?t:{default:t}}function jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zz=function(t){Kz(e,t);function e(r,n){return jz(this,e),r+=(0,LT.mod10)(r),r+=(0,LT.mod10)(r),Gz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(Hz.default);lC.default=zz;var cC={};Object.defineProperty(cC,"__esModule",{value:!0});var Wz=Ic,Xz=qz(Wz),PT=Nc;function qz(t){return t&&t.__esModule?t:{default:t}}function Yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zz=function(t){$z(e,t);function e(r,n){return Yz(this,e),r+=(0,PT.mod11)(r),r+=(0,PT.mod10)(r),Jz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(Xz.default);cC.default=Zz;Object.defineProperty(As,"__esModule",{value:!0});As.MSI1110=As.MSI1010=As.MSI11=As.MSI10=As.MSI=void 0;var eW=Ic,tW=md(eW),rW=oC,nW=md(rW),iW=AC,aW=md(iW),sW=lC,oW=md(sW),AW=cC,lW=md(AW);function md(t){return t&&t.__esModule?t:{default:t}}As.MSI=tW.default;As.MSI10=nW.default;As.MSI11=aW.default;As.MSI1010=oW.default;As.MSI1110=lW.default;var km={};Object.defineProperty(km,"__esModule",{value:!0});km.pharmacode=void 0;var cW=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),uW=Ji,fW=hW(uW);function hW(t){return t&&t.__esModule?t:{default:t}}function dW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mW=function(t){pW(e,t);function e(r,n){dW(this,e);var i=gW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.number=parseInt(r,10),i}return cW(e,[{key:"encode",value:function(){for(var n=this.number,i="";!isNaN(n)&&n!=0;)n%2===0?(i="11100"+i,n=(n-2)/2):(i="100"+i,n=(n-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(fW.default);km.pharmacode=mW;var Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.codabar=void 0;var xW=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),vW=Ji,wW=yW(vW);function yW(t){return t&&t.__esModule?t:{default:t}}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BW=function(t){_W(e,t);function e(r,n){EW(this,e),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var i=CW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return xW(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],i=this.getEncodings(),a=0;a<this.data.length;a++)n.push(i[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(wW.default);Um.codabar=BW;var c0={},Mm={},xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];xd.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];xd.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(Mm,"__esModule",{value:!0});var bW=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),R1=xd,TW=Ji,SW=IW(TW);function IW(t){return t&&t.__esModule?t:{default:t}}function NW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DW=function(t){RW(e,t);function e(r,n){return NW(this,e),FW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return bW(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(A){return R1.MULTI_SYMBOLS[A]||A}),i=n.map(function(A){return e.getEncoding(A)}).join(""),a=e.checksum(n,20),s=e.checksum(n.concat(a),15);return{text:this.text,data:e.getEncoding("")+i+e.getEncoding(a)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return R1.BINARIES[e.symbolValue(n)]}},{key:"getSymbol",value:function(n){return R1.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return R1.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,i){var a=n.slice().reverse().reduce(function(s,A,c){var u=c%i+1;return s+e.symbolValue(A)*u},0);return e.getSymbol(a%47)}}]),e}(SW.default);Mm.default=DW;var uC={};Object.defineProperty(uC,"__esModule",{value:!0});var kW=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),UW=Mm,MW=OW(UW);function OW(t){return t&&t.__esModule?t:{default:t}}function LW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function QW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HW=function(t){QW(e,t);function e(r,n){return LW(this,e),PW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return kW(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(MW.default);uC.default=HW;Object.defineProperty(c0,"__esModule",{value:!0});c0.CODE93FullASCII=c0.CODE93=void 0;var VW=Mm,jW=SD(VW),GW=uC,KW=SD(GW);function SD(t){return t&&t.__esModule?t:{default:t}}c0.CODE93=jW.default;c0.CODE93FullASCII=KW.default;var Om={};Object.defineProperty(Om,"__esModule",{value:!0});Om.GenericBarcode=void 0;var zW=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),WW=Ji,XW=qW(WW);function qW(t){return t&&t.__esModule?t:{default:t}}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZW=function(t){$W(e,t);function e(r,n){return YW(this,e),JW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return zW(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(XW.default);Om.GenericBarcode=ZW;Object.defineProperty(XE,"__esModule",{value:!0});var eX=Nm,D1=io,nu=ha,QT=l0,lf=As,tX=km,rX=Um,HT=c0,nX=Om;XE.default={CODE39:eX.CODE39,CODE128:D1.CODE128,CODE128A:D1.CODE128A,CODE128B:D1.CODE128B,CODE128C:D1.CODE128C,EAN13:nu.EAN13,EAN8:nu.EAN8,EAN5:nu.EAN5,EAN2:nu.EAN2,UPC:nu.UPC,UPCE:nu.UPCE,ITF14:QT.ITF14,ITF:QT.ITF,MSI:lf.MSI,MSI10:lf.MSI10,MSI11:lf.MSI11,MSI1010:lf.MSI1010,MSI1110:lf.MSI1110,pharmacode:tX.pharmacode,codabar:rX.codabar,CODE93:HT.CODE93,CODE93FullASCII:HT.CODE93FullASCII,GenericBarcode:nX.GenericBarcode};var F0={};Object.defineProperty(F0,"__esModule",{value:!0});var iX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};F0.default=function(t,e){return iX({},t,e)};var fC={};Object.defineProperty(fC,"__esModule",{value:!0});fC.default=aX;function aX(t){var e=[];function r(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return r(t),e}var hC={};Object.defineProperty(hC,"__esModule",{value:!0});hC.default=sX;function sX(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var dC={},gC={},Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default=oX;function oX(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in e)e.hasOwnProperty(r)&&(r=e[r],typeof t[r]=="string"&&(t[r]=parseInt(t[r],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});var AX={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Pm.default=AX;Object.defineProperty(gC,"__esModule",{value:!0});var lX=Lm,cX=ID(lX),uX=Pm,VT=ID(uX);function ID(t){return t&&t.__esModule?t:{default:t}}function fX(t){var e={};for(var r in VT.default)VT.default.hasOwnProperty(r)&&(t.hasAttribute("jsbarcode-"+r.toLowerCase())&&(e[r]=t.getAttribute("jsbarcode-"+r.toLowerCase())),t.hasAttribute("data-"+r.toLowerCase())&&(e[r]=t.getAttribute("data-"+r.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,cX.default)(e),e}gC.default=fX;var pC={},mC={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.getTotalWidthOfEncodings=Da.calculateEncodingAttributes=Da.getBarcodePadding=Da.getEncodingHeight=Da.getMaximumHeightOfEncodings=void 0;var hX=F0,dX=gX(hX);function gX(t){return t&&t.__esModule?t:{default:t}}function ND(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function FD(t,e,r){if(r.displayValue&&e<t){if(r.textAlign=="center")return Math.floor((t-e)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(t-e)}return 0}function pX(t,e,r){for(var n=0;n<t.length;n++){var i=t[n],a=(0,dX.default)(e,i.options),s;a.displayValue?s=vX(i.text,a,r):s=0;var A=i.data.length*a.width;i.width=Math.ceil(Math.max(s,A)),i.height=ND(i,a),i.barcodePadding=FD(s,A,a)}}function mX(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].width;return e}function xX(t){for(var e=0,r=0;r<t.length;r++)t[r].height>e&&(e=t[r].height);return e}function vX(t,e,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=n.measureText(t);if(!i)return 0;var a=i.width;return a}Da.getMaximumHeightOfEncodings=xX;Da.getEncodingHeight=ND;Da.getBarcodePadding=FD;Da.calculateEncodingAttributes=pX;Da.getTotalWidthOfEncodings=mX;Object.defineProperty(mC,"__esModule",{value:!0});var wX=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),yX=F0,EX=CX(yX),D2=Da;function CX(t){return t&&t.__esModule?t:{default:t}}function _X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var BX=function(){function t(e,r,n){_X(this,t),this.canvas=e,this.encodings=r,this.options=n}return wX(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,EX.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,D2.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,D2.getTotalWidthOfEncodings)(this.encodings),i=(0,D2.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var i=this.canvas.getContext("2d"),a=n.data,s;r.textPosition=="top"?s=r.marginTop+r.fontSize+r.textMargin:s=r.marginTop,i.fillStyle=r.lineColor;for(var A=0;A<a.length;A++){var c=A*r.width+n.barcodePadding;a[A]==="1"?i.fillRect(c,s,r.width,r.height):a[A]&&i.fillRect(c,s,r.width,r.height*a[A])}}},{key:"drawCanvasText",value:function(r,n){var i=this.canvas.getContext("2d"),a=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var s,A;r.textPosition=="top"?A=r.marginTop+r.fontSize-r.textMargin:A=r.height+r.textMargin+r.marginTop+r.fontSize,i.font=a,r.textAlign=="left"||n.barcodePadding>0?(s=0,i.textAlign="left"):r.textAlign=="right"?(s=n.width-1,i.textAlign="right"):(s=n.width/2,i.textAlign="center"),i.fillText(n.text,s,A)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),t}();mC.default=BX;var xC={};Object.defineProperty(xC,"__esModule",{value:!0});var bX=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),TX=F0,SX=IX(TX),k2=Da;function IX(t){return t&&t.__esModule?t:{default:t}}function NX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var k1="http://www.w3.org/2000/svg",FX=function(){function t(e,r,n){NX(this,t),this.svg=e,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return bX(t,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var i=this.encodings[n],a=(0,SX.default)(this.options,i.options),s=this.createGroup(r,a.marginTop,this.svg);this.setGroupOptions(s,a),this.drawSvgBarcode(s,a,i),this.drawSVGText(s,a,i),r+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,k2.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,k2.getTotalWidthOfEncodings)(this.encodings),n=(0,k2.getMaximumHeightOfEncodings)(this.encodings),i=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,n),this.options.background&&this.drawRect(0,0,i,n,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(r,n,i){var a=i.data,s;n.textPosition=="top"?s=n.fontSize+n.textMargin:s=0;for(var A=0,c=0,u=0;u<a.length;u++)c=u*n.width+i.barcodePadding,a[u]==="1"?A++:A>0&&(this.drawRect(c-n.width*A,s,n.width*A,n.height,r),A=0);A>0&&this.drawRect(c-n.width*(A-1),s,n.width*A,n.height,r)}},{key:"drawSVGText",value:function(r,n,i){var a=this.document.createElementNS(k1,"text");if(n.displayValue){var s,A;a.setAttribute("font-family",n.font),a.setAttribute("font-size",n.fontSize),n.fontOptions.includes("bold")&&a.setAttribute("font-weight","bold"),n.fontOptions.includes("italic")&&a.setAttribute("font-style","italic"),n.textPosition=="top"?A=n.fontSize-n.textMargin:A=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||i.barcodePadding>0?(s=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(s=i.width-1,a.setAttribute("text-anchor","end")):(s=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",s),a.setAttribute("y",A),a.appendChild(this.document.createTextNode(i.text)),r.appendChild(a)}}},{key:"setSvgAttributes",value:function(r,n){var i=this.svg;i.setAttribute("width",r+"px"),i.setAttribute("height",n+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+r+" "+n),i.setAttribute("xmlns",k1),i.setAttribute("version","1.1")}},{key:"createGroup",value:function(r,n,i){var a=this.document.createElementNS(k1,"g");return a.setAttribute("transform","translate("+r+", "+n+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("fill",n.lineColor)}},{key:"drawRect",value:function(r,n,i,a,s){var A=this.document.createElementNS(k1,"rect");return A.setAttribute("x",r),A.setAttribute("y",n),A.setAttribute("width",i),A.setAttribute("height",a),s.appendChild(A),A}}]),t}();xC.default=FX;var vC={};Object.defineProperty(vC,"__esModule",{value:!0});var RX=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function DX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var kX=function(){function t(e,r,n){DX(this,t),this.object=e,this.encodings=r,this.options=n}return RX(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();vC.default=kX;Object.defineProperty(pC,"__esModule",{value:!0});var UX=mC,MX=wC(UX),OX=xC,LX=wC(OX),PX=vC,QX=wC(PX);function wC(t){return t&&t.__esModule?t:{default:t}}pC.default={CanvasRenderer:MX.default,SVGRenderer:LX.default,ObjectRenderer:QX.default};var R0={};Object.defineProperty(R0,"__esModule",{value:!0});function yC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function CC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HX=function(t){CC(e,t);function e(r,n){yC(this,e);var i=EC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=r,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),VX=function(t){CC(e,t);function e(){yC(this,e);var r=EC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return e}(Error),jX=function(t){CC(e,t);function e(){yC(this,e);var r=EC(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return e}(Error);R0.InvalidInputException=HX;R0.InvalidElementException=VX;R0.NoElementException=jX;Object.defineProperty(dC,"__esModule",{value:!0});var GX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KX=gC,Nw=RD(KX),zX=pC,If=RD(zX),WX=R0;function RD(t){return t&&t.__esModule?t:{default:t}}function _C(t){if(typeof t=="string")return XX(t);if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(_C(t[r]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return qX(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Nw.default)(t),renderer:If.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Nw.default)(t),renderer:If.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:If.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":GX(t))==="object"&&!t.nodeName)return{element:t,renderer:If.default.ObjectRenderer};throw new WX.InvalidElementException}}function XX(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var r=[],n=0;n<e.length;n++)r.push(_C(e[n]));return r}}function qX(t){var e=document.createElement("canvas");return{element:e,options:(0,Nw.default)(t),renderer:If.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}dC.default=_C;var BC={};Object.defineProperty(BC,"__esModule",{value:!0});var YX=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $X=function(){function t(e){JX(this,t),this.api=e}return YX(t,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(i){return this.handleCatch(i),this.api}}}]),t}();BC.default=$X;var ZX=XE,ic=xl(ZX),eq=F0,vd=xl(eq),tq=fC,DD=xl(tq),rq=hC,jT=xl(rq),nq=dC,iq=xl(nq),aq=Lm,sq=xl(aq),oq=BC,Aq=xl(oq),kD=R0,lq=Pm,UD=xl(lq);function xl(t){return t&&t.__esModule?t:{default:t}}var jo=function(){},Qm=function(e,r,n){var i=new jo;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,iq.default)(e),i._encodings=[],i._options=UD.default,i._errorHandler=new Aq.default(i),typeof r<"u"&&(n=n||{},n.format||(n.format=OD()),i.options(n)[n.format](r,n).render()),i};Qm.getModule=function(t){return ic.default[t]};for(var GT in ic.default)ic.default.hasOwnProperty(GT)&&cq(ic.default,GT);function cq(t,e){jo.prototype[e]=jo.prototype[e.toUpperCase()]=jo.prototype[e.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var a=(0,vd.default)(i._options,n);a=(0,sq.default)(a);var s=t[e],A=MD(r,s,a);return i._encodings.push(A),i})}}function MD(t,e,r){t=""+t;var n=new e(t,r);if(!n.valid())throw new kD.InvalidInputException(n.constructor.name,t);var i=n.encode();i=(0,DD.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,vd.default)(r,i[a].options);return i}function OD(){return ic.default.CODE128?"CODE128":Object.keys(ic.default)[0]}jo.prototype.options=function(t){return this._options=(0,vd.default)(this._options,t),this};jo.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};jo.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var r=(0,vd.default)(this._options,t.options);r.format=="auto"&&(r.format=OD()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,i=ic.default[r.format.toUpperCase()],a=MD(n,i,r);Fw(t,a,r)})}}};jo.prototype.render=function(){if(!this._renderProperties)throw new kD.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Fw(this._renderProperties[t],this._encodings,this._options);else Fw(this._renderProperties,this._encodings,this._options);return this};jo.prototype._defaults=UD.default;function Fw(t,e,r){e=(0,DD.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,vd.default)(r,e[n].options),(0,jT.default)(e[n].options);(0,jT.default)(r);var i=t.renderer,a=new i(t.element,e,r);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Qm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var r=[];return jQuery(this).each(function(){r.push(this)}),Qm(r,t,e)});var uq=Qm;const LD=Py(uq),fq=({currentUser:t,onLogout:e,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:i,onNavigateToCustomers:a,onNavigateToNotifications:s,onNavigateToSuppliers:A,onNavigateToClientRequests:c,onNavigateToCheckbook:u,onNavigateToSpecialOrders:h,invoices:m,products:v,onEditInvoice:_,onDeleteInvoice:b,onNewInvoiceForCustomer:T,settings:I,unreadNotificationsCount:k})=>{const[R,F]=me.useState("unpaid"),[L,W]=me.useState(!1),[P,N]=me.useState(""),[M,D]=me.useState(!1),[Q,G]=me.useState(null),[j,V]=me.useState(null),Ce=me.useRef(null),le=me.useRef(!1),de=me.useRef(null);me.useEffect(()=>{if(Q&&I.showBarcode&&de.current)try{setTimeout(()=>{const se=document.getElementById("hidden-barcode");se&&LD(se,Q.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})},100)}catch(se){console.error("Barcode generation failed",se)}},[Q,I.showBarcode]);const ne=se=>{le.current=!1,Ce.current=setTimeout(()=>{le.current=!0,(t.role==="admin"||t.permissions.isManager)&&(V(se),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},De=()=>{Ce.current&&(clearTimeout(Ce.current),Ce.current=null)},he=()=>{j&&b&&(b(j.id),V(null))};me.useEffect(()=>{Q&&window.scrollTo({top:0,behavior:"smooth"})},[Q]);const Le=se=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(se),Ze=async()=>{if(!(!Q||!de.current)){D(!0);try{(await hc(de.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:de.current.offsetWidth,windowWidth:1e3})).toBlob(async fe=>{if(!fe){D(!1),alert("  ");return}try{const je=new ClipboardItem({"image/png":fe});await navigator.clipboard.write([je]);let ye=Q.phone?Q.phone.replace(/\D/g,""):"";(ye.startsWith("06")||ye.startsWith("07")||ye.startsWith("05"))&&(ye="212"+ye.substring(1)),window.open(ye?`https://wa.me/${ye}`:"https://wa.me/","_blank")}catch{alert("   ."),window.open("https://wa.me/","_blank")}finally{D(!1)}},"image/png",1)}catch{D(!1)}}},Z=()=>{Q&&A8(Q,I)},ge=()=>{F("unpaid"),N(""),W(!1),G(null)},ce=me.useMemo(()=>m.filter(se=>{const fe=R==="all"?!0:se.type===R,je=se.name.includes(P)||se.id.includes(P);return fe&&je}).sort((se,fe)=>fe.createdAt-se.createdAt),[m,R,P]);return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-cairo",children:[Q&&d.jsxs("div",{ref:de,style:{position:"fixed",top:0,left:-9999,width:I.receiptSize==="58mm"?"58mm":"80mm",backgroundColor:"white",color:"black",fontFamily:"'Cairo', sans-serif",padding:"10px 20px",fontSize:"12px",lineHeight:"1.4",direction:"rtl",zIndex:-1,boxSizing:"border-box"},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"1px dashed #000",paddingBottom:"10px",marginBottom:"10px"},children:[I.businessLogo&&d.jsx("img",{src:I.businessLogo,alt:"Logo",style:{maxWidth:"60px",maxHeight:"60px",marginBottom:"5px"}}),d.jsx("div",{style:{fontSize:"16px",fontWeight:"800",margin:"5px 0"},children:I.businessName}),d.jsx("div",{style:{fontSize:"10px"},children:I.userName}),d.jsxs("div",{style:{fontSize:"10px"},children:[": ",new Date().toLocaleDateString("ar-MA")]}),d.jsxs("div",{style:{fontSize:"10px"},children:[" : ",Q.id]})]}),d.jsxs("div",{style:{marginBottom:"10px",borderBottom:"1px dashed #000",paddingBottom:"5px"},children:[d.jsxs("div",{style:{fontWeight:"bold"},children:[": ",Q.name]}),Q.phone&&d.jsxs("div",{children:[": ",Q.phone]})]}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"10px"},children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #000",padding:"2px 0 8px 0"},children:""}),d.jsx("th",{style:{textAlign:"center",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"15%"},children:""}),d.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"35%"},children:""})]})}),d.jsx("tbody",{children:Q.items.map((se,fe)=>d.jsxs("tr",{children:[d.jsx("td",{style:{padding:"4px 0",verticalAlign:"top"},children:se.productName}),d.jsx("td",{style:{padding:"4px 0",textAlign:"center",verticalAlign:"top"},children:se.count}),d.jsx("td",{style:{padding:"4px 0",textAlign:"left",verticalAlign:"top"},children:se.total.toFixed(2)})]},fe))})]}),d.jsxs("div",{style:{borderTop:"1px dashed #000",paddingTop:"5px",marginTop:"5px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",fontSize:"14px",marginTop:"5px"},children:[d.jsx("span",{children:":"}),d.jsxs("span",{children:[Q.amount.toFixed(2)," ."]})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[d.jsx("span",{children:":"}),d.jsxs("span",{children:[Q.paidAmount.toFixed(2)," ."]})]}),Q.remainingAmount>0&&d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[d.jsx("span",{children:":"}),d.jsxs("span",{children:[Q.remainingAmount.toFixed(2)," ."]})]})]}),d.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"9px",borderTop:"1px dashed #000",paddingTop:"10px"},children:[d.jsx("p",{children:" "}),d.jsx("p",{children:"Thank you for your visit"}),I.showBarcode&&d.jsx("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:d.jsx("svg",{id:"hidden-barcode"})})]})]}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[d.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),d.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&d.jsxs("button",{onClick:s,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),d.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),k>0&&d.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:k})]}),d.jsx("button",{onClick:i,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",children:[d.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:mb-6",children:[t.permissions.manageSuppliers&&d.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:d.jsx("button",{onClick:A,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:d.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[d.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),d.jsx("path",{d:"m11 16 2 2"}),d.jsx("path",{d:"m14 13 4 4"}),d.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),d.jsxs("div",{className:"text-right",children:[d.jsx("h3",{className:"text-lg font-black text-white",children:""}),d.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageRequests&&d.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:d.jsx("button",{onClick:c,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:d.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[d.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),d.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),d.jsx("path",{d:"M12 11h4"}),d.jsx("path",{d:"M12 16h4"}),d.jsx("path",{d:"M8 11h.01"}),d.jsx("path",{d:"M8 16h.01"})]})}),d.jsxs("div",{className:"text-right",children:[d.jsx("h3",{className:"text-lg font-black text-white",children:""}),d.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]})})}),t.permissions.manageCheckbook&&d.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:d.jsx("button",{onClick:u,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:d.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[d.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),d.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),d.jsxs("div",{className:"text-right",children:[d.jsx("h3",{className:"text-lg font-black text-white",children:""}),d.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageSpecialOrders&&d.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:d.jsx("button",{onClick:h,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:d.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[d.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),d.jsxs("div",{className:"text-right",children:[d.jsx("h3",{className:"text-lg font-black text-white",children:""}),d.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})})]}),d.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:d.jsx("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:" "})}),d.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[d.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[d.jsxs("button",{onClick:()=>F("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${R==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",R==="unpaid"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),d.jsxs("button",{onClick:()=>F("paid"),className:`flex-1 py-3 font-bold transition-all relative ${R==="paid"?"text-white":"text-gray-500"}`,children:["",R==="paid"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),d.jsxs("button",{onClick:()=>F("all"),className:`flex-1 py-3 font-bold transition-all relative ${R==="all"?"text-white":"text-gray-500"}`,children:["",R==="all"&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),d.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:L?d.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[d.jsx("button",{onClick:()=>{W(!1),N("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("div",{className:"flex-1 max-w-[180px] relative",children:d.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:P,onChange:se=>N(se.target.value)})}),d.jsxs("div",{className:"text-sm font-bold text-gray-100 whitespace-nowrap",children:[d.jsx("span",{className:"text-[#57b385] font-black",children:ce.length})," "]})]}):d.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[d.jsx("button",{onClick:()=>W(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})}),d.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[d.jsx("span",{className:"text-[#57b385] font-black",children:ce.length}),"  "]})]})})]}),d.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:ce.length>0?ce.map(se=>d.jsxs("div",{onMouseDown:()=>ne(se),onMouseUp:De,onMouseLeave:De,onTouchStart:()=>ne(se),onTouchEnd:De,onClick:()=>!le.current&&G(se),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[d.jsxs("div",{className:"flex items-center gap-4 w-full",children:[d.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight",children:se.name}),d.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(se.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),d.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:d.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[d.jsxs("span",{className:`text-sm font-black ${se.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[Le(se.remainingAmount>0?se.remainingAmount:se.amount)," ."]}),d.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:se.id})]})})]},se.id)):d.jsxs("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20",children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),d.jsx("p",{children:"  "})]})})]}),Q&&d.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:d.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[d.jsx("button",{onClick:()=>G(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsx("h2",{className:"text-xl font-bold",children:" "}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>T(Q.name,Q.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),d.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),d.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),d.jsx("button",{onClick:()=>_(Q),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 20h9"}),d.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:Q.name.charAt(0)}),d.jsx("h3",{className:"text-2xl font-black text-white",children:Q.name}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex justify-center gap-2",children:[d.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:Q.id}),d.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:Q.date})]}),Q.creatorName&&d.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",Q.creatorName]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",Q.items.length,")"]}),d.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:Q.items.map((se,fe)=>d.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-white text-sm mb-1",children:se.productName}),d.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[d.jsx("span",{className:"text-[#57b385] font-bold",children:se.count}),"  ",Le(se.price)]})]}),d.jsx("div",{className:"font-black text-[#57b385]",children:Le(se.total)})]},fe))})]}),d.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),d.jsxs("span",{className:"text-lg font-black text-white",children:[Le(Q.amount)," ."]})]}),d.jsx("div",{className:"w-full h-px bg-gray-700/50"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),d.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[Le(Q.paidAmount)," ."]})]}),Q.remainingAmount>0&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),d.jsxs("span",{className:"text-sm font-black text-red-500",children:[Le(Q.remainingAmount)," ."]})]})]})]}),d.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[d.jsx("button",{onClick:Ze,disabled:M,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 ${M?"opacity-50 cursor-not-allowed":""}`,children:M?d.jsx("span",{className:"text-sm",children:" ..."}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),d.jsx("polyline",{points:"16 6 12 2 8 6"}),d.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),d.jsx("button",{onClick:Z,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),d.jsx("button",{onClick:()=>G(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),j&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsxs("p",{className:"text-sm text-gray-400",children:["       ",d.jsx("span",{className:"text-white font-bold",children:j.id})," "]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:he,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>V(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[d.jsx(U1,{onClick:ge,icon:d.jsx(hq,{}),label:"",active:!0}),d.jsx(U1,{onClick:r,icon:d.jsx(dq,{}),label:""}),d.jsx("div",{className:"relative -top-6",children:d.jsx("button",{onClick:n,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:d.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),d.jsx(U1,{onClick:a,icon:d.jsx(gq,{}),label:""}),d.jsx(U1,{onClick:i,icon:d.jsx(pq,{}),label:""})]})]})},U1=({icon:t,label:e,active:r=!1,onClick:n})=>d.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx("div",{className:r?"scale-110":"",children:t}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),hq=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),d.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),dq=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),gq=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),pq=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var PD=1252,mq=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],bC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},TC=function(t){mq.indexOf(t)!=-1&&(PD=bC[0]=t)};function xq(){TC(1252)}var Os=function(t){TC(t)};function QD(){Os(1200),xq()}function KT(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function vq(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function HD(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Nf=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?vq(t.slice(2)):e==254&&r==255?HD(t.slice(2)):e==65279?t.slice(1):t},M1=function(e){return String.fromCharCode(e)},zT=function(e){return String.fromCharCode(e)},Mh,UA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function WT(t){for(var e="",r=0,n=0,i=0,a=0,s=0,A=0,c=0,u=0;u<t.length;)r=t.charCodeAt(u++),a=r>>2,n=t.charCodeAt(u++),s=(r&3)<<4|n>>4,i=t.charCodeAt(u++),A=(n&15)<<2|i>>6,c=i&63,isNaN(n)?A=c=64:isNaN(i)&&(c=64),e+=UA.charAt(a)+UA.charAt(s)+UA.charAt(A)+UA.charAt(c);return e}function Ga(t){var e="",r=0,n=0,i=0,a=0,s=0,A=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=UA.indexOf(t.charAt(u++)),s=UA.indexOf(t.charAt(u++)),r=a<<2|s>>4,e+=String.fromCharCode(r),A=UA.indexOf(t.charAt(u++)),n=(s&15)<<4|A>>2,A!==64&&(e+=String.fromCharCode(n)),c=UA.indexOf(t.charAt(u++)),i=(A&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var ar=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Fc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ll(t){return ar?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function XT(t){return ar?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ms=function(e){return ar?Fc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Rc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function SC(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return SC(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var bA=ar?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Fc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function wq(t){for(var e=[],r=0,n=t.length+250,i=ll(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var A=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|A>>6&15|(s&3)<<4,i[r++]=128|A&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ll(65535),n=65530)}return e.push(i.slice(0,r)),bA(e)}var zi=/\u0000/g,Ff=/[\u0001-\u0006]/g;function ju(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ls(t,e){var r=""+t;return r.length>=e?r:cn("0",e-r.length)+r}function IC(t,e){var r=""+t;return r.length>=e?r:cn(" ",e-r.length)+r}function wp(t,e){var r=""+t;return r.length>=e?r:r+cn(" ",e-r.length)}function yq(t,e){var r=""+Math.round(t);return r.length>=e?r:cn("0",e-r.length)+r}function Eq(t,e){var r=""+t;return r.length>=e?r:cn("0",e-r.length)+r}var qT=Math.pow(2,32);function iu(t,e){if(t>qT||t<-qT)return yq(t,e);var r=Math.round(t);return Eq(r,e)}function yp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var YT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],U2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Cq(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},JT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_q={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ep(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,A=0,c=1,u=0,h=0,m=Math.floor(i);u<e&&(m=Math.floor(i),A=m*s+a,h=m*u+c,!(i-m<5e-8));)i=1/(i-m),a=s,s=A,c=u,u=h;if(h>e&&(u>e?(h=c,A=a):(h=u,A=s)),!r)return[0,n*A,h];var v=Math.floor(n*A/h);return[v,n*A-v*h,h]}function Xl(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],A={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(A.u)<1e-6&&(A.u=0),e&&e.date1904&&(n+=1462),A.u>.9999&&(A.u=0,++i==86400&&(A.T=i=0,++n,++A.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=Nq(c,s))}return A.y=s[0],A.m=s[1],A.d=s[2],A.S=i%60,i=Math.floor(i/60),A.M=i%60,i=Math.floor(i/60),A.H=i,A.q=a,A}var VD=new Date(1899,11,31,0,0,0),Bq=VD.getTime(),bq=new Date(1900,2,1,0,0,0);function jD(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=bq&&(r+=24*60*60*1e3),(r-(Bq+(t.getTimezoneOffset()-VD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function NC(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Tq(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Sq(t){var e=t<0?12:11,r=NC(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Iq(t){var e=NC(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Oh(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Sq(t):e===10?r=t.toFixed(10).substr(0,12):r=Iq(t),NC(Tq(r.toUpperCase()))}function dc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Oh(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ps(14,jD(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Nq(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Fq(t,e,r,n){var i="",a=0,s=0,A=r.y,c,u=0;switch(t){case 98:A=r.y+543;case 121:switch(e.length){case 1:case 2:c=A%100,u=2;break;default:c=A%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,u=e.length;break;case 3:return U2[r.m-1][1];case 5:return U2[r.m-1][0];default:return U2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,u=e.length;break;case 3:return YT[r.q][0];default:return YT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ls(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=Ls(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=A,u=1;break}var h=u>0?Ls(c,u):"";return h}function MA(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var GD=/%/g;function Rq(t,e,r){var n=e.replace(GD,""),i=e.length-n.length;return Go(t,n,r*Math.pow(10,2*i))+cn("%",i)}function Dq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Go(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function KD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+KD(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(A,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zD=/# (\?+)( ?)\/( ?)(\d+)/;function kq(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,A=n;return r+(a===0?"":""+a)+" "+(s===0?cn(" ",t[1].length+1+t[4].length):IC(s,t[1].length)+t[2]+"/"+t[3]+Ls(A,t[4].length))}function Uq(t,e,r){return r+(e===0?"":""+e)+cn(" ",t[1].length+2+t[4].length)}var WD=/^#*0*\.([0#]+)/,XD=/\).*[0#]/,qD=/\(###\) ###\\?-####/;function Vi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function $T(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function ZT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Mq(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Oq(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ya(t,e,r){if(t.charCodeAt(0)===40&&!e.match(XD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Dq(t,e,r);if(e.indexOf("%")!==-1)return Rq(t,e,r);if(e.indexOf("E")!==-1)return KD(e,r);if(e.charCodeAt(0)===36)return"$"+Ya(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,A,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+iu(c,e.length);if(e.match(/^[#?]+$/))return i=iu(r,0),i==="0"&&(i=""),i.length>e.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(zD))return kq(a,c,u);if(e.match(/^#+0+$/))return u+iu(c,e.length-e.indexOf("0"));if(a=e.match(WD))return i=$T(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Vi(a[1])).replace(/\.$/,"."+Vi(a[1])).replace(/\.(\d*)$/,function(b,T){return"."+T+cn("0",Vi(a[1]).length-T.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+$T(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+MA(iu(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):MA(""+(Math.floor(r)+Mq(r,a[1].length)))+"."+Ls(ZT(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ya(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ju(Ya(t,e.replace(/[\\-]/g,""),r)),s=0,ju(ju(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<i.length?i.charAt(s++):b==="0"?"0":""}));if(e.match(qD))return i=Ya(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),A=Ep(c,Math.pow(10,s)-1,!1),i=""+u,h=Go("n",a[1],A[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=wp(A[2],s),h.length<a[4].length&&(h=Vi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),A=Ep(c,Math.pow(10,s)-1,!0),u+(A[0]||(A[1]?"":"0"))+" "+(A[1]?IC(A[1],s)+a[2]+"/"+a[3]+wp(A[2],s):cn(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=iu(r,0),e.length<=i.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var m=e.indexOf(".")-s,v=e.length-i.length-m;return Vi(e.substr(0,m)+i+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=ZT(r,a[1].length),r<0?"-"+Ya(t,e,-r):MA(Oq(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ls(0,3-b.length):"")+b})+"."+Ls(s,a[1].length);switch(e){case"###,##0.00":return Ya(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=MA(iu(c,0));return _!=="0"?u+_:"";case"###,###.00":return Ya(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ya(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Lq(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Go(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Pq(t,e,r){var n=e.replace(GD,""),i=e.length-n.length;return Go(t,n,r*Math.pow(10,2*i))+cn("%",i)}function YD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+YD(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(A,c,u,h){return c+u+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function eo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(XD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eo("n",n,r):"("+eo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Lq(t,e,r);if(e.indexOf("%")!==-1)return Pq(t,e,r);if(e.indexOf("E")!==-1)return YD(e,r);if(e.charCodeAt(0)===36)return"$"+eo(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,A,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Ls(c,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(zD))return Uq(a,c,u);if(e.match(/^#+0+$/))return u+Ls(c,e.length-e.indexOf("0"));if(a=e.match(WD))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Vi(a[1])).replace(/\.$/,"."+Vi(a[1])),i=i.replace(/\.(\d*)$/,function(b,T){return"."+T+cn("0",Vi(a[1]).length-T.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+MA(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eo(t,e,-r):MA(""+r)+"."+cn("0",a[1].length);if(a=e.match(/^#,#*,#0/))return eo(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ju(eo(t,e.replace(/[\\-]/g,""),r)),s=0,ju(ju(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<i.length?i.charAt(s++):b==="0"?"0":""}));if(e.match(qD))return i=eo(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),A=Ep(c,Math.pow(10,s)-1,!1),i=""+u,h=Go("n",a[1],A[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=wp(A[2],s),h.length<a[4].length&&(h=Vi(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),A=Ep(c,Math.pow(10,s)-1,!0),u+(A[0]||(A[1]?"":"0"))+" "+(A[1]?IC(A[1],s)+a[2]+"/"+a[3]+wp(A[2],s):cn(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Vi(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var m=e.indexOf(".")-s,v=e.length-i.length-m;return Vi(e.substr(0,m)+i+e.substr(e.length-v))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+eo(t,e,-r):MA(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ls(0,3-b.length):"")+b})+"."+Ls(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=MA(""+c);return _!=="0"?u+_:"";default:if(e.match(/\.[0#?]*$/))return eo(t,e.slice(0,e.lastIndexOf(".")),r)+Vi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Go(t,e,r){return(r|0)===r?eo(t,e,r):Ya(t,e,r)}function Qq(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var JD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function D0(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":yp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(JD))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Hq(t,e,r,n){for(var i=[],a="",s=0,A="",c="t",u,h,m,v="H";s<t.length;)switch(A=t.charAt(s)){case"G":if(!yp(t,s))throw new Error("unrecognized character "+A+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(m=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(m);i[i.length]={t:"t",v:a},++s;break;case"\\":var _=t.charAt(++s),b=_==="("||_===")"?_:"t";i[i.length]={t:b,v:_},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=Xl(e,r,t.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},c=A,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":A=A.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Xl(e,r),u==null))return"";for(a=A;++s<t.length&&t.charAt(s).toLowerCase()===A;)a+=A;A==="m"&&c.toLowerCase()==="h"&&(A="M"),A==="h"&&(A=v),i[i.length]={t:A,v:a},c=A;break;case"A":case"a":case"":var T={t:A,v:A};if(u==null&&(u=Xl(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(T.v=u.H>=12?"P":"A"),T.t="T",v="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(T.v=u.H>=12?"PM":"AM"),T.t="T",s+=5,v="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(T.v=u.H>=12?"":""),T.t="T",s+=5,v="h"):(T.t="t",++s),u==null&&T.t==="T")return"";i[i.length]=T,c=A;break;case"[":for(a=A;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(JD)){if(u==null&&(u=Xl(e,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",D0(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=A;++s<t.length&&(A=t.charAt(s))==="0";)a+=A;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=A;++s<t.length&&"0#?.,E+-%".indexOf(A=t.charAt(s))>-1;)a+=A;i[i.length]={t:"n",v:a};break;case"?":for(a=A;t.charAt(++s)===A;)a+=A;i[i.length]={t:A,v:a},c=A;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":A,v:A},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=A;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:A,v:A},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(A)===-1)throw new Error("unrecognized character "+A+" in "+t);i[i.length]={t:"t",v:A},++s;break}var I=0,k=0,R;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=v,c="h",I<1&&(I=1);break;case"s":(R=i[s].v.match(/\.0+$/))&&(k=Math.max(k,R[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[s].v.match(/[Hh]/)&&(I=1),I<2&&i[s].v.match(/[Mm]/)&&(I=2),I<3&&i[s].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var F="",L;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Fq(i[s].t.charCodeAt(0),i[s].v,u,k),i[s].t="t";break;case"n":case"?":for(L=s+1;i[L]!=null&&((A=i[L].t)==="?"||A==="D"||(A===" "||A==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[s].t==="("&&(A===" "||A==="n"||A===")")||A==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[s].v+=i[L].v,i[L]={v:"",t:";"},++L;F+=i[s].v,s=L-1;break;case"G":i[s].t="t",i[s].v=dc(e,r);break}var W="",P,N;if(F.length>0){F.charCodeAt(0)==40?(P=e<0&&F.charCodeAt(0)===45?-e:e,N=Go("n",F,P)):(P=e<0&&n>1?-e:e,N=Go("n",F,P),P<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),L=N.length-1;var M=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){M=s;break}var D=i.length;if(M===i.length&&N.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(L>=i[s].v.length-1?(L-=i[s].v.length,i[s].v=N.substr(L+1,i[s].v.length)):L<0?i[s].v="":(i[s].v=N.substr(0,L+1),L=-1),i[s].t="t",D=s);L>=0&&D<i.length&&(i[D].v=N.substr(0,L+1)+i[D].v)}else if(M!==i.length&&N.indexOf("E")===-1){for(L=N.indexOf(".")-1,s=M;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(h=i[s].v.indexOf(".")>-1&&s===M?i[s].v.indexOf(".")-1:i[s].v.length-1,W=i[s].v.substr(h+1);h>=0;--h)L>=0&&(i[s].v.charAt(h)==="0"||i[s].v.charAt(h)==="#")&&(W=N.charAt(L--)+W);i[s].v=W,i[s].t="t",D=s}for(L>=0&&D<i.length&&(i[D].v=N.substr(0,L+1)+i[D].v),L=N.indexOf(".")+1,s=M;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==M)){for(h=i[s].v.indexOf(".")>-1&&s===M?i[s].v.indexOf(".")+1:0,W=i[s].v.substr(0,h);h<i[s].v.length;++h)L<N.length&&(W+=N.charAt(L++));i[s].v=W,i[s].t="t",D=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(P=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Go(i[s].t,i[s].v,P),i[s].t="t");var Q="";for(s=0;s!==i.length;++s)i[s]!=null&&(Q+=i[s].v);return Q}var e4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function t4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Vq(t,e){var r=Qq(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(e4),A=r[1].match(e4);return t4(e,s)?[n,r[0]]:t4(e,A)?[n,r[1]]:[n,r[s!=null&&A!=null?2:1]]}return[n,a]}function ps(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jt)[t],n==null&&(n=r.table&&r.table[JT[t]]||jt[JT[t]]),n==null&&(n=_q[t]||"General");break}if(yp(n,0))return dc(e,r);e instanceof Date&&(e=jD(e,r.date1904));var i=Vq(n,e);if(yp(i[1]))return dc(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Hq(i[1],e,r,i[0])}function ac(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(jt[r]==null){e<0&&(e=r);continue}if(jt[r]==t){e=r;break}}e<0&&(e=391)}return jt[e]=t,e}function $D(){jt=Cq()}var jq={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ZD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Gq(t){var e=typeof t=="number"?jt[t]:t;return e=e.replace(ZD,"(\\d+)"),new RegExp("^"+e+"$")}function Kq(t,e,r){var n=-1,i=-1,a=-1,s=-1,A=-1,c=-1;(e.match(ZD)||[]).forEach(function(m,v){var _=parseInt(r[v+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=_;break;case"d":a=_;break;case"h":s=_;break;case"s":c=_;break;case"m":s>=0?A=_:i=_;break}}),c>=0&&A==-1&&i>=0&&(A=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(A>=0?A:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&A==-1&&c==-1?u:n==-1&&i==-1&&a==-1?h:u+"T"+h}var zq=function(){var t={};t.version="1.2.0";function e(){for(var N=0,M=new Array(256),D=0;D!=256;++D)N=D,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,M[D]=N;return typeof Int32Array<"u"?new Int32Array(M):M}var r=e();function n(N){var M=0,D=0,Q=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)G[Q]=N[Q];for(Q=0;Q!=256;++Q)for(D=N[Q],M=256+Q;M<4096;M+=256)D=G[M]=D>>>8^N[D&255];var j=[];for(Q=1;Q!=16;++Q)j[Q-1]=typeof Int32Array<"u"?G.subarray(Q*256,Q*256+256):G.slice(Q*256,Q*256+256);return j}var i=n(r),a=i[0],s=i[1],A=i[2],c=i[3],u=i[4],h=i[5],m=i[6],v=i[7],_=i[8],b=i[9],T=i[10],I=i[11],k=i[12],R=i[13],F=i[14];function L(N,M){for(var D=M^-1,Q=0,G=N.length;Q<G;)D=D>>>8^r[(D^N.charCodeAt(Q++))&255];return~D}function W(N,M){for(var D=M^-1,Q=N.length-15,G=0;G<Q;)D=F[N[G++]^D&255]^R[N[G++]^D>>8&255]^k[N[G++]^D>>16&255]^I[N[G++]^D>>>24]^T[N[G++]]^b[N[G++]]^_[N[G++]]^v[N[G++]]^m[N[G++]]^h[N[G++]]^u[N[G++]]^c[N[G++]]^A[N[G++]]^s[N[G++]]^a[N[G++]]^r[N[G++]];for(Q+=15;G<Q;)D=D>>>8^r[(D^N[G++])&255];return~D}function P(N,M){for(var D=M^-1,Q=0,G=N.length,j=0,V=0;Q<G;)j=N.charCodeAt(Q++),j<128?D=D>>>8^r[(D^j)&255]:j<2048?(D=D>>>8^r[(D^(192|j>>6&31))&255],D=D>>>8^r[(D^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,V=N.charCodeAt(Q++)&1023,D=D>>>8^r[(D^(240|j>>8&7))&255],D=D>>>8^r[(D^(128|j>>2&63))&255],D=D>>>8^r[(D^(128|V>>6&15|(j&3)<<4))&255],D=D>>>8^r[(D^(128|V&63))&255]):(D=D>>>8^r[(D^(224|j>>12&15))&255],D=D>>>8^r[(D^(128|j>>6&63))&255],D=D>>>8^r[(D^(128|j&63))&255]);return~D}return t.table=r,t.bstr=L,t.buf=W,t.str=P,t}(),lr=function(){var e={};e.version="1.2.1";function r(X,Y){for(var ee=X.split("/"),te=Y.split("/"),ae=0,ue=0,Ne=Math.min(ee.length,te.length);ae<Ne;++ae){if(ue=ee[ae].length-te[ae].length)return ue;if(ee[ae]!=te[ae])return ee[ae]<te[ae]?-1:1}return ee.length-te.length}function n(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:n(X.slice(0,-1));var Y=X.lastIndexOf("/");return Y===-1?X:X.slice(0,Y+1)}function i(X){if(X.charAt(X.length-1)=="/")return i(X.slice(0,-1));var Y=X.lastIndexOf("/");return Y===-1?X:X.slice(Y+1)}function a(X,Y){typeof Y=="string"&&(Y=new Date(Y));var ee=Y.getHours();ee=ee<<6|Y.getMinutes(),ee=ee<<5|Y.getSeconds()>>>1,X.write_shift(2,ee);var te=Y.getFullYear()-1980;te=te<<4|Y.getMonth()+1,te=te<<5|Y.getDate(),X.write_shift(2,te)}function s(X){var Y=X.read_shift(2)&65535,ee=X.read_shift(2)&65535,te=new Date,ae=ee&31;ee>>>=5;var ue=ee&15;ee>>>=4,te.setMilliseconds(0),te.setFullYear(ee+1980),te.setMonth(ue-1),te.setDate(ae);var Ne=Y&31;Y>>>=5;var Qe=Y&63;return Y>>>=6,te.setHours(Y),te.setMinutes(Qe),te.setSeconds(Ne<<1),te}function A(X){ci(X,0);for(var Y={},ee=0;X.l<=X.length-4;){var te=X.read_shift(2),ae=X.read_shift(2),ue=X.l+ae,Ne={};switch(te){case 21589:ee=X.read_shift(1),ee&1&&(Ne.mtime=X.read_shift(4)),ae>5&&(ee&2&&(Ne.atime=X.read_shift(4)),ee&4&&(Ne.ctime=X.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}X.l=ue,Y[te]=Ne}return Y}var c;function u(){return c||(c={})}function h(X,Y){if(X[0]==80&&X[1]==75)return ws(X,Y);if((X[0]|32)==109&&(X[1]|32)==105)return wo(X,Y);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var ee=3,te=512,ae=0,ue=0,Ne=0,Qe=0,Be=0,Re=[],ke=X.slice(0,512);ci(ke,0);var Xe=m(ke);switch(ee=Xe[0],ee){case 3:te=512;break;case 4:te=4096;break;case 0:if(Xe[1]==0)return ws(X,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}te!==512&&(ke=X.slice(0,te),ci(ke,28));var $e=X.slice(0,te);v(ke,ee);var et=ke.read_shift(4,"i");if(ee===3&&et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+et);ke.l+=4,Ne=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),Qe=ke.read_shift(4,"i"),ae=ke.read_shift(4,"i"),Be=ke.read_shift(4,"i"),ue=ke.read_shift(4,"i");for(var rt=-1,ot=0;ot<109&&(rt=ke.read_shift(4,"i"),!(rt<0));++ot)Re[ot]=rt;var bt=_(X,te);I(Be,ue,bt,te,Re);var He=R(bt,Ne,Re,te);He[Ne].name="!Directory",ae>0&&Qe!==V&&(He[Qe].name="!MiniFAT"),He[Re[0]].name="!FAT",He.fat_addrs=Re,He.ssz=te;var pr={},Nt=[],Ei=[],yo=[];F(Ne,He,bt,Nt,ae,pr,Ei,Qe),b(Ei,yo,Nt),Nt.shift();var Xt={FileIndex:Ei,FullPaths:yo};return Y&&Y.raw&&(Xt.raw={header:$e,sectors:bt}),Xt}function m(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(Ce,"Header Signature: "),X.l+=16;var Y=X.read_shift(2,"u");return[X.read_shift(2,"u"),Y]}function v(X,Y){var ee=9;switch(X.l+=2,ee=X.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function _(X,Y){for(var ee=Math.ceil(X.length/Y)-1,te=[],ae=1;ae<ee;++ae)te[ae-1]=X.slice(ae*Y,(ae+1)*Y);return te[ee-1]=X.slice(ee*Y),te}function b(X,Y,ee){for(var te=0,ae=0,ue=0,Ne=0,Qe=0,Be=ee.length,Re=[],ke=[];te<Be;++te)Re[te]=ke[te]=te,Y[te]=ee[te];for(;Qe<ke.length;++Qe)te=ke[Qe],ae=X[te].L,ue=X[te].R,Ne=X[te].C,Re[te]===te&&(ae!==-1&&Re[ae]!==ae&&(Re[te]=Re[ae]),ue!==-1&&Re[ue]!==ue&&(Re[te]=Re[ue])),Ne!==-1&&(Re[Ne]=te),ae!==-1&&te!=Re[te]&&(Re[ae]=Re[te],ke.lastIndexOf(ae)<Qe&&ke.push(ae)),ue!==-1&&te!=Re[te]&&(Re[ue]=Re[te],ke.lastIndexOf(ue)<Qe&&ke.push(ue));for(te=1;te<Be;++te)Re[te]===te&&(ue!==-1&&Re[ue]!==ue?Re[te]=Re[ue]:ae!==-1&&Re[ae]!==ae&&(Re[te]=Re[ae]));for(te=1;te<Be;++te)if(X[te].type!==0){if(Qe=te,Qe!=Re[Qe])do Qe=Re[Qe],Y[te]=Y[Qe]+"/"+Y[te];while(Qe!==0&&Re[Qe]!==-1&&Qe!=Re[Qe]);Re[te]=-1}for(Y[0]+="/",te=1;te<Be;++te)X[te].type!==2&&(Y[te]+="/")}function T(X,Y,ee){for(var te=X.start,ae=X.size,ue=[],Ne=te;ee&&ae>0&&Ne>=0;)ue.push(Y.slice(Ne*j,Ne*j+j)),ae-=j,Ne=zl(ee,Ne*4);return ue.length===0?Pn(0):bA(ue).slice(0,X.size)}function I(X,Y,ee,te,ae){var ue=V;if(X===V){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var Ne=ee[X],Qe=(te>>>2)-1;if(!Ne)return;for(var Be=0;Be<Qe&&(ue=zl(Ne,Be*4))!==V;++Be)ae.push(ue);I(zl(Ne,te-4),Y-1,ee,te,ae)}}function k(X,Y,ee,te,ae){var ue=[],Ne=[];ae||(ae=[]);var Qe=te-1,Be=0,Re=0;for(Be=Y;Be>=0;){ae[Be]=!0,ue[ue.length]=Be,Ne.push(X[Be]);var ke=ee[Math.floor(Be*4/te)];if(Re=Be*4&Qe,te<4+Re)throw new Error("FAT boundary crossed: "+Be+" 4 "+te);if(!X[ke])break;Be=zl(X[ke],Re)}return{nodes:ue,data:u4([Ne])}}function R(X,Y,ee,te){var ae=X.length,ue=[],Ne=[],Qe=[],Be=[],Re=te-1,ke=0,Xe=0,$e=0,et=0;for(ke=0;ke<ae;++ke)if(Qe=[],$e=ke+Y,$e>=ae&&($e-=ae),!Ne[$e]){Be=[];var rt=[];for(Xe=$e;Xe>=0;){rt[Xe]=!0,Ne[Xe]=!0,Qe[Qe.length]=Xe,Be.push(X[Xe]);var ot=ee[Math.floor(Xe*4/te)];if(et=Xe*4&Re,te<4+et)throw new Error("FAT boundary crossed: "+Xe+" 4 "+te);if(!X[ot]||(Xe=zl(X[ot],et),rt[Xe]))break}ue[$e]={nodes:Qe,data:u4([Be])}}return ue}function F(X,Y,ee,te,ae,ue,Ne,Qe){for(var Be=0,Re=te.length?2:0,ke=Y[X].data,Xe=0,$e=0,et;Xe<ke.length;Xe+=128){var rt=ke.slice(Xe,Xe+128);ci(rt,64),$e=rt.read_shift(2),et=UC(rt,0,$e-Re),te.push(et);var ot={name:et,type:rt.read_shift(1),color:rt.read_shift(1),L:rt.read_shift(4,"i"),R:rt.read_shift(4,"i"),C:rt.read_shift(4,"i"),clsid:rt.read_shift(16),state:rt.read_shift(4,"i"),start:0,size:0},bt=rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2);bt!==0&&(ot.ct=L(rt,rt.l-8));var He=rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2)+rt.read_shift(2);He!==0&&(ot.mt=L(rt,rt.l-8)),ot.start=rt.read_shift(4,"i"),ot.size=rt.read_shift(4,"i"),ot.size<0&&ot.start<0&&(ot.size=ot.type=0,ot.start=V,ot.name=""),ot.type===5?(Be=ot.start,ae>0&&Be!==V&&(Y[Be].name="!StreamData")):ot.size>=4096?(ot.storage="fat",Y[ot.start]===void 0&&(Y[ot.start]=k(ee,ot.start,Y.fat_addrs,Y.ssz)),Y[ot.start].name=ot.name,ot.content=Y[ot.start].data.slice(0,ot.size)):(ot.storage="minifat",ot.size<0?ot.size=0:Be!==V&&ot.start!==V&&Y[Be]&&(ot.content=T(ot,Y[Be].data,(Y[Qe]||{}).data))),ot.content&&ci(ot.content,0),ue[et]=ot,Ne.push(ot)}}function L(X,Y){return new Date((Fa(X,Y+4)/1e7*Math.pow(2,32)+Fa(X,Y)/1e7-11644473600)*1e3)}function W(X,Y){return u(),h(c.readFileSync(X),Y)}function P(X,Y){var ee=Y&&Y.type;switch(ee||ar&&Buffer.isBuffer(X)&&(ee="buffer"),ee||"base64"){case"file":return W(X,Y);case"base64":return h(Ms(Ga(X)),Y);case"binary":return h(Ms(X),Y)}return h(X,Y)}function N(X,Y){var ee=Y||{},te=ee.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=te+"/",X.FileIndex[0]={name:te,type:5}),ee.CLSID&&(X.FileIndex[0].clsid=ee.CLSID),M(X)}function M(X){var Y="Sh33tJ5";if(!lr.find(X,"/"+Y)){var ee=Pn(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,X.FileIndex.push({name:Y,type:2,content:ee,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+Y),D(X)}}function D(X,Y){N(X);for(var ee=!1,te=!1,ae=X.FullPaths.length-1;ae>=0;--ae){var ue=X.FileIndex[ae];switch(ue.type){case 0:te?ee=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(ue.R*ue.L*ue.C)&&(ee=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!Y)){var Ne=new Date(1987,1,19),Qe=0,Be=Object.create?Object.create(null):{},Re=[];for(ae=0;ae<X.FullPaths.length;++ae)Be[X.FullPaths[ae]]=!0,X.FileIndex[ae].type!==0&&Re.push([X.FullPaths[ae],X.FileIndex[ae]]);for(ae=0;ae<Re.length;++ae){var ke=n(Re[ae][0]);te=Be[ke],te||(Re.push([ke,{name:i(ke).replace("/",""),type:1,clsid:de,ct:Ne,mt:Ne,content:null}]),Be[ke]=!0)}for(Re.sort(function(et,rt){return r(et[0],rt[0])}),X.FullPaths=[],X.FileIndex=[],ae=0;ae<Re.length;++ae)X.FullPaths[ae]=Re[ae][0],X.FileIndex[ae]=Re[ae][1];for(ae=0;ae<Re.length;++ae){var Xe=X.FileIndex[ae],$e=X.FullPaths[ae];if(Xe.name=i($e).replace("/",""),Xe.L=Xe.R=Xe.C=-(Xe.color=1),Xe.size=Xe.content?Xe.content.length:0,Xe.start=0,Xe.clsid=Xe.clsid||de,ae===0)Xe.C=Re.length>1?1:-1,Xe.size=0,Xe.type=5;else if($e.slice(-1)=="/"){for(Qe=ae+1;Qe<Re.length&&n(X.FullPaths[Qe])!=$e;++Qe);for(Xe.C=Qe>=Re.length?-1:Qe,Qe=ae+1;Qe<Re.length&&n(X.FullPaths[Qe])!=n($e);++Qe);Xe.R=Qe>=Re.length?-1:Qe,Xe.type=1}else n(X.FullPaths[ae+1]||"")==n($e)&&(Xe.R=ae+1),Xe.type=2}}}function Q(X,Y){var ee=Y||{};if(ee.fileType=="mad")return Tr(X,ee);switch(D(X),ee.fileType){case"zip":return ya(X,ee)}var te=function(et){for(var rt=0,ot=0,bt=0;bt<et.FileIndex.length;++bt){var He=et.FileIndex[bt];if(He.content){var pr=He.content.length;pr>0&&(pr<4096?rt+=pr+63>>6:ot+=pr+511>>9)}}for(var Nt=et.FullPaths.length+3>>2,Ei=rt+7>>3,yo=rt+127>>7,Xt=Ei+ot+Nt+yo,Qt=Xt+127>>7,Ht=Qt<=109?0:Math.ceil((Qt-109)/127);Xt+Qt+Ht+127>>7>Qt;)Ht=++Qt<=109?0:Math.ceil((Qt-109)/127);var ii=[1,Ht,Qt,yo,Nt,ot,rt,0];return et.FileIndex[0].size=rt<<6,ii[7]=(et.FileIndex[0].start=ii[0]+ii[1]+ii[2]+ii[3]+ii[4]+ii[5])+(ii[6]+7>>3),ii}(X),ae=Pn(te[7]<<9),ue=0,Ne=0;{for(ue=0;ue<8;++ue)ae.write_shift(1,le[ue]);for(ue=0;ue<8;++ue)ae.write_shift(2,0);for(ae.write_shift(2,62),ae.write_shift(2,3),ae.write_shift(2,65534),ae.write_shift(2,9),ae.write_shift(2,6),ue=0;ue<3;++ue)ae.write_shift(2,0);for(ae.write_shift(4,0),ae.write_shift(4,te[2]),ae.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ae.write_shift(4,0),ae.write_shift(4,4096),ae.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:V),ae.write_shift(4,te[3]),ae.write_shift(-4,te[1]?te[0]-1:V),ae.write_shift(4,te[1]),ue=0;ue<109;++ue)ae.write_shift(-4,ue<te[2]?te[1]+ue:-1)}if(te[1])for(Ne=0;Ne<te[1];++Ne){for(;ue<236+Ne*127;++ue)ae.write_shift(-4,ue<te[2]?te[1]+ue:-1);ae.write_shift(-4,Ne===te[1]-1?V:Ne+1)}var Qe=function(et){for(Ne+=et;ue<Ne-1;++ue)ae.write_shift(-4,ue+1);et&&(++ue,ae.write_shift(-4,V))};for(Ne=ue=0,Ne+=te[1];ue<Ne;++ue)ae.write_shift(-4,ne.DIFSECT);for(Ne+=te[2];ue<Ne;++ue)ae.write_shift(-4,ne.FATSECT);Qe(te[3]),Qe(te[4]);for(var Be=0,Re=0,ke=X.FileIndex[0];Be<X.FileIndex.length;++Be)ke=X.FileIndex[Be],ke.content&&(Re=ke.content.length,!(Re<4096)&&(ke.start=Ne,Qe(Re+511>>9)));for(Qe(te[6]+7>>3);ae.l&511;)ae.write_shift(-4,ne.ENDOFCHAIN);for(Ne=ue=0,Be=0;Be<X.FileIndex.length;++Be)ke=X.FileIndex[Be],ke.content&&(Re=ke.content.length,!(!Re||Re>=4096)&&(ke.start=Ne,Qe(Re+63>>6)));for(;ae.l&511;)ae.write_shift(-4,ne.ENDOFCHAIN);for(ue=0;ue<te[4]<<2;++ue){var Xe=X.FullPaths[ue];if(!Xe||Xe.length===0){for(Be=0;Be<17;++Be)ae.write_shift(4,0);for(Be=0;Be<3;++Be)ae.write_shift(4,-1);for(Be=0;Be<12;++Be)ae.write_shift(4,0);continue}ke=X.FileIndex[ue],ue===0&&(ke.start=ke.size?ke.start-1:V);var $e=ue===0&&ee.root||ke.name;if(Re=2*($e.length+1),ae.write_shift(64,$e,"utf16le"),ae.write_shift(2,Re),ae.write_shift(1,ke.type),ae.write_shift(1,ke.color),ae.write_shift(-4,ke.L),ae.write_shift(-4,ke.R),ae.write_shift(-4,ke.C),ke.clsid)ae.write_shift(16,ke.clsid,"hex");else for(Be=0;Be<4;++Be)ae.write_shift(4,0);ae.write_shift(4,ke.state||0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,ke.start),ae.write_shift(4,ke.size),ae.write_shift(4,0)}for(ue=1;ue<X.FileIndex.length;++ue)if(ke=X.FileIndex[ue],ke.size>=4096)if(ae.l=ke.start+1<<9,ar&&Buffer.isBuffer(ke.content))ke.content.copy(ae,ae.l,0,ke.size),ae.l+=ke.size+511&-512;else{for(Be=0;Be<ke.size;++Be)ae.write_shift(1,ke.content[Be]);for(;Be&511;++Be)ae.write_shift(1,0)}for(ue=1;ue<X.FileIndex.length;++ue)if(ke=X.FileIndex[ue],ke.size>0&&ke.size<4096)if(ar&&Buffer.isBuffer(ke.content))ke.content.copy(ae,ae.l,0,ke.size),ae.l+=ke.size+63&-64;else{for(Be=0;Be<ke.size;++Be)ae.write_shift(1,ke.content[Be]);for(;Be&63;++Be)ae.write_shift(1,0)}if(ar)ae.l=ae.length;else for(;ae.l<ae.length;)ae.write_shift(1,0);return ae}function G(X,Y){var ee=X.FullPaths.map(function(Be){return Be.toUpperCase()}),te=ee.map(function(Be){var Re=Be.split("/");return Re[Re.length-(Be.slice(-1)=="/"?2:1)]}),ae=!1;Y.charCodeAt(0)===47?(ae=!0,Y=ee[0].slice(0,-1)+Y):ae=Y.indexOf("/")!==-1;var ue=Y.toUpperCase(),Ne=ae===!0?ee.indexOf(ue):te.indexOf(ue);if(Ne!==-1)return X.FileIndex[Ne];var Qe=!ue.match(Ff);for(ue=ue.replace(zi,""),Qe&&(ue=ue.replace(Ff,"!")),Ne=0;Ne<ee.length;++Ne)if((Qe?ee[Ne].replace(Ff,"!"):ee[Ne]).replace(zi,"")==ue||(Qe?te[Ne].replace(Ff,"!"):te[Ne]).replace(zi,"")==ue)return X.FileIndex[Ne];return null}var j=64,V=-2,Ce="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:Ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function De(X,Y,ee){u();var te=Q(X,ee);c.writeFileSync(Y,te)}function he(X){for(var Y=new Array(X.length),ee=0;ee<X.length;++ee)Y[ee]=String.fromCharCode(X[ee]);return Y.join("")}function Le(X,Y){var ee=Q(X,Y);switch(Y&&Y.type||"buffer"){case"file":return u(),c.writeFileSync(Y.filename,ee),ee;case"binary":return typeof ee=="string"?ee:he(ee);case"base64":return WT(typeof ee=="string"?ee:he(ee));case"buffer":if(ar)return Buffer.isBuffer(ee)?ee:Fc(ee);case"array":return typeof ee=="string"?Ms(ee):ee}return ee}var Ze;function Z(X){try{var Y=X.InflateRaw,ee=new Y;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)Ze=X;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function ge(X,Y){if(!Ze)return $i(X,Y);var ee=Ze.InflateRaw,te=new ee,ae=te._processChunk(X.slice(X.l),te._finishFlushFlag);return X.l+=te.bytesRead,ae}function ce(X){return Ze?Ze.deflateRawSync(X):Pe(X)}var se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(X){var Y=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var xe=typeof Uint8Array<"u",Se=xe?new Uint8Array(256):[],it=0;it<256;++it)Se[it]=ye(it);function ie(X,Y){var ee=Se[X&255];return Y<=8?ee>>>8-Y:(ee=ee<<8|Se[X>>8&255],Y<=16?ee>>>16-Y:(ee=ee<<8|Se[X>>16&255],ee>>>24-Y))}function lt(X,Y){var ee=Y&7,te=Y>>>3;return(X[te]|(ee<=6?0:X[te+1]<<8))>>>ee&3}function yt(X,Y){var ee=Y&7,te=Y>>>3;return(X[te]|(ee<=5?0:X[te+1]<<8))>>>ee&7}function wt(X,Y){var ee=Y&7,te=Y>>>3;return(X[te]|(ee<=4?0:X[te+1]<<8))>>>ee&15}function we(X,Y){var ee=Y&7,te=Y>>>3;return(X[te]|(ee<=3?0:X[te+1]<<8))>>>ee&31}function Ee(X,Y){var ee=Y&7,te=Y>>>3;return(X[te]|(ee<=1?0:X[te+1]<<8))>>>ee&127}function qe(X,Y,ee){var te=Y&7,ae=Y>>>3,ue=(1<<ee)-1,Ne=X[ae]>>>te;return ee<8-te||(Ne|=X[ae+1]<<8-te,ee<16-te)||(Ne|=X[ae+2]<<16-te,ee<24-te)||(Ne|=X[ae+3]<<24-te),Ne&ue}function st(X,Y,ee){var te=Y&7,ae=Y>>>3;return te<=5?X[ae]|=(ee&7)<<te:(X[ae]|=ee<<te&255,X[ae+1]=(ee&7)>>8-te),Y+3}function qt(X,Y,ee){var te=Y&7,ae=Y>>>3;return ee=(ee&1)<<te,X[ae]|=ee,Y+1}function Ge(X,Y,ee){var te=Y&7,ae=Y>>>3;return ee<<=te,X[ae]|=ee&255,ee>>>=8,X[ae+1]=ee,Y+8}function vr(X,Y,ee){var te=Y&7,ae=Y>>>3;return ee<<=te,X[ae]|=ee&255,ee>>>=8,X[ae+1]=ee&255,X[ae+2]=ee>>>8,Y+16}function Xr(X,Y){var ee=X.length,te=2*ee>Y?2*ee:Y+5,ae=0;if(ee>=Y)return X;if(ar){var ue=XT(te);if(X.copy)X.copy(ue);else for(;ae<X.length;++ae)ue[ae]=X[ae];return ue}else if(xe){var Ne=new Uint8Array(te);if(Ne.set)Ne.set(X);else for(;ae<ee;++ae)Ne[ae]=X[ae];return Ne}return X.length=te,X}function Ke(X){for(var Y=new Array(X),ee=0;ee<X;++ee)Y[ee]=0;return Y}function ht(X,Y,ee){var te=1,ae=0,ue=0,Ne=0,Qe=0,Be=X.length,Re=xe?new Uint16Array(32):Ke(32);for(ue=0;ue<32;++ue)Re[ue]=0;for(ue=Be;ue<ee;++ue)X[ue]=0;Be=X.length;var ke=xe?new Uint16Array(Be):Ke(Be);for(ue=0;ue<Be;++ue)Re[ae=X[ue]]++,te<ae&&(te=ae),ke[ue]=0;for(Re[0]=0,ue=1;ue<=te;++ue)Re[ue+16]=Qe=Qe+Re[ue-1]<<1;for(ue=0;ue<Be;++ue)Qe=X[ue],Qe!=0&&(ke[ue]=Re[Qe+16]++);var Xe=0;for(ue=0;ue<Be;++ue)if(Xe=X[ue],Xe!=0)for(Qe=ie(ke[ue],te)>>te-Xe,Ne=(1<<te+4-Xe)-1;Ne>=0;--Ne)Y[Qe|Ne<<Xe]=Xe&15|ue<<4;return te}var ct=xe?new Uint16Array(512):Ke(512),Ot=xe?new Uint16Array(32):Ke(32);if(!xe){for(var Yt=0;Yt<512;++Yt)ct[Yt]=0;for(Yt=0;Yt<32;++Yt)Ot[Yt]=0}(function(){for(var X=[],Y=0;Y<32;Y++)X.push(5);ht(X,Ot,32);var ee=[];for(Y=0;Y<=143;Y++)ee.push(8);for(;Y<=255;Y++)ee.push(9);for(;Y<=279;Y++)ee.push(7);for(;Y<=287;Y++)ee.push(8);ht(ee,ct,288)})();var Kt=function(){for(var Y=xe?new Uint8Array(32768):[],ee=0,te=0;ee<je.length-1;++ee)for(;te<je[ee+1];++te)Y[te]=ee;for(;te<32768;++te)Y[te]=29;var ae=xe?new Uint8Array(259):[];for(ee=0,te=0;ee<fe.length-1;++ee)for(;te<fe[ee+1];++te)ae[te]=ee;function ue(Qe,Be){for(var Re=0;Re<Qe.length;){var ke=Math.min(65535,Qe.length-Re),Xe=Re+ke==Qe.length;for(Be.write_shift(1,+Xe),Be.write_shift(2,ke),Be.write_shift(2,~ke&65535);ke-- >0;)Be[Be.l++]=Qe[Re++]}return Be.l}function Ne(Qe,Be){for(var Re=0,ke=0,Xe=xe?new Uint16Array(32768):[];ke<Qe.length;){var $e=Math.min(65535,Qe.length-ke);if($e<10){for(Re=st(Be,Re,+(ke+$e==Qe.length)),Re&7&&(Re+=8-(Re&7)),Be.l=Re/8|0,Be.write_shift(2,$e),Be.write_shift(2,~$e&65535);$e-- >0;)Be[Be.l++]=Qe[ke++];Re=Be.l*8;continue}Re=st(Be,Re,+(ke+$e==Qe.length)+2);for(var et=0;$e-- >0;){var rt=Qe[ke];et=(et<<5^rt)&32767;var ot=-1,bt=0;if((ot=Xe[et])&&(ot|=ke&-32768,ot>ke&&(ot-=32768),ot<ke))for(;Qe[ot+bt]==Qe[ke+bt]&&bt<250;)++bt;if(bt>2){rt=ae[bt],rt<=22?Re=Ge(Be,Re,Se[rt+1]>>1)-1:(Ge(Be,Re,3),Re+=5,Ge(Be,Re,Se[rt-23]>>5),Re+=3);var He=rt<8?0:rt-4>>2;He>0&&(vr(Be,Re,bt-fe[rt]),Re+=He),rt=Y[ke-ot],Re=Ge(Be,Re,Se[rt]>>3),Re-=3;var pr=rt<4?0:rt-2>>1;pr>0&&(vr(Be,Re,ke-ot-je[rt]),Re+=pr);for(var Nt=0;Nt<bt;++Nt)Xe[et]=ke&32767,et=(et<<5^Qe[ke])&32767,++ke;$e-=bt-1}else rt<=143?rt=rt+48:Re=qt(Be,Re,1),Re=Ge(Be,Re,Se[rt]),Xe[et]=ke&32767,++ke}Re=Ge(Be,Re,0)-1}return Be.l=(Re+7)/8|0,Be.l}return function(Be,Re){return Be.length<8?ue(Be,Re):Ne(Be,Re)}}();function Pe(X){var Y=Pn(50+Math.floor(X.length*1.1)),ee=Kt(X,Y);return Y.slice(0,ee)}var oe=xe?new Uint16Array(32768):Ke(32768),Fe=xe?new Uint16Array(32768):Ke(32768),Ve=xe?new Uint16Array(128):Ke(128),_e=1,tt=1;function dt(X,Y){var ee=we(X,Y)+257;Y+=5;var te=we(X,Y)+1;Y+=5;var ae=wt(X,Y)+4;Y+=4;for(var ue=0,Ne=xe?new Uint8Array(19):Ke(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Re=xe?new Uint8Array(8):Ke(8),ke=xe?new Uint8Array(8):Ke(8),Xe=Ne.length,$e=0;$e<ae;++$e)Ne[se[$e]]=ue=yt(X,Y),Be<ue&&(Be=ue),Re[ue]++,Y+=3;var et=0;for(Re[0]=0,$e=1;$e<=Be;++$e)ke[$e]=et=et+Re[$e-1]<<1;for($e=0;$e<Xe;++$e)(et=Ne[$e])!=0&&(Qe[$e]=ke[et]++);var rt=0;for($e=0;$e<Xe;++$e)if(rt=Ne[$e],rt!=0){et=Se[Qe[$e]]>>8-rt;for(var ot=(1<<7-rt)-1;ot>=0;--ot)Ve[et|ot<<rt]=rt&7|$e<<3}var bt=[];for(Be=1;bt.length<ee+te;)switch(et=Ve[Ee(X,Y)],Y+=et&7,et>>>=3){case 16:for(ue=3+lt(X,Y),Y+=2,et=bt[bt.length-1];ue-- >0;)bt.push(et);break;case 17:for(ue=3+yt(X,Y),Y+=3;ue-- >0;)bt.push(0);break;case 18:for(ue=11+Ee(X,Y),Y+=7;ue-- >0;)bt.push(0);break;default:bt.push(et),Be<et&&(Be=et);break}var He=bt.slice(0,ee),pr=bt.slice(ee);for($e=ee;$e<286;++$e)He[$e]=0;for($e=te;$e<30;++$e)pr[$e]=0;return _e=ht(He,oe,286),tt=ht(pr,Fe,30),Y}function Wt(X,Y){if(X[0]==3&&!(X[1]&3))return[ll(Y),2];for(var ee=0,te=0,ae=XT(Y||1<<18),ue=0,Ne=ae.length>>>0,Qe=0,Be=0;!(te&1);){if(te=yt(X,ee),ee+=3,te>>>1)te>>1==1?(Qe=9,Be=5):(ee=dt(X,ee),Qe=_e,Be=tt);else{ee&7&&(ee+=8-(ee&7));var Re=X[ee>>>3]|X[(ee>>>3)+1]<<8;if(ee+=32,Re>0)for(!Y&&Ne<ue+Re&&(ae=Xr(ae,ue+Re),Ne=ae.length);Re-- >0;)ae[ue++]=X[ee>>>3],ee+=8;continue}for(;;){!Y&&Ne<ue+32767&&(ae=Xr(ae,ue+32767),Ne=ae.length);var ke=qe(X,ee,Qe),Xe=te>>>1==1?ct[ke]:oe[ke];if(ee+=Xe&15,Xe>>>=4,!(Xe>>>8&255))ae[ue++]=Xe;else{if(Xe==256)break;Xe-=257;var $e=Xe<8?0:Xe-4>>2;$e>5&&($e=0);var et=ue+fe[Xe];$e>0&&(et+=qe(X,ee,$e),ee+=$e),ke=qe(X,ee,Be),Xe=te>>>1==1?Ot[ke]:Fe[ke],ee+=Xe&15,Xe>>>=4;var rt=Xe<4?0:Xe-2>>1,ot=je[Xe];for(rt>0&&(ot+=qe(X,ee,rt),ee+=rt),!Y&&Ne<et&&(ae=Xr(ae,et+100),Ne=ae.length);ue<et;)ae[ue]=ae[ue-ot],++ue}}}return Y?[ae,ee+7>>>3]:[ae.slice(0,ue),ee+7>>>3]}function $i(X,Y){var ee=X.slice(X.l||0),te=Wt(ee,Y);return X.l+=te[1],te[0]}function hn(X,Y){if(X)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function ws(X,Y){var ee=X;ci(ee,0);var te=[],ae=[],ue={FileIndex:te,FullPaths:ae};N(ue,{root:Y.root});for(var Ne=ee.length-4;(ee[Ne]!=80||ee[Ne+1]!=75||ee[Ne+2]!=5||ee[Ne+3]!=6)&&Ne>=0;)--Ne;ee.l=Ne+4,ee.l+=4;var Qe=ee.read_shift(2);ee.l+=6;var Be=ee.read_shift(4);for(ee.l=Be,Ne=0;Ne<Qe;++Ne){ee.l+=20;var Re=ee.read_shift(4),ke=ee.read_shift(4),Xe=ee.read_shift(2),$e=ee.read_shift(2),et=ee.read_shift(2);ee.l+=8;var rt=ee.read_shift(4),ot=A(ee.slice(ee.l+Xe,ee.l+Xe+$e));ee.l+=Xe+$e+et;var bt=ee.l;ee.l=rt+4,Pt(ee,Re,ke,ue,ot),ee.l=bt}return ue}function Pt(X,Y,ee,te,ae){X.l+=2;var ue=X.read_shift(2),Ne=X.read_shift(2),Qe=s(X);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var Be=X.read_shift(4),Re=X.read_shift(4),ke=X.read_shift(4),Xe=X.read_shift(2),$e=X.read_shift(2),et="",rt=0;rt<Xe;++rt)et+=String.fromCharCode(X[X.l++]);if($e){var ot=A(X.slice(X.l,X.l+$e));(ot[21589]||{}).mt&&(Qe=ot[21589].mt),((ae||{})[21589]||{}).mt&&(Qe=ae[21589].mt)}X.l+=$e;var bt=X.slice(X.l,X.l+Re);switch(Ne){case 8:bt=ge(X,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var He=!1;ue&8&&(Be=X.read_shift(4),Be==134695760&&(Be=X.read_shift(4),He=!0),Re=X.read_shift(4),ke=X.read_shift(4)),Re!=Y&&hn(He,"Bad compressed size: "+Y+" != "+Re),ke!=ee&&hn(He,"Bad uncompressed size: "+ee+" != "+ke),ni(te,et,bt,{unsafe:!0,mt:Qe})}function ya(X,Y){var ee=Y||{},te=[],ae=[],ue=Pn(1),Ne=ee.compression?8:0,Qe=0,Be=0,Re=0,ke=0,Xe=0,$e=X.FullPaths[0],et=$e,rt=X.FileIndex[0],ot=[],bt=0;for(Be=1;Be<X.FullPaths.length;++Be)if(et=X.FullPaths[Be].slice($e.length),rt=X.FileIndex[Be],!(!rt.size||!rt.content||et=="Sh33tJ5")){var He=ke,pr=Pn(et.length);for(Re=0;Re<et.length;++Re)pr.write_shift(1,et.charCodeAt(Re)&127);pr=pr.slice(0,pr.l),ot[Xe]=zq.buf(rt.content,0);var Nt=rt.content;Ne==8&&(Nt=ce(Nt)),ue=Pn(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Qe),ue.write_shift(2,Ne),rt.mt?a(ue,rt.mt):ue.write_shift(4,0),ue.write_shift(-4,ot[Xe]),ue.write_shift(4,Nt.length),ue.write_shift(4,rt.content.length),ue.write_shift(2,pr.length),ue.write_shift(2,0),ke+=ue.length,te.push(ue),ke+=pr.length,te.push(pr),ke+=Nt.length,te.push(Nt),ue=Pn(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Qe),ue.write_shift(2,Ne),ue.write_shift(4,0),ue.write_shift(-4,ot[Xe]),ue.write_shift(4,Nt.length),ue.write_shift(4,rt.content.length),ue.write_shift(2,pr.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,He),bt+=ue.l,ae.push(ue),bt+=pr.length,ae.push(pr),++Xe}return ue=Pn(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,Xe),ue.write_shift(2,Xe),ue.write_shift(4,bt),ue.write_shift(4,ke),ue.write_shift(2,0),bA([bA(te),bA(ae),ue])}var ys={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ka(X,Y){if(X.ctype)return X.ctype;var ee=X.name||"",te=ee.match(/\.([^\.]+)$/);return te&&ys[te[1]]||Y&&(te=(ee=Y).match(/[\.\\]([^\.\\])+$/),te&&ys[te[1]])?ys[te[1]]:"application/octet-stream"}function yi(X){for(var Y=WT(X),ee=[],te=0;te<Y.length;te+=76)ee.push(Y.slice(te,te+76));return ee.join(`\r
`)+`\r
`}function zs(X){var Y=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var ke=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],te=Y.split(`\r
`),ae=0;ae<te.length;++ae){var ue=te[ae];if(ue.length==0){ee.push("");continue}for(var Ne=0;Ne<ue.length;){var Qe=76,Be=ue.slice(Ne,Ne+Qe);Be.charAt(Qe-1)=="="?Qe--:Be.charAt(Qe-2)=="="?Qe-=2:Be.charAt(Qe-3)=="="&&(Qe-=3),Be=ue.slice(Ne,Ne+Qe),Ne+=Qe,Ne<ue.length&&(Be+="="),ee.push(Be)}}return ee.join(`\r
`)}function dn(X){for(var Y=[],ee=0;ee<X.length;++ee){for(var te=X[ee];ee<=X.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+X[++ee];Y.push(te)}for(var ae=0;ae<Y.length;++ae)Y[ae]=Y[ae].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return Ms(Y.join(`\r
`))}function Zi(X,Y,ee){for(var te="",ae="",ue="",Ne,Qe=0;Qe<10;++Qe){var Be=Y[Qe];if(!Be||Be.match(/^\s*$/))break;var Re=Be.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":te=Re[2].trim();break;case"content-type":ue=Re[2].trim();break;case"content-transfer-encoding":ae=Re[2].trim();break}}switch(++Qe,ae.toLowerCase()){case"base64":Ne=Ms(Ga(Y.slice(Qe).join("")));break;case"quoted-printable":Ne=dn(Y.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ae)}var ke=ni(X,te.slice(ee.length),Ne,{unsafe:!0});ue&&(ke.ctype=ue)}function wo(X,Y){if(he(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=Y&&Y.root||"",te=(ar&&Buffer.isBuffer(X)?X.toString("binary"):he(X)).split(`\r
`),ae=0,ue="";for(ae=0;ae<te.length;++ae)if(ue=te[ae],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),ee||(ee=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),ue.slice(0,ee.length)!=ee););var Ne=(te[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var Qe="--"+(Ne[1]||""),Be=[],Re=[],ke={FileIndex:Be,FullPaths:Re};N(ke);var Xe,$e=0;for(ae=0;ae<te.length;++ae){var et=te[ae];et!==Qe&&et!==Qe+"--"||($e++&&Zi(ke,te.slice(Xe,ae),ee),Xe=ae)}return ke}function Tr(X,Y){var ee=Y||{},te=ee.boundary||"SheetJS";te="------="+te;for(var ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],ue=X.FullPaths[0],Ne=ue,Qe=X.FileIndex[0],Be=1;Be<X.FullPaths.length;++Be)if(Ne=X.FullPaths[Be].slice(ue.length),Qe=X.FileIndex[Be],!(!Qe.size||!Qe.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(bt){return"_x"+bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(bt){return"_u"+bt.charCodeAt(0).toString(16)+"_"});for(var Re=Qe.content,ke=ar&&Buffer.isBuffer(Re)?Re.toString("binary"):he(Re),Xe=0,$e=Math.min(1024,ke.length),et=0,rt=0;rt<=$e;++rt)(et=ke.charCodeAt(rt))>=32&&et<128&&++Xe;var ot=Xe>=$e*4/5;ae.push(te),ae.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+Ne),ae.push("Content-Transfer-Encoding: "+(ot?"quoted-printable":"base64")),ae.push("Content-Type: "+Ka(Qe,Ne)),ae.push(""),ae.push(ot?zs(ke):yi(ke))}return ae.push(te+`--\r
`),ae.join(`\r
`)}function Hc(X){var Y={};return N(Y,X),Y}function ni(X,Y,ee,te){var ae=te&&te.unsafe;ae||N(X);var ue=!ae&&lr.find(X,Y);if(!ue){var Ne=X.FullPaths[0];Y.slice(0,Ne.length)==Ne?Ne=Y:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+Y).replace("//","/")),ue={name:i(Y),type:2},X.FileIndex.push(ue),X.FullPaths.push(Ne),ae||lr.utils.cfb_gc(X)}return ue.content=ee,ue.size=ee?ee.length:0,te&&(te.CLSID&&(ue.clsid=te.CLSID),te.mt&&(ue.mt=te.mt),te.ct&&(ue.ct=te.ct)),ue}function Es(X,Y){N(X);var ee=lr.find(X,Y);if(ee){for(var te=0;te<X.FileIndex.length;++te)if(X.FileIndex[te]==ee)return X.FileIndex.splice(te,1),X.FullPaths.splice(te,1),!0}return!1}function zn(X,Y,ee){N(X);var te=lr.find(X,Y);if(te){for(var ae=0;ae<X.FileIndex.length;++ae)if(X.FileIndex[ae]==te)return X.FileIndex[ae].name=i(ee),X.FullPaths[ae]=ee,!0}return!1}function Cs(X){D(X,!0)}return e.find=G,e.read=P,e.parse=h,e.write=Le,e.writeFile=De,e.utils={cfb_new:Hc,cfb_add:ni,cfb_del:Es,cfb_mov:zn,cfb_gc:Cs,ReadShift:ih,CheckField:y6,prep_blob:ci,bconcat:bA,use_zlib:Z,_deflateRaw:Pe,_inflateRaw:$i,consts:ne},e}();function Wq(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function co(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function FC(t){for(var e=[],r=co(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var Cp=new Date(1899,11,30,0,0,0);function Xi(t,e){var r=t.getTime(),n=Cp.getTime()+(t.getTimezoneOffset()-Cp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var e6=new Date,Xq=Cp.getTime()+(e6.getTimezoneOffset()-Cp.getTimezoneOffset())*6e4,r4=e6.getTimezoneOffset();function Hm(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Xq),e.getTimezoneOffset()!==r4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-r4)*6e4),e}function qq(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var n4=new Date("2017-02-19T19:06:09.000Z"),t6=isNaN(n4.getFullYear())?new Date("2/19/17"):n4,Yq=t6.getFullYear()==2017;function ti(t,e){var r=new Date(t);if(Yq)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(t6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function gc(t,e){if(ar&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Df(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Df(HD(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Df(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Df(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function mi(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=mi(t[r]));return e}function cn(t,e){for(var r="";r.length<e;)r+=t;return r}function Ps(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var Jq=["january","february","march","april","may","june","july","august","september","october","november","december"];function u0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Jq.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var $q=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],A=1;A<a.length;++A)s.push(i),s.push(a[A]);return s}}();function r6(t){return t?t.content&&t.type?gc(t.content,!0):t.data?Nf(t.data):t.asNodeBuffer&&ar?Nf(t.asNodeBuffer().toString("binary")):t.asBinary?Nf(t.asBinary()):t._data&&t._data.getContent?Nf(gc(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function n6(t){if(!t)return null;if(t.data)return KT(t.data);if(t.asNodeBuffer&&ar)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?KT(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Zq(t){return t&&t.name.slice(-4)===".bin"?n6(t):r6(t)}function Za(t,e){for(var r=t.FullPaths||co(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function RC(t,e){var r=Za(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Tn(t,e,r){if(!r)return Zq(RC(t,e));if(!e)return null;try{return Tn(t,e)}catch{return null}}function ka(t,e,r){if(!r)return r6(RC(t,e));if(!e)return null;try{return ka(t,e)}catch{return null}}function eY(t,e,r){return n6(RC(t,e))}function i4(t){for(var e=t.FullPaths||co(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function tY(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ar?n=Fc(r):n=wq(r),lr.utils.cfb_add(t,e,n)}lr.utils.cfb_add(t,e,r)}else t.file(e,r)}function i6(t,e){switch(e.type){case"base64":return lr.read(t,{type:"base64"});case"binary":return lr.read(t,{type:"binary"});case"buffer":case"array":return lr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Rf(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var a6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rY=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,a4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,nY=/<[^>]*>/g,Ui=a6.match(a4)?a4:nY,iY=/<\w*:/,aY=/<(\/?)\w+:/;function St(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var s=t.match(rY),A=0,c="",u=0,h="",m="",v=1;if(s)for(u=0;u!=s.length;++u){for(m=s[u],a=0;a!=m.length&&m.charCodeAt(a)!==61;++a);for(h=m.slice(0,a).trim();m.charCodeAt(a+1)==32;)++a;for(v=(i=m.charCodeAt(a+1))==34||i==39?1:0,c=m.slice(a+1+v,m.length-v),A=0;A!=h.length&&h.charCodeAt(A)!==58;++A);if(A===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),n[h]=c,n[h.toLowerCase()]=c;else{var _=(A===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(A+1);if(n[_]&&h.slice(A-3,A)=="ext")continue;n[_]=c,n[_.toLowerCase()]=c}}return n}function xo(t){return t.replace(aY,"<$1")}var s6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},sY=FC(s6),hr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(A,c){return s6[A]||String.fromCharCode(parseInt(c,A.indexOf("x")>-1?16:10))||A}).replace(e,function(A,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}}(),oY=/[&<>'"]/g,AY=/[\u0000-\u001f]/g;function DC(t){var e=t+"";return e.replace(oY,function(r){return sY[r]}).replace(/\n/g,"<br/>").replace(AY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var s4=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function Zr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function M2(t){for(var e="",r=0,n=0,i=0,a=0,s=0,A=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),A=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(A>>>10&1023)),e+=String.fromCharCode(56320+(A&1023))}return e}function o4(t){var e=ll(2*t.length),r,n,i=1,a=0,s=0,A;for(n=0;n<t.length;n+=i)i=1,(A=t.charCodeAt(n))<128?r=A:A<224?(r=(A&31)*64+(t.charCodeAt(n+1)&63),i=2):A<240?(r=(A&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(A&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function A4(t){return Fc(t,"binary").toString("utf8")}var O1="foo bar baz",Or=ar&&(A4(O1)==M2(O1)&&A4||o4(O1)==M2(O1)&&o4)||M2,Df=ar?function(t){return Fc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Lh=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),o6=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),lY=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),cY=/<\/?(?:vt:)?variant>/g,uY=/<(?:vt:)([^>]*)>([\s\S]*)</;function l4(t,e){var r=St(t),n=t.match(lY(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(cY,"").match(uY);s&&i.push({v:Or(s[2]),t:s[1]})}),i}var fY=/(^\s|\s$|\n)/;function hY(t){return co(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dY(t,e,r){return"<"+t+(r!=null?hY(r):"")+(e!=null?(e.match(fY)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function kC(t){if(ar&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Or(Rc(SC(t)));throw new Error("Bad input format: expected Buffer or string")}var Ph=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,gY={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},pY=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function mY(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function xY(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var A=0;A<=5;++A,a/=256)t[r+A]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var c4=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},u4=ar?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Fc(e)})):c4(t)}:c4,f4=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Lo(t,i)));return n.join("").replace(zi,"")},UC=ar?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(zi,""):f4(t,e,r)}:f4,h4=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},A6=ar?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):h4(t,e,r)}:h4,d4=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(uu(t,i)));return n.join("")},wd=ar?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):d4(e,r,n)}:d4,l6=function(t,e){var r=Fa(t,e);return r>0?wd(t,e+4,e+4+r-1):""},c6=l6,u6=function(t,e){var r=Fa(t,e);return r>0?wd(t,e+4,e+4+r-1):""},f6=u6,h6=function(t,e){var r=2*Fa(t,e);return r>0?wd(t,e+4,e+4+r-1):""},d6=h6,g6=function(e,r){var n=Fa(e,r);return n>0?UC(e,r+4,r+4+n):""},p6=g6,m6=function(t,e){var r=Fa(t,e);return r>0?wd(t,e+4,e+4+r):""},x6=m6,v6=function(t,e){return mY(t,e)},_p=v6,w6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ar&&(c6=function(e,r){if(!Buffer.isBuffer(e))return l6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},f6=function(e,r){if(!Buffer.isBuffer(e))return u6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},d6=function(e,r){if(!Buffer.isBuffer(e))return h6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},p6=function(e,r){if(!Buffer.isBuffer(e))return g6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},x6=function(e,r){if(!Buffer.isBuffer(e))return m6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},_p=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):v6(e,r)},w6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var uu=function(t,e){return t[e]},Lo=function(t,e){return t[e+1]*256+t[e]},vY=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Fa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},wY=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ih(t,e){var r="",n,i,a=[],s,A,c,u;switch(e){case"dbcs":if(u=this.l,ar&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Lo(this,u)),u+=2;t*=2;break;case"utf8":r=wd(this,this.l,this.l+t);break;case"utf16le":t*=2,r=UC(this,this.l,this.l+t);break;case"wstr":return ih.call(this,t,"dbcs");case"lpstr-ansi":r=c6(this,this.l),t=4+Fa(this,this.l);break;case"lpstr-cp":r=f6(this,this.l),t=4+Fa(this,this.l);break;case"lpwstr":r=d6(this,this.l),t=4+2*Fa(this,this.l);break;case"lpp4":t=4+Fa(this,this.l),r=p6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fa(this,this.l),r=x6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=uu(this,this.l+t++))!==0;)a.push(M1(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=Lo(this,this.l+t))!==0;)a.push(M1(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=uu(this,u),this.l=u+1,A=ih.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+A;a.push(M1(Lo(this,u))),u+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=uu(this,u),this.l=u+1,A=ih.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+A;a.push(M1(uu(this,u))),u+=1}r=a.join("");break;default:switch(t){case 1:return n=uu(this,this.l),this.l++,n;case 2:return n=(e==="i"?vY:Lo)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?zl:wY)(this,this.l),this.l+=4,n):(i=Fa(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=_p(this,this.l):i=_p([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=A6(this,this.l,t);break}}return this.l+=t,r}var yY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},EY=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},CY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function _Y(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)CY(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,yY(this,e,this.l);break;case 8:if(n=8,r==="f"){xY(this,e,this.l);break}case 16:break;case-4:n=4,EY(this,e,this.l);break}return this.l+=n,this}function y6(t,e){var r=A6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ci(t,e){t.l=e,t.read_shift=ih,t.chk=y6,t.write_shift=_Y}function ki(t,e){t.l+=e}function Pn(t){var e=ll(t);return ci(e,0),e}function aA(t,e,r){if(t){var n,i,a;ci(t,t.l||0);for(var s=t.length,A=0,c=0;t.l<s;){A=t.read_shift(1),A&128&&(A=(A&127)+((t.read_shift(1)&127)<<7));var u=Np[A]||Np[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;c=t.l+a;var h=u.f&&u.f(t,a,r);if(t.l=c,e(h,u,A))return}}}function Rw(){var t=[],e=ar?256:2048,r=function(u){var h=Pn(u);return ci(h,0),h},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},s=function(){return i(),bA(t)},A=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:A,end:s,_bufs:t}}function ah(t,e,r){var n=mi(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function g4(t,e,r){var n=mi(t);return n.s=ah(n.s,e.s,r),n.e=ah(n.e,e.s,r),n}function sh(t,e){if(t.cRel&&t.c<0)for(t=mi(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=mi(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=kt(t);return!t.cRel&&t.cRel!=null&&(r=TY(r)),!t.rRel&&t.rRel!=null&&(r=BY(r)),r}function O2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Vn(t.s.c)+":"+(t.e.cRel?"":"$")+Vn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xi(t.s.r)+":"+(t.e.rRel?"":"$")+xi(t.e.r):sh(t.s,e.biff)+":"+sh(t.e,e.biff)}function MC(t){return parseInt(bY(t),10)-1}function xi(t){return""+(t+1)}function BY(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bY(t){return t.replace(/\$(\d+)$/,"$1")}function OC(t){for(var e=SY(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Vn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function TY(t){return t.replace(/^([A-Z])/,"$$$1")}function SY(t){return t.replace(/^\$([A-Z])/,"$1")}function IY(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ki(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function kt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function k0(t){var e=t.indexOf(":");return e==-1?{s:Ki(t),e:Ki(t)}:{s:Ki(t.slice(0,e)),e:Ki(t.slice(e+1))}}function cr(t,e){return typeof e>"u"||typeof e=="number"?cr(t.s,t.e):(typeof t!="string"&&(t=kt(t)),typeof e!="string"&&(e=kt(e)),t==e?t:t+":"+e)}function fn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function p4(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ps(t.z,r?Xi(e):e)}catch{}try{return t.w=ps((t.XF||{}).numFmtId||(r?14:0),r?Xi(e):e)}catch{return""+e}}function $o(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Uc[t.v]||t.v:e==null?p4(t,t.v):p4(t,e))}function vl(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function E6(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,A=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ki(n.origin):n.origin;s=c.r,A=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=fn(a["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(u.e.r=s=h.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[m].length;++v)if(!(typeof e[m][v]>"u")){var _={v:e[m][v]},b=s+m,T=A+v;if(u.s.r>b&&(u.s.r=b),u.s.c>T&&(u.s.c=T),u.e.r<b&&(u.e.r=b),u.e.c<T&&(u.e.c=T),e[m][v]&&typeof e[m][v]=="object"&&!Array.isArray(e[m][v])&&!(e[m][v]instanceof Date))_=e[m][v];else if(Array.isArray(_.v)&&(_.f=e[m][v][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||jt[14],n.cellDates?(_.t="d",_.w=ps(_.z,Xi(_.v))):(_.t="n",_.v=Xi(_.v),_.w=ps(_.z,_.v))):_.t="s";if(i)a[b]||(a[b]=[]),a[b][T]&&a[b][T].z&&(_.z=a[b][T].z),a[b][T]=_;else{var I=kt({c:T,r:b});a[I]&&a[I].z&&(_.z=a[I].z),a[I]=_}}}return u.s.c<1e7&&(a["!ref"]=cr(u)),a}function U0(t,e){return E6(null,t,e)}function NY(t){return t.read_shift(4,"i")}function Di(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function FY(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function LC(t,e){var r=t.l,n=t.read_shift(1),i=Di(t),a=[],s={t:i,h:i};if(n&1){for(var A=t.read_shift(4),c=0;c!=A;++c)a.push(FY(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}var RY=LC;function vs(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Dc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var DY=Di;function PC(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var kY=Di,Dw=PC;function QC(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?_p([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zl(e,0)>>2;return r?i/100:i}function C6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var kc=C6;function Ni(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function UY(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),A=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=sc[i];u&&(e.rgb=Hh(u));break;case 2:e.rgb=Hh([s,A,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function MY(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function _6(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function OY(t){return _6(t,1)}function LY(t){return _6(t,2)}var HC=2,ca=3,L1=11,m4=12,Bp=19,P1=64,PY=65,QY=71,HY=4108,VY=4126,Yn=80,B6=81,jY=[Yn,B6],GY={1:{n:"CodePage",t:HC},2:{n:"Category",t:Yn},3:{n:"PresentationFormat",t:Yn},4:{n:"ByteCount",t:ca},5:{n:"LineCount",t:ca},6:{n:"ParagraphCount",t:ca},7:{n:"SlideCount",t:ca},8:{n:"NoteCount",t:ca},9:{n:"HiddenCount",t:ca},10:{n:"MultimediaClipCount",t:ca},11:{n:"ScaleCrop",t:L1},12:{n:"HeadingPairs",t:HY},13:{n:"TitlesOfParts",t:VY},14:{n:"Manager",t:Yn},15:{n:"Company",t:Yn},16:{n:"LinksUpToDate",t:L1},17:{n:"CharacterCount",t:ca},19:{n:"SharedDoc",t:L1},22:{n:"HyperlinksChanged",t:L1},23:{n:"AppVersion",t:ca,p:"version"},24:{n:"DigSig",t:PY},26:{n:"ContentType",t:Yn},27:{n:"ContentStatus",t:Yn},28:{n:"Language",t:Yn},29:{n:"Version",t:Yn},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},KY={1:{n:"CodePage",t:HC},2:{n:"Title",t:Yn},3:{n:"Subject",t:Yn},4:{n:"Author",t:Yn},5:{n:"Keywords",t:Yn},6:{n:"Comments",t:Yn},7:{n:"Template",t:Yn},8:{n:"LastAuthor",t:Yn},9:{n:"RevNumber",t:Yn},10:{n:"EditTime",t:P1},11:{n:"LastPrinted",t:P1},12:{n:"CreatedDate",t:P1},13:{n:"ModifiedDate",t:P1},14:{n:"PageCount",t:ca},15:{n:"WordCount",t:ca},16:{n:"CharCount",t:ca},17:{n:"Thumbnail",t:QY},18:{n:"Application",t:Yn},19:{n:"DocSecurity",t:ca},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},x4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zY=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function WY(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var XY=WY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sc=mi(XY),Uc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},b6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},v4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function qY(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function YY(t){var e=qY();if(!t||!t.match)return e;var r={};if((t.match(Ui)||[]).forEach(function(n){var i=St(n);switch(i[0].replace(iY,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[v4[i.ContentType]]!==void 0&&e[v4[i.ContentType]].push(i.PartName);break}}),e.xmlns!==gY.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var Iu={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function kw(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function oh(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ui)||[]).forEach(function(i){var a=St(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var A=a.TargetMode==="External"?a.Target:Rf(a.Target,e);r[A]=s,n[a.Id]=s}}),r["!id"]=n,r}var JY="application/vnd.oasis.opendocument.spreadsheet";function $Y(t,e){for(var r=kC(t),n,i;n=Ph.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=St(n[0],!1),i.path=="/"&&i.type!==JY)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Ah=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ZY=function(){for(var t=new Array(Ah.length),e=0;e<Ah.length;++e){var r=Ah[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function T6(t){var e={};t=Or(t);for(var r=0;r<Ah.length;++r){var n=Ah[r],i=t.match(ZY[r]);i!=null&&i.length>0&&(e[n[1]]=hr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ti(e[n[1]]))}return e}var eJ=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function S6(t,e,r,n){var i=[];if(typeof t=="string")i=l4(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(h){return{v:h}}));var s=typeof e=="string"?l4(e,n).map(function(h){return h.v}):e,A=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(A,A+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(A,A+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(A,A+c);break}A+=c}}function tJ(t,e,r){var n={};return e||(e={}),t=Or(t),eJ.forEach(function(i){var a=(t.match(Lh(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=hr(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&S6(n.HeadingPairs,n.TitlesOfParts,e,r),e}var rJ=/<[^>]+>[^<]*/g;function nJ(t,e){var r={},n="",i=t.match(rJ);if(i)for(var a=0;a!=i.length;++a){var s=i[a],A=St(s);switch(A[0]){case"<?xml":break;case"<Properties":break;case"<property":n=hr(A.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),h=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=hr(h);break;case"bool":r[n]=Zr(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(h);break;case"filetime":case"date":r[n]=ti(h);break;case"cy":case"error":r[n]=hr(h);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}var iJ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},L2;function aJ(t,e,r){L2||(L2=FC(iJ)),e=L2[e]||e,t[e]=r}function VC(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function I6(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function N6(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function F6(t,e,r){return e===31?N6(t):I6(t,e,r)}function Uw(t,e,r){return F6(t,e,r===!1?0:4)}function sJ(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return F6(t,e,0)}function oJ(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(zi,""),t.l-i&2&&(t.l+=2)}return r}function AJ(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(zi,"");return r}function lJ(t){var e=t.l,r=bp(t,B6);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=bp(t,ca);return[r,n]}function cJ(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(lJ(t));return r}function w4(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),s=t.read_shift(4);n[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(zi,"").replace(Ff,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function R6(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function uJ(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function bp(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==m4&&n!==e&&jY.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===m4?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return I6(t,n,4).replace(zi,"");case 31:return N6(t);case 64:return VC(t);case 65:return R6(t);case 71:return uJ(t);case 80:return Uw(t,n,!a.raw).replace(zi,"");case 81:return sJ(t,n).replace(zi,"");case 4108:return cJ(t);case 4126:case 4127:return n==4127?oJ(t):AJ(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function y4(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0,A=0,c=-1,u={};for(s=0;s!=i;++s){var h=t.read_shift(4),m=t.read_shift(4);a[s]=[h,m+r]}a.sort(function(R,F){return R[1]-F[1]});var v={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var _=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,_=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],_=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],_=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(_=!1,t.l=a[s][1]),_)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var b=e[a[s][0]];if(v[b.n]=bp(t,b.t,{raw:!0}),b.p==="version"&&(v[b.n]=String(v[b.n]>>16)+"."+("0000"+String(v[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(v[b.n]){case 0:v[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Os(A=v[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[b.n])}}else if(a[s][0]===1){if(A=v.CodePage=bp(t,HC),Os(A),c!==-1){var T=t.l;t.l=a[c][1],u=w4(t,A),t.l=T}}else if(a[s][0]===0){if(A===0){c=s,t.l=a[s+1][1];continue}u=w4(t,A)}else{var I=u[a[s][0]],k;switch(t[t.l]){case 65:t.l+=4,k=R6(t);break;case 30:t.l+=4,k=Uw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,k=Uw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=vn(t,4);break;case 64:t.l+=4,k=ti(VC(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[I]=k}}return t.l=r+n,v}function E4(t,e,r){var n=t.content;if(!n)return{};ci(n,0);var i,a,s,A,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),h=n.read_shift(16);if(h!==lr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),A=n.read_shift(4),i===1&&A!==n.l)throw new Error("Length mismatch: "+A+" !== "+n.l);i===2&&(s=n.read_shift(16),c=n.read_shift(4));var m=y4(n,e),v={SystemIdentifier:u};for(var _ in m)v[_]=m[_];if(v.FMTID=a,i===1)return v;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var b;try{b=y4(n,null)}catch{}for(_ in b)v[_]=b[_];return v.FMTID=[a,s],v}function dA(t,e){return t.read_shift(e),null}function fJ(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function vn(t,e){return t.read_shift(e)===1}function Sn(t){return t.read_shift(2,"u")}function D6(t,e){return fJ(t,e,Sn)}function hJ(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function yd(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function dJ(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,A,c={};i&&(s=t.read_shift(2)),n&&(A=t.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,u);return i&&(t.l+=4*s),n&&(t.l+=A),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function pc(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Ed(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):pc(t,n,r)}function Mc(t,e,r){if(r.biff>5)return Ed(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function gJ(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function pJ(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(zi,"");return n&&(t.l+=24),i}function mJ(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(zi,"");return r+s}function xJ(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return pJ(t);case"0303000000000000c000000000000046":return mJ(t);default:throw new Error("Unsupported Moniker "+r)}}function Q1(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(zi,""):"";return r}function vJ(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,s,A,c,u="",h,m;i&16&&(a=Q1(t,r-t.l)),i&128&&(s=Q1(t,r-t.l)),(i&257)===257&&(A=Q1(t,r-t.l)),(i&257)===1&&(c=xJ(t,r-t.l)),i&8&&(u=Q1(t,r-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(m=VC(t)),t.l=r;var v=s||A||c||"";v&&u&&(v+="#"+u),v||(v="#"+u),i&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var _={Target:v};return h&&(_.guid=h),m&&(_.time=m),a&&(_.Tooltip=a),_}function k6(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function U6(t,e){var r=k6(t);return r[3]=0,r}function vo(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function wJ(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function yJ(t,e,r){return e===0?"":Mc(t,e,r)}function EJ(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function M6(t){var e=t.read_shift(2),r=QC(t);return[e,r]}function CJ(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=yd(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function Vm(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function O6(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var _J=O6;function L6(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function BJ(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function bJ(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ci(t){t.l+=2,t.l+=t.read_shift(2)}var TJ={0:Ci,4:Ci,5:Ci,6:Ci,7:bJ,8:Ci,9:Ci,10:Ci,11:Ci,12:Ci,13:BJ,14:Ci,15:Ci,16:Ci,17:Ci,18:Ci,19:Ci,20:Ci,21:L6};function SJ(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(TJ[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function H1(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function IJ(t,e){return e===0||t.read_shift(2),1200}function NJ(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Mc(t,0,r);return t.read_shift(e+n-t.l),i}function FJ(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function RJ(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=yd(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function DJ(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<r;++s)a.push(dJ(t));return a.Count=n,a.Unique=i,a}function kJ(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function UJ(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function MJ(t){var e=wJ(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function OJ(t){return t.read_shift(2),t.read_shift(4)}function C4(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function LJ(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),A=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:A,Selected:c,TabRatio:u}}function PJ(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function QJ(){}function HJ(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=yd(t,0,r),n}function VJ(t){var e=vo(t);return e.isst=t.read_shift(4),e}function jJ(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=vo(t);r.biff==2&&t.l++;var a=Ed(t,n-t.l,r);return i.val=a,i}function GJ(t,e,r){var n=t.read_shift(2),i=Mc(t,0,r);return[n,i]}var KJ=Mc;function _4(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),A=t.read_shift(2),c=t.read_shift(2);return t.l=n,{s:{r:a,c:A},e:{r:s,c}}}function zJ(t){var e=t.read_shift(2),r=t.read_shift(2),n=M6(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function WJ(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(M6(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function XJ(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function qJ(t,e,r,n){var i={},a=t.read_shift(4),s=t.read_shift(4),A=t.read_shift(4),c=t.read_shift(2);return i.patternType=zY[A>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=A&127,i.icvBottom=A>>7&127,i.icvDiag=A>>14&127,i.dgDiag=A>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function YJ(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=qJ(t,e,n.fStyle,r),n}function JJ(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function B4(t,e,r){var n=vo(t);(r.biff==2||e==9)&&++t.l;var i=hJ(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function $J(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vo(t),i=Ni(t);return n.val=i,n}var b4=yJ;function ZJ(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=pc(t,a),A=[];n>t.l;)A.push(Ed(t));return[a,i,s,A]}function T4(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=CJ(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var e$=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function S4(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),A=t.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),c=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=pc(t,s,r);i&32&&(u=e$[u.charCodeAt(0)]);var h=n-t.l;r&&r.biff==2&&--h;var m=n==t.l||A===0||!(h>0)?[]:Ute(t,h,r,A);return{chKey:a,Name:u,itab:c,rgce:m}}function P6(t,e,r){if(r.biff<8)return t$(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(EJ(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function t$(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=yd(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function r$(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=pc(t,n,r),s=pc(t,i,r);return[a,s]}function n$(t,e,r){var n=O6(t);t.l++;var i=t.read_shift(1);return e-=8,[Mte(t,e,r),i,n]}function I4(t,e,r){var n=_J(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Dte(t,e,r)]}function i$(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function a$(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),A=Mc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},A,s,a]}}function s$(t,e,r){return a$(t,e,r)}function o$(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Vm(t));return r}function A$(t,e,r){if(r&&r.biff<8)return c$(t,e,r);var n=L6(t),i=SJ(t,e-22,n[1]);return{cmo:n,ft:i}}var l$={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function c$(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((l$[n]||ki)(t,e,r)),{cmo:[i,n,a],ft:s}}function u$(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=gJ(t,6,r);var A=t.read_shift(2);t.read_shift(2),Sn(t,2);var c=t.read_shift(2);t.l+=c;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var h=t[t.l],m=pc(t,t.lens[u+1]-t.lens[u]-1);if(i+=m,i.length>=(h?A:2*A))break}if(i.length!==A&&i.length!==A*2)throw new Error("cchText: "+A+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function f$(t,e){var r=Vm(t);t.l+=16;var n=vJ(t,e-24);return[r,n]}function h$(t,e){t.read_shift(2);var r=Vm(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(zi,""),[r,n]}function d$(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=x4[r]||r,r=t.read_shift(2),e[1]=x4[r]||r,e}function g$(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(U6(t));return r}function p$(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(U6(t));return r}function m$(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function Q6(t,e,r){if(!r.cellStyles)return ki(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),A=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:a,w:s,ixfe:A,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function x$(t,e){var r={};return e<32||(t.l+=16,r.header=Ni(t),r.footer=Ni(t),t.l+=2),r}function v$(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var w$=vo,y$=D6,E$=Ed;function C$(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function _$(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vo(t);++t.l;var i=Mc(t,e-7,r);return n.t="str",n.val=i,n}function B$(t){var e=vo(t);++t.l;var r=Ni(t);return e.t="n",e.val=r,e}function b$(t){var e=vo(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function T$(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function S$(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function I$(t,e,r){var n=t.l+e,i=vo(t),a=t.read_shift(2),s=pc(t,a,r);return t.l=n,i.t="str",i.val=s,i}var N$=[2,3,48,49,131,139,140,245],N4=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=FC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(A,c){var u=[],h=ll(1);switch(c.type){case"base64":h=Ms(Ga(A));break;case"binary":h=Ms(A);break;case"buffer":case"array":h=A;break}ci(h,0);var m=h.read_shift(1),v=!!(m&136),_=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:_=!0,v=!0;break;case 49:_=!0,v=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var T=0,I=521;m==2&&(T=h.read_shift(2)),h.l+=3,m!=2&&(T=h.read_shift(4)),T>1048576&&(T=1e6),m!=2&&(I=h.read_shift(2));var k=h.read_shift(2),R=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(R=t[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var F=[],L={},W=Math.min(h.length,m==2?521:I-10-(_?264:0)),P=b?32:11;h.l<W&&h[h.l]!=13;)switch(L={},L.name=Mh.utils.decode(R,h.slice(h.l,h.l+P)).replace(/[\u0000\r\n].*$/g,""),h.l+=P,L.type=String.fromCharCode(h.read_shift(1)),m!=2&&!b&&(L.offset=h.read_shift(4)),L.len=h.read_shift(1),m==2&&(L.offset=h.read_shift(2)),L.dec=h.read_shift(1),L.name.length&&F.push(L),m!=2&&(h.l+=b?13:14),L.type){case"B":(!_||L.len!=8)&&c.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(h[h.l]!==13&&(h.l=I-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=I;var N=0,M=0;for(u[0]=[],M=0;M!=F.length;++M)u[0][M]=F[M].name;for(;T-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,u[++N]=[],M=0,M=0;M!=F.length;++M){var D=h.slice(h.l,h.l+F[M].len);h.l+=F[M].len,ci(D,0);var Q=Mh.utils.decode(R,D);switch(F[M].type){case"C":Q.trim().length&&(u[N][M]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?u[N][M]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):u[N][M]=Q;break;case"F":u[N][M]=parseFloat(Q.trim());break;case"+":case"I":u[N][M]=b?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":u[N][M]=!0;break;case"N":case"F":u[N][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));u[N][M]="##MEMO##"+(b?parseInt(Q.trim(),10):D.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(u[N][M]=+Q||0);break;case"@":u[N][M]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[N][M]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[N][M]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][M]=-D.read_shift(-8,"f");break;case"B":if(_&&F[M].len==8){u[N][M]=D.read_shift(8,"f");break}case"G":case"P":D.l+=F[M].len;break;case"0":if(F[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[M].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=F,u}function n(A,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var h=U0(r(A,u),u);return h["!cols"]=u.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete u.DBF,h}function i(A,c){try{return vl(n(A,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(A,c){var u=c||{};if(+u.codepage>=0&&Os(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Rw(),m=Vw(A,{header:1,raw:!0,cellDates:!0}),v=m[0],_=m.slice(1),b=A["!cols"]||[],T=0,I=0,k=0,R=1;for(T=0;T<v.length;++T){if(((b[T]||{}).DBF||{}).name){v[T]=b[T].DBF.name,++k;continue}if(v[T]!=null){if(++k,typeof v[T]=="number"&&(v[T]=v[T].toString(10)),typeof v[T]!="string")throw new Error("DBF Invalid column name "+v[T]+" |"+typeof v[T]+"|");if(v.indexOf(v[T])!==T){for(I=0;I<1024;++I)if(v.indexOf(v[T]+"_"+I)==-1){v[T]+="_"+I;break}}}}var F=fn(A["!ref"]),L=[],W=[],P=[];for(T=0;T<=F.e.c-F.s.c;++T){var N="",M="",D=0,Q=[];for(I=0;I<_.length;++I)_[I][T]!=null&&Q.push(_[I][T]);if(Q.length==0||v[T]==null){L[T]="?";continue}for(I=0;I<Q.length;++I){switch(typeof Q[I]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=Q[I]instanceof Date?"D":"C";break;default:M="C"}D=Math.max(D,String(Q[I]).length),N=N&&N!=M?"C":M}D>250&&(D=250),M=((b[T]||{}).DBF||{}).type,M=="C"&&b[T].DBF.len>D&&(D=b[T].DBF.len),N=="B"&&M=="N"&&(N="N",P[T]=b[T].DBF.dec,D=b[T].DBF.len),W[T]=N=="C"||M=="N"?D:a[N]||0,R+=W[T],L[T]=N}var G=h.next(32);for(G.write_shift(4,318902576),G.write_shift(4,_.length),G.write_shift(2,296+32*k),G.write_shift(2,R),T=0;T<4;++T)G.write_shift(4,0);for(G.write_shift(4,0|(+e[PD]||3)<<8),T=0,I=0;T<v.length;++T)if(v[T]!=null){var j=h.next(32),V=(v[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,V,"sbcs"),j.write_shift(1,L[T]=="?"?"C":L[T],"sbcs"),j.write_shift(4,I),j.write_shift(1,W[T]||a[L[T]]||0),j.write_shift(1,P[T]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),I+=W[T]||a[L[T]]||0}var Ce=h.next(264);for(Ce.write_shift(4,13),T=0;T<65;++T)Ce.write_shift(4,0);for(T=0;T<_.length;++T){var le=h.next(R);for(le.write_shift(1,0),I=0;I<v.length;++I)if(v[I]!=null)switch(L[I]){case"L":le.write_shift(1,_[T][I]==null?63:_[T][I]?84:70);break;case"B":le.write_shift(8,_[T][I]||0,"f");break;case"N":var de="0";for(typeof _[T][I]=="number"&&(de=_[T][I].toFixed(P[I]||0)),k=0;k<W[I]-de.length;++k)le.write_shift(1,32);le.write_shift(1,de,"sbcs");break;case"D":_[T][I]?(le.write_shift(4,("0000"+_[T][I].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(_[T][I].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+_[T][I].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(_[T][I]!=null?_[T][I]:"").slice(0,W[I]);for(le.write_shift(1,ne,"sbcs"),k=0;k<W[I]-ne.length;++k)le.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),F$=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+co(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,_){var b=t[_];return typeof b=="number"?zT(b):b},n=function(v,_,b){var T=_.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return T==59?v:zT(T)};t["|"]=254;function i(v,_){switch(_.type){case"base64":return a(Ga(v),_);case"binary":return a(v,_);case"buffer":return a(ar&&Buffer.isBuffer(v)?v.toString("binary"):Rc(v),_);case"array":return a(gc(v),_)}throw new Error("Unrecognized type "+_.type)}function a(v,_){var b=v.split(/[\n\r]+/),T=-1,I=-1,k=0,R=0,F=[],L=[],W=null,P={},N=[],M=[],D=[],Q=0,G;for(+_.codepage>=0&&Os(+_.codepage);k!==b.length;++k){Q=0;var j=b[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),V=j.replace(/;;/g,"\0").split(";").map(function(se){return se.replace(/\u0000/g,";")}),Ce=V[0],le;if(j.length>0)switch(Ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&L.push(j.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,ne=!1,De=!1,he=!1,Le=-1,Ze=-1;for(R=1;R<V.length;++R)switch(V[R].charAt(0)){case"A":break;case"X":I=parseInt(V[R].slice(1))-1,ne=!0;break;case"Y":for(T=parseInt(V[R].slice(1))-1,ne||(I=0),G=F.length;G<=T;++G)F[G]=[];break;case"K":le=V[R].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Ps(le))?isNaN(u0(le).getDate())||(le=ti(le)):(le=Ps(le),W!==null&&D0(W)&&(le=Hm(le))),de=!0;break;case"E":he=!0;var Z=Gu(V[R].slice(1),{r:T,c:I});F[T][I]=[F[T][I],Z];break;case"S":De=!0,F[T][I]=[F[T][I],"S5S"];break;case"G":break;case"R":Le=parseInt(V[R].slice(1))-1;break;case"C":Ze=parseInt(V[R].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+j)}if(de&&(F[T][I]&&F[T][I].length==2?F[T][I][0]=le:F[T][I]=le,W=null),De){if(he)throw new Error("SYLK shared formula cannot have own formula");var ge=Le>-1&&F[Le][Ze];if(!ge||!ge[1])throw new Error("SYLK shared formula cannot find base");F[T][I][1]=Y6(ge[1],{r:T-Le,c:I-Ze})}break;case"F":var ce=0;for(R=1;R<V.length;++R)switch(V[R].charAt(0)){case"X":I=parseInt(V[R].slice(1))-1,++ce;break;case"Y":for(T=parseInt(V[R].slice(1))-1,G=F.length;G<=T;++G)F[G]=[];break;case"M":Q=parseInt(V[R].slice(1))/20;break;case"F":break;case"G":break;case"P":W=L[parseInt(V[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=V[R].slice(1).split(" "),G=parseInt(D[0],10);G<=parseInt(D[1],10);++G)Q=parseInt(D[2],10),M[G-1]=Q===0?{hidden:!0}:{wch:Q},f0(M[G-1]);break;case"C":I=parseInt(V[R].slice(1))-1,M[I]||(M[I]={});break;case"R":T=parseInt(V[R].slice(1))-1,N[T]||(N[T]={}),Q>0?(N[T].hpt=Q,N[T].hpx=Vh(Q)):Q===0&&(N[T].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+j)}ce<1&&(W=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+j)}}return N.length>0&&(P["!rows"]=N),M.length>0&&(P["!cols"]=M),_&&_.sheetRows&&(F=F.slice(0,_.sheetRows)),[F,P]}function s(v,_){var b=i(v,_),T=b[0],I=b[1],k=U0(T,_);return co(I).forEach(function(R){k[R]=I[R]}),k}function A(v,_){return vl(s(v,_),_)}function c(v,_,b,T){var I="C;Y"+(b+1)+";X"+(T+1)+";K";switch(v.t){case"n":I+=v.v||0,v.f&&!v.F&&(I+=";E"+mee(v.f,{r:b,c:T}));break;case"b":I+=v.v?"TRUE":"FALSE";break;case"e":I+=v.w||v.v;break;case"d":I+='"'+(v.w||v.v)+'"';break;case"s":I+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function u(v,_){_.forEach(function(b,T){var I="F;W"+(T+1)+" "+(T+1)+" ";b.hidden?I+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Sp(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Ip(b.wpx)),typeof b.wch=="number"&&(I+=Math.round(b.wch))),I.charAt(I.length-1)!=" "&&v.push(I)})}function h(v,_){_.forEach(function(b,T){var I="F;";b.hidden?I+="M0;":b.hpt?I+="M"+20*b.hpt+";":b.hpx&&(I+="M"+20*W6(b.hpx)+";"),I.length>2&&v.push(I+"R"+(T+1))})}function m(v,_){var b=["ID;PWXL;N;E"],T=[],I=fn(v["!ref"]),k,R=Array.isArray(v),F=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),v["!cols"]&&u(b,v["!cols"]),v["!rows"]&&h(b,v["!rows"]),b.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var L=I.s.r;L<=I.e.r;++L)for(var W=I.s.c;W<=I.e.c;++W){var P=kt({r:L,c:W});k=R?(v[L]||[])[W]:v[P],!(!k||k.v==null&&(!k.f||k.F))&&T.push(c(k,v,L,W))}return b.join(F)+F+T.join(F)+F+"E"+F}return{to_workbook:A,to_sheet:s,from_sheet:m}}(),R$=function(){function t(a,s){switch(s.type){case"base64":return e(Ga(a),s);case"binary":return e(a,s);case"buffer":return e(ar&&Buffer.isBuffer(a)?a.toString("binary"):Rc(a),s);case"array":return e(gc(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var A=a.split(`
`),c=-1,u=-1,h=0,m=[];h!==A.length;++h){if(A[h].trim()==="BOT"){m[++c]=[],u=0;continue}if(!(c<0)){var v=A[h].trim().split(","),_=v[0],b=v[1];++h;for(var T=A[h]||"";(T.match(/["]/g)||[]).length&1&&h<A.length-1;)T+=`
`+A[++h];switch(T=T.trim(),+_){case-1:if(T==="BOT"){m[++c]=[],u=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?m[c][u]=!0:T==="FALSE"?m[c][u]=!1:isNaN(Ps(b))?isNaN(u0(b).getDate())?m[c][u]=b:m[c][u]=ti(b):m[c][u]=Ps(b),++u;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),m[c][u++]=T!==""?T:null;break}if(T==="EOD")break}}return s&&s.sheetRows&&(m=m.slice(0,s.sheetRows)),m}function r(a,s){return U0(t(a,s),s)}function n(a,s){return vl(r(a,s),s)}var i=function(){var a=function(c,u,h,m,v){c.push(u),c.push(h+","+m),c.push('"'+v.replace(/"/g,'""')+'"')},s=function(c,u,h,m){c.push(u+","+h),c.push(u==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var u=[],h=fn(c["!ref"]),m,v=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,h.e.r-h.s.r+1,""),a(u,"TUPLES",0,h.e.c-h.s.c+1,""),a(u,"DATA",0,0,"");for(var _=h.s.r;_<=h.e.r;++_){s(u,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var T=kt({r:_,c:b});if(m=v?(c[_]||[])[b]:c[T],!m){s(u,1,0,"");continue}switch(m.t){case"n":var I=m.w;!I&&m.v!=null&&(I=m.v),I==null?m.f&&!m.F?s(u,1,0,"="+m.f):s(u,1,0,""):s(u,0,I,"V");break;case"b":s(u,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=ps(m.z||jt[14],Xi(ti(m.v)))),s(u,0,m.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var k=`\r
`,R=u.join(k);return R}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),D$=function(){function t(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,v){for(var _=m.split(`
`),b=-1,T=-1,I=0,k=[];I!==_.length;++I){var R=_[I].trim().split(":");if(R[0]==="cell"){var F=Ki(R[1]);if(k.length<=F.r)for(b=k.length;b<=F.r;++b)k[b]||(k[b]=[]);switch(b=F.r,T=F.c,R[2]){case"t":k[b][T]=t(R[3]);break;case"v":k[b][T]=+R[3];break;case"vtf":var L=R[R.length-1];case"vtc":switch(R[3]){case"nl":k[b][T]=!!+R[4];break;default:k[b][T]=+R[4];break}R[2]=="vtf"&&(k[b][T]=[k[b][T],L])}}}return v&&v.sheetRows&&(k=k.slice(0,v.sheetRows)),k}function n(m,v){return U0(r(m,v),v)}function i(m,v){return vl(n(m,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,A=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(m){if(!m||!m["!ref"])return"";for(var v=[],_=[],b,T="",I=k0(m["!ref"]),k=Array.isArray(m),R=I.s.r;R<=I.e.r;++R)for(var F=I.s.c;F<=I.e.c;++F)if(T=kt({r:R,c:F}),b=k?(m[R]||[])[F]:m[T],!(!b||b.v==null||b.t==="z")){switch(_=["cell",T,"t"],b.t){case"s":case"str":_.push(e(b.v));break;case"n":b.f?(_[2]="vtf",_[3]="n",_[4]=b.v,_[5]=e(b.f)):(_[2]="v",_[3]=b.v);break;case"b":_[2]="vt"+(b.f?"f":"c"),_[3]="nl",_[4]=b.v?"1":"0",_[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var L=Xi(ti(b.v));_[2]="vtc",_[3]="nd",_[4]=""+L,_[5]=b.w||ps(b.z||jt[14],L);break;case"e":continue}v.push(_.join(":"))}return v.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function h(m){return[a,s,A,s,u(m),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),Qh=function(){function t(h,m,v,_,b){b.raw?m[v][_]=h:h===""||(h==="TRUE"?m[v][_]=!0:h==="FALSE"?m[v][_]=!1:isNaN(Ps(h))?isNaN(u0(h).getDate())?m[v][_]=h:m[v][_]=ti(h):m[v][_]=Ps(h))}function e(h,m){var v=m||{},_=[];if(!h||h.length===0)return _;for(var b=h.split(/[\r\n]/),T=b.length-1;T>=0&&b[T].length===0;)--T;for(var I=10,k=0,R=0;R<=T;++R)k=b[R].indexOf(" "),k==-1?k=b[R].length:k++,I=Math.max(I,k);for(R=0;R<=T;++R){_[R]=[];var F=0;for(t(b[R].slice(0,I).trim(),_,R,F,v),F=1;F<=(b[R].length-I)/10+1;++F)t(b[R].slice(I+(F-1)*10,I+F*10).trim(),_,R,F,v)}return v.sheetRows&&(_=_.slice(0,v.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var m={},v=!1,_=0,b=0;_<h.length;++_)(b=h.charCodeAt(_))==34?v=!v:!v&&b in r&&(m[b]=(m[b]||0)+1);b=[];for(_ in m)Object.prototype.hasOwnProperty.call(m,_)&&b.push([m[_],_]);if(!b.length){m=n;for(_ in m)Object.prototype.hasOwnProperty.call(m,_)&&b.push([m[_],_])}return b.sort(function(T,I){return T[0]-I[0]||n[T[1]]-n[I[1]]}),r[b.pop()[1]]||44}function a(h,m){var v=m||{},_="",b=v.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(_=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(_=h.charAt(4),h=h.slice(6)):_=i(h.slice(0,1024)):v&&v.FS?_=v.FS:_=i(h.slice(0,1024));var I=0,k=0,R=0,F=0,L=0,W=_.charCodeAt(0),P=!1,N=0,M=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var D=v.dateNF!=null?Gq(v.dateNF):null;function Q(){var G=h.slice(F,L),j={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)j.t="z";else if(v.raw)j.t="s",j.v=G;else if(G.trim().length===0)j.t="s",j.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(j.t="s",j.v=G.slice(2,-1).replace(/""/g,'"')):vee(G)?(j.t="n",j.f=G.slice(1)):(j.t="s",j.v=G);else if(G=="TRUE")j.t="b",j.v=!0;else if(G=="FALSE")j.t="b",j.v=!1;else if(!isNaN(R=Ps(G)))j.t="n",v.cellText!==!1&&(j.w=G),j.v=R;else if(!isNaN(u0(G).getDate())||D&&G.match(D)){j.z=v.dateNF||jt[14];var V=0;D&&G.match(D)&&(G=Kq(G,v.dateNF,G.match(D)||[]),V=1),v.cellDates?(j.t="d",j.v=ti(G,V)):(j.t="n",j.v=Xi(ti(G,V))),v.cellText!==!1&&(j.w=ps(j.z,j.v instanceof Date?Xi(j.v):j.v)),v.cellNF||delete j.z}else j.t="s",j.v=G;if(j.t=="z"||(v.dense?(b[I]||(b[I]=[]),b[I][k]=j):b[kt({c:k,r:I})]=j),F=L+1,M=h.charCodeAt(F),T.e.c<k&&(T.e.c=k),T.e.r<I&&(T.e.r=I),N==W)++k;else if(k=0,++I,v.sheetRows&&v.sheetRows<=I)return!0}e:for(;L<h.length;++L)switch(N=h.charCodeAt(L)){case 34:M===34&&(P=!P);break;case W:case 10:case 13:if(!P&&Q())break e;break}return L-F>0&&Q(),b["!ref"]=cr(T),b}function s(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,m):U0(e(h,m),m)}function A(h,m){var v="",_=m.type=="string"?[0,0,0,0]:YC(h,m);switch(m.type){case"base64":v=Ga(h);break;case"binary":v=h;break;case"buffer":m.codepage==65001?v=h.toString("utf8"):m.codepage&&typeof Mh<"u"||(v=ar&&Buffer.isBuffer(h)?h.toString("binary"):Rc(h));break;case"array":v=gc(h);break;case"string":v=h;break;default:throw new Error("Unrecognized type "+m.type)}return _[0]==239&&_[1]==187&&_[2]==191?v=Or(v.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?v=Or(v):m.type=="binary"&&typeof Mh<"u",v.slice(0,19)=="socialcalc:version:"?D$.to_sheet(m.type=="string"?v:Or(v),m):s(v,m)}function c(h,m){return vl(A(h,m),m)}function u(h){for(var m=[],v=fn(h["!ref"]),_,b=Array.isArray(h),T=v.s.r;T<=v.e.r;++T){for(var I=[],k=v.s.c;k<=v.e.c;++k){var R=kt({r:T,c:k});if(_=b?(h[T]||[])[k]:h[R],!_||_.v==null){I.push("          ");continue}for(var F=(_.w||($o(_),_.w)||"").slice(0,10);F.length<10;)F+=" ";I.push(F+(k===0?" ":""))}m.push(I.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:A,from_sheet:u}}();function k$(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=F$.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Qh.to_workbook(t,e)}}var lh=function(){function t(Z,ge,ce){if(Z){ci(Z,Z.l||0);for(var se=ce.Enum||Le;Z.l<Z.length;){var fe=Z.read_shift(2),je=se[fe]||se[65535],ye=Z.read_shift(2),xe=Z.l+ye,Se=je.f&&je.f(Z,ye,ce);if(Z.l=xe,ge(Se,je,fe))return}}}function e(Z,ge){switch(ge.type){case"base64":return r(Ms(Ga(Z)),ge);case"binary":return r(Ms(Z),ge);case"buffer":case"array":return r(Z,ge)}throw"Unsupported type "+ge.type}function r(Z,ge){if(!Z)return Z;var ce=ge||{},se=ce.dense?[]:{},fe="Sheet1",je="",ye=0,xe={},Se=[],it=[],ie={s:{r:0,c:0},e:{r:0,c:0}},lt=ce.sheetRows||0;if(Z[2]==0&&(Z[3]==8||Z[3]==9)&&Z.length>=16&&Z[14]==5&&Z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Z[2]==2)ce.Enum=Le,t(Z,function(Ee,qe,st){switch(st){case 0:ce.vers=Ee,Ee>=4096&&(ce.qpro=!0);break;case 6:ie=Ee;break;case 204:Ee&&(je=Ee);break;case 222:je=Ee;break;case 15:case 51:ce.qpro||(Ee[1].v=Ee[1].v.slice(1));case 13:case 14:case 16:st==14&&(Ee[2]&112)==112&&(Ee[2]&15)>1&&(Ee[2]&15)<15&&(Ee[1].z=ce.dateNF||jt[14],ce.cellDates&&(Ee[1].t="d",Ee[1].v=Hm(Ee[1].v))),ce.qpro&&Ee[3]>ye&&(se["!ref"]=cr(ie),xe[fe]=se,Se.push(fe),se=ce.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},ye=Ee[3],fe=je||"Sheet"+(ye+1),je="");var qt=ce.dense?(se[Ee[0].r]||[])[Ee[0].c]:se[kt(Ee[0])];if(qt){qt.t=Ee[1].t,qt.v=Ee[1].v,Ee[1].z!=null&&(qt.z=Ee[1].z),Ee[1].f!=null&&(qt.f=Ee[1].f);break}ce.dense?(se[Ee[0].r]||(se[Ee[0].r]=[]),se[Ee[0].r][Ee[0].c]=Ee[1]):se[kt(Ee[0])]=Ee[1];break}},ce);else if(Z[2]==26||Z[2]==14)ce.Enum=Ze,Z[2]==14&&(ce.qpro=!0,Z.l=0),t(Z,function(Ee,qe,st){switch(st){case 204:fe=Ee;break;case 22:Ee[1].v=Ee[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ee[3]>ye&&(se["!ref"]=cr(ie),xe[fe]=se,Se.push(fe),se=ce.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},ye=Ee[3],fe="Sheet"+(ye+1)),lt>0&&Ee[0].r>=lt)break;ce.dense?(se[Ee[0].r]||(se[Ee[0].r]=[]),se[Ee[0].r][Ee[0].c]=Ee[1]):se[kt(Ee[0])]=Ee[1],ie.e.c<Ee[0].c&&(ie.e.c=Ee[0].c),ie.e.r<Ee[0].r&&(ie.e.r=Ee[0].r);break;case 27:Ee[14e3]&&(it[Ee[14e3][0]]=Ee[14e3][1]);break;case 1537:it[Ee[0]]=Ee[1],Ee[0]==ye&&(fe=Ee[1]);break}},ce);else throw new Error("Unrecognized LOTUS BOF "+Z[2]);if(se["!ref"]=cr(ie),xe[je||fe]=se,Se.push(je||fe),!it.length)return{SheetNames:Se,Sheets:xe};for(var yt={},wt=[],we=0;we<it.length;++we)xe[Se[we]]?(wt.push(it[we]||Se[we]),yt[it[we]]=xe[it[we]]||xe[Se[we]]):(wt.push(it[we]),yt[it[we]]={"!ref":"A1"});return{SheetNames:wt,Sheets:yt}}function n(Z,ge){var ce=ge||{};if(+ce.codepage>=0&&Os(+ce.codepage),ce.type=="string")throw new Error("Cannot write WK1 to JS string");var se=Rw(),fe=fn(Z["!ref"]),je=Array.isArray(Z),ye=[];Ns(se,0,a(1030)),Ns(se,6,c(fe));for(var xe=Math.min(fe.e.r,8191),Se=fe.s.r;Se<=xe;++Se)for(var it=xi(Se),ie=fe.s.c;ie<=fe.e.c;++ie){Se===fe.s.r&&(ye[ie]=Vn(ie));var lt=ye[ie]+it,yt=je?(Z[Se]||[])[ie]:Z[lt];if(!(!yt||yt.t=="z"))if(yt.t=="n")(yt.v|0)==yt.v&&yt.v>=-32768&&yt.v<=32767?Ns(se,13,_(Se,ie,yt.v)):Ns(se,14,T(Se,ie,yt.v));else{var wt=$o(yt);Ns(se,15,m(Se,ie,wt.slice(0,239)))}}return Ns(se,1),se.end()}function i(Z,ge){var ce=ge||{};if(+ce.codepage>=0&&Os(+ce.codepage),ce.type=="string")throw new Error("Cannot write WK3 to JS string");var se=Rw();Ns(se,0,s(Z));for(var fe=0,je=0;fe<Z.SheetNames.length;++fe)(Z.Sheets[Z.SheetNames[fe]]||{})["!ref"]&&Ns(se,27,he(Z.SheetNames[fe],je++));var ye=0;for(fe=0;fe<Z.SheetNames.length;++fe){var xe=Z.Sheets[Z.SheetNames[fe]];if(!(!xe||!xe["!ref"])){for(var Se=fn(xe["!ref"]),it=Array.isArray(xe),ie=[],lt=Math.min(Se.e.r,8191),yt=Se.s.r;yt<=lt;++yt)for(var wt=xi(yt),we=Se.s.c;we<=Se.e.c;++we){yt===Se.s.r&&(ie[we]=Vn(we));var Ee=ie[we]+wt,qe=it?(xe[yt]||[])[we]:xe[Ee];if(!(!qe||qe.t=="z"))if(qe.t=="n")Ns(se,23,Q(yt,we,ye,qe.v));else{var st=$o(qe);Ns(se,22,N(yt,we,ye,st.slice(0,239)))}}++ye}}return Ns(se,1),se.end()}function a(Z){var ge=Pn(2);return ge.write_shift(2,Z),ge}function s(Z){var ge=Pn(26);ge.write_shift(2,4096),ge.write_shift(2,4),ge.write_shift(4,0);for(var ce=0,se=0,fe=0,je=0;je<Z.SheetNames.length;++je){var ye=Z.SheetNames[je],xe=Z.Sheets[ye];if(!(!xe||!xe["!ref"])){++fe;var Se=k0(xe["!ref"]);ce<Se.e.r&&(ce=Se.e.r),se<Se.e.c&&(se=Se.e.c)}}return ce>8191&&(ce=8191),ge.write_shift(2,ce),ge.write_shift(1,fe),ge.write_shift(1,se),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(1,1),ge.write_shift(1,2),ge.write_shift(4,0),ge.write_shift(4,0),ge}function A(Z,ge,ce){var se={s:{c:0,r:0},e:{c:0,r:0}};return ge==8&&ce.qpro?(se.s.c=Z.read_shift(1),Z.l++,se.s.r=Z.read_shift(2),se.e.c=Z.read_shift(1),Z.l++,se.e.r=Z.read_shift(2),se):(se.s.c=Z.read_shift(2),se.s.r=Z.read_shift(2),ge==12&&ce.qpro&&(Z.l+=2),se.e.c=Z.read_shift(2),se.e.r=Z.read_shift(2),ge==12&&ce.qpro&&(Z.l+=2),se.s.c==65535&&(se.s.c=se.e.c=se.s.r=se.e.r=0),se)}function c(Z){var ge=Pn(8);return ge.write_shift(2,Z.s.c),ge.write_shift(2,Z.s.r),ge.write_shift(2,Z.e.c),ge.write_shift(2,Z.e.r),ge}function u(Z,ge,ce){var se=[{c:0,r:0},{t:"n",v:0},0,0];return ce.qpro&&ce.vers!=20768?(se[0].c=Z.read_shift(1),se[3]=Z.read_shift(1),se[0].r=Z.read_shift(2),Z.l+=2):(se[2]=Z.read_shift(1),se[0].c=Z.read_shift(2),se[0].r=Z.read_shift(2)),se}function h(Z,ge,ce){var se=Z.l+ge,fe=u(Z,ge,ce);if(fe[1].t="s",ce.vers==20768){Z.l++;var je=Z.read_shift(1);return fe[1].v=Z.read_shift(je,"utf8"),fe}return ce.qpro&&Z.l++,fe[1].v=Z.read_shift(se-Z.l,"cstr"),fe}function m(Z,ge,ce){var se=Pn(7+ce.length);se.write_shift(1,255),se.write_shift(2,ge),se.write_shift(2,Z),se.write_shift(1,39);for(var fe=0;fe<se.length;++fe){var je=ce.charCodeAt(fe);se.write_shift(1,je>=128?95:je)}return se.write_shift(1,0),se}function v(Z,ge,ce){var se=u(Z,ge,ce);return se[1].v=Z.read_shift(2,"i"),se}function _(Z,ge,ce){var se=Pn(7);return se.write_shift(1,255),se.write_shift(2,ge),se.write_shift(2,Z),se.write_shift(2,ce,"i"),se}function b(Z,ge,ce){var se=u(Z,ge,ce);return se[1].v=Z.read_shift(8,"f"),se}function T(Z,ge,ce){var se=Pn(13);return se.write_shift(1,255),se.write_shift(2,ge),se.write_shift(2,Z),se.write_shift(8,ce,"f"),se}function I(Z,ge,ce){var se=Z.l+ge,fe=u(Z,ge,ce);if(fe[1].v=Z.read_shift(8,"f"),ce.qpro)Z.l=se;else{var je=Z.read_shift(2);L(Z.slice(Z.l,Z.l+je),fe),Z.l+=je}return fe}function k(Z,ge,ce){var se=ge&32768;return ge&=-32769,ge=(se?Z:0)+(ge>=8192?ge-16384:ge),(se?"":"$")+(ce?Vn(ge):xi(ge))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(Z,ge){ci(Z,0);for(var ce=[],se=0,fe="",je="",ye="",xe="";Z.l<Z.length;){var Se=Z[Z.l++];switch(Se){case 0:ce.push(Z.read_shift(8,"f"));break;case 1:je=k(ge[0].c,Z.read_shift(2),!0),fe=k(ge[0].r,Z.read_shift(2),!1),ce.push(je+fe);break;case 2:{var it=k(ge[0].c,Z.read_shift(2),!0),ie=k(ge[0].r,Z.read_shift(2),!1);je=k(ge[0].c,Z.read_shift(2),!0),fe=k(ge[0].r,Z.read_shift(2),!1),ce.push(it+ie+":"+je+fe)}break;case 3:if(Z.l<Z.length){console.error("WK1 premature formula end");return}break;case 4:ce.push("("+ce.pop()+")");break;case 5:ce.push(Z.read_shift(2));break;case 6:{for(var lt="";Se=Z[Z.l++];)lt+=String.fromCharCode(Se);ce.push('"'+lt.replace(/"/g,'""')+'"')}break;case 8:ce.push("-"+ce.pop());break;case 23:ce.push("+"+ce.pop());break;case 22:ce.push("NOT("+ce.pop()+")");break;case 20:case 21:xe=ce.pop(),ye=ce.pop(),ce.push(["AND","OR"][Se-20]+"("+ye+","+xe+")");break;default:if(Se<32&&F[Se])xe=ce.pop(),ye=ce.pop(),ce.push(ye+F[Se]+xe);else if(R[Se]){if(se=R[Se][1],se==69&&(se=Z[Z.l++]),se>ce.length){console.error("WK1 bad formula parse 0x"+Se.toString(16)+":|"+ce.join("|")+"|");return}var yt=ce.slice(-se);ce.length-=se,ce.push(R[Se][0]+"("+yt.join(",")+")")}else return Se<=7?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=24?console.error("WK1 unsupported op "+Se.toString(16)):Se<=30?console.error("WK1 invalid opcode "+Se.toString(16)):Se<=115?console.error("WK1 unsupported function opcode "+Se.toString(16)):console.error("WK1 unrecognized opcode "+Se.toString(16))}}ce.length==1?ge[1].f=""+ce[0]:console.error("WK1 bad formula parse |"+ce.join("|")+"|")}function W(Z){var ge=[{c:0,r:0},{t:"n",v:0},0];return ge[0].r=Z.read_shift(2),ge[3]=Z[Z.l++],ge[0].c=Z[Z.l++],ge}function P(Z,ge){var ce=W(Z);return ce[1].t="s",ce[1].v=Z.read_shift(ge-4,"cstr"),ce}function N(Z,ge,ce,se){var fe=Pn(6+se.length);fe.write_shift(2,Z),fe.write_shift(1,ce),fe.write_shift(1,ge),fe.write_shift(1,39);for(var je=0;je<se.length;++je){var ye=se.charCodeAt(je);fe.write_shift(1,ye>=128?95:ye)}return fe.write_shift(1,0),fe}function M(Z,ge){var ce=W(Z);ce[1].v=Z.read_shift(2);var se=ce[1].v>>1;if(ce[1].v&1)switch(se&7){case 0:se=(se>>3)*5e3;break;case 1:se=(se>>3)*500;break;case 2:se=(se>>3)/20;break;case 3:se=(se>>3)/200;break;case 4:se=(se>>3)/2e3;break;case 5:se=(se>>3)/2e4;break;case 6:se=(se>>3)/16;break;case 7:se=(se>>3)/64;break}return ce[1].v=se,ce}function D(Z,ge){var ce=W(Z),se=Z.read_shift(4),fe=Z.read_shift(4),je=Z.read_shift(2);if(je==65535)return se===0&&fe===3221225472?(ce[1].t="e",ce[1].v=15):se===0&&fe===3489660928?(ce[1].t="e",ce[1].v=42):ce[1].v=0,ce;var ye=je&32768;return je=(je&32767)-16446,ce[1].v=(1-ye*2)*(fe*Math.pow(2,je+32)+se*Math.pow(2,je)),ce}function Q(Z,ge,ce,se){var fe=Pn(14);if(fe.write_shift(2,Z),fe.write_shift(1,ce),fe.write_shift(1,ge),se==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var je=0,ye=0,xe=0,Se=0;return se<0&&(je=1,se=-se),ye=Math.log2(se)|0,se/=Math.pow(2,ye-31),Se=se>>>0,Se&2147483648||(se/=2,++ye,Se=se>>>0),se-=Se,Se|=2147483648,Se>>>=0,se*=Math.pow(2,32),xe=se>>>0,fe.write_shift(4,xe),fe.write_shift(4,Se),ye+=16383+(je?32768:0),fe.write_shift(2,ye),fe}function G(Z,ge){var ce=D(Z);return Z.l+=ge-14,ce}function j(Z,ge){var ce=W(Z),se=Z.read_shift(4);return ce[1].v=se>>6,ce}function V(Z,ge){var ce=W(Z),se=Z.read_shift(8,"f");return ce[1].v=se,ce}function Ce(Z,ge){var ce=V(Z);return Z.l+=ge-10,ce}function le(Z,ge){return Z[Z.l+ge-1]==0?Z.read_shift(ge,"cstr"):""}function de(Z,ge){var ce=Z[Z.l++];ce>ge-1&&(ce=ge-1);for(var se="";se.length<ce;)se+=String.fromCharCode(Z[Z.l++]);return se}function ne(Z,ge,ce){if(!(!ce.qpro||ge<21)){var se=Z.read_shift(1);Z.l+=17,Z.l+=1,Z.l+=2;var fe=Z.read_shift(ge-21,"cstr");return[se,fe]}}function De(Z,ge){for(var ce={},se=Z.l+ge;Z.l<se;){var fe=Z.read_shift(2);if(fe==14e3){for(ce[fe]=[0,""],ce[fe][0]=Z.read_shift(2);Z[Z.l];)ce[fe][1]+=String.fromCharCode(Z[Z.l]),Z.l++;Z.l++}}return ce}function he(Z,ge){var ce=Pn(5+Z.length);ce.write_shift(2,14e3),ce.write_shift(2,ge);for(var se=0;se<Z.length;++se){var fe=Z.charCodeAt(se);ce[ce.l++]=fe>127?95:fe}return ce[ce.l++]=0,ce}var Le={0:{n:"BOF",f:Sn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:A},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},Ze={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:De},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:Ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function U$(t){var e={},r=t.match(Ui),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=St(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=bC[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var M$=function(){var t=Lh("t"),e=Lh("rPr");function r(a){var s=a.match(t);if(!s)return{t:"s",v:""};var A={t:"s",v:hr(s[1])},c=a.match(e);return c&&(A.s=U$(c[1])),A}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(A){return A.v})}}(),O$=function(){var e=/(\r\n|\n)/g;function r(i,a,s){var A=[];i.u&&A.push("text-decoration: underline;"),i.uval&&A.push("text-underline-style:"+i.uval+";"),i.sz&&A.push("font-size:"+i.sz+"pt;"),i.outline&&A.push("text-effect: outline;"),i.shadow&&A.push("text-shadow: auto;"),a.push('<span style="'+A.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),L$=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,P$=/<(?:\w+:)?r>/,Q$=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function jC(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=hr(Or(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Or(t),r&&(n.h=DC(n.t))):t.match(P$)&&(n.r=Or(t),n.t=hr(Or((t.replace(Q$,"").match(L$)||[]).join("").replace(Ui,""))),r&&(n.h=O$(M$(n.r)))),n):{t:""}}var H$=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,V$=/<(?:\w+:)?(?:si|sstItem)>/g,j$=/<\/(?:\w+:)?(?:si|sstItem)>/;function G$(t,e){var r=[],n="";if(!t)return r;var i=t.match(H$);if(i){n=i[2].replace(V$,"").split(j$);for(var a=0;a!=n.length;++a){var s=jC(n[a].trim(),e);s!=null&&(r[r.length]=s)}i=St(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function K$(t){return[t.read_shift(4),t.read_shift(4)]}function z$(t,e){var r=[],n=!1;return aA(t,function(a,s,A){switch(A){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}),r}function H6(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Ko(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function W$(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ko(t,4),e.U=Ko(t,4),e.W=Ko(t,4),e}function X$(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function q$(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(X$(t));return e}function Y$(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function J$(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ko(t,4),e.U=Ko(t,4),e.W=Ko(t,4),e}function $$(t){var e=J$(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function V6(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function j6(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Z$(t){var e=Ko(t);switch(e.Minor){case 2:return[e.Minor,eZ(t)];case 3:return[e.Minor,tZ()];case 4:return[e.Minor,rZ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function eZ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=V6(t,r),i=j6(t,t.length-t.l);return{t:"Std",h:n,v:i}}function tZ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function rZ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ui,function(a){var s=St(a);switch(xo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(A){n[A]=s[A]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function nZ(t,e){var r={},n=r.EncryptionVersionInfo=Ko(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=V6(t,i),e-=i,r.EncryptionVerifier=j6(t,e),r}function iZ(t){var e={},r=e.EncryptionVersionInfo=Ko(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function aZ(t){var e=0,r,n=H6(t),i=n.length+1,a,s,A,c,u;for(r=ll(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],A=e&16384?1:0,c=e<<1&32767,u=A|c,e=u^s;return e^52811}var G6=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,A){return n(s^A)},a=function(s){for(var A=e[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var h=s[u],m=0;m!=7;++m)h&64&&(A^=r[c]),h*=2,--c;return A};return function(s){for(var A=H6(s),c=a(A),u=A.length,h=ll(16),m=0;m!=16;++m)h[m]=0;var v,_,b;for((u&1)===1&&(v=c>>8,h[u]=i(t[0],v),--u,v=c&255,_=A[A.length-1],h[u]=i(_,v));u>0;)--u,v=c>>8,h[u]=i(A[u],v),--u,v=c&255,h[u]=i(A[u],v);for(u=15,b=15-A.length;b>0;)v=c>>8,h[u]=i(t[b],v),--u,--b,v=c&255,h[u]=i(A[u],v),--u,--b;return h}}(),sZ=function(t,e,r,n,i){i||(i=e),n||(n=G6(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},oZ=function(t){var e=0,r=G6(t);return function(n){var i=sZ("",n,e,r);return e=i[1],i[0]}};function AZ(t,e,r,n){var i={key:Sn(t),verificationBytes:Sn(t)};return r.password&&(i.verifier=aZ(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=oZ(r.password)),i}function lZ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=iZ(t):n.Data=nZ(t,e),n}function cZ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?lZ(t,e-2,n):AZ(t,r.biff>=8?e:e-2,r,n),n}var uZ=function(){function t(i,a){switch(a.type){case"base64":return e(Ga(i),a);case"binary":return e(i,a);case"buffer":return e(ar&&Buffer.isBuffer(i)?i.toString("binary"):Rc(i),a);case"array":return e(gc(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},A=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(A)&&(A[m]=[]);for(var v=/\\\w+\b/g,_=0,b,T=-1;b=v.exec(h);){switch(b[0]){case"\\cell":var I=h.slice(_,v.lastIndex-b[0].length);if(I[0]==" "&&(I=I.slice(1)),++T,I.length){var k={v:I,t:"s"};Array.isArray(A)?A[m][T]=k:A[kt({r:m,c:T})]=k}break}_=v.lastIndex}T>u.e.c&&(u.e.c=T)}),A["!ref"]=cr(u),A}function r(i,a){return vl(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=fn(i["!ref"]),A,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var m=kt({r:u,c:h});A=c?(i[u]||[])[h]:i[m],!(!A||A.v==null&&(!A.f||A.F))&&(a.push(" "+(A.w||($o(A),A.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function fZ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Hh(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function hZ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a;if(s===0)return[0,0,e];var A=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case e:A=((r-n)/s+6)%6;break;case r:A=(n-e)/s+2;break;case n:A=(e-r)/s+4;break}return[A/6,c,u/2]}function dZ(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],A=6*e,c;if(r!==0)switch(A|0){case 0:case 6:c=i*A,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-A),s[0]+=c,s[1]+=i;break;case 2:c=i*(A-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-A),s[1]+=c,s[2]+=i;break;case 4:c=i*(A-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-A),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function Tp(t,e){if(e===0)return t;var r=hZ(fZ(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Hh(dZ(r))}var K6=6,gZ=15,pZ=1,ji=K6;function Sp(t){return Math.floor((t+Math.round(128/ji)/256)*ji)}function Ip(t){return Math.floor((t-5)/ji*100+.5)/100}function Mw(t){return Math.round((t*ji+5)/ji*256)/256}function P2(t){return Mw(Ip(Sp(t)))}function GC(t){var e=Math.abs(t-P2(t)),r=ji;if(e>.005)for(ji=pZ;ji<gZ;++ji)Math.abs(t-P2(t))<=e&&(e=Math.abs(t-P2(t)),r=ji);ji=r}function f0(t){t.width?(t.wpx=Sp(t.width),t.wch=Ip(t.wpx),t.MDW=ji):t.wpx?(t.wch=Ip(t.wpx),t.width=Mw(t.wch),t.MDW=ji):typeof t.wch=="number"&&(t.width=Mw(t.wch),t.wpx=Sp(t.width),t.MDW=ji),t.customWidth&&delete t.customWidth}var mZ=96,z6=mZ;function W6(t){return t*96/z6}function Vh(t){return t*z6/96}var xZ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function vZ(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(Ui)||[]).forEach(function(s){var A=St(s);switch(xo(A[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},A.diagonalUp&&(i.diagonalUp=Zr(A.diagonalUp)),A.diagonalDown&&(i.diagonalDown=Zr(A.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+A[0]+" in borders")}})}function wZ(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(Ui)||[]).forEach(function(s){var A=St(s);switch(xo(A[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":A.patternType&&(i.patternType=A.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),A.indexed&&(i.bgColor.indexed=parseInt(A.indexed,10)),A.theme&&(i.bgColor.theme=parseInt(A.theme,10)),A.tint&&(i.bgColor.tint=parseFloat(A.tint)),A.rgb&&(i.bgColor.rgb=A.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),A.theme&&(i.fgColor.theme=parseInt(A.theme,10)),A.tint&&(i.fgColor.tint=parseFloat(A.tint)),A.rgb!=null&&(i.fgColor.rgb=A.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+A[0]+" in fills")}})}function yZ(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(Ui)||[]).forEach(function(s){var A=St(s);switch(xo(A[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":A.val&&(i.name=Or(A.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=A.val?Zr(A.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=A.val?Zr(A.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(A.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=A.val?Zr(A.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=A.val?Zr(A.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=A.val?Zr(A.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=A.val?Zr(A.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=A.val?Zr(A.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":A.val&&(i.sz=+A.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":A.val&&(i.vertAlign=A.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":A.val&&(i.family=parseInt(A.val,10));break;case"<family/>":case"</family>":break;case"<scheme":A.val&&(i.scheme=A.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(A.val=="1")break;A.codepage=bC[parseInt(A.val,10)];break;case"<color":if(i.color||(i.color={}),A.auto&&(i.color.auto=Zr(A.auto)),A.rgb)i.color.rgb=A.rgb.slice(-6);else if(A.indexed){i.color.index=parseInt(A.indexed,10);var c=sc[i.color.index];i.color.index==81&&(c=sc[1]),c||(c=sc[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else A.theme&&(i.color.theme=parseInt(A.theme,10),A.tint&&(i.color.tint=parseFloat(A.tint)),A.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Tp(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+A[0]+" in fonts")}})}function EZ(t,e,r){e.NumberFmt=[];for(var n=co(jt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=jt[n[i]];var a=t[0].match(Ui);if(a)for(i=0;i<a.length;++i){var s=St(a[i]);switch(xo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var A=hr(Or(s.formatCode)),c=parseInt(s.numFmtId,10);if(e.NumberFmt[c]=A,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=A}ac(A,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var V1=["numFmtId","fillId","fontId","borderId","xfId"],j1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function CZ(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Ui)||[]).forEach(function(a){var s=St(a),A=0;switch(xo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],A=0;A<V1.length;++A)n[V1[A]]&&(n[V1[A]]=parseInt(n[V1[A]],10));for(A=0;A<j1.length;++A)n[j1[A]]&&(n[j1[A]]=Zr(n[j1[A]]));if(e.NumberFmt&&n.numFmtId>392){for(A=392;A>60;--A)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[A]){n.numFmtId=A;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Zr(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var _Z=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(A,c,u){var h={};if(!A)return h;A=A.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=A.match(e))&&EZ(m,h,u),(m=A.match(i))&&yZ(m,h,c,u),(m=A.match(n))&&wZ(m,h,c,u),(m=A.match(a))&&vZ(m,h,c,u),(m=A.match(r))&&CZ(m,h,u),h}}();function BZ(t,e){var r=t.read_shift(2),n=Di(t);return[r,n]}function bZ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=MY(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var A=t.read_shift(1);A>0&&(n.family=A);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=UY(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Di(t),n}var TZ=ki;function SZ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var IZ=ki;function NZ(t,e,r){var n={};n.NumberFmt=[];for(var i in jt)n.NumberFmt[i]=jt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return aA(t,function(c,u,h){switch(h){case 44:n.NumberFmt[c[0]]=c[1],ac(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=Tp(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(h),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(h);else if(u.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),n}var FZ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function RZ(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ui)||[]).forEach(function(i){var a=St(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[FZ.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function DZ(){}function kZ(){}var UZ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,MZ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,OZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function LZ(t,e,r){e.themeElements={};var n;[["clrScheme",UZ,RZ],["fontScheme",MZ,DZ],["fmtScheme",OZ,kZ]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var PZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function X6(t,e){(!t||t.length===0)&&(t=QZ());var r,n={};if(!(r=t.match(PZ)))throw new Error("themeElements not found in theme");return LZ(r[0],n,e),n.raw=t,n}function QZ(t,e){var r=[a6];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function HZ(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var s;try{s=i6(a,{type:"array"})}catch{return}var A=ka(s,"theme/theme/theme1.xml",!0);if(A)return X6(A,r)}}function VZ(t){return t.read_shift(4)}function jZ(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=GZ(t,4);break;case 2:e.xclrValue=k6(t);break;case 3:e.xclrValue=VZ(t);break;case 4:t.l+=4;break}return t.l+=8,e}function GZ(t,e){return ki(t,e)}function KZ(t,e){return ki(t,e)}function zZ(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=jZ(t);break;case 6:n[1]=KZ(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function WZ(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(zZ(t,r-t.l));return{ixfe:n,ext:a}}function XZ(t,e){e.forEach(function(r){switch(r[0]){}})}function qZ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Di(t)}}function YZ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function JZ(t){return t.l+=4,t.read_shift(4)!=0}function $Z(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,A=2;return aA(t,function(c,u,h){switch(h){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(m){A==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):A==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:A=c?1:0;break;case 338:A=2;break;case 35:a.push(h),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),n}function ZZ(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,s;return t.replace(Ui,function(A){var c=St(A);switch(xo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return A}),n}function eee(t){var e=[];if(!t)return e;var r=1;return(t.match(Ui)||[]).forEach(function(n){var i=St(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function tee(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=kt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function ree(t,e,r){var n=[];return aA(t,function(a,s,A){switch(A){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+A.toString(16))}}),n}function nee(t,e,r,n){if(!t)return t;var i=n||{},a=!1;aA(t,function(A,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function iee(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function F4(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(s){var A=Ki(s.ref);if(i?(t[A.r]||(t[A.r]=[]),a=t[A.r][A.c]):a=t[s.ref],!a){a={t:"z"},i?t[A.r][A.c]=a:t[s.ref]=a;var c=fn(t["!ref"]||"BDWGO1000001:A1");c.s.r>A.r&&(c.s.r=A.r),c.e.r<A.r&&(c.e.r=A.r),c.s.c>A.c&&(c.s.c=A.c),c.e.c<A.c&&(c.e.c=A.c);var u=cr(c);u!==t["!ref"]&&(t["!ref"]=u)}a.c||(a.c=[]);var h={a:s.author,t:s.t,r:s.r,T:r};s.h&&(h.h=s.h);for(var m=a.c.length-1;m>=0;--m){if(!r&&a.c[m].T)return;r&&!a.c[m].T&&a.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(h.a==n[m].id){h.a=n[m].name||h.a;break}}a.c.push(h)})}function aee(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var A=s.match(/<(?:\w+:)?author[^>]*>(.*)/);A&&r.push(A[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var A=s.match(/<(?:\w+:)?comment[^>]*>/);if(A){var c=St(A[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Ki(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var m=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!m&&!!m[1]&&jC(m[1])||{r:"",t:"",h:""};u.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),u.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=v.h),n.push(u)}}}}),n}function see(t,e){var r=[],n=!1,i={},a=0;return t.replace(Ui,function(A,c){var u=St(A);switch(xo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=c+A.length;break;case"</text>":i.t=t.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return A}),r}function oee(t,e){var r=[],n=!1;return t.replace(Ui,function(a){var s=St(a);switch(xo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Aee(t){var e={};e.iauthor=t.read_shift(4);var r=kc(t);return e.rfx=r.s,e.ref=kt(r.s),t.l+=16,e}var lee=Di;function cee(t,e){var r=[],n=[],i={},a=!1;return aA(t,function(A,c,u){switch(u){case 632:n.push(A);break;case 635:i=A;break;case 637:i.t=A.t,i.h=A.h,i.r=A.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var uee="application/vnd.ms-office.vbaProject";function fee(t){var e=lr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");lr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),lr.write(e)}function hee(){return{"!type":"dialog"}}function dee(){return{"!type":"dialog"}}function gee(){return{"!type":"macro"}}function pee(){return{"!type":"macro"}}var Gu=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var A=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?A=!0:s.charAt(0)=="["&&(A=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return A?h+=e.c:--h,c?u+=e.r:--u,i+(A?"":"$")+Vn(h)+(c?"":"$")+xi(u)}return function(i,a){return e=a,i.replace(t,r)}}(),q6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,mee=function(){return function(e,r){return e.replace(q6,function(n,i,a,s,A,c){var u=OC(s)-(a?0:r.c),h=MC(c)-(A?0:r.r),m=h==0?"":A?h+1:"["+h+"]",v=u==0?"":a?u+1:"["+u+"]";return i+"R"+m+"C"+v})}}();function Y6(t,e){return t.replace(q6,function(r,n,i,a,s,A){return n+(i=="$"?i+a:Vn(OC(a)+e.c))+(s=="$"?s+A:xi(MC(A)+e.r))})}function xee(t,e,r){var n=k0(e),i=n.s,a=Ki(r),s={r:a.r-i.r,c:a.c-i.c};return Y6(t,s)}function vee(t){return t.length!=1}function R4(t){return t.replace(/_xlfn\./g,"")}function Bn(t){t.l+=1}function cl(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function J6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $6(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=cl(t),A=cl(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:A[0],cRel:A[1],rRel:A[2]}}}function $6(t){var e=cl(t),r=cl(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function wee(t,e,r){if(r.biff<8)return $6(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=cl(t),s=cl(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function Z6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return yee(t);var n=t.read_shift(r&&r.biff==12?4:2),i=cl(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function yee(t){var e=cl(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Eee(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Cee(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return _ee(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,A=(a&32768)>>15;if(a&=16383,A==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:A}}function _ee(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Bee(t,e,r){var n=(t[t.l++]&96)>>5,i=J6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function bee(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=J6(t,a,r);return[n,i,s]}function Tee(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function See(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function Iee(t,e,r){var n=(t[t.l++]&96)>>5,i=wee(t,e-1,r);return[n,i]}function Nee(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function D4(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Fee(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function Ree(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Dee(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kee(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Uee(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function ek(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Mee(t){return t.read_shift(2),ek(t)}function Oee(t){return t.read_shift(2),ek(t)}function Lee(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Z6(t,0,r);return[n,i]}function Pee(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Cee(t,0,r);return[n,i]}function Qee(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=Z6(t,0,r);return[n,i,a]}function Hee(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[Vte[i],nk[i],n]}function Vee(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:jee(t);return[i,(a[0]===0?nk:Hte)[a[1]]]}function jee(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Gee(t,e,r){t.l+=r&&r.biff==2?3:4}function Kee(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function zee(t){return t.l++,Uc[t.read_shift(1)]}function Wee(t){return t.l++,t.read_shift(2)}function Xee(t){return t.l++,t.read_shift(1)!==0}function qee(t){return t.l++,Ni(t)}function Yee(t,e,r){return t.l++,yd(t,e-1,r)}function Jee(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=vn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Uc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ni(t);break;case 2:r[1]=Mc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function $ee(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?kc:Vm)(t));return i}function Zee(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var A=0;A!=i;++A)s[a][A]=Jee(t,r.biff);return s}function ete(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function tte(t,e,r){if(r.biff==5)return rte(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function rte(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function nte(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ite(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ate(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function ste(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var ote=ki,Ate=ki,lte=ki;function Cd(t,e,r){return t.l+=2,[Eee(t)]}function KC(t){return t.l+=6,[]}var cte=Cd,ute=KC,fte=KC,hte=Cd;function tk(t){return t.l+=2,[Sn(t),t.read_shift(2)&1]}var dte=Cd,gte=tk,pte=KC,mte=Cd,xte=Cd,vte=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wte(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=vte[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function yte(t){return t.l+=2,[t.read_shift(4)]}function Ete(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Cte(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _te(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Bte(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bte(t){return t.l+=4,[0,0]}var k4={1:{n:"PtgExp",f:Kee},2:{n:"PtgTbl",f:lte},3:{n:"PtgAdd",f:Bn},4:{n:"PtgSub",f:Bn},5:{n:"PtgMul",f:Bn},6:{n:"PtgDiv",f:Bn},7:{n:"PtgPower",f:Bn},8:{n:"PtgConcat",f:Bn},9:{n:"PtgLt",f:Bn},10:{n:"PtgLe",f:Bn},11:{n:"PtgEq",f:Bn},12:{n:"PtgGe",f:Bn},13:{n:"PtgGt",f:Bn},14:{n:"PtgNe",f:Bn},15:{n:"PtgIsect",f:Bn},16:{n:"PtgUnion",f:Bn},17:{n:"PtgRange",f:Bn},18:{n:"PtgUplus",f:Bn},19:{n:"PtgUminus",f:Bn},20:{n:"PtgPercent",f:Bn},21:{n:"PtgParen",f:Bn},22:{n:"PtgMissArg",f:Bn},23:{n:"PtgStr",f:Yee},26:{n:"PtgSheet",f:Ete},27:{n:"PtgEndSheet",f:Cte},28:{n:"PtgErr",f:zee},29:{n:"PtgBool",f:Xee},30:{n:"PtgInt",f:Wee},31:{n:"PtgNum",f:qee},32:{n:"PtgArray",f:Nee},33:{n:"PtgFunc",f:Hee},34:{n:"PtgFuncVar",f:Vee},35:{n:"PtgName",f:ete},36:{n:"PtgRef",f:Lee},37:{n:"PtgArea",f:Bee},38:{n:"PtgMemArea",f:nte},39:{n:"PtgMemErr",f:ote},40:{n:"PtgMemNoMem",f:Ate},41:{n:"PtgMemFunc",f:ite},42:{n:"PtgRefErr",f:ate},43:{n:"PtgAreaErr",f:Tee},44:{n:"PtgRefN",f:Pee},45:{n:"PtgAreaN",f:Iee},46:{n:"PtgMemAreaN",f:_te},47:{n:"PtgMemNoMemN",f:Bte},57:{n:"PtgNameX",f:tte},58:{n:"PtgRef3d",f:Qee},59:{n:"PtgArea3d",f:bee},60:{n:"PtgRefErr3d",f:ste},61:{n:"PtgAreaErr3d",f:See},255:{}},Tte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ste={1:{n:"PtgElfLel",f:tk},2:{n:"PtgElfRw",f:mte},3:{n:"PtgElfCol",f:cte},6:{n:"PtgElfRwV",f:xte},7:{n:"PtgElfColV",f:hte},10:{n:"PtgElfRadical",f:dte},11:{n:"PtgElfRadicalS",f:pte},13:{n:"PtgElfColS",f:ute},15:{n:"PtgElfColSV",f:fte},16:{n:"PtgElfRadicalLel",f:gte},25:{n:"PtgList",f:wte},29:{n:"PtgSxName",f:yte},255:{}},Ite={0:{n:"PtgAttrNoop",f:bte},1:{n:"PtgAttrSemi",f:Uee},2:{n:"PtgAttrIf",f:Dee},4:{n:"PtgAttrChoose",f:Fee},8:{n:"PtgAttrGoto",f:Ree},16:{n:"PtgAttrSum",f:Gee},32:{n:"PtgAttrBaxcel",f:D4},33:{n:"PtgAttrBaxcel",f:D4},64:{n:"PtgAttrSpace",f:Mee},65:{n:"PtgAttrSpaceSemi",f:Oee},128:{n:"PtgAttrIfError",f:kee},255:{}};function _d(t,e,r,n){if(n.biff<8)return ki(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Zee(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=$ee(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(ki(t,e)),a}function Bd(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=k4[a]||k4[Tte[a]],(a===24||a===25)&&(i=(a===24?Ste:Ite)[t[t.l+1]]),!i||!i.f?ki(t,e):s.push([i.n,i.f(t,e,r)]);return s}function Nte(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Fte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Rte(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function rk(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function U4(t,e,r){var n=rk(t,e,r);return n=="#REF"?n:Rte(n,r)}function Si(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},A=[],c,u,h,m=0,v=0,_,b="";if(!t[0]||!t[0][0])return"";for(var T=-1,I="",k=0,R=t[0].length;k<R;++k){var F=t[0][k];switch(F[0]){case"PtgUminus":A.push("-"+A.pop());break;case"PtgUplus":A.push("+"+A.pop());break;case"PtgPercent":A.push(A.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=A.pop(),u=A.pop(),T>=0){switch(t[0][T][1][0]){case 0:I=cn(" ",t[0][T][1][1]);break;case 1:I=cn("\r",t[0][T][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][T][1][0])}u=u+I,T=-1}A.push(u+Fte[F[0]]+c);break;case"PtgIsect":c=A.pop(),u=A.pop(),A.push(u+" "+c);break;case"PtgUnion":c=A.pop(),u=A.pop(),A.push(u+","+c);break;case"PtgRange":c=A.pop(),u=A.pop(),A.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=ah(F[1][1],s,i),A.push(sh(h,a));break;case"PtgRefN":h=r?ah(F[1][1],r,i):F[1][1],A.push(sh(h,a));break;case"PtgRef3d":m=F[1][1],h=ah(F[1][2],s,i),b=U4(n,m,i),A.push(b+"!"+sh(h,a));break;case"PtgFunc":case"PtgFuncVar":var L=F[1][0],W=F[1][1];L||(L=0),L&=127;var P=L==0?[]:A.slice(-L);A.length-=L,W==="User"&&(W=P.shift()),A.push(W+"("+P.join(",")+")");break;case"PtgBool":A.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":A.push(F[1]);break;case"PtgNum":A.push(String(F[1]));break;case"PtgStr":A.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":A.push(F[1]);break;case"PtgAreaN":_=g4(F[1][1],r?{s:r}:s,i),A.push(O2(_,i));break;case"PtgArea":_=g4(F[1][1],s,i),A.push(O2(_,i));break;case"PtgArea3d":m=F[1][1],_=F[1][2],b=U4(n,m,i),A.push(b+"!"+O2(_,i));break;case"PtgAttrSum":A.push("SUM("+A.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=F[1][2];var N=(n.names||[])[v-1]||(n[0]||[])[v],M=N?N.Name:"SH33TJSNAME"+String(v);M&&M.slice(0,6)=="_xlfn."&&!i.xlfn&&(M=M.slice(6)),A.push(M);break;case"PtgNameX":var D=F[1][1];v=F[1][2];var Q;if(i.biff<=5)D<0&&(D=-D),n[D]&&(Q=n[D][v]);else{var G="";if(((n[D]||[])[0]||[])[0]==14849||(((n[D]||[])[0]||[])[0]==1025?n[D][v]&&n[D][v].itab>0&&(G=n.SheetNames[n[D][v].itab-1]+"!"):G=n.SheetNames[v-1]+"!"),n[D]&&n[D][v])G+=n[D][v].Name;else if(n[0]&&n[0][v])G+=n[0][v].Name;else{var j=(rk(n,D,i)||"").split(";;");j[v-1]?G=j[v-1]:G+="SH33TJSERRX"}A.push(G);break}Q||(Q={Name:"SH33TJSERRY"}),A.push(Q.Name);break;case"PtgParen":var V="(",Ce=")";if(T>=0){switch(I="",t[0][T][1][0]){case 2:V=cn(" ",t[0][T][1][1])+V;break;case 3:V=cn("\r",t[0][T][1][1])+V;break;case 4:Ce=cn(" ",t[0][T][1][1])+Ce;break;case 5:Ce=cn("\r",t[0][T][1][1])+Ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][T][1][0])}T=-1}A.push(V+A.pop()+Ce);break;case"PtgRefErr":A.push("#REF!");break;case"PtgRefErr3d":A.push("#REF!");break;case"PtgExp":h={c:F[1][1],r:F[1][0]};var le={c:r.c,r:r.r};if(n.sharedf[kt(h)]){var de=n.sharedf[kt(h)];A.push(Si(de,s,le,n,i))}else{var ne=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){A.push(Si(u[1],s,le,n,i)),ne=!0;break}ne||A.push(F[1])}break;case"PtgArray":A.push("{"+Nte(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":A.push("");break;case"PtgAreaErr":A.push("#REF!");break;case"PtgAreaErr3d":A.push("#REF!");break;case"PtgList":A.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var De=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&T>=0&&De.indexOf(t[0][k][0])==-1){F=t[0][T];var he=!0;switch(F[1][0]){case 4:he=!1;case 0:I=cn(" ",F[1][1]);break;case 5:he=!1;case 1:I=cn("\r",F[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}A.push((he?I:"")+A.pop()+(he?"":I)),T=-1}}if(A.length>1&&i.WTF)throw new Error("bad formula stack");return A[0]}function Dte(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ki(t,e-2)];var A=Bd(t,s,r);return e!==s+i&&(a=_d(t,e-s-i,A,r)),t.l=n,[A,a]}function kte(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],ki(t,e-2)];var A=Bd(t,s,r);return e!==s+i&&(a=_d(t,e-s-i,A,r)),t.l=n,[A,a]}function Ute(t,e,r,n){var i=t.l+e,a=Bd(t,n,r),s;return i!==t.l&&(s=_d(t,i-t.l,a,r)),[a,s]}function Mte(t,e,r){var n=t.l+e,i,a=t.read_shift(2),s=Bd(t,a,r);return a==65535?[[],ki(t,e-2)]:(e!==a+2&&(i=_d(t,n-a-2,s,r)),[s,i])}function Ote(t){var e;if(Lo(t,t.l+6)!==65535)return[Ni(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Q2(t,e,r){var n=t.l+e,i=vo(t);r.biff==2&&++t.l;var a=Ote(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var A=kte(t,n-t.l,r);return{cell:i,val:a[0],formula:A,shared:s>>3&1,tt:a[1]}}function jm(t,e,r){var n=t.read_shift(4),i=Bd(t,n,r),a=t.read_shift(4),s=a>0?_d(t,a,i,r):null;return[i,s]}var Lte=jm,Gm=jm,Pte=jm,Qte=jm,Hte={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Vte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function M4(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function H2(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var ch={},Ku={};function uh(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ik(t,e,r,n,i,a){try{n.cellNF&&(t.z=jt[e])}catch(A){if(n.WTF)throw A}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ti(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(jt[e]==null&&ac(jq[e]||"General",e),t.t==="e")t.w=t.w||Uc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oh(t.v);else if(t.t==="d"){var s=Xi(t.v);(s|0)===s?t.w=s.toString(10):t.w=Oh(s)}else{if(t.v===void 0)return"";t.w=dc(t.v,Ku)}else t.t==="d"?t.w=ps(e,Xi(t.v),Ku):t.w=ps(e,t.v,Ku)}catch(A){if(n.WTF)throw A}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Tp(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Tp(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(A){if(n.WTF&&a.Fills)throw A}}}function jte(t,e){var r=fn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=cr(r))}var Gte=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Kte=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zte=/<(?:\w:)?hyperlink [^>]*>/mg,Wte=/"(\w*:\w*)"/,Xte=/<(?:\w:)?col\b[^>]*[\/]?>/g,qte=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Yte=/<(?:\w:)?pageMargins[^>]*\/>/g,ak=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Jte=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,$te=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Zte(t,e,r,n,i,a,s){if(!t)return t;n||(n={"!id":{}});var A=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",h="",m=t.match(Kte);m?(u=t.slice(0,m.index),h=t.slice(m.index+m[0].length)):u=h=t;var v=u.match(ak);v?zC(v[0],A,i,r):(v=u.match(Jte))&&ere(v[0],v[1]||"",A,i,r);var _=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(_>0){var b=u.slice(_,_+50).match(Wte);b&&jte(A,b[1])}var T=u.match($te);T&&T[1]&&sre(T[1],i);var I=[];if(e.cellStyles){var k=u.match(Xte);k&&nre(I,k)}m&&ore(m[1],A,e,c,a,s);var R=h.match(qte);R&&(A["!autofilter"]=ire(R[0]));var F=[],L=h.match(Gte);if(L)for(_=0;_!=L.length;++_)F[_]=fn(L[_].slice(L[_].indexOf('"')+1));var W=h.match(zte);W&&tre(A,W,n);var P=h.match(Yte);if(P&&(A["!margins"]=rre(St(P[0]))),!A["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(A["!ref"]=cr(c)),e.sheetRows>0&&A["!ref"]){var N=fn(A["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),A["!fullref"]=A["!ref"],A["!ref"]=cr(N))}return I.length>0&&(A["!cols"]=I),F.length>0&&(A["!merges"]=F),A}function zC(t,e,r,n){var i=St(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=hr(Or(i.codeName)))}function ere(t,e,r,n,i){zC(t.slice(0,t.indexOf(">")),r,n,i)}function tre(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=St(Or(e[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+hr(a.location))):(a.Target="#"+hr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var A=fn(a.ref),c=A.s.r;c<=A.e.r;++c)for(var u=A.s.c;u<=A.e.c;++u){var h=kt({c:u,r:c});n?(t[c]||(t[c]=[]),t[c][u]||(t[c][u]={t:"z",v:void 0}),t[c][u].l=a):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=a)}}}function rre(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function nre(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=St(e[n],!0);i.hidden&&(i.hidden=Zr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,GC(i.width)),f0(i);a<=s;)t[a++]=mi(i)}}function ire(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var are=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function sre(t,e){e.Views||(e.Views=[{}]),(t.match(are)||[]).forEach(function(r,n){var i=St(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Zr(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var ore=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Lh("v"),s=Lh("f");return function(c,u,h,m,v,_){for(var b=0,T="",I=[],k=[],R=0,F=0,L=0,W="",P,N,M=0,D=0,Q,G,j=0,V=0,Ce=Array.isArray(_.CellXf),le,de=[],ne=[],De=Array.isArray(u),he=[],Le={},Ze=!1,Z=!!h.sheetStubs,ge=c.split(e),ce=0,se=ge.length;ce!=se;++ce){T=ge[ce].trim();var fe=T.length;if(fe!==0){var je=0;e:for(b=0;b<fe;++b)switch(T[b]){case">":if(T[b-1]!="/"){++b;break e}if(h&&h.cellStyles){if(N=St(T.slice(je,b),!0),M=N.r!=null?parseInt(N.r,10):M+1,D=-1,h.sheetRows&&h.sheetRows<M)continue;Le={},Ze=!1,N.ht&&(Ze=!0,Le.hpt=parseFloat(N.ht),Le.hpx=Vh(Le.hpt)),N.hidden=="1"&&(Ze=!0,Le.hidden=!0),N.outlineLevel!=null&&(Ze=!0,Le.level=+N.outlineLevel),Ze&&(he[M-1]=Le)}break;case"<":je=b;break}if(je>=b)break;if(N=St(T.slice(je,b),!0),M=N.r!=null?parseInt(N.r,10):M+1,D=-1,!(h.sheetRows&&h.sheetRows<M)){m.s.r>M-1&&(m.s.r=M-1),m.e.r<M-1&&(m.e.r=M-1),h&&h.cellStyles&&(Le={},Ze=!1,N.ht&&(Ze=!0,Le.hpt=parseFloat(N.ht),Le.hpx=Vh(Le.hpt)),N.hidden=="1"&&(Ze=!0,Le.hidden=!0),N.outlineLevel!=null&&(Ze=!0,Le.level=+N.outlineLevel),Ze&&(he[M-1]=Le)),I=T.slice(b).split(t);for(var ye=0;ye!=I.length&&I[ye].trim().charAt(0)=="<";++ye);for(I=I.slice(ye),b=0;b!=I.length;++b)if(T=I[b].trim(),T.length!==0){if(k=T.match(r),R=b,F=0,L=0,T="<c "+(T.slice(0,1)=="<"?">":"")+T,k!=null&&k.length===2){for(R=0,W=k[1],F=0;F!=W.length&&!((L=W.charCodeAt(F)-64)<1||L>26);++F)R=26*R+L;--R,D=R}else++D;for(F=0;F!=T.length&&T.charCodeAt(F)!==62;++F);if(++F,N=St(T.slice(0,F),!0),N.r||(N.r=kt({r:M-1,c:D})),W=T.slice(F),P={t:""},(k=W.match(a))!=null&&k[1]!==""&&(P.v=hr(k[1])),h.cellFormula){if((k=W.match(s))!=null&&k[1]!==""){if(P.f=hr(Or(k[1])).replace(/\r\n/g,`
`),h.xlfn||(P.f=R4(P.f)),k[0].indexOf('t="array"')>-1)P.F=(W.match(i)||[])[1],P.F.indexOf(":")>-1&&de.push([fn(P.F),P.F]);else if(k[0].indexOf('t="shared"')>-1){G=St(k[0]);var xe=hr(Or(k[1]));h.xlfn||(xe=R4(xe)),ne[parseInt(G.si,10)]=[G,xe,N.r]}}else(k=W.match(/<f[^>]*\/>/))&&(G=St(k[0]),ne[G.si]&&(P.f=xee(ne[G.si][1],ne[G.si][2],N.r)));var Se=Ki(N.r);for(F=0;F<de.length;++F)Se.r>=de[F][0].s.r&&Se.r<=de[F][0].e.r&&Se.c>=de[F][0].s.c&&Se.c<=de[F][0].e.c&&(P.F=de[F][1])}if(N.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(Z)P.t="z";else continue;else P.t=N.t||"n";switch(m.s.c>D&&(m.s.c=D),m.e.c<D&&(m.e.c=D),P.t){case"n":if(P.v==""||P.v==null){if(!Z)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!Z)continue;P.t="z"}else Q=ch[parseInt(P.v,10)],P.v=Q.t,P.r=Q.r,h.cellHTML&&(P.h=Q.h);break;case"str":P.t="s",P.v=P.v!=null?Or(P.v):"",h.cellHTML&&(P.h=DC(P.v));break;case"inlineStr":k=W.match(n),P.t="s",k!=null&&(Q=jC(k[1]))?(P.v=Q.t,h.cellHTML&&(P.h=Q.h)):P.v="";break;case"b":P.v=Zr(P.v);break;case"d":h.cellDates?P.v=ti(P.v,1):(P.v=Xi(ti(P.v,1)),P.t="n");break;case"e":(!h||h.cellText!==!1)&&(P.w=P.v),P.v=b6[P.v];break}if(j=V=0,le=null,Ce&&N.s!==void 0&&(le=_.CellXf[N.s],le!=null&&(le.numFmtId!=null&&(j=le.numFmtId),h.cellStyles&&le.fillId!=null&&(V=le.fillId))),ik(P,j,V,h,v,_),h.cellDates&&Ce&&P.t=="n"&&D0(jt[j])&&(P.t="d",P.v=Hm(P.v)),N.cm&&h.xlmeta){var it=(h.xlmeta.Cell||[])[+N.cm-1];it&&it.type=="XLDAPR"&&(P.D=!0)}if(De){var ie=Ki(N.r);u[ie.r]||(u[ie.r]=[]),u[ie.r][ie.c]=P}else u[N.r]=P}}}}he.length>0&&(u["!rows"]=he)}}();function Are(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var lre=kc;function cre(){}function ure(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=DY(t),r}function fre(t){var e=vs(t);return[e]}function hre(t){var e=Dc(t);return[e]}function dre(t){var e=vs(t),r=t.read_shift(1);return[e,r,"b"]}function gre(t){var e=Dc(t),r=t.read_shift(1);return[e,r,"b"]}function pre(t){var e=vs(t),r=t.read_shift(1);return[e,r,"e"]}function mre(t){var e=Dc(t),r=t.read_shift(1);return[e,r,"e"]}function xre(t){var e=vs(t),r=t.read_shift(4);return[e,r,"s"]}function vre(t){var e=Dc(t),r=t.read_shift(4);return[e,r,"s"]}function wre(t){var e=vs(t),r=Ni(t);return[e,r,"n"]}function sk(t){var e=Dc(t),r=Ni(t);return[e,r,"n"]}function yre(t){var e=vs(t),r=QC(t);return[e,r,"n"]}function Ere(t){var e=Dc(t),r=QC(t);return[e,r,"n"]}function Cre(t){var e=vs(t),r=LC(t);return[e,r,"is"]}function _re(t){var e=vs(t),r=Di(t);return[e,r,"str"]}function Bre(t){var e=Dc(t),r=Di(t);return[e,r,"str"]}function bre(t,e,r){var n=t.l+e,i=vs(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var A=Gm(t,n-t.l,r);s[3]=Si(A,null,i,r.supbooks,r)}else t.l=n;return s}function Tre(t,e,r){var n=t.l+e,i=vs(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var A=Gm(t,n-t.l,r);s[3]=Si(A,null,i,r.supbooks,r)}else t.l=n;return s}function Sre(t,e,r){var n=t.l+e,i=vs(t);i.r=r["!row"];var a=Ni(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var A=Gm(t,n-t.l,r);s[3]=Si(A,null,i,r.supbooks,r)}else t.l=n;return s}function Ire(t,e,r){var n=t.l+e,i=vs(t);i.r=r["!row"];var a=Di(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var A=Gm(t,n-t.l,r);s[3]=Si(A,null,i,r.supbooks,r)}else t.l=n;return s}var Nre=kc;function Fre(t,e){var r=t.l+e,n=kc(t),i=PC(t),a=Di(t),s=Di(t),A=Di(t);t.l=r;var c={rfx:n,relId:i,loc:a,display:A};return s&&(c.Tooltip=s),c}function Rre(){}function Dre(t,e,r){var n=t.l+e,i=C6(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var A=Lte(t,n-t.l,r);s[1]=A}else t.l=n;return s}function kre(t,e,r){var n=t.l+e,i=kc(t),a=[i];if(r.cellFormula){var s=Qte(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}var Ure=["left","right","top","bottom","header","footer"];function Mre(t){var e={};return Ure.forEach(function(r){e[r]=Ni(t)}),e}function Ore(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Lre(){}function Pre(){}function Qre(t,e,r,n,i,a,s){if(!t)return t;var A=e||{};n||(n={"!id":{}});var c=A.dense?[]:{},u,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,v=!1,_,b,T,I,k,R,F,L,W,P=[];A.biff=12,A["!row"]=0;var N=0,M=!1,D=[],Q={},G=A.supbooks||i.supbooks||[[]];if(G.sharedf=Q,G.arrayf=D,G.SheetNames=i.SheetNames||i.Sheets.map(function(De){return De.name}),!A.supbooks&&(A.supbooks=G,i.Names))for(var j=0;j<i.Names.length;++j)G[0][j+1]=i.Names[j];var V=[],Ce=[],le=!1;Np[16]={n:"BrtShortReal",f:sk};var de;if(aA(t,function(he,Le,Ze){if(!v)switch(Ze){case 148:u=he;break;case 0:_=he,A.sheetRows&&A.sheetRows<=_.r&&(v=!0),L=xi(I=_.r),A["!row"]=_.r,(he.hidden||he.hpt||he.level!=null)&&(he.hpt&&(he.hpx=Vh(he.hpt)),Ce[he.r]=he);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:he[2]},he[2]){case"n":b.v=he[1];break;case"s":F=ch[he[1]],b.v=F.t,b.r=F.r;break;case"b":b.v=!!he[1];break;case"e":b.v=he[1],A.cellText!==!1&&(b.w=Uc[b.v]);break;case"str":b.t="s",b.v=he[1];break;case"is":b.t="s",b.v=he[1].t;break}if((T=s.CellXf[he[0].iStyleRef])&&ik(b,T.numFmtId,null,A,a,s),k=he[0].c==-1?k+1:he[0].c,A.dense?(c[I]||(c[I]=[]),c[I][k]=b):c[Vn(k)+L]=b,A.cellFormula){for(M=!1,N=0;N<D.length;++N){var Z=D[N];_.r>=Z[0].s.r&&_.r<=Z[0].e.r&&k>=Z[0].s.c&&k<=Z[0].e.c&&(b.F=cr(Z[0]),M=!0)}!M&&he.length>3&&(b.f=he[3])}if(h.s.r>_.r&&(h.s.r=_.r),h.s.c>k&&(h.s.c=k),h.e.r<_.r&&(h.e.r=_.r),h.e.c<k&&(h.e.c=k),A.cellDates&&T&&b.t=="n"&&D0(jt[T.numFmtId])){var ge=Xl(b.v);ge&&(b.t="d",b.v=new Date(ge.y,ge.m-1,ge.d,ge.H,ge.M,ge.S,ge.u))}de&&(de.type=="XLDAPR"&&(b.D=!0),de=void 0);break;case 1:case 12:if(!A.sheetStubs||m)break;b={t:"z",v:void 0},k=he[0].c==-1?k+1:he[0].c,A.dense?(c[I]||(c[I]=[]),c[I][k]=b):c[Vn(k)+L]=b,h.s.r>_.r&&(h.s.r=_.r),h.s.c>k&&(h.s.c=k),h.e.r<_.r&&(h.e.r=_.r),h.e.c<k&&(h.e.c=k),de&&(de.type=="XLDAPR"&&(b.D=!0),de=void 0);break;case 176:P.push(he);break;case 49:de=((A.xlmeta||{}).Cell||[])[he-1];break;case 494:var ce=n["!id"][he.relId];for(ce?(he.Target=ce.Target,he.loc&&(he.Target+="#"+he.loc),he.Rel=ce):he.relId==""&&(he.Target="#"+he.loc),I=he.rfx.s.r;I<=he.rfx.e.r;++I)for(k=he.rfx.s.c;k<=he.rfx.e.c;++k)A.dense?(c[I]||(c[I]=[]),c[I][k]||(c[I][k]={t:"z",v:void 0}),c[I][k].l=he):(R=kt({c:k,r:I}),c[R]||(c[R]={t:"z",v:void 0}),c[R].l=he);break;case 426:if(!A.cellFormula)break;D.push(he),W=A.dense?c[I][k]:c[Vn(k)+L],W.f=Si(he[1],h,{r:_.r,c:k},G,A),W.F=cr(he[0]);break;case 427:if(!A.cellFormula)break;Q[kt(he[0].s)]=he[1],W=A.dense?c[I][k]:c[Vn(k)+L],W.f=Si(he[1],h,{r:_.r,c:k},G,A);break;case 60:if(!A.cellStyles)break;for(;he.e>=he.s;)V[he.e--]={width:he.w/256,hidden:!!(he.flags&1),level:he.level},le||(le=!0,GC(he.w/256)),f0(V[he.e+1]);break;case 161:c["!autofilter"]={ref:cr(he)};break;case 476:c["!margins"]=he;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),he.name&&(i.Sheets[r].CodeName=he.name),(he.above||he.left)&&(c["!outline"]={above:he.above,left:he.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),he.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Le.T){if(!m||A.WTF)throw new Error("Unexpected record 0x"+Ze.toString(16))}}},A),delete A.supbooks,delete A["!row"],!c["!ref"]&&(h.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=cr(u||h)),A.sheetRows&&c["!ref"]){var ne=fn(c["!ref"]);A.sheetRows<=+ne.e.r&&(ne.e.r=A.sheetRows-1,ne.e.r>h.e.r&&(ne.e.r=h.e.r),ne.e.r<ne.s.r&&(ne.s.r=ne.e.r),ne.e.c>h.e.c&&(ne.e.c=h.e.c),ne.e.c<ne.s.c&&(ne.s.c=ne.e.c),c["!fullref"]=c["!ref"],c["!ref"]=cr(ne))}return P.length>0&&(c["!merges"]=P),V.length>0&&(c["!cols"]=V),Ce.length>0&&(c["!rows"]=Ce),c}function Hre(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var i=hr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function Vre(t,e,r,n,i,a){var s=a||{"!type":"chart"};if(!t)return a;var A=0,c=0,u="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var v=Hre(m);h.s.r=h.s.c=0,h.e.c=A,u=Vn(A),v[0].forEach(function(_,b){s[u+xi(b)]={t:"n",v:_,z:v[1]},c=b}),h.e.r<c&&(h.e.r=c),++A}),A>0&&(s["!ref"]=cr(h)),s}function jre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,A=t.match(ak);return A&&zC(A[0],a,i,r),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Gre(t,e){t.l+=10;var r=Di(t);return{name:r}}function Kre(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return aA(t,function(c,u,h){switch(h){case 550:a["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var ok=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wre=[],Xre=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function O4(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Zr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function L4(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Zr(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Ak(t){L4(t.WBProps,ok),L4(t.CalcPr,Xre),O4(t.WBView,zre),O4(t.Sheets,Wre),Ku.date1904=Zr(t.WBProps.date1904)}var qre="][*?/\\".split("");function Yre(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qre.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Jre=/<\w+:workbook/;function $re(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(t.replace(Ui,function(c,u){var h=St(c);switch(xo(h[0])){case"<?xml":break;case"<workbook":c.match(Jre)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ok.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=Zr(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Or(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=hr(Or(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Or(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),Zr(h.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=hr(Or(t.slice(s,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),pY.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Ak(r),r}function Zre(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Dw(t),r.name=Di(t),r}function ene(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Di(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function tne(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function rne(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=kY(t),s=Pte(t,0,r),A=PC(t);t.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),A&&(c.Comment=A),c}function nne(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],Np[16]={n:"BrtFRTArchID$",f:tne},aA(t,function(c,u,h){switch(h){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Si(c.Ptg,null,null,s,e),delete e.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,c]):s[0]=[h,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(h),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(h),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),Ak(r),r.Names=a,r.supbooks=s,r}function ine(t,e,r){return e.slice(-4)===".bin"?nne(t,r):$re(t,r)}function ane(t,e,r,n,i,a,s,A){return e.slice(-4)===".bin"?Qre(t,n,r,i,a,s,A):Zte(t,n,r,i,a,s,A)}function sne(t,e,r,n,i,a,s,A){return e.slice(-4)===".bin"?Kre(t,n,r,i,a):jre(t,n,r,i,a)}function one(t,e,r,n,i,a,s,A){return e.slice(-4)===".bin"?gee():pee()}function Ane(t,e,r,n,i,a,s,A){return e.slice(-4)===".bin"?hee():dee()}function lne(t,e,r,n){return e.slice(-4)===".bin"?NZ(t,r,n):_Z(t,r,n)}function cne(t,e,r){return X6(t,r)}function une(t,e,r){return e.slice(-4)===".bin"?z$(t,r):G$(t,r)}function fne(t,e,r){return e.slice(-4)===".bin"?cee(t,r):aee(t,r)}function hne(t,e,r){return e.slice(-4)===".bin"?ree(t):eee(t)}function dne(t,e,r,n){return r.slice(-4)===".bin"?nee(t,e,r,n):void 0}function gne(t,e,r){return e.slice(-4)===".bin"?$Z(t,e,r):ZZ(t,e,r)}var lk=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ck=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Is(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(lk),a,s,A,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(ck),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?A="xmlns"+a[1].slice(6):A=a[1].slice(s+1),n[A]=a[2].slice(1,a[2].length-1));return n}function pne(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(lk),i,a,s,A;if(n)for(A=0;A!=n.length;++A)i=n[A].match(ck),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var fh;function mne(t,e){var r=fh[t]||hr(t);return r==="General"?dc(e):ps(r,e)}function xne(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Zr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=ti(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[hr(e)]=i}function vne(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Uc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oh(t.v):t.w=dc(t.v):t.w=mne(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=fh[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&D0(n)){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function wne(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=xZ[n.Pattern]||n.Pattern)}t[e.ID]=e}function yne(t,e,r,n,i,a,s,A,c,u){var h="General",m=n.StyleID,v={};u=u||{};var _=[],b=0;for(m===void 0&&A&&(m=A.StyleID),m===void 0&&s&&(m=s.StyleID);a[m]!==void 0&&(a[m].nf&&(h=a[m].nf),a[m].Interior&&_.push(a[m].Interior),!!a[m].Parent);)m=a[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Zr(t);break;case"String":n.t="s",n.r=s4(hr(t)),n.v=t.indexOf("<")>-1?hr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(ti(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=hr(t):n.v<60&&(n.v=n.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=b6[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=s4(e||t));break}if(vne(n,h,u),u.cellFormula!==!1)if(n.Formula){var T=hr(n.Formula);T.charCodeAt(0)==61&&(T=T.slice(1)),n.f=Gu(T,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Gu("RC:RC",i):n.ArrayRange&&(n.F=Gu(n.ArrayRange,i),c.push([fn(n.F),n.F]))}else for(b=0;b<c.length;++b)i.r>=c[b][0].s.r&&i.r<=c[b][0].e.r&&i.c>=c[b][0].s.c&&i.c<=c[b][0].e.c&&(n.F=c[b][1]);u.cellStyles&&(_.forEach(function(I){!v.patternType&&I.patternType&&(v.patternType=I.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Ene(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function V2(t,e){var r=e||{};$D();var n=Nf(kC(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Or(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=mi(r);return s.type="string",Qh.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){i.indexOf("<"+qe)>=0&&(a=!0)}),a)return Fne(n,r);fh={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var A,c=[],u,h={},m=[],v=r.dense?[]:{},_="",b={},T={},I=Is('<Data ss:Type="String">'),k=0,R=0,F=0,L={s:{r:2e6,c:2e6},e:{r:0,c:0}},W={},P={},N="",M=0,D=[],Q={},G={},j=0,V=[],Ce=[],le={},de=[],ne,De=!1,he=[],Le=[],Ze={},Z=0,ge=0,ce={Sheets:[],WBProps:{date1904:!1}},se={};Ph.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var fe="";A=Ph.exec(n);)switch(A[3]=(fe=A[3]).toLowerCase()){case"data":if(fe=="data"){if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&c.push([A[3],!0]);break}if(c[c.length-1][1])break;A[1]==="/"?yne(n.slice(k,A.index),N,I,c[c.length-1][0]=="comment"?le:b,{c:R,r:F},W,de[R],T,he,r):(N="",I=Is(A[0]),k=A.index+A[0].length);break;case"cell":if(A[1]==="/")if(Ce.length>0&&(b.c=Ce),(!r.sheetRows||r.sheetRows>F)&&b.v!==void 0&&(r.dense?(v[F]||(v[F]=[]),v[F][R]=b):v[Vn(R)+xi(F)]=b),b.HRef&&(b.l={Target:hr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(Z=R+(parseInt(b.MergeAcross,10)|0),ge=F+(parseInt(b.MergeDown,10)|0),D.push({s:{c:R,r:F},e:{c:Z,r:ge}})),!r.sheetStubs)b.MergeAcross?R=Z+1:++R;else if(b.MergeAcross||b.MergeDown){for(var je=R;je<=Z;++je)for(var ye=F;ye<=ge;++ye)(je>R||ye>F)&&(r.dense?(v[ye]||(v[ye]=[]),v[ye][je]={t:"z"}):v[Vn(je)+xi(ye)]={t:"z"});R=Z+1}else++R;else b=pne(A[0]),b.Index&&(R=+b.Index-1),R<L.s.c&&(L.s.c=R),R>L.e.c&&(L.e.c=R),A[0].slice(-2)==="/>"&&++R,Ce=[];break;case"row":A[1]==="/"||A[0].slice(-2)==="/>"?(F<L.s.r&&(L.s.r=F),F>L.e.r&&(L.e.r=F),A[0].slice(-2)==="/>"&&(T=Is(A[0]),T.Index&&(F=+T.Index-1)),R=0,++F):(T=Is(A[0]),T.Index&&(F=+T.Index-1),Ze={},(T.AutoFitHeight=="0"||T.Height)&&(Ze.hpx=parseInt(T.Height,10),Ze.hpt=W6(Ze.hpx),Le[F]=Ze),T.Hidden=="1"&&(Ze.hidden=!0,Le[F]=Ze));break;case"worksheet":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"));m.push(_),L.s.r<=L.e.r&&L.s.c<=L.e.c&&(v["!ref"]=cr(L),r.sheetRows&&r.sheetRows<=L.e.r&&(v["!fullref"]=v["!ref"],L.e.r=r.sheetRows-1,v["!ref"]=cr(L))),D.length&&(v["!merges"]=D),de.length>0&&(v["!cols"]=de),Le.length>0&&(v["!rows"]=Le),h[_]=v}else L={s:{r:2e6,c:2e6},e:{r:0,c:0}},F=R=0,c.push([A[3],!1]),u=Is(A[0]),_=hr(u.Name),v=r.dense?[]:{},D=[],he=[],Le=[],se={name:_,Hidden:0},ce.Sheets.push(se);break;case"table":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else{if(A[0].slice(-2)=="/>")break;c.push([A[3],!1]),de=[],De=!1}break;case"style":A[1]==="/"?wne(W,P,r):P=Is(A[0]);break;case"numberformat":P.nf=hr(Is(A[0]).Format||"General"),fh[P.nf]&&(P.nf=fh[P.nf]);for(var xe=0;xe!=392&&jt[xe]!=P.nf;++xe);if(xe==392){for(xe=57;xe!=392;++xe)if(jt[xe]==null){ac(P.nf,xe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ne=Is(A[0]),ne.Hidden&&(ne.hidden=!0,delete ne.Hidden),ne.Width&&(ne.wpx=parseInt(ne.Width,10)),!De&&ne.wpx>10){De=!0,ji=K6;for(var Se=0;Se<de.length;++Se)de[Se]&&f0(de[Se])}De&&f0(ne),de[ne.Index-1||de.length]=ne;for(var it=0;it<+ne.Span;++it)de[de.length]=mi(ne);break;case"namedrange":if(A[1]==="/")break;ce.Names||(ce.Names=[]);var ie=St(A[0]),lt={Name:ie.Name,Ref:Gu(ie.RefersTo.slice(1),{r:0,c:0})};ce.Sheets.length>0&&(lt.Sheet=ce.Sheets.length-1),ce.Names.push(lt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(A[0].slice(-2)==="/>")break;A[1]==="/"?N+=n.slice(M,A.index):M=A.index+A[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Is(A[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(A[0].slice(-2)==="/>")break;A[1]==="/"?aJ(Q,fe,n.slice(j,A.index)):j=A.index+A[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else c.push([A[3],!1]);break;case"comment":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"));Ene(le),Ce.push(le)}else c.push([A[3],!1]),u=Is(A[0]),le={a:u.Author};break;case"autofilter":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else if(A[0].charAt(A[0].length-2)!=="/"){var yt=Is(A[0]);v["!autofilter"]={ref:Gu(yt.Range).replace(/\$/g,"")},c.push([A[3],!0])}break;case"name":break;case"datavalidation":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&c.push([A[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(A[1]==="/"){if((u=c.pop())[0]!==A[3])throw new Error("Bad state: "+u.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&c.push([A[3],!0]);break;case"null":break;default:if(c.length==0&&A[3]=="document"||c.length==0&&A[3]=="uof")return G4(n,r);var wt=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(A[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:wt=!1}break;case"componentoptions":switch(A[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:wt=!1}break;case"excelworkbook":switch(A[3]){case"date1904":ce.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:wt=!1}break;case"workbookoptions":switch(A[3]){case"owcversion":break;case"height":break;case"width":break;default:wt=!1}break;case"worksheetoptions":switch(A[3]){case"visible":if(A[0].slice(-2)!=="/>")if(A[1]==="/")switch(n.slice(j,A.index)){case"SheetHidden":se.Hidden=1;break;case"SheetVeryHidden":se.Hidden=2;break}else j=A.index+A[0].length;break;case"header":v["!margins"]||uh(v["!margins"]={},"xlml"),isNaN(+St(A[0]).Margin)||(v["!margins"].header=+St(A[0]).Margin);break;case"footer":v["!margins"]||uh(v["!margins"]={},"xlml"),isNaN(+St(A[0]).Margin)||(v["!margins"].footer=+St(A[0]).Margin);break;case"pagemargins":var we=St(A[0]);v["!margins"]||uh(v["!margins"]={},"xlml"),isNaN(+we.Top)||(v["!margins"].top=+we.Top),isNaN(+we.Left)||(v["!margins"].left=+we.Left),isNaN(+we.Right)||(v["!margins"].right=+we.Right),isNaN(+we.Bottom)||(v["!margins"].bottom=+we.Bottom);break;case"displayrighttoleft":ce.Views||(ce.Views=[]),ce.Views[0]||(ce.Views[0]={}),ce.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:wt=!1}break;case"pivottable":case"pivotcache":switch(A[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:wt=!1}break;case"pagebreaks":switch(A[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:wt=!1}break;case"autofilter":switch(A[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:wt=!1}break;case"querytable":switch(A[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:wt=!1}break;case"datavalidation":switch(A[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:wt=!1}break;case"sorting":case"conditionalformatting":switch(A[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:wt=!1}break;case"mapinfo":case"schema":case"data":switch(A[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:wt=!1}break;case"smarttags":break;default:wt=!1;break}if(wt||A[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+A[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(A[0].slice(-2)==="/>")break;A[1]==="/"?xne(G,fe,V,n.slice(j,A.index)):(V=A,j=A.index+A[0].length);break}if(r.WTF)throw"Unrecognized tag: "+A[3]+"|"+c.join("|")}var Ee={};return!r.bookSheets&&!r.bookProps&&(Ee.Sheets=h),Ee.SheetNames=m,Ee.Workbook=ce,Ee.SSF=mi(jt),Ee.Props=Q,Ee.Custprops=G,Ee}function Ow(t,e){switch(qC(e=e||{}),e.type||"base64"){case"base64":return V2(Ga(t),e);case"binary":case"buffer":case"file":return V2(t,e);case"array":return V2(Rc(t),e)}}function Cne(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=OY(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=LY(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var _ne=[60,1084,2066,2165,2175];function Bne(t,e,r,n,i){var a=n,s=[],A=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&A.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(A)}s.push(A),r.l+=a;for(var c=Lo(r,r.l),u=Lw[c],h=0;u!=null&&_ne.indexOf(c)>-1;)a=Lo(r,r.l+2),h=r.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),A=r.slice(h,r.l+4+a),s.push(A),r.l+=4+a,u=Lw[c=Lo(r,r.l)];var m=bA(s);ci(m,0);var v=0;m.lens=[];for(var _=0;_<s.length;++_)m.lens.push(v),v+=s[_].length;if(m.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+m.length+" < "+n;return e.f(m,m.length,i)}function Zs(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=jt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Uc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Oh(t.v):t.w=dc(t.v):t.w=ps(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&D0(jt[n]||String(n))){var i=Xl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function G1(t,e,r){return{v:t,ixfe:e,t:r}}function bne(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},s={},A=null,c=[],u="",h={},m,v="",_,b,T,I,k={},R=[],F,L,W=[],P=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},D=function(Pe){return Pe<8?sc[Pe]:Pe<64&&P[Pe-8]||sc[Pe]},Q=function(Pe,oe,Fe){var Ve=oe.XF.data;if(!(!Ve||!Ve.patternType||!Fe||!Fe.cellStyles)){oe.s={},oe.s.patternType=Ve.patternType;var _e;(_e=Hh(D(Ve.icvFore)))&&(oe.s.fgColor={rgb:_e}),(_e=Hh(D(Ve.icvBack)))&&(oe.s.bgColor={rgb:_e})}},G=function(Pe,oe,Fe){if(!(Ze>1)&&!(Fe.sheetRows&&Pe.r>=Fe.sheetRows)){if(Fe.cellStyles&&oe.XF&&oe.XF.data&&Q(Pe,oe,Fe),delete oe.ixfe,delete oe.XF,m=Pe,v=kt(Pe),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Pe.r<s.s.r&&(s.s.r=Pe.r),Pe.c<s.s.c&&(s.s.c=Pe.c),Pe.r+1>s.e.r&&(s.e.r=Pe.r+1),Pe.c+1>s.e.c&&(s.e.c=Pe.c+1),Fe.cellFormula&&oe.f){for(var Ve=0;Ve<R.length;++Ve)if(!(R[Ve][0].s.c>Pe.c||R[Ve][0].s.r>Pe.r)&&!(R[Ve][0].e.c<Pe.c||R[Ve][0].e.r<Pe.r)){oe.F=cr(R[Ve][0]),(R[Ve][0].s.c!=Pe.c||R[Ve][0].s.r!=Pe.r)&&delete oe.f,oe.f&&(oe.f=""+Si(R[Ve][1],s,Pe,he,j));break}}Fe.dense?(i[Pe.r]||(i[Pe.r]=[]),i[Pe.r][Pe.c]=oe):i[v]=oe}},j={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:R,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(j.password=e.password);var V,Ce=[],le=[],de=[],ne=[],De=!1,he=[];he.SheetNames=j.snames,he.sharedf=j.sharedf,he.arrayf=j.arrayf,he.names=[],he.XTI=[];var Le=0,Ze=0,Z=0,ge=[],ce=[],se;j.codepage=1200,Os(1200);for(var fe=!1;t.l<t.length-1;){var je=t.l,ye=t.read_shift(2);if(ye===0&&Le===10)break;var xe=t.l===t.length?0:t.read_shift(2),Se=Lw[ye];if(Se&&Se.f){if(e.bookSheets&&Le===133&&ye!==133)break;if(Le=ye,Se.r===2||Se.r==12){var it=t.read_shift(2);if(xe-=2,!j.enc&&it!==ye&&((it&255)<<8|it>>8)!==ye)throw new Error("rt mismatch: "+it+"!="+ye);Se.r==12&&(t.l+=10,xe-=10)}var ie={};if(ye===10?ie=Se.f(t,xe,j):ie=Bne(ye,Se,t,xe,j),Ze==0&&[9,521,1033,2057].indexOf(Le)===-1)continue;switch(ye){case 34:r.opts.Date1904=N.WBProps.date1904=ie;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(t.l=0),j.enc=ie,!e.password)throw new Error("File is password-protected");if(ie.valid==null)throw new Error("Encryption scheme unsupported");if(!ie.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=ie;break;case 66:var lt=Number(ie);switch(lt){case 21010:lt=1200;break;case 32768:lt=1e4;break;case 32769:lt=1252;break}Os(j.codepage=lt),fe=!0;break;case 317:j.rrtabid=ie;break;case 25:j.winlocked=ie;break;case 439:r.opts.RefreshAll=ie;break;case 12:r.opts.CalcCount=ie;break;case 16:r.opts.CalcDelta=ie;break;case 17:r.opts.CalcIter=ie;break;case 13:r.opts.CalcMode=ie;break;case 14:r.opts.CalcPrecision=ie;break;case 95:r.opts.CalcSaveRecalc=ie;break;case 15:j.CalcRefMode=ie;break;case 2211:r.opts.FullCalc=ie;break;case 129:ie.fDialog&&(i["!type"]="dialog"),ie.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ie.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:W.push(ie);break;case 430:he.push([ie]),he[he.length-1].XTI=[];break;case 35:case 547:he[he.length-1].push(ie);break;case 24:case 536:se={Name:ie.Name,Ref:Si(ie.rgce,s,null,he,j)},ie.itab>0&&(se.Sheet=ie.itab-1),he.names.push(se),he[0]||(he[0]=[],he[0].XTI=[]),he[he.length-1].push(ie),ie.Name=="_xlnm._FilterDatabase"&&ie.itab>0&&ie.rgce&&ie.rgce[0]&&ie.rgce[0][0]&&ie.rgce[0][0][0]=="PtgArea3d"&&(ce[ie.itab-1]={ref:cr(ie.rgce[0][0][1][2])});break;case 22:j.ExternCount=ie;break;case 23:he.length==0&&(he[0]=[],he[0].XTI=[]),he[he.length-1].XTI=he[he.length-1].XTI.concat(ie),he.XTI=he.XTI.concat(ie);break;case 2196:if(j.biff<8)break;se!=null&&(se.Comment=ie[1]);break;case 18:i["!protect"]=ie;break;case 19:ie!==0&&j.WTF&&console.error("Password verifier: "+ie);break;case 133:a[ie.pos]=ie,j.snames.push(ie.name);break;case 10:{if(--Ze)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=cr(s),e.sheetRows&&e.sheetRows<=s.e.r){var yt=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=cr(s),s.e.r=yt}s.e.r++,s.e.c++}Ce.length>0&&(i["!merges"]=Ce),le.length>0&&(i["!objects"]=le),de.length>0&&(i["!cols"]=de),ne.length>0&&(i["!rows"]=ne),N.Sheets.push(M)}u===""?h=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ie.BIFFVer]||8),j.biffguess=ie.BIFFVer==0,ie.BIFFVer==0&&ie.dt==4096&&(j.biff=5,fe=!0,Os(j.codepage=28591)),j.biff==8&&ie.BIFFVer==0&&ie.dt==16&&(j.biff=2),Ze++)break;if(i=e.dense?[]:{},j.biff<8&&!fe&&(fe=!0,Os(j.codepage=e.codepage||1252)),j.biff<5||ie.BIFFVer==0&&ie.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var wt={pos:t.l-xe,name:u};a[wt.pos]=wt,j.snames.push(u)}else u=(a[je]||{name:""}).name;ie.dt==32&&(i["!type"]="chart"),ie.dt==64&&(i["!type"]="macro"),Ce=[],le=[],j.arrayf=R=[],de=[],ne=[],De=!1,M={Hidden:(a[je]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ie.r]||[])[ie.c]:i[kt({c:ie.c,r:ie.r})])&&++ie.c,F={ixfe:ie.ixfe,XF:W[ie.ixfe]||{},v:ie.val,t:"n"},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e);break;case 5:case 517:F={ixfe:ie.ixfe,XF:W[ie.ixfe],v:ie.val,t:ie.t},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e);break;case 638:F={ixfe:ie.ixfe,XF:W[ie.ixfe],v:ie.rknum,t:"n"},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e);break;case 189:for(var we=ie.c;we<=ie.C;++we){var Ee=ie.rkrec[we-ie.c][0];F={ixfe:Ee,XF:W[Ee],v:ie.rkrec[we-ie.c][1],t:"n"},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:we,r:ie.r},F,e)}break;case 6:case 518:case 1030:{if(ie.val=="String"){A=ie;break}if(F=G1(ie.val,ie.cell.ixfe,ie.tt),F.XF=W[F.ixfe],e.cellFormula){var qe=ie.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var st=qe[0][0][1][0],qt=qe[0][0][1][1],Ge=kt({r:st,c:qt});k[Ge]?F.f=""+Si(ie.formula,s,ie.cell,he,j):F.F=((e.dense?(i[st]||[])[qt]:i[Ge])||{}).F}else F.f=""+Si(ie.formula,s,ie.cell,he,j)}Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G(ie.cell,F,e),A=ie}break;case 7:case 519:if(A)A.val=ie,F=G1(ie,A.cell.ixfe,"s"),F.XF=W[F.ixfe],e.cellFormula&&(F.f=""+Si(A.formula,s,A.cell,he,j)),Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G(A.cell,F,e),A=null;else throw new Error("String record expects Formula");break;case 33:case 545:{R.push(ie);var vr=kt(ie[0].s);if(_=e.dense?(i[ie[0].s.r]||[])[ie[0].s.c]:i[vr],e.cellFormula&&_){if(!A||!vr||!_)break;_.f=""+Si(ie[1],s,ie[0],he,j),_.F=cr(ie[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!A)break;k[kt(A.cell)]=ie[0],_=e.dense?(i[A.cell.r]||[])[A.cell.c]:i[kt(A.cell)],(_||{}).f=""+Si(ie[0],s,m,he,j)}}break;case 253:F=G1(c[ie.isst].t,ie.ixfe,"s"),c[ie.isst].h&&(F.h=c[ie.isst].h),F.XF=W[F.ixfe],Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e);break;case 513:e.sheetStubs&&(F={ixfe:ie.ixfe,XF:W[ie.ixfe],t:"z"},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e));break;case 190:if(e.sheetStubs)for(var Xr=ie.c;Xr<=ie.C;++Xr){var Ke=ie.ixfe[Xr-ie.c];F={ixfe:Ke,XF:W[Ke],t:"z"},Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:Xr,r:ie.r},F,e)}break;case 214:case 516:case 4:F=G1(ie.val,ie.ixfe,"s"),F.XF=W[F.ixfe],Z>0&&(F.z=ge[F.ixfe>>8&63]),Zs(F,e,r.opts.Date1904),G({c:ie.c,r:ie.r},F,e);break;case 0:case 512:Ze===1&&(s=ie);break;case 252:c=ie;break;case 1054:if(j.biff==4){ge[Z++]=ie[1];for(var ht=0;ht<Z+163&&jt[ht]!=ie[1];++ht);ht>=163&&ac(ie[1],Z+163)}else ac(ie[1],ie[0]);break;case 30:{ge[Z++]=ie;for(var ct=0;ct<Z+163&&jt[ct]!=ie;++ct);ct>=163&&ac(ie,Z+163)}break;case 229:Ce=Ce.concat(ie);break;case 93:le[ie.cmo[0]]=j.lastobj=ie;break;case 438:j.lastobj.TxO=ie;break;case 127:j.lastobj.ImData=ie;break;case 440:for(I=ie[0].s.r;I<=ie[0].e.r;++I)for(T=ie[0].s.c;T<=ie[0].e.c;++T)_=e.dense?(i[I]||[])[T]:i[kt({c:T,r:I})],_&&(_.l=ie[1]);break;case 2048:for(I=ie[0].s.r;I<=ie[0].e.r;++I)for(T=ie[0].s.c;T<=ie[0].e.c;++T)_=e.dense?(i[I]||[])[T]:i[kt({c:T,r:I})],_&&_.l&&(_.l.Tooltip=ie[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;_=e.dense?(i[ie[0].r]||[])[ie[0].c]:i[kt(ie[0])];var Ot=le[ie[2]];_||(e.dense?(i[ie[0].r]||(i[ie[0].r]=[]),_=i[ie[0].r][ie[0].c]={t:"z"}):_=i[kt(ie[0])]={t:"z"},s.e.r=Math.max(s.e.r,ie[0].r),s.s.r=Math.min(s.s.r,ie[0].r),s.e.c=Math.max(s.e.c,ie[0].c),s.s.c=Math.min(s.s.c,ie[0].c)),_.c||(_.c=[]),b={a:ie[1],t:Ot.TxO.t},_.c.push(b)}break;case 2173:XZ(W[ie.ixfe],ie.ext);break;case 125:{if(!j.cellStyles)break;for(;ie.e>=ie.s;)de[ie.e--]={width:ie.w/256,level:ie.level||0,hidden:!!(ie.flags&1)},De||(De=!0,GC(ie.w/256)),f0(de[ie.e+1])}break;case 520:{var Yt={};ie.level!=null&&(ne[ie.r]=Yt,Yt.level=ie.level),ie.hidden&&(ne[ie.r]=Yt,Yt.hidden=!0),ie.hpt&&(ne[ie.r]=Yt,Yt.hpt=ie.hpt,Yt.hpx=Vh(ie.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||uh(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=ie;break;case 161:i["!margins"]||uh(i["!margins"]={}),i["!margins"].header=ie.header,i["!margins"].footer=ie.footer;break;case 574:ie.RTL&&(N.Views[0].RTL=!0);break;case 146:P=ie;break;case 2198:V=ie;break;case 140:L=ie;break;case 442:u?M.CodeName=ie||M.name:N.WBProps.CodeName=ie||"ThisWorkbook";break}}else Se||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),t.l+=xe}return r.SheetNames=co(a).sort(function(Kt,Pe){return Number(Kt)-Number(Pe)}).map(function(Kt){return a[Kt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&ce.forEach(function(Kt,Pe){r.Sheets[r.SheetNames[Pe]]["!autofilter"]=Kt}),r.Strings=c,r.SSF=mi(jt),j.enc&&(r.Encryption=j.enc),V&&(r.Themes=V),r.Metadata={},L!==void 0&&(r.Metadata.Country=L),he.names.length>0&&(N.Names=he.names),r.Workbook=N,r}var P4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Tne(t,e,r){var n=lr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=E4(n,GY,P4.DSI);for(var a in i)e[a]=i[a]}catch(u){if(r.WTF)throw u}var s=lr.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var A=E4(s,KY,P4.SI);for(var c in A)e[c]==null&&(e[c]=A[c])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(S6(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function uk(t,e){e||(e={}),qC(e),QD(),e.codepage&&TC(e.codepage);var r,n;if(t.FullPaths){if(lr.find(t,"/encryption"))throw new Error("File is password-protected");r=lr.find(t,"!CompObj"),n=lr.find(t,"/Workbook")||lr.find(t,"/Book")}else{switch(e.type){case"base64":t=Ms(Ga(t));break;case"binary":t=Ms(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ci(t,0),n={content:t}}var i,a;if(r&&Cne(r),e.bookProps&&!e.bookSheets)i={};else{var s=ar?"buffer":"array";if(n&&n.content)i=bne(n.content,e);else if((a=lr.find(t,"PerfectOffice_MAIN"))&&a.content)i=lh.to_workbook(a.content,(e.type=s,e));else if((a=lr.find(t,"NativeContent_MAIN"))&&a.content)i=lh.to_workbook(a.content,(e.type=s,e));else throw(a=lr.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&lr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=fee(t))}var A={};return t.FullPaths&&Tne(t,A,e),i.Props=i.Custprops=A,e.bookFiles&&(i.cfb=t),i}var Np={0:{f:Are},1:{f:fre},2:{f:yre},3:{f:pre},4:{f:dre},5:{f:wre},6:{f:_re},7:{f:xre},8:{f:Ire},9:{f:Sre},10:{f:bre},11:{f:Tre},12:{f:hre},13:{f:Ere},14:{f:mre},15:{f:gre},16:{f:sk},17:{f:Bre},18:{f:vre},19:{f:LC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:rne},40:{},42:{},43:{f:bZ},44:{f:BZ},45:{f:TZ},46:{f:IZ},47:{f:SZ},48:{},49:{f:NY},50:{},51:{f:YZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Q6},62:{f:Cre},63:{f:tee},64:{f:Lre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ki,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ore},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ure},148:{f:lre,p:16},151:{f:Rre},152:{},153:{f:ene},154:{},155:{},156:{f:Zre},157:{},158:{},159:{T:1,f:K$},160:{T:-1},161:{T:1,f:kc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Nre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qZ},336:{T:-1},337:{f:JZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Dw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:P6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Dre},427:{f:kre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Mre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cre},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Dw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lee},633:{T:1},634:{T:-1},635:{T:1,f:Aee},636:{T:-1},637:{f:RY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Gre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Pre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Lw={6:{f:Q2},10:{f:dA},12:{f:Sn},13:{f:Sn},14:{f:vn},15:{f:vn},16:{f:Ni},17:{f:vn},18:{f:vn},19:{f:Sn},20:{f:b4},21:{f:b4},23:{f:P6},24:{f:S4},25:{f:vn},26:{},27:{},28:{f:s$},29:{},34:{f:vn},35:{f:T4},38:{f:Ni},39:{f:Ni},40:{f:Ni},41:{f:Ni},42:{f:vn},43:{f:vn},47:{f:cZ},49:{f:HJ},51:{f:Sn},60:{},61:{f:LJ},64:{f:vn},65:{f:QJ},66:{f:Sn},77:{},80:{},81:{},82:{},85:{f:Sn},89:{},90:{},91:{},92:{f:NJ},93:{f:A$},94:{},95:{f:vn},96:{},97:{},99:{f:vn},125:{f:Q6},128:{f:JJ},129:{f:FJ},130:{f:Sn},131:{f:vn},132:{f:vn},133:{f:RJ},134:{},140:{f:d$},141:{f:Sn},144:{},146:{f:p$},151:{},152:{},153:{},154:{},155:{},156:{f:Sn},157:{},158:{},160:{f:y$},161:{f:x$},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:WJ},190:{f:XJ},193:{f:dA},197:{},198:{},199:{},200:{},201:{},202:{f:vn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Sn},220:{},221:{f:vn},222:{},224:{f:YJ},225:{f:IJ},226:{f:dA},227:{},229:{f:o$},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:DJ},253:{f:VJ},255:{f:kJ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:D6},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:vn},353:{f:dA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:ZJ},431:{f:vn},432:{},433:{},434:{},437:{},438:{f:u$},439:{f:vn},440:{f:f$},441:{},442:{f:Ed},443:{},444:{f:Sn},445:{},446:{},448:{f:dA},449:{f:OJ,r:2},450:{f:dA},512:{f:_4},513:{f:w$},515:{f:$J},516:{f:jJ},517:{f:B4},519:{f:E$},520:{f:UJ},523:{},545:{f:I4},549:{f:C4},566:{},574:{f:PJ},638:{f:zJ},659:{},1048:{},1054:{f:GJ},1084:{},1212:{f:n$},2048:{f:h$},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:H1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:dA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:m$,r:12},2173:{f:WZ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:vn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:r$,r:12},2197:{},2198:{f:HZ,r:12},2199:{},2200:{},2201:{},2202:{f:i$,r:12},2203:{f:dA},2204:{},2205:{},2206:{},2207:{},2211:{f:MJ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Sn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:v$},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:g$},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:_4},1:{},2:{f:b$},3:{f:B$},4:{f:_$},5:{f:B4},7:{f:T$},8:{},9:{f:H1},11:{},22:{f:Sn},30:{f:KJ},31:{},32:{},33:{f:I4},36:{},37:{f:C4},50:{f:S$},62:{},52:{},67:{},68:{f:Sn},69:{},86:{},126:{},127:{f:C$},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:I$},223:{},234:{},354:{},421:{},518:{f:Q2},521:{f:H1},536:{f:S4},547:{f:T4},561:{},579:{},1030:{f:Q2},1033:{f:H1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ns(t,e,r,n){var i=e;if(!isNaN(i)){var a=(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&w6(r)&&t.push(r)}}function Q4(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,A=a&&a.index||t.length,c=$q(t.slice(s,A),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,h=0,m=0,v=0,_={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(s=0;s<c.length;++s){var T=c[s].trim(),I=T.slice(0,3).toLowerCase();if(I=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}h=0;continue}if(!(I!="<td"&&I!="<th")){var k=T.split(/<\/t[dh]>/i);for(A=0;A<k.length;++A){var R=k[A].trim();if(R.match(/<t[dh]/i)){for(var F=R,L=0;F.charAt(0)=="<"&&(L=F.indexOf(">"))>-1;)F=F.slice(L+1);for(var W=0;W<b.length;++W){var P=b[W];P.s.c==h&&P.s.r<u&&u<=P.e.r&&(h=P.e.c+1,W=-1)}var N=St(R.slice(0,R.indexOf(">")));v=N.colspan?+N.colspan:1,((m=+N.rowspan)>1||v>1)&&b.push({s:{r:u,c:h},e:{r:u+(m||1)-1,c:h+v-1}});var M=N.t||N["data-t"]||"";if(!F.length){h+=v;continue}if(F=o6(F),_.s.r>u&&(_.s.r=u),_.e.r<u&&(_.e.r=u),_.s.c>h&&(_.s.c=h),_.e.c<h&&(_.e.c=h),!F.length){h+=v;continue}var D={t:"s",v:F};r.raw||!F.trim().length||M=="s"||(F==="TRUE"?D={t:"b",v:!0}:F==="FALSE"?D={t:"b",v:!1}:isNaN(Ps(F))?isNaN(u0(F).getDate())||(D={t:"d",v:ti(F)},r.cellDates||(D={t:"n",v:Xi(D.v)}),D.z=r.dateNF||jt[14]):D={t:"n",v:Ps(F)}),r.dense?(n[u]||(n[u]=[]),n[u][h]=D):n[kt({r:u,c:h})]=D,h+=v}}}}return n["!ref"]=cr(_),b.length&&(n["!merges"]=b),n}function Sne(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var A=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){A=-1;break}A=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(A<0)){var h=kt({r,c:s}),m=n.dense?(t[r]||[])[s]:t[h],v=m&&m.v!=null&&(m.h||DC(m.w||($o(m),m.w)||""))||"",_={};A>1&&(_.rowspan=A),c>1&&(_.colspan=c),n.editable?v='<span contenteditable="true">'+v+"</span>":m&&(_["data-t"]=m&&m.t||"z",m.v!=null&&(_["data-v"]=m.v),m.z!=null&&(_["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+m.l.Target+'">'+v+"</a>")),_.id=(n.id||"sjs")+"-"+h,a.push(dY("td",v,_))}}var b="<tr>";return b+a.join("")+"</tr>"}var Ine='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Nne="</body></html>";function Fne(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return vl(Q4(r[0],e),e);var n=JC();return r.forEach(function(i,a){$C(n,Q4(i,e),"Sheet"+(a+1))}),n}function Rne(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Dne(t,e){var r=e||{},n=r.header!=null?r.header:Ine,i=r.footer!=null?r.footer:Nne,a=[n],s=k0(t["!ref"]);r.dense=Array.isArray(t),a.push(Rne(t,s,r));for(var A=s.s.r;A<=s.e.r;++A)a.push(Sne(t,s,A,r));return a.push("</table>"+i),a.join("")}function fk(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Ki(n.origin):n.origin;i=s.r,a=s.c}var A=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,A.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var h=k0(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var m=[],v=0,_=t["!rows"]||(t["!rows"]=[]),b=0,T=0,I=0,k=0,R=0,F=0;for(t["!cols"]||(t["!cols"]=[]);b<A.length&&T<c;++b){var L=A[b];if(H4(L)){if(n.display)continue;_[T]={hidden:!0}}var W=L.children;for(I=k=0;I<W.length;++I){var P=W[I];if(!(n.display&&H4(P))){var N=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):o6(P.innerHTML),M=P.getAttribute("data-z")||P.getAttribute("z");for(v=0;v<m.length;++v){var D=m[v];D.s.c==k+a&&D.s.r<T+i&&T+i<=D.e.r&&(k=D.e.c+1-a,v=-1)}F=+P.getAttribute("colspan")||1,((R=+P.getAttribute("rowspan")||1)>1||F>1)&&m.push({s:{r:T+i,c:k+a},e:{r:T+i+(R||1)-1,c:k+a+(F||1)-1}});var Q={t:"s",v:N},G=P.getAttribute("data-t")||P.getAttribute("t")||"";N!=null&&(N.length==0?Q.t=G||"z":n.raw||N.trim().length==0||G=="s"||(N==="TRUE"?Q={t:"b",v:!0}:N==="FALSE"?Q={t:"b",v:!1}:isNaN(Ps(N))?isNaN(u0(N).getDate())||(Q={t:"d",v:ti(N)},n.cellDates||(Q={t:"n",v:Xi(Q.v)}),Q.z=n.dateNF||jt[14]):Q={t:"n",v:Ps(N)})),Q.z===void 0&&M!=null&&(Q.z=M);var j="",V=P.getElementsByTagName("A");if(V&&V.length)for(var Ce=0;Ce<V.length&&!(V[Ce].hasAttribute("href")&&(j=V[Ce].getAttribute("href"),j.charAt(0)!="#"));++Ce);j&&j.charAt(0)!="#"&&(Q.l={Target:j}),n.dense?(t[T+i]||(t[T+i]=[]),t[T+i][k+a]=Q):t[kt({c:k+a,r:T+i})]=Q,u.e.c<k+a&&(u.e.c=k+a),k+=F}}++T}return m.length&&(t["!merges"]=(t["!merges"]||[]).concat(m)),u.e.r=Math.max(u.e.r,T-1+i),t["!ref"]=cr(u),T>=c&&(t["!fullref"]=cr((u.e.r=A.length-b+T-1+i,u))),t}function hk(t,e){var r=e||{},n=r.dense?[]:{};return fk(n,t,e)}function kne(t,e){return vl(hk(t,e),e)}function H4(t){var e="",r=Une(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Une(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Mne(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=hr(e.replace(/<[^>]*>/g,""));return[r]}var V4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function dk(t,e){var r=e||{},n=kC(t),i=[],a,s,A={name:""},c="",u=0,h,m,v={},_=[],b=r.dense?[]:{},T,I,k={value:""},R="",F=0,L=[],W=-1,P=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,D={},Q=[],G={},j=0,V=0,Ce=[],le=1,de=1,ne=[],De={Names:[]},he={},Le=["",""],Ze=[],Z={},ge="",ce=0,se=!1,fe=!1,je=0;for(Ph.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");T=Ph.exec(n);)switch(T[3]=T[3].replace(/_.*$/,"")){case"table":case"":T[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?b["!ref"]=cr(N):b["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(b["!fullref"]=b["!ref"],N.e.r=r.sheetRows-1,b["!ref"]=cr(N)),Q.length&&(b["!merges"]=Q),Ce.length&&(b["!rows"]=Ce),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),_.push(h.name),v[h.name]=b,fe=!1):T[0].charAt(T[0].length-2)!=="/"&&(h=St(T[0],!1),W=P=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,b=r.dense?[]:{},Q=[],Ce=[],fe=!0);break;case"table-row-group":T[1]==="/"?--M:++M;break;case"table-row":case"":if(T[1]==="/"){W+=le,le=1;break}if(m=St(T[0],!1),m.?W=m.-1:W==-1&&(W=0),le=+m["number-rows-repeated"]||1,le<10)for(je=0;je<le;++je)M>0&&(Ce[W+je]={level:M});P=-1;break;case"covered-table-cell":T[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(b[W]||(b[W]=[]),b[W][P]={t:"z"}):b[kt({r:W,c:P})]={t:"z"}),R="",L=[];break;case"table-cell":case"":if(T[0].charAt(T[0].length-2)==="/")++P,k=St(T[0],!1),de=parseInt(k["number-columns-repeated"]||"1",10),I={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(I.f=M4(hr(k.formula))),(k.||k["value-type"])=="string"&&(I.t="s",I.v=hr(k["string-value"]||""),r.dense?(b[W]||(b[W]=[]),b[W][P]=I):b[kt({r:W,c:P})]=I),P+=de-1;else if(T[1]!=="/"){++P,R="",F=0,L=[],de=1;var ye=le?W+le-1:W;if(P>N.e.c&&(N.e.c=P),P<N.s.c&&(N.s.c=P),W<N.s.r&&(N.s.r=W),ye>N.e.r&&(N.e.r=ye),k=St(T[0],!1),Ze=[],Z={},I={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=hr(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(j=parseInt(k["number-matrix-rows-spanned"],10)||0,V=parseInt(k["number-matrix-columns-spanned"],10)||0,G={s:{r:W,c:P},e:{r:W+j-1,c:P+V-1}},I.F=cr(G),ne.push([G,I.F])),k.formula)I.f=M4(k.formula);else for(je=0;je<ne.length;++je)W>=ne[je][0].s.r&&W<=ne[je][0].e.r&&P>=ne[je][0].s.c&&P<=ne[je][0].e.c&&(I.F=ne[je][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(j=parseInt(k["number-rows-spanned"],10)||0,V=parseInt(k["number-columns-spanned"],10)||0,G={s:{r:W,c:P},e:{r:W+j-1,c:P+V-1}},Q.push(G)),k["number-columns-repeated"]&&(de=parseInt(k["number-columns-repeated"],10)),I.t){case"boolean":I.t="b",I.v=Zr(k["boolean-value"]);break;case"float":I.t="n",I.v=parseFloat(k.value);break;case"percentage":I.t="n",I.v=parseFloat(k.value);break;case"currency":I.t="n",I.v=parseFloat(k.value);break;case"date":I.t="d",I.v=ti(k["date-value"]),r.cellDates||(I.t="n",I.v=Xi(I.v)),I.z="m/d/yy";break;case"time":I.t="n",I.v=qq(k["time-value"])/86400,r.cellDates&&(I.t="d",I.v=Hm(I.v)),I.z="HH:MM:SS";break;case"number":I.t="n",I.v=parseFloat(k.);break;default:if(I.t==="string"||I.t==="text"||!I.t)I.t="s",k["string-value"]!=null&&(R=hr(k["string-value"]),L=[]);else throw new Error("Unsupported value type "+I.t)}}else{if(se=!1,I.t==="s"&&(I.v=R||"",L.length&&(I.R=L),se=F==0),he.Target&&(I.l=he),Ze.length>0&&(I.c=Ze,Ze=[]),R&&r.cellText!==!1&&(I.w=R),se&&(I.t="z",delete I.v),(!se||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=W))for(var xe=0;xe<le;++xe){if(de=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(b[W+xe]||(b[W+xe]=[]),b[W+xe][P]=xe==0?I:mi(I);--de>0;)b[W+xe][P+de]=mi(I);else for(b[kt({r:W+xe,c:P})]=I;--de>0;)b[kt({r:W+xe,c:P+de})]=mi(I);N.e.c<=P&&(N.e.c=P)}de=parseInt(k["number-columns-repeated"]||"1",10),P+=de-1,de=0,I={},R="",L=[]}he={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(T[1]==="/"){if((a=i.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&i.push([T[3],!0]);break;case"annotation":if(T[1]==="/"){if((a=i.pop())[0]!==T[3])throw"Bad state: "+a;Z.t=R,L.length&&(Z.R=L),Z.a=ge,Ze.push(Z)}else T[0].charAt(T[0].length-2)!=="/"&&i.push([T[3],!1]);ge="",ce=0,R="",F=0,L=[];break;case"creator":T[1]==="/"?ge=n.slice(ce,T.index):ce=T.index+T[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(T[1]==="/"){if((a=i.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&i.push([T[3],!1]);R="",F=0,L=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(T[1]==="/"){if(D[A.name]=c,(a=i.pop())[0]!==T[3])throw"Bad state: "+a}else T[0].charAt(T[0].length-2)!=="/"&&(c="",A=St(T[0],!1),i.push([T[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(T[0],!1),c+=V4[T[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(T[0],!1),c+=V4[T[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(T[0].slice(-2)==="/>")break;if(T[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,T.index);break}else u=T.index+T[0].length;break;case"named-range":s=St(T[0],!1),Le=H2(s["cell-range-address"]);var Se={Name:s.name,Ref:Le[0]+"!"+Le[1]};fe&&(Se.Sheet=_.length),De.Names.push(Se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(T[1]==="/"&&(!k||!k["string-value"])){var it=Mne(n.slice(F,T.index));R=(R.length>0?R+`
`:"")+it[0]}else St(T[0],!1),F=T.index+T[0].length;break;case"s":break;case"database-range":if(T[1]==="/")break;try{Le=H2(St(T[0])["target-range-address"]),v[Le[0]]["!autofilter"]={ref:Le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(T[1]!=="/"){if(he=St(T[0],!1),!he.href)break;he.Target=hr(he.href),delete he.href,he.Target.charAt(0)=="#"&&he.Target.indexOf(".")>-1?(Le=H2(he.Target.slice(1)),he.Target="#"+Le[0]+"!"+Le[1]):he.Target.match(/^\.\.[\\\/]/)&&(he.Target=he.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(T[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(T)}}var ie={Sheets:v,SheetNames:_,Workbook:De};return r.bookSheets&&delete ie.Sheets,ie}function j4(t,e){e=e||{},Za(t,"META-INF/manifest.xml")&&$Y(Tn(t,"META-INF/manifest.xml"),e);var r=ka(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=dk(Or(r),e);return Za(t,"meta.xml")&&(n.Props=T6(Tn(t,"meta.xml"))),n}function G4(t,e){return dk(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function WC(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Or(Rc(t))}function Qw(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function K4(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function One(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function jh(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function jn(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Fi(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=jh(t,r),a=i&7;i=Math.floor(i/8);var s=0,A;if(i==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);A=t.slice(c,r[0])}break;case 5:s=4,A=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,A=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=jh(t,r),A=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:A,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function XC(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function Lne(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=jh(t,n),a=Fi(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:jn(a[1][0].data),messages:[]};a[2].forEach(function(A){var c=Fi(A.data),u=jn(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=jn(a[3][0].data)>>>0>0),r.push(s)}return r}function Pne(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=jh(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var A=s-59;s=e[r[0]],A>1&&(s|=e[r[0]+1]<<8),A>2&&(s|=e[r[0]+2]<<16),A>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=A}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Qw(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var h=Qw(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function Qne(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Pne(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Qw(e)}function Hne(t,e,r,n){var i=WC(t),a=i.getUint32(4,!0),s=(n>1?12:8)+K4(a&(n>1?3470:398))*4,A=-1,c=-1,u=NaN,h=new Date(2001,0,1);a&512&&(A=i.getUint32(s,!0),s+=4),s+=K4(a&(n>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(h.setTime(h.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var m;switch(t[2]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:e[c]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u/86400};break;case 8:m={t:"e",v:0};break;case 9:if(A>-1)m={t:"s",v:r[A]};else if(c>-1)m={t:"s",v:e[c]};else if(!isNaN(u))m={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return m}function Vne(t,e,r){var n=WC(t),i=n.getUint32(8,!0),a=12,s=-1,A=-1,c=NaN,u=NaN,h=new Date(2001,0,1);i&1&&(c=One(t,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(h.setTime(h.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(A=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var m;switch(t[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:e[A]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u/86400};break;case 8:m={t:"e",v:0};break;case 9:if(s>-1)m={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return m}function jne(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Hne(t,e,r,t[0]);case 5:return Vne(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ZA(t){var e=Fi(t);return jh(e[1][0].data)}function z4(t,e){var r=Fi(e.data),n=jn(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var A=Fi(s.data),c=jn(A[1][0].data)>>>0;switch(n){case 1:a[c]=Pw(A[3][0].data);break;case 8:{var u=t[ZA(A[9][0].data)][0],h=Fi(u.data),m=t[ZA(h[1][0].data)][0],v=jn(m.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var _=Fi(m.data);a[c]=_[3].map(function(b){return Pw(b.data)}).join("")}break}}),a}function Gne(t,e){var r,n,i,a,s,A,c,u,h,m,v,_,b,T,I=Fi(t),k=jn(I[1][0].data)>>>0,R=jn(I[2][0].data)>>>0,F=((n=(r=I[8])==null?void 0:r[0])==null?void 0:n.data)&&jn(I[8][0].data)>0||!1,L,W;if((a=(i=I[7])==null?void 0:i[0])!=null&&a.data&&e!=0)L=(A=(s=I[7])==null?void 0:s[0])==null?void 0:A.data,W=(u=(c=I[6])==null?void 0:c[0])==null?void 0:u.data;else if((m=(h=I[4])==null?void 0:h[0])!=null&&m.data&&e!=1)L=(_=(v=I[4])==null?void 0:v[0])==null?void 0:_.data,W=(T=(b=I[3])==null?void 0:b[0])==null?void 0:T.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=F?4:1,N=WC(L),M=[],D=0;D<L.length/2;++D){var Q=N.getUint16(D*2,!0);Q<65535&&M.push([D,Q])}if(M.length!=R)throw"Expected ".concat(R," cells, found ").concat(M.length);var G=[];for(D=0;D<M.length-1;++D)G[M[D][0]]=W.subarray(M[D][1]*P,M[D+1][1]*P);return M.length>=1&&(G[M[M.length-1][0]]=W.subarray(M[M.length-1][1]*P)),{R:k,cells:G}}function Kne(t,e){var r,n=Fi(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?jn(n[7][0].data)>>>0>0?1:0:-1,a=XC(n[5],function(s){return Gne(s,i)});return{nrows:jn(n[4][0].data)>>>0,data:a.reduce(function(s,A){return s[A.R]||(s[A.R]=[]),A.cells.forEach(function(c,u){if(s[A.R][u])throw new Error("Duplicate cell r=".concat(A.R," c=").concat(u));s[A.R][u]=c}),s},[])}}function zne(t,e,r){var n,i=Fi(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(jn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(jn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=cr(a);var s=Fi(i[4][0].data),A=z4(t,t[ZA(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?z4(t,t[ZA(s[17][0].data)][0]):[],u=Fi(s[3][0].data),h=0;u[1].forEach(function(m){var v=Fi(m.data),_=t[ZA(v[2][0].data)][0],b=jn(_.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var T=Kne(t,_);T.data.forEach(function(I,k){I.forEach(function(R,F){var L=kt({r:h+k,c:F}),W=jne(R,A,c);W&&(r[L]=W)})}),h+=T.nrows})}function Wne(t,e){var r=Fi(e.data),n={"!ref":"A1"},i=t[ZA(r[2][0].data)],a=jn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return zne(t,i[0],n),n}function Xne(t,e){var r,n=Fi(e.data),i={name:(r=n[1])!=null&&r[0]?Pw(n[1][0].data):"",sheets:[]},a=XC(n[2],ZA);return a.forEach(function(s){t[s].forEach(function(A){var c=jn(A.meta[1][0].data);c==6e3&&i.sheets.push(Wne(t,A))})}),i}function qne(t,e){var r=JC(),n=Fi(e.data),i=XC(n[1],ZA);if(i.forEach(function(a){t[a].forEach(function(s){var A=jn(s.meta[1][0].data);if(A==2){var c=Xne(t,s);c.sheets.forEach(function(u,h){$C(r,u,h==0?c.name:c.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function j2(t){var e,r,n,i,a={},s=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Qne(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var h;try{h=Lne(u)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){a[m.id]=m.messages,s.push(m.id)})}}),!s.length)throw new Error("File has no messages");var A=((i=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&jn(a[1][0].meta[1][0].data)==1&&a[1][0];if(A||s.forEach(function(c){a[c].forEach(function(u){var h=jn(u.meta[1][0].data)>>>0;if(h==1)if(!A)A=u;else throw new Error("Document has multiple roots")})}),!A)throw new Error("Cannot find Document root");return qne(a,A)}function Yne(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function qC(t){Yne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Jne(t){return Iu.WS.indexOf(t)>-1?"sheet":t==Iu.CS?"chart":t==Iu.DS?"dialog":t==Iu.MS?"macro":t&&t.length?t:"sheet"}function $ne(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Jne(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Zne(t,e,r,n,i,a,s,A,c,u,h,m){try{a[n]=oh(ka(t,r,!0),e);var v=Tn(t,e),_;switch(A){case"sheet":_=ane(v,e,i,c,a[n],u,h,m);break;case"chart":if(_=sne(v,e,i,c,a[n],u,h,m),!_||!_["!drawel"])break;var b=Rf(_["!drawel"].Target,e),T=kw(b),I=iee(ka(t,b,!0),oh(ka(t,T,!0),b)),k=Rf(I,b),R=kw(k);_=Vre(ka(t,k,!0),k,c,oh(ka(t,R,!0),k),u,_);break;case"macro":_=one(v,e,i,c,a[n],u,h,m);break;case"dialog":_=Ane(v,e,i,c,a[n],u,h,m);break;default:throw new Error("Unrecognized sheet type "+A)}s[n]=_;var F=[];a&&a[n]&&co(a[n]).forEach(function(L){var W="";if(a[n][L].Type==Iu.CMNT){W=Rf(a[n][L].Target,e);var P=fne(Tn(t,W,!0),W,c);if(!P||!P.length)return;F4(_,P,!1)}a[n][L].Type==Iu.TCMNT&&(W=Rf(a[n][L].Target,e),F=F.concat(see(Tn(t,W,!0),c)))}),F&&F.length&&F4(_,F,!0,c.people||[])}catch(L){if(c.WTF)throw L}}function qa(t){return t.charAt(0)=="/"?t.slice(1):t}function eie(t,e){if($D(),e=e||{},qC(e),Za(t,"META-INF/manifest.xml")||Za(t,"objectdata.xml"))return j4(t,e);if(Za(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof j2<"u"){if(t.FileIndex)return j2(t);var r=lr.utils.cfb_new();return i4(t).forEach(function(Ce){tY(r,Ce,eY(t,Ce))}),j2(r)}throw new Error("Unsupported NUMBERS file")}if(!Za(t,"[Content_Types].xml"))throw Za(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Za(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=i4(t),i=YY(ka(t,"[Content_Types].xml")),a=!1,s,A;if(i.workbooks.length===0&&(A="xl/workbook.xml",Tn(t,A,!0)&&i.workbooks.push(A)),i.workbooks.length===0){if(A="xl/workbook.bin",!Tn(t,A,!0))throw new Error("Could not find workbook");i.workbooks.push(A),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!e.bookSheets&&!e.bookProps){if(ch=[],i.sst)try{ch=une(Tn(t,qa(i.sst)),i.sst,e)}catch(Ce){if(e.WTF)throw Ce}e.cellStyles&&i.themes.length&&(c=cne(ka(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=lne(Tn(t,qa(i.style)),i.style,c,e))}i.links.map(function(Ce){try{var le=oh(ka(t,kw(qa(Ce))),Ce);return dne(Tn(t,qa(Ce)),le,Ce,e)}catch{}});var h=ine(Tn(t,qa(i.workbooks[0])),i.workbooks[0],e),m={},v="";i.coreprops.length&&(v=Tn(t,qa(i.coreprops[0]),!0),v&&(m=T6(v)),i.extprops.length!==0&&(v=Tn(t,qa(i.extprops[0]),!0),v&&tJ(v,m,e)));var _={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(v=ka(t,qa(i.custprops[0]),!0),v&&(_=nJ(v,e)));var b={};if((e.bookSheets||e.bookProps)&&(h.Sheets?s=h.Sheets.map(function(le){return le.name}):m.Worksheets&&m.SheetNames.length>0&&(s=m.SheetNames),e.bookProps&&(b.Props=m,b.Custprops=_),e.bookSheets&&typeof s<"u"&&(b.SheetNames=s),e.bookSheets?b.SheetNames:e.bookProps))return b;s={};var T={};e.bookDeps&&i.calcchain&&(T=hne(Tn(t,qa(i.calcchain)),i.calcchain));var I=0,k={},R,F;{var L=h.Sheets;m.Worksheets=L.length,m.SheetNames=[];for(var W=0;W!=L.length;++W)m.SheetNames[W]=L[W].name}var P=a?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),M=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Za(t,M)||(M="xl/_rels/workbook."+P+".rels");var D=oh(ka(t,M,!0),M.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=gne(Tn(t,qa(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=oee(Tn(t,qa(i.people[0])),e)),D&&(D=$ne(D,h.Sheets));var Q=Tn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(I=0;I!=m.Worksheets;++I){var G="sheet";if(D&&D[I]?(R="xl/"+D[I][1].replace(/[\/]?xl\//,""),Za(t,R)||(R=D[I][1]),Za(t,R)||(R=M.replace(/_rels\/.*$/,"")+D[I][1]),G=D[I][2]):(R="xl/worksheets/sheet"+(I+1-Q)+"."+P,R=R.replace(/sheet0\./,"sheet.")),F=R.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(I!=e.sheets)continue e;break;case"string":if(m.SheetNames[I].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var j=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==I&&(j=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==m.SheetNames[I].toLowerCase()&&(j=1);if(!j)continue e}}Zne(t,R,F,m.SheetNames[I],I,k,s,G,e,h,c,u)}return b={Directory:i,Workbook:h,Props:m,Custprops:_,Deps:T,Sheets:s,SheetNames:m.SheetNames,Strings:ch,Styles:u,Themes:c,SSF:mi(jt)},e&&e.bookFiles&&(t.files?(b.keys=n,b.files=t.files):(b.keys=[],b.files={},t.FullPaths.forEach(function(Ce,le){Ce=Ce.replace(/^Root Entry[\/]/,""),b.keys.push(Ce),b.files[Ce]=t.FileIndex[le]}))),e&&e.bookVBA&&(i.vba.length>0?b.vbaraw=Tn(t,qa(i.vba[0]),!0):i.defaults&&i.defaults.bin===uee&&(b.vbaraw=Tn(t,"xl/vbaProject.bin",!0))),b}function tie(t,e){var r=e||{},n="Workbook",i=lr.find(t,n);try{if(n="/!DataSpaces/Version",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(W$(i.content),n="/!DataSpaces/DataSpaceMap",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=q$(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Y$(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);$$(i.content)}catch{}if(n="/EncryptionInfo",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var A=Z$(i.content);if(n="/EncryptedPackage",i=lr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(A[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(A[1],i.content,r.password||"",r);if(A[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(A[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function YC(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ga(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function rie(t,e){return lr.find(t,"EncryptedPackage")?tie(t,e):uk(t,e)}function nie(t,e){var r,n=t,i=e||{};return i.type||(i.type=ar&&Buffer.isBuffer(t)?"buffer":"base64"),r=i6(n,i),eie(r,i)}function gk(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Ow(t.slice(r),e);default:break e}return Qh.to_workbook(t,e)}function iie(t,e){var r="",n=YC(t,e);switch(e.type){case"base64":r=Ga(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=gc(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Or(r)),e.type="binary",gk(r,e)}function aie(t,e){var r=t;return e.type=="base64"&&(r=Ga(r)),r=Mh.utils.decode(1200,r.slice(2),"str"),e.type="binary",gk(r,e)}function sie(t){return t.match(/[^\x00-\x7F]/)?Df(t):t}function G2(t,e,r,n){return n?(r.type="string",Qh.to_workbook(t,r)):Qh.to_workbook(e,r)}function Hw(t,e){QD();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Hw(new Uint8Array(t),(r=mi(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ku={},r.dateNF&&(Ku.dateNF=r.dateNF),r.type||(r.type=ar&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=ar?"buffer":"binary",n=Wq(t),typeof Uint8Array<"u"&&!ar&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=sie(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),A=new Uint8Array(s);if(A.foo="bar",!A.foo)return r=mi(r),r.type="array",Hw(SC(n),r)}switch((i=YC(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return rie(lr.read(n,r),r);break;case 9:if(i[1]<=8)return uk(n,r);break;case 60:return Ow(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return k$(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return R$.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?nie(n,r):G2(t,n,r,a);case 239:return i[3]===60?Ow(n,r):G2(t,n,r,a);case 255:if(i[1]===254)return aie(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return lh.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return lh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return N4.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return uZ.to_workbook(n,r);break;case 10:case 13:case 32:return iie(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return N$.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?N4.to_workbook(n,r):G2(t,n,r,a)}function oie(t,e,r,n,i,a,s,A){var c=xi(r),u=A.defval,h=A.raw||!Object.prototype.hasOwnProperty.call(A,"raw"),m=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!s||t[r])for(var _=e.s.c;_<=e.e.c;++_){var b=s?t[r][_]:t[n[_]+c];if(b===void 0||b.t===void 0){if(u===void 0)continue;a[_]!=null&&(v[a[_]]=u);continue}var T=b.v;switch(b.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(a[_]!=null){if(T==null)if(b.t=="e"&&T===null)v[a[_]]=null;else if(u!==void 0)v[a[_]]=u;else if(h&&T===null)v[a[_]]=null;else continue;else v[a[_]]=h&&(b.t!=="n"||b.t==="n"&&A.rawNumbers!==!1)?T:$o(b,T,A);T!=null&&(m=!1)}}return{row:v,isempty:m}}function Vw(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,A="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":c=fn(h);break;case"number":c=fn(t["!ref"]),c.s.r=h;break;default:c=h}n>0&&(i=0);var m=xi(c.s.r),v=[],_=[],b=0,T=0,I=Array.isArray(t),k=c.s.r,R=0,F={};I&&!t[k]&&(t[k]=[]);var L=u.skipHidden&&t["!cols"]||[],W=u.skipHidden&&t["!rows"]||[];for(R=c.s.c;R<=c.e.c;++R)if(!(L[R]||{}).hidden)switch(v[R]=Vn(R),r=I?t[k][R]:t[v[R]+m],n){case 1:a[R]=R-c.s.c;break;case 2:a[R]=v[R];break;case 3:a[R]=u.header[R-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),A=s=$o(r,null,u),T=F[s]||0,!T)F[s]=1;else{do A=s+"_"+T++;while(F[A]);F[s]=T,F[A]=1}a[R]=A}for(k=c.s.r+i;k<=c.e.r;++k)if(!(W[k]||{}).hidden){var P=oie(t,c,k,v,n,a,I,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(_[b++]=P.row)}return _.length=b,_}var W4=/"/g;function Aie(t,e,r,n,i,a,s,A){for(var c=!0,u=[],h="",m=xi(r),v=e.s.c;v<=e.e.c;++v)if(n[v]){var _=A.dense?(t[r]||[])[v]:t[n[v]+m];if(_==null)h="";else if(_.v!=null){c=!1,h=""+(A.rawNumbers&&_.t=="n"?_.v:$o(_,null,A));for(var b=0,T=0;b!==h.length;++b)if((T=h.charCodeAt(b))===i||T===a||T===34||A.forceQuotes){h='"'+h.replace(W4,'""')+'"';break}h=="ID"&&(h='"ID"')}else _.f!=null&&!_.F?(c=!1,h="="+_.f,h.indexOf(",")>=0&&(h='"'+h.replace(W4,'""')+'"')):h="";u.push(h)}return A.blankrows===!1&&c?null:u.join(s)}function pk(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=fn(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),A=n.RS!==void 0?n.RS:`
`,c=A.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),h="",m=[];n.dense=Array.isArray(t);for(var v=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(v[b]||{}).hidden||(m[b]=Vn(b));for(var T=0,I=i.s.r;I<=i.e.r;++I)(_[I]||{}).hidden||(h=Aie(t,i,I,m,s,c,a,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((T++?A:"")+h)));return delete n.dense,r.join("")}function lie(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=pk(t,e);return r}function cie(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=fn(t["!ref"]),a="",s=[],A,c=[],u=Array.isArray(t);for(A=i.s.c;A<=i.e.c;++A)s[A]=Vn(A);for(var h=i.s.r;h<=i.e.r;++h)for(a=xi(h),A=i.s.c;A<=i.e.c;++A)if(e=s[A]+a,r=u?(t[h]||[])[A]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function mk(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,A=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Ki(n.origin):n.origin;s=c.r,A=c.c}var u,h={s:{c:0,r:0},e:{c:A,r:s+e.length-1+i}};if(a["!ref"]){var m=fn(a["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),s==-1&&(s=m.e.r+1,h.e.r=s+e.length-1+i)}else s==-1&&(s=0,h.e.r=e.length-1+i);var v=n.header||[],_=0;e.forEach(function(T,I){co(T).forEach(function(k){(_=v.indexOf(k))==-1&&(v[_=v.length]=k);var R=T[k],F="z",L="",W=kt({c:A+_,r:s+I+i});u=Gh(a,W),R&&typeof R=="object"&&!(R instanceof Date)?a[W]=R:(typeof R=="number"?F="n":typeof R=="boolean"?F="b":typeof R=="string"?F="s":R instanceof Date?(F="d",n.cellDates||(F="n",R=Xi(R)),L=n.dateNF||jt[14]):R===null&&n.nullError&&(F="e",R=0),u?(u.t=F,u.v=R,delete u.w,delete u.R,L&&(u.z=L)):a[W]=u={t:F,v:R},L&&(u.z=L))})}),h.e.c=Math.max(h.e.c,A+v.length-1);var b=xi(s);if(i)for(_=0;_<v.length;++_)a[Vn(_+A)+b]={t:"s",v:v[_]};return a["!ref"]=cr(h),a}function uie(t,e){return mk(null,t,e)}function Gh(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ki(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Gh(t,kt(e)):Gh(t,kt({r:e,c:r||0}))}function fie(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function JC(){return{SheetNames:[],Sheets:{}}}function $C(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(Yre(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function hie(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=fie(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function die(t,e){return t.z=e,t}function xk(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function gie(t,e,r){return xk(t,"#"+e,r)}function pie(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function mie(t,e,r,n){for(var i=typeof e!="string"?e:fn(e),a=typeof e=="string"?e:cr(e),s=i.s.r;s<=i.e.r;++s)for(var A=i.s.c;A<=i.e.c;++A){var c=Gh(t,s,A);c.t="n",c.F=a,delete c.v,s==i.s.r&&A==i.s.c&&(c.f=r,n&&(c.D=!0))}return t}var xie={encode_col:Vn,encode_row:xi,encode_cell:kt,encode_range:cr,decode_col:OC,decode_row:MC,split_cell:IY,decode_cell:Ki,decode_range:k0,format_cell:$o,sheet_add_aoa:E6,sheet_add_json:mk,sheet_add_dom:fk,aoa_to_sheet:U0,json_to_sheet:uie,table_to_sheet:hk,table_to_book:kne,sheet_to_csv:pk,sheet_to_txt:lie,sheet_to_json:Vw,sheet_to_html:Dne,sheet_to_formulae:cie,sheet_to_row_object_array:Vw,sheet_get_cell:Gh,book_new:JC,book_append_sheet:$C,book_set_sheet_visibility:hie,cell_set_number_format:die,cell_set_hyperlink:xk,cell_set_internal_link:gie,cell_add_comment:pie,sheet_set_array_formula:mie,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},mt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var X4=new Map([[mt.QR_CODE,"QR_CODE"],[mt.AZTEC,"AZTEC"],[mt.CODABAR,"CODABAR"],[mt.CODE_39,"CODE_39"],[mt.CODE_93,"CODE_93"],[mt.CODE_128,"CODE_128"],[mt.DATA_MATRIX,"DATA_MATRIX"],[mt.MAXICODE,"MAXICODE"],[mt.ITF,"ITF"],[mt.EAN_13,"EAN_13"],[mt.EAN_8,"EAN_8"],[mt.PDF_417,"PDF_417"],[mt.RSS_14,"RSS_14"],[mt.RSS_EXPANDED,"RSS_EXPANDED"],[mt.UPC_A,"UPC_A"],[mt.UPC_E,"UPC_E"],[mt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),q4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(q4||(q4={}));function vie(t){return Object.values(mt).includes(t)}var Fp;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Fp||(Fp={}));var wie=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Fp.SCAN_TYPE_CAMERA,Fp.SCAN_TYPE_FILE],t}(),vk=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!X4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,X4.get(e))},t}(),Y4=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),jw;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(jw||(jw={}));var yie=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:jw.UNKWOWN_ERROR}},t}(),Eie=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Ro(t){return typeof t>"u"||t===null}var Nu=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),wk=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(e),A=0,c=s;A<c.length;A++){var u=c[A];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t}(),Gw={exports:{}};(function(t,e){(function(r,n){n(e)})(X0,function(r){function n(K){return K==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,o){K.__proto__=o}||function(K,o){for(var l in o)o.hasOwnProperty(l)&&(K[l]=o[l])};function a(K,o){i(K,o);function l(){this.constructor=K}K.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}function s(K,o){var l=Object.setPrototypeOf;l?l(K,o):K.__proto__=o}function A(K,o){o===void 0&&(o=K.constructor);var l=Error.captureStackTrace;l&&l(K,o)}var c=function(K){a(o,K);function o(l){var f=this.constructor,g=K.call(this,l)||this;return Object.defineProperty(g,"name",{value:f.name,enumerable:!1}),s(g,f.prototype),A(g),g}return o}(Error);class u extends c{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class v{constructor(o){if(this.binarizer=o,o===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,l){return this.binarizer.getBlackRow(o,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,l,f,g){const p=this.binarizer.getLuminanceSource().crop(o,l,f,g);return new v(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends u{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class b{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(o,l,f,g,p){for(;p--;)f[g++]=o[l++]}static currentTimeMillis(){return Date.now()}}class I extends u{}I.kind="IndexOutOfBoundsException";class k extends I{constructor(o=void 0,l=void 0){super(l),this.index=o,this.message=l}}k.kind="ArrayIndexOutOfBoundsException";class R{static fill(o,l){for(let f=0,g=o.length;f<g;f++)o[f]=l}static fillWithin(o,l,f,g){R.rangeCheck(o.length,l,f);for(let p=l;p<f;p++)o[p]=g}static rangeCheck(o,l,f){if(l>f)throw new m("fromIndex("+l+") > toIndex("+f+")");if(l<0)throw new k(l);if(f>o)throw new k(f)}static asList(...o){return o}static create(o,l,f){return Array.from({length:o}).map(p=>Array.from({length:l}).fill(f))}static createInt32Array(o,l,f){return Array.from({length:o}).map(p=>Int32Array.from({length:l}).fill(f))}static equals(o,l){if(!o||!l||!o.length||!l.length||o.length!==l.length)return!1;for(let f=0,g=o.length;f<g;f++)if(o[f]!==l[f])return!1;return!0}static hashCode(o){if(o===null)return 0;let l=1;for(const f of o)l=31*l+f;return l}static fillUint8Array(o,l){for(let f=0;f!==o.length;f++)o[f]=l}static copyOf(o,l){return o.slice(0,l)}static copyOfUint8Array(o,l){if(o.length<=l){const f=new Uint8Array(l);return f.set(o),f}return o.slice(0,l)}static copyOfRange(o,l,f){const g=f-l,p=new Int32Array(g);return T.arraycopy(o,l,p,0,g),p}static binarySearch(o,l,f){f===void 0&&(f=R.numberComparator);let g=0,p=o.length-1;for(;g<=p;){const x=p+g>>1,y=f(l,o[x]);if(y>0)g=x+1;else if(y<0)p=x-1;else return x}return-g-1}static numberComparator(o,l){return o-l}}class F{static numberOfTrailingZeros(o){let l;if(o===0)return 32;let f=31;return l=o<<16,l!==0&&(f-=16,o=l),l=o<<8,l!==0&&(f-=8,o=l),l=o<<4,l!==0&&(f-=4,o=l),l=o<<2,l!==0&&(f-=2,o=l),f-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let l=1;return o>>>16||(l+=16,o<<=16),o>>>24||(l+=8,o<<=8),o>>>28||(l+=4,o<<=4),o>>>30||(l+=2,o<<=2),l-=o>>>31,l}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,l){return Math.trunc(o/l)}static parseInt(o,l=void 0){return parseInt(o,l)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(o,l){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,l==null?this.bits=L.makeArray(o):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const l=L.makeArray(o);T.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const l=this.size;if(o>=l)return l;const f=this.bits;let g=Math.floor(o/32),p=f[g];p&=~((1<<(o&31))-1);const x=f.length;for(;p===0;){if(++g===x)return l;p=f[g]}const y=g*32+F.numberOfTrailingZeros(p);return y>l?l:y}getNextUnset(o){const l=this.size;if(o>=l)return l;const f=this.bits;let g=Math.floor(o/32),p=~f[g];p&=~((1<<(o&31))-1);const x=f.length;for(;p===0;){if(++g===x)return l;p=~f[g]}const y=g*32+F.numberOfTrailingZeros(p);return y>l?l:y}setBulk(o,l){this.bits[Math.floor(o/32)]=l}setRange(o,l){if(l<o||o<0||l>this.size)throw new m;if(l===o)return;l--;const f=Math.floor(o/32),g=Math.floor(l/32),p=this.bits;for(let x=f;x<=g;x++){const y=x>f?0:o&31,S=(2<<(x<g?31:l&31))-(1<<y);p[x]|=S}}clear(){const o=this.bits.length,l=this.bits;for(let f=0;f<o;f++)l[f]=0}isRange(o,l,f){if(l<o||o<0||l>this.size)throw new m;if(l===o)return!0;l--;const g=Math.floor(o/32),p=Math.floor(l/32),x=this.bits;for(let y=g;y<=p;y++){const B=y>g?0:o&31,O=(2<<(y<p?31:l&31))-(1<<B)&4294967295;if((x[y]&O)!==(f?O:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,l){if(l<0||l>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let f=l;f>0;f--)this.appendBit((o>>f-1&1)===1)}appendBitArray(o){const l=o.size;this.ensureCapacity(this.size+l);for(let f=0;f<l;f++)this.appendBit(o.get(f))}xor(o){if(this.size!==o.size)throw new m("Sizes don't match");const l=this.bits;for(let f=0,g=l.length;f<g;f++)l[f]^=o.bits[f]}toBytes(o,l,f,g){for(let p=0;p<g;p++){let x=0;for(let y=0;y<8;y++)this.get(o)&&(x|=1<<7-y),o++;l[f+p]=x}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),f=l+1,g=this.bits;for(let p=0;p<f;p++){let x=g[p];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,o[l-p]=x}if(this.size!==f*32){const p=f*32-this.size;let x=o[0]>>>p;for(let y=1;y<f;y++){const B=o[y];x|=B<<32-p,o[y-1]=x,x=B>>>p}o[f-1]=x}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof L))return!1;const l=o;return this.size===l.size&&R.equals(this.bits,l.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let o="";for(let l=0,f=this.size;l<f;l++)l&7||(o+=" "),o+=this.get(l)?"X":".";return o}clone(){return new L(this.size,this.bits.slice())}}var W;(function(K){K[K.OTHER=0]="OTHER",K[K.PURE_BARCODE=1]="PURE_BARCODE",K[K.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",K[K.TRY_HARDER=3]="TRY_HARDER",K[K.CHARACTER_SET=4]="CHARACTER_SET",K[K.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",K[K.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",K[K.ASSUME_GS1=7]="ASSUME_GS1",K[K.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",K[K.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",K[K.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var P=W;class N extends u{static getFormatInstance(){return new N}}N.kind="FormatException";var M;(function(K){K[K.Cp437=0]="Cp437",K[K.ISO8859_1=1]="ISO8859_1",K[K.ISO8859_2=2]="ISO8859_2",K[K.ISO8859_3=3]="ISO8859_3",K[K.ISO8859_4=4]="ISO8859_4",K[K.ISO8859_5=5]="ISO8859_5",K[K.ISO8859_6=6]="ISO8859_6",K[K.ISO8859_7=7]="ISO8859_7",K[K.ISO8859_8=8]="ISO8859_8",K[K.ISO8859_9=9]="ISO8859_9",K[K.ISO8859_10=10]="ISO8859_10",K[K.ISO8859_11=11]="ISO8859_11",K[K.ISO8859_13=12]="ISO8859_13",K[K.ISO8859_14=13]="ISO8859_14",K[K.ISO8859_15=14]="ISO8859_15",K[K.ISO8859_16=15]="ISO8859_16",K[K.SJIS=16]="SJIS",K[K.Cp1250=17]="Cp1250",K[K.Cp1251=18]="Cp1251",K[K.Cp1252=19]="Cp1252",K[K.Cp1256=20]="Cp1256",K[K.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",K[K.UTF8=22]="UTF8",K[K.ASCII=23]="ASCII",K[K.Big5=24]="Big5",K[K.GB18030=25]="GB18030",K[K.EUC_KR=26]="EUC_KR"})(M||(M={}));class D{constructor(o,l,f,...g){this.valueIdentifier=o,this.name=f,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=g,D.VALUE_IDENTIFIER_TO_ECI.set(o,this),D.NAME_TO_ECI.set(f,this);const p=this.values;for(let x=0,y=p.length;x!==y;x++){const B=p[x];D.VALUES_TO_ECI.set(B,this)}for(const x of g)D.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new N("incorect value");const l=D.VALUES_TO_ECI.get(o);if(l===void 0)throw new N("incorect value");return l}static getCharacterSetECIByName(o){const l=D.NAME_TO_ECI.get(o);if(l===void 0)throw new N("incorect value");return l}equals(o){if(!(o instanceof D))return!1;const l=o;return this.getName()===l.getName()}}D.VALUE_IDENTIFIER_TO_ECI=new Map,D.VALUES_TO_ECI=new Map,D.NAME_TO_ECI=new Map,D.Cp437=new D(M.Cp437,Int32Array.from([0,2]),"Cp437"),D.ISO8859_1=new D(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),D.ISO8859_2=new D(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),D.ISO8859_3=new D(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),D.ISO8859_4=new D(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),D.ISO8859_5=new D(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),D.ISO8859_6=new D(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),D.ISO8859_7=new D(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),D.ISO8859_8=new D(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),D.ISO8859_9=new D(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),D.ISO8859_10=new D(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),D.ISO8859_11=new D(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),D.ISO8859_13=new D(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),D.ISO8859_14=new D(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),D.ISO8859_15=new D(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),D.ISO8859_16=new D(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),D.SJIS=new D(M.SJIS,20,"SJIS","Shift_JIS"),D.Cp1250=new D(M.Cp1250,21,"Cp1250","windows-1250"),D.Cp1251=new D(M.Cp1251,22,"Cp1251","windows-1251"),D.Cp1252=new D(M.Cp1252,23,"Cp1252","windows-1252"),D.Cp1256=new D(M.Cp1256,24,"Cp1256","windows-1256"),D.UnicodeBigUnmarked=new D(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),D.UTF8=new D(M.UTF8,26,"UTF8","UTF-8"),D.ASCII=new D(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),D.Big5=new D(M.Big5,28,"Big5"),D.GB18030=new D(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),D.EUC_KR=new D(M.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends u{}Q.kind="UnsupportedOperationException";class G{static decode(o,l){const f=this.encodingName(l);return this.customDecoder?this.customDecoder(o,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(o,f):new TextDecoder(f).decode(o)}static shouldDecodeOnFallback(o){return!G.isBrowser()&&o==="ISO-8859-1"}static encode(o,l){const f=this.encodingName(l);return this.customEncoder?this.customEncoder(o,f):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof D?o:D.getCharacterSetECIByName(o)}static decodeFallback(o,l){const f=this.encodingCharacterSet(l);if(G.isDecodeFallbackSupported(f)){let g="";for(let p=0,x=o.length;p<x;p++){let y=o[p].toString(16);y.length<2&&(y="0"+y),g+="%"+y}return decodeURIComponent(g)}if(f.equals(D.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Q(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(D.UTF8)||o.equals(D.ISO8859_1)||o.equals(D.ASCII)}static encodeFallback(o){const f=btoa(unescape(encodeURIComponent(o))).split(""),g=[];for(let p=0;p<f.length;p++)g.push(f[p].charCodeAt(0));return new Uint8Array(g)}}class j{static castAsNonUtf8Char(o,l=null){const f=l?l.getName():this.ISO88591;return G.decode(new Uint8Array([o]),f)}static guessEncoding(o,l){if(l!=null&&l.get(P.CHARACTER_SET)!==void 0)return l.get(P.CHARACTER_SET).toString();const f=o.length;let g=!0,p=!0,x=!0,y=0,B=0,S=0,O=0,z=0,q=0,Ae=0,pe=0,ve=0,Ie=0,Oe=0;const nt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let at=0;at<f&&(g||p||x);at++){const Ye=o[at]&255;x&&(y>0?Ye&128?y--:x=!1:Ye&128&&(Ye&64?(y++,Ye&32?(y++,Ye&16?(y++,Ye&8?x=!1:O++):S++):B++):x=!1)),g&&(Ye>127&&Ye<160?g=!1:Ye>159&&(Ye<192||Ye===215||Ye===247)&&Oe++),p&&(z>0?Ye<64||Ye===127||Ye>252?p=!1:z--:Ye===128||Ye===160||Ye>239?p=!1:Ye>160&&Ye<224?(q++,pe=0,Ae++,Ae>ve&&(ve=Ae)):Ye>127?(z++,Ae=0,pe++,pe>Ie&&(Ie=pe)):(Ae=0,pe=0))}return x&&y>0&&(x=!1),p&&z>0&&(p=!1),x&&(nt||B+S+O>0)?j.UTF8:p&&(j.ASSUME_SHIFT_JIS||ve>=3||Ie>=3)?j.SHIFT_JIS:g&&p?ve===2&&q===2||Oe*10>=f?j.SHIFT_JIS:j.ISO88591:g?j.ISO88591:p?j.SHIFT_JIS:x?j.UTF8:j.PLATFORM_DEFAULT_ENCODING}static format(o,...l){let f=-1;function g(x,y,B,S,O,z){if(x==="%%")return"%";if(l[++f]===void 0)return;x=S?parseInt(S.substr(1)):void 0;let q=O?parseInt(O.substr(1)):void 0,Ae;switch(z){case"s":Ae=l[f];break;case"c":Ae=l[f][0];break;case"f":Ae=parseFloat(l[f]).toFixed(x);break;case"p":Ae=parseFloat(l[f]).toPrecision(x);break;case"e":Ae=parseFloat(l[f]).toExponential(x);break;case"x":Ae=parseInt(l[f]).toString(q||16);break;case"d":Ae=parseFloat(parseInt(l[f],q||10).toPrecision(x)).toFixed(0);break}Ae=typeof Ae=="object"?JSON.stringify(Ae):(+Ae).toString(q);let pe=parseInt(B),ve=B&&B[0]+""=="0"?"0":" ";for(;Ae.length<pe;)Ae=y!==void 0?Ae+ve:ve+Ae;return Ae}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(p,g)}static getBytes(o,l){return G.encode(o,l)}static getCharCode(o,l=0){return o.charCodeAt(l)}static getCharAt(o){return String.fromCharCode(o)}}j.SHIFT_JIS=D.SJIS.getName(),j.GB2312="GB2312",j.ISO88591=D.ISO8859_1.getName(),j.EUC_JP="EUC_JP",j.UTF8=D.UTF8.getName(),j.PLATFORM_DEFAULT_ENCODING=j.UTF8,j.ASSUME_SHIFT_JIS=!1;class V{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=j.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,l,f){for(let g=l;l<l+f;g++)this.append(o[g]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+1)}substring(o,l){return this.value.substring(o,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+l.length)}}class Ce{constructor(o,l,f,g){if(this.width=o,this.height=l,this.rowSize=f,this.bits=g,l==null&&(l=o),this.height=l,o<1||l<1)throw new m("Both dimensions must be greater than 0");f==null&&(f=Math.floor((o+31)/32)),this.rowSize=f,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const l=o.length,f=o[0].length,g=new Ce(f,l);for(let p=0;p<l;p++){const x=o[p];for(let y=0;y<f;y++)x[y]&&g.set(y,p)}return g}static parseFromString(o,l,f){if(o===null)throw new m("stringRepresentation cannot be null");const g=new Array(o.length);let p=0,x=0,y=-1,B=0,S=0;for(;S<o.length;)if(o.charAt(S)===`
`||o.charAt(S)==="\r"){if(p>x){if(y===-1)y=p-x;else if(p-x!==y)throw new m("row lengths do not match");x=p,B++}S++}else if(o.substring(S,S+l.length)===l)S+=l.length,g[p]=!0,p++;else if(o.substring(S,S+f.length)===f)S+=f.length,g[p]=!1,p++;else throw new m("illegal character encountered: "+o.substring(S));if(p>x){if(y===-1)y=p-x;else if(p-x!==y)throw new m("row lengths do not match");B++}const O=new Ce(y,B);for(let z=0;z<p;z++)g[z]&&O.set(Math.floor(z%y),Math.floor(z/y));return O}get(o,l){const f=l*this.rowSize+Math.floor(o/32);return(this.bits[f]>>>(o&31)&1)!==0}set(o,l){const f=l*this.rowSize+Math.floor(o/32);this.bits[f]|=1<<(o&31)&4294967295}unset(o,l){const f=l*this.rowSize+Math.floor(o/32);this.bits[f]&=~(1<<(o&31)&4294967295)}flip(o,l){const f=l*this.rowSize+Math.floor(o/32);this.bits[f]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new m("input matrix dimensions do not match");const l=new L(Math.floor(this.width/32)+1),f=this.rowSize,g=this.bits;for(let p=0,x=this.height;p<x;p++){const y=p*f,B=o.getRow(p,l).getBitArray();for(let S=0;S<f;S++)g[y+S]^=B[S]}}clear(){const o=this.bits,l=o.length;for(let f=0;f<l;f++)o[f]=0}setRegion(o,l,f,g){if(l<0||o<0)throw new m("Left and top must be nonnegative");if(g<1||f<1)throw new m("Height and width must be at least 1");const p=o+f,x=l+g;if(x>this.height||p>this.width)throw new m("The region must fit inside the matrix");const y=this.rowSize,B=this.bits;for(let S=l;S<x;S++){const O=S*y;for(let z=o;z<p;z++)B[O+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(o,l){l==null||l.getSize()<this.width?l=new L(this.width):l.clear();const f=this.rowSize,g=this.bits,p=o*f;for(let x=0;x<f;x++)l.setBulk(x*32,g[p+x]);return l}setRow(o,l){T.arraycopy(l.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),l=this.getHeight();let f=new L(o),g=new L(o);for(let p=0,x=Math.floor((l+1)/2);p<x;p++)f=this.getRow(p,f),g=this.getRow(l-1-p,g),f.reverse(),g.reverse(),this.setRow(p,g),this.setRow(l-1-p,f)}getEnclosingRectangle(){const o=this.width,l=this.height,f=this.rowSize,g=this.bits;let p=o,x=l,y=-1,B=-1;for(let S=0;S<l;S++)for(let O=0;O<f;O++){const z=g[S*f+O];if(z!==0){if(S<x&&(x=S),S>B&&(B=S),O*32<p){let q=0;for(;!(z<<31-q&4294967295);)q++;O*32+q<p&&(p=O*32+q)}if(O*32+31>y){let q=31;for(;!(z>>>q);)q--;O*32+q>y&&(y=O*32+q)}}}return y<p||B<x?null:Int32Array.from([p,x,y-p+1,B-x+1])}getTopLeftOnBit(){const o=this.rowSize,l=this.bits;let f=0;for(;f<l.length&&l[f]===0;)f++;if(f===l.length)return null;const g=f/o;let p=f%o*32;const x=l[f];let y=0;for(;!(x<<31-y&4294967295);)y++;return p+=y,Int32Array.from([p,g])}getBottomRightOnBit(){const o=this.rowSize,l=this.bits;let f=l.length-1;for(;f>=0&&l[f]===0;)f--;if(f<0)return null;const g=Math.floor(f/o);let p=Math.floor(f%o)*32;const x=l[f];let y=31;for(;!(x>>>y);)y--;return p+=y,Int32Array.from([p,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof Ce))return!1;const l=o;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&R.equals(this.bits,l.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+R.hashCode(this.bits),o}toString(o="X ",l="  ",f=`
`){return this.buildToString(o,l,f)}buildToString(o,l,f){let g=new V;for(let p=0,x=this.height;p<x;p++){for(let y=0,B=this.width;y<B;y++)g.append(this.get(y,p)?o:l);g.append(f)}return g.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends u{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class de extends b{constructor(o){super(o),this.luminances=de.EMPTY,this.buckets=new Int32Array(de.LUMINANCE_BUCKETS)}getBlackRow(o,l){const f=this.getLuminanceSource(),g=f.getWidth();l==null||l.getSize()<g?l=new L(g):l.clear(),this.initArrays(g);const p=f.getRow(o,this.luminances),x=this.buckets;for(let B=0;B<g;B++)x[(p[B]&255)>>de.LUMINANCE_SHIFT]++;const y=de.estimateBlackPoint(x);if(g<3)for(let B=0;B<g;B++)(p[B]&255)<y&&l.set(B);else{let B=p[0]&255,S=p[1]&255;for(let O=1;O<g-1;O++){const z=p[O+1]&255;(S*4-B-z)/2<y&&l.set(O),B=S,S=z}}return l}getBlackMatrix(){const o=this.getLuminanceSource(),l=o.getWidth(),f=o.getHeight(),g=new Ce(l,f);this.initArrays(l);const p=this.buckets;for(let B=1;B<5;B++){const S=Math.floor(f*B/5),O=o.getRow(S,this.luminances),z=Math.floor(l*4/5);for(let q=Math.floor(l/5);q<z;q++){const Ae=O[q]&255;p[Ae>>de.LUMINANCE_SHIFT]++}}const x=de.estimateBlackPoint(p),y=o.getMatrix();for(let B=0;B<f;B++){const S=B*l;for(let O=0;O<l;O++)(y[S+O]&255)<x&&g.set(O,B)}return g}createBinarizer(o){return new de(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const l=this.buckets;for(let f=0;f<de.LUMINANCE_BUCKETS;f++)l[f]=0}static estimateBlackPoint(o){const l=o.length;let f=0,g=0,p=0;for(let O=0;O<l;O++)o[O]>p&&(g=O,p=o[O]),o[O]>f&&(f=o[O]);let x=0,y=0;for(let O=0;O<l;O++){const z=O-g,q=o[O]*z*z;q>y&&(x=O,y=q)}if(g>x){const O=g;g=x,x=O}if(x-g<=l/16)throw new le;let B=x-1,S=-1;for(let O=x-1;O>g;O--){const z=O-g,q=z*z*(x-O)*(f-o[O]);q>S&&(B=O,S=q)}return B<<de.LUMINANCE_SHIFT}}de.LUMINANCE_BITS=5,de.LUMINANCE_SHIFT=8-de.LUMINANCE_BITS,de.LUMINANCE_BUCKETS=1<<de.LUMINANCE_BITS,de.EMPTY=Uint8ClampedArray.from([0]);class ne extends de{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),l=o.getWidth(),f=o.getHeight();if(l>=ne.MINIMUM_DIMENSION&&f>=ne.MINIMUM_DIMENSION){const g=o.getMatrix();let p=l>>ne.BLOCK_SIZE_POWER;l&ne.BLOCK_SIZE_MASK&&p++;let x=f>>ne.BLOCK_SIZE_POWER;f&ne.BLOCK_SIZE_MASK&&x++;const y=ne.calculateBlackPoints(g,p,x,l,f),B=new Ce(l,f);ne.calculateThresholdForBlock(g,p,x,l,f,y,B),this.matrix=B}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ne(o)}static calculateThresholdForBlock(o,l,f,g,p,x,y){const B=p-ne.BLOCK_SIZE,S=g-ne.BLOCK_SIZE;for(let O=0;O<f;O++){let z=O<<ne.BLOCK_SIZE_POWER;z>B&&(z=B);const q=ne.cap(O,2,f-3);for(let Ae=0;Ae<l;Ae++){let pe=Ae<<ne.BLOCK_SIZE_POWER;pe>S&&(pe=S);const ve=ne.cap(Ae,2,l-3);let Ie=0;for(let nt=-2;nt<=2;nt++){const at=x[q+nt];Ie+=at[ve-2]+at[ve-1]+at[ve]+at[ve+1]+at[ve+2]}const Oe=Ie/25;ne.thresholdBlock(o,pe,z,Oe,g,y)}}}static cap(o,l,f){return o<l?l:o>f?f:o}static thresholdBlock(o,l,f,g,p,x){for(let y=0,B=f*p+l;y<ne.BLOCK_SIZE;y++,B+=p)for(let S=0;S<ne.BLOCK_SIZE;S++)(o[B+S]&255)<=g&&x.set(l+S,f+y)}static calculateBlackPoints(o,l,f,g,p){const x=p-ne.BLOCK_SIZE,y=g-ne.BLOCK_SIZE,B=new Array(f);for(let S=0;S<f;S++){B[S]=new Int32Array(l);let O=S<<ne.BLOCK_SIZE_POWER;O>x&&(O=x);for(let z=0;z<l;z++){let q=z<<ne.BLOCK_SIZE_POWER;q>y&&(q=y);let Ae=0,pe=255,ve=0;for(let Oe=0,nt=O*g+q;Oe<ne.BLOCK_SIZE;Oe++,nt+=g){for(let at=0;at<ne.BLOCK_SIZE;at++){const Ye=o[nt+at]&255;Ae+=Ye,Ye<pe&&(pe=Ye),Ye>ve&&(ve=Ye)}if(ve-pe>ne.MIN_DYNAMIC_RANGE)for(Oe++,nt+=g;Oe<ne.BLOCK_SIZE;Oe++,nt+=g)for(let at=0;at<ne.BLOCK_SIZE;at++)Ae+=o[nt+at]&255}let Ie=Ae>>ne.BLOCK_SIZE_POWER*2;if(ve-pe<=ne.MIN_DYNAMIC_RANGE&&(Ie=pe/2,S>0&&z>0)){const Oe=(B[S-1][z]+2*B[S][z-1]+B[S-1][z-1])/4;pe<Oe&&(Ie=Oe)}B[S][z]=Ie}}return B}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class De{constructor(o,l){this.width=o,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,l,f,g){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let l=new V;for(let f=0;f<this.height;f++){const g=this.getRow(f,o);for(let p=0;p<this.width;p++){const x=g[p]&255;let y;x<64?y="#":x<128?y="+":x<192?y=".":y=" ",l.append(y)}l.append(`
`)}return l.toString()}}class he extends De{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,l){const f=this.delegate.getRow(o,l),g=this.getWidth();for(let p=0;p<g;p++)f[p]=255-(f[p]&255);return f}getMatrix(){const o=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(l);for(let g=0;g<l;g++)f[g]=255-(o[g]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(o,l,f,g){return new he(this.delegate.crop(o,l,f,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class Le extends De{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Le.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const l=o.getContext("2d").getImageData(0,0,o.width,o.height);return Le.toGrayscaleBuffer(l.data,o.width,o.height)}static toGrayscaleBuffer(o,l,f){const g=new Uint8ClampedArray(l*f);for(let p=0,x=0,y=o.length;p<y;p+=4,x++){let B;if(o[p+3]===0)B=255;else{const O=o[p],z=o[p+1],q=o[p+2];B=306*O+601*z+117*q+512>>10}g[x]=B}return g}getRow(o,l){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const f=this.getWidth(),g=o*f;return l===null?l=this.buffer.slice(g,g+f):(l.length<f&&(l=new Uint8ClampedArray(f)),l.set(this.buffer.slice(g,g+f))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,l,f,g){return super.crop(o,l,f,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const l=this.getTempCanvasElement(),f=l.getContext("2d"),g=o*Le.DEGREE_TO_RADIANS,p=this.canvas.width,x=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(g))*p+Math.abs(Math.sin(g))*x),B=Math.ceil(Math.abs(Math.sin(g))*p+Math.abs(Math.cos(g))*x);return l.width=y,l.height=B,f.translate(y/2,B/2),f.rotate(g),f.drawImage(this.canvas,p/-2,x/-2),this.buffer=Le.makeBufferFromCanvasImageData(l),this}invert(){return new he(this)}}Le.DEGREE_TO_RADIANS=Math.PI/180;class Ze{constructor(o,l,f){this.deviceId=o,this.label=l,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Z=(globalThis||X0||self||window||void 0)&&(globalThis||X0||self||window||void 0).__awaiter||function(K,o,l,f){function g(p){return p instanceof l?p:new l(function(x){x(p)})}return new(l||(l=Promise))(function(p,x){function y(O){try{S(f.next(O))}catch(z){x(z)}}function B(O){try{S(f.throw(O))}catch(z){x(z)}}function S(O){O.done?p(O.value):g(O.value).then(y,B)}S((f=f.apply(K,o||[])).next())})};class ge{constructor(o,l=500,f){this.reader=o,this.timeBetweenScansMillis=l,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const f of o){const g=f.kind==="video"?"videoinput":f.kind;if(g!=="videoinput")continue;const p=f.deviceId||f.id,x=f.label||`Video device ${l.length+1}`,y=f.groupId,B={deviceId:p,label:x,kind:g,groupId:y};l.push(B)}return l})}getVideoInputDevices(){return Z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Ze(l.deviceId,l.label))})}findDeviceById(o){return Z(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(f=>f.deviceId===o):null})}decodeFromInputVideoDevice(o,l){return Z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,l)})}decodeOnceFromVideoDevice(o,l){return Z(this,void 0,void 0,function*(){this.reset();let f;o?f={deviceId:{exact:o}}:f={facingMode:"environment"};const g={video:f};return yield this.decodeOnceFromConstraints(g,l)})}decodeOnceFromConstraints(o,l){return Z(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(f,l)})}decodeOnceFromStream(o,l){return Z(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(o,l);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(o,l,f){return Z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,l,f)})}decodeFromVideoDevice(o,l,f){return Z(this,void 0,void 0,function*(){let g;o?g={deviceId:{exact:o}}:g={facingMode:"environment"};const p={video:g};return yield this.decodeFromConstraints(p,l,f)})}decodeFromConstraints(o,l,f){return Z(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(g,l,f)})}decodeFromStream(o,l,f){return Z(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(o,l);return yield this.decodeContinuously(g,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,l){return Z(this,void 0,void 0,function*(){const f=this.prepareVideoElement(l);return this.addVideoSource(f,o),this.videoElement=f,this.stream=o,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(o){return new Promise((l,f)=>this.playVideoOnLoad(o,()=>l()))}playVideoOnLoad(o,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",l),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Z(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,l){const f=document.getElementById(o);if(!f)throw new h(`element with id '${o}' not found`);if(f.nodeName.toLowerCase()!==l.toLowerCase())throw new h(`element with id '${o}' must be an ${l} element`);return f}decodeFromImage(o,l){if(!o&&!l)throw new h("either imageElement with a src set or an url must be provided");return l&&!o?this.decodeFromImageUrl(l):this.decodeFromImageElement(o)}decodeFromVideo(o,l){if(!o&&!l)throw new h("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,l,f){if(o===void 0&&l===void 0)throw new h("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrlContinuously(l,f):this.decodeFromVideoElementContinuously(o,f)}decodeFromImageElement(o){if(!o)throw new h("An image element must be provided.");this.reset();const l=this.prepareImageElement(o);this.imageElement=l;let f;return this.isImageLoaded(l)?f=this.decodeOnce(l,!1,!0):f=this._decodeOnLoadImage(l),f}decodeFromVideoElement(o){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(o,l){const f=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(f,l)}_decodeFromVideoElementSetup(o){if(!o)throw new h("A video element must be provided.");this.reset();const l=this.prepareVideoElement(o);return this.videoElement=l,l}decodeFromImageUrl(o){if(!o)throw new h("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const f=this._decodeOnLoadImage(l);return l.src=o,f}decodeFromVideoUrl(o){if(!o)throw new h("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElement(l);return l.src=o,f}decodeFromVideoUrlContinuously(o,l){if(!o)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(f,l);return f.src=o,g}_decodeOnLoadImage(o){return new Promise((l,f)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(l,f),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,l){return Z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,l)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let l;return typeof o>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(l=o),l}prepareVideoElement(o){let l;return!o&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(l=o),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(o,l=!0,f=!0){this._stopAsyncDecode=!1;const g=(p,x)=>{if(this._stopAsyncDecode){x(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(o);p(y)}catch(y){const B=l&&y instanceof le,O=(y instanceof _||y instanceof N)&&f;if(B||O)return setTimeout(g,this._timeBetweenDecodingAttempts,p,x);x(y)}};return new Promise((p,x)=>g(p,x))}decodeContinuously(o,l){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(o);l(g,null),setTimeout(f,this.timeBetweenScansMillis)}catch(g){l(null,g);const p=g instanceof _||g instanceof N,x=g instanceof le;(p||x)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(o){const l=this.createBinaryBitmap(o);return this.decodeBitmap(l)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,l,f){l||(l={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(o,l,f=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),f=new Le(l),g=new ne(f);return new v(g)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const l=this.createCaptureCanvas(o);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let f,g;return typeof o<"u"&&(o instanceof HTMLVideoElement?(f=o.videoWidth,g=o.videoHeight):o instanceof HTMLImageElement&&(f=o.naturalWidth||o.width,g=o.naturalHeight||o.height)),l.style.width=f+"px",l.style.height=g+"px",l.width=f,l.height=g,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,l){try{o.srcObject=l}catch{o.src=URL.createObjectURL(l)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class ce{constructor(o,l,f=l==null?0:8*l.length,g,p,x=T.currentTimeMillis()){this.text=o,this.rawBytes=l,this.numBits=f,this.resultPoints=g,this.format=p,this.timestamp=x,this.text=o,this.rawBytes=l,f==null?this.numBits=l==null?0:8*l.length:this.numBits=f,this.resultPoints=g,this.format=p,this.resultMetadata=null,x==null?this.timestamp=T.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,l)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const l=this.resultPoints;if(l===null)this.resultPoints=o;else if(o!==null&&o.length>0){const f=new Array(l.length+o.length);T.arraycopy(l,0,f,0,l.length),T.arraycopy(o,0,f,l.length,o.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var se;(function(K){K[K.AZTEC=0]="AZTEC",K[K.CODABAR=1]="CODABAR",K[K.CODE_39=2]="CODE_39",K[K.CODE_93=3]="CODE_93",K[K.CODE_128=4]="CODE_128",K[K.DATA_MATRIX=5]="DATA_MATRIX",K[K.EAN_8=6]="EAN_8",K[K.EAN_13=7]="EAN_13",K[K.ITF=8]="ITF",K[K.MAXICODE=9]="MAXICODE",K[K.PDF_417=10]="PDF_417",K[K.QR_CODE=11]="QR_CODE",K[K.RSS_14=12]="RSS_14",K[K.RSS_EXPANDED=13]="RSS_EXPANDED",K[K.UPC_A=14]="UPC_A",K[K.UPC_E=15]="UPC_E",K[K.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var fe=se,je;(function(K){K[K.OTHER=0]="OTHER",K[K.ORIENTATION=1]="ORIENTATION",K[K.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",K[K.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",K[K.ISSUE_NUMBER=4]="ISSUE_NUMBER",K[K.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",K[K.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",K[K.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",K[K.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",K[K.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",K[K.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(je||(je={}));var ye=je;class xe{constructor(o,l,f,g,p=-1,x=-1){this.rawBytes=o,this.text=l,this.byteSegments=f,this.ecLevel=g,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=x,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Se{exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}static addOrSubtract(o,l){return o^l}}class it{constructor(o,l){if(l.length===0)throw new m;this.field=o;const f=l.length;if(f>1&&l[0]===0){let g=1;for(;g<f&&l[g]===0;)g++;g===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-g),T.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const l=this.coefficients;let f;if(o===1){f=0;for(let x=0,y=l.length;x!==y;x++){const B=l[x];f=Se.addOrSubtract(f,B)}return f}f=l[0];const g=l.length,p=this.field;for(let x=1;x<g;x++)f=Se.addOrSubtract(p.multiply(o,f),l[x]);return f}addOrSubtract(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,f=o.coefficients;if(l.length>f.length){const x=l;l=f,f=x}let g=new Int32Array(f.length);const p=f.length-l.length;T.arraycopy(f,0,g,0,p);for(let x=p;x<f.length;x++)g[x]=Se.addOrSubtract(l[x-p],f[x]);return new it(this.field,g)}multiply(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const l=this.coefficients,f=l.length,g=o.coefficients,p=g.length,x=new Int32Array(f+p-1),y=this.field;for(let B=0;B<f;B++){const S=l[B];for(let O=0;O<p;O++)x[B+O]=Se.addOrSubtract(x[B+O],y.multiply(S,g[O]))}return new it(y,x)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const l=this.coefficients.length,f=this.field,g=new Int32Array(l),p=this.coefficients;for(let x=0;x<l;x++)g[x]=f.multiply(p[x],o);return new it(f,g)}multiplyByMonomial(o,l){if(o<0)throw new m;if(l===0)return this.field.getZero();const f=this.coefficients,g=f.length,p=new Int32Array(g+o),x=this.field;for(let y=0;y<g;y++)p[y]=x.multiply(f[y],l);return new it(x,p)}divide(o){if(!this.field.equals(o.field))throw new m("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new m("Divide by 0");const l=this.field;let f=l.getZero(),g=this;const p=o.getCoefficient(o.getDegree()),x=l.inverse(p);for(;g.getDegree()>=o.getDegree()&&!g.isZero();){const y=g.getDegree()-o.getDegree(),B=l.multiply(g.getCoefficient(g.getDegree()),x),S=o.multiplyByMonomial(y,B),O=l.buildMonomial(y,B);f=f.addOrSubtract(O),g=g.addOrSubtract(S)}return[f,g]}toString(){let o="";for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);if(f!==0){if(f<0?(o+=" - ",f=-f):o.length>0&&(o+=" + "),l===0||f!==1){const g=this.field.log(f);g===0?o+="1":g===1?o+="a":(o+="a^",o+=g)}l!==0&&(l===1?o+="x":(o+="x^",o+=l))}}return o}}class ie extends u{}ie.kind="ArithmeticException";class lt extends Se{constructor(o,l,f){super(),this.primitive=o,this.size=l,this.generatorBase=f;const g=new Int32Array(l);let p=1;for(let y=0;y<l;y++)g[y]=p,p*=2,p>=l&&(p^=o,p&=l-1);this.expTable=g;const x=new Int32Array(l);for(let y=0;y<l-1;y++)x[g[y]]=y;this.logTable=x,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new m;if(l===0)return this.zero;const f=new Int32Array(o+1);return f[0]=l,new it(this,f)}inverse(o){if(o===0)throw new ie;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class yt extends u{}yt.kind="ReedSolomonException";class wt extends u{}wt.kind="IllegalStateException";class we{constructor(o){this.field=o}decode(o,l){const f=this.field,g=new it(f,o),p=new Int32Array(l);let x=!0;for(let Ae=0;Ae<l;Ae++){const pe=g.evaluateAt(f.exp(Ae+f.getGeneratorBase()));p[p.length-1-Ae]=pe,pe!==0&&(x=!1)}if(x)return;const y=new it(f,p),B=this.runEuclideanAlgorithm(f.buildMonomial(l,1),y,l),S=B[0],O=B[1],z=this.findErrorLocations(S),q=this.findErrorMagnitudes(O,z);for(let Ae=0;Ae<z.length;Ae++){const pe=o.length-1-f.log(z[Ae]);if(pe<0)throw new yt("Bad error location");o[pe]=lt.addOrSubtract(o[pe],q[Ae])}}runEuclideanAlgorithm(o,l,f){if(o.getDegree()<l.getDegree()){const Ae=o;o=l,l=Ae}const g=this.field;let p=o,x=l,y=g.getZero(),B=g.getOne();for(;x.getDegree()>=(f/2|0);){let Ae=p,pe=y;if(p=x,y=B,p.isZero())throw new yt("r_{i-1} was zero");x=Ae;let ve=g.getZero();const Ie=p.getCoefficient(p.getDegree()),Oe=g.inverse(Ie);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){const nt=x.getDegree()-p.getDegree(),at=g.multiply(x.getCoefficient(x.getDegree()),Oe);ve=ve.addOrSubtract(g.buildMonomial(nt,at)),x=x.addOrSubtract(p.multiplyByMonomial(nt,at))}if(B=ve.multiply(y).addOrSubtract(pe),x.getDegree()>=p.getDegree())throw new wt("Division algorithm failed to reduce polynomial?")}const S=B.getCoefficient(0);if(S===0)throw new yt("sigmaTilde(0) was zero");const O=g.inverse(S),z=B.multiplyScalar(O),q=x.multiplyScalar(O);return[z,q]}findErrorLocations(o){const l=o.getDegree();if(l===1)return Int32Array.from([o.getCoefficient(1)]);const f=new Int32Array(l);let g=0;const p=this.field;for(let x=1;x<p.getSize()&&g<l;x++)o.evaluateAt(x)===0&&(f[g]=p.inverse(x),g++);if(g!==l)throw new yt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(o,l){const f=l.length,g=new Int32Array(f),p=this.field;for(let x=0;x<f;x++){const y=p.inverse(l[x]);let B=1;for(let S=0;S<f;S++)if(x!==S){const O=p.multiply(l[S],y),z=O&1?O&-2:O|1;B=p.multiply(B,z)}g[x]=p.multiply(o.evaluateAt(y),p.inverse(B)),p.getGeneratorBase()!==0&&(g[x]=p.multiply(g[x],y))}return g}}var Ee;(function(K){K[K.UPPER=0]="UPPER",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.DIGIT=3]="DIGIT",K[K.PUNCT=4]="PUNCT",K[K.BINARY=5]="BINARY"})(Ee||(Ee={}));class qe{decode(o){this.ddata=o;let l=o.getBits(),f=this.extractBits(l),g=this.correctBits(f),p=qe.convertBoolArrayToByteArray(g),x=qe.getEncodedData(g),y=new xe(p,x,null,null);return y.setNumBits(g.length),y}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let l=o.length,f=Ee.UPPER,g=Ee.UPPER,p="",x=0;for(;x<l;)if(g===Ee.BINARY){if(l-x<5)break;let y=qe.readCode(o,x,5);if(x+=5,y===0){if(l-x<11)break;y=qe.readCode(o,x,11)+31,x+=11}for(let B=0;B<y;B++){if(l-x<8){x=l;break}const S=qe.readCode(o,x,8);p+=j.castAsNonUtf8Char(S),x+=8}g=f}else{let y=g===Ee.DIGIT?4:5;if(l-x<y)break;let B=qe.readCode(o,x,y);x+=y;let S=qe.getCharacter(g,B);S.startsWith("CTRL_")?(f=g,g=qe.getTable(S.charAt(5)),S.charAt(6)==="L"&&(f=g)):(p+=S,g=f)}return p}static getTable(o){switch(o){case"L":return Ee.LOWER;case"P":return Ee.PUNCT;case"M":return Ee.MIXED;case"D":return Ee.DIGIT;case"B":return Ee.BINARY;case"U":default:return Ee.UPPER}}static getCharacter(o,l){switch(o){case Ee.UPPER:return qe.UPPER_TABLE[l];case Ee.LOWER:return qe.LOWER_TABLE[l];case Ee.MIXED:return qe.MIXED_TABLE[l];case Ee.PUNCT:return qe.PUNCT_TABLE[l];case Ee.DIGIT:return qe.DIGIT_TABLE[l];default:throw new wt("Bad table")}}correctBits(o){let l,f;this.ddata.getNbLayers()<=2?(f=6,l=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,l=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,l=lt.AZTEC_DATA_10):(f=12,l=lt.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),p=o.length/f;if(p<g)throw new N;let x=o.length%f,y=new Int32Array(p);for(let q=0;q<p;q++,x+=f)y[q]=qe.readCode(o,x,f);try{new we(l).decode(y,p-g)}catch(q){throw new N(q)}let B=(1<<f)-1,S=0;for(let q=0;q<g;q++){let Ae=y[q];if(Ae===0||Ae===B)throw new N;(Ae===1||Ae===B-1)&&S++}let O=new Array(g*f-S),z=0;for(let q=0;q<g;q++){let Ae=y[q];if(Ae===1||Ae===B-1)O.fill(Ae>1,z,z+f-1),z+=f-1;else for(let pe=f-1;pe>=0;--pe)O[z++]=(Ae&1<<pe)!==0}return O}extractBits(o){let l=this.ddata.isCompact(),f=this.ddata.getNbLayers(),g=(l?11:14)+f*4,p=new Int32Array(g),x=new Array(this.totalBitsInLayer(f,l));if(l)for(let y=0;y<p.length;y++)p[y]=y;else{let y=g+1+2*F.truncDivision(F.truncDivision(g,2)-1,15),B=g/2,S=F.truncDivision(y,2);for(let O=0;O<B;O++){let z=O+F.truncDivision(O,15);p[B-O-1]=S-z-1,p[B+O]=S+z+1}}for(let y=0,B=0;y<f;y++){let S=(f-y)*4+(l?9:12),O=y*2,z=g-1-O;for(let q=0;q<S;q++){let Ae=q*2;for(let pe=0;pe<2;pe++)x[B+Ae+pe]=o.get(p[O+pe],p[O+q]),x[B+2*S+Ae+pe]=o.get(p[O+q],p[z-pe]),x[B+4*S+Ae+pe]=o.get(p[z-pe],p[z-q]),x[B+6*S+Ae+pe]=o.get(p[z-q],p[O+pe])}B+=S*8}return x}static readCode(o,l,f){let g=0;for(let p=l;p<l+f;p++)g<<=1,o[p]&&(g|=1);return g}static readByte(o,l){let f=o.length-l;return f>=8?qe.readCode(o,l,8):qe.readCode(o,l,f)<<8-f}static convertBoolArrayToByteArray(o){let l=new Uint8Array((o.length+7)/8);for(let f=0;f<l.length;f++)l[f]=qe.readByte(o,8*f);return l}totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,l,f,g){const p=o-f,x=l-g;return Math.sqrt(p*p+x*x)}static sum(o){let l=0;for(let f=0,g=o.length;f!==g;f++){const p=o[f];l+=p}return l}}class qt{static floatToIntBits(o){return o}}qt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(o,l){this.x=o,this.y=l}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Ge){const l=o;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*qt.floatToIntBits(this.x)+qt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const l=this.distance(o[0],o[1]),f=this.distance(o[1],o[2]),g=this.distance(o[0],o[2]);let p,x,y;if(f>=l&&f>=g?(x=o[0],p=o[1],y=o[2]):g>=f&&g>=l?(x=o[1],p=o[0],y=o[2]):(x=o[2],p=o[0],y=o[1]),this.crossProductZ(p,x,y)<0){const B=p;p=y,y=B}o[0]=p,o[1]=x,o[2]=y}static distance(o,l){return st.distance(o.x,o.y,l.x,l.y)}static crossProductZ(o,l,f){const g=l.x,p=l.y;return(f.x-g)*(o.y-p)-(f.y-p)*(o.x-g)}}class vr{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Xr extends vr{constructor(o,l,f,g,p){super(o,l),this.compact=f,this.nbDatablocks=g,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ke{constructor(o,l,f,g){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),l==null&&(l=Ke.INIT_SIZE),f==null&&(f=o.getWidth()/2|0),g==null&&(g=o.getHeight()/2|0);const p=l/2|0;if(this.leftInit=f-p,this.rightInit=f+p,this.upInit=g-p,this.downInit=g+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let o=this.leftInit,l=this.rightInit,f=this.upInit,g=this.downInit,p=!1,x=!0,y=!1,B=!1,S=!1,O=!1,z=!1;const q=this.width,Ae=this.height;for(;x;){x=!1;let pe=!0;for(;(pe||!B)&&l<q;)pe=this.containsBlackPoint(f,g,l,!1),pe?(l++,x=!0,B=!0):B||l++;if(l>=q){p=!0;break}let ve=!0;for(;(ve||!S)&&g<Ae;)ve=this.containsBlackPoint(o,l,g,!0),ve?(g++,x=!0,S=!0):S||g++;if(g>=Ae){p=!0;break}let Ie=!0;for(;(Ie||!O)&&o>=0;)Ie=this.containsBlackPoint(f,g,o,!1),Ie?(o--,x=!0,O=!0):O||o--;if(o<0){p=!0;break}let Oe=!0;for(;(Oe||!z)&&f>=0;)Oe=this.containsBlackPoint(o,l,f,!0),Oe?(f--,x=!0,z=!0):z||f--;if(f<0){p=!0;break}x&&(y=!0)}if(!p&&y){const pe=l-o;let ve=null;for(let at=1;ve===null&&at<pe;at++)ve=this.getBlackPointOnSegment(o,g-at,o+at,g);if(ve==null)throw new le;let Ie=null;for(let at=1;Ie===null&&at<pe;at++)Ie=this.getBlackPointOnSegment(o,f+at,o+at,f);if(Ie==null)throw new le;let Oe=null;for(let at=1;Oe===null&&at<pe;at++)Oe=this.getBlackPointOnSegment(l,f+at,l-at,f);if(Oe==null)throw new le;let nt=null;for(let at=1;nt===null&&at<pe;at++)nt=this.getBlackPointOnSegment(l,g-at,l-at,g);if(nt==null)throw new le;return this.centerEdges(nt,ve,Oe,Ie)}else throw new le}getBlackPointOnSegment(o,l,f,g){const p=st.round(st.distance(o,l,f,g)),x=(f-o)/p,y=(g-l)/p,B=this.image;for(let S=0;S<p;S++){const O=st.round(o+S*x),z=st.round(l+S*y);if(B.get(O,z))return new Ge(O,z)}return null}centerEdges(o,l,f,g){const p=o.getX(),x=o.getY(),y=l.getX(),B=l.getY(),S=f.getX(),O=f.getY(),z=g.getX(),q=g.getY(),Ae=Ke.CORR;return p<this.width/2?[new Ge(z-Ae,q+Ae),new Ge(y+Ae,B+Ae),new Ge(S-Ae,O-Ae),new Ge(p+Ae,x-Ae)]:[new Ge(z+Ae,q+Ae),new Ge(y+Ae,B-Ae),new Ge(S-Ae,O+Ae),new Ge(p-Ae,x-Ae)]}containsBlackPoint(o,l,f,g){const p=this.image;if(g){for(let x=o;x<=l;x++)if(p.get(x,f))return!0}else for(let x=o;x<=l;x++)if(p.get(f,x))return!0;return!1}}Ke.INIT_SIZE=10,Ke.CORR=1;class ht{static checkAndNudgePoints(o,l){const f=o.getWidth(),g=o.getHeight();let p=!0;for(let x=0;x<l.length&&p;x+=2){const y=Math.floor(l[x]),B=Math.floor(l[x+1]);if(y<-1||y>f||B<-1||B>g)throw new le;p=!1,y===-1?(l[x]=0,p=!0):y===f&&(l[x]=f-1,p=!0),B===-1?(l[x+1]=0,p=!0):B===g&&(l[x+1]=g-1,p=!0)}p=!0;for(let x=l.length-2;x>=0&&p;x-=2){const y=Math.floor(l[x]),B=Math.floor(l[x+1]);if(y<-1||y>f||B<-1||B>g)throw new le;p=!1,y===-1?(l[x]=0,p=!0):y===f&&(l[x]=f-1,p=!0),B===-1?(l[x+1]=0,p=!0):B===g&&(l[x+1]=g-1,p=!0)}}}class ct{constructor(o,l,f,g,p,x,y,B,S){this.a11=o,this.a21=l,this.a31=f,this.a12=g,this.a22=p,this.a32=x,this.a13=y,this.a23=B,this.a33=S}static quadrilateralToQuadrilateral(o,l,f,g,p,x,y,B,S,O,z,q,Ae,pe,ve,Ie){const Oe=ct.quadrilateralToSquare(o,l,f,g,p,x,y,B);return ct.squareToQuadrilateral(S,O,z,q,Ae,pe,ve,Ie).times(Oe)}transformPoints(o){const l=o.length,f=this.a11,g=this.a12,p=this.a13,x=this.a21,y=this.a22,B=this.a23,S=this.a31,O=this.a32,z=this.a33;for(let q=0;q<l;q+=2){const Ae=o[q],pe=o[q+1],ve=p*Ae+B*pe+z;o[q]=(f*Ae+x*pe+S)/ve,o[q+1]=(g*Ae+y*pe+O)/ve}}transformPointsWithValues(o,l){const f=this.a11,g=this.a12,p=this.a13,x=this.a21,y=this.a22,B=this.a23,S=this.a31,O=this.a32,z=this.a33,q=o.length;for(let Ae=0;Ae<q;Ae++){const pe=o[Ae],ve=l[Ae],Ie=p*pe+B*ve+z;o[Ae]=(f*pe+x*ve+S)/Ie,l[Ae]=(g*pe+y*ve+O)/Ie}}static squareToQuadrilateral(o,l,f,g,p,x,y,B){const S=o-f+p-y,O=l-g+x-B;if(S===0&&O===0)return new ct(f-o,p-f,o,g-l,x-g,l,0,0,1);{const z=f-p,q=y-p,Ae=g-x,pe=B-x,ve=z*pe-q*Ae,Ie=(S*pe-q*O)/ve,Oe=(z*O-S*Ae)/ve;return new ct(f-o+Ie*f,y-o+Oe*y,o,g-l+Ie*g,B-l+Oe*B,l,Ie,Oe,1)}}static quadrilateralToSquare(o,l,f,g,p,x,y,B){return ct.squareToQuadrilateral(o,l,f,g,p,x,y,B).buildAdjoint()}buildAdjoint(){return new ct(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new ct(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Ot extends ht{sampleGrid(o,l,f,g,p,x,y,B,S,O,z,q,Ae,pe,ve,Ie,Oe,nt,at){const Ye=ct.quadrilateralToQuadrilateral(g,p,x,y,B,S,O,z,q,Ae,pe,ve,Ie,Oe,nt,at);return this.sampleGridWithTransform(o,l,f,Ye)}sampleGridWithTransform(o,l,f,g){if(l<=0||f<=0)throw new le;const p=new Ce(l,f),x=new Float32Array(2*l);for(let y=0;y<f;y++){const B=x.length,S=y+.5;for(let O=0;O<B;O+=2)x[O]=O/2+.5,x[O+1]=S;g.transformPoints(x),ht.checkAndNudgePoints(o,x);try{for(let O=0;O<B;O+=2)o.get(Math.floor(x[O]),Math.floor(x[O+1]))&&p.set(O/2,y)}catch{throw new le}}return p}}class Yt{static setGridSampler(o){Yt.gridSampler=o}static getInstance(){return Yt.gridSampler}}Yt.gridSampler=new Ot;class Kt{constructor(o,l){this.x=o,this.y=l}toResultPoint(){return new Ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pe{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let l=this.getMatrixCenter(),f=this.getBullsEyeCorners(l);if(o){let x=f[0];f[0]=f[2],f[2]=x}this.extractParameters(f);let g=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),p=this.getMatrixCornerPoints(f);return new Xr(g,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new le;let l=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(o[0],o[1],l),this.sampleLine(o[1],o[2],l),this.sampleLine(o[2],o[3],l),this.sampleLine(o[3],o[0],l)]);this.shift=this.getRotation(f,l);let g=0;for(let x=0;x<4;x++){let y=f[(this.shift+x)%4];this.compact?(g<<=7,g+=y>>1&127):(g<<=10,g+=(y>>2&992)+(y>>1&31))}let p=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(o,l){let f=0;o.forEach((g,p,x)=>{let y=(g>>l-2<<1)+(g&1);f=(f<<3)+y}),f=((f&1)<<11)+(f>>1);for(let g=0;g<4;g++)if(F.bitCount(f^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new le}getCorrectedParameterData(o,l){let f,g;l?(f=7,g=2):(f=10,g=4);let p=f-g,x=new Int32Array(f);for(let B=f-1;B>=0;--B)x[B]=o&15,o>>=4;try{new we(lt.AZTEC_PARAM).decode(x,p)}catch{throw new le}let y=0;for(let B=0;B<g;B++)y=(y<<4)+x[B];return y}getBullsEyeCorners(o){let l=o,f=o,g=o,p=o,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(l,x,1,-1),q=this.getFirstDifferent(f,x,1,1),Ae=this.getFirstDifferent(g,x,-1,1),pe=this.getFirstDifferent(p,x,-1,-1);if(this.nbCenterLayers>2){let ve=this.distancePoint(pe,z)*this.nbCenterLayers/(this.distancePoint(p,l)*(this.nbCenterLayers+2));if(ve<.75||ve>1.25||!this.isWhiteOrBlackRectangle(z,q,Ae,pe))break}l=z,f=q,g=Ae,p=pe,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let y=new Ge(l.getX()+.5,l.getY()-.5),B=new Ge(f.getX()+.5,f.getY()+.5),S=new Ge(g.getX()-.5,g.getY()+.5),O=new Ge(p.getX()-.5,p.getY()-.5);return this.expandSquare([y,B,S,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,l,f,g;try{let y=new Ke(this.image).detect();o=y[0],l=y[1],f=y[2],g=y[3]}catch{let B=this.image.getWidth()/2,S=this.image.getHeight()/2;o=this.getFirstDifferent(new Kt(B+7,S-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Kt(B+7,S+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new Kt(B-7,S+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Kt(B-7,S-7),!1,-1,-1).toResultPoint()}let p=st.round((o.getX()+g.getX()+l.getX()+f.getX())/4),x=st.round((o.getY()+g.getY()+l.getY()+f.getY())/4);try{let y=new Ke(this.image,15,p,x).detect();o=y[0],l=y[1],f=y[2],g=y[3]}catch{o=this.getFirstDifferent(new Kt(p+7,x-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Kt(p+7,x+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new Kt(p-7,x+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Kt(p-7,x-7),!1,-1,-1).toResultPoint()}return p=st.round((o.getX()+g.getX()+l.getX()+f.getX())/4),x=st.round((o.getY()+g.getY()+l.getY()+f.getY())/4),new Kt(p,x)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,l,f,g,p){let x=Yt.getInstance(),y=this.getDimension(),B=y/2-this.nbCenterLayers,S=y/2+this.nbCenterLayers;return x.sampleGrid(o,y,y,B,B,S,B,S,S,B,S,l.getX(),l.getY(),f.getX(),f.getY(),g.getX(),g.getY(),p.getX(),p.getY())}sampleLine(o,l,f){let g=0,p=this.distanceResultPoint(o,l),x=p/f,y=o.getX(),B=o.getY(),S=x*(l.getX()-o.getX())/p,O=x*(l.getY()-o.getY())/p;for(let z=0;z<f;z++)this.image.get(st.round(y+z*S),st.round(B+z*O))&&(g|=1<<f-z-1);return g}isWhiteOrBlackRectangle(o,l,f,g){let p=3;o=new Kt(o.getX()-p,o.getY()+p),l=new Kt(l.getX()-p,l.getY()-p),f=new Kt(f.getX()+p,f.getY()-p),g=new Kt(g.getX()+p,g.getY()+p);let x=this.getColor(g,o);if(x===0)return!1;let y=this.getColor(o,l);return y!==x||(y=this.getColor(l,f),y!==x)?!1:(y=this.getColor(f,g),y===x)}getColor(o,l){let f=this.distancePoint(o,l),g=(l.getX()-o.getX())/f,p=(l.getY()-o.getY())/f,x=0,y=o.getX(),B=o.getY(),S=this.image.get(o.getX(),o.getY()),O=Math.ceil(f);for(let q=0;q<O;q++)y+=g,B+=p,this.image.get(st.round(y),st.round(B))!==S&&x++;let z=x/f;return z>.1&&z<.9?0:z<=.1===S?1:-1}getFirstDifferent(o,l,f,g){let p=o.getX()+f,x=o.getY()+g;for(;this.isValid(p,x)&&this.image.get(p,x)===l;)p+=f,x+=g;for(p-=f,x-=g;this.isValid(p,x)&&this.image.get(p,x)===l;)p+=f;for(p-=f;this.isValid(p,x)&&this.image.get(p,x)===l;)x+=g;return x-=g,new Kt(p,x)}expandSquare(o,l,f){let g=f/(2*l),p=o[0].getX()-o[2].getX(),x=o[0].getY()-o[2].getY(),y=(o[0].getX()+o[2].getX())/2,B=(o[0].getY()+o[2].getY())/2,S=new Ge(y+g*p,B+g*x),O=new Ge(y-g*p,B-g*x);p=o[1].getX()-o[3].getX(),x=o[1].getY()-o[3].getY(),y=(o[1].getX()+o[3].getX())/2,B=(o[1].getY()+o[3].getY())/2;let z=new Ge(y+g*p,B+g*x),q=new Ge(y-g*p,B-g*x);return[S,z,O,q]}isValid(o,l){return o>=0&&o<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(o){let l=st.round(o.getX()),f=st.round(o.getY());return this.isValid(l,f)}distancePoint(o,l){return st.distance(o.getX(),o.getY(),l.getX(),l.getY())}distanceResultPoint(o,l){return st.distance(o.getX(),o.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class oe{decode(o,l=null){let f=null,g=new Pe(o.getBlackMatrix()),p=null,x=null;try{let O=g.detectMirror(!1);p=O.getPoints(),this.reportFoundResultPoints(l,p),x=new qe().decode(O)}catch(O){f=O}if(x==null)try{let O=g.detectMirror(!0);p=O.getPoints(),this.reportFoundResultPoints(l,p),x=new qe().decode(O)}catch(O){throw f??O}let y=new ce(x.getText(),x.getRawBytes(),x.getNumBits(),p,fe.AZTEC,T.currentTimeMillis()),B=x.getByteSegments();B!=null&&y.putMetadata(ye.BYTE_SEGMENTS,B);let S=x.getECLevel();return S!=null&&y.putMetadata(ye.ERROR_CORRECTION_LEVEL,S),y}reportFoundResultPoints(o,l){if(o!=null){let f=o.get(P.NEED_RESULT_POINT_CALLBACK);f!=null&&l.forEach((g,p,x)=>{f.foundPossibleResultPoint(g)})}}reset(){}}class Fe extends ge{constructor(o=500){super(new oe,o)}}class Ve{decode(o,l){try{return this.doDecode(o,l)}catch{if(l&&l.get(P.TRY_HARDER)===!0&&o.isRotateSupported()){const p=o.rotateCounterClockwise(),x=this.doDecode(p,l),y=x.getResultMetadata();let B=270;y!==null&&y.get(ye.ORIENTATION)===!0&&(B=B+y.get(ye.ORIENTATION)%360),x.putMetadata(ye.ORIENTATION,B);const S=x.getResultPoints();if(S!==null){const O=p.getHeight();for(let z=0;z<S.length;z++)S[z]=new Ge(O-S[z].getY()-1,S[z].getX())}return x}else throw new le}}reset(){}doDecode(o,l){const f=o.getWidth(),g=o.getHeight();let p=new L(f);const x=l&&l.get(P.TRY_HARDER)===!0,y=Math.max(1,g>>(x?8:5));let B;x?B=g:B=15;const S=Math.trunc(g/2);for(let O=0;O<B;O++){const z=Math.trunc((O+1)/2),q=(O&1)===0,Ae=S+y*(q?z:-z);if(Ae<0||Ae>=g)break;try{p=o.getBlackRow(Ae,p)}catch{continue}for(let pe=0;pe<2;pe++){if(pe===1&&(p.reverse(),l&&l.get(P.NEED_RESULT_POINT_CALLBACK)===!0)){const ve=new Map;l.forEach((Ie,Oe)=>ve.set(Oe,Ie)),ve.delete(P.NEED_RESULT_POINT_CALLBACK),l=ve}try{const ve=this.decodeRow(Ae,p,l);if(pe===1){ve.putMetadata(ye.ORIENTATION,180);const Ie=ve.getResultPoints();Ie!==null&&(Ie[0]=new Ge(f-Ie[0].getX()-1,Ie[0].getY()),Ie[1]=new Ge(f-Ie[1].getX()-1,Ie[1].getY()))}return ve}catch{}}}throw new le}static recordPattern(o,l,f){const g=f.length;for(let S=0;S<g;S++)f[S]=0;const p=o.getSize();if(l>=p)throw new le;let x=!o.get(l),y=0,B=l;for(;B<p;){if(o.get(B)!==x)f[y]++;else{if(++y===g)break;f[y]=1,x=!x}B++}if(!(y===g||y===g-1&&B===p))throw new le}static recordPatternInReverse(o,l,f){let g=f.length,p=o.get(l);for(;l>0&&g>=0;)o.get(--l)!==p&&(g--,p=!p);if(g>=0)throw new le;Ve.recordPattern(o,l+1,f)}static patternMatchVariance(o,l,f){const g=o.length;let p=0,x=0;for(let S=0;S<g;S++)p+=o[S],x+=l[S];if(p<x)return Number.POSITIVE_INFINITY;const y=p/x;f*=y;let B=0;for(let S=0;S<g;S++){const O=o[S],z=l[S]*y,q=O>z?O-z:z-O;if(q>f)return Number.POSITIVE_INFINITY;B+=q}return B/p}}class _e extends Ve{static findStartPattern(o){const l=o.getSize(),f=o.getNextSet(0);let g=0,p=Int32Array.from([0,0,0,0,0,0]),x=f,y=!1;const B=6;for(let S=f;S<l;S++)if(o.get(S)!==y)p[g]++;else{if(g===B-1){let O=_e.MAX_AVG_VARIANCE,z=-1;for(let q=_e.CODE_START_A;q<=_e.CODE_START_C;q++){const Ae=Ve.patternMatchVariance(p,_e.CODE_PATTERNS[q],_e.MAX_INDIVIDUAL_VARIANCE);Ae<O&&(O=Ae,z=q)}if(z>=0&&o.isRange(Math.max(0,x-(S-x)/2),x,!1))return Int32Array.from([x,S,z]);x+=p[0]+p[1],p=p.slice(2,p.length-1),p[g-1]=0,p[g]=0,g--}else g++;p[g]=1,y=!y}throw new le}static decodeCode(o,l,f){Ve.recordPattern(o,f,l);let g=_e.MAX_AVG_VARIANCE,p=-1;for(let x=0;x<_e.CODE_PATTERNS.length;x++){const y=_e.CODE_PATTERNS[x],B=this.patternMatchVariance(l,y,_e.MAX_INDIVIDUAL_VARIANCE);B<g&&(g=B,p=x)}if(p>=0)return p;throw new le}decodeRow(o,l,f){const g=f&&f.get(P.ASSUME_GS1)===!0,p=_e.findStartPattern(l),x=p[2];let y=0;const B=new Uint8Array(20);B[y++]=x;let S;switch(x){case _e.CODE_START_A:S=_e.CODE_CODE_A;break;case _e.CODE_START_B:S=_e.CODE_CODE_B;break;case _e.CODE_START_C:S=_e.CODE_CODE_C;break;default:throw new N}let O=!1,z=!1,q="",Ae=p[0],pe=p[1];const ve=Int32Array.from([0,0,0,0,0,0]);let Ie=0,Oe=0,nt=x,at=0,Ye=!0,er=!1,Vt=!1;for(;!O;){const zc=z;switch(z=!1,Ie=Oe,Oe=_e.decodeCode(l,ve,pe),B[y++]=Oe,Oe!==_e.CODE_STOP&&(Ye=!0),Oe!==_e.CODE_STOP&&(at++,nt+=at*Oe),Ae=pe,pe+=ve.reduce((QM,HM)=>QM+HM,0),Oe){case _e.CODE_START_A:case _e.CODE_START_B:case _e.CODE_START_C:throw new N}switch(S){case _e.CODE_CODE_A:if(Oe<64)Vt===er?q+=String.fromCharCode(32+Oe):q+=String.fromCharCode(32+Oe+128),Vt=!1;else if(Oe<96)Vt===er?q+=String.fromCharCode(Oe-64):q+=String.fromCharCode(Oe+64),Vt=!1;else switch(Oe!==_e.CODE_STOP&&(Ye=!1),Oe){case _e.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_A:!er&&Vt?(er=!0,Vt=!1):er&&Vt?(er=!1,Vt=!1):Vt=!0;break;case _e.CODE_SHIFT:z=!0,S=_e.CODE_CODE_B;break;case _e.CODE_CODE_B:S=_e.CODE_CODE_B;break;case _e.CODE_CODE_C:S=_e.CODE_CODE_C;break;case _e.CODE_STOP:O=!0;break}break;case _e.CODE_CODE_B:if(Oe<96)Vt===er?q+=String.fromCharCode(32+Oe):q+=String.fromCharCode(32+Oe+128),Vt=!1;else switch(Oe!==_e.CODE_STOP&&(Ye=!1),Oe){case _e.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_B:!er&&Vt?(er=!0,Vt=!1):er&&Vt?(er=!1,Vt=!1):Vt=!0;break;case _e.CODE_SHIFT:z=!0,S=_e.CODE_CODE_A;break;case _e.CODE_CODE_A:S=_e.CODE_CODE_A;break;case _e.CODE_CODE_C:S=_e.CODE_CODE_C;break;case _e.CODE_STOP:O=!0;break}break;case _e.CODE_CODE_C:if(Oe<100)Oe<10&&(q+="0"),q+=Oe;else switch(Oe!==_e.CODE_STOP&&(Ye=!1),Oe){case _e.CODE_FNC_1:g&&(q.length===0?q+="]C1":q+="");break;case _e.CODE_CODE_A:S=_e.CODE_CODE_A;break;case _e.CODE_CODE_B:S=_e.CODE_CODE_B;break;case _e.CODE_STOP:O=!0;break}break}zc&&(S=S===_e.CODE_CODE_A?_e.CODE_CODE_B:_e.CODE_CODE_A)}const ra=pe-Ae;if(pe=l.getNextUnset(pe),!l.isRange(pe,Math.min(l.getSize(),pe+(pe-Ae)/2),!1))throw new le;if(nt-=at*Ie,nt%103!==Ie)throw new _;const Ts=q.length;if(Ts===0)throw new le;Ts>0&&Ye&&(S===_e.CODE_CODE_C?q=q.substring(0,Ts-2):q=q.substring(0,Ts-1));const na=(p[1]+p[0])/2,Rr=Ae+ra/2,si=B.length,_a=new Uint8Array(si);for(let zc=0;zc<si;zc++)_a[zc]=B[zc];const Kc=[new Ge(na,o),new Ge(Rr,o)];return new ce(q,_a,0,Kc,fe.CODE_128,new Date().getTime())}}_e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],_e.MAX_AVG_VARIANCE=.25,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.CODE_SHIFT=98,_e.CODE_CODE_C=99,_e.CODE_CODE_B=100,_e.CODE_CODE_A=101,_e.CODE_FNC_1=102,_e.CODE_FNC_2=97,_e.CODE_FNC_3=96,_e.CODE_FNC_4_A=101,_e.CODE_FNC_4_B=100,_e.CODE_START_A=103,_e.CODE_START_B=104,_e.CODE_START_C=105,_e.CODE_STOP=106;class tt extends Ve{constructor(o=!1,l=!1){super(),this.usingCheckDigit=o,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,l,f){let g=this.counters;g.fill(0),this.decodeRowResult="";let p=tt.findAsteriskPattern(l,g),x=l.getNextSet(p[1]),y=l.getSize(),B,S;do{tt.recordPattern(l,x,g);let ve=tt.toNarrowWidePattern(g);if(ve<0)throw new le;B=tt.patternToChar(ve),this.decodeRowResult+=B,S=x;for(let Ie of g)x+=Ie;x=l.getNextSet(x)}while(B!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ve of g)O+=ve;let z=x-S-O;if(x!==y&&z*2<O)throw new le;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ie=0;for(let Oe=0;Oe<ve;Oe++)Ie+=tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Oe));if(this.decodeRowResult.charAt(ve)!==tt.ALPHABET_STRING.charAt(Ie%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(this.decodeRowResult.length===0)throw new le;let q;this.extendedMode?q=tt.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;let Ae=(p[1]+p[0])/2,pe=S+O/2;return new ce(q,null,0,[new Ge(Ae,o),new Ge(pe,o)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(o,l){let f=o.getSize(),g=o.getNextSet(0),p=0,x=g,y=!1,B=l.length;for(let S=g;S<f;S++)if(o.get(S)!==y)l[p]++;else{if(p===B-1){if(this.toNarrowWidePattern(l)===tt.ASTERISK_ENCODING&&o.isRange(Math.max(0,x-Math.floor((S-x)/2)),x,!1))return[x,S];x+=l[0]+l[1],l.copyWithin(0,2,2+p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,y=!y}throw new le}static toNarrowWidePattern(o){let l=o.length,f=0,g;do{let p=2147483647;for(let B of o)B<p&&B>f&&(p=B);f=p,g=0;let x=0,y=0;for(let B=0;B<l;B++){let S=o[B];S>f&&(y|=1<<l-1-B,g++,x+=S)}if(g===3){for(let B=0;B<l&&g>0;B++){let S=o[B];if(S>f&&(g--,S*2>=x))return-1}return y}}while(g>3);return-1}static patternToChar(o){for(let l=0;l<tt.CHARACTER_ENCODINGS.length;l++)if(tt.CHARACTER_ENCODINGS[l]===o)return tt.ALPHABET_STRING.charAt(l);if(o===tt.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(o){let l=o.length,f="";for(let g=0;g<l;g++){let p=o.charAt(g);if(p==="+"||p==="$"||p==="%"||p==="/"){let x=o.charAt(g+1),y="\0";switch(p){case"+":if(x>="A"&&x<="Z")y=String.fromCharCode(x.charCodeAt(0)+32);else throw new N;break;case"$":if(x>="A"&&x<="Z")y=String.fromCharCode(x.charCodeAt(0)-64);else throw new N;break;case"%":if(x>="A"&&x<="E")y=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")y=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")y=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")y=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")y="\0";else if(x==="V")y="@";else if(x==="W")y="`";else if(x==="X"||x==="Y"||x==="Z")y="";else throw new N;break;case"/":if(x>="A"&&x<="O")y=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")y=":";else throw new N;break}f+=y,g++}else f+=p}return f}}tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],tt.ASTERISK_ENCODING=148;class dt extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,l,f){let g=this.decodeStart(l),p=this.decodeEnd(l),x=new V;dt.decodeMiddle(l,g[1],p[0],x);let y=x.toString(),B=null;f!=null&&(B=f.get(P.ALLOWED_LENGTHS)),B==null&&(B=dt.DEFAULT_ALLOWED_LENGTHS);let S=y.length,O=!1,z=0;for(let pe of B){if(S===pe){O=!0;break}pe>z&&(z=pe)}if(!O&&S>z&&(O=!0),!O)throw new N;const q=[new Ge(g[1],o),new Ge(p[0],o)];return new ce(y,null,0,q,fe.ITF,new Date().getTime())}static decodeMiddle(o,l,f,g){let p=new Int32Array(10),x=new Int32Array(5),y=new Int32Array(5);for(p.fill(0),x.fill(0),y.fill(0);l<f;){Ve.recordPattern(o,l,p);for(let S=0;S<5;S++){let O=2*S;x[S]=p[O],y[S]=p[O+1]}let B=dt.decodeDigit(x);g.append(B.toString()),B=this.decodeDigit(y),g.append(B.toString()),p.forEach(function(S){l+=S})}}decodeStart(o){let l=dt.skipWhiteSpace(o),f=dt.findGuardPattern(o,l,dt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(o,f[0]),f}validateQuietZone(o,l){let f=this.narrowLineWidth*10;f=f<l?f:l;for(let g=l-1;f>0&&g>=0&&!o.get(g);g--)f--;if(f!==0)throw new le}static skipWhiteSpace(o){const l=o.getSize(),f=o.getNextSet(0);if(f===l)throw new le;return f}decodeEnd(o){o.reverse();try{let l=dt.skipWhiteSpace(o),f;try{f=dt.findGuardPattern(o,l,dt.END_PATTERN_REVERSED[0])}catch(p){p instanceof le&&(f=dt.findGuardPattern(o,l,dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,f[0]);let g=f[0];return f[0]=o.getSize()-f[1],f[1]=o.getSize()-g,f}finally{o.reverse()}}static findGuardPattern(o,l,f){let g=f.length,p=new Int32Array(g),x=o.getSize(),y=!1,B=0,S=l;p.fill(0);for(let O=l;O<x;O++)if(o.get(O)!==y)p[B]++;else{if(B===g-1){if(Ve.patternMatchVariance(p,f,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return[S,O];S+=p[0]+p[1],T.arraycopy(p,2,p,0,B-1),p[B-1]=0,p[B]=0,B--}else B++;p[B]=1,y=!y}throw new le}static decodeDigit(o){let l=dt.MAX_AVG_VARIANCE,f=-1,g=dt.PATTERNS.length;for(let p=0;p<g;p++){let x=dt.PATTERNS[p],y=Ve.patternMatchVariance(o,x,dt.MAX_INDIVIDUAL_VARIANCE);y<l?(l=y,f=p):y===l&&(f=-1)}if(f>=0)return f%10;throw new le}}dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dt.MAX_AVG_VARIANCE=.38,dt.MAX_INDIVIDUAL_VARIANCE=.5,dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dt.START_PATTERN=Int32Array.from([1,1,1,1]),dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l=!1,f,g=0,p=Int32Array.from([0,0,0]);for(;!l;){p=Int32Array.from([0,0,0]),f=Wt.findGuardPattern(o,g,!1,this.START_END_PATTERN,p);let x=f[0];g=f[1];let y=x-(g-x);y>=0&&(l=o.isRange(y,x,!1))}return f}static checkChecksum(o){return Wt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let f=parseInt(o.charAt(l-1),10);return Wt.getStandardUPCEANChecksum(o.substring(0,l-1))===f}static getStandardUPCEANChecksum(o){let l=o.length,f=0;for(let g=l-1;g>=0;g-=2){let p=o.charAt(g).charCodeAt(0)-48;if(p<0||p>9)throw new N;f+=p}f*=3;for(let g=l-2;g>=0;g-=2){let p=o.charAt(g).charCodeAt(0)-48;if(p<0||p>9)throw new N;f+=p}return(1e3-f)%10}static decodeEnd(o,l){return Wt.findGuardPattern(o,l,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,l,f,g){return this.findGuardPattern(o,l,f,g,new Int32Array(g.length))}static findGuardPattern(o,l,f,g,p){let x=o.getSize();l=f?o.getNextUnset(l):o.getNextSet(l);let y=0,B=l,S=g.length,O=f;for(let z=l;z<x;z++)if(o.get(z)!==O)p[y]++;else{if(y===S-1){if(Ve.patternMatchVariance(p,g,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([B,z]);B+=p[0]+p[1];let q=p.slice(2,p.length-1);for(let Ae=0;Ae<y-1;Ae++)p[Ae]=q[Ae];p[y-1]=0,p[y]=0,y--}else y++;p[y]=1,O=!O}throw new le}static decodeDigit(o,l,f,g){this.recordPattern(o,f,l);let p=this.MAX_AVG_VARIANCE,x=-1,y=g.length;for(let B=0;B<y;B++){let S=g[B],O=Ve.patternMatchVariance(l,S,Wt.MAX_INDIVIDUAL_VARIANCE);O<p&&(p=O,x=B)}if(x>=0)return x;throw new le}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,f){let g=this.decodeRowStringBuffer,p=this.decodeMiddle(l,f,g),x=g.toString(),y=$i.parseExtensionString(x),B=[new Ge((f[0]+f[1])/2,o),new Ge(p,o)],S=new ce(x,null,0,B,fe.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&S.putAllMetadata(y),S}decodeMiddle(o,l,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let p=o.getSize(),x=l[1],y=0;for(let S=0;S<5&&x<p;S++){let O=Wt.decodeDigit(o,g,x,Wt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let z of g)x+=z;O>=10&&(y|=1<<4-S),S!==4&&(x=o.getNextSet(x),x=o.getNextUnset(x))}if(f.length!==5)throw new le;let B=this.determineCheckDigit(y);if($i.extensionChecksum(f.toString())!==B)throw new le;return x}static extensionChecksum(o){let l=o.length,f=0;for(let g=l-2;g>=0;g-=2)f+=o.charAt(g).charCodeAt(0)-48;f*=3;for(let g=l-1;g>=0;g-=2)f+=o.charAt(g).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(o){for(let l=0;l<10;l++)if(o===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new le}static parseExtensionString(o){if(o.length!==5)return null;let l=$i.parseExtension5String(o);return l==null?null:new Map([[ye.SUGGESTED_PRICE,l]])}static parseExtension5String(o){let l;switch(o.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let f=parseInt(o.substring(1)),g=(f/100).toString(),p=f%100,x=p<10?"0"+p:p.toString();return l+g+"."+x}}class hn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,f){let g=this.decodeRowStringBuffer,p=this.decodeMiddle(l,f,g),x=g.toString(),y=hn.parseExtensionString(x),B=[new Ge((f[0]+f[1])/2,o),new Ge(p,o)],S=new ce(x,null,0,B,fe.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&S.putAllMetadata(y),S}decodeMiddle(o,l,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let p=o.getSize(),x=l[1],y=0;for(let B=0;B<2&&x<p;B++){let S=Wt.decodeDigit(o,g,x,Wt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+S%10);for(let O of g)x+=O;S>=10&&(y|=1<<1-B),B!==1&&(x=o.getNextSet(x),x=o.getNextUnset(x))}if(f.length!==2)throw new le;if(parseInt(f.toString())%4!==y)throw new le;return x}static parseExtensionString(o){return o.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(o)]])}}class ws{static decodeRow(o,l,f){let g=Wt.findGuardPattern(l,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $i().decodeRow(o,l,g)}catch{return new hn().decodeRow(o,l,g)}}}ws.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Pt extends Wt{constructor(){super(),this.decodeRowStringBuffer="",Pt.L_AND_G_PATTERNS=Pt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let l=Pt.L_PATTERNS[o-10],f=new Int32Array(l.length);for(let g=0;g<l.length;g++)f[g]=l[l.length-g-1];Pt.L_AND_G_PATTERNS[o]=f}}decodeRow(o,l,f){let g=Pt.findStartGuardPattern(l),p=f==null?null:f.get(P.NEED_RESULT_POINT_CALLBACK);if(p!=null){const Ye=new Ge((g[0]+g[1])/2,o);p.foundPossibleResultPoint(Ye)}let x=this.decodeMiddle(l,g,this.decodeRowStringBuffer),y=x.rowOffset,B=x.resultString;if(p!=null){const Ye=new Ge(y,o);p.foundPossibleResultPoint(Ye)}let S=this.decodeEnd(l,y);if(p!=null){const Ye=new Ge((S[0]+S[1])/2,o);p.foundPossibleResultPoint(Ye)}let O=S[1],z=O+(O-S[0]);if(z>=l.getSize()||!l.isRange(O,z,!1))throw new le;let q=B.toString();if(q.length<8)throw new N;if(!Pt.checkChecksum(q))throw new _;let Ae=(g[1]+g[0])/2,pe=(S[1]+S[0])/2,ve=this.getBarcodeFormat(),Ie=[new Ge(Ae,o),new Ge(pe,o)],Oe=new ce(q,null,0,Ie,ve,new Date().getTime()),nt=0;try{let Ye=ws.decodeRow(o,l,S[1]);Oe.putMetadata(ye.UPC_EAN_EXTENSION,Ye.getText()),Oe.putAllMetadata(Ye.getResultMetadata()),Oe.addResultPoints(Ye.getResultPoints()),nt=Ye.getText().length}catch{}let at=f==null?null:f.get(P.ALLOWED_EAN_EXTENSIONS);if(at!=null){let Ye=!1;for(let er in at)if(nt.toString()===er){Ye=!0;break}if(!Ye)throw new le}return Oe}decodeEnd(o,l){return Pt.findGuardPattern(o,l,!1,Pt.START_END_PATTERN,new Int32Array(Pt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return Pt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let f=parseInt(o.charAt(l-1),10);return Pt.getStandardUPCEANChecksum(o.substring(0,l-1))===f}static getStandardUPCEANChecksum(o){let l=o.length,f=0;for(let g=l-1;g>=0;g-=2){let p=o.charAt(g).charCodeAt(0)-48;if(p<0||p>9)throw new N;f+=p}f*=3;for(let g=l-2;g>=0;g-=2){let p=o.charAt(g).charCodeAt(0)-48;if(p<0||p>9)throw new N;f+=p}return(1e3-f)%10}}class ya extends Pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let p=o.getSize(),x=l[1],y=0;for(let S=0;S<6&&x<p;S++){let O=Pt.decodeDigit(o,g,x,Pt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let z of g)x+=z;O>=10&&(y|=1<<5-S)}f=ya.determineFirstDigit(f,y),x=Pt.findGuardPattern(o,x,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&x<p;S++){let O=Pt.decodeDigit(o,g,x,Pt.L_PATTERNS);f+=String.fromCharCode(48+O);for(let z of g)x+=z}return{rowOffset:x,resultString:f}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(o,l){for(let f=0;f<10;f++)if(l===this.FIRST_DIGIT_ENCODINGS[f])return o=String.fromCharCode(48+f)+o,o;throw new le}}ya.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends Pt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,f){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let p=o.getSize(),x=l[1];for(let B=0;B<4&&x<p;B++){let S=Pt.decodeDigit(o,g,x,Pt.L_PATTERNS);f+=String.fromCharCode(48+S);for(let O of g)x+=O}x=Pt.findGuardPattern(o,x,!0,Pt.MIDDLE_PATTERN,new Int32Array(Pt.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<4&&x<p;B++){let S=Pt.decodeDigit(o,g,x,Pt.L_PATTERNS);f+=String.fromCharCode(48+S);for(let O of g)x+=O}return{rowOffset:x,resultString:f}}getBarcodeFormat(){return fe.EAN_8}}class Ka extends Pt{constructor(){super(...arguments),this.ean13Reader=new ya}getBarcodeFormat(){return fe.UPC_A}decode(o,l){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,l,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,l,f))}decodeMiddle(o,l,f){return this.ean13Reader.decodeMiddle(o,l,f)}maybeReturnResult(o){let l=o.getText();if(l.charAt(0)==="0"){let f=new ce(l.substring(1),null,null,o.getResultPoints(),fe.UPC_A);return o.getResultMetadata()!=null&&f.putAllMetadata(o.getResultMetadata()),f}else throw new le}reset(){this.ean13Reader.reset()}}class yi extends Pt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,l,f){const g=this.decodeMiddleCounters.map(S=>S);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const p=o.getSize();let x=l[1],y=0;for(let S=0;S<6&&x<p;S++){const O=yi.decodeDigit(o,g,x,yi.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let z of g)x+=z;O>=10&&(y|=1<<5-S)}let B=yi.determineNumSysAndCheckDigit(f,y);return{rowOffset:x,resultString:B}}decodeEnd(o,l){return yi.findGuardPatternWithoutCounters(o,l,!0,yi.MIDDLE_END_PATTERN)}checkChecksum(o){return Pt.checkChecksum(yi.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,l){for(let f=0;f<=1;f++)for(let g=0;g<10;g++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][g]){let p=String.fromCharCode(48+f),x=String.fromCharCode(48+g);return p+o+x}throw le.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(o){const l=o.slice(1,7).split("").map(p=>p.charCodeAt(0)),f=new V;f.append(o.charAt(0));let g=l[5];switch(g){case 0:case 1:case 2:f.appendChars(l,0,2),f.append(g),f.append("0000"),f.appendChars(l,2,3);break;case 3:f.appendChars(l,0,3),f.append("00000"),f.appendChars(l,3,2);break;case 4:f.appendChars(l,0,4),f.append("00000"),f.append(l[4]);break;default:f.appendChars(l,0,5),f.append("0000"),f.append(g);break}return o.length>=8&&f.append(o.charAt(7)),f.toString()}}yi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class zs extends Ve{constructor(o){super();let l=o==null?null:o.get(P.POSSIBLE_FORMATS),f=[];n(l)?(f.push(new ya),f.push(new Ka),f.push(new ys),f.push(new yi)):(l.indexOf(fe.EAN_13)>-1&&f.push(new ya),l.indexOf(fe.UPC_A)>-1&&f.push(new Ka),l.indexOf(fe.EAN_8)>-1&&f.push(new ys),l.indexOf(fe.UPC_E)>-1&&f.push(new yi)),this.readers=f}decodeRow(o,l,f){for(let g of this.readers)try{const p=g.decodeRow(o,l,f),x=p.getBarcodeFormat()===fe.EAN_13&&p.getText().charAt(0)==="0",y=f==null?null:f.get(P.POSSIBLE_FORMATS),B=y==null||y.includes(fe.UPC_A);if(x&&B){const S=p.getRawBytes(),O=new ce(p.getText().substring(1),S,S?S.length:null,p.getResultPoints(),fe.UPC_A);return O.putAllMetadata(p.getResultMetadata()),O}return p}catch{}throw new le}reset(){for(let o of this.readers)o.reset()}}class dn extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,l){for(let f=0;f<l.length;f++)if(Ve.patternMatchVariance(o,l[f],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return f;throw new le}static count(o){return st.sum(new Int32Array(o))}static increment(o,l){let f=0,g=l[0];for(let p=1;p<o.length;p++)l[p]>g&&(g=l[p],f=p);o[f]++}static decrement(o,l){let f=0,g=l[0];for(let p=1;p<o.length;p++)l[p]<g&&(g=l[p],f=p);o[f]--}static isFinderPattern(o){let l=o[0]+o[1],f=l+o[2]+o[3],g=l/f;if(g>=dn.MIN_FINDER_PATTERN_RATIO&&g<=dn.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let y of o)y>x&&(x=y),y<p&&(p=y);return x<10*p}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zi{constructor(o,l){this.value=o,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Zi))return!1;const l=o;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wo{constructor(o,l,f,g,p){this.value=o,this.startEnd=l,this.value=o,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ge(f,p)),this.resultPoints.push(new Ge(g,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof wo))return!1;const l=o;return this.value===l.value}hashCode(){return this.value}}class Tr{constructor(){}static getRSSvalue(o,l,f){let g=0;for(let B of o)g+=B;let p=0,x=0,y=o.length;for(let B=0;B<y-1;B++){let S;for(S=1,x|=1<<B;S<o[B];S++,x&=~(1<<B)){let O=Tr.combins(g-S-1,y-B-2);if(f&&x===0&&g-S-(y-B-1)>=y-B-1&&(O-=Tr.combins(g-S-(y-B),y-B-2)),y-B-1>1){let z=0;for(let q=g-S-(y-B-2);q>l;q--)z+=Tr.combins(g-S-q-1,y-B-3);O-=z*(y-1-B)}else g-S>l&&O--;p+=O}g-=S}return p}static combins(o,l){let f,g;o-l>l?(g=l,f=o-l):(g=o-l,f=l);let p=1,x=1;for(let y=o;y>f;y--)p*=y,x<=g&&(p/=x,x++);for(;x<=g;)p/=x,x++;return p}}class Hc{static buildBitArray(o){let l=o.length*2-1;o[o.length-1].getRightChar()==null&&(l-=1);let f=12*l,g=new L(f),p=0,y=o[0].getRightChar().getValue();for(let B=11;B>=0;--B)y&1<<B&&g.set(p),p++;for(let B=1;B<o.length;++B){let S=o[B],O=S.getLeftChar().getValue();for(let z=11;z>=0;--z)O&1<<z&&g.set(p),p++;if(S.getRightChar()!=null){let z=S.getRightChar().getValue();for(let q=11;q>=0;--q)z&1<<q&&g.set(p),p++}}return g}}class ni{constructor(o,l){l?this.decodedInformation=null:(this.finished=o,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Es{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class zn extends Es{constructor(o,l){super(o),this.value=l}getValue(){return this.value}isFNC1(){return this.value===zn.FNC1}}zn.FNC1="$";class Cs extends Es{constructor(o,l,f){super(o),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class X extends Es{constructor(o,l,f){if(super(o),l<0||l>10||f<0||f>10)throw new N;this.firstDigit=l,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===X.FNC1}isSecondDigitFNC1(){return this.secondDigit===X.FNC1}isAnyFNC1(){return this.firstDigit===X.FNC1||this.secondDigit===X.FNC1}}X.FNC1=10;class Y{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new le;let l=o.substring(0,2);for(let p of Y.TWO_DIGIT_DATA_LENGTH)if(p[0]===l)return p[1]===Y.VARIABLE_LENGTH?Y.processVariableAI(2,p[2],o):Y.processFixedAI(2,p[1],o);if(o.length<3)throw new le;let f=o.substring(0,3);for(let p of Y.THREE_DIGIT_DATA_LENGTH)if(p[0]===f)return p[1]===Y.VARIABLE_LENGTH?Y.processVariableAI(3,p[2],o):Y.processFixedAI(3,p[1],o);for(let p of Y.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===f)return p[1]===Y.VARIABLE_LENGTH?Y.processVariableAI(4,p[2],o):Y.processFixedAI(4,p[1],o);if(o.length<4)throw new le;let g=o.substring(0,4);for(let p of Y.FOUR_DIGIT_DATA_LENGTH)if(p[0]===g)return p[1]===Y.VARIABLE_LENGTH?Y.processVariableAI(4,p[2],o):Y.processFixedAI(4,p[1],o);throw new le}static processFixedAI(o,l,f){if(f.length<o)throw new le;let g=f.substring(0,o);if(f.length<o+l)throw new le;let p=f.substring(o,o+l),x=f.substring(o+l),y="("+g+")"+p,B=Y.parseFieldsInGeneralPurpose(x);return B==null?y:y+B}static processVariableAI(o,l,f){let g=f.substring(0,o),p;f.length<o+l?p=f.length:p=o+l;let x=f.substring(o,p),y=f.substring(p),B="("+g+")"+x,S=Y.parseFieldsInGeneralPurpose(y);return S==null?B:B+S}}Y.VARIABLE_LENGTH=[],Y.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Y.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Y.VARIABLE_LENGTH,20],["22",Y.VARIABLE_LENGTH,29],["30",Y.VARIABLE_LENGTH,8],["37",Y.VARIABLE_LENGTH,8],["90",Y.VARIABLE_LENGTH,30],["91",Y.VARIABLE_LENGTH,30],["92",Y.VARIABLE_LENGTH,30],["93",Y.VARIABLE_LENGTH,30],["94",Y.VARIABLE_LENGTH,30],["95",Y.VARIABLE_LENGTH,30],["96",Y.VARIABLE_LENGTH,30],["97",Y.VARIABLE_LENGTH,3],["98",Y.VARIABLE_LENGTH,30],["99",Y.VARIABLE_LENGTH,30]],Y.THREE_DIGIT_DATA_LENGTH=[["240",Y.VARIABLE_LENGTH,30],["241",Y.VARIABLE_LENGTH,30],["242",Y.VARIABLE_LENGTH,6],["250",Y.VARIABLE_LENGTH,30],["251",Y.VARIABLE_LENGTH,30],["253",Y.VARIABLE_LENGTH,17],["254",Y.VARIABLE_LENGTH,20],["400",Y.VARIABLE_LENGTH,30],["401",Y.VARIABLE_LENGTH,30],["402",17],["403",Y.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Y.VARIABLE_LENGTH,20],["421",Y.VARIABLE_LENGTH,15],["422",3],["423",Y.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Y.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Y.VARIABLE_LENGTH,15],["391",Y.VARIABLE_LENGTH,18],["392",Y.VARIABLE_LENGTH,15],["393",Y.VARIABLE_LENGTH,18],["703",Y.VARIABLE_LENGTH,30]],Y.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Y.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Y.VARIABLE_LENGTH,20],["8003",Y.VARIABLE_LENGTH,30],["8004",Y.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Y.VARIABLE_LENGTH,30],["8008",Y.VARIABLE_LENGTH,12],["8018",18],["8020",Y.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Y.VARIABLE_LENGTH,70],["8200",Y.VARIABLE_LENGTH,70]];class ee{constructor(o){this.buffer=new V,this.information=o}decodeAllCodes(o,l){let f=l,g=null;do{let p=this.decodeGeneralPurposeField(f,g),x=Y.parseFieldsInGeneralPurpose(p.getNewString());if(x!=null&&o.append(x),p.isRemaining()?g=""+p.getRemainingValue():g=null,f===p.getNewPosition())break;f=p.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let l=o;l<o+3;++l)if(this.information.get(l))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(o,4);return p===0?new X(this.information.getSize(),X.FNC1,X.FNC1):new X(this.information.getSize(),p-1,X.FNC1)}let l=this.extractNumericValueFromBitArray(o,7),f=(l-8)/11,g=(l-8)%11;return new X(o+7,f,g)}extractNumericValueFromBitArray(o,l){return ee.extractNumericValueFromBitArray(this.information,o,l)}static extractNumericValueFromBitArray(o,l,f){let g=0;for(let p=0;p<f;++p)o.get(l+p)&&(g|=1<<f-p-1);return g}decodeGeneralPurposeField(o,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(o);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Cs(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Cs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,l;do{let f=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),o=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),o=l.isFinished()):(l=this.parseNumericBlock(),o=l.isFinished()),!(f!==this.current.getPosition())&&!o)break}while(!o);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let l;return o.isSecondDigitFNC1()?l=new Cs(this.current.getPosition(),this.buffer.toString()):l=new Cs(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ni(!0,l)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let l=new Cs(this.current.getPosition(),this.buffer.toString());return new ni(!0,l)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ni(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Cs(this.current.getPosition(),this.buffer.toString());return new ni(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ni(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Cs(this.current.getPosition(),this.buffer.toString());return new ni(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ni(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<116)return!0;if(o+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(o,8);return g>=232&&g<253}decodeIsoIec646(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new zn(o+5,zn.FNC1);if(l>=5&&l<15)return new zn(o+5,"0"+(l-5));let f=this.extractNumericValueFromBitArray(o,7);if(f>=64&&f<90)return new zn(o+7,""+(f+1));if(f>=90&&f<116)return new zn(o+7,""+(f+7));let g=this.extractNumericValueFromBitArray(o,8),p;switch(g){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new N}return new zn(o+8,p)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(o,6);return f>=16&&f<63}decodeAlphanumeric(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new zn(o+5,zn.FNC1);if(l>=5&&l<15)return new zn(o+5,"0"+(l-5));let f=this.extractNumericValueFromBitArray(o,6);if(f>=32&&f<58)return new zn(o+6,""+(f+33));let g;switch(f){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new wt("Decoding invalid alphanumeric value: "+f)}return new zn(o+6,g)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<5&&l+o<this.information.getSize();++l)if(l===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+l))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let l=o;l<o+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<4&&l+o<this.information.getSize();++l)if(this.information.get(o+l))return!1;return!0}}class te{constructor(o){this.information=o,this.generalDecoder=new ee(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ae extends te{constructor(o){super(o)}encodeCompressedGtin(o,l){o.append("(01)");let f=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,l,f)}encodeCompressedGtinWithoutAI(o,l,f){for(let g=0;g<4;++g){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*g,10);p/100===0&&o.append("0"),p/10===0&&o.append("0"),o.append(p)}ae.appendCheckDigit(o,f)}static appendCheckDigit(o,l){let f=0;for(let g=0;g<13;g++){let p=o.charAt(g+l).charCodeAt(0)-48;f+=g&1?p:3*p}f=10-f%10,f===10&&(f=0),o.append(f)}}ae.GTIN_SIZE=40;class ue extends ae{constructor(o){super(o)}parseInformation(){let o=new V;o.append("(01)");let l=o.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(ue.HEADER_SIZE,4);return o.append(f),this.encodeCompressedGtinWithoutAI(o,ue.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(o,ue.HEADER_SIZE+44)}}ue.HEADER_SIZE=4;class Ne extends te{constructor(o){super(o)}parseInformation(){let o=new V;return this.getGeneralDecoder().decodeAllCodes(o,Ne.HEADER_SIZE)}}Ne.HEADER_SIZE=5;class Qe extends ae{constructor(o){super(o)}encodeCompressedWeight(o,l,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l,f);this.addWeightCode(o,g);let p=this.checkWeight(g),x=1e5;for(let y=0;y<5;++y)p/x===0&&o.append("0"),x/=10;o.append(p)}}class Be extends Qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Be.HEADER_SIZE+Qe.GTIN_SIZE+Be.WEIGHT_SIZE)throw new le;let o=new V;return this.encodeCompressedGtin(o,Be.HEADER_SIZE),this.encodeCompressedWeight(o,Be.HEADER_SIZE+Qe.GTIN_SIZE,Be.WEIGHT_SIZE),o.toString()}}Be.HEADER_SIZE=5,Be.WEIGHT_SIZE=15;class Re extends Be{constructor(o){super(o)}addWeightCode(o,l){o.append("(3103)")}checkWeight(o){return o}}class ke extends Be{constructor(o){super(o)}addWeightCode(o,l){l<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Xe extends ae{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Xe.HEADER_SIZE+ae.GTIN_SIZE)throw new le;let o=new V;this.encodeCompressedGtin(o,Xe.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE+ae.GTIN_SIZE,Xe.LAST_DIGIT_SIZE);o.append("(392"),o.append(l),o.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(Xe.HEADER_SIZE+ae.GTIN_SIZE+Xe.LAST_DIGIT_SIZE,null);return o.append(f.getNewString()),o.toString()}}Xe.HEADER_SIZE=8,Xe.LAST_DIGIT_SIZE=2;class $e extends ae{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<$e.HEADER_SIZE+ae.GTIN_SIZE)throw new le;let o=new V;this.encodeCompressedGtin(o,$e.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE+ae.GTIN_SIZE,$e.LAST_DIGIT_SIZE);o.append("(393"),o.append(l),o.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE+ae.GTIN_SIZE+$e.LAST_DIGIT_SIZE,$e.FIRST_THREE_DIGITS_SIZE);f/100==0&&o.append("0"),f/10==0&&o.append("0"),o.append(f);let g=this.getGeneralDecoder().decodeGeneralPurposeField($e.HEADER_SIZE+ae.GTIN_SIZE+$e.LAST_DIGIT_SIZE+$e.FIRST_THREE_DIGITS_SIZE,null);return o.append(g.getNewString()),o.toString()}}$e.HEADER_SIZE=8,$e.LAST_DIGIT_SIZE=2,$e.FIRST_THREE_DIGITS_SIZE=10;class et extends Qe{constructor(o,l,f){super(o),this.dateCode=f,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE+et.DATE_SIZE)throw new le;let o=new V;return this.encodeCompressedGtin(o,et.HEADER_SIZE),this.encodeCompressedWeight(o,et.HEADER_SIZE+et.GTIN_SIZE,et.WEIGHT_SIZE),this.encodeCompressedDate(o,et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,l){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,et.DATE_SIZE);if(f==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let g=f%32;f/=32;let p=f%12+1;f/=12;let x=f;x/10==0&&o.append("0"),o.append(x),p/10==0&&o.append("0"),o.append(p),g/10==0&&o.append("0"),o.append(g)}addWeightCode(o,l){o.append("("),o.append(this.firstAIdigits),o.append(l/1e5),o.append(")")}checkWeight(o){return o%1e5}}et.HEADER_SIZE=8,et.WEIGHT_SIZE=20,et.DATE_SIZE=16;function rt(K){try{if(K.get(1))return new ue(K);if(!K.get(2))return new Ne(K);switch(ee.extractNumericValueFromBitArray(K,1,4)){case 4:return new Re(K);case 5:return new ke(K)}switch(ee.extractNumericValueFromBitArray(K,1,5)){case 12:return new Xe(K);case 13:return new $e(K)}switch(ee.extractNumericValueFromBitArray(K,1,7)){case 56:return new et(K,"310","11");case 57:return new et(K,"320","11");case 58:return new et(K,"310","13");case 59:return new et(K,"320","13");case 60:return new et(K,"310","15");case 61:return new et(K,"320","15");case 62:return new et(K,"310","17");case 63:return new et(K,"320","17")}}catch(o){throw console.log(o),new wt("unknown decoder: "+K)}}class ot{constructor(o,l,f,g){this.leftchar=o,this.rightchar=l,this.finderpattern=f,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,l){return o instanceof ot?ot.equalsOrNull(o.leftchar,l.leftchar)&&ot.equalsOrNull(o.rightchar,l.rightchar)&&ot.equalsOrNull(o.finderpattern,l.finderpattern):!1}static equalsOrNull(o,l){return o===null?l===null:ot.equals(o,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bt{constructor(o,l,f){this.pairs=o,this.rowNumber=l,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,l){return o instanceof bt?this.checkEqualitity(o,l)&&o.wasReversed===l.wasReversed:!1}checkEqualitity(o,l){if(!o||!l)return;let f;return o.forEach((g,p)=>{l.forEach(x=>{g.getLeftChar().getValue()===x.getLeftChar().getValue()&&g.getRightChar().getValue()===x.getRightChar().getValue()&&g.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(f=!0)})}),f}}class He extends dn{constructor(o){super(...arguments),this.pairs=new Array(He.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,l,f){this.pairs.length=0,this.startFromEven=!1;try{return He.constructResult(this.decodeRow2pairs(o,l))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,He.constructResult(this.decodeRow2pairs(o,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,l){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,o))}catch(p){if(p instanceof le){if(!this.pairs.length)throw new le;f=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(o,!1),g){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new le}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return o&&(this.rows=this.rows.reverse()),l}checkRows(o,l){for(let f=l;f<this.rows.length;f++){let g=this.rows[f];this.pairs.length=0;for(let x of o)this.pairs.push(x.getPairs());if(this.pairs.push(g.getPairs()),!He.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(o);p.push(g);try{return this.checkRows(p,f+1)}catch(x){this.verbose&&console.log(x)}}throw new le}static isValidSequence(o){for(let l of He.FINDER_PATTERN_SEQUENCES){if(o.length>l.length)continue;let f=!0;for(let g=0;g<o.length;g++)if(o[g].getFinderPattern().getValue()!=l[g]){f=!1;break}if(f)return!0}return!1}storeRow(o,l){let f=0,g=!1,p=!1;for(;f<this.rows.length;){let x=this.rows[f];if(x.getRowNumber()>o){p=x.isEquivalent(this.pairs);break}g=x.isEquivalent(this.pairs),f++}p||g||He.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new bt(this.pairs,o,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,l){for(let f of l)if(f.getPairs().length!==o.length){for(let g of f.getPairs())for(let p of o)if(ot.equals(g,p))break}}static isPartialRow(o,l){for(let f of l){let g=!0;for(let p of o){let x=!1;for(let y of f.getPairs())if(p.equals(y)){x=!0;break}if(!x){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(o){let l=Hc.buildBitArray(o),g=rt(l).parseInformation(),p=o[0].getFinderPattern().getResultPoints(),x=o[o.length-1].getFinderPattern().getResultPoints(),y=[p[0],p[1],x[0],x[1]];return new ce(g,null,null,y,fe.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),l=o.getLeftChar(),f=o.getRightChar();if(f==null)return!1;let g=f.getChecksumPortion(),p=2;for(let y=1;y<this.pairs.size();++y){let B=this.pairs.get(y);g+=B.getLeftChar().getChecksumPortion(),p++;let S=B.getRightChar();S!=null&&(g+=S.getChecksumPortion(),p++)}return g%=211,211*(p-4)+g==l.getValue()}static getNextSecondBar(o,l){let f;return o.get(l)?(f=o.getNextUnset(l),f=o.getNextSet(f)):(f=o.getNextSet(l),f=o.getNextUnset(f)),f}retrieveNextPair(o,l,f){let g=l.length%2==0;this.startFromEven&&(g=!g);let p,x=!0,y=-1;do this.findNextPair(o,l,y),p=this.parseFoundFinderPattern(o,f,g),p==null?y=He.getNextSecondBar(o,this.startEnd[0]):x=!1;while(x);let B=this.decodeDataCharacter(o,p,g,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new le;let S;try{S=this.decodeDataCharacter(o,p,g,!1)}catch(O){S=null,this.verbose&&console.log(O)}return new ot(B,S,p,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,l,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let p=o.getSize(),x;f>=0?x=f:this.isEmptyPair(l)?x=0:x=l[l.length-1].getFinderPattern().getStartEnd()[1];let y=l.length%2!=0;this.startFromEven&&(y=!y);let B=!1;for(;x<p&&(B=!o.get(x),!!B);)x++;let S=0,O=x;for(let z=x;z<p;z++)if(o.get(z)!=B)g[S]++;else{if(S==3){if(y&&He.reverseCounters(g),He.isFinderPattern(g)){this.startEnd[0]=O,this.startEnd[1]=z;return}y&&He.reverseCounters(g),O+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,S--}else S++;g[S]=1,B=!B}throw new le}static reverseCounters(o){let l=o.length;for(let f=0;f<l/2;++f){let g=o[f];o[f]=o[l-f-1],o[l-f-1]=g}}parseFoundFinderPattern(o,l,f){let g,p,x;if(f){let S=this.startEnd[0]-1;for(;S>=0&&!o.get(S);)S--;S++,g=this.startEnd[0]-S,p=S,x=this.startEnd[1]}else p=this.startEnd[0],x=o.getNextUnset(this.startEnd[1]+1),g=x-this.startEnd[1];let y=this.getDecodeFinderCounters();T.arraycopy(y,0,y,1,y.length-1),y[0]=g;let B;try{B=this.parseFinderValue(y,He.FINDER_PATTERNS)}catch{return null}return new wo(B,[p,x],p,x,l)}decodeDataCharacter(o,l,f,g){let p=this.getDataCharacterCounters();for(let Rr=0;Rr<p.length;Rr++)p[Rr]=0;if(g)He.recordPatternInReverse(o,l.getStartEnd()[0],p);else{He.recordPattern(o,l.getStartEnd()[1],p);for(let Rr=0,si=p.length-1;Rr<si;Rr++,si--){let _a=p[Rr];p[Rr]=p[si],p[si]=_a}}let x=17,y=st.sum(new Int32Array(p))/x,B=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(y-B)/B>.3)throw new le;let S=this.getOddCounts(),O=this.getEvenCounts(),z=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let Rr=0;Rr<p.length;Rr++){let si=1*p[Rr]/y,_a=si+.5;if(_a<1){if(si<.3)throw new le;_a=1}else if(_a>8){if(si>8.7)throw new le;_a=8}let Kc=Rr/2;Rr&1?(O[Kc]=_a,q[Kc]=si-_a):(S[Kc]=_a,z[Kc]=si-_a)}this.adjustOddEvenCounts(x);let Ae=4*l.getValue()+(f?0:2)+(g?0:1)-1,pe=0,ve=0;for(let Rr=S.length-1;Rr>=0;Rr--){if(He.isNotA1left(l,f,g)){let si=He.WEIGHTS[Ae][2*Rr];ve+=S[Rr]*si}pe+=S[Rr]}let Ie=0;for(let Rr=O.length-1;Rr>=0;Rr--)if(He.isNotA1left(l,f,g)){let si=He.WEIGHTS[Ae][2*Rr+1];Ie+=O[Rr]*si}let Oe=ve+Ie;if(pe&1||pe>13||pe<4)throw new le;let nt=(13-pe)/2,at=He.SYMBOL_WIDEST[nt],Ye=9-at,er=Tr.getRSSvalue(S,at,!0),Vt=Tr.getRSSvalue(O,Ye,!1),ra=He.EVEN_TOTAL_SUBSET[nt],Ts=He.GSUM[nt],na=er*ra+Vt+Ts;return new Zi(na,Oe)}static isNotA1left(o,l,f){return!(o.getValue()==0&&l&&f)}adjustOddEvenCounts(o){let l=st.sum(new Int32Array(this.getOddCounts())),f=st.sum(new Int32Array(this.getEvenCounts())),g=!1,p=!1;l>13?p=!0:l<4&&(g=!0);let x=!1,y=!1;f>13?y=!0:f<4&&(x=!0);let B=l+f-o,S=(l&1)==1,O=(f&1)==0;if(B==1)if(S){if(O)throw new le;p=!0}else{if(!O)throw new le;y=!0}else if(B==-1)if(S){if(O)throw new le;g=!0}else{if(!O)throw new le;x=!0}else if(B==0){if(S){if(!O)throw new le;l<f?(g=!0,y=!0):(p=!0,x=!0)}else if(O)throw new le}else throw new le;if(g){if(p)throw new le;He.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&He.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(y)throw new le;He.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&He.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}He.SYMBOL_WIDEST=[7,5,4,3,1],He.EVEN_TOTAL_SUBSET=[4,20,52,104,204],He.GSUM=[0,348,1388,2948,3988],He.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],He.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],He.FINDER_PAT_A=0,He.FINDER_PAT_B=1,He.FINDER_PAT_C=2,He.FINDER_PAT_D=3,He.FINDER_PAT_E=4,He.FINDER_PAT_F=5,He.FINDER_PATTERN_SEQUENCES=[[He.FINDER_PAT_A,He.FINDER_PAT_A],[He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B],[He.FINDER_PAT_A,He.FINDER_PAT_C,He.FINDER_PAT_B,He.FINDER_PAT_D],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_C],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_D,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_D],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_E],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F]],He.MAX_PAIRS=11;class pr extends Zi{constructor(o,l,f){super(o,l),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,l,f){const g=this.decodePair(l,!1,o,f);Nt.addOrTally(this.possibleLeftPairs,g),l.reverse();let p=this.decodePair(l,!0,o,f);Nt.addOrTally(this.possibleRightPairs,p),l.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&Nt.checkChecksum(x,y))return Nt.constructResult(x,y)}throw new le}static addOrTally(o,l){if(l==null)return;let f=!1;for(let g of o)if(g.getValue()===l.getValue()){g.incrementCount(),f=!0;break}f||o.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,l){let f=4537077*o.getValue()+l.getValue(),g=new String(f).toString(),p=new V;for(let S=13-g.length;S>0;S--)p.append("0");p.append(g);let x=0;for(let S=0;S<13;S++){let O=p.charAt(S).charCodeAt(0)-48;x+=S&1?O:3*O}x=10-x%10,x===10&&(x=0),p.append(x.toString());let y=o.getFinderPattern().getResultPoints(),B=l.getFinderPattern().getResultPoints();return new ce(p.toString(),null,0,[y[0],y[1],B[0],B[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(o,l){let f=(o.getChecksumPortion()+16*l.getChecksumPortion())%79,g=9*o.getFinderPattern().getValue()+l.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,f===g}decodePair(o,l,f,g){try{let p=this.findFinderPattern(o,l),x=this.parseFoundFinderPattern(o,f,l,p),y=g==null?null:g.get(P.NEED_RESULT_POINT_CALLBACK);if(y!=null){let O=(p[0]+p[1])/2;l&&(O=o.getSize()-1-O),y.foundPossibleResultPoint(new Ge(O,f))}let B=this.decodeDataCharacter(o,x,!0),S=this.decodeDataCharacter(o,x,!1);return new pr(1597*B.getValue()+S.getValue(),B.getChecksumPortion()+4*S.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(o,l,f){let g=this.getDataCharacterCounters();for(let Ie=0;Ie<g.length;Ie++)g[Ie]=0;if(f)Ve.recordPatternInReverse(o,l.getStartEnd()[0],g);else{Ve.recordPattern(o,l.getStartEnd()[1]+1,g);for(let Ie=0,Oe=g.length-1;Ie<Oe;Ie++,Oe--){let nt=g[Ie];g[Ie]=g[Oe],g[Oe]=nt}}let p=f?16:15,x=st.sum(new Int32Array(g))/p,y=this.getOddCounts(),B=this.getEvenCounts(),S=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Ie=0;Ie<g.length;Ie++){let Oe=g[Ie]/x,nt=Math.floor(Oe+.5);nt<1?nt=1:nt>8&&(nt=8);let at=Math.floor(Ie/2);Ie&1?(B[at]=nt,O[at]=Oe-nt):(y[at]=nt,S[at]=Oe-nt)}this.adjustOddEvenCounts(f,p);let z=0,q=0;for(let Ie=y.length-1;Ie>=0;Ie--)q*=9,q+=y[Ie],z+=y[Ie];let Ae=0,pe=0;for(let Ie=B.length-1;Ie>=0;Ie--)Ae*=9,Ae+=B[Ie],pe+=B[Ie];let ve=q+3*Ae;if(f){if(z&1||z>12||z<4)throw new le;let Ie=(12-z)/2,Oe=Nt.OUTSIDE_ODD_WIDEST[Ie],nt=9-Oe,at=Tr.getRSSvalue(y,Oe,!1),Ye=Tr.getRSSvalue(B,nt,!0),er=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[Ie],Vt=Nt.OUTSIDE_GSUM[Ie];return new Zi(at*er+Ye+Vt,ve)}else{if(pe&1||pe>10||pe<4)throw new le;let Ie=(10-pe)/2,Oe=Nt.INSIDE_ODD_WIDEST[Ie],nt=9-Oe,at=Tr.getRSSvalue(y,Oe,!0),Ye=Tr.getRSSvalue(B,nt,!1),er=Nt.INSIDE_ODD_TOTAL_SUBSET[Ie],Vt=Nt.INSIDE_GSUM[Ie];return new Zi(Ye*er+at+Vt,ve)}}findFinderPattern(o,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=o.getSize(),p=!1,x=0;for(;x<g&&(p=!o.get(x),l!==p);)x++;let y=0,B=x;for(let S=x;S<g;S++)if(o.get(S)!==p)f[y]++;else{if(y===3){if(dn.isFinderPattern(f))return[B,S];B+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,y--}else y++;f[y]=1,p=!p}throw new le}parseFoundFinderPattern(o,l,f,g){let p=o.get(g[0]),x=g[0]-1;for(;x>=0&&p!==o.get(x);)x--;x++;const y=g[0]-x,B=this.getDecodeFinderCounters(),S=new Int32Array(B.length);T.arraycopy(B,0,S,1,B.length-1),S[0]=y;const O=this.parseFinderValue(S,Nt.FINDER_PATTERNS);let z=x,q=g[1];return f&&(z=o.getSize()-1-z,q=o.getSize()-1-q),new wo(O,[x,g[1]],z,q,l)}adjustOddEvenCounts(o,l){let f=st.sum(new Int32Array(this.getOddCounts())),g=st.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1,y=!1,B=!1;o?(f>12?x=!0:f<4&&(p=!0),g>12?B=!0:g<4&&(y=!0)):(f>11?x=!0:f<5&&(p=!0),g>10?B=!0:g<4&&(y=!0));let S=f+g-l,O=(f&1)===(o?1:0),z=(g&1)===1;if(S===1)if(O){if(z)throw new le;x=!0}else{if(!z)throw new le;B=!0}else if(S===-1)if(O){if(z)throw new le;p=!0}else{if(!z)throw new le;y=!0}else if(S===0){if(O){if(!z)throw new le;f<g?(p=!0,B=!0):(x=!0,y=!0)}else if(z)throw new le}else throw new le;if(p){if(x)throw new le;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(B)throw new le;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}B&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ei extends Ve{constructor(o,l){super(),this.readers=[],this.verbose=l===!0;const f=o?o.get(P.POSSIBLE_FORMATS):null,g=o&&o.get(P.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(fe.EAN_13)||f.includes(fe.UPC_A)||f.includes(fe.EAN_8)||f.includes(fe.UPC_E))&&this.readers.push(new zs(o)),f.includes(fe.CODE_39)&&this.readers.push(new tt(g)),f.includes(fe.CODE_128)&&this.readers.push(new _e),f.includes(fe.ITF)&&this.readers.push(new dt),f.includes(fe.RSS_14)&&this.readers.push(new Nt),f.includes(fe.RSS_EXPANDED)&&this.readers.push(new He(this.verbose))):(this.readers.push(new zs(o)),this.readers.push(new tt),this.readers.push(new zs(o)),this.readers.push(new _e),this.readers.push(new dt),this.readers.push(new Nt),this.readers.push(new He(this.verbose)))}decodeRow(o,l,f){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(o,l,f)}catch{}throw new le}reset(){this.readers.forEach(o=>o.reset())}}class yo extends ge{constructor(o=500,l){super(new Ei(l),o,l)}}class Xt{constructor(o,l,f){this.ecCodewords=o,this.ecBlocks=[l],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qt{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ht{constructor(o,l,f,g,p,x){this.versionNumber=o,this.symbolSizeRows=l,this.symbolSizeColumns=f,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=p,this.ecBlocks=x;let y=0;const B=x.getECCodewords(),S=x.getECBlocks();for(let O of S)y+=O.getCount()*(O.getDataCodewords()+B);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,l){if(o&1||l&1)throw new N;for(let f of Ht.VERSIONS)if(f.symbolSizeRows===o&&f.symbolSizeColumns===l)return f;throw new N}toString(){return""+this.versionNumber}static buildVersions(){return[new Ht(1,10,10,8,8,new Xt(5,new Qt(1,3))),new Ht(2,12,12,10,10,new Xt(7,new Qt(1,5))),new Ht(3,14,14,12,12,new Xt(10,new Qt(1,8))),new Ht(4,16,16,14,14,new Xt(12,new Qt(1,12))),new Ht(5,18,18,16,16,new Xt(14,new Qt(1,18))),new Ht(6,20,20,18,18,new Xt(18,new Qt(1,22))),new Ht(7,22,22,20,20,new Xt(20,new Qt(1,30))),new Ht(8,24,24,22,22,new Xt(24,new Qt(1,36))),new Ht(9,26,26,24,24,new Xt(28,new Qt(1,44))),new Ht(10,32,32,14,14,new Xt(36,new Qt(1,62))),new Ht(11,36,36,16,16,new Xt(42,new Qt(1,86))),new Ht(12,40,40,18,18,new Xt(48,new Qt(1,114))),new Ht(13,44,44,20,20,new Xt(56,new Qt(1,144))),new Ht(14,48,48,22,22,new Xt(68,new Qt(1,174))),new Ht(15,52,52,24,24,new Xt(42,new Qt(2,102))),new Ht(16,64,64,14,14,new Xt(56,new Qt(2,140))),new Ht(17,72,72,16,16,new Xt(36,new Qt(4,92))),new Ht(18,80,80,18,18,new Xt(48,new Qt(4,114))),new Ht(19,88,88,20,20,new Xt(56,new Qt(4,144))),new Ht(20,96,96,22,22,new Xt(68,new Qt(4,174))),new Ht(21,104,104,24,24,new Xt(56,new Qt(6,136))),new Ht(22,120,120,18,18,new Xt(68,new Qt(6,175))),new Ht(23,132,132,20,20,new Xt(62,new Qt(8,163))),new Ht(24,144,144,22,22,new Xt(62,new Qt(8,156),new Qt(2,155))),new Ht(25,8,18,6,16,new Xt(7,new Qt(1,5))),new Ht(26,8,32,6,14,new Xt(11,new Qt(1,10))),new Ht(27,12,26,10,24,new Xt(14,new Qt(1,16))),new Ht(28,12,36,10,16,new Xt(18,new Qt(1,22))),new Ht(29,16,36,14,16,new Xt(24,new Qt(1,32))),new Ht(30,16,48,14,22,new Xt(28,new Qt(1,49)))]}}Ht.VERSIONS=Ht.buildVersions();class ii{constructor(o){const l=o.getHeight();if(l<8||l>144||l&1)throw new N;this.version=ii.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const l=o.getHeight(),f=o.getWidth();return Ht.getVersionForDimensions(l,f)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let l=0,f=4,g=0;const p=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let y=!1,B=!1,S=!1,O=!1;do if(f===p&&g===0&&!y)o[l++]=this.readCorner1(p,x)&255,f-=2,g+=2,y=!0;else if(f===p-2&&g===0&&x&3&&!B)o[l++]=this.readCorner2(p,x)&255,f-=2,g+=2,B=!0;else if(f===p+4&&g===2&&!(x&7)&&!S)o[l++]=this.readCorner3(p,x)&255,f-=2,g+=2,S=!0;else if(f===p-2&&g===0&&(x&7)===4&&!O)o[l++]=this.readCorner4(p,x)&255,f-=2,g+=2,O=!0;else{do f<p&&g>=0&&!this.readMappingMatrix.get(g,f)&&(o[l++]=this.readUtah(f,g,p,x)&255),f-=2,g+=2;while(f>=0&&g<x);f+=1,g+=3;do f>=0&&g<x&&!this.readMappingMatrix.get(g,f)&&(o[l++]=this.readUtah(f,g,p,x)&255),f+=2,g-=2;while(f<p&&g>=0);f+=3,g+=1}while(f<p||g<x);if(l!==this.version.getTotalCodewords())throw new N;return o}readModule(o,l,f,g){return o<0&&(o+=f,l+=4-(f+4&7)),l<0&&(l+=g,o+=4-(g+4&7)),this.readMappingMatrix.set(l,o),this.mappingBitMatrix.get(l,o)}readUtah(o,l,f,g){let p=0;return this.readModule(o-2,l-2,f,g)&&(p|=1),p<<=1,this.readModule(o-2,l-1,f,g)&&(p|=1),p<<=1,this.readModule(o-1,l-2,f,g)&&(p|=1),p<<=1,this.readModule(o-1,l-1,f,g)&&(p|=1),p<<=1,this.readModule(o-1,l,f,g)&&(p|=1),p<<=1,this.readModule(o,l-2,f,g)&&(p|=1),p<<=1,this.readModule(o,l-1,f,g)&&(p|=1),p<<=1,this.readModule(o,l,f,g)&&(p|=1),p}readCorner1(o,l){let f=0;return this.readModule(o-1,0,o,l)&&(f|=1),f<<=1,this.readModule(o-1,1,o,l)&&(f|=1),f<<=1,this.readModule(o-1,2,o,l)&&(f|=1),f<<=1,this.readModule(0,l-2,o,l)&&(f|=1),f<<=1,this.readModule(0,l-1,o,l)&&(f|=1),f<<=1,this.readModule(1,l-1,o,l)&&(f|=1),f<<=1,this.readModule(2,l-1,o,l)&&(f|=1),f<<=1,this.readModule(3,l-1,o,l)&&(f|=1),f}readCorner2(o,l){let f=0;return this.readModule(o-3,0,o,l)&&(f|=1),f<<=1,this.readModule(o-2,0,o,l)&&(f|=1),f<<=1,this.readModule(o-1,0,o,l)&&(f|=1),f<<=1,this.readModule(0,l-4,o,l)&&(f|=1),f<<=1,this.readModule(0,l-3,o,l)&&(f|=1),f<<=1,this.readModule(0,l-2,o,l)&&(f|=1),f<<=1,this.readModule(0,l-1,o,l)&&(f|=1),f<<=1,this.readModule(1,l-1,o,l)&&(f|=1),f}readCorner3(o,l){let f=0;return this.readModule(o-1,0,o,l)&&(f|=1),f<<=1,this.readModule(o-1,l-1,o,l)&&(f|=1),f<<=1,this.readModule(0,l-3,o,l)&&(f|=1),f<<=1,this.readModule(0,l-2,o,l)&&(f|=1),f<<=1,this.readModule(0,l-1,o,l)&&(f|=1),f<<=1,this.readModule(1,l-3,o,l)&&(f|=1),f<<=1,this.readModule(1,l-2,o,l)&&(f|=1),f<<=1,this.readModule(1,l-1,o,l)&&(f|=1),f}readCorner4(o,l){let f=0;return this.readModule(o-3,0,o,l)&&(f|=1),f<<=1,this.readModule(o-2,0,o,l)&&(f|=1),f<<=1,this.readModule(o-1,0,o,l)&&(f|=1),f<<=1,this.readModule(0,l-2,o,l)&&(f|=1),f<<=1,this.readModule(0,l-1,o,l)&&(f|=1),f<<=1,this.readModule(1,l-1,o,l)&&(f|=1),f<<=1,this.readModule(2,l-1,o,l)&&(f|=1),f<<=1,this.readModule(3,l-1,o,l)&&(f|=1),f}extractDataRegion(o){const l=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(o.getHeight()!==l)throw new m("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),x=l/g|0,y=f/p|0,B=x*g,S=y*p,O=new Ce(S,B);for(let z=0;z<x;++z){const q=z*g;for(let Ae=0;Ae<y;++Ae){const pe=Ae*p;for(let ve=0;ve<g;++ve){const Ie=z*(g+2)+1+ve,Oe=q+ve;for(let nt=0;nt<p;++nt){const at=Ae*(p+2)+1+nt;if(o.get(at,Ie)){const Ye=pe+nt;O.set(Ye,Oe)}}}}}return O}}class Cl{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l){const f=l.getECBlocks();let g=0;const p=f.getECBlocks();for(let ve of p)g+=ve.getCount();const x=new Array(g);let y=0;for(let ve of p)for(let Ie=0;Ie<ve.getCount();Ie++){const Oe=ve.getDataCodewords(),nt=f.getECCodewords()+Oe;x[y++]=new Cl(Oe,new Uint8Array(nt))}const S=x[0].codewords.length-f.getECCodewords(),O=S-1;let z=0;for(let ve=0;ve<O;ve++)for(let Ie=0;Ie<y;Ie++)x[Ie].codewords[ve]=o[z++];const q=l.getVersionNumber()===24,Ae=q?8:y;for(let ve=0;ve<Ae;ve++)x[ve].codewords[S-1]=o[z++];const pe=x[0].codewords.length;for(let ve=S;ve<pe;ve++)for(let Ie=0;Ie<y;Ie++){const Oe=q?(Ie+8)%y:Ie,nt=q&&Oe>7?ve-1:ve;x[Oe].codewords[nt]=o[z++]}if(z!==o.length)throw new m;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vc{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new m(""+o);let l=0,f=this.bitOffset,g=this.byteOffset;const p=this.bytes;if(f>0){const x=8-f,y=o<x?o:x,B=x-y,S=255>>8-y<<B;l=(p[g]&S)>>B,o-=y,f+=y,f===8&&(f=0,g++)}if(o>0){for(;o>=8;)l=l<<8|p[g]&255,g++,o-=8;if(o>0){const x=8-o,y=255>>x<<x;l=l<<o|(p[g]&y)>>x,f+=o}}return this.bitOffset=f,this.byteOffset=g,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var sn;(function(K){K[K.PAD_ENCODE=0]="PAD_ENCODE",K[K.ASCII_ENCODE=1]="ASCII_ENCODE",K[K.C40_ENCODE=2]="C40_ENCODE",K[K.TEXT_ENCODE=3]="TEXT_ENCODE",K[K.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",K[K.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",K[K.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));class Ws{static decode(o){const l=new Vc(o),f=new V,g=new V,p=new Array;let x=sn.ASCII_ENCODE;do if(x===sn.ASCII_ENCODE)x=this.decodeAsciiSegment(l,f,g);else{switch(x){case sn.C40_ENCODE:this.decodeC40Segment(l,f);break;case sn.TEXT_ENCODE:this.decodeTextSegment(l,f);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,f);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,f);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(l,f,p);break;default:throw new N}x=sn.ASCII_ENCODE}while(x!==sn.PAD_ENCODE&&l.available()>0);return g.length()>0&&f.append(g.toString()),new xe(o,f.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(o,l,f){let g=!1;do{let p=o.readBits(8);if(p===0)throw new N;if(p<=128)return g&&(p+=128),l.append(String.fromCharCode(p-1)),sn.ASCII_ENCODE;if(p===129)return sn.PAD_ENCODE;if(p<=229){const x=p-130;x<10&&l.append("0"),l.append(""+x)}else switch(p){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:l.append("[)>05"),f.insert(0,"");break;case 237:l.append("[)>06"),f.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(p!==254||o.available()!==0)throw new N;break}}while(o.available()>0);return sn.ASCII_ENCODE}static decodeC40Segment(o,l){let f=!1;const g=[];let p=0;do{if(o.available()===8)return;const x=o.readBits(8);if(x===254)return;this.parseTwoBytes(x,o.readBits(8),g);for(let y=0;y<3;y++){const B=g[y];switch(p){case 0:if(B<3)p=B+1;else if(B<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[B];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else throw new N;break;case 1:f?(l.append(String.fromCharCode(B+128)),f=!1):l.append(String.fromCharCode(B)),p=0;break;case 2:if(B<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[B];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else switch(B){case 27:l.append("");break;case 30:f=!0;break;default:throw new N}p=0;break;case 3:f?(l.append(String.fromCharCode(B+224)),f=!1):l.append(String.fromCharCode(B+96)),p=0;break;default:throw new N}}}while(o.available()>0)}static decodeTextSegment(o,l){let f=!1,g=[],p=0;do{if(o.available()===8)return;const x=o.readBits(8);if(x===254)return;this.parseTwoBytes(x,o.readBits(8),g);for(let y=0;y<3;y++){const B=g[y];switch(p){case 0:if(B<3)p=B+1;else if(B<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[B];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else throw new N;break;case 1:f?(l.append(String.fromCharCode(B+128)),f=!1):l.append(String.fromCharCode(B)),p=0;break;case 2:if(B<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[B];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else switch(B){case 27:l.append("");break;case 30:f=!0;break;default:throw new N}p=0;break;case 3:if(B<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[B];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S),p=0}else throw new N;break;default:throw new N}}}while(o.available()>0)}static decodeAnsiX12Segment(o,l){const f=[];do{if(o.available()===8)return;const g=o.readBits(8);if(g===254)return;this.parseTwoBytes(g,o.readBits(8),f);for(let p=0;p<3;p++){const x=f[p];switch(x){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(x<14)l.append(String.fromCharCode(x+44));else if(x<40)l.append(String.fromCharCode(x+51));else throw new N;break}}}while(o.available()>0)}static parseTwoBytes(o,l,f){let g=(o<<8)+l-1,p=Math.floor(g/1600);f[0]=p,g-=p*1600,p=Math.floor(g/40),f[1]=p,f[2]=g-p*40}static decodeEdifactSegment(o,l){do{if(o.available()<=16)return;for(let f=0;f<4;f++){let g=o.readBits(6);if(g===31){const p=8-o.getBitOffset();p!==8&&o.readBits(p);return}g&32||(g|=64),l.append(String.fromCharCode(g))}}while(o.available()>0)}static decodeBase256Segment(o,l,f){let g=1+o.getByteOffset();const p=this.unrandomize255State(o.readBits(8),g++);let x;if(p===0?x=o.available()/8|0:p<250?x=p:x=250*(p-249)+this.unrandomize255State(o.readBits(8),g++),x<0)throw new N;const y=new Uint8Array(x);for(let B=0;B<x;B++){if(o.available()<8)throw new N;y[B]=this.unrandomize255State(o.readBits(8),g++)}f.push(y);try{l.append(G.decode(y,j.ISO88591))}catch(B){throw new wt("Platform does not support required encoding: "+B.message)}}static unrandomize255State(o,l){const f=149*l%255+1,g=o-f;return g>=0?g:g+256}}Ws.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ws.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ws.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ws.TEXT_SHIFT2_SET_CHARS=Ws.C40_SHIFT2_SET_CHARS,Ws.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xx{constructor(){this.rsDecoder=new we(lt.DATA_MATRIX_FIELD_256)}decode(o){const l=new ii(o),f=l.getVersion(),g=l.readCodewords(),p=Cl.getDataBlocks(g,f);let x=0;for(let S of p)x+=S.getNumDataCodewords();const y=new Uint8Array(x),B=p.length;for(let S=0;S<B;S++){const O=p[S],z=O.getCodewords(),q=O.getNumDataCodewords();this.correctErrors(z,q);for(let Ae=0;Ae<q;Ae++)y[Ae*B+S]=z[Ae]}return Ws.decode(y)}correctErrors(o,l){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-l)}catch{throw new _}for(let g=0;g<l;g++)o[g]=f[g]}}class qr{constructor(o){this.image=o,this.rectangleDetector=new Ke(this.image)}detect(){const o=this.rectangleDetector.detect();let l=this.detectSolid1(o);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new le;l=this.shiftToModuleCenter(l);const f=l[0],g=l[1],p=l[2],x=l[3];let y=this.transitionsBetween(f,x)+1,B=this.transitionsBetween(p,x)+1;(y&1)===1&&(y+=1),(B&1)===1&&(B+=1),4*y<7*B&&4*B<7*y&&(y=B=Math.max(y,B));let S=qr.sampleGrid(this.image,f,g,p,x,y,B);return new vr(S,[f,g,p,x])}static shiftPoint(o,l,f){let g=(l.getX()-o.getX())/(f+1),p=(l.getY()-o.getY())/(f+1);return new Ge(o.getX()+g,o.getY()+p)}static moveAway(o,l,f){let g=o.getX(),p=o.getY();return g<l?g-=1:g+=1,p<f?p-=1:p+=1,new Ge(g,p)}detectSolid1(o){let l=o[0],f=o[1],g=o[3],p=o[2],x=this.transitionsBetween(l,f),y=this.transitionsBetween(f,g),B=this.transitionsBetween(g,p),S=this.transitionsBetween(p,l),O=x,z=[p,l,f,g];return O>y&&(O=y,z[0]=l,z[1]=f,z[2]=g,z[3]=p),O>B&&(O=B,z[0]=f,z[1]=g,z[2]=p,z[3]=l),O>S&&(z[0]=g,z[1]=p,z[2]=l,z[3]=f),z}detectSolid2(o){let l=o[0],f=o[1],g=o[2],p=o[3],x=this.transitionsBetween(l,p),y=qr.shiftPoint(f,g,(x+1)*4),B=qr.shiftPoint(g,f,(x+1)*4),S=this.transitionsBetween(y,l),O=this.transitionsBetween(B,p);return S<O?(o[0]=l,o[1]=f,o[2]=g,o[3]=p):(o[0]=f,o[1]=g,o[2]=p,o[3]=l),o}correctTopRight(o){let l=o[0],f=o[1],g=o[2],p=o[3],x=this.transitionsBetween(l,p),y=this.transitionsBetween(f,p),B=qr.shiftPoint(l,f,(y+1)*4),S=qr.shiftPoint(g,f,(x+1)*4);x=this.transitionsBetween(B,p),y=this.transitionsBetween(S,p);let O=new Ge(p.getX()+(g.getX()-f.getX())/(x+1),p.getY()+(g.getY()-f.getY())/(x+1)),z=new Ge(p.getX()+(l.getX()-f.getX())/(y+1),p.getY()+(l.getY()-f.getY())/(y+1));if(!this.isValid(O))return this.isValid(z)?z:null;if(!this.isValid(z))return O;let q=this.transitionsBetween(B,O)+this.transitionsBetween(S,O),Ae=this.transitionsBetween(B,z)+this.transitionsBetween(S,z);return q>Ae?O:z}shiftToModuleCenter(o){let l=o[0],f=o[1],g=o[2],p=o[3],x=this.transitionsBetween(l,p)+1,y=this.transitionsBetween(g,p)+1,B=qr.shiftPoint(l,f,y*4),S=qr.shiftPoint(g,f,x*4);x=this.transitionsBetween(B,p)+1,y=this.transitionsBetween(S,p)+1,(x&1)===1&&(x+=1),(y&1)===1&&(y+=1);let O=(l.getX()+f.getX()+g.getX()+p.getX())/4,z=(l.getY()+f.getY()+g.getY()+p.getY())/4;l=qr.moveAway(l,O,z),f=qr.moveAway(f,O,z),g=qr.moveAway(g,O,z),p=qr.moveAway(p,O,z);let q,Ae;return B=qr.shiftPoint(l,f,y*4),B=qr.shiftPoint(B,p,x*4),q=qr.shiftPoint(f,l,y*4),q=qr.shiftPoint(q,g,x*4),S=qr.shiftPoint(g,p,y*4),S=qr.shiftPoint(S,f,x*4),Ae=qr.shiftPoint(p,g,y*4),Ae=qr.shiftPoint(Ae,l,x*4),[B,q,S,Ae]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,l,f,g,p,x,y){return Yt.getInstance().sampleGrid(o,x,y,.5,.5,x-.5,.5,x-.5,y-.5,.5,y-.5,l.getX(),l.getY(),p.getX(),p.getY(),g.getX(),g.getY(),f.getX(),f.getY())}transitionsBetween(o,l){let f=Math.trunc(o.getX()),g=Math.trunc(o.getY()),p=Math.trunc(l.getX()),x=Math.trunc(l.getY()),y=Math.abs(x-g)>Math.abs(p-f);if(y){let ve=f;f=g,g=ve,ve=p,p=x,x=ve}let B=Math.abs(p-f),S=Math.abs(x-g),O=-B/2,z=g<x?1:-1,q=f<p?1:-1,Ae=0,pe=this.image.get(y?g:f,y?f:g);for(let ve=f,Ie=g;ve!==p;ve+=q){let Oe=this.image.get(y?Ie:ve,y?ve:Ie);if(Oe!==pe&&(Ae++,pe=Oe),O+=S,O>0){if(Ie===x)break;Ie+=z,O-=B}}return Ae}}class _s{constructor(){this.decoder=new xx}decode(o,l=null){let f,g;if(l!=null&&l.has(P.PURE_BARCODE)){const S=_s.extractPureBits(o.getBlackMatrix());f=this.decoder.decode(S),g=_s.NO_POINTS}else{const S=new qr(o.getBlackMatrix()).detect();f=this.decoder.decode(S.getBits()),g=S.getPoints()}const p=f.getRawBytes(),x=new ce(f.getText(),p,8*p.length,g,fe.DATA_MATRIX,T.currentTimeMillis()),y=f.getByteSegments();y!=null&&x.putMetadata(ye.BYTE_SEGMENTS,y);const B=f.getECLevel();return B!=null&&x.putMetadata(ye.ERROR_CORRECTION_LEVEL,B),x}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(l==null||f==null)throw new le;const g=this.moduleSize(l,o);let p=l[1];const x=f[1];let y=l[0];const S=(f[0]-y+1)/g,O=(x-p+1)/g;if(S<=0||O<=0)throw new le;const z=g/2;p+=z,y+=z;const q=new Ce(S,O);for(let Ae=0;Ae<O;Ae++){const pe=p+Ae*g;for(let ve=0;ve<S;ve++)o.get(y+ve*g,pe)&&q.set(ve,Ae)}return q}static moduleSize(o,l){const f=l.getWidth();let g=o[0];const p=o[1];for(;g<f&&l.get(g,p);)g++;if(g===f)throw new le;const x=g-o[0];if(x===0)throw new le;return x}}_s.NO_POINTS=[];class vx extends ge{constructor(o=500){super(new _s,o)}}var ea;(function(K){K[K.L=0]="L",K[K.M=1]="M",K[K.Q=2]="Q",K[K.H=3]="H"})(ea||(ea={}));class Zt{constructor(o,l,f){this.value=o,this.stringValue=l,this.bits=f,Zt.FOR_BITS.set(f,this),Zt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new h(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Zt))return!1;const l=o;return this.value===l.value}static forBits(o){if(o<0||o>=Zt.FOR_BITS.size)throw new m;return Zt.FOR_BITS.get(o)}}Zt.FOR_BITS=new Map,Zt.FOR_VALUE=new Map,Zt.L=new Zt(ea.L,"L",1),Zt.M=new Zt(ea.M,"M",0),Zt.Q=new Zt(ea.Q,"Q",3),Zt.H=new Zt(ea.H,"H",2);class gn{constructor(o){this.errorCorrectionLevel=Zt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,l){return F.bitCount(o^l)}static decodeFormatInformation(o,l){const f=gn.doDecodeFormatInformation(o,l);return f!==null?f:gn.doDecodeFormatInformation(o^gn.FORMAT_INFO_MASK_QR,l^gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,l){let f=Number.MAX_SAFE_INTEGER,g=0;for(const p of gn.FORMAT_INFO_DECODE_LOOKUP){const x=p[0];if(x===o||x===l)return new gn(p[1]);let y=gn.numBitsDiffering(o,x);y<f&&(g=p[1],f=y),o!==l&&(y=gn.numBitsDiffering(l,x),y<f&&(g=p[1],f=y))}return f<=3?new gn(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof gn))return!1;const l=o;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}gn.FORMAT_INFO_MASK_QR=21522,gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Te{constructor(o,...l){this.ecCodewordsPerBlock=o,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const l=this.ecBlocks;for(const f of l)o+=f.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(o,l,...f){this.versionNumber=o,this.alignmentPatternCenters=l,this.ecBlocks=f;let g=0;const p=f[0].getECCodewordsPerBlock(),x=f[0].getECBlocks();for(const y of x)g+=y.getCount()*(y.getDataCodewords()+p);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new N;try{return this.getVersionForNumber((o-17)/4)}catch{throw new N}}static getVersionForNumber(o){if(o<1||o>40)throw new m;return ut.VERSIONS[o-1]}static decodeVersionInformation(o){let l=Number.MAX_SAFE_INTEGER,f=0;for(let g=0;g<ut.VERSION_DECODE_INFO.length;g++){const p=ut.VERSION_DECODE_INFO[g];if(p===o)return ut.getVersionForNumber(g+7);const x=gn.numBitsDiffering(o,p);x<l&&(f=g+7,l=x)}return l<=3?ut.getVersionForNumber(f):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),l=new Ce(o);l.setRegion(0,0,9,9),l.setRegion(o-8,0,8,9),l.setRegion(0,o-8,9,8);const f=this.alignmentPatternCenters.length;for(let g=0;g<f;g++){const p=this.alignmentPatternCenters[g]-2;for(let x=0;x<f;x++)g===0&&(x===0||x===f-1)||g===f-1&&x===0||l.setRegion(this.alignmentPatternCenters[x]-2,p,5,5)}return l.setRegion(6,9,1,o-17),l.setRegion(9,6,o-17,1),this.versionNumber>6&&(l.setRegion(o-11,0,3,6),l.setRegion(0,o-11,6,3)),l}toString(){return""+this.versionNumber}}ut.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ut.VERSIONS=[new ut(1,new Int32Array(0),new Te(7,new re(1,19)),new Te(10,new re(1,16)),new Te(13,new re(1,13)),new Te(17,new re(1,9))),new ut(2,Int32Array.from([6,18]),new Te(10,new re(1,34)),new Te(16,new re(1,28)),new Te(22,new re(1,22)),new Te(28,new re(1,16))),new ut(3,Int32Array.from([6,22]),new Te(15,new re(1,55)),new Te(26,new re(1,44)),new Te(18,new re(2,17)),new Te(22,new re(2,13))),new ut(4,Int32Array.from([6,26]),new Te(20,new re(1,80)),new Te(18,new re(2,32)),new Te(26,new re(2,24)),new Te(16,new re(4,9))),new ut(5,Int32Array.from([6,30]),new Te(26,new re(1,108)),new Te(24,new re(2,43)),new Te(18,new re(2,15),new re(2,16)),new Te(22,new re(2,11),new re(2,12))),new ut(6,Int32Array.from([6,34]),new Te(18,new re(2,68)),new Te(16,new re(4,27)),new Te(24,new re(4,19)),new Te(28,new re(4,15))),new ut(7,Int32Array.from([6,22,38]),new Te(20,new re(2,78)),new Te(18,new re(4,31)),new Te(18,new re(2,14),new re(4,15)),new Te(26,new re(4,13),new re(1,14))),new ut(8,Int32Array.from([6,24,42]),new Te(24,new re(2,97)),new Te(22,new re(2,38),new re(2,39)),new Te(22,new re(4,18),new re(2,19)),new Te(26,new re(4,14),new re(2,15))),new ut(9,Int32Array.from([6,26,46]),new Te(30,new re(2,116)),new Te(22,new re(3,36),new re(2,37)),new Te(20,new re(4,16),new re(4,17)),new Te(24,new re(4,12),new re(4,13))),new ut(10,Int32Array.from([6,28,50]),new Te(18,new re(2,68),new re(2,69)),new Te(26,new re(4,43),new re(1,44)),new Te(24,new re(6,19),new re(2,20)),new Te(28,new re(6,15),new re(2,16))),new ut(11,Int32Array.from([6,30,54]),new Te(20,new re(4,81)),new Te(30,new re(1,50),new re(4,51)),new Te(28,new re(4,22),new re(4,23)),new Te(24,new re(3,12),new re(8,13))),new ut(12,Int32Array.from([6,32,58]),new Te(24,new re(2,92),new re(2,93)),new Te(22,new re(6,36),new re(2,37)),new Te(26,new re(4,20),new re(6,21)),new Te(28,new re(7,14),new re(4,15))),new ut(13,Int32Array.from([6,34,62]),new Te(26,new re(4,107)),new Te(22,new re(8,37),new re(1,38)),new Te(24,new re(8,20),new re(4,21)),new Te(22,new re(12,11),new re(4,12))),new ut(14,Int32Array.from([6,26,46,66]),new Te(30,new re(3,115),new re(1,116)),new Te(24,new re(4,40),new re(5,41)),new Te(20,new re(11,16),new re(5,17)),new Te(24,new re(11,12),new re(5,13))),new ut(15,Int32Array.from([6,26,48,70]),new Te(22,new re(5,87),new re(1,88)),new Te(24,new re(5,41),new re(5,42)),new Te(30,new re(5,24),new re(7,25)),new Te(24,new re(11,12),new re(7,13))),new ut(16,Int32Array.from([6,26,50,74]),new Te(24,new re(5,98),new re(1,99)),new Te(28,new re(7,45),new re(3,46)),new Te(24,new re(15,19),new re(2,20)),new Te(30,new re(3,15),new re(13,16))),new ut(17,Int32Array.from([6,30,54,78]),new Te(28,new re(1,107),new re(5,108)),new Te(28,new re(10,46),new re(1,47)),new Te(28,new re(1,22),new re(15,23)),new Te(28,new re(2,14),new re(17,15))),new ut(18,Int32Array.from([6,30,56,82]),new Te(30,new re(5,120),new re(1,121)),new Te(26,new re(9,43),new re(4,44)),new Te(28,new re(17,22),new re(1,23)),new Te(28,new re(2,14),new re(19,15))),new ut(19,Int32Array.from([6,30,58,86]),new Te(28,new re(3,113),new re(4,114)),new Te(26,new re(3,44),new re(11,45)),new Te(26,new re(17,21),new re(4,22)),new Te(26,new re(9,13),new re(16,14))),new ut(20,Int32Array.from([6,34,62,90]),new Te(28,new re(3,107),new re(5,108)),new Te(26,new re(3,41),new re(13,42)),new Te(30,new re(15,24),new re(5,25)),new Te(28,new re(15,15),new re(10,16))),new ut(21,Int32Array.from([6,28,50,72,94]),new Te(28,new re(4,116),new re(4,117)),new Te(26,new re(17,42)),new Te(28,new re(17,22),new re(6,23)),new Te(30,new re(19,16),new re(6,17))),new ut(22,Int32Array.from([6,26,50,74,98]),new Te(28,new re(2,111),new re(7,112)),new Te(28,new re(17,46)),new Te(30,new re(7,24),new re(16,25)),new Te(24,new re(34,13))),new ut(23,Int32Array.from([6,30,54,78,102]),new Te(30,new re(4,121),new re(5,122)),new Te(28,new re(4,47),new re(14,48)),new Te(30,new re(11,24),new re(14,25)),new Te(30,new re(16,15),new re(14,16))),new ut(24,Int32Array.from([6,28,54,80,106]),new Te(30,new re(6,117),new re(4,118)),new Te(28,new re(6,45),new re(14,46)),new Te(30,new re(11,24),new re(16,25)),new Te(30,new re(30,16),new re(2,17))),new ut(25,Int32Array.from([6,32,58,84,110]),new Te(26,new re(8,106),new re(4,107)),new Te(28,new re(8,47),new re(13,48)),new Te(30,new re(7,24),new re(22,25)),new Te(30,new re(22,15),new re(13,16))),new ut(26,Int32Array.from([6,30,58,86,114]),new Te(28,new re(10,114),new re(2,115)),new Te(28,new re(19,46),new re(4,47)),new Te(28,new re(28,22),new re(6,23)),new Te(30,new re(33,16),new re(4,17))),new ut(27,Int32Array.from([6,34,62,90,118]),new Te(30,new re(8,122),new re(4,123)),new Te(28,new re(22,45),new re(3,46)),new Te(30,new re(8,23),new re(26,24)),new Te(30,new re(12,15),new re(28,16))),new ut(28,Int32Array.from([6,26,50,74,98,122]),new Te(30,new re(3,117),new re(10,118)),new Te(28,new re(3,45),new re(23,46)),new Te(30,new re(4,24),new re(31,25)),new Te(30,new re(11,15),new re(31,16))),new ut(29,Int32Array.from([6,30,54,78,102,126]),new Te(30,new re(7,116),new re(7,117)),new Te(28,new re(21,45),new re(7,46)),new Te(30,new re(1,23),new re(37,24)),new Te(30,new re(19,15),new re(26,16))),new ut(30,Int32Array.from([6,26,52,78,104,130]),new Te(30,new re(5,115),new re(10,116)),new Te(28,new re(19,47),new re(10,48)),new Te(30,new re(15,24),new re(25,25)),new Te(30,new re(23,15),new re(25,16))),new ut(31,Int32Array.from([6,30,56,82,108,134]),new Te(30,new re(13,115),new re(3,116)),new Te(28,new re(2,46),new re(29,47)),new Te(30,new re(42,24),new re(1,25)),new Te(30,new re(23,15),new re(28,16))),new ut(32,Int32Array.from([6,34,60,86,112,138]),new Te(30,new re(17,115)),new Te(28,new re(10,46),new re(23,47)),new Te(30,new re(10,24),new re(35,25)),new Te(30,new re(19,15),new re(35,16))),new ut(33,Int32Array.from([6,30,58,86,114,142]),new Te(30,new re(17,115),new re(1,116)),new Te(28,new re(14,46),new re(21,47)),new Te(30,new re(29,24),new re(19,25)),new Te(30,new re(11,15),new re(46,16))),new ut(34,Int32Array.from([6,34,62,90,118,146]),new Te(30,new re(13,115),new re(6,116)),new Te(28,new re(14,46),new re(23,47)),new Te(30,new re(44,24),new re(7,25)),new Te(30,new re(59,16),new re(1,17))),new ut(35,Int32Array.from([6,30,54,78,102,126,150]),new Te(30,new re(12,121),new re(7,122)),new Te(28,new re(12,47),new re(26,48)),new Te(30,new re(39,24),new re(14,25)),new Te(30,new re(22,15),new re(41,16))),new ut(36,Int32Array.from([6,24,50,76,102,128,154]),new Te(30,new re(6,121),new re(14,122)),new Te(28,new re(6,47),new re(34,48)),new Te(30,new re(46,24),new re(10,25)),new Te(30,new re(2,15),new re(64,16))),new ut(37,Int32Array.from([6,28,54,80,106,132,158]),new Te(30,new re(17,122),new re(4,123)),new Te(28,new re(29,46),new re(14,47)),new Te(30,new re(49,24),new re(10,25)),new Te(30,new re(24,15),new re(46,16))),new ut(38,Int32Array.from([6,32,58,84,110,136,162]),new Te(30,new re(4,122),new re(18,123)),new Te(28,new re(13,46),new re(32,47)),new Te(30,new re(48,24),new re(14,25)),new Te(30,new re(42,15),new re(32,16))),new ut(39,Int32Array.from([6,26,54,82,110,138,166]),new Te(30,new re(20,117),new re(4,118)),new Te(28,new re(40,47),new re(7,48)),new Te(30,new re(43,24),new re(22,25)),new Te(30,new re(10,15),new re(67,16))),new ut(40,Int32Array.from([6,30,58,86,114,142,170]),new Te(30,new re(19,118),new re(6,119)),new Te(28,new re(18,47),new re(31,48)),new Te(30,new re(34,24),new re(34,25)),new Te(30,new re(20,15),new re(61,16)))];var tn;(function(K){K[K.DATA_MASK_000=0]="DATA_MASK_000",K[K.DATA_MASK_001=1]="DATA_MASK_001",K[K.DATA_MASK_010=2]="DATA_MASK_010",K[K.DATA_MASK_011=3]="DATA_MASK_011",K[K.DATA_MASK_100=4]="DATA_MASK_100",K[K.DATA_MASK_101=5]="DATA_MASK_101",K[K.DATA_MASK_110=6]="DATA_MASK_110",K[K.DATA_MASK_111=7]="DATA_MASK_111"})(tn||(tn={}));class Wn{constructor(o,l){this.value=o,this.isMasked=l}unmaskBitMatrix(o,l){for(let f=0;f<l;f++)for(let g=0;g<l;g++)this.isMasked(f,g)&&o.flip(g,f)}}Wn.values=new Map([[tn.DATA_MASK_000,new Wn(tn.DATA_MASK_000,(K,o)=>(K+o&1)===0)],[tn.DATA_MASK_001,new Wn(tn.DATA_MASK_001,(K,o)=>(K&1)===0)],[tn.DATA_MASK_010,new Wn(tn.DATA_MASK_010,(K,o)=>o%3===0)],[tn.DATA_MASK_011,new Wn(tn.DATA_MASK_011,(K,o)=>(K+o)%3===0)],[tn.DATA_MASK_100,new Wn(tn.DATA_MASK_100,(K,o)=>(Math.floor(K/2)+Math.floor(o/3)&1)===0)],[tn.DATA_MASK_101,new Wn(tn.DATA_MASK_101,(K,o)=>K*o%6===0)],[tn.DATA_MASK_110,new Wn(tn.DATA_MASK_110,(K,o)=>K*o%6<3)],[tn.DATA_MASK_111,new Wn(tn.DATA_MASK_111,(K,o)=>(K+o+K*o%3&1)===0)]]);class _l{constructor(o){const l=o.getHeight();if(l<21||(l&3)!==1)throw new N;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let p=0;p<6;p++)o=this.copyBit(p,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let p=5;p>=0;p--)o=this.copyBit(8,p,o);const l=this.bitMatrix.getHeight();let f=0;const g=l-7;for(let p=l-1;p>=g;p--)f=this.copyBit(8,p,f);for(let p=l-8;p<l;p++)f=this.copyBit(p,8,f);if(this.parsedFormatInfo=gn.decodeFormatInformation(o,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new N}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),l=Math.floor((o-17)/4);if(l<=6)return ut.getVersionForNumber(l);let f=0;const g=o-11;for(let x=5;x>=0;x--)for(let y=o-9;y>=g;y--)f=this.copyBit(y,x,f);let p=ut.decodeVersionInformation(f);if(p!==null&&p.getDimensionForVersion()===o)return this.parsedVersion=p,p;f=0;for(let x=5;x>=0;x--)for(let y=o-9;y>=g;y--)f=this.copyBit(x,y,f);if(p=ut.decodeVersionInformation(f),p!==null&&p.getDimensionForVersion()===o)return this.parsedVersion=p,p;throw new N}copyBit(o,l,f){return(this.isMirror?this.bitMatrix.get(l,o):this.bitMatrix.get(o,l))?f<<1|1:f<<1}readCodewords(){const o=this.readFormatInformation(),l=this.readVersion(),f=Wn.values.get(o.getDataMask()),g=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,g);const p=l.buildFunctionPattern();let x=!0;const y=new Uint8Array(l.getTotalCodewords());let B=0,S=0,O=0;for(let z=g-1;z>0;z-=2){z===6&&z--;for(let q=0;q<g;q++){const Ae=x?g-1-q:q;for(let pe=0;pe<2;pe++)p.get(z-pe,Ae)||(O++,S<<=1,this.bitMatrix.get(z-pe,Ae)&&(S|=1),O===8&&(y[B++]=S,O=0,S=0))}x=!x}if(B!==l.getTotalCodewords())throw new N;return y}remask(){if(this.parsedFormatInfo===null)return;const o=Wn.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let l=0,f=o.getWidth();l<f;l++)for(let g=l+1,p=o.getHeight();g<p;g++)o.get(l,g)!==o.get(g,l)&&(o.flip(g,l),o.flip(l,g))}}class V0{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l,f){if(o.length!==l.getTotalCodewords())throw new m;const g=l.getECBlocksForLevel(f);let p=0;const x=g.getECBlocks();for(const pe of x)p+=pe.getCount();const y=new Array(p);let B=0;for(const pe of x)for(let ve=0;ve<pe.getCount();ve++){const Ie=pe.getDataCodewords(),Oe=g.getECCodewordsPerBlock()+Ie;y[B++]=new V0(Ie,new Uint8Array(Oe))}const S=y[0].codewords.length;let O=y.length-1;for(;O>=0&&y[O].codewords.length!==S;)O--;O++;const z=S-g.getECCodewordsPerBlock();let q=0;for(let pe=0;pe<z;pe++)for(let ve=0;ve<B;ve++)y[ve].codewords[pe]=o[q++];for(let pe=O;pe<B;pe++)y[pe].codewords[z]=o[q++];const Ae=y[0].codewords.length;for(let pe=z;pe<Ae;pe++)for(let ve=0;ve<B;ve++){const Ie=ve<O?pe:pe+1;y[ve].codewords[Ie]=o[q++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mi;(function(K){K[K.TERMINATOR=0]="TERMINATOR",K[K.NUMERIC=1]="NUMERIC",K[K.ALPHANUMERIC=2]="ALPHANUMERIC",K[K.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",K[K.BYTE=4]="BYTE",K[K.ECI=5]="ECI",K[K.KANJI=6]="KANJI",K[K.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",K[K.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",K[K.HANZI=9]="HANZI"})(Mi||(Mi={}));class Et{constructor(o,l,f,g){this.value=o,this.stringValue=l,this.characterCountBitsForVersions=f,this.bits=g,Et.FOR_BITS.set(g,this),Et.FOR_VALUE.set(o,this)}static forBits(o){const l=Et.FOR_BITS.get(o);if(l===void 0)throw new m;return l}getCharacterCountBits(o){const l=o.getVersionNumber();let f;return l<=9?f=0:l<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Et))return!1;const l=o;return this.value===l.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(Mi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(Mi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(Mi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(Mi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(Mi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(Mi.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(Mi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(Mi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(Mi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(Mi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lr{static decode(o,l,f,g){const p=new Vc(o);let x=new V;const y=new Array;let B=-1,S=-1;try{let O=null,z=!1,q;do{if(p.available()<4)q=Et.TERMINATOR;else{const Ae=p.readBits(4);q=Et.forBits(Ae)}switch(q){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:z=!0;break;case Et.STRUCTURED_APPEND:if(p.available()<16)throw new N;B=p.readBits(8),S=p.readBits(8);break;case Et.ECI:const Ae=Lr.parseECIValue(p);if(O=D.getCharacterSetECIByValue(Ae),O===null)throw new N;break;case Et.HANZI:const pe=p.readBits(4),ve=p.readBits(q.getCharacterCountBits(l));pe===Lr.GB2312_SUBSET&&Lr.decodeHanziSegment(p,x,ve);break;default:const Ie=p.readBits(q.getCharacterCountBits(l));switch(q){case Et.NUMERIC:Lr.decodeNumericSegment(p,x,Ie);break;case Et.ALPHANUMERIC:Lr.decodeAlphanumericSegment(p,x,Ie,z);break;case Et.BYTE:Lr.decodeByteSegment(p,x,Ie,O,y,g);break;case Et.KANJI:Lr.decodeKanjiSegment(p,x,Ie);break;default:throw new N}break}}while(q!==Et.TERMINATOR)}catch{throw new N}return new xe(o,x.toString(),y.length===0?null:y,f===null?null:f.toString(),B,S)}static decodeHanziSegment(o,l,f){if(f*13>o.available())throw new N;const g=new Uint8Array(2*f);let p=0;for(;f>0;){const x=o.readBits(13);let y=x/96<<8&4294967295|x%96;y<959?y+=41377:y+=42657,g[p]=y>>8&255,g[p+1]=y&255,p+=2,f--}try{l.append(G.decode(g,j.GB2312))}catch(x){throw new N(x)}}static decodeKanjiSegment(o,l,f){if(f*13>o.available())throw new N;const g=new Uint8Array(2*f);let p=0;for(;f>0;){const x=o.readBits(13);let y=x/192<<8&4294967295|x%192;y<7936?y+=33088:y+=49472,g[p]=y>>8,g[p+1]=y,p+=2,f--}try{l.append(G.decode(g,j.SHIFT_JIS))}catch(x){throw new N(x)}}static decodeByteSegment(o,l,f,g,p,x){if(8*f>o.available())throw new N;const y=new Uint8Array(f);for(let S=0;S<f;S++)y[S]=o.readBits(8);let B;g===null?B=j.guessEncoding(y,x):B=g.getName();try{l.append(G.decode(y,B))}catch(S){throw new N(S)}p.push(y)}static toAlphaNumericChar(o){if(o>=Lr.ALPHANUMERIC_CHARS.length)throw new N;return Lr.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,l,f,g){const p=l.length();for(;f>1;){if(o.available()<11)throw new N;const x=o.readBits(11);l.append(Lr.toAlphaNumericChar(Math.floor(x/45))),l.append(Lr.toAlphaNumericChar(x%45)),f-=2}if(f===1){if(o.available()<6)throw new N;l.append(Lr.toAlphaNumericChar(o.readBits(6)))}if(g)for(let x=p;x<l.length();x++)l.charAt(x)==="%"&&(x<l.length()-1&&l.charAt(x+1)==="%"?l.deleteCharAt(x+1):l.setCharAt(x,""))}static decodeNumericSegment(o,l,f){for(;f>=3;){if(o.available()<10)throw new N;const g=o.readBits(10);if(g>=1e3)throw new N;l.append(Lr.toAlphaNumericChar(Math.floor(g/100))),l.append(Lr.toAlphaNumericChar(Math.floor(g/10)%10)),l.append(Lr.toAlphaNumericChar(g%10)),f-=3}if(f===2){if(o.available()<7)throw new N;const g=o.readBits(7);if(g>=100)throw new N;l.append(Lr.toAlphaNumericChar(Math.floor(g/10))),l.append(Lr.toAlphaNumericChar(g%10))}else if(f===1){if(o.available()<4)throw new N;const g=o.readBits(4);if(g>=10)throw new N;l.append(Lr.toAlphaNumericChar(g))}}static parseECIValue(o){const l=o.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const f=o.readBits(8);return(l&63)<<8&4294967295|f}if((l&224)===192){const f=o.readBits(16);return(l&31)<<16&4294967295|f}throw new N}}Lr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lr.GB2312_SUBSET=1;class Md{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const l=o[0];o[0]=o[2],o[2]=l}}class wx{constructor(){this.rsDecoder=new we(lt.QR_CODE_FIELD_256)}decodeBooleanArray(o,l){return this.decodeBitMatrix(Ce.parseFromBooleanArray(o),l)}decodeBitMatrix(o,l){const f=new _l(o);let g=null;try{return this.decodeBitMatrixParser(f,l)}catch(p){g=p}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const p=this.decodeBitMatrixParser(f,l);return p.setOther(new Md(!0)),p}catch(p){throw g!==null?g:p}}decodeBitMatrixParser(o,l){const f=o.readVersion(),g=o.readFormatInformation().getErrorCorrectionLevel(),p=o.readCodewords(),x=V0.getDataBlocks(p,f,g);let y=0;for(const O of x)y+=O.getNumDataCodewords();const B=new Uint8Array(y);let S=0;for(const O of x){const z=O.getCodewords(),q=O.getNumDataCodewords();this.correctErrors(z,q);for(let Ae=0;Ae<q;Ae++)B[S++]=z[Ae]}return Lr.decode(B,f,g,l)}correctErrors(o,l){const f=new Int32Array(o);try{this.rsDecoder.decode(f,o.length-l)}catch{throw new _}for(let g=0;g<l;g++)o[g]=f[g]}}class Eo extends Ge{constructor(o,l,f){super(o,l),this.estimatedModuleSize=f}aboutEquals(o,l,f){if(Math.abs(l-this.getY())<=o&&Math.abs(f-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,l,f){const g=(this.getX()+l)/2,p=(this.getY()+o)/2,x=(this.estimatedModuleSize+f)/2;return new Eo(g,p,x)}}class Ea{constructor(o,l,f,g,p,x,y){this.image=o,this.startX=l,this.startY=f,this.width=g,this.height=p,this.moduleSize=x,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,l=this.height,f=this.width,g=o+f,p=this.startY+l/2,x=new Int32Array(3),y=this.image;for(let B=0;B<l;B++){const S=p+(B&1?-Math.floor((B+1)/2):Math.floor((B+1)/2));x[0]=0,x[1]=0,x[2]=0;let O=o;for(;O<g&&!y.get(O,S);)O++;let z=0;for(;O<g;){if(y.get(O,S))if(z===1)x[1]++;else if(z===2){if(this.foundPatternCross(x)){const q=this.handlePossibleCenter(x,S,O);if(q!==null)return q}x[0]=x[2],x[1]=1,x[2]=0,z=1}else x[++z]++;else z===1&&z++,x[z]++;O++}if(this.foundPatternCross(x)){const q=this.handlePossibleCenter(x,S,g);if(q!==null)return q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(o,l){return l-o[2]-o[1]/2}foundPatternCross(o){const l=this.moduleSize,f=l/2;for(let g=0;g<3;g++)if(Math.abs(l-o[g])>=f)return!1;return!0}crossCheckVertical(o,l,f,g){const p=this.image,x=p.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let B=o;for(;B>=0&&p.get(l,B)&&y[1]<=f;)y[1]++,B--;if(B<0||y[1]>f)return NaN;for(;B>=0&&!p.get(l,B)&&y[0]<=f;)y[0]++,B--;if(y[0]>f)return NaN;for(B=o+1;B<x&&p.get(l,B)&&y[1]<=f;)y[1]++,B++;if(B===x||y[1]>f)return NaN;for(;B<x&&!p.get(l,B)&&y[2]<=f;)y[2]++,B++;if(y[2]>f)return NaN;const S=y[0]+y[1]+y[2];return 5*Math.abs(S-g)>=2*g?NaN:this.foundPatternCross(y)?Ea.centerFromEnd(y,B):NaN}handlePossibleCenter(o,l,f){const g=o[0]+o[1]+o[2],p=Ea.centerFromEnd(o,f),x=this.crossCheckVertical(l,p,2*o[1],g);if(!isNaN(x)){const y=(o[0]+o[1]+o[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(y,x,p))return S.combineEstimate(x,p,y);const B=new Eo(p,x,y);this.possibleCenters.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return null}}class jc extends Ge{constructor(o,l,f,g){super(o,l),this.estimatedModuleSize=f,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,l,f){if(Math.abs(l-this.getY())<=o&&Math.abs(f-this.getX())<=o){const g=Math.abs(o-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(o,l,f){const g=this.count+1,p=(this.count*this.getX()+l)/g,x=(this.count*this.getY()+o)/g,y=(this.count*this.estimatedModuleSize+f)/g;return new jc(p,x,y,g)}}class Od{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pn{constructor(o,l){this.image=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const l=o!=null&&o.get(P.TRY_HARDER)!==void 0,f=o!=null&&o.get(P.PURE_BARCODE)!==void 0,g=this.image,p=g.getHeight(),x=g.getWidth();let y=Math.floor(3*p/(4*pn.MAX_MODULES));(y<pn.MIN_SKIP||l)&&(y=pn.MIN_SKIP);let B=!1;const S=new Int32Array(5);for(let z=y-1;z<p&&!B;z+=y){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let q=0;for(let Ae=0;Ae<x;Ae++)if(g.get(Ae,z))(q&1)===1&&q++,S[q]++;else if(q&1)S[q]++;else if(q===4)if(pn.foundPatternCross(S)){if(this.handlePossibleCenter(S,z,Ae,f)===!0)if(y=2,this.hasSkipped===!0)B=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>S[2]&&(z+=ve-S[2]-y,Ae=x-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,q=3;continue}q=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,q=3;else S[++q]++;pn.foundPatternCross(S)&&this.handlePossibleCenter(S,z,x,f)===!0&&(y=S[0],this.hasSkipped&&(B=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Ge.orderBestPatterns(O),new Od(O)}static centerFromEnd(o,l){return l-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let l=0;for(let p=0;p<5;p++){const x=o[p];if(x===0)return!1;l+=x}if(l<7)return!1;const f=l/7,g=f/2;return Math.abs(f-o[0])<g&&Math.abs(f-o[1])<g&&Math.abs(3*f-o[2])<3*g&&Math.abs(f-o[3])<g&&Math.abs(f-o[4])<g}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,l,f,g){const p=this.getCrossCheckStateCount();let x=0;const y=this.image;for(;o>=x&&l>=x&&y.get(l-x,o-x);)p[2]++,x++;if(o<x||l<x)return!1;for(;o>=x&&l>=x&&!y.get(l-x,o-x)&&p[1]<=f;)p[1]++,x++;if(o<x||l<x||p[1]>f)return!1;for(;o>=x&&l>=x&&y.get(l-x,o-x)&&p[0]<=f;)p[0]++,x++;if(p[0]>f)return!1;const B=y.getHeight(),S=y.getWidth();for(x=1;o+x<B&&l+x<S&&y.get(l+x,o+x);)p[2]++,x++;if(o+x>=B||l+x>=S)return!1;for(;o+x<B&&l+x<S&&!y.get(l+x,o+x)&&p[3]<f;)p[3]++,x++;if(o+x>=B||l+x>=S||p[3]>=f)return!1;for(;o+x<B&&l+x<S&&y.get(l+x,o+x)&&p[4]<f;)p[4]++,x++;if(p[4]>=f)return!1;const O=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(O-g)<2*g&&pn.foundPatternCross(p)}crossCheckVertical(o,l,f,g){const p=this.image,x=p.getHeight(),y=this.getCrossCheckStateCount();let B=o;for(;B>=0&&p.get(l,B);)y[2]++,B--;if(B<0)return NaN;for(;B>=0&&!p.get(l,B)&&y[1]<=f;)y[1]++,B--;if(B<0||y[1]>f)return NaN;for(;B>=0&&p.get(l,B)&&y[0]<=f;)y[0]++,B--;if(y[0]>f)return NaN;for(B=o+1;B<x&&p.get(l,B);)y[2]++,B++;if(B===x)return NaN;for(;B<x&&!p.get(l,B)&&y[3]<f;)y[3]++,B++;if(B===x||y[3]>=f)return NaN;for(;B<x&&p.get(l,B)&&y[4]<f;)y[4]++,B++;if(y[4]>=f)return NaN;const S=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(S-g)>=2*g?NaN:pn.foundPatternCross(y)?pn.centerFromEnd(y,B):NaN}crossCheckHorizontal(o,l,f,g){const p=this.image,x=p.getWidth(),y=this.getCrossCheckStateCount();let B=o;for(;B>=0&&p.get(B,l);)y[2]++,B--;if(B<0)return NaN;for(;B>=0&&!p.get(B,l)&&y[1]<=f;)y[1]++,B--;if(B<0||y[1]>f)return NaN;for(;B>=0&&p.get(B,l)&&y[0]<=f;)y[0]++,B--;if(y[0]>f)return NaN;for(B=o+1;B<x&&p.get(B,l);)y[2]++,B++;if(B===x)return NaN;for(;B<x&&!p.get(B,l)&&y[3]<f;)y[3]++,B++;if(B===x||y[3]>=f)return NaN;for(;B<x&&p.get(B,l)&&y[4]<f;)y[4]++,B++;if(y[4]>=f)return NaN;const S=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(S-g)>=g?NaN:pn.foundPatternCross(y)?pn.centerFromEnd(y,B):NaN}handlePossibleCenter(o,l,f,g){const p=o[0]+o[1]+o[2]+o[3]+o[4];let x=pn.centerFromEnd(o,f),y=this.crossCheckVertical(l,Math.floor(x),o[2],p);if(!isNaN(y)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(y),o[2],p),!isNaN(x)&&(!g||this.crossCheckDiagonal(Math.floor(y),Math.floor(x),o[2],p)))){const B=p/7;let S=!1;const O=this.possibleCenters;for(let z=0,q=O.length;z<q;z++){const Ae=O[z];if(Ae.aboutEquals(B,y,x)){O[z]=Ae.combineEstimate(y,x,B),S=!0;break}}if(!S){const z=new jc(x,y,B);O.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const f of this.possibleCenters)if(f.getCount()>=pn.CENTER_QUORUM)if(l==null)l=f;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-f.getX())-Math.abs(l.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,l=0;const f=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=pn.CENTER_QUORUM&&(o++,l+=x.getEstimatedModuleSize());if(o<3)return!1;const g=l/f;let p=0;for(const x of this.possibleCenters)p+=Math.abs(x.getEstimatedModuleSize()-g);return p<=.05*l}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new le;const l=this.possibleCenters;let f;if(o>3){let g=0,p=0;for(const B of this.possibleCenters){const S=B.getEstimatedModuleSize();g+=S,p+=S*S}f=g/o;let x=Math.sqrt(p/o-f*f);l.sort((B,S)=>{const O=Math.abs(S.getEstimatedModuleSize()-f),z=Math.abs(B.getEstimatedModuleSize()-f);return O<z?-1:O>z?1:0});const y=Math.max(.2*f,x);for(let B=0;B<l.length&&l.length>3;B++){const S=l[B];Math.abs(S.getEstimatedModuleSize()-f)>y&&(l.splice(B,1),B--)}}if(l.length>3){let g=0;for(const p of l)g+=p.getEstimatedModuleSize();f=g/l.length,l.sort((p,x)=>{if(x.getCount()===p.getCount()){const y=Math.abs(x.getEstimatedModuleSize()-f),B=Math.abs(p.getEstimatedModuleSize()-f);return y<B?1:y>B?-1:0}else return x.getCount()-p.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}pn.CENTER_QUORUM=2,pn.MIN_SKIP=3,pn.MAX_MODULES=57;class za{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(P.NEED_RESULT_POINT_CALLBACK);const f=new pn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(f)}processFinderPatternInfo(o){const l=o.getTopLeft(),f=o.getTopRight(),g=o.getBottomLeft(),p=this.calculateModuleSize(l,f,g);if(p<1)throw new le("No pattern found in proccess finder.");const x=za.computeDimension(l,f,g,p),y=ut.getProvisionalVersionForDimension(x),B=y.getDimensionForVersion()-7;let S=null;if(y.getAlignmentPatternCenters().length>0){const Ae=f.getX()-l.getX()+g.getX(),pe=f.getY()-l.getY()+g.getY(),ve=1-3/B,Ie=Math.floor(l.getX()+ve*(Ae-l.getX())),Oe=Math.floor(l.getY()+ve*(pe-l.getY()));for(let nt=4;nt<=16;nt<<=1)try{S=this.findAlignmentInRegion(p,Ie,Oe,nt);break}catch(at){if(!(at instanceof le))throw at}}const O=za.createTransform(l,f,g,S,x),z=za.sampleGrid(this.image,O,x);let q;return S===null?q=[g,l,f]:q=[g,l,f,S],new vr(z,q)}static createTransform(o,l,f,g,p){const x=p-3.5;let y,B,S,O;return g!==null?(y=g.getX(),B=g.getY(),S=x-3,O=S):(y=l.getX()-o.getX()+f.getX(),B=l.getY()-o.getY()+f.getY(),S=x,O=x),ct.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,S,O,3.5,x,o.getX(),o.getY(),l.getX(),l.getY(),y,B,f.getX(),f.getY())}static sampleGrid(o,l,f){return Yt.getInstance().sampleGridWithTransform(o,f,f,l)}static computeDimension(o,l,f,g){const p=st.round(Ge.distance(o,l)/g),x=st.round(Ge.distance(o,f)/g);let y=Math.floor((p+x)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new le("Dimensions could be not found.")}return y}calculateModuleSize(o,l,f){return(this.calculateModuleSizeOneWay(o,l)+this.calculateModuleSizeOneWay(o,f))/2}calculateModuleSizeOneWay(o,l){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(l.getX()),Math.floor(l.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(f)?g/7:isNaN(g)?f/7:(f+g)/14}sizeOfBlackWhiteBlackRunBothWays(o,l,f,g){let p=this.sizeOfBlackWhiteBlackRun(o,l,f,g),x=1,y=o-(f-o);y<0?(x=o/(o-y),y=0):y>=this.image.getWidth()&&(x=(this.image.getWidth()-1-o)/(y-o),y=this.image.getWidth()-1);let B=Math.floor(l-(g-l)*x);return x=1,B<0?(x=l/(l-B),B=0):B>=this.image.getHeight()&&(x=(this.image.getHeight()-1-l)/(B-l),B=this.image.getHeight()-1),y=Math.floor(o+(y-o)*x),p+=this.sizeOfBlackWhiteBlackRun(o,l,y,B),p-1}sizeOfBlackWhiteBlackRun(o,l,f,g){const p=Math.abs(g-l)>Math.abs(f-o);if(p){let Ae=o;o=l,l=Ae,Ae=f,f=g,g=Ae}const x=Math.abs(f-o),y=Math.abs(g-l);let B=-x/2;const S=o<f?1:-1,O=l<g?1:-1;let z=0;const q=f+S;for(let Ae=o,pe=l;Ae!==q;Ae+=S){const ve=p?pe:Ae,Ie=p?Ae:pe;if(z===1===this.image.get(ve,Ie)){if(z===2)return st.distance(Ae,pe,o,l);z++}if(B+=y,B>0){if(pe===g)break;pe+=O,B-=x}}return z===2?st.distance(f+S,g,o,l):NaN}findAlignmentInRegion(o,l,f,g){const p=Math.floor(g*o),x=Math.max(0,l-p),y=Math.min(this.image.getWidth()-1,l+p);if(y-x<o*3)throw new le("Alignment top exceeds estimated module size.");const B=Math.max(0,f-p),S=Math.min(this.image.getHeight()-1,f+p);if(S-B<o*3)throw new le("Alignment bottom exceeds estimated module size.");return new Ea(this.image,x,B,y-x,S-B,o,this.resultPointCallback).find()}}class Xs{constructor(){this.decoder=new wx}getDecoder(){return this.decoder}decode(o,l){let f,g;if(l!=null&&l.get(P.PURE_BARCODE)!==void 0){const B=Xs.extractPureBits(o.getBlackMatrix());f=this.decoder.decodeBitMatrix(B,l),g=Xs.NO_POINTS}else{const B=new za(o.getBlackMatrix()).detect(l);f=this.decoder.decodeBitMatrix(B.getBits(),l),g=B.getPoints()}f.getOther()instanceof Md&&f.getOther().applyMirroredCorrection(g);const p=new ce(f.getText(),f.getRawBytes(),void 0,g,fe.QR_CODE,void 0),x=f.getByteSegments();x!==null&&p.putMetadata(ye.BYTE_SEGMENTS,x);const y=f.getECLevel();return y!==null&&p.putMetadata(ye.ERROR_CORRECTION_LEVEL,y),f.hasStructuredAppend()&&(p.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),p.putMetadata(ye.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),p}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),f=o.getBottomRightOnBit();if(l===null||f===null)throw new le;const g=this.moduleSize(l,o);let p=l[1],x=f[1],y=l[0],B=f[0];if(y>=B||p>=x)throw new le;if(x-p!==B-y&&(B=y+(x-p),B>=o.getWidth()))throw new le;const S=Math.round((B-y+1)/g),O=Math.round((x-p+1)/g);if(S<=0||O<=0)throw new le;if(O!==S)throw new le;const z=Math.floor(g/2);p+=z,y+=z;const q=y+Math.floor((S-1)*g)-B;if(q>0){if(q>z)throw new le;y-=q}const Ae=p+Math.floor((O-1)*g)-x;if(Ae>0){if(Ae>z)throw new le;p-=Ae}const pe=new Ce(S,O);for(let ve=0;ve<O;ve++){const Ie=p+Math.floor(ve*g);for(let Oe=0;Oe<S;Oe++)o.get(y+Math.floor(Oe*g),Ie)&&pe.set(Oe,ve)}return pe}static moduleSize(o,l){const f=l.getHeight(),g=l.getWidth();let p=o[0],x=o[1],y=!0,B=0;for(;p<g&&x<f;){if(y!==l.get(p,x)){if(++B===5)break;y=!y}p++,x++}if(p===g||x===f)throw new le;return(p-o[0])/7}}Xs.NO_POINTS=new Array;class Bt{PDF417Common(){}static getBitCountSum(o){return st.sum(o)}static toIntArray(o){if(o==null||!o.length)return Bt.EMPTY_INT_ARRAY;const l=new Int32Array(o.length);let f=0;for(const g of o)l[f++]=g;return l}static getCodeword(o){const l=R.binarySearch(Bt.SYMBOL_TABLE,o&262143);return l<0?-1:(Bt.CODEWORD_TABLE[l]-1)%Bt.NUMBER_OF_CODEWORDS}}Bt.NUMBER_OF_CODEWORDS=929,Bt.MAX_CODEWORDS_IN_BARCODE=Bt.NUMBER_OF_CODEWORDS-1,Bt.MIN_ROWS_IN_BARCODE=3,Bt.MAX_ROWS_IN_BARCODE=90,Bt.MODULES_IN_CODEWORD=17,Bt.MODULES_IN_STOP_PATTERN=18,Bt.BARS_IN_MODULE=8,Bt.EMPTY_INT_ARRAY=new Int32Array([]),Bt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Bt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class yx{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Tt{static detectMultiple(o,l,f){let g=o.getBlackMatrix(),p=Tt.detect(f,g);return p.length||(g=g.clone(),g.rotate180(),p=Tt.detect(f,g)),new yx(g,p)}static detect(o,l){const f=new Array;let g=0,p=0,x=!1;for(;g<l.getHeight();){const y=Tt.findVertices(l,g,p);if(y[0]==null&&y[3]==null){if(!x)break;x=!1,p=0;for(const B of f)B[1]!=null&&(g=Math.trunc(Math.max(g,B[1].getY()))),B[3]!=null&&(g=Math.max(g,Math.trunc(B[3].getY())));g+=Tt.ROW_STEP;continue}if(x=!0,f.push(y),!o)break;y[2]!=null?(p=Math.trunc(y[2].getX()),g=Math.trunc(y[2].getY())):(p=Math.trunc(y[4].getX()),g=Math.trunc(y[4].getY()))}return f}static findVertices(o,l,f){const g=o.getHeight(),p=o.getWidth(),x=new Array(8);return Tt.copyToResult(x,Tt.findRowsWithPattern(o,g,p,l,f,Tt.START_PATTERN),Tt.INDEXES_START_PATTERN),x[4]!=null&&(f=Math.trunc(x[4].getX()),l=Math.trunc(x[4].getY())),Tt.copyToResult(x,Tt.findRowsWithPattern(o,g,p,l,f,Tt.STOP_PATTERN),Tt.INDEXES_STOP_PATTERN),x}static copyToResult(o,l,f){for(let g=0;g<f.length;g++)o[f[g]]=l[g]}static findRowsWithPattern(o,l,f,g,p,x){const y=new Array(4);let B=!1;const S=new Int32Array(x.length);for(;g<l;g+=Tt.ROW_STEP){let z=Tt.findGuardPattern(o,p,g,f,!1,x,S);if(z!=null){for(;g>0;){const q=Tt.findGuardPattern(o,p,--g,f,!1,x,S);if(q!=null)z=q;else{g++;break}}y[0]=new Ge(z[0],g),y[1]=new Ge(z[1],g),B=!0;break}}let O=g+1;if(B){let z=0,q=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;O<l;O++){const Ae=Tt.findGuardPattern(o,q[0],O,f,!1,x,S);if(Ae!=null&&Math.abs(q[0]-Ae[0])<Tt.MAX_PATTERN_DRIFT&&Math.abs(q[1]-Ae[1])<Tt.MAX_PATTERN_DRIFT)q=Ae,z=0;else{if(z>Tt.SKIPPED_ROW_COUNT_MAX)break;z++}}O-=z+1,y[2]=new Ge(q[0],O),y[3]=new Ge(q[1],O)}return O-g<Tt.BARCODE_MIN_HEIGHT&&R.fill(y,null),y}static findGuardPattern(o,l,f,g,p,x,y){R.fillWithin(y,0,y.length,0);let B=l,S=0;for(;o.get(B,f)&&B>0&&S++<Tt.MAX_PIXEL_DRIFT;)B--;let O=B,z=0,q=x.length;for(let Ae=p;O<g;O++)if(o.get(O,f)!==Ae)y[z]++;else{if(z===q-1){if(Tt.patternMatchVariance(y,x,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return new Int32Array([B,O]);B+=y[0]+y[1],T.arraycopy(y,2,y,0,z-1),y[z-1]=0,y[z]=0,z--}else z++;y[z]=1,Ae=!Ae}return z===q-1&&Tt.patternMatchVariance(y,x,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE?new Int32Array([B,O-1]):null}static patternMatchVariance(o,l,f){let g=o.length,p=0,x=0;for(let S=0;S<g;S++)p+=o[S],x+=l[S];if(p<x)return 1/0;let y=p/x;f*=y;let B=0;for(let S=0;S<g;S++){let O=o[S],z=l[S]*y,q=O>z?O-z:z-O;if(q>f)return 1/0;B+=q}return B/p}}Tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Tt.MAX_AVG_VARIANCE=.42,Tt.MAX_INDIVIDUAL_VARIANCE=.8,Tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Tt.MAX_PIXEL_DRIFT=3,Tt.MAX_PATTERN_DRIFT=5,Tt.SKIPPED_ROW_COUNT_MAX=25,Tt.ROW_STEP=5,Tt.BARCODE_MIN_HEIGHT=10;class Mn{constructor(o,l){if(l.length===0)throw new m;this.field=o;let f=l.length;if(f>1&&l[0]===0){let g=1;for(;g<f&&l[g]===0;)g++;g===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-g),T.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let g=0;for(let p of this.coefficients)g=this.field.add(g,p);return g}let l=this.coefficients[0],f=this.coefficients.length;for(let g=1;g<f;g++)l=this.field.add(this.field.multiply(o,l),this.coefficients[g]);return l}add(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,f=o.coefficients;if(l.length>f.length){let x=l;l=f,f=x}let g=new Int32Array(f.length),p=f.length-l.length;T.arraycopy(f,0,g,0,p);for(let x=p;x<f.length;x++)g[x]=this.field.add(l[x-p],f[x]);return new Mn(this.field,g)}subtract(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Mn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Mn(this.field,new Int32Array([0]));let l=this.coefficients,f=l.length,g=o.coefficients,p=g.length,x=new Int32Array(f+p-1);for(let y=0;y<f;y++){let B=l[y];for(let S=0;S<p;S++)x[y+S]=this.field.add(x[y+S],this.field.multiply(B,g[S]))}return new Mn(this.field,x)}negative(){let o=this.coefficients.length,l=new Int32Array(o);for(let f=0;f<o;f++)l[f]=this.field.subtract(0,this.coefficients[f]);return new Mn(this.field,l)}multiplyScalar(o){if(o===0)return new Mn(this.field,new Int32Array([0]));if(o===1)return this;let l=this.coefficients.length,f=new Int32Array(l);for(let g=0;g<l;g++)f[g]=this.field.multiply(this.coefficients[g],o);return new Mn(this.field,f)}multiplyByMonomial(o,l){if(o<0)throw new m;if(l===0)return new Mn(this.field,new Int32Array([0]));let f=this.coefficients.length,g=new Int32Array(f+o);for(let p=0;p<f;p++)g[p]=this.field.multiply(this.coefficients[p],l);return new Mn(this.field,g)}toString(){let o=new V;for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);f!==0&&(f<0?(o.append(" - "),f=-f):o.length()>0&&o.append(" + "),(l===0||f!==1)&&o.append(f),l!==0&&(l===1?o.append("x"):(o.append("x^"),o.append(l))))}return o.toString()}}class Ex{add(o,l){return(o+l)%this.modulus}subtract(o,l){return(this.modulus+o-l)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new m;return this.logTable[o]}inverse(o){if(o===0)throw new ie;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class AA extends Ex{constructor(o,l){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let f=1;for(let g=0;g<o;g++)this.expTable[g]=f,f=f*l%o;for(let g=0;g<o-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Mn(this,new Int32Array([0])),this.one=new Mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new m;if(l===0)return this.zero;let f=new Int32Array(o+1);return f[0]=l,new Mn(this,f)}}AA.PDF417_GF=new AA(Bt.NUMBER_OF_CODEWORDS,3);class Bl{constructor(){this.field=AA.PDF417_GF}decode(o,l,f){let g=new Mn(this.field,o),p=new Int32Array(l),x=!1;for(let pe=l;pe>0;pe--){let ve=g.evaluateAt(this.field.exp(pe));p[l-pe]=ve,ve!==0&&(x=!0)}if(!x)return 0;let y=this.field.getOne();if(f!=null)for(const pe of f){let ve=this.field.exp(o.length-1-pe),Ie=new Mn(this.field,new Int32Array([this.field.subtract(0,ve),1]));y=y.multiply(Ie)}let B=new Mn(this.field,p),S=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),B,l),O=S[0],z=S[1],q=this.findErrorLocations(O),Ae=this.findErrorMagnitudes(z,O,q);for(let pe=0;pe<q.length;pe++){let ve=o.length-1-this.field.log(q[pe]);if(ve<0)throw _.getChecksumInstance();o[ve]=this.field.subtract(o[ve],Ae[pe])}return q.length}runEuclideanAlgorithm(o,l,f){if(o.getDegree()<l.getDegree()){let q=o;o=l,l=q}let g=o,p=l,x=this.field.getZero(),y=this.field.getOne();for(;p.getDegree()>=Math.round(f/2);){let q=g,Ae=x;if(g=p,x=y,g.isZero())throw _.getChecksumInstance();p=q;let pe=this.field.getZero(),ve=g.getCoefficient(g.getDegree()),Ie=this.field.inverse(ve);for(;p.getDegree()>=g.getDegree()&&!p.isZero();){let Oe=p.getDegree()-g.getDegree(),nt=this.field.multiply(p.getCoefficient(p.getDegree()),Ie);pe=pe.add(this.field.buildMonomial(Oe,nt)),p=p.subtract(g.multiplyByMonomial(Oe,nt))}y=pe.multiply(x).subtract(Ae).negative()}let B=y.getCoefficient(0);if(B===0)throw _.getChecksumInstance();let S=this.field.inverse(B),O=y.multiply(S),z=p.multiply(S);return[O,z]}findErrorLocations(o){let l=o.getDegree(),f=new Int32Array(l),g=0;for(let p=1;p<this.field.getSize()&&g<l;p++)o.evaluateAt(p)===0&&(f[g]=this.field.inverse(p),g++);if(g!==l)throw _.getChecksumInstance();return f}findErrorMagnitudes(o,l,f){let g=l.getDegree(),p=new Int32Array(g);for(let S=1;S<=g;S++)p[g-S]=this.field.multiply(S,l.getCoefficient(S));let x=new Mn(this.field,p),y=f.length,B=new Int32Array(y);for(let S=0;S<y;S++){let O=this.field.inverse(f[S]),z=this.field.subtract(0,o.evaluateAt(O)),q=this.field.inverse(x.evaluateAt(O));B[S]=this.field.multiply(z,q)}return B}}class qs{constructor(o,l,f,g,p){o instanceof qs?this.constructor_2(o):this.constructor_1(o,l,f,g,p)}constructor_1(o,l,f,g,p){const x=l==null||f==null,y=g==null||p==null;if(x&&y)throw new le;x?(l=new Ge(0,g.getY()),f=new Ge(0,p.getY())):y&&(g=new Ge(o.getWidth()-1,l.getY()),p=new Ge(o.getWidth()-1,f.getY())),this.image=o,this.topLeft=l,this.bottomLeft=f,this.topRight=g,this.bottomRight=p,this.minX=Math.trunc(Math.min(l.getX(),f.getX())),this.maxX=Math.trunc(Math.max(g.getX(),p.getX())),this.minY=Math.trunc(Math.min(l.getY(),g.getY())),this.maxY=Math.trunc(Math.max(f.getY(),p.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,l){return o==null?l:l==null?o:new qs(o.image,o.topLeft,o.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(o,l,f){let g=this.topLeft,p=this.bottomLeft,x=this.topRight,y=this.bottomRight;if(o>0){let B=f?this.topLeft:this.topRight,S=Math.trunc(B.getY()-o);S<0&&(S=0);let O=new Ge(B.getX(),S);f?g=O:x=O}if(l>0){let B=f?this.bottomLeft:this.bottomRight,S=Math.trunc(B.getY()+l);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let O=new Ge(B.getX(),S);f?p=O:y=O}return new qs(this.image,g,p,x,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bl{constructor(o,l,f,g){this.columnCount=o,this.errorCorrectionLevel=g,this.rowCountUpperPart=l,this.rowCountLowerPart=f,this.rowCount=l+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Bs{constructor(){this.buffer=""}static form(o,l){let f=-1;function g(x,y,B,S,O,z){if(x==="%%")return"%";if(l[++f]===void 0)return;x=S?parseInt(S.substr(1)):void 0;let q=O?parseInt(O.substr(1)):void 0,Ae;switch(z){case"s":Ae=l[f];break;case"c":Ae=l[f][0];break;case"f":Ae=parseFloat(l[f]).toFixed(x);break;case"p":Ae=parseFloat(l[f]).toPrecision(x);break;case"e":Ae=parseFloat(l[f]).toExponential(x);break;case"x":Ae=parseInt(l[f]).toString(q||16);break;case"d":Ae=parseFloat(parseInt(l[f],q||10).toPrecision(x)).toFixed(0);break}Ae=typeof Ae=="object"?JSON.stringify(Ae):(+Ae).toString(q);let pe=parseInt(B),ve=B&&B[0]+""=="0"?"0":" ";for(;Ae.length<pe;)Ae=y!==void 0?Ae+ve:ve+Ae;return Ae}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(p,g)}format(o,...l){this.buffer+=Bs.form(o,l)}toString(){return this.buffer}}class lA{constructor(o){this.boundingBox=new qs(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let l=this.getCodeword(o);if(l!=null)return l;for(let f=1;f<lA.MAX_NEARBY_DISTANCE;f++){let g=this.imageRowToCodewordIndex(o)-f;if(g>=0&&(l=this.codewords[g],l!=null)||(g=this.imageRowToCodewordIndex(o)+f,g<this.codewords.length&&(l=this.codewords[g],l!=null)))return l}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,l){this.codewords[this.imageRowToCodewordIndex(o)]=l}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Bs;let l=0;for(const f of this.codewords){if(f==null){o.format("%3d:    |   %n",l++);continue}o.format("%3d: %3d|%3d%n",l++,f.getRowNumber(),f.getValue())}return o.toString()}}lA.MAX_NEARBY_DISTANCE=5;class Co{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let l=this.values.get(o);l==null&&(l=0),l++,this.values.set(o,l)}getValue(){let o=-1,l=new Array;for(const[f,g]of this.values.entries()){const p={getKey:()=>f,getValue:()=>g};p.getValue()>o?(o=p.getValue(),l=[],l.push(p.getKey())):p.getValue()===o&&l.push(p.getKey())}return Bt.toIntArray(l)}getConfidence(o){return this.values.get(o)}}class Pr extends lA{constructor(o,l){super(o),this._isLeft=l}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,o);let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),p=this._isLeft?f.getBottomLeft():f.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),y=this.imageRowToCodewordIndex(Math.trunc(p.getY())),B=-1,S=1,O=0;for(let z=x;z<y;z++){if(l[z]==null)continue;let q=l[z],Ae=q.getRowNumber()-B;if(Ae===0)O++;else if(Ae===1)S=Math.max(S,O),O=1,B=q.getRowNumber();else if(Ae<0||q.getRowNumber()>=o.getRowCount()||Ae>z)l[z]=null;else{let pe;S>2?pe=(S-2)*Ae:pe=Ae;let ve=pe>=z;for(let Ie=1;Ie<=pe&&!ve;Ie++)ve=l[z-Ie]!=null;ve?l[z]=null:(B=q.getRowNumber(),O=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let l=new Int32Array(o.getRowCount());for(let f of this.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=l.length)continue;l[g]++}return l}adjustIncompleteIndicatorColumnRowNumbers(o){let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),g=this._isLeft?l.getBottomLeft():l.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),y=this.getCodewords(),B=-1;for(let S=p;S<x;S++){if(y[S]==null)continue;let O=y[S];O.setRowNumberAsRowIndicatorColumn();let z=O.getRowNumber()-B;z===0||(z===1?B=O.getRowNumber():O.getRowNumber()>=o.getRowCount()?y[S]=null:B=O.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),l=new Co,f=new Co,g=new Co,p=new Co;for(let y of o){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let B=y.getValue()%30,S=y.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:f.setValue(B*3+1);break;case 1:p.setValue(B/3),g.setValue(B%3);break;case 2:l.setValue(B+1);break}}if(l.getValue().length===0||f.getValue().length===0||g.getValue().length===0||p.getValue().length===0||l.getValue()[0]<1||f.getValue()[0]+g.getValue()[0]<Bt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+g.getValue()[0]>Bt.MAX_ROWS_IN_BARCODE)return null;let x=new bl(l.getValue()[0],f.getValue()[0],g.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(o,x),x}removeIncorrectCodewords(o,l){for(let f=0;f<o.length;f++){let g=o[f];if(o[f]==null)continue;let p=g.getValue()%30,x=g.getRowNumber();if(x>l.getRowCount()){o[f]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:p*3+1!==l.getRowCountUpperPart()&&(o[f]=null);break;case 1:(Math.trunc(p/3)!==l.getErrorCorrectionLevel()||p%3!==l.getRowCountLowerPart())&&(o[f]=null);break;case 2:p+1!==l.getColumnCount()&&(o[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Tl{constructor(o,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Bt.MAX_CODEWORDS_IN_BARCODE,l;do l=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let f=this.detectionResultColumns[l].getCodewords();for(let g=0;g<f.length;g++)f[g]!=null&&(f[g].hasValidRowNumber()||this.adjustRowNumbers(l,g,f))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<o.length;f++)if(o[f]!=null&&l[f]!=null&&o[f].getRowNumber()===l[f].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let p=this.detectionResultColumns[g].getCodewords()[f];p!=null&&(p.setRowNumber(o[f].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<l.length;f++){if(l[f]==null)continue;let g=l[f].getRowNumber(),p=0;for(let x=this.barcodeColumnCount+1;x>0&&p<this.ADJUST_ROW_NUMBER_SKIP;x--){let y=this.detectionResultColumns[x].getCodewords()[f];y!=null&&(p=Tl.adjustRowNumberIfValid(g,p,y),y.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,l=this.detectionResultColumns[0].getCodewords();for(let f=0;f<l.length;f++){if(l[f]==null)continue;let g=l[f].getRowNumber(),p=0;for(let x=1;x<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;x++){let y=this.detectionResultColumns[x].getCodewords()[f];y!=null&&(p=Tl.adjustRowNumberIfValid(g,p,y),y.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,l,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(o)?(f.setRowNumber(o),l=0):++l),l}adjustRowNumbers(o,l,f){if(!this.detectionResultColumns[o-1])return;let g=f[l],p=this.detectionResultColumns[o-1].getCodewords(),x=p;this.detectionResultColumns[o+1]!=null&&(x=this.detectionResultColumns[o+1].getCodewords());let y=new Array(14);y[2]=p[l],y[3]=x[l],l>0&&(y[0]=f[l-1],y[4]=p[l-1],y[5]=x[l-1]),l>1&&(y[8]=f[l-2],y[10]=p[l-2],y[11]=x[l-2]),l<f.length-1&&(y[1]=f[l+1],y[6]=p[l+1],y[7]=x[l+1]),l<f.length-2&&(y[9]=f[l+2],y[12]=p[l+2],y[13]=x[l+2]);for(let B of y)if(Tl.adjustRowNumber(g,B))return}static adjustRowNumber(o,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===o.getBucket()?(o.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,l){this.detectionResultColumns[o]=l}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Bs;for(let f=0;f<o.getCodewords().length;f++){l.format("CW %3d:",f);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){l.format("    |   ");continue}let p=this.detectionResultColumns[g].getCodewords()[f];if(p==null){l.format("    |   ");continue}l.format(" %3d|%3d",p.getRowNumber(),p.getValue())}l.format("%n")}return l.toString()}}class Sl{constructor(o,l,f,g){this.rowNumber=Sl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(l),this.bucket=Math.trunc(f),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Sl.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Sl.BARCODE_ROW_UNKNOWN=-1;class ai{static initialize(){for(let o=0;o<Bt.SYMBOL_TABLE.length;o++){let l=Bt.SYMBOL_TABLE[o],f=l&1;for(let g=0;g<Bt.BARS_IN_MODULE;g++){let p=0;for(;(l&1)===f;)p+=1,l>>=1;f=l&1,ai.RATIOS_TABLE[o]||(ai.RATIOS_TABLE[o]=new Array(Bt.BARS_IN_MODULE)),ai.RATIOS_TABLE[o][Bt.BARS_IN_MODULE-g-1]=Math.fround(p/Bt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let l=ai.getDecodedCodewordValue(ai.sampleBitCounts(o));return l!==-1?l:ai.getClosestDecodedValue(o)}static sampleBitCounts(o){let l=st.sum(o),f=new Int32Array(Bt.BARS_IN_MODULE),g=0,p=0;for(let x=0;x<Bt.MODULES_IN_CODEWORD;x++){let y=l/(2*Bt.MODULES_IN_CODEWORD)+x*l/Bt.MODULES_IN_CODEWORD;p+o[g]<=y&&(p+=o[g],g++),f[g]++}return f}static getDecodedCodewordValue(o){let l=ai.getBitValue(o);return Bt.getCodeword(l)===-1?-1:l}static getBitValue(o){let l=0;for(let f=0;f<o.length;f++)for(let g=0;g<o[f];g++)l=l<<1|(f%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(o){let l=st.sum(o),f=new Array(Bt.BARS_IN_MODULE);if(l>1)for(let x=0;x<f.length;x++)f[x]=Math.fround(o[x]/l);let g=qt.MAX_VALUE,p=-1;this.bSymbolTableReady||ai.initialize();for(let x=0;x<ai.RATIOS_TABLE.length;x++){let y=0,B=ai.RATIOS_TABLE[x];for(let S=0;S<Bt.BARS_IN_MODULE;S++){let O=Math.fround(B[S]-f[S]);if(y+=Math.fround(O*O),y>=g)break}y<g&&(g=y,p=Bt.SYMBOL_TABLE[x])}return p}}ai.bSymbolTableReady=!1,ai.RATIOS_TABLE=new Array(Bt.SYMBOL_TABLE.length).map(K=>new Array(Bt.BARS_IN_MODULE));class j0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class G0{static parseLong(o,l=void 0){return parseInt(o,l)}}class Il extends u{}Il.kind="NullPointerException";class Ld{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,l,f){if(o==null)throw new Il;if(l<0||l>o.length||f<0||l+f>o.length||l+f<0)throw new I;if(f===0)return;for(let g=0;g<f;g++)this.write(o[l+g])}flush(){}close(){}}class bs extends u{}class Pd extends Ld{constructor(o=32){if(super(),this.count=0,o<0)throw new m("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let f=this.buf.length<<1;if(f-o<0&&(f=o),f<0){if(o<0)throw new bs;f=F.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,f)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,l,f){if(l<0||l>o.length||f<0||l+f-o.length>0)throw new I;this.ensureCapacity(this.count+f),T.arraycopy(o,l,this.buf,this.count,f),this.count+=f}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var wr;(function(K){K[K.ALPHA=0]="ALPHA",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.PUNCT=3]="PUNCT",K[K.ALPHA_SHIFT=4]="ALPHA_SHIFT",K[K.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wr||(wr={}));function cA(){if(typeof window<"u")return window.BigInt||null;if(typeof X0<"u")return X0.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Nl;function Wa(K){if(typeof Nl>"u"&&(Nl=cA()),Nl===null)throw new Error("BigInt is not supported!");return Nl(K)}function Gc(){let K=[];K[0]=Wa(1);let o=Wa(900);K[1]=o;for(let l=2;l<16;l++)K[l]=K[l-1]*o;return K}class Ue{static decode(o,l){let f=new V(""),g=D.ISO8859_1;f.enableDecoding(g);let p=1,x=o[p++],y=new j0;for(;p<o[0];){switch(x){case Ue.TEXT_COMPACTION_MODE_LATCH:p=Ue.textCompaction(o,p,f);break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:p=Ue.byteCompaction(x,o,g,p,f);break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[p++]);break;case Ue.NUMERIC_COMPACTION_MODE_LATCH:p=Ue.numericCompaction(o,p,f);break;case Ue.ECI_CHARSET:D.getCharacterSetECIByValue(o[p++]);break;case Ue.ECI_GENERAL_PURPOSE:p+=2;break;case Ue.ECI_USER_DEFINED:p++;break;case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Ue.decodeMacroBlock(o,p,y);break;case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:throw new N;default:p--,p=Ue.textCompaction(o,p,f);break}if(p<o.length)x=o[p++];else throw N.getFormatInstance()}if(f.length()===0)throw N.getFormatInstance();let B=new xe(null,f.toString(),null,l);return B.setOther(y),B}static decodeMacroBlock(o,l,f){if(l+Ue.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw N.getFormatInstance();let g=new Int32Array(Ue.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<Ue.NUMBER_OF_SEQUENCE_CODEWORDS;y++,l++)g[y]=o[l];f.setSegmentIndex(F.parseInt(Ue.decodeBase900toBase10(g,Ue.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new V;l=Ue.textCompaction(o,l,p),f.setFileId(p.toString());let x=-1;for(o[l]===Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=l+1);l<o[0];)switch(o[l]){case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,o[l]){case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new V;l=Ue.textCompaction(o,l+1,y),f.setFileName(y.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let B=new V;l=Ue.textCompaction(o,l+1,B),f.setSender(B.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new V;l=Ue.textCompaction(o,l+1,S),f.setAddressee(S.toString());break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new V;l=Ue.numericCompaction(o,l+1,O),f.setSegmentCount(F.parseInt(O.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new V;l=Ue.numericCompaction(o,l+1,z),f.setTimestamp(G0.parseLong(z.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let q=new V;l=Ue.numericCompaction(o,l+1,q),f.setChecksum(F.parseInt(q.toString()));break;case Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ae=new V;l=Ue.numericCompaction(o,l+1,Ae),f.setFileSize(G0.parseLong(Ae.toString()));break;default:throw N.getFormatInstance()}break;case Ue.MACRO_PDF417_TERMINATOR:l++,f.setLastSegment(!0);break;default:throw N.getFormatInstance()}if(x!==-1){let y=l-x;f.isLastSegment()&&y--,f.setOptionalData(R.copyOfRange(o,x,x+y))}return l}static textCompaction(o,l,f){let g=new Int32Array((o[0]-l)*2),p=new Int32Array((o[0]-l)*2),x=0,y=!1;for(;l<o[0]&&!y;){let B=o[l++];if(B<Ue.TEXT_COMPACTION_MODE_LATCH)g[x]=B/30,g[x+1]=B%30,x+=2;else switch(B){case Ue.TEXT_COMPACTION_MODE_LATCH:g[x++]=Ue.TEXT_COMPACTION_MODE_LATCH;break;case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:l--,y=!0;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[x]=Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,B=o[l++],p[x]=B,x++;break}}return Ue.decodeTextCompaction(g,p,x,f),l}static decodeTextCompaction(o,l,f,g){let p=wr.ALPHA,x=wr.ALPHA,y=0;for(;y<f;){let B=o[y],S="";switch(p){case wr.ALPHA:if(B<26)S=String.fromCharCode(65+B);else switch(B){case 26:S=" ";break;case Ue.LL:p=wr.LOWER;break;case Ue.ML:p=wr.MIXED;break;case Ue.PS:x=p,p=wr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[y]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break;case wr.LOWER:if(B<26)S=String.fromCharCode(97+B);else switch(B){case 26:S=" ";break;case Ue.AS:x=p,p=wr.ALPHA_SHIFT;break;case Ue.ML:p=wr.MIXED;break;case Ue.PS:x=p,p=wr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[y]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break;case wr.MIXED:if(B<Ue.PL)S=Ue.MIXED_CHARS[B];else switch(B){case Ue.PL:p=wr.PUNCT;break;case 26:S=" ";break;case Ue.LL:p=wr.LOWER;break;case Ue.AL:p=wr.ALPHA;break;case Ue.PS:x=p,p=wr.PUNCT_SHIFT;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[y]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break;case wr.PUNCT:if(B<Ue.PAL)S=Ue.PUNCT_CHARS[B];else switch(B){case Ue.PAL:p=wr.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[y]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break;case wr.ALPHA_SHIFT:if(p=x,B<26)S=String.fromCharCode(65+B);else switch(B){case 26:S=" ";break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break;case wr.PUNCT_SHIFT:if(p=x,B<Ue.PAL)S=Ue.PUNCT_CHARS[B];else switch(B){case Ue.PAL:p=wr.ALPHA;break;case Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[y]);break;case Ue.TEXT_COMPACTION_MODE_LATCH:p=wr.ALPHA;break}break}S!==""&&g.append(S),y++}}static byteCompaction(o,l,f,g,p){let x=new Pd,y=0,B=0,S=!1;switch(o){case Ue.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),z=l[g++];for(;g<l[0]&&!S;)switch(O[y++]=z,B=900*B+z,z=l[g++],z){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:g--,S=!0;break;default:if(y%5===0&&y>0){for(let q=0;q<6;++q)x.write(Number(Wa(B)>>Wa(8*(5-q))));B=0,y=0}break}g===l[0]&&z<Ue.TEXT_COMPACTION_MODE_LATCH&&(O[y++]=z);for(let q=0;q<y;q++)x.write(O[q]);break;case Ue.BYTE_COMPACTION_MODE_LATCH_6:for(;g<l[0]&&!S;){let q=l[g++];if(q<Ue.TEXT_COMPACTION_MODE_LATCH)y++,B=900*B+q;else switch(q){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.NUMERIC_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:g--,S=!0;break}if(y%5===0&&y>0){for(let Ae=0;Ae<6;++Ae)x.write(Number(Wa(B)>>Wa(8*(5-Ae))));B=0,y=0}}break}return p.append(G.decode(x.toByteArray(),f)),g}static numericCompaction(o,l,f){let g=0,p=!1,x=new Int32Array(Ue.MAX_NUMERIC_CODEWORDS);for(;l<o[0]&&!p;){let y=o[l++];if(l===o[0]&&(p=!0),y<Ue.TEXT_COMPACTION_MODE_LATCH)x[g]=y,g++;else switch(y){case Ue.TEXT_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH:case Ue.BYTE_COMPACTION_MODE_LATCH_6:case Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ue.MACRO_PDF417_TERMINATOR:l--,p=!0;break}(g%Ue.MAX_NUMERIC_CODEWORDS===0||y===Ue.NUMERIC_COMPACTION_MODE_LATCH||p)&&g>0&&(f.append(Ue.decodeBase900toBase10(x,g)),g=0)}return l}static decodeBase900toBase10(o,l){let f=Wa(0);for(let p=0;p<l;p++)f+=Ue.EXP900[l-p-1]*Wa(o[p]);let g=f.toString();if(g.charAt(0)!=="1")throw new N;return g.substring(1)}}Ue.TEXT_COMPACTION_MODE_LATCH=900,Ue.BYTE_COMPACTION_MODE_LATCH=901,Ue.NUMERIC_COMPACTION_MODE_LATCH=902,Ue.BYTE_COMPACTION_MODE_LATCH_6=924,Ue.ECI_USER_DEFINED=925,Ue.ECI_GENERAL_PURPOSE=926,Ue.ECI_CHARSET=927,Ue.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ue.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ue.MACRO_PDF417_TERMINATOR=922,Ue.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ue.MAX_NUMERIC_CODEWORDS=15,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ue.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ue.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ue.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ue.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ue.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ue.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ue.PL=25,Ue.LL=27,Ue.AS=27,Ue.ML=28,Ue.AL=28,Ue.PS=29,Ue.PAL=29,Ue.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ue.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ue.EXP900=cA()?Gc():[],Ue.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Dt{constructor(){}static decode(o,l,f,g,p,x,y){let B=new qs(o,l,f,g,p),S=null,O=null,z;for(let pe=!0;;pe=!1){if(l!=null&&(S=Dt.getRowIndicatorColumn(o,B,l,!0,x,y)),g!=null&&(O=Dt.getRowIndicatorColumn(o,B,g,!1,x,y)),z=Dt.merge(S,O),z==null)throw le.getNotFoundInstance();let ve=z.getBoundingBox();if(pe&&ve!=null&&(ve.getMinY()<B.getMinY()||ve.getMaxY()>B.getMaxY()))B=ve;else break}z.setBoundingBox(B);let q=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,S),z.setDetectionResultColumn(q,O);let Ae=S!=null;for(let pe=1;pe<=q;pe++){let ve=Ae?pe:q-pe;if(z.getDetectionResultColumn(ve)!==void 0)continue;let Ie;ve===0||ve===q?Ie=new Pr(B,ve===0):Ie=new lA(B),z.setDetectionResultColumn(ve,Ie);let Oe=-1,nt=Oe;for(let at=B.getMinY();at<=B.getMaxY();at++){if(Oe=Dt.getStartColumn(z,ve,at,Ae),Oe<0||Oe>B.getMaxX()){if(nt===-1)continue;Oe=nt}let Ye=Dt.detectCodeword(o,B.getMinX(),B.getMaxX(),Ae,Oe,at,x,y);Ye!=null&&(Ie.setCodeword(at,Ye),nt=Oe,x=Math.min(x,Ye.getWidth()),y=Math.max(y,Ye.getWidth()))}}return Dt.createDecoderResult(z)}static merge(o,l){if(o==null&&l==null)return null;let f=Dt.getBarcodeMetadata(o,l);if(f==null)return null;let g=qs.merge(Dt.adjustBoundingBox(o),Dt.adjustBoundingBox(l));return new Tl(f,g)}static adjustBoundingBox(o){if(o==null)return null;let l=o.getRowHeights();if(l==null)return null;let f=Dt.getMax(l),g=0;for(let y of l)if(g+=f-y,y>0)break;let p=o.getCodewords();for(let y=0;g>0&&p[y]==null;y++)g--;let x=0;for(let y=l.length-1;y>=0&&(x+=f-l[y],!(l[y]>0));y--);for(let y=p.length-1;x>0&&p[y]==null;y--)x--;return o.getBoundingBox().addMissingRows(g,x,o.isLeft())}static getMax(o){let l=-1;for(let f of o)l=Math.max(l,f);return l}static getBarcodeMetadata(o,l){let f;if(o==null||(f=o.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let g;return l==null||(g=l.getBarcodeMetadata())==null?f:f.getColumnCount()!==g.getColumnCount()&&f.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&f.getRowCount()!==g.getRowCount()?null:f}static getRowIndicatorColumn(o,l,f,g,p,x){let y=new Pr(l,g);for(let B=0;B<2;B++){let S=B===0?1:-1,O=Math.trunc(Math.trunc(f.getX()));for(let z=Math.trunc(Math.trunc(f.getY()));z<=l.getMaxY()&&z>=l.getMinY();z+=S){let q=Dt.detectCodeword(o,0,o.getWidth(),g,O,z,p,x);q!=null&&(y.setCodeword(z,q),g?O=q.getStartX():O=q.getEndX())}}return y}static adjustCodewordCount(o,l){let f=l[0][1],g=f.getValue(),p=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Dt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(g.length===0){if(p<1||p>Bt.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();f.setValue(p)}else g[0]!==p&&f.setValue(p)}static createDecoderResult(o){let l=Dt.createBarcodeMatrix(o);Dt.adjustCodewordCount(o,l);let f=new Array,g=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),p=[],x=new Array;for(let B=0;B<o.getBarcodeRowCount();B++)for(let S=0;S<o.getBarcodeColumnCount();S++){let O=l[B][S+1].getValue(),z=B*o.getBarcodeColumnCount()+S;O.length===0?f.push(z):O.length===1?g[z]=O[0]:(x.push(z),p.push(O))}let y=new Array(p.length);for(let B=0;B<y.length;B++)y[B]=p[B];return Dt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),g,Bt.toIntArray(f),Bt.toIntArray(x),y)}static createDecoderResultFromAmbiguousValues(o,l,f,g,p){let x=new Int32Array(g.length),y=100;for(;y-- >0;){for(let B=0;B<x.length;B++)l[g[B]]=p[B][x[B]];try{return Dt.decodeCodewords(l,o,f)}catch(B){if(!(B instanceof _))throw B}if(x.length===0)throw _.getChecksumInstance();for(let B=0;B<x.length;B++)if(x[B]<p[B].length-1){x[B]++;break}else if(x[B]=0,B===x.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(o){let l=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let g=0;g<l.length;g++)for(let p=0;p<l[g].length;p++)l[g][p]=new Co;let f=0;for(let g of o.getDetectionResultColumns()){if(g!=null){for(let p of g.getCodewords())if(p!=null){let x=p.getRowNumber();if(x>=0){if(x>=l.length)continue;l[x][f].setValue(p.getValue())}}}f++}return l}static isValidBarcodeColumn(o,l){return l>=0&&l<=o.getBarcodeColumnCount()+1}static getStartColumn(o,l,f,g){let p=g?1:-1,x=null;if(Dt.isValidBarcodeColumn(o,l-p)&&(x=o.getDetectionResultColumn(l-p).getCodeword(f)),x!=null)return g?x.getEndX():x.getStartX();if(x=o.getDetectionResultColumn(l).getCodewordNearby(f),x!=null)return g?x.getStartX():x.getEndX();if(Dt.isValidBarcodeColumn(o,l-p)&&(x=o.getDetectionResultColumn(l-p).getCodewordNearby(f)),x!=null)return g?x.getEndX():x.getStartX();let y=0;for(;Dt.isValidBarcodeColumn(o,l-p);){l-=p;for(let B of o.getDetectionResultColumn(l).getCodewords())if(B!=null)return(g?B.getEndX():B.getStartX())+p*y*(B.getEndX()-B.getStartX());y++}return g?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,l,f,g,p,x,y,B){p=Dt.adjustCodewordStartColumn(o,l,f,g,p,x);let S=Dt.getModuleBitCount(o,l,f,g,p,x);if(S==null)return null;let O,z=st.sum(S);if(g)O=p+z;else{for(let pe=0;pe<S.length/2;pe++){let ve=S[pe];S[pe]=S[S.length-1-pe],S[S.length-1-pe]=ve}O=p,p=O-z}if(!Dt.checkCodewordSkew(z,y,B))return null;let q=ai.getDecodedValue(S),Ae=Bt.getCodeword(q);return Ae===-1?null:new Sl(p,O,Dt.getCodewordBucketNumber(q),Ae)}static getModuleBitCount(o,l,f,g,p,x){let y=p,B=new Int32Array(8),S=0,O=g?1:-1,z=g;for(;(g?y<f:y>=l)&&S<B.length;)o.get(y,x)===z?(B[S]++,y+=O):(S++,z=!z);return S===B.length||y===(g?f:l)&&S===B.length-1?B:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,l,f,g,p,x){let y=p,B=g?-1:1;for(let S=0;S<2;S++){for(;(g?y>=l:y<f)&&g===o.get(y,x);){if(Math.abs(p-y)>Dt.CODEWORD_SKEW_SIZE)return p;y+=B}B=-B,g=!g}return y}static checkCodewordSkew(o,l,f){return l-Dt.CODEWORD_SKEW_SIZE<=o&&o<=f+Dt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,l,f){if(o.length===0)throw N.getFormatInstance();let g=1<<l+1,p=Dt.correctErrors(o,f,g);Dt.verifyCodewordCount(o,g);let x=Ue.decode(o,""+l);return x.setErrorsCorrected(p),x.setErasures(f.length),x}static correctErrors(o,l,f){if(l!=null&&l.length>f/2+Dt.MAX_ERRORS||f<0||f>Dt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Dt.errorCorrection.decode(o,f,l)}static verifyCodewordCount(o,l){if(o.length<4)throw N.getFormatInstance();let f=o[0];if(f>o.length)throw N.getFormatInstance();if(f===0)if(l<o.length)o[0]=o.length-l;else throw N.getFormatInstance()}static getBitCountForCodeword(o){let l=new Int32Array(8),f=0,g=l.length-1;for(;!((o&1)!==f&&(f=o&1,g--,g<0));)l[g]++,o>>=1;return l}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Dt.getCodewordBucketNumber(Dt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let l=new Bs;for(let f=0;f<o.length;f++){l.format("Row %2d: ",f);for(let g=0;g<o[f].length;g++){let p=o[f][g];p.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}l.format("%n")}return l.toString()}}Dt.CODEWORD_SKEW_SIZE=2,Dt.MAX_ERRORS=3,Dt.MAX_EC_CODEWORDS=512,Dt.errorCorrection=new Bl;class On{decode(o,l=null){let f=On.decode(o,l,!1);if(f==null||f.length===0||f[0]==null)throw le.getNotFoundInstance();return f[0]}decodeMultiple(o,l=null){try{return On.decode(o,l,!0)}catch(f){throw f instanceof N||f instanceof _?le.getNotFoundInstance():f}}static decode(o,l,f){const g=new Array,p=Tt.detectMultiple(o,l,f);for(const x of p.getPoints()){const y=Dt.decode(p.getBits(),x[4],x[5],x[6],x[7],On.getMinCodewordWidth(x),On.getMaxCodewordWidth(x)),B=new ce(y.getText(),y.getRawBytes(),void 0,x,fe.PDF_417);B.putMetadata(ye.ERROR_CORRECTION_LEVEL,y.getECLevel());const S=y.getOther();S!=null&&B.putMetadata(ye.PDF417_EXTRA_METADATA,S),g.push(B)}return g.map(x=>x)}static getMaxWidth(o,l){return o==null||l==null?0:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMinWidth(o,l){return o==null||l==null?F.MAX_VALUE:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(On.getMaxWidth(o[0],o[4]),On.getMaxWidth(o[6],o[2])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN),Math.max(On.getMaxWidth(o[1],o[5]),On.getMaxWidth(o[7],o[3])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(On.getMinWidth(o[0],o[4]),On.getMinWidth(o[6],o[2])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN),Math.min(On.getMinWidth(o[1],o[5]),On.getMinWidth(o[7],o[3])*Bt.MODULES_IN_CODEWORD/Bt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fl extends u{}Fl.kind="ReaderException";class uA{constructor(o,l){this.verbose=o===!0,l&&this.setHints(l)}decode(o,l){return l&&this.setHints(l),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const l=!n(o)&&o.get(P.TRY_HARDER)===!0,f=n(o)?null:o.get(P.POSSIBLE_FORMATS),g=new Array;if(!n(f)){const p=f.some(x=>x===fe.UPC_A||x===fe.UPC_E||x===fe.EAN_13||x===fe.EAN_8||x===fe.CODABAR||x===fe.CODE_39||x===fe.CODE_93||x===fe.CODE_128||x===fe.ITF||x===fe.RSS_14||x===fe.RSS_EXPANDED);p&&!l&&g.push(new Ei(o,this.verbose)),f.includes(fe.QR_CODE)&&g.push(new Xs),f.includes(fe.DATA_MATRIX)&&g.push(new _s),f.includes(fe.AZTEC)&&g.push(new oe),f.includes(fe.PDF_417)&&g.push(new On),p&&l&&g.push(new Ei(o,this.verbose))}g.length===0&&(l||g.push(new Ei(o,this.verbose)),g.push(new Xs),g.push(new _s),g.push(new oe),g.push(new On),l&&g.push(new Ei(o,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Fl("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(o,this.hints)}catch(f){if(f instanceof Fl)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class Qd extends ge{constructor(o=null,l=500){const f=new uA;f.setHints(o),super(f,l)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Hd extends ge{constructor(o=500){super(new On,o)}}class K0 extends ge{constructor(o=500){super(new Xs,o)}}var Rl;(function(K){K[K.ERROR_CORRECTION=0]="ERROR_CORRECTION",K[K.CHARACTER_SET=1]="CHARACTER_SET",K[K.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",K[K.MIN_SIZE=3]="MIN_SIZE",K[K.MAX_SIZE=4]="MAX_SIZE",K[K.MARGIN=5]="MARGIN",K[K.PDF417_COMPACT=6]="PDF417_COMPACT",K[K.PDF417_COMPACTION=7]="PDF417_COMPACTION",K[K.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",K[K.AZTEC_LAYERS=9]="AZTEC_LAYERS",K[K.QR_VERSION=10]="QR_VERSION"})(Rl||(Rl={}));var on=Rl;class fA{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new it(o,Int32Array.from([1])))}buildGenerator(o){const l=this.cachedGenerators;if(o>=l.length){let f=l[l.length-1];const g=this.field;for(let p=l.length;p<=o;p++){const x=f.multiply(new it(g,Int32Array.from([1,g.exp(p-1+g.getGeneratorBase())])));l.push(x),f=x}}return l[o]}encode(o,l){if(l===0)throw new m("No error correction bytes");const f=o.length-l;if(f<=0)throw new m("No data bytes provided");const g=this.buildGenerator(l),p=new Int32Array(f);T.arraycopy(o,0,p,0,f);let x=new it(this.field,p);x=x.multiplyByMonomial(l,1);const B=x.divide(g)[1].getCoefficients(),S=l-B.length;for(let O=0;O<S;O++)o[f+O]=0;T.arraycopy(B,0,o,f+S,B.length)}}class Qr{constructor(){}static applyMaskPenaltyRule1(o){return Qr.applyMaskPenaltyRule1Internal(o,!0)+Qr.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let l=0;const f=o.getArray(),g=o.getWidth(),p=o.getHeight();for(let x=0;x<p-1;x++){const y=f[x];for(let B=0;B<g-1;B++){const S=y[B];S===y[B+1]&&S===f[x+1][B]&&S===f[x+1][B+1]&&l++}}return Qr.N2*l}static applyMaskPenaltyRule3(o){let l=0;const f=o.getArray(),g=o.getWidth(),p=o.getHeight();for(let x=0;x<p;x++)for(let y=0;y<g;y++){const B=f[x];y+6<g&&B[y]===1&&B[y+1]===0&&B[y+2]===1&&B[y+3]===1&&B[y+4]===1&&B[y+5]===0&&B[y+6]===1&&(Qr.isWhiteHorizontal(B,y-4,y)||Qr.isWhiteHorizontal(B,y+7,y+11))&&l++,x+6<p&&f[x][y]===1&&f[x+1][y]===0&&f[x+2][y]===1&&f[x+3][y]===1&&f[x+4][y]===1&&f[x+5][y]===0&&f[x+6][y]===1&&(Qr.isWhiteVertical(f,y,x-4,x)||Qr.isWhiteVertical(f,y,x+7,x+11))&&l++}return l*Qr.N3}static isWhiteHorizontal(o,l,f){l=Math.max(l,0),f=Math.min(f,o.length);for(let g=l;g<f;g++)if(o[g]===1)return!1;return!0}static isWhiteVertical(o,l,f,g){f=Math.max(f,0),g=Math.min(g,o.length);for(let p=f;p<g;p++)if(o[p][l]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let l=0;const f=o.getArray(),g=o.getWidth(),p=o.getHeight();for(let B=0;B<p;B++){const S=f[B];for(let O=0;O<g;O++)S[O]===1&&l++}const x=o.getHeight()*o.getWidth();return Math.floor(Math.abs(l*2-x)*10/x)*Qr.N4}static getDataMaskBit(o,l,f){let g,p;switch(o){case 0:g=f+l&1;break;case 1:g=f&1;break;case 2:g=l%3;break;case 3:g=(f+l)%3;break;case 4:g=Math.floor(f/2)+Math.floor(l/3)&1;break;case 5:p=f*l,g=(p&1)+p%3;break;case 6:p=f*l,g=(p&1)+p%3&1;break;case 7:p=f*l,g=p%3+(f+l&1)&1;break;default:throw new m("Invalid mask pattern: "+o)}return g===0}static applyMaskPenaltyRule1Internal(o,l){let f=0;const g=l?o.getHeight():o.getWidth(),p=l?o.getWidth():o.getHeight(),x=o.getArray();for(let y=0;y<g;y++){let B=0,S=-1;for(let O=0;O<p;O++){const z=l?x[y][O]:x[O][y];z===S?B++:(B>=5&&(f+=Qr.N1+(B-5)),B=1,S=z)}B>=5&&(f+=Qr.N1+(B-5))}return f}}Qr.N1=3,Qr.N2=3,Qr.N3=40,Qr.N4=10;class Dl{constructor(o,l){this.width=o,this.height=l;const f=new Array(l);for(let g=0;g!==l;g++)f[g]=new Uint8Array(o);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(o,l){return this.bytes[l][o]}getArray(){return this.bytes}setNumber(o,l,f){this.bytes[l][o]=f}setBoolean(o,l,f){this.bytes[l][o]=f?1:0}clear(o){for(const l of this.bytes)R.fill(l,o)}equals(o){if(!(o instanceof Dl))return!1;const l=o;if(this.width!==l.width||this.height!==l.height)return!1;for(let f=0,g=this.height;f<g;++f){const p=this.bytes[f],x=l.bytes[f];for(let y=0,B=this.width;y<B;++y)if(p[y]!==x[y])return!1}return!0}toString(){const o=new V;for(let l=0,f=this.height;l<f;++l){const g=this.bytes[l];for(let p=0,x=this.width;p<x;++p)switch(g[p]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Oi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new V;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Oi.NUM_MASK_PATTERNS}}Oi.NUM_MASK_PATTERNS=8;class yr extends u{}yr.kind="WriterException";class Ct{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,l,f,g,p){Ct.clearMatrix(p),Ct.embedBasicPatterns(f,p),Ct.embedTypeInfo(l,g,p),Ct.maybeEmbedVersionInfo(f,p),Ct.embedDataBits(o,g,p)}static embedBasicPatterns(o,l){Ct.embedPositionDetectionPatternsAndSeparators(l),Ct.embedDarkDotAtLeftBottomCorner(l),Ct.maybeEmbedPositionAdjustmentPatterns(o,l),Ct.embedTimingPatterns(l)}static embedTypeInfo(o,l,f){const g=new L;Ct.makeTypeInfoBits(o,l,g);for(let p=0,x=g.getSize();p<x;++p){const y=g.get(g.getSize()-1-p),B=Ct.TYPE_INFO_COORDINATES[p],S=B[0],O=B[1];if(f.setBoolean(S,O,y),p<8){const z=f.getWidth()-p-1;f.setBoolean(z,8,y)}else{const q=f.getHeight()-7+(p-8);f.setBoolean(8,q,y)}}}static maybeEmbedVersionInfo(o,l){if(o.getVersionNumber()<7)return;const f=new L;Ct.makeVersionInfoBits(o,f);let g=6*3-1;for(let p=0;p<6;++p)for(let x=0;x<3;++x){const y=f.get(g);g--,l.setBoolean(p,l.getHeight()-11+x,y),l.setBoolean(l.getHeight()-11+x,p,y)}}static embedDataBits(o,l,f){let g=0,p=-1,x=f.getWidth()-1,y=f.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);y>=0&&y<f.getHeight();){for(let B=0;B<2;++B){const S=x-B;if(!Ct.isEmpty(f.get(S,y)))continue;let O;g<o.getSize()?(O=o.get(g),++g):O=!1,l!==255&&Qr.getDataMaskBit(l,S,y)&&(O=!O),f.setBoolean(S,y,O)}y+=p}p=-p,y+=p,x-=2}if(g!==o.getSize())throw new yr("Not all bits consumed: "+g+"/"+o.getSize())}static findMSBSet(o){return 32-F.numberOfLeadingZeros(o)}static calculateBCHCode(o,l){if(l===0)throw new m("0 polynomial");const f=Ct.findMSBSet(l);for(o<<=f-1;Ct.findMSBSet(o)>=f;)o^=l<<Ct.findMSBSet(o)-f;return o}static makeTypeInfoBits(o,l,f){if(!Oi.isValidMaskPattern(l))throw new yr("Invalid mask pattern");const g=o.getBits()<<3|l;f.appendBits(g,5);const p=Ct.calculateBCHCode(g,Ct.TYPE_INFO_POLY);f.appendBits(p,10);const x=new L;if(x.appendBits(Ct.TYPE_INFO_MASK_PATTERN,15),f.xor(x),f.getSize()!==15)throw new yr("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(o,l){l.appendBits(o.getVersionNumber(),6);const f=Ct.calculateBCHCode(o.getVersionNumber(),Ct.VERSION_INFO_POLY);if(l.appendBits(f,12),l.getSize()!==18)throw new yr("should not happen but we got: "+l.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let l=8;l<o.getWidth()-8;++l){const f=(l+1)%2;Ct.isEmpty(o.get(l,6))&&o.setNumber(l,6,f),Ct.isEmpty(o.get(6,l))&&o.setNumber(6,l,f)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new yr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,l,f){for(let g=0;g<8;++g){if(!Ct.isEmpty(f.get(o+g,l)))throw new yr;f.setNumber(o+g,l,0)}}static embedVerticalSeparationPattern(o,l,f){for(let g=0;g<7;++g){if(!Ct.isEmpty(f.get(o,l+g)))throw new yr;f.setNumber(o,l+g,0)}}static embedPositionAdjustmentPattern(o,l,f){for(let g=0;g<5;++g){const p=Ct.POSITION_ADJUSTMENT_PATTERN[g];for(let x=0;x<5;++x)f.setNumber(o+x,l+g,p[x])}}static embedPositionDetectionPattern(o,l,f){for(let g=0;g<7;++g){const p=Ct.POSITION_DETECTION_PATTERN[g];for(let x=0;x<7;++x)f.setNumber(o+x,l+g,p[x])}}static embedPositionDetectionPatternsAndSeparators(o){const l=Ct.POSITION_DETECTION_PATTERN[0].length;Ct.embedPositionDetectionPattern(0,0,o),Ct.embedPositionDetectionPattern(o.getWidth()-l,0,o),Ct.embedPositionDetectionPattern(0,o.getWidth()-l,o);const f=8;Ct.embedHorizontalSeparationPattern(0,f-1,o),Ct.embedHorizontalSeparationPattern(o.getWidth()-f,f-1,o),Ct.embedHorizontalSeparationPattern(0,o.getWidth()-f,o);const g=7;Ct.embedVerticalSeparationPattern(g,0,o),Ct.embedVerticalSeparationPattern(o.getHeight()-g-1,0,o),Ct.embedVerticalSeparationPattern(g,o.getHeight()-g,o)}static maybeEmbedPositionAdjustmentPatterns(o,l){if(o.getVersionNumber()<2)return;const f=o.getVersionNumber()-1,g=Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let p=0,x=g.length;p!==x;p++){const y=g[p];if(y>=0)for(let B=0;B!==x;B++){const S=g[B];S>=0&&Ct.isEmpty(l.get(S,y))&&Ct.embedPositionAdjustmentPattern(S-2,y-2,l)}}}}Ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ct.VERSION_INFO_POLY=7973,Ct.TYPE_INFO_POLY=1335,Ct.TYPE_INFO_MASK_PATTERN=21522;class Vd{constructor(o,l){this.dataBytes=o,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Sr{constructor(){}static calculateMaskPenalty(o){return Qr.applyMaskPenaltyRule1(o)+Qr.applyMaskPenaltyRule2(o)+Qr.applyMaskPenaltyRule3(o)+Qr.applyMaskPenaltyRule4(o)}static encode(o,l,f=null){let g=Sr.DEFAULT_BYTE_MODE_ENCODING;const p=f!==null&&f.get(on.CHARACTER_SET)!==void 0;p&&(g=f.get(on.CHARACTER_SET).toString());const x=this.chooseMode(o,g),y=new L;if(x===Et.BYTE&&(p||Sr.DEFAULT_BYTE_MODE_ENCODING!==g)){const at=D.getCharacterSetECIByName(g);at!==void 0&&this.appendECI(at,y)}this.appendModeInfo(x,y);const B=new L;this.appendBytes(o,x,B,g);let S;if(f!==null&&f.get(on.QR_VERSION)!==void 0){const at=Number.parseInt(f.get(on.QR_VERSION).toString(),10);S=ut.getVersionForNumber(at);const Ye=this.calculateBitsNeeded(x,y,B,S);if(!this.willFit(Ye,S,l))throw new yr("Data too big for requested version")}else S=this.recommendVersion(l,x,y,B);const O=new L;O.appendBitArray(y);const z=x===Et.BYTE?B.getSizeInBytes():o.length;this.appendLengthInfo(z,S,x,O),O.appendBitArray(B);const q=S.getECBlocksForLevel(l),Ae=S.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(Ae,O);const pe=this.interleaveWithECBytes(O,S.getTotalCodewords(),Ae,q.getNumBlocks()),ve=new Oi;ve.setECLevel(l),ve.setMode(x),ve.setVersion(S);const Ie=S.getDimensionForVersion(),Oe=new Dl(Ie,Ie),nt=this.chooseMaskPattern(pe,l,S,Oe);return ve.setMaskPattern(nt),Ct.buildMatrix(pe,l,S,nt,Oe),ve.setMatrix(Oe),ve}static recommendVersion(o,l,f,g){const p=this.calculateBitsNeeded(l,f,g,ut.getVersionForNumber(1)),x=this.chooseVersion(p,o),y=this.calculateBitsNeeded(l,f,g,x);return this.chooseVersion(y,o)}static calculateBitsNeeded(o,l,f,g){return l.getSize()+o.getCharacterCountBits(g)+f.getSize()}static getAlphanumericCode(o){return o<Sr.ALPHANUMERIC_TABLE.length?Sr.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,l=null){if(D.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(o))return Et.KANJI;let f=!1,g=!1;for(let p=0,x=o.length;p<x;++p){const y=o.charAt(p);if(Sr.isDigit(y))f=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)g=!0;else return Et.BYTE}return g?Et.ALPHANUMERIC:f?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(o){let l;try{l=G.encode(o,D.SJIS)}catch{return!1}const f=l.length;if(f%2!==0)return!1;for(let g=0;g<f;g+=2){const p=l[g]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(o,l,f,g){let p=Number.MAX_SAFE_INTEGER,x=-1;for(let y=0;y<Oi.NUM_MASK_PATTERNS;y++){Ct.buildMatrix(o,l,f,y,g);let B=this.calculateMaskPenalty(g);B<p&&(p=B,x=y)}return x}static chooseVersion(o,l){for(let f=1;f<=40;f++){const g=ut.getVersionForNumber(f);if(Sr.willFit(o,g,l))return g}throw new yr("Data too big")}static willFit(o,l,f){const g=l.getTotalCodewords(),x=l.getECBlocksForLevel(f).getTotalECCodewords(),y=g-x,B=(o+7)/8;return y>=B}static terminateBits(o,l){const f=o*8;if(l.getSize()>f)throw new yr("data bits cannot fit in the QR Code"+l.getSize()+" > "+f);for(let x=0;x<4&&l.getSize()<f;++x)l.appendBit(!1);const g=l.getSize()&7;if(g>0)for(let x=g;x<8;x++)l.appendBit(!1);const p=o-l.getSizeInBytes();for(let x=0;x<p;++x)l.appendBits(x&1?17:236,8);if(l.getSize()!==f)throw new yr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,l,f,g,p,x){if(g>=f)throw new yr("Block ID too large");const y=o%f,B=f-y,S=Math.floor(o/f),O=S+1,z=Math.floor(l/f),q=z+1,Ae=S-z,pe=O-q;if(Ae!==pe)throw new yr("EC bytes mismatch");if(f!==B+y)throw new yr("RS blocks mismatch");if(o!==(z+Ae)*B+(q+pe)*y)throw new yr("Total bytes mismatch");g<B?(p[0]=z,x[0]=Ae):(p[0]=q,x[0]=pe)}static interleaveWithECBytes(o,l,f,g){if(o.getSizeInBytes()!==f)throw new yr("Number of bits and data bytes does not match");let p=0,x=0,y=0;const B=new Array;for(let O=0;O<g;++O){const z=new Int32Array(1),q=new Int32Array(1);Sr.getNumDataBytesAndNumECBytesForBlockID(l,f,g,O,z,q);const Ae=z[0],pe=new Uint8Array(Ae);o.toBytes(8*p,pe,0,Ae);const ve=Sr.generateECBytes(pe,q[0]);B.push(new Vd(pe,ve)),x=Math.max(x,Ae),y=Math.max(y,ve.length),p+=z[0]}if(f!==p)throw new yr("Data bytes does not match offset");const S=new L;for(let O=0;O<x;++O)for(const z of B){const q=z.getDataBytes();O<q.length&&S.appendBits(q[O],8)}for(let O=0;O<y;++O)for(const z of B){const q=z.getErrorCorrectionBytes();O<q.length&&S.appendBits(q[O],8)}if(l!==S.getSizeInBytes())throw new yr("Interleaving error: "+l+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(o,l){const f=o.length,g=new Int32Array(f+l);for(let x=0;x<f;x++)g[x]=o[x]&255;new fA(lt.QR_CODE_FIELD_256).encode(g,l);const p=new Uint8Array(l);for(let x=0;x<l;x++)p[x]=g[f+x];return p}static appendModeInfo(o,l){l.appendBits(o.getBits(),4)}static appendLengthInfo(o,l,f,g){const p=f.getCharacterCountBits(l);if(o>=1<<p)throw new yr(o+" is bigger than "+((1<<p)-1));g.appendBits(o,p)}static appendBytes(o,l,f,g){switch(l){case Et.NUMERIC:Sr.appendNumericBytes(o,f);break;case Et.ALPHANUMERIC:Sr.appendAlphanumericBytes(o,f);break;case Et.BYTE:Sr.append8BitBytes(o,f,g);break;case Et.KANJI:Sr.appendKanjiBytes(o,f);break;default:throw new yr("Invalid mode: "+l)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const l=Sr.getDigit(o);return l>=0&&l<=9}static appendNumericBytes(o,l){const f=o.length;let g=0;for(;g<f;){const p=Sr.getDigit(o.charAt(g));if(g+2<f){const x=Sr.getDigit(o.charAt(g+1)),y=Sr.getDigit(o.charAt(g+2));l.appendBits(p*100+x*10+y,10),g+=3}else if(g+1<f){const x=Sr.getDigit(o.charAt(g+1));l.appendBits(p*10+x,7),g+=2}else l.appendBits(p,4),g++}}static appendAlphanumericBytes(o,l){const f=o.length;let g=0;for(;g<f;){const p=Sr.getAlphanumericCode(o.charCodeAt(g));if(p===-1)throw new yr;if(g+1<f){const x=Sr.getAlphanumericCode(o.charCodeAt(g+1));if(x===-1)throw new yr;l.appendBits(p*45+x,11),g+=2}else l.appendBits(p,6),g++}}static append8BitBytes(o,l,f){let g;try{g=G.encode(o,f)}catch(p){throw new yr(p)}for(let p=0,x=g.length;p!==x;p++){const y=g[p];l.appendBits(y,8)}}static appendKanjiBytes(o,l){let f;try{f=G.encode(o,D.SJIS)}catch(p){throw new yr(p)}const g=f.length;for(let p=0;p<g;p+=2){const x=f[p]&255,y=f[p+1]&255,B=x<<8&4294967295|y;let S=-1;if(B>=33088&&B<=40956?S=B-33088:B>=57408&&B<=60351&&(S=B-49472),S===-1)throw new yr("Invalid byte sequence");const O=(S>>8)*192+(S&255);l.appendBits(O,13)}}static appendECI(o,l){l.appendBits(Et.ECI.getBits(),4),l.appendBits(o.getValue(),8)}}Sr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Sr.DEFAULT_BYTE_MODE_ENCODING=D.UTF8.getName();class Xa{write(o,l,f,g=null){if(o.length===0)throw new m("Found empty contents");if(l<0||f<0)throw new m("Requested dimensions are too small: "+l+"x"+f);let p=Zt.L,x=Xa.QUIET_ZONE_SIZE;g!==null&&(g.get(on.ERROR_CORRECTION)!==void 0&&(p=Zt.fromString(g.get(on.ERROR_CORRECTION).toString())),g.get(on.MARGIN)!==void 0&&(x=Number.parseInt(g.get(on.MARGIN).toString(),10)));const y=Sr.encode(o,p,g);return this.renderResult(y,l,f,x)}writeToDom(o,l,f,g,p=null){typeof o=="string"&&(o=document.querySelector(o));const x=this.write(l,f,g,p);o&&o.appendChild(x)}renderResult(o,l,f,g){const p=o.getMatrix();if(p===null)throw new wt;const x=p.getWidth(),y=p.getHeight(),B=x+g*2,S=y+g*2,O=Math.max(l,B),z=Math.max(f,S),q=Math.min(Math.floor(O/B),Math.floor(z/S)),Ae=Math.floor((O-x*q)/2),pe=Math.floor((z-y*q)/2),ve=this.createSVGElement(O,z);for(let Ie=0,Oe=pe;Ie<y;Ie++,Oe+=q)for(let nt=0,at=Ae;nt<x;nt++,at+=q)if(p.get(nt,Ie)===1){const Ye=this.createSvgRectElement(at,Oe,q,q);ve.appendChild(Ye)}return ve}createSVGElement(o,l){const f=document.createElementNS(Xa.SVG_NS,"svg");return f.setAttributeNS(null,"height",o.toString()),f.setAttributeNS(null,"width",l.toString()),f}createSvgRectElement(o,l,f,g){const p=document.createElementNS(Xa.SVG_NS,"rect");return p.setAttributeNS(null,"x",o.toString()),p.setAttributeNS(null,"y",l.toString()),p.setAttributeNS(null,"height",f.toString()),p.setAttributeNS(null,"width",g.toString()),p.setAttributeNS(null,"fill","#000000"),p}}Xa.QUIET_ZONE_SIZE=4,Xa.SVG_NS="http://www.w3.org/2000/svg";class _n{encode(o,l,f,g,p){if(o.length===0)throw new m("Found empty contents");if(l!==fe.QR_CODE)throw new m("Can only encode QR_CODE, but got "+l);if(f<0||g<0)throw new m(`Requested dimensions are too small: ${f}x${g}`);let x=Zt.L,y=_n.QUIET_ZONE_SIZE;p!==null&&(p.get(on.ERROR_CORRECTION)!==void 0&&(x=Zt.fromString(p.get(on.ERROR_CORRECTION).toString())),p.get(on.MARGIN)!==void 0&&(y=Number.parseInt(p.get(on.MARGIN).toString(),10)));const B=Sr.encode(o,x,p);return _n.renderResult(B,f,g,y)}static renderResult(o,l,f,g){const p=o.getMatrix();if(p===null)throw new wt;const x=p.getWidth(),y=p.getHeight(),B=x+g*2,S=y+g*2,O=Math.max(l,B),z=Math.max(f,S),q=Math.min(Math.floor(O/B),Math.floor(z/S)),Ae=Math.floor((O-x*q)/2),pe=Math.floor((z-y*q)/2),ve=new Ce(O,z);for(let Ie=0,Oe=pe;Ie<y;Ie++,Oe+=q)for(let nt=0,at=Ae;nt<x;nt++,at+=q)p.get(nt,Ie)===1&&ve.setRegion(at,Oe,q,q);return ve}}_n.QUIET_ZONE_SIZE=4;class jd{encode(o,l,f,g,p){let x;switch(l){case fe.QR_CODE:x=new _n;break;default:throw new m("No encoder available for format "+l)}return x.encode(o,l,f,g,p)}}class Ca extends De{constructor(o,l,f,g,p,x,y,B){if(super(x,y),this.yuvData=o,this.dataWidth=l,this.dataHeight=f,this.left=g,this.top=p,g+x>l||p+y>f)throw new m("Crop rectangle does not fit within image data.");B&&this.reverseHorizontal(x,y)}getRow(o,l){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const f=this.getWidth();(l==null||l.length<f)&&(l=new Uint8ClampedArray(f));const g=(o+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,g,l,0,f),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.yuvData;const f=o*l,g=new Uint8ClampedArray(f);let p=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return T.arraycopy(this.yuvData,p,g,0,f),g;for(let x=0;x<l;x++){const y=x*o;T.arraycopy(this.yuvData,p,g,y,o),p+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,l,f,g){return new Ca(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+l,f,g,!1)}renderThumbnail(){const o=this.getWidth()/Ca.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Ca.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(o*l),g=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let x=0;x<l;x++){const y=x*o;for(let B=0;B<o;B++){const S=g[p+B*Ca.THUMBNAIL_SCALE_FACTOR]&255;f[y+B]=4278190080|S*65793}p+=this.dataWidth*Ca.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Ca.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ca.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,l){const f=this.yuvData;for(let g=0,p=this.top*this.dataWidth+this.left;g<l;g++,p+=this.dataWidth){const x=p+o/2;for(let y=p,B=p+o-1;y<x;y++,B--){const S=f[y];f[y]=f[B],f[B]=S}}}invert(){return new he(this)}}Ca.THUMBNAIL_SCALE_FACTOR=2;class Ys extends De{constructor(o,l,f,g,p,x,y){if(super(l,f),this.dataWidth=g,this.dataHeight=p,this.left=x,this.top=y,o.BYTES_PER_ELEMENT===4){const B=l*f,S=new Uint8ClampedArray(B);for(let O=0;O<B;O++){const z=o[O],q=z>>16&255,Ae=z>>7&510,pe=z&255;S[O]=(q+Ae+pe)/4&255}this.luminances=S}else this.luminances=o;if(g===void 0&&(this.dataWidth=l),p===void 0&&(this.dataHeight=f),x===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+f>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(o,l){if(o<0||o>=this.getHeight())throw new m("Requested row is outside the image: "+o);const f=this.getWidth();(l==null||l.length<f)&&(l=new Uint8ClampedArray(f));const g=(o+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,g,l,0,f),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.luminances;const f=o*l,g=new Uint8ClampedArray(f);let p=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return T.arraycopy(this.luminances,p,g,0,f),g;for(let x=0;x<l;x++){const y=x*o;T.arraycopy(this.luminances,p,g,y,o),p+=this.dataWidth}return g}isCropSupported(){return!0}crop(o,l,f,g){return new Ys(this.luminances,f,g,this.dataWidth,this.dataHeight,this.left+o,this.top+l)}invert(){return new he(this)}}class E extends D{static forName(o){return this.getCharacterSetECIByName(o)}}class U{}U.ISO_8859_1=D.ISO8859_1;class H{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class J{static singletonList(o){return[o]}static min(o,l){return o.sort(l)[0]}}class be{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Me extends be{constructor(o,l,f){super(o),this.value=l,this.bitCount=f}appendTo(o,l){o.appendBits(this.value,this.bitCount)}add(o,l){return new Me(this,o,l)}addBinaryShift(o,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Me(this,o,l)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+F.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class At extends Me{constructor(o,l,f){super(o,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=f}appendTo(o,l){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):f===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(l[this.binaryShiftStart+f],8)}addBinaryShift(o,l){return new At(this,o,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Cr(K,o,l){return new At(K,o,l)}function rn(K,o,l){return new Me(K,o,l)}const or=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Hr=0,mn=1,Ln=2,ta=3,Li=4,z0=new Me(null,0,0),Cx=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function LM(K){for(let o of K)R.fill(o,-1);return K[Hr][Li]=0,K[mn][Li]=0,K[mn][Hr]=28,K[ta][Li]=0,K[Ln][Li]=0,K[Ln][Hr]=15,K}const rB=LM(R.createInt32Array(6,6));class Js{constructor(o,l,f,g){this.token=o,this.mode=l,this.binaryShiftByteCount=f,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,l){let f=this.bitCount,g=this.token;if(o!==this.mode){let x=Cx[this.mode][o];g=rn(g,x&65535,x>>16),f+=x>>16}let p=o===Ln?4:5;return g=rn(g,l,p),new Js(g,o,0,f+p)}shiftAndAppend(o,l){let f=this.token,g=this.mode===Ln?4:5;return f=rn(f,rB[this.mode][o],g),f=rn(f,l,5),new Js(f,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(o){let l=this.token,f=this.mode,g=this.bitCount;if(this.mode===Li||this.mode===Ln){let y=Cx[f][Hr];l=rn(l,y&65535,y>>16),g+=y>>16,f=Hr}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new Js(l,f,this.binaryShiftByteCount+1,g+p);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(o+1)),x}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Cr(l,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Js(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let l=this.bitCount+(Cx[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?l+=Js.calculateBinaryShiftCost(o)-Js.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(l+=10),l<=o.bitCount}toBitArray(o){let l=[];for(let g=this.endBinaryShift(o.length).token;g!==null;g=g.getPrevious())l.unshift(g);let f=new L;for(const g of l)g.appendTo(f,o);return f}toString(){return j.format("%s bits=%d bytes=%d",or[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Js.INITIAL_STATE=new Js(z0,Hr,0,0);function PM(K){const o=j.getCharCode(" "),l=j.getCharCode("."),f=j.getCharCode(",");K[Hr][o]=1;const g=j.getCharCode("Z"),p=j.getCharCode("A");for(let q=p;q<=g;q++)K[Hr][q]=q-p+2;K[mn][o]=1;const x=j.getCharCode("z"),y=j.getCharCode("a");for(let q=y;q<=x;q++)K[mn][q]=q-y+2;K[Ln][o]=1;const B=j.getCharCode("9"),S=j.getCharCode("0");for(let q=S;q<=B;q++)K[Ln][q]=q-S+2;K[Ln][f]=12,K[Ln][l]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let q=0;q<O.length;q++)K[ta][j.getCharCode(O[q])]=q;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let q=0;q<z.length;q++)j.getCharCode(z[q])>0&&(K[Li][j.getCharCode(z[q])]=q);return K}const _x=PM(R.createInt32Array(5,256));class W0{constructor(o){this.text=o}encode(){const o=j.getCharCode(" "),l=j.getCharCode(`
`);let f=J.singletonList(Js.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let x,y=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case j.getCharCode("\r"):x=y===l?2:0;break;case j.getCharCode("."):x=y===o?3:0;break;case j.getCharCode(","):x=y===o?4:0;break;case j.getCharCode(":"):x=y===o?5:0;break;default:x=0}x>0?(f=W0.updateStateListForPair(f,p,x),p++):f=this.updateStateListForChar(f,p)}return J.min(f,(p,x)=>p.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,l){const f=[];for(let g of o)this.updateStateForChar(g,l,f);return W0.simplifyStates(f)}updateStateForChar(o,l,f){let g=this.text[l]&255,p=_x[o.getMode()][g]>0,x=null;for(let y=0;y<=Li;y++){let B=_x[y][g];if(B>0){if(x==null&&(x=o.endBinaryShift(l)),!p||y===o.getMode()||y===Ln){const S=x.latchAndAppend(y,B);f.push(S)}if(!p&&rB[o.getMode()][y]>=0){const S=x.shiftAndAppend(y,B);f.push(S)}}}if(o.getBinaryShiftByteCount()>0||_x[o.getMode()][g]===0){let y=o.addBinaryShiftChar(l);f.push(y)}}static updateStateListForPair(o,l,f){const g=[];for(let p of o)this.updateStateForPair(p,l,f,g);return this.simplifyStates(g)}static updateStateForPair(o,l,f,g){let p=o.endBinaryShift(l);if(g.push(p.latchAndAppend(Li,f)),o.getMode()!==Li&&g.push(p.shiftAndAppend(Li,f)),f===3||f===4){let x=p.latchAndAppend(Ln,16-f).latchAndAppend(Ln,1);g.push(x)}if(o.getBinaryShiftByteCount()>0){let x=o.addBinaryShiftChar(l).addBinaryShiftChar(l+1);g.push(x)}}static simplifyStates(o){let l=[];for(const f of o){let g=!0;for(const p of l){if(p.isBetterThanOrEqualTo(f)){g=!1;break}f.isBetterThanOrEqualTo(p)&&(l=l.filter(x=>x!==p))}g&&l.push(f)}return l}}class ur{constructor(){}static encodeBytes(o){return ur.encode(o,ur.DEFAULT_EC_PERCENT,ur.DEFAULT_AZTEC_LAYERS)}static encode(o,l,f){let g=new W0(o).encode(),p=F.truncDivision(g.getSize()*l,100)+11,x=g.getSize()+p,y,B,S,O,z;if(f!==ur.DEFAULT_AZTEC_LAYERS){if(y=f<0,B=Math.abs(f),B>(y?ur.MAX_NB_BITS_COMPACT:ur.MAX_NB_BITS))throw new m(j.format("Illegal value %s for layers",f));S=ur.totalBitsInLayer(B,y),O=ur.WORD_SIZE[B];let Ye=S-S%O;if(z=ur.stuffBits(g,O),z.getSize()+p>Ye)throw new m("Data to large for user specified layer");if(y&&z.getSize()>O*64)throw new m("Data to large for user specified layer")}else{O=0,z=null;for(let Ye=0;;Ye++){if(Ye>ur.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(y=Ye<=3,B=y?Ye+1:Ye,S=ur.totalBitsInLayer(B,y),x>S)continue;(z==null||O!==ur.WORD_SIZE[B])&&(O=ur.WORD_SIZE[B],z=ur.stuffBits(g,O));let er=S-S%O;if(!(y&&z.getSize()>O*64)&&z.getSize()+p<=er)break}}let q=ur.generateCheckWords(z,S,O),Ae=z.getSize()/O,pe=ur.generateModeMessage(y,B,Ae),ve=(y?11:14)+B*4,Ie=new Int32Array(ve),Oe;if(y){Oe=ve;for(let Ye=0;Ye<Ie.length;Ye++)Ie[Ye]=Ye}else{Oe=ve+1+2*F.truncDivision(F.truncDivision(ve,2)-1,15);let Ye=F.truncDivision(ve,2),er=F.truncDivision(Oe,2);for(let Vt=0;Vt<Ye;Vt++){let ra=Vt+F.truncDivision(Vt,15);Ie[Ye-Vt-1]=er-ra-1,Ie[Ye+Vt]=er+ra+1}}let nt=new Ce(Oe);for(let Ye=0,er=0;Ye<B;Ye++){let Vt=(B-Ye)*4+(y?9:12);for(let ra=0;ra<Vt;ra++){let Ts=ra*2;for(let na=0;na<2;na++)q.get(er+Ts+na)&&nt.set(Ie[Ye*2+na],Ie[Ye*2+ra]),q.get(er+Vt*2+Ts+na)&&nt.set(Ie[Ye*2+ra],Ie[ve-1-Ye*2-na]),q.get(er+Vt*4+Ts+na)&&nt.set(Ie[ve-1-Ye*2-na],Ie[ve-1-Ye*2-ra]),q.get(er+Vt*6+Ts+na)&&nt.set(Ie[ve-1-Ye*2-ra],Ie[Ye*2+na])}er+=Vt*8}if(ur.drawModeMessage(nt,y,Oe,pe),y)ur.drawBullsEye(nt,F.truncDivision(Oe,2),5);else{ur.drawBullsEye(nt,F.truncDivision(Oe,2),7);for(let Ye=0,er=0;Ye<F.truncDivision(ve,2)-1;Ye+=15,er+=16)for(let Vt=F.truncDivision(Oe,2)&1;Vt<Oe;Vt+=2)nt.set(F.truncDivision(Oe,2)-er,Vt),nt.set(F.truncDivision(Oe,2)+er,Vt),nt.set(Vt,F.truncDivision(Oe,2)-er),nt.set(Vt,F.truncDivision(Oe,2)+er)}let at=new H;return at.setCompact(y),at.setSize(Oe),at.setLayers(B),at.setCodeWords(Ae),at.setMatrix(nt),at}static drawBullsEye(o,l,f){for(let g=0;g<f;g+=2)for(let p=l-g;p<=l+g;p++)o.set(p,l-g),o.set(p,l+g),o.set(l-g,p),o.set(l+g,p);o.set(l-f,l-f),o.set(l-f+1,l-f),o.set(l-f,l-f+1),o.set(l+f,l-f),o.set(l+f,l-f+1),o.set(l+f,l+f-1)}static generateModeMessage(o,l,f){let g=new L;return o?(g.appendBits(l-1,2),g.appendBits(f-1,6),g=ur.generateCheckWords(g,28,4)):(g.appendBits(l-1,5),g.appendBits(f-1,11),g=ur.generateCheckWords(g,40,4)),g}static drawModeMessage(o,l,f,g){let p=F.truncDivision(f,2);if(l)for(let x=0;x<7;x++){let y=p-3+x;g.get(x)&&o.set(y,p-5),g.get(x+7)&&o.set(p+5,y),g.get(20-x)&&o.set(y,p+5),g.get(27-x)&&o.set(p-5,y)}else for(let x=0;x<10;x++){let y=p-5+x+F.truncDivision(x,5);g.get(x)&&o.set(y,p-7),g.get(x+10)&&o.set(p+7,y),g.get(29-x)&&o.set(y,p+7),g.get(39-x)&&o.set(p-7,y)}}static generateCheckWords(o,l,f){let g=o.getSize()/f,p=new fA(ur.getGF(f)),x=F.truncDivision(l,f),y=ur.bitsToWords(o,f,x);p.encode(y,x-g);let B=l%f,S=new L;S.appendBits(0,B);for(const O of Array.from(y))S.appendBits(O,f);return S}static bitsToWords(o,l,f){let g=new Int32Array(f),p,x;for(p=0,x=o.getSize()/l;p<x;p++){let y=0;for(let B=0;B<l;B++)y|=o.get(p*l+B)?1<<l-B-1:0;g[p]=y}return g}static getGF(o){switch(o){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new m("Unsupported word size "+o)}}static stuffBits(o,l){let f=new L,g=o.getSize(),p=(1<<l)-2;for(let x=0;x<g;x+=l){let y=0;for(let B=0;B<l;B++)(x+B>=g||o.get(x+B))&&(y|=1<<l-1-B);(y&p)===p?(f.appendBits(y&p,l),x--):y&p?f.appendBits(y,l):(f.appendBits(y|1,l),x--)}return f}static totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}ur.DEFAULT_EC_PERCENT=33,ur.DEFAULT_AZTEC_LAYERS=0,ur.MAX_NB_BITS=32,ur.MAX_NB_BITS_COMPACT=4,ur.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gd{encode(o,l,f,g){return this.encodeWithHints(o,l,f,g,null)}encodeWithHints(o,l,f,g,p){let x=U.ISO_8859_1,y=ur.DEFAULT_EC_PERCENT,B=ur.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(on.CHARACTER_SET)&&(x=E.forName(p.get(on.CHARACTER_SET).toString())),p.has(on.ERROR_CORRECTION)&&(y=F.parseInt(p.get(on.ERROR_CORRECTION).toString())),p.has(on.AZTEC_LAYERS)&&(B=F.parseInt(p.get(on.AZTEC_LAYERS).toString()))),Gd.encodeLayers(o,l,f,g,x,y,B)}static encodeLayers(o,l,f,g,p,x,y){if(l!==fe.AZTEC)throw new m("Can only encode AZTEC, but got "+l);let B=ur.encode(j.getBytes(o,p),x,y);return Gd.renderResult(B,f,g)}static renderResult(o,l,f){let g=o.getMatrix();if(g==null)throw new wt;let p=g.getWidth(),x=g.getHeight(),y=Math.max(l,p),B=Math.max(f,x),S=Math.min(y/p,B/x),O=(y-p*S)/2,z=(B-x*S)/2,q=new Ce(y,B);for(let Ae=0,pe=z;Ae<x;Ae++,pe+=S)for(let ve=0,Ie=O;ve<p;ve++,Ie+=S)g.get(ve,Ae)&&q.setRegion(Ie,pe,S,S);return q}}r.AbstractExpandedDecoder=te,r.ArgumentException=h,r.ArithmeticException=ie,r.AztecCode=H,r.AztecCodeReader=oe,r.AztecCodeWriter=Gd,r.AztecDecoder=qe,r.AztecDetector=Pe,r.AztecDetectorResult=Xr,r.AztecEncoder=ur,r.AztecHighLevelEncoder=W0,r.AztecPoint=Kt,r.BarcodeFormat=fe,r.Binarizer=b,r.BinaryBitmap=v,r.BitArray=L,r.BitMatrix=Ce,r.BitSource=Vc,r.BrowserAztecCodeReader=Fe,r.BrowserBarcodeReader=yo,r.BrowserCodeReader=ge,r.BrowserDatamatrixCodeReader=vx,r.BrowserMultiFormatReader=Qd,r.BrowserPDF417Reader=Hd,r.BrowserQRCodeReader=K0,r.BrowserQRCodeSvgWriter=Xa,r.CharacterSetECI=D,r.ChecksumException=_,r.Code128Reader=_e,r.Code39Reader=tt,r.DataMatrixDecodedBitStreamParser=Ws,r.DataMatrixReader=_s,r.DecodeHintType=P,r.DecoderResult=xe,r.DefaultGridSampler=Ot,r.DetectorResult=vr,r.EAN13Reader=ya,r.EncodeHintType=on,r.Exception=u,r.FormatException=N,r.GenericGF=lt,r.GenericGFPoly=it,r.GlobalHistogramBinarizer=de,r.GridSampler=ht,r.GridSamplerInstance=Yt,r.HTMLCanvasElementLuminanceSource=Le,r.HybridBinarizer=ne,r.ITFReader=dt,r.IllegalArgumentException=m,r.IllegalStateException=wt,r.InvertedLuminanceSource=he,r.LuminanceSource=De,r.MathUtils=st,r.MultiFormatOneDReader=Ei,r.MultiFormatReader=uA,r.MultiFormatWriter=jd,r.NotFoundException=le,r.OneDReader=Ve,r.PDF417DecodedBitStreamParser=Ue,r.PDF417DecoderErrorCorrection=Bl,r.PDF417Reader=On,r.PDF417ResultMetadata=j0,r.PerspectiveTransform=ct,r.PlanarYUVLuminanceSource=Ca,r.QRCodeByteMatrix=Dl,r.QRCodeDataMask=Wn,r.QRCodeDecodedBitStreamParser=Lr,r.QRCodeDecoderErrorCorrectionLevel=Zt,r.QRCodeDecoderFormatInformation=gn,r.QRCodeEncoder=Sr,r.QRCodeEncoderQRCode=Oi,r.QRCodeMaskUtil=Qr,r.QRCodeMatrixUtil=Ct,r.QRCodeMode=Et,r.QRCodeReader=Xs,r.QRCodeVersion=ut,r.QRCodeWriter=_n,r.RGBLuminanceSource=Ys,r.RSS14Reader=Nt,r.RSSExpandedReader=He,r.ReaderException=Fl,r.ReedSolomonDecoder=we,r.ReedSolomonEncoder=fA,r.ReedSolomonException=yt,r.Result=ce,r.ResultMetadataType=ye,r.ResultPoint=Ge,r.StringUtils=j,r.UnsupportedOperationException=Q,r.VideoInputDevice=Ze,r.WhiteRectangleDetector=Ke,r.WriterException=yr,r.ZXingArrays=R,r.ZXingCharset=E,r.ZXingInteger=F,r.ZXingStandardCharsets=U,r.ZXingStringBuilder=V,r.ZXingStringEncoding=G,r.ZXingSystem=T,r.createAbstractExpandedDecoder=rt,Object.defineProperty(r,"__esModule",{value:!0})})})(Gw,Gw.exports);var nn=Gw.exports;const Cie=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var J4=function(){function t(e,r,n){if(this.formatMap=new Map([[mt.QR_CODE,nn.BarcodeFormat.QR_CODE],[mt.AZTEC,nn.BarcodeFormat.AZTEC],[mt.CODABAR,nn.BarcodeFormat.CODABAR],[mt.CODE_39,nn.BarcodeFormat.CODE_39],[mt.CODE_93,nn.BarcodeFormat.CODE_93],[mt.CODE_128,nn.BarcodeFormat.CODE_128],[mt.DATA_MATRIX,nn.BarcodeFormat.DATA_MATRIX],[mt.MAXICODE,nn.BarcodeFormat.MAXICODE],[mt.ITF,nn.BarcodeFormat.ITF],[mt.EAN_13,nn.BarcodeFormat.EAN_13],[mt.EAN_8,nn.BarcodeFormat.EAN_8],[mt.PDF_417,nn.BarcodeFormat.PDF_417],[mt.RSS_14,nn.BarcodeFormat.RSS_14],[mt.RSS_EXPANDED,nn.BarcodeFormat.RSS_EXPANDED],[mt.UPC_A,nn.BarcodeFormat.UPC_A],[mt.UPC_E,nn.BarcodeFormat.UPC_E],[mt.UPC_EAN_EXTENSION,nn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Cie)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),a=new Map;a.set(nn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(nn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var r=new nn.MultiFormatReader(this.verbose,this.hints),n=new nn.HTMLCanvasElementLuminanceSource(e),i=new nn.BinaryBitmap(new nn.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:vk.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),_ie=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,e||[])).next())})},Bie=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$4=function(){function t(e,r,n){if(this.formatMap=new Map([[mt.QR_CODE,"qr_code"],[mt.AZTEC,"aztec"],[mt.CODABAR,"codabar"],[mt.CODE_39,"code_39"],[mt.CODE_93,"code_93"],[mt.CODE_128,"code_128"],[mt.DATA_MATRIX,"data_matrix"],[mt.ITF,"itf"],[mt.EAN_13,"ean_13"],[mt.EAN_8,"ean_8"],[mt.PDF_417,"pdf417"],[mt.UPC_A,"upc_a"],[mt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return _ie(this,void 0,void 0,function(){var r,n;return Bie(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:vk.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,a=e;i<a.length;i++){var s=a[i],A=s.boundingBox.width*s.boundingBox.height;A>n&&(n=A,r=s)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Z4=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,e||[])).next())})},eS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bie=function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&$4.isSupported()?(this.primaryDecoder=new $4(e,n,i),this.secondaryDecoder=new J4(e,n,i)):this.primaryDecoder=new J4(e,n,i)}return t.prototype.decodeAsync=function(e){return Z4(this,void 0,void 0,function(){var r;return eS(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Z4(this,void 0,void 0,function(){var r,n;return eS(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),ZC=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rp=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,e||[])).next())})},Dp=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yk=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),Tie=function(t){ZC(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(yk),Sie=function(t){ZC(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(Tie),Iie=function(t){ZC(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(yk),Nie=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Sie(this.track)},t.prototype.torchFeature=function(){return new Iie(this.track)},t}(),Fie=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Rp(this,void 0,void 0,function(){var a,s;return Dp(this,function(A){switch(A.label){case 0:return a=new t(e,r,i),n.aspectRatio?(s={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:A.sent(),A.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Rp(this,void 0,void 0,function(){return Dp(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),a=i.length,s=0;e.mediaStream.getVideoTracks().forEach(function(A){e.mediaStream.removeTrack(A),A.stop(),++s,s>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new Nie(this.getFirstTrackOrFail())},t}(),Rie=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Rp(this,void 0,void 0,function(){return Dp(this,function(i){return[2,Fie.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Rp(this,void 0,void 0,function(){var r,n;return Dp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t}(),tS=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,e||[])).next())})},rS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Die=function(){function t(){}return t.failIfNotSupported=function(){return tS(this,void 0,void 0,function(){return rS(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return tS(this,void 0,void 0,function(){return rS(this,function(r){return[2,Rie.create(e)]})})},t}(),kie=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function A(h){try{u(n.next(h))}catch(m){s(m)}}function c(h){try{u(n.throw(h))}catch(m){s(m)}}function u(h){h.done?a(h.value):i(h.value).then(A,c)}u((n=n.apply(t,e||[])).next())})},Uie=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function A(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Mie=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Nu.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Nu.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return kie(this,void 0,void 0,function(){var e,r,n,i,a,s,A;return Uie(this,function(c){switch(c.label){case 0:return e=function(u){for(var h=u.getVideoTracks(),m=0,v=h;m<v.length;m++){var _=v[m];_.enabled=!1,_.stop(),u.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,s=n;a<s.length;a++)A=s[a],A.kind==="videoinput"&&i.push({id:A.deviceId,label:A.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(a){for(var s=[],A=0,c=a;A<c.length;A++){var u=c[A];u.kind==="video"&&s.push({id:u.id,label:u.label})}e(s)},i=MediaStreamTrack;i.getSources(n)})},t}(),ln;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ln||(ln={}));var Oie=function(){function t(){this.state=ln.NOT_STARTED,this.onGoingTransactionNewState=ln.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ln.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ln.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ln.UNKNOWN:throw"Transition from unknown is not allowed";case ln.NOT_STARTED:this.failIfNewStateIs(e,[ln.PAUSED]);break;case ln.SCANNING:break;case ln.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),Lie=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ln.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ln.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ln.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ln.PAUSED},t}(),Pie=function(){function t(){}return t.create=function(){return new Lie(new Oie)},t}(),Qie=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sa=function(t){Qie(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(wie),Hie=function(){function t(e,r){this.logger=r,this.fps=Sa.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Sa.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?wk.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ro(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),Ek=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Eie(this.verbose),this.qrcode=new bie(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Pie.create()}return t.prototype.start=function(e,r,n,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var A=Hie.create(r,this.logger);this.clearElement();var c=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Sa.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,v=this.stateManagerProxy.startTransition(ln.SCANNING);return new Promise(function(_,b){var T=u?A.videoConstraints:m.createVideoConstraints(e);if(!T){v.cancel(),b("videoConstraints should be defined");return}var I={};(!u||A.aspectRatio)&&(I.aspectRatio=A.aspectRatio);var k={onRenderSurfaceReady:function(R,F){m.setupUi(R,F,A),m.isScanning=!0,m.foreverScan(A,n,s)}};Die.failIfNotSupported().then(function(R){R.create(T).then(function(F){return F.render(a.element,I,k).then(function(L){m.renderedCamera=L,v.execute(),_(null)}).catch(function(L){v.cancel(),b(L)})}).catch(function(F){v.cancel(),b(Nu.errorGettingUserMedia(F))})}).catch(function(R){v.cancel(),b(Nu.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ln.PAUSED),this.showPausedState(),(Ro(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ln.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var a=document.getElementById(Sa.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ro(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var s=new Image;s.onload=function(){var A=s.width,c=s.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:Sa.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:c,Sa.FILE_SCAN_MIN_HEIGHT),v=n.computeCanvasDrawConfig(A,c,h,m);if(r){var _=n.createCanvasElement(h,m,"qr-canvas-visible");_.style.display="inline-block",u.appendChild(_);var b=_.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=h,b.canvas.height=m,b.drawImage(s,0,0,A,c,v.x,v.y,v.width,v.height)}var T=Sa.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(s.width,v.width),k=Math.max(s.height,v.height),R=I+2*T,F=k+2*T,L=n.createCanvasElement(R,F);u.appendChild(L);var W=L.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=R,W.canvas.height=F,W.drawImage(s,0,0,A,c,T,T,I,k);try{n.qrcode.decodeRobustlyAsync(L).then(function(P){i(Y4.createFromQrcodeResult(P))}).catch(a)}catch(P){a("QR code parse error, error = ".concat(P))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Mie.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!wk.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[mt.QR_CODE,mt.AZTEC,mt.CODABAR,mt.CODE_39,mt.CODE_93,mt.CODE_128,mt.DATA_MATRIX,mt.MAXICODE,mt.ITF,mt.EAN_13,mt.EAN_8,mt.PDF_417,mt.RSS_14,mt.RSS_EXPANDED,mt.UPC_A,mt.UPC_E,mt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=e.formatsToSupport;i<a.length;i++){var s=a[i];vie(s)?n.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ro(e))return!0;if(!Ro(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ro(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Ro(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(e,r,a),A=function(u){if(u<Sa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Sa.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};A(s.width),A(s.height),s.width=c(s.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Ro(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=n.isShadedBoxEnabled()&&a.height<=r,A={x:0,y:0,width:e,height:r},c=s?this.getShadedRegionBounds(e,r,a):A,u=this.createCanvasElement(c.width,c.height),h={willReadFrequently:!0},m=u.getContext("2d",h);m.canvas.width=c.width,m.canvas.height=c.height,this.element.append(u),s&&this.possiblyInsertShadingElement(this.element,e,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=m,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Nu.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,Y4.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Nu.codeParseError(i);return r(a,yie.createFrom(a)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,A=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*s,u=this.qrRegion.height*A,h=this.qrRegion.x*s,m=this.qrRegion.y*A;this.context.drawImage(a,h,m,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(_){!_&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){v()})):v()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),v()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",s=function(b){if(b in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},A=Object.keys(e);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var c=Object.keys(e)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=e.facingMode;if(typeof u=="string"){if(s(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(s(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=e.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(a in m)return{deviceId:{exact:m["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof m;throw"Invalid type of 'deviceId' = ".concat(v)}}}var _=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var a=(n-e)/2,s=(i-r)/2;return{x:a,y:s,width:e,height:r}}else{var A=e,c=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(c)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Sa.BORDER_SHADER_MATCH_COLOR:Sa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,a=r,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=Ro(n)?"qr-canvas":n,s},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(r-i.width)/2,A=(n-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Sa.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,r,n,i,a,s,A){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Sa.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),A?c.style.left="".concat(s,"px"):c.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),e.appendChild(c)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),nS;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(nS||(nS={}));/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function iS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ck(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iS(Object(r),!0).forEach(function(n){Kie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _k(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Kw(t){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(t)}function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_k(n.key),n)}}function Gie(t,e,r){return e&&aS(t.prototype,e),r&&aS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,r){return e=_k(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t){return zie(t)||Wie(t)||Xie(t)||qie()}function zie(t){if(Array.isArray(t))return zw(t)}function Wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xie(t,e){if(t){if(typeof t=="string")return zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zw(t,e)}}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Km=typeof window<"u"&&typeof window.document<"u",uo=Km?window:{},e_=Km&&uo.document.documentElement?"ontouchstart"in uo.document.documentElement:!1,t_=Km?"PointerEvent"in uo:!1,$r="cropper",r_="all",bk="crop",Tk="move",Sk="zoom",Ml="e",Ol="w",au="s",gA="n",cf="ne",uf="nw",ff="se",hf="sw",Ww="".concat($r,"-crop"),sS="".concat($r,"-disabled"),fa="".concat($r,"-hidden"),oS="".concat($r,"-hide"),Yie="".concat($r,"-invisible"),kp="".concat($r,"-modal"),Xw="".concat($r,"-move"),Kh="".concat($r,"Action"),K1="".concat($r,"Preview"),n_="crop",Ik="move",Nk="none",qw="crop",Yw="cropend",Jw="cropmove",$w="cropstart",AS="dblclick",Jie=e_?"touchstart":"mousedown",$ie=e_?"touchmove":"mousemove",Zie=e_?"touchend touchcancel":"mouseup",lS=t_?"pointerdown":Jie,cS=t_?"pointermove":$ie,uS=t_?"pointerup pointercancel":Zie,fS="ready",hS="resize",dS="wheel",Zw="zoom",gS="image/jpeg",eae=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,tae=/^data:/,rae=/^data:image\/jpeg;base64,/,nae=/^img|canvas$/i,Fk=200,Rk=100,pS={viewMode:0,dragMode:n_,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Fk,minContainerHeight:Rk,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},iae='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',aae=Number.isNaN||uo.isNaN;function rr(t){return typeof t=="number"&&!aae(t)}var mS=function(e){return e>0&&e<1/0};function K2(t){return typeof t>"u"}function mc(t){return Kw(t)==="object"&&t!==null}var sae=Object.prototype.hasOwnProperty;function Fu(t){if(!mc(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&sae.call(r,"isPrototypeOf")}catch{return!1}}function Aa(t){return typeof t=="function"}var oae=Array.prototype.slice;function Dk(t){return Array.from?Array.from(t):oae.call(t)}function Dn(t,e){return t&&Aa(e)&&(Array.isArray(t)||rr(t.length)?Dk(t).forEach(function(r,n){e.call(t,r,n,t)}):mc(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}var en=Object.assign||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return mc(e)&&n.length>0&&n.forEach(function(a){mc(a)&&Object.keys(a).forEach(function(s){e[s]=a[s]})}),e},Aae=/\.\d*(?:0|9){12}\d*$/;function zu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Aae.test(t)?Math.round(t*e)/e:t}var lae=/^width|height|left|top|marginLeft|marginTop$/;function OA(t,e){var r=t.style;Dn(e,function(n,i){lae.test(i)&&rr(n)&&(n="".concat(n,"px")),r[i]=n})}function cae(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function qn(t,e){if(e){if(rr(t.length)){Dn(t,function(n){qn(n,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function so(t,e){if(e){if(rr(t.length)){Dn(t,function(r){so(r,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Ru(t,e,r){if(e){if(rr(t.length)){Dn(t,function(n){Ru(n,e,r)});return}r?qn(t,e):so(t,e)}}var uae=/([a-z\d])([A-Z])/g;function i_(t){return t.replace(uae,"$1-$2").toLowerCase()}function ey(t,e){return mc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(i_(e)))}function zh(t,e,r){mc(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(i_(e)),r)}function fae(t,e){if(mc(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(i_(e)))}var kk=/\s\s*/,Uk=function(){var t=!1;if(Km){var e=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});uo.addEventListener("test",r,n),uo.removeEventListener("test",r,n)}return t}();function Fs(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;e.trim().split(kk).forEach(function(a){if(!Uk){var s=t.listeners;s&&s[a]&&s[a][r]&&(i=s[a][r],delete s[a][r],Object.keys(s[a]).length===0&&delete s[a],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(a,i,n)})}function Ja(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;e.trim().split(kk).forEach(function(a){if(n.once&&!Uk){var s=t.listeners,A=s===void 0?{}:s;i=function(){delete A[a][r],t.removeEventListener(a,i,n);for(var u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];r.apply(t,h)},A[a]||(A[a]={}),A[a][r]&&t.removeEventListener(a,A[a][r],n),A[a][r]=i,t.listeners=A}t.addEventListener(a,i,n)})}function Wu(t,e,r){var n;return Aa(Event)&&Aa(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r)),t.dispatchEvent(n)}function Mk(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var z2=uo.location,hae=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function xS(t){var e=t.match(hae);return e!==null&&(e[1]!==z2.protocol||e[2]!==z2.hostname||e[3]!==z2.port)}function vS(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function hh(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,i=t.translateX,a=t.translateY,s=[];rr(i)&&i!==0&&s.push("translateX(".concat(i,"px)")),rr(a)&&a!==0&&s.push("translateY(".concat(a,"px)")),rr(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),rr(r)&&r!==1&&s.push("scaleX(".concat(r,")")),rr(n)&&n!==1&&s.push("scaleY(".concat(n,")"));var A=s.length?s.join(" "):"none";return{WebkitTransform:A,msTransform:A,transform:A}}function dae(t){var e=Ck({},t),r=0;return Dn(t,function(n,i){delete e[i],Dn(e,function(a){var s=Math.abs(n.startX-a.startX),A=Math.abs(n.startY-a.startY),c=Math.abs(n.endX-a.endX),u=Math.abs(n.endY-a.endY),h=Math.sqrt(s*s+A*A),m=Math.sqrt(c*c+u*u),v=(m-h)/h;Math.abs(v)>Math.abs(r)&&(r=v)})}),r}function z1(t,e){var r=t.pageX,n=t.pageY,i={endX:r,endY:n};return e?i:Ck({startX:r,startY:n},i)}function gae(t){var e=0,r=0,n=0;return Dn(t,function(i){var a=i.startX,s=i.startY;e+=a,r+=s,n+=1}),e/=n,r/=n,{pageX:e,pageY:r}}function LA(t){var e=t.aspectRatio,r=t.height,n=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=mS(n),s=mS(r);if(a&&s){var A=r*e;i==="contain"&&A>n||i==="cover"&&A<n?r=n/e:n=r*e}else a?r=n/e:s&&(n=r*e);return{width:n,height:r}}function pae(t){var e=t.width,r=t.height,n=t.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:e};var i=n%90*Math.PI/180,a=Math.sin(i),s=Math.cos(i),A=e*s+r*a,c=e*a+r*s;return n>90?{width:c,height:A}:{width:A,height:c}}function mae(t,e,r,n){var i=e.aspectRatio,a=e.naturalWidth,s=e.naturalHeight,A=e.rotate,c=A===void 0?0:A,u=e.scaleX,h=u===void 0?1:u,m=e.scaleY,v=m===void 0?1:m,_=r.aspectRatio,b=r.naturalWidth,T=r.naturalHeight,I=n.fillColor,k=I===void 0?"transparent":I,R=n.imageSmoothingEnabled,F=R===void 0?!0:R,L=n.imageSmoothingQuality,W=L===void 0?"low":L,P=n.maxWidth,N=P===void 0?1/0:P,M=n.maxHeight,D=M===void 0?1/0:M,Q=n.minWidth,G=Q===void 0?0:Q,j=n.minHeight,V=j===void 0?0:j,Ce=document.createElement("canvas"),le=Ce.getContext("2d"),de=LA({aspectRatio:_,width:N,height:D}),ne=LA({aspectRatio:_,width:G,height:V},"cover"),De=Math.min(de.width,Math.max(ne.width,b)),he=Math.min(de.height,Math.max(ne.height,T)),Le=LA({aspectRatio:i,width:N,height:D}),Ze=LA({aspectRatio:i,width:G,height:V},"cover"),Z=Math.min(Le.width,Math.max(Ze.width,a)),ge=Math.min(Le.height,Math.max(Ze.height,s)),ce=[-Z/2,-ge/2,Z,ge];return Ce.width=zu(De),Ce.height=zu(he),le.fillStyle=k,le.fillRect(0,0,De,he),le.save(),le.translate(De/2,he/2),le.rotate(c*Math.PI/180),le.scale(h,v),le.imageSmoothingEnabled=F,le.imageSmoothingQuality=W,le.drawImage.apply(le,[t].concat(Bk(ce.map(function(se){return Math.floor(zu(se))})))),le.restore(),Ce}var Ok=String.fromCharCode;function xae(t,e,r){var n="";r+=e;for(var i=e;i<r;i+=1)n+=Ok(t.getUint8(i));return n}var vae=/^data:.*,/;function wae(t){var e=t.replace(vae,""),r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n);return Dn(i,function(a,s){i[s]=r.charCodeAt(s)}),n}function yae(t,e){for(var r=[],n=8192,i=new Uint8Array(t);i.length>0;)r.push(Ok.apply(null,Dk(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function Eae(t){var e=new DataView(t),r;try{var n,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var s=e.byteLength,A=2;A+1<s;){if(e.getUint8(A)===255&&e.getUint8(A+1)===225){i=A;break}A+=1}if(i){var c=i+4,u=i+10;if(xae(e,c,4)==="Exif"){var h=e.getUint16(u);if(n=h===18761,(n||h===19789)&&e.getUint16(u+2,n)===42){var m=e.getUint32(u+4,n);m>=8&&(a=u+m)}}}if(a){var v=e.getUint16(a,n),_,b;for(b=0;b<v;b+=1)if(_=a+b*12+2,e.getUint16(_,n)===274){_+=8,r=e.getUint16(_,n),e.setUint16(_,1,n);break}}}catch{r=1}return r}function Cae(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var _ae={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,n=this.container,i=this.cropper,a=Number(r.minContainerWidth),s=Number(r.minContainerHeight);qn(i,fa),so(e,fa);var A={width:Math.max(n.offsetWidth,a>=0?a:Fk),height:Math.max(n.offsetHeight,s>=0?s:Rk)};this.containerData=A,OA(i,{width:A.width,height:A.height}),qn(e,fa),so(i,fa)},initCanvas:function(){var e=this.containerData,r=this.imageData,n=this.options.viewMode,i=Math.abs(r.rotate)%180===90,a=i?r.naturalHeight:r.naturalWidth,s=i?r.naturalWidth:r.naturalHeight,A=a/s,c=e.width,u=e.height;e.height*A>e.width?n===3?c=e.height*A:u=e.width/A:n===3?u=e.width/A:c=e.height*A;var h={aspectRatio:A,naturalWidth:a,naturalHeight:s,width:c,height:u};this.canvasData=h,this.limited=n===1||n===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(e.width-h.width)/2,h.top=(e.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=en({},h)},limitCanvas:function(e,r){var n=this.options,i=this.containerData,a=this.canvasData,s=this.cropBoxData,A=n.viewMode,c=a.aspectRatio,u=this.cropped&&s;if(e){var h=Number(n.minCanvasWidth)||0,m=Number(n.minCanvasHeight)||0;A>1?(h=Math.max(h,i.width),m=Math.max(m,i.height),A===3&&(m*c>h?h=m*c:m=h/c)):A>0&&(h?h=Math.max(h,u?s.width:0):m?m=Math.max(m,u?s.height:0):u&&(h=s.width,m=s.height,m*c>h?h=m*c:m=h/c));var v=LA({aspectRatio:c,width:h,height:m});h=v.width,m=v.height,a.minWidth=h,a.minHeight=m,a.maxWidth=1/0,a.maxHeight=1/0}if(r)if(A>(u?0:1)){var _=i.width-a.width,b=i.height-a.height;a.minLeft=Math.min(0,_),a.minTop=Math.min(0,b),a.maxLeft=Math.max(0,_),a.maxTop=Math.max(0,b),u&&this.limited&&(a.minLeft=Math.min(s.left,s.left+(s.width-a.width)),a.minTop=Math.min(s.top,s.top+(s.height-a.height)),a.maxLeft=s.left,a.maxTop=s.top,A===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,_),a.maxLeft=Math.max(0,_)),a.height>=i.height&&(a.minTop=Math.min(0,b),a.maxTop=Math.max(0,b))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,r){var n=this.canvasData,i=this.imageData;if(r){var a=pae({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),s=a.width,A=a.height,c=n.width*(s/n.naturalWidth),u=n.height*(A/n.naturalHeight);n.left-=(c-n.width)/2,n.top-=(u-n.height)/2,n.width=c,n.height=u,n.aspectRatio=s/A,n.naturalWidth=s,n.naturalHeight=A,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,OA(this.canvas,en({width:n.width,height:n.height},hh({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,n=this.imageData,i=n.naturalWidth*(r.width/r.naturalWidth),a=n.naturalHeight*(r.height/r.naturalHeight);en(n,{width:i,height:a,left:(r.width-i)/2,top:(r.height-a)/2}),OA(this.image,en({width:n.width,height:n.height},hh(en({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:r.width,height:r.height};n&&(r.height*n>r.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=r.left+(r.width-a.width)/2,a.top=r.top+(r.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=en({},a)},limitCropBox:function(e,r){var n=this.options,i=this.containerData,a=this.canvasData,s=this.cropBoxData,A=this.limited,c=n.aspectRatio;if(e){var u=Number(n.minCropBoxWidth)||0,h=Number(n.minCropBoxHeight)||0,m=A?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,v=A?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;u=Math.min(u,i.width),h=Math.min(h,i.height),c&&(u&&h?h*c>u?h=u/c:u=h*c:u?h=u/c:h&&(u=h*c),v*c>m?v=m/c:m=v*c),s.minWidth=Math.min(u,m),s.minHeight=Math.min(h,v),s.maxWidth=m,s.maxHeight=v}r&&(A?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(i.width,a.left+a.width)-s.width,s.maxTop=Math.min(i.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=i.width-s.width,s.maxTop=i.height-s.height))},renderCropBox:function(){var e=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&zh(this.face,Kh,n.width>=r.width&&n.height>=r.height?Tk:r_),OA(this.cropBox,en({width:n.width,height:n.height},hh({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Wu(this.element,qw,this.getData())}},Bae={initPreview:function(){var e=this.element,r=this.crossOrigin,n=this.options.preview,i=r?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",s=document.createElement("img");if(r&&(s.crossOrigin=r),s.src=i,s.alt=a,this.viewBox.appendChild(s),this.viewBoxImage=s,!!n){var A=n;typeof n=="string"?A=e.ownerDocument.querySelectorAll(n):n.querySelector&&(A=[n]),this.previews=A,Dn(A,function(c){var u=document.createElement("img");zh(c,K1,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),r&&(u.crossOrigin=r),u.src=i,u.alt=a,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){Dn(this.previews,function(e){var r=ey(e,K1);OA(e,{width:r.width,height:r.height}),e.innerHTML=r.html,fae(e,K1)})},preview:function(){var e=this.imageData,r=this.canvasData,n=this.cropBoxData,i=n.width,a=n.height,s=e.width,A=e.height,c=n.left-r.left-e.left,u=n.top-r.top-e.top;!this.cropped||this.disabled||(OA(this.viewBoxImage,en({width:s,height:A},hh(en({translateX:-c,translateY:-u},e)))),Dn(this.previews,function(h){var m=ey(h,K1),v=m.width,_=m.height,b=v,T=_,I=1;i&&(I=v/i,T=a*I),a&&T>_&&(I=_/a,b=i*I,T=_),OA(h,{width:b,height:T}),OA(h.getElementsByTagName("img")[0],en({width:s*I,height:A*I},hh(en({translateX:-c*I,translateY:-u*I},e))))}))}},bae={bind:function(){var e=this.element,r=this.options,n=this.cropper;Aa(r.cropstart)&&Ja(e,$w,r.cropstart),Aa(r.cropmove)&&Ja(e,Jw,r.cropmove),Aa(r.cropend)&&Ja(e,Yw,r.cropend),Aa(r.crop)&&Ja(e,qw,r.crop),Aa(r.zoom)&&Ja(e,Zw,r.zoom),Ja(n,lS,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&Ja(n,dS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Ja(n,AS,this.onDblclick=this.dblclick.bind(this)),Ja(e.ownerDocument,cS,this.onCropMove=this.cropMove.bind(this)),Ja(e.ownerDocument,uS,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&Ja(window,hS,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,n=this.cropper;Aa(r.cropstart)&&Fs(e,$w,r.cropstart),Aa(r.cropmove)&&Fs(e,Jw,r.cropmove),Aa(r.cropend)&&Fs(e,Yw,r.cropend),Aa(r.crop)&&Fs(e,qw,r.crop),Aa(r.zoom)&&Fs(e,Zw,r.zoom),Fs(n,lS,this.onCropStart),r.zoomable&&r.zoomOnWheel&&Fs(n,dS,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Fs(n,AS,this.onDblclick),Fs(e.ownerDocument,cS,this.onCropMove),Fs(e.ownerDocument,uS,this.onCropEnd),r.responsive&&Fs(window,hS,this.onResize)}},Tae={resize:function(){if(!this.disabled){var e=this.options,r=this.container,n=this.containerData,i=r.offsetWidth/n.width,a=r.offsetHeight/n.height,s=Math.abs(i-1)>Math.abs(a-1)?i:a;if(s!==1){var A,c;e.restore&&(A=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Dn(A,function(u,h){A[h]=u*s})),this.setCropBoxData(Dn(c,function(u,h){c[h]=u*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===Nk||this.setDragMode(cae(this.dragBox,Ww)?Ik:n_)},wheel:function(e){var r=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var r=e.buttons,n=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(rr(r)&&r!==1||rr(n)&&n!==0||e.ctrlKey))){var i=this.options,a=this.pointers,s;e.changedTouches?Dn(e.changedTouches,function(A){a[A.identifier]=z1(A)}):a[e.pointerId||0]=z1(e),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?s=Sk:s=ey(e.target,Kh),eae.test(s)&&Wu(this.element,$w,{originalEvent:e,action:s})!==!1&&(e.preventDefault(),this.action=s,this.cropping=!1,s===bk&&(this.cropping=!0,qn(this.dragBox,kp)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;e.preventDefault(),Wu(this.element,Jw,{originalEvent:e,action:r})!==!1&&(e.changedTouches?Dn(e.changedTouches,function(i){en(n[i.identifier]||{},z1(i,!0))}):en(n[e.pointerId||0]||{},z1(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,n=this.pointers;e.changedTouches?Dn(e.changedTouches,function(i){delete n[i.identifier]}):delete n[e.pointerId||0],r&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Ru(this.dragBox,kp,this.cropped&&this.options.modal)),Wu(this.element,Yw,{originalEvent:e,action:r}))}}},Sae={change:function(e){var r=this.options,n=this.canvasData,i=this.containerData,a=this.cropBoxData,s=this.pointers,A=this.action,c=r.aspectRatio,u=a.left,h=a.top,m=a.width,v=a.height,_=u+m,b=h+v,T=0,I=0,k=i.width,R=i.height,F=!0,L;!c&&e.shiftKey&&(c=m&&v?m/v:1),this.limited&&(T=a.minLeft,I=a.minTop,k=T+Math.min(i.width,n.width,n.left+n.width),R=I+Math.min(i.height,n.height,n.top+n.height));var W=s[Object.keys(s)[0]],P={x:W.endX-W.startX,y:W.endY-W.startY},N=function(D){switch(D){case Ml:_+P.x>k&&(P.x=k-_);break;case Ol:u+P.x<T&&(P.x=T-u);break;case gA:h+P.y<I&&(P.y=I-h);break;case au:b+P.y>R&&(P.y=R-b);break}};switch(A){case r_:u+=P.x,h+=P.y;break;case Ml:if(P.x>=0&&(_>=k||c&&(h<=I||b>=R))){F=!1;break}N(Ml),m+=P.x,m<0&&(A=Ol,m=-m,u-=m),c&&(v=m/c,h+=(a.height-v)/2);break;case gA:if(P.y<=0&&(h<=I||c&&(u<=T||_>=k))){F=!1;break}N(gA),v-=P.y,h+=P.y,v<0&&(A=au,v=-v,h-=v),c&&(m=v*c,u+=(a.width-m)/2);break;case Ol:if(P.x<=0&&(u<=T||c&&(h<=I||b>=R))){F=!1;break}N(Ol),m-=P.x,u+=P.x,m<0&&(A=Ml,m=-m,u-=m),c&&(v=m/c,h+=(a.height-v)/2);break;case au:if(P.y>=0&&(b>=R||c&&(u<=T||_>=k))){F=!1;break}N(au),v+=P.y,v<0&&(A=gA,v=-v,h-=v),c&&(m=v*c,u+=(a.width-m)/2);break;case cf:if(c){if(P.y<=0&&(h<=I||_>=k)){F=!1;break}N(gA),v-=P.y,h+=P.y,m=v*c}else N(gA),N(Ml),P.x>=0?_<k?m+=P.x:P.y<=0&&h<=I&&(F=!1):m+=P.x,P.y<=0?h>I&&(v-=P.y,h+=P.y):(v-=P.y,h+=P.y);m<0&&v<0?(A=hf,v=-v,m=-m,h-=v,u-=m):m<0?(A=uf,m=-m,u-=m):v<0&&(A=ff,v=-v,h-=v);break;case uf:if(c){if(P.y<=0&&(h<=I||u<=T)){F=!1;break}N(gA),v-=P.y,h+=P.y,m=v*c,u+=a.width-m}else N(gA),N(Ol),P.x<=0?u>T?(m-=P.x,u+=P.x):P.y<=0&&h<=I&&(F=!1):(m-=P.x,u+=P.x),P.y<=0?h>I&&(v-=P.y,h+=P.y):(v-=P.y,h+=P.y);m<0&&v<0?(A=ff,v=-v,m=-m,h-=v,u-=m):m<0?(A=cf,m=-m,u-=m):v<0&&(A=hf,v=-v,h-=v);break;case hf:if(c){if(P.x<=0&&(u<=T||b>=R)){F=!1;break}N(Ol),m-=P.x,u+=P.x,v=m/c}else N(au),N(Ol),P.x<=0?u>T?(m-=P.x,u+=P.x):P.y>=0&&b>=R&&(F=!1):(m-=P.x,u+=P.x),P.y>=0?b<R&&(v+=P.y):v+=P.y;m<0&&v<0?(A=cf,v=-v,m=-m,h-=v,u-=m):m<0?(A=ff,m=-m,u-=m):v<0&&(A=uf,v=-v,h-=v);break;case ff:if(c){if(P.x>=0&&(_>=k||b>=R)){F=!1;break}N(Ml),m+=P.x,v=m/c}else N(au),N(Ml),P.x>=0?_<k?m+=P.x:P.y>=0&&b>=R&&(F=!1):m+=P.x,P.y>=0?b<R&&(v+=P.y):v+=P.y;m<0&&v<0?(A=uf,v=-v,m=-m,h-=v,u-=m):m<0?(A=hf,m=-m,u-=m):v<0&&(A=cf,v=-v,h-=v);break;case Tk:this.move(P.x,P.y),F=!1;break;case Sk:this.zoom(dae(s),e),F=!1;break;case bk:if(!P.x||!P.y){F=!1;break}L=Mk(this.cropper),u=W.startX-L.left,h=W.startY-L.top,m=a.minWidth,v=a.minHeight,P.x>0?A=P.y>0?ff:cf:P.x<0&&(u-=m,A=P.y>0?hf:uf),P.y<0&&(h-=v),this.cropped||(so(this.cropBox,fa),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}F&&(a.width=m,a.height=v,a.left=u,a.top=h,this.action=A,this.renderCropBox()),Dn(s,function(M){M.startX=M.endX,M.startY=M.endY})}},Iae={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&qn(this.dragBox,kp),so(this.cropBox,fa),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=en({},this.initialImageData),this.canvasData=en({},this.initialCanvasData),this.cropBoxData=en({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(en(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),so(this.dragBox,kp),qn(this.cropBox,fa)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Dn(this.previews,function(n){n.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,so(this.cropper,sS)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,qn(this.cropper,sS)),this},destroy:function(){var e=this.element;return e[$r]?(e[$r]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,i=n.left,a=n.top;return this.moveTo(K2(e)?e:i+Number(e),K2(r)?r:a+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(rr(e)&&(n.left=e,i=!0),rr(r)&&(n.top=r,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,r){var n=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(n.width*e/n.naturalWidth,null,r)},zoomTo:function(e,r,n){var i=this.options,a=this.canvasData,s=a.width,A=a.height,c=a.naturalWidth,u=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var h=c*e,m=u*e;if(Wu(this.element,Zw,{ratio:e,oldRatio:s/c,originalEvent:n})===!1)return this;if(n){var v=this.pointers,_=Mk(this.cropper),b=v&&Object.keys(v).length?gae(v):{pageX:n.pageX,pageY:n.pageY};a.left-=(h-s)*((b.pageX-_.left-a.left)/s),a.top-=(m-A)*((b.pageY-_.top-a.top)/A)}else Fu(r)&&rr(r.x)&&rr(r.y)?(a.left-=(h-s)*((r.x-a.left)/s),a.top-=(m-A)*((r.y-a.top)/A)):(a.left-=(h-s)/2,a.top-=(m-A)/2);a.width=h,a.height=m,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),rr(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,rr(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(rr(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(rr(e)&&(n.scaleX=e,i=!0),rr(r)&&(n.scaleY=r,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,i=this.canvasData,a=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var A=n.width/n.naturalWidth;if(Dn(s,function(h,m){s[m]=h/A}),e){var c=Math.round(s.y+s.height),u=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=u-s.x,s.height=c-s.y}}else s={x:0,y:0,width:0,height:0};return r.rotatable&&(s.rotate=n.rotate||0),r.scalable&&(s.scaleX=n.scaleX||1,s.scaleY=n.scaleY||1),s},setData:function(e){var r=this.options,n=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&Fu(e)){var s=!1;r.rotatable&&rr(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,s=!0),r.scalable&&(rr(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,s=!0),rr(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var A=n.width/n.naturalWidth;rr(e.x)&&(a.left=e.x*A+i.left),rr(e.y)&&(a.top=e.y*A+i.top),rr(e.width)&&(a.width=e.width*A),rr(e.height)&&(a.height=e.height*A),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?en({},this.containerData):{}},getImageData:function(){return this.sized?en({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&Dn(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=e[n]}),r},setCanvasData:function(e){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Fu(e)&&(rr(e.left)&&(r.left=e.left),rr(e.top)&&(r.top=e.top),rr(e.width)?(r.width=e.width,r.height=e.width/n):rr(e.height)&&(r.height=e.height,r.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,n=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&Fu(e)&&(rr(e.left)&&(r.left=e.left),rr(e.top)&&(r.top=e.top),rr(e.width)&&e.width!==r.width&&(i=!0,r.width=e.width),rr(e.height)&&e.height!==r.height&&(a=!0,r.height=e.height),n&&(i?r.height=r.width/n:a&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=mae(this.image,this.imageData,r,e);if(!this.cropped)return n;var i=this.getData(e.rounded),a=i.x,s=i.y,A=i.width,c=i.height,u=n.width/Math.floor(r.naturalWidth);u!==1&&(a*=u,s*=u,A*=u,c*=u);var h=A/c,m=LA({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),v=LA({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),_=LA({aspectRatio:h,width:e.width||(u!==1?n.width:A),height:e.height||(u!==1?n.height:c)}),b=_.width,T=_.height;b=Math.min(m.width,Math.max(v.width,b)),T=Math.min(m.height,Math.max(v.height,T));var I=document.createElement("canvas"),k=I.getContext("2d");I.width=zu(b),I.height=zu(T),k.fillStyle=e.fillColor||"transparent",k.fillRect(0,0,b,T);var R=e.imageSmoothingEnabled,F=R===void 0?!0:R,L=e.imageSmoothingQuality;k.imageSmoothingEnabled=F,L&&(k.imageSmoothingQuality=L);var W=n.width,P=n.height,N=a,M=s,D,Q,G,j,V,Ce;N<=-A||N>W?(N=0,D=0,G=0,V=0):N<=0?(G=-N,N=0,D=Math.min(W,A+N),V=D):N<=W&&(G=0,D=Math.min(A,W-N),V=D),D<=0||M<=-c||M>P?(M=0,Q=0,j=0,Ce=0):M<=0?(j=-M,M=0,Q=Math.min(P,c+M),Ce=Q):M<=P&&(j=0,Q=Math.min(c,P-M),Ce=Q);var le=[N,M,D,Q];if(V>0&&Ce>0){var de=b/A;le.push(G*de,j*de,V*de,Ce*de)}return k.drawImage.apply(k,[n].concat(Bk(le.map(function(ne){return Math.floor(zu(ne))})))),I},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!K2(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===n_,s=r.movable&&e===Ik;e=a||s?e:Nk,r.dragMode=e,zh(n,Kh,e),Ru(n,Ww,a),Ru(n,Xw,s),r.cropBoxMovable||(zh(i,Kh,e),Ru(i,Ww,a),Ru(i,Xw,s))}return this}},Nae=uo.Cropper,Lk=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jie(this,t),!e||!nae.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=en({},pS,Fu(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Gie(t,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),i;if(!r[$r]){if(r[$r]=this,n==="img"){if(this.isImg=!0,i=r.getAttribute("src")||"",this.originalUrl=i,!i)return;i=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(i=r.toDataURL());this.load(i)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(tae.test(r)){rae.test(r)?this.read(wae(r)):this.clone();return}var s=new XMLHttpRequest,A=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=A,s.onerror=A,s.ontimeout=A,s.onprogress=function(){s.getResponseHeader("content-type")!==gS&&s.abort()},s.onload=function(){n.read(s.response)},s.onloadend=function(){n.reloading=!1,n.xhr=null},a.checkCrossOrigin&&xS(r)&&i.crossOrigin&&(r=vS(r)),s.open("GET",r,!0),s.responseType="arraybuffer",s.withCredentials=i.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(r){var n=this.options,i=this.imageData,a=Eae(r),s=0,A=1,c=1;if(a>1){this.url=yae(r,gS);var u=Cae(a);s=u.rotate,A=u.scaleX,c=u.scaleY}n.rotatable&&(i.rotate=s),n.scalable&&(i.scaleX=A,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,i=r.crossOrigin,a=n;this.options.checkCrossOrigin&&xS(n)&&(i||(i="anonymous"),a=vS(n)),this.crossOrigin=i,this.crossOriginUrl=a;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=a||n,s.alt=r.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),qn(s,oS),r.parentNode.insertBefore(s,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var i=uo.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(uo.navigator.userAgent),a=function(u,h){en(r.imageData,{naturalWidth:u,naturalHeight:h,aspectRatio:u/h}),r.initialImageData=en({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!i){a(n.naturalWidth,n.naturalHeight);return}var s=document.createElement("img"),A=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){a(s.width,s.height),i||A.removeChild(s)},s.src=n.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",A.appendChild(s))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,i=this.image,a=r.parentNode,s=document.createElement("div");s.innerHTML=iae;var A=s.querySelector(".".concat($r,"-container")),c=A.querySelector(".".concat($r,"-canvas")),u=A.querySelector(".".concat($r,"-drag-box")),h=A.querySelector(".".concat($r,"-crop-box")),m=h.querySelector(".".concat($r,"-face"));this.container=a,this.cropper=A,this.canvas=c,this.dragBox=u,this.cropBox=h,this.viewBox=A.querySelector(".".concat($r,"-view-box")),this.face=m,c.appendChild(i),qn(r,fa),a.insertBefore(A,r.nextSibling),so(i,oS),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,qn(h,fa),n.guides||qn(h.getElementsByClassName("".concat($r,"-dashed")),fa),n.center||qn(h.getElementsByClassName("".concat($r,"-center")),fa),n.background&&qn(A,"".concat($r,"-bg")),n.highlight||qn(m,Yie),n.cropBoxMovable&&(qn(m,Xw),zh(m,Kh,r_)),n.cropBoxResizable||(qn(h.getElementsByClassName("".concat($r,"-line")),fa),qn(h.getElementsByClassName("".concat($r,"-point")),fa)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),Aa(n.ready)&&Ja(r,fS,n.ready,{once:!0}),Wu(r,fS)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),so(this.element,fa)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Nae,t}},{key:"setDefaults",value:function(r){en(pS,Fu(r)&&r)}}])}();en(Lk.prototype,_ae,Bae,bae,Tae,Sae,Iae);const Fae=({currentUser:t,products:e,onAddProduct:r,onUpdateProduct:n,onLogout:i,onNavigateToHome:a,onNavigateToCreateInvoice:s,onNavigateToCustomers:A,onNavigateToSettings:c,isSelectionMode:u=!1,onSelectProduct:h,onStartInvoiceWithProduct:m,selectedItems:v=[],settings:_,invoicePriceMode:b="retail",initialSearchTerm:T=""})=>{var Kt;const[I,k]=me.useState(T),[R,F]=me.useState(!1),[L,W]=me.useState(!1),[P,N]=me.useState(!1),[M,D]=me.useState(!1),[Q,G]=me.useState(!1),[j,V]=me.useState([]),Ce=me.useRef(null),le=me.useRef(null),[de,ne]=me.useState(null),[De,he]=me.useState([]),Le=me.useRef(null),Ze=me.useRef(null),[Z,ge]=me.useState(null),[ce,se]=me.useState(null),[fe,je]=me.useState(null),[ye,xe]=me.useState(1),[Se,it]=me.useState(""),[ie,lt]=me.useState(null),yt=me.useRef(null),wt=me.useRef(!1),we=me.useRef(null),Ee=me.useRef(null),qe=me.useRef(null),st=me.useRef(null);me.useEffect(()=>{T&&k(T)},[T]);const qt=me.useMemo(()=>t.role==="admin"||t.permissions.isManager||t.permissions.viewWholesalePrice,[t]),[Ge,vr]=me.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]});me.useEffect(()=>()=>{le.current&&le.current.getTracks().forEach(Pe=>Pe.stop())},[]),me.useEffect(()=>{let Pe=null,oe=!0;if(R){const Fe=setTimeout(()=>{if(oe)try{Pe=new Ek("reader"),qe.current=Pe,Pe.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},Ve=>{oe&&(k(Ve),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{}),F(!1))},()=>{}).catch(()=>{oe&&F(!1)})}catch{oe&&F(!1)}},300);return()=>{oe=!1,clearTimeout(Fe),Pe!=null&&Pe.isScanning&&Pe.stop().then(()=>Pe==null?void 0:Pe.clear()).catch(()=>{})}}},[R]),me.useEffect(()=>(de&&Ze.current&&(Le.current&&Le.current.destroy(),Le.current=new Lk(Ze.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8})),()=>{Le.current&&Le.current.destroy()}),[de]);const Xr=async()=>{G(!0);try{const Pe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});le.current=Pe,Ce.current&&(Ce.current.srcObject=Pe)}catch{G(!1)}},Ke=()=>{le.current&&le.current.getTracks().forEach(Pe=>Pe.stop()),G(!1)},ht=()=>{var Pe;if(Ce.current){const oe=document.createElement("canvas");oe.width=Ce.current.videoWidth,oe.height=Ce.current.videoHeight,(Pe=oe.getContext("2d"))==null||Pe.drawImage(Ce.current,0,0),V(Fe=>[...Fe,oe.toDataURL("image/jpeg",.9)])}};me.useEffect(()=>{ce&&st.current&&setTimeout(()=>{try{LD(st.current,ce.code,{format:"CODE128",width:2,height:50,displayValue:!0})}catch{}},50)},[ce]);const ct=Pe=>{var Ve;const oe=(Ve=Pe.target.files)==null?void 0:Ve[0];if(!oe)return;D(!0);const Fe=new FileReader;Fe.onload=async _e=>{var tt,dt;try{const Wt=Hw((tt=_e.target)==null?void 0:tt.result,{type:"array"}),$i=xie.sheet_to_json(Wt.Sheets[Wt.SheetNames[0]],{defval:""});for(const hn of $i){const ws=(dt=hn[" "]||hn.||hn.name)==null?void 0:dt.toString().trim(),Pt=parseFloat(hn.||hn.||hn.price)||0;ws&&Pt>0&&r({id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:ws,code:hn.||`ID-${Math.floor(Math.random()*9e4)}`,price:Pt,wholesalePrice:parseFloat(hn.)||0,purchasePrice:parseFloat(hn.)||0,stock:parseInt(hn.)||0,category:hn.||""})}}catch{}finally{D(!1),Pe.target.value=""}},Fe.readAsArrayBuffer(oe)},Ot=Pe=>{const oe=Pe.target.files;if(oe&&oe.length>0){const Fe=[];Array.from(oe).forEach(Ve=>{Fe.push(new Promise(_e=>{const tt=new FileReader;tt.onloadend=()=>_e(tt.result),tt.readAsDataURL(Ve)}))}),Promise.all(Fe).then(Ve=>{ne(Ve[0]),he(Ve.slice(1))})}Pe.target.value=""},Yt=me.useMemo(()=>e.filter(Pe=>Pe.name.toLowerCase().includes(I.toLowerCase())||Pe.code.toLowerCase().includes(I.toLowerCase())||Pe.id===I),[I,e]);return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-cairo",children:[d.jsx("input",{type:"file",ref:we,onChange:ct,accept:".xlsx, .xls, .csv",className:"hidden"}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:u?" ":""}),u&&d.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${b==="wholesale"?"bg-orange-500 animate-pulse":"bg-[#57b385]"}`}),d.jsx("span",{className:"text-[10px] font-black uppercase text-[#57b385]",children:b==="wholesale"?" : ":" :  "})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[u&&d.jsxs("button",{onClick:s,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg flex items-center gap-2",children:[d.jsx("span",{children:" "}),d.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:v.reduce((Pe,oe)=>Pe+oe.count,0)})]}),!u&&t.permissions.editProducts&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{var Pe;return(Pe=we.current)==null?void 0:Pe.click()},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),d.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),d.jsx("path",{d:"M8 13h2"}),d.jsx("path",{d:"M8 17h2"}),d.jsx("path",{d:"M14 13h2"}),d.jsx("path",{d:"M14 17h2"})]})}),d.jsx("button",{onClick:()=>{vr({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",images:[]}),W(!0)},className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})]})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none text-right font-medium",value:I,onChange:Pe=>k(Pe.target.value)}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})}),d.jsx("button",{onClick:()=>F(!0),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),d.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),d.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),d.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),d.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:Yt.length>0?Yt.map(Pe=>{var Fe,Ve;const oe=((Fe=v.find(_e=>_e.id===Pe.id))==null?void 0:Fe.count)||0;return d.jsxs("div",{onClick:()=>{u&&h?h({id:Pe.id,name:Pe.name,price:b==="wholesale"?Pe.wholesalePrice:Pe.price},1):se(Pe)},onTouchStart:()=>{yt.current=setTimeout(()=>{wt.current=!0,ge(Pe),xe(1),it((b==="wholesale"?Pe.wholesalePrice:Pe.price).toString()),navigator.vibrate&&navigator.vibrate(50)},500)},onTouchEnd:()=>{clearTimeout(yt.current),setTimeout(()=>wt.current=!1,10)},className:`bg-[#111111] rounded-[2.5rem] border ${oe>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 transition-all relative overflow-hidden active:scale-[0.97] cursor-pointer h-full`,children:[oe>0&&d.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl",children:[": ",oe]}),d.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[d.jsx("div",{className:"w-16 h-16 bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] overflow-hidden",children:(Ve=Pe.images)!=null&&Ve[0]?d.jsx("img",{src:Pe.images[0],className:"w-full h-full object-cover"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]})}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("h4",{className:"text-xl font-bold text-white mb-1 line-clamp-1",children:Pe.name}),d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:Pe.code}),d.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:Pe.category})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),d.jsxs("div",{className:"text-lg font-black",children:[(b==="wholesale"?Pe.wholesalePrice:Pe.price).toFixed(2)," ."]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold",children:""}),d.jsxs("div",{className:`text-sm font-black ${Pe.stock>0?"text-gray-200":"text-red-500"}`,children:[Pe.stock," "]})]})]})]},Pe.id)}):d.jsx("div",{className:"text-center py-20 text-gray-600 opacity-30 col-span-full font-bold",children:"  "})}),Q&&d.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[d.jsx("video",{ref:Ce,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),d.jsxs("div",{className:"absolute bottom-10 flex gap-10",children:[d.jsx("button",{onClick:Ke,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),d.jsx("button",{onClick:ht,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:d.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),d.jsx("button",{onClick:()=>{j.length>0&&(ne(j[0]),he(j.slice(1)),Ke())},className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white shadow-xl",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})]}),de&&d.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col animate-in fade-in duration-300",children:[d.jsx("div",{className:"flex-1 bg-[#111111] flex items-center justify-center",children:d.jsx("img",{ref:Ze,src:de,className:"max-w-full max-h-full object-contain"})}),d.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[d.jsx("button",{onClick:()=>{if(Le.current){const Pe=Le.current.getCroppedCanvas({width:800,height:800}).toDataURL("image/jpeg",.8);vr(oe=>({...oe,images:[...oe.images,Pe]})),De.length>0?(ne(De[0]),he(oe=>oe.slice(1))):ne(null)}},className:"flex-1 max-w-xs bg-[#57b385] py-4 rounded-2xl font-black",children:" "}),d.jsx("button",{onClick:()=>ne(null),className:"flex-1 max-w-xs bg-[#1a1a1a] py-4 rounded-2xl font-bold border border-gray-800",children:""})]})]}),(L||P)&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:()=>{W(!1),N(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-xl font-black",children:L?" ":" "})]}),d.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"flex gap-2 overflow-x-auto w-full pb-3 no-scrollbar",children:Ge.images.map((Pe,oe)=>d.jsxs("div",{className:"relative flex-shrink-0 w-24 h-24 bg-[#1a1a1a] rounded-2xl border border-gray-800 overflow-hidden",children:[d.jsx("img",{src:Pe,className:"w-full h-full object-cover"}),d.jsx("button",{onClick:()=>vr(Fe=>({...Fe,images:Fe.images.filter((Ve,_e)=>_e!==oe)})),className:"absolute top-1 right-1 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})})]},oe))}),d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsxs("button",{onClick:Xr,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center text-blue-500",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:""})]}),d.jsxs("div",{onClick:()=>{var Pe;return(Pe=Ee.current)==null?void 0:Pe.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 cursor-pointer flex flex-col items-center justify-center text-gray-500",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:" "}),d.jsx("input",{ref:Ee,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Ot})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold",value:Ge.name,onChange:Pe=>vr({...Ge,name:Pe.target.value})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.price,onChange:Pe=>vr({...Ge,price:Pe.target.value})}),d.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.wholesalePrice,onChange:Pe=>vr({...Ge,wholesalePrice:Pe.target.value})}),d.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-1 text-white text-center font-black text-sm",value:Ge.purchasePrice,onChange:Pe=>vr({...Ge,purchasePrice:Pe.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-mono",value:Ge.code,onChange:Pe=>vr({...Ge,code:Pe.target.value})}),d.jsx("input",{type:"number",placeholder:"",className:"bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black",value:Ge.stock,onChange:Pe=>vr({...Ge,stock:Pe.target.value})})]}),d.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-right font-bold appearance-none",value:Ge.category,onChange:Pe=>vr({...Ge,category:Pe.target.value}),children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]})]}),d.jsx("button",{onClick:()=>{if(L){if(!Ge.name||!Ge.price)return;r({id:Date.now().toString(),name:Ge.name,code:Ge.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(Ge.price),wholesalePrice:parseFloat(Ge.wholesalePrice||"0"),purchasePrice:parseFloat(Ge.purchasePrice||"0"),stock:parseInt(Ge.stock||"0"),category:Ge.category,image:Ge.images[0],images:Ge.images}),W(!1)}else fe&&(n({id:fe,name:Ge.name,code:Ge.code,price:parseFloat(Ge.price),wholesalePrice:parseFloat(Ge.wholesalePrice||"0"),purchasePrice:parseFloat(Ge.purchasePrice||"0"),stock:parseInt(Ge.stock||"0"),category:Ge.category,image:Ge.images[0],images:Ge.images}),N(!1),je(null))},className:"w-full bg-[#57b385] py-5 rounded-2xl text-white font-black text-lg shadow-xl mt-4",children:L?"":""})]})}),ce&&d.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[t.permissions.editProducts&&d.jsx("button",{onClick:()=>{vr({name:ce.name,code:ce.code,price:ce.price.toString(),wholesalePrice:ce.wholesalePrice.toString(),purchasePrice:ce.purchasePrice.toString(),stock:ce.stock.toString(),category:ce.category,images:ce.images||[]}),je(ce.id),se(null),N(!0)},className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 font-bold text-xs",children:""}),d.jsx("div",{onClick:()=>{var Pe;return lt(((Pe=ce.images)==null?void 0:Pe[0])||ce.image||null)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center overflow-hidden",children:(Kt=ce.images)!=null&&Kt[0]?d.jsx("img",{src:ce.images[0],className:"w-full h-full object-cover"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]})})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest",children:" "}),d.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:ce.name})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),d.jsx("div",{className:"text-sm font-black text-[#57b385]",children:ce.price.toFixed(2)})]}),qt&&d.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),d.jsx("div",{className:"text-sm font-black text-orange-400",children:ce.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&d.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block",children:""}),d.jsx("div",{className:"text-sm font-black text-red-400",children:ce.purchasePrice.toFixed(2)})]})]}),d.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-400 font-bold text-sm",children:ce.code}),d.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:`text-sm font-black ${ce.stock>0?"text-white":"text-red-500"}`,children:[ce.stock," "]}),d.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),d.jsx("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center",children:d.jsx("svg",{ref:st,className:"w-full h-auto max-h-20"})})]}),d.jsx("button",{onClick:()=>se(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black active:scale-95",children:""})]})}),Z&&d.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:u?" ":"  "}),d.jsx("p",{className:"text-xl font-black text-white",children:Z.name})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 px-4 text-white text-center font-black text-lg",value:Se,onChange:Pe=>it(Pe.target.value)}),d.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[d.jsx("button",{onClick:()=>xe(Pe=>Pe+1),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385]",value:ye,onChange:Pe=>xe(parseInt(Pe.target.value)||1)}),d.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),d.jsx("button",{onClick:()=>xe(Pe=>Math.max(1,Pe-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white shadow-lg",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),d.jsxs("div",{className:"w-full text-center py-2 bg-[#57b385]/5 rounded-2xl border border-[#57b385]/10",children:[d.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:""}),d.jsxs("p",{className:"text-2xl font-black text-white",children:[((parseFloat(Se)||0)*ye).toFixed(2)," ."]})]})]}),d.jsxs("div",{className:"flex gap-4 pt-2",children:[d.jsx("button",{onClick:()=>{u&&h?h({id:Z.id,name:Z.name,price:parseFloat(Se)||0},ye):m&&m({id:Z.id,name:Z.name,price:parseFloat(Se)||0},ye),ge(null)},className:"flex-1 bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:u?"":" "}),d.jsx("button",{onClick:()=>ge(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700",children:""})]})]})}),R&&d.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[d.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[d.jsx("button",{onClick:()=>F(!1),className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-lg font-bold",children:" "}),d.jsx("div",{className:"w-10"})]}),d.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[d.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),d.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:d.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),d.jsx("button",{onClick:()=>F(!1),className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),ie&&d.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>lt(null),children:[d.jsx("img",{src:ie,className:"max-w-full max-h-full object-contain shadow-2xl"}),d.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[d.jsx(W1,{onClick:a,icon:d.jsx(Rae,{}),label:""}),d.jsx(W1,{icon:d.jsx(Dae,{}),label:"",active:!u}),d.jsx("div",{className:"relative -top-6",children:d.jsx("button",{disabled:!t.permissions.createInvoices,onClick:s,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all group ${t.permissions.createInvoices?u?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50"}`,children:d.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:u?d.jsx("path",{d:"M20 6L9 17l-5-5"}):d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),d.jsx(W1,{onClick:A,icon:d.jsx(kae,{}),label:""}),d.jsx(W1,{onClick:c,icon:d.jsx(Uae,{}),label:""})]})]})},W1=({icon:t,label:e,active:r=!1,onClick:n})=>d.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx("div",{className:r?"scale-110":"",children:t}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),Rae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),d.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Dae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),kae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Uae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Mae=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:r,items:n,setInvoiceItems:i,products:a,onUpdateQuantity:s,onClearInvoice:A,onAddManualItem:c,onSaveInvoice:u,initialInvoice:h,settings:m,onUpdateItem:v,customerName:_,setCustomerName:b,customerPhone:T,setCustomerPhone:I,priceMode:k,setPriceMode:R})=>{const[F,L]=me.useState(new Date().toISOString().split("T")[0]),[W,P]=me.useState(!1),[N,M]=me.useState(""),[D,Q]=me.useState(""),[G,j]=me.useState(""),[V,Ce]=me.useState(0),[le,de]=me.useState(null),[ne,De]=me.useState({name:"",price:"",count:1}),[he,Le]=me.useState(!1),[Ze,Z]=me.useState("direct"),[ge,ce]=me.useState(""),[se,fe]=me.useState(!1);me.useEffect(()=>{h?(L(h.date),M(h.id),Le(h.type==="paid"),Z(h.method),fe(h.type==="partial"),ce(h.paidAmount>0?h.paidAmount.toString():""),h.priceMode&&R(h.priceMode)):M(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[h,R]);const je=we=>{we!==k&&(R(we),i(Ee=>Ee.map(qe=>{if(qe.isManual)return qe;const st=a.find(Ge=>Ge.id===qe.id);if(!st)return qe;const qt=we==="wholesale"?st.wholesalePrice:st.price;return{...qe,price:qt,total:qt*qe.count}})),navigator.vibrate&&navigator.vibrate(40))},ye=me.useMemo(()=>n.reduce((we,Ee)=>we+Ee.total,0),[n]),xe=me.useMemo(()=>se?parseFloat(ge)||0:he?ye:0,[he,se,ge,ye]),Se=me.useMemo(()=>Math.max(0,ye-xe),[ye,xe]),it=we=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(we),ie=()=>{D&&G&&(c(D,parseFloat(G),V),Q(""),j(""),Ce(0),P(!1))},lt=we=>{de(we),De({name:we.productName,price:we.price.toString(),count:we.count})},yt=()=>{le&&ne.name&&ne.price&&(v(le.id,{productName:ne.name,price:parseFloat(ne.price),count:ne.count}),de(null))},wt=(we=!1)=>{const Ee=xe,qe=Se;let st="unpaid";qe<=0?st="paid":Ee>0&&(st="partial");const qt={id:N,creatorName:h&&h.creatorName||t.name,name:_||" ",phone:T,amount:ye,paidAmount:Ee,remainingAmount:qe,date:F,type:st,method:Ze,createdAt:h?h.createdAt:Date.now(),items:[...n],payments:h?h.payments:Ee>0?[{id:`init-${Date.now()}`,amount:Ee,timestamp:Date.now(),method:Ze}]:[],priceMode:k};we&&A8(qt,m),u(qt)};return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsx("h1",{className:"text-xl font-bold",children:h?" ":" "}),d.jsx("button",{onClick:A,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[d.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[d.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800/40 p-1.5 flex gap-1 animate-in fade-in slide-in-from-top-2 duration-400",children:[d.jsxs("button",{onClick:()=>je("retail"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${k==="retail"?"bg-[#57b385] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})," ()"]}),d.jsxs("button",{onClick:()=>je("wholesale"),className:`flex-1 py-3 rounded-2xl text-sm font-black transition-all flex items-center justify-center gap-2 ${k==="wholesale"?"bg-orange-500 text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})," ()"]})]}),d.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[d.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),d.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right font-bold",value:_,onChange:we=>b(we.target.value)}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:T,onChange:we=>I(we.target.value)}),d.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:F,onChange:we=>L(we.target.value)})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95 ${k==="wholesale"?"border-orange-500/20":""}`,children:[d.jsx("div",{className:`w-10 h-10 ${k==="wholesale"?"bg-orange-500/10 text-orange-500":"bg-[#57b385]/10 text-[#57b385]"} rounded-full flex items-center justify-center`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),d.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),d.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),d.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),d.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),d.jsxs("button",{onClick:()=>P(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&d.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[d.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),d.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),d.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[d.jsx("button",{onClick:()=>{Le(!0),fe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${he&&!se?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),d.jsx("button",{onClick:()=>fe(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${se?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),d.jsx("button",{onClick:()=>{Le(!1),fe(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!he&&!se?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),se&&d.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:ge,onChange:we=>ce(we.target.value),placeholder:"0.00"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[d.jsx("button",{onClick:()=>Z("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Ze==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),d.jsx("button",{onClick:()=>Z("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Ze==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),d.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[d.jsx("div",{className:"flex items-center gap-2 px-1",children:d.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),d.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?d.jsx("div",{className:"space-y-3",children:n.map(we=>d.jsxs("div",{onClick:()=>lt(we),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),s(we.id,-we.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),d.jsxs("div",{className:"text-right flex-1 pr-3",children:[d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[we.isManual&&d.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),d.jsx("h3",{className:"font-bold text-white text-base",children:we.productName})]}),d.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[it(we.price)," "]})]})]}),d.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),s(we.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:we.count}),d.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),s(we.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),d.jsxs("span",{className:"text-[#57b385] font-black",children:[it(we.total)," ."]})]})]})]},we.id))}):d.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),d.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),d.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),d.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[it(ye)," ",d.jsx("span",{className:"text-sm",children:"."})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),d.jsxs("h3",{className:`text-xl font-black ${Se>0?"text-red-500":"text-gray-500"}`,children:[it(Se)," ."]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>wt(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),d.jsxs("button",{onClick:()=>wt(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),W&&d.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),d.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),d.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),d.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:D,onChange:we=>Q(we.target.value),autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:G,onChange:we=>j(we.target.value)})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),d.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[d.jsx("button",{onClick:()=>Ce(we=>we+1),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:V,onChange:we=>Ce(Math.max(0,parseInt(we.target.value)||0))}),d.jsx("button",{onClick:()=>Ce(we=>Math.max(0,we-1)),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("button",{onClick:ie,disabled:!D||!G,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!D||!G?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),d.jsx("button",{onClick:()=>P(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),le&&d.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 20h9"}),d.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),d.jsx("h3",{className:"text-xl font-black text-white",children:" "}),d.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:ne.name,onChange:we=>De({...ne,name:we.target.value}),autoFocus:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:ne.price,onChange:we=>De({...ne,price:we.target.value})})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),d.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[d.jsx("button",{onClick:()=>De(we=>({...we,count:Math.max(1,we.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),d.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:ne.count,onChange:we=>De(Ee=>({...Ee,count:Math.max(1,parseInt(we.target.value)||1)}))}),d.jsx("button",{onClick:()=>De(we=>({...we,count:Math.max(1,we.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("button",{onClick:yt,disabled:!ne.name||!ne.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!ne.name||!ne.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),d.jsx("button",{onClick:()=>de(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},Oae=({currentUser:t,onNavigateToHome:e,settings:r,onUpdateSettings:n,onTriggerManualBackup:i,invoices:a,onEditInvoice:s,onNavigateToProducts:A,onNavigateToCustomers:c,onNavigateToCreateInvoice:u,onLogout:h})=>{var de,ne,De,he,Le,Ze,Z,ge,ce,se,fe,je,ye;const[m,v]=me.useState(!1),[_,b]=me.useState(!1),[T,I]=me.useState(null),[k,R]=me.useState(null),[F,L]=me.useState(null),[W,P]=me.useState({name:"",phone:"",password:""}),N=me.useRef(null);me.useEffect(()=>{let xe=null;if(m){const Se=setTimeout(()=>{if(document.getElementById("invoice-reader"))try{N.current&&N.current.clear(),xe=new Ek("invoice-reader"),N.current=xe,xe.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},it=>{const ie=a.find(lt=>lt.id===it);ie&&(new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{}),v(!1),R(ie))},it=>{}).catch(it=>{console.error("Scanner Error",it),alert("  .      ."),v(!1)})}catch(it){console.error("Scanner Init Error",it),v(!1)}},300);return()=>{clearTimeout(Se),xe&&xe.isScanning&&xe.stop().then(()=>xe==null?void 0:xe.clear()).catch(console.error)}}},[m,a]);const M=xe=>{var it;const Se=(it=xe.target.files)==null?void 0:it[0];if(Se){const ie=new FileReader;ie.onloadend=()=>{n(lt=>({...lt,businessLogo:ie.result}))},ie.readAsDataURL(Se)}},D=(xe,Se)=>{n(it=>({...it,[xe]:Se}))},Q=()=>{v(!0)},G=()=>{v(!1)},j=()=>{if(!W.name||!W.phone||!W.password)return;const xe={id:Date.now().toString(),name:W.name,phone:W.phone,password:W.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,viewWholesalePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};n(Se=>({...Se,staffList:[xe,...Se.staffList]})),P({name:"",phone:"",password:""}),b(!1)},V=(xe,Se)=>{n(it=>({...it,staffList:it.staffList.map(ie=>ie.id===xe?Se==="isManager"?ie.permissions.isManager?{...ie,permissions:{...ie.permissions,isManager:!1}}:{...ie,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,viewWholesalePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...ie,permissions:{...ie.permissions,[Se]:!ie.permissions[Se]}}:ie)}))},Ce=()=>{F&&(n(xe=>({...xe,staffList:xe.staffList.filter(Se=>Se.id!==F)})),L(null),I(null))},le=t.role==="admin"||t.permissions.isManager;return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsx("h1",{className:"text-xl font-bold",children:""}),d.jsx("div",{className:"w-10"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[le&&d.jsxs(d.Fragment,{children:[d.jsx(X1,{title:"  ",icon:d.jsx(Lae,{}),children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),d.jsx("div",{className:"space-y-3",children:(r.staffList||[]).map(xe=>d.jsxs("div",{onClick:()=>I(xe),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${xe.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:xe.name.charAt(0)}),d.jsxs("div",{className:"text-right",children:[d.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[xe.name,xe.permissions.isManager&&d.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),d.jsx("span",{className:"text-[9px] text-gray-500",children:xe.phone})]})]}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:d.jsx("path",{d:"m9 18 6-6-6-6"})})]},xe.id))}),d.jsxs("button",{onClick:()=>b(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),d.jsx(X1,{title:"  ()",icon:d.jsx(Pae,{}),children:d.jsxs("div",{className:"space-y-4",children:[d.jsx(pA,{label:"  ",value:r.loginPhone,onChange:xe=>D("loginPhone",xe)}),d.jsx(pA,{label:"  ",value:r.loginPassword,onChange:xe=>D("loginPassword",xe)})]})})]}),d.jsx(X1,{title:" ",icon:d.jsx(Qae,{}),children:d.jsxs("button",{onClick:Q,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[d.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),d.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),d.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),d.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),d.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),d.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]})}),le&&d.jsx(X1,{title:" ",icon:d.jsx(Hae,{}),children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?d.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),d.jsx("circle",{cx:"9",cy:"9",r:"2"}),d.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),d.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[d.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:M}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 20h9"}),d.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),d.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),d.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[d.jsx(pA,{label:"  ",value:r.userName,onChange:xe=>D("userName",xe)}),d.jsx(pA,{label:" ",value:r.businessName,onChange:xe=>D("businessName",xe)}),d.jsx("div",{className:"md:col-span-2",children:d.jsx(pA,{label:"   ()",value:r.specialOrderLabel||" ",onChange:xe=>D("specialOrderLabel",xe)})})]})]})}),d.jsx("div",{className:"pt-4 md:col-span-2",children:d.jsxs("button",{onClick:h,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[d.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),d.jsx("polyline",{points:"16 17 21 12 16 7"}),d.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),d.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:d.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.1.0"})})]}),_&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("button",{onClick:()=>b(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-xl font-black",children:" "})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(pA,{label:" ",value:W.name,onChange:xe=>P({...W,name:xe})}),d.jsx(pA,{label:" ",value:W.phone,onChange:xe=>P({...W,phone:xe})}),d.jsx(pA,{label:" ",value:W.password,onChange:xe=>P({...W,password:xe})})]}),d.jsx("button",{onClick:j,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),T&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("button",{onClick:()=>I(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",T.name]})]}),d.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[d.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:d.jsx(ba,{label:"  (Full Admin)",description:"     ",enabled:((de=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:de.permissions.isManager)||!1,onToggle:()=>V(T.id,"isManager")})}),d.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),d.jsx(ba,{label:"  ",description:"      ",enabled:((ne=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:ne.permissions.viewAllWork)||!1,onToggle:()=>V(T.id,"viewAllWork")}),d.jsx(ba,{label:"  ()",description:"      ",enabled:((De=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:De.permissions.manageDebt)||!1,onToggle:()=>V(T.id,"manageDebt")}),d.jsx(ba,{label:"  ",description:"      ",enabled:((he=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:he.permissions.editProducts)||!1,onToggle:()=>V(T.id,"editProducts")}),d.jsx(ba,{label:" ",description:"    ",enabled:((Le=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:Le.permissions.createInvoices)||!1,onToggle:()=>V(T.id,"createInvoices")}),d.jsx(ba,{label:" ",description:"    ",enabled:((Ze=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:Ze.permissions.viewNotifications)||!1,onToggle:()=>V(T.id,"viewNotifications")}),d.jsx(ba,{label:"  ",description:"      ()",enabled:((Z=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:Z.permissions.viewAdminInvoices)||!1,onToggle:()=>V(T.id,"viewAdminInvoices")}),d.jsx(ba,{label:"  ",description:"     ",enabled:((ge=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:ge.permissions.viewPurchasePrice)||!1,onToggle:()=>V(T.id,"viewPurchasePrice")}),d.jsx(ba,{label:"  ",description:"      ",enabled:((ce=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:ce.permissions.viewWholesalePrice)||!1,onToggle:()=>V(T.id,"viewWholesalePrice")}),d.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),d.jsx(ba,{label:"  ",description:"   (Supplier Invoices)",enabled:((se=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:se.permissions.manageSuppliers)||!1,onToggle:()=>V(T.id,"manageSuppliers")}),d.jsx(ba,{label:"  (Demand)",description:"   (Client Requests)",enabled:((fe=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:fe.permissions.manageRequests)||!1,onToggle:()=>V(T.id,"manageRequests")}),d.jsx(ba,{label:"  ",description:"    ",enabled:((je=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:je.permissions.manageCheckbook)||!1,onToggle:()=>V(T.id,"manageCheckbook")}),d.jsx(ba,{label:"  ",description:"    (Special Orders)",enabled:((ye=(r.staffList||[]).find(xe=>xe.id===T.id))==null?void 0:ye.permissions.manageSpecialOrders)||!1,onToggle:()=>V(T.id,"manageSpecialOrders")})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("button",{onClick:()=>I(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>L(T.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),F&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),d.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsx("p",{className:"text-sm text-gray-400",children:"       "}),d.jsx("p",{className:"text-[10px] text-orange-500 font-bold mt-2",children:":              ."})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:Ce,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>L(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),m&&d.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[d.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[d.jsx("button",{onClick:G,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-lg font-bold",children:" "}),d.jsx("div",{className:"w-10"})]}),d.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[d.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),d.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:d.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),d.jsx("button",{onClick:G,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),k&&d.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[d.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[k.name," - ",k.date]}),d.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:k.id})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{R(null),s(k)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>R(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[d.jsx(q1,{onClick:e,icon:d.jsx(Vae,{}),label:""}),d.jsx(q1,{onClick:A,icon:d.jsx(jae,{}),label:""}),d.jsx("div",{className:"relative -top-6",children:d.jsx("button",{onClick:u,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:d.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),d.jsx(q1,{onClick:c,icon:d.jsx(Gae,{}),label:""}),d.jsx(q1,{onClick:()=>{},icon:d.jsx(Kae,{}),label:"",active:!0})]})]})},X1=({title:t,icon:e,children:r})=>d.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),d.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),r]}),pA=({label:t,value:e,onChange:r,type:n="text"})=>d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),d.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:i=>r(i.target.value)})]}),ba=({label:t,description:e,enabled:r,onToggle:n})=>d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),d.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),d.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:d.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),q1=({icon:t,label:e,active:r=!1,onClick:n})=>d.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx("div",{className:r?"scale-110":"",children:t}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),Lae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Pae=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Qae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Hae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),d.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),d.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),Vae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),d.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),jae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),Gae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Kae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),zae=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:i,invoices:a,generalPayments:s,onAddGeneralPayment:A,onDeleteGeneralPayment:c,onDeleteCustomer:u,onProcessPayment:h,onEditInvoice:m,settings:v})=>{const[_,b]=me.useState(""),[T,I]=me.useState(null),[k,R]=me.useState(null),F=me.useRef(null),L=me.useRef(!1),[W,P]=me.useState(null),[N,M]=me.useState("full"),[D,Q]=me.useState(""),[G,j]=me.useState("direct"),[V,Ce]=me.useState(""),[le,de]=me.useState("direct"),[ne,De]=me.useState(null),[he,Le]=me.useState(!1),Ze=me.useRef(null),[Z,ge]=me.useState(!1),ce=me.useRef(null),se=me.useMemo(()=>{const we=new Map;return a.forEach(Ee=>{const qe=we.get(Ee.name)||{name:Ee.name,phone:Ee.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:Ee.date,lastInvoiceTimestamp:Ee.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};qe.totalPurchased+=Ee.amount,qe.totalPaid+=Ee.paidAmount,qe.totalDebt+=Ee.remainingAmount,qe.invoiceCount+=1,qe.invoices.push(Ee),Ee.createdAt>=qe.lastInvoiceTimestamp&&(qe.lastInvoiceDate=Ee.date,qe.lastInvoiceTimestamp=Ee.createdAt,Ee.phone&&(qe.phone=Ee.phone)),we.set(Ee.name,qe)}),s.forEach(Ee=>{const qe=we.get(Ee.customerName);if(qe)qe.totalDebt-=Ee.amount,qe.totalPaid+=Ee.amount,qe.generalPayments||(qe.generalPayments=[]),qe.generalPayments.push(Ee);else{const st={name:Ee.customerName,totalPurchased:0,totalPaid:Ee.amount,totalDebt:-Ee.amount,lastInvoiceDate:Ee.date,lastInvoiceTimestamp:Ee.timestamp,invoiceCount:0,invoices:[],generalPayments:[Ee]};we.set(Ee.customerName,st)}}),Array.from(we.values()).filter(Ee=>Ee.name.includes(_)).sort((Ee,qe)=>qe.lastInvoiceTimestamp-Ee.lastInvoiceTimestamp)},[a,s,_]),fe=me.useMemo(()=>T&&se.find(we=>we.name===T)||null,[se,T]);me.useEffect(()=>{T&&window.scrollTo({top:0,behavior:"smooth"})},[T]);const je=we=>{L.current=!1,F.current=setTimeout(()=>{L.current=!0,(t.role==="admin"||t.permissions.isManager)&&(R(we),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},ye=()=>{F.current&&(clearTimeout(F.current),F.current=null)},xe=()=>{k&&u&&(u(k),R(null))},Se=we=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(we),it=()=>{if(!W)return;const we=N==="full"?W.remainingAmount:parseFloat(D)||0;we>0&&(h(W.id,we,G),P(null),Q(""),M("full"))},ie=()=>{const we=parseFloat(V);if(!we||we<=0||!fe)return;const Ee={id:`gen-pay-${Date.now()}`,customerName:fe.name,amount:we,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:le};A(Ee),Ce(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},lt=()=>{ne&&(c(ne),De(null))},yt=async()=>{if(!(!fe||!Ze.current)){Le(!0);try{(await hc(Ze.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ee=>{if(!Ee){Le(!1),alert("  ");return}try{const qe=new ClipboardItem({"image/png":Ee});await navigator.clipboard.write([qe]);let st=fe.phone?fe.phone.replace(/\D/g,""):"";(st.startsWith("06")||st.startsWith("07")||st.startsWith("05"))&&(st="212"+st.substring(1));const qt=st?`https://wa.me/${st}`:"https://wa.me/";window.open(qt,"_blank")}catch(qe){console.error("Clipboard write failed:",qe),alert("   ."),window.open("https://wa.me/","_blank")}finally{Le(!1)}},"image/png",1)}catch(we){console.error("Error creating debt image:",we),Le(!1)}}},wt=async()=>{if(!(!fe||!ce.current)){ge(!0);try{(await hc(ce.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ee=>{if(!Ee){ge(!1),alert("  ");return}try{const qe=new ClipboardItem({"image/png":Ee});await navigator.clipboard.write([qe]);let st=fe.phone?fe.phone.replace(/\D/g,""):"";(st.startsWith("06")||st.startsWith("07")||st.startsWith("05"))&&(st="212"+st.substring(1));const qt=st?`https://wa.me/${st}`:"https://wa.me/";window.open(qt,"_blank")}catch(qe){console.error("Clipboard write failed:",qe),alert("   ."),window.open("https://wa.me/","_blank")}finally{ge(!1)}},"image/png",1)}catch(we){console.error("Error creating summary image:",we),ge(!1)}}};return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[fe&&d.jsxs("div",{ref:Ze,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:v.businessName}),d.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),d.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),d.jsxs("div",{style:{marginBottom:"25px"},children:[d.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),d.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:fe.name}),fe.phone&&d.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:fe.phone})]}),d.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[d.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),d.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[Se(fe.totalDebt)," ",d.jsx("span",{style:{fontSize:"18px"},children:"DH"})]})]}),d.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:d.jsxs("p",{children:["   - ",v.signatureName||"MAMA App"]})})]}),fe&&d.jsxs("div",{ref:ce,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:v.businessName}),d.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),d.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",fe.name]}),d.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[d.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),d.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),d.jsx("tbody",{children:fe.invoices.sort((we,Ee)=>we.createdAt-Ee.createdAt).map((we,Ee)=>d.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[d.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:we.date}),d.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:Se(we.amount)})]},Ee))})]}),d.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),d.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Se(fe.totalPurchased)," ."]})]}),fe.generalPayments&&fe.generalPayments.length>0&&d.jsxs("div",{style:{marginTop:"20px"},children:[d.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[d.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),d.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),d.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),d.jsx("tbody",{children:fe.generalPayments.sort((we,Ee)=>we.timestamp-Ee.timestamp).map((we,Ee)=>d.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[d.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(we.date).toLocaleDateString("ar-MA")}),d.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:we.method==="direct"?"":""}),d.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:Se(we.amount)})]},Ee))})]})]}),d.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[d.jsx("span",{style:{fontWeight:"bold"},children:" :"}),d.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[Se(fe.totalPaid)," ."]})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[d.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),d.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[Se(fe.totalDebt)," DH"]})]})]}),d.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:d.jsx("p",{children:v.signatureName||"MAMA App"})})]}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),d.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),d.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:_,onChange:we=>b(we.target.value)}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),d.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:se.length>0?se.map(we=>{const Ee=we.totalPurchased>0?Math.max(0,we.totalDebt)/we.totalPurchased*100:0;return d.jsxs("div",{onMouseDown:()=>je(we.name),onMouseUp:ye,onMouseLeave:ye,onTouchStart:()=>je(we.name),onTouchEnd:ye,onClick:()=>!L.current&&I(we.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:d.jsx("span",{className:"text-xl font-black",children:we.name.charAt(0)})}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:we.name}),d.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",we.lastInvoiceDate]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),d.jsxs("div",{className:"text-sm font-black text-white",children:[Se(we.totalPurchased)," ."]})]}),d.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),d.jsxs("div",{className:`text-sm font-black ${we.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[Se(we.totalDebt)," ."]})]})]}),we.totalPurchased>0&&d.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full transition-all duration-1000 ${we.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,Ee)}%`}})})]},we.name)}):d.jsx("div",{className:"text-center py-20 text-gray-600",children:d.jsx("p",{className:"font-bold",children:"    "})})}),fe&&d.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[d.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[d.jsx("button",{onClick:()=>{I(null),Ce("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsx("h2",{className:"text-xl font-bold",children:"  "}),d.jsx("div",{className:"w-10"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:fe.name.charAt(0)}),d.jsx("h3",{className:"text-2xl font-black",children:fe.name}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[fe.phone&&d.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),d.jsx("a",{href:`tel:${fe.phone}`,children:fe.phone})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[fe.invoiceCount," "]}),d.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${fe.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[d.jsxs("span",{className:`text-[10px] font-bold px-2 ${fe.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",Se(fe.totalDebt)," ."]}),fe.totalDebt>0&&d.jsx("button",{onClick:yt,disabled:he,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${he?"opacity-50 cursor-wait":""}`,children:he?d.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),fe.totalDebt>0&&t.permissions.manageDebt&&d.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[d.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("path",{d:"M12 2v20"}),d.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),d.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:V,onChange:we=>Ce(we.target.value)}),d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),d.jsx("button",{onClick:()=>de(we=>we==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${le==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:le==="direct"?"":""})]}),parseFloat(V)>0&&d.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",d.jsxs("span",{className:"text-white font-bold",children:[Se(Math.max(0,fe.totalDebt-parseFloat(V)))," ."]})]}),d.jsxs("button",{onClick:ie,disabled:!V||parseFloat(V)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${V?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),fe.generalPayments&&fe.generalPayments.length>0&&d.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[d.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),d.jsx("div",{className:"space-y-3",children:fe.generalPayments.sort((we,Ee)=>Ee.timestamp-we.timestamp).map(we=>d.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-white font-black text-sm",children:[Se(we.amount)," ."]}),d.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[d.jsx("span",{children:new Date(we.date).toLocaleDateString("ar-MA")}),d.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",we.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&d.jsx("button",{onClick:()=>De(we.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},we.id))})]}),d.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),d.jsx("div",{className:"space-y-3",children:fe.invoices.sort((we,Ee)=>Ee.createdAt-we.createdAt).map(we=>d.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-black text-white",children:we.id}),d.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${we.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":we.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:we.type==="paid"?"":we.type==="partial"?" ":""})]}),d.jsx("span",{className:"text-[10px] text-gray-500",children:we.date})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[we.type!=="paid"&&t.permissions.manageDebt&&d.jsx("button",{onClick:()=>P(we),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:d.jsx("span",{className:"text-[10px] font-bold",children:" "})}),d.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>m(we),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 20h9"}),d.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),d.jsx("span",{className:"text-[10px] font-black text-white",children:Se(we.amount)})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),d.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:Se(we.paidAmount)})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),d.jsx("span",{className:"text-[10px] font-black text-red-500",children:Se(we.remainingAmount)})]})]}),we.payments&&we.payments.length>0&&d.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[d.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),we.payments.map((Ee,qe)=>d.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[d.jsx("span",{className:"text-gray-400",children:new Date(Ee.timestamp).toLocaleDateString("ar-MA")}),d.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",Se(Ee.amount)," . (",Ee.method==="direct"?"":"",")"]})]},qe))]})]},we.id))})]})]}),d.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[d.jsx("button",{onClick:()=>{I(null),Ce("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),d.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:d.jsx("button",{onClick:wt,disabled:Z||fe.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${Z?"opacity-50 cursor-wait":""}`,children:Z?d.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),k&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),d.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),d.jsxs("p",{className:"text-sm text-gray-400",children:["      ",d.jsx("span",{className:"text-white font-bold",children:k}),"    "]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:xe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),d.jsx("button",{onClick:()=>R(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),ne&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:lt,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>De(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),W&&d.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"16 12 12 8 8 12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),d.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",d.jsxs("span",{className:"text-red-500 font-black",children:[Se(W.remainingAmount)," ."]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[d.jsx("button",{onClick:()=>M("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${N==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),d.jsx("button",{onClick:()=>M("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${N==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),N==="partial"&&d.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),d.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:D,onChange:we=>Q(we.target.value),autoFocus:!0})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:()=>j("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${G==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),d.jsx("button",{onClick:()=>j("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${G==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("button",{onClick:it,disabled:N==="partial"&&(!D||parseFloat(D)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${N==="partial"&&(!D||parseFloat(D)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),d.jsx("button",{onClick:()=>P(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[d.jsx(Y1,{onClick:e,icon:d.jsx(Wae,{}),label:""}),d.jsx(Y1,{onClick:r,icon:d.jsx(Xae,{}),label:""}),d.jsx("div",{className:"relative -top-6",children:d.jsx("button",{disabled:!t.permissions.createInvoices,onClick:i,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),d.jsx(Y1,{icon:d.jsx(qae,{}),label:"",active:!0}),d.jsx(Y1,{onClick:n,icon:d.jsx(Yae,{}),label:""})]})]})},Y1=({icon:t,label:e,active:r=!1,onClick:n})=>d.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx("div",{className:r?"scale-110":"",children:t}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),Wae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),d.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Xae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),qae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Yae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Jae=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:i})=>{const[a,s]=me.useState("all"),A=me.useMemo(()=>a==="all"?e:e.filter(m=>m.type===a),[e,a]),c=me.useMemo(()=>({unread:e.filter(m=>!m.isRead).length,debt:e.filter(m=>m.type==="debt").length,stock:e.filter(m=>m.type==="stock").length,sale:e.filter(m=>m.type==="sale").length}),[e]),u=m=>{const v=Date.now()-m,_=Math.floor(v/6e4);if(_<1)return"";if(_<60)return` ${_} `;const b=Math.floor(_/60);return b<24?` ${b} `:new Date(m).toLocaleDateString("ar-MA")},h=m=>{switch(m){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}};return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[d.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[d.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h1",{className:"text-xl font-black",children:" "}),d.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",c.unread,"  "]})]}),d.jsx("button",{onClick:n,className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),d.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[d.jsx(J1,{active:a==="all",label:"",count:e.length,onClick:()=>s("all"),color:"gray"}),d.jsx(J1,{active:a==="debt",label:"",count:c.debt,onClick:()=>s("debt"),color:"red"}),d.jsx(J1,{active:a==="stock",label:"",count:c.stock,onClick:()=>s("stock"),color:"orange"}),d.jsx(J1,{active:a==="sale",label:"",count:c.sale,onClick:()=>s("sale"),color:"green"})]}),d.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:d.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:A.length>0?A.map(m=>{const v=h(m.type);return d.jsxs("div",{onClick:()=>i(m.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${m.isRead?"bg-[#111111] border-gray-800/40":`${v.bg} ${v.border} shadow-lg shadow-black/20`}`,children:[!m.isRead&&d.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${v.dot} animate-pulse shadow-lg`}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${v.iconBg} ${v.iconColor} shadow-inner`,children:[m.type==="debt"&&d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 2v20"}),d.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),m.type==="stock"&&d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),m.type==="sale"&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),d.jsxs("div",{className:"flex-1 text-right space-y-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:u(m.timestamp)}),d.jsx("h4",{className:`text-base font-black ${m.isRead?"text-gray-200":"text-white"}`,children:m.title})]}),d.jsx("p",{className:`text-xs leading-relaxed ${m.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:m.message})]})]})]},m.id)}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[d.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),d.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),d.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[d.jsx($1,{onClick:t,icon:d.jsx($ae,{}),label:""}),d.jsx($1,{onClick:()=>{},icon:d.jsx(Zae,{}),label:""}),d.jsx("div",{className:"relative -top-6",children:d.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),d.jsx($1,{onClick:()=>{},icon:d.jsx(ese,{}),label:""}),d.jsx($1,{onClick:()=>{},icon:d.jsx(tse,{}),label:""})]})]})},J1=({active:t,label:e,count:r,onClick:n,color:i})=>{const a={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return d.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${a[i]}`,children:[e,d.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},$1=({icon:t,label:e,onClick:r})=>d.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[d.jsx("div",{className:"",children:t}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),$ae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),d.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Zae=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),ese=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),tse=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),rse=({currentUser:t,onNavigateToHome:e,onAddInvoice:r,onUpdateInvoice:n,onDeleteInvoice:i,onDeleteSupplier:a,invoices:s})=>{const[A,c]=me.useState(!1),[u,h]=me.useState(null),[m,v]=me.useState(null),[_,b]=me.useState(""),T=me.useRef(null),I=me.useRef(!1),[k,R]=me.useState(null),[F,L]=me.useState(!1),W=me.useRef(null),P=me.useRef(null),[N,M]=me.useState(null),[D,Q]=me.useState([]),[G,j]=me.useState(null),[V,Ce]=me.useState([]),[le,de]=me.useState(null),ne=me.useRef(null),De=me.useRef(null),he=me.useRef(null),[Le,Ze]=me.useState(null),[Z,ge]=me.useState(""),[ce,se]=me.useState(""),[fe,je]=me.useState(""),[ye,xe]=me.useState(""),[Se,it]=me.useState(new Date().toISOString().split("T")[0]),[ie,lt]=me.useState(new Date().toISOString().split("T")[0]),yt=me.useMemo(()=>{const oe=new Map;return s.forEach(Fe=>{const Ve=oe.get(Fe.supplierName)||{name:Fe.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:Fe.date,invoiceCount:0,invoices:[]},_e=Fe.amount-(Fe.paidAmount||0);Ve.totalAmount+=Fe.amount,Ve.totalPaid+=Fe.paidAmount||0,Ve.totalRemaining+=_e,Ve.invoiceCount+=1,Ve.invoices.push(Fe),new Date(Fe.date)>new Date(Ve.lastInvoiceDate)&&(Ve.lastInvoiceDate=Fe.date),oe.set(Fe.supplierName,Ve)}),Array.from(oe.values()).filter(Fe=>Fe.name.includes(_)).sort((Fe,Ve)=>new Date(Ve.lastInvoiceDate).getTime()-new Date(Fe.lastInvoiceDate).getTime())},[s,_]),wt=me.useMemo(()=>m&&yt.find(oe=>oe.name===m)||null,[yt,m]),we=oe=>{I.current=!1,T.current=setTimeout(()=>{I.current=!0,(t.role==="admin"||t.permissions.isManager)&&(R(oe),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50))},600)},Ee=()=>{T.current&&(clearTimeout(T.current),T.current=null)},qe=()=>{k&&(a(k.name),R(null))};me.useEffect(()=>()=>{P.current&&P.current.getTracks().forEach(oe=>oe.stop())},[]);const st=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}L(!0);try{const oe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});P.current=oe,W.current&&(W.current.srcObject=oe,W.current.onloadedmetadata=()=>{var Fe;(Fe=W.current)==null||Fe.play().catch(Ve=>console.error("Play error",Ve))})}catch(oe){console.error("Camera access error:",oe),L(!1);let Fe="  .";(oe.name==="NotAllowedError"||oe.name==="PermissionDeniedError")&&(Fe="    ."),alert(Fe)}},qt=()=>{P.current&&(P.current.getTracks().forEach(oe=>oe.stop()),P.current=null),W.current&&(W.current.srcObject=null),L(!1)},Ge=()=>{if(W.current){const oe=document.createElement("canvas");oe.width=W.current.videoWidth,oe.height=W.current.videoHeight;const Fe=oe.getContext("2d");if(Fe){Fe.drawImage(W.current,0,0);const Ve=oe.toDataURL("image/jpeg",.9);M(Ve),qt()}}};me.useEffect(()=>{if(N&&De.current){ne.current&&ne.current.destroy();const oe=new Cropper(De.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ne.current=oe}return()=>{ne.current&&(ne.current.destroy(),ne.current=null)}},[N]);const vr=oe=>{const Fe=oe.target.files;if(Fe&&Fe.length>0){const Ve=[];Array.from(Fe).forEach(_e=>{Ve.push(new Promise(tt=>{const dt=new FileReader;dt.onloadend=()=>tt(dt.result),dt.readAsDataURL(_e)}))}),Promise.all(Ve).then(_e=>{M(_e[0]),Ce(_e.slice(1))})}oe.target.value=""},Xr=()=>{if(ne.current){const Fe=ne.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);Q(Ve=>[...Ve,Fe]),V.length>0?(M(V[0]),Ce(Ve=>Ve.slice(1))):M(null)}},Ke=()=>{V.length>0?(M(V[0]),Ce(oe=>oe.slice(1))):M(null)},ht=oe=>{Q(Fe=>Fe.filter((Ve,_e)=>_e!==oe))},ct=oe=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(oe),Ot=()=>{ge(m||""),se(""),je(""),xe(""),Q([]),Ce([]),lt(new Date().toISOString().split("T")[0]),it(new Date().toISOString().split("T")[0]),Ze(null)},Yt=oe=>{Ze(oe.id),ge(oe.supplierName),se(oe.amount.toString()),je(oe.paidAmount?oe.paidAmount.toString():""),xe(""),it(new Date().toISOString().split("T")[0]),lt(oe.date),oe.images&&oe.images.length>0?Q(oe.images):oe.image?Q([oe.image]):Q([]),c(!0)},Kt=()=>{if(!Z||!ce)return;const oe=parseFloat(fe)||0,Fe=parseFloat(ye)||0,Ve=oe+Fe,_e=s.find(Wt=>Wt.id===Le);let tt=(_e==null?void 0:_e.payments)||[];!Le&&Ve>0?tt=[{id:`pay-${Date.now()}`,amount:Ve,timestamp:new Date(ie).getTime(),method:"direct"}]:Le&&Fe>0&&(tt=[...tt,{id:`pay-${Date.now()}`,amount:Fe,timestamp:new Date(Se).getTime(),method:"direct"}]);const dt={id:Le||`sup-${Date.now()}`,supplierName:Z,amount:parseFloat(ce),paidAmount:Ve,date:ie,image:D.length>0?D[0]:void 0,images:D,createdAt:Le&&(_e==null?void 0:_e.createdAt)||Date.now(),payments:tt};Le?n(dt):r(dt),c(!1),Ot()},Pe=yt.reduce((oe,Fe)=>oe+Fe.totalRemaining,0);return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),d.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),d.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[d.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[d.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),d.jsxs("span",{className:"text-xl font-black text-red-500",children:[ct(Pe)," ."]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:_,onChange:oe=>b(oe.target.value)}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:yt.length>0?yt.map(oe=>d.jsxs("div",{onMouseDown:()=>we(oe),onMouseUp:Ee,onMouseLeave:Ee,onTouchStart:()=>we(oe),onTouchEnd:Ee,onClick:()=>!I.current&&v(oe.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:d.jsx("span",{className:"text-xl font-black",children:oe.name.charAt(0)})}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:oe.name}),d.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",oe.invoiceCount]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[d.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),d.jsx("div",{className:"text-sm font-black text-white",children:ct(oe.totalAmount)})]}),d.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[d.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),d.jsx("div",{className:`text-sm font-black ${oe.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:ct(oe.totalRemaining)})]})]}),d.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,oe.totalRemaining/Math.max(1,oe.totalAmount)*100)}%`}})})]},oe.name)):d.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),d.jsx("p",{children:"    "})]})}),k&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"  "}),d.jsxs("p",{className:"text-sm text-gray-400",children:["      ",d.jsx("span",{className:"text-white font-bold",children:k.name}),"   (",k.invoiceCount,") "]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:qe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:"  "}),d.jsx("button",{onClick:()=>R(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),d.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:d.jsxs("button",{onClick:()=>{Ot(),c(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d.jsx("span",{children:"  "})]})}),wt&&d.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:d.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[d.jsx("button",{onClick:()=>v(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})}),d.jsx("h2",{className:"text-xl font-bold",children:"  "}),d.jsx("div",{className:"w-10"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:wt.name.charAt(0)}),d.jsx("h3",{className:"text-2xl font-black",children:wt.name}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",ct(wt.totalRemaining)," ."]}),d.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[wt.invoiceCount," "]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),d.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:wt.invoices.sort((oe,Fe)=>new Date(Fe.date).getTime()-new Date(oe.date).getTime()).map(oe=>{const Fe=oe.amount-(oe.paidAmount||0);return d.jsxs("div",{onClick:()=>h(oe),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6"})]})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white font-bold text-sm",children:oe.date}),d.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",ct(oe.paidAmount||0)]})]})]}),d.jsxs("div",{className:"text-left",children:[d.jsxs("div",{className:"text-white font-black text-sm",children:[ct(oe.amount)," ."]}),d.jsx("div",{className:`text-[10px] font-bold ${Fe>0?"text-red-500":"text-green-500"}`,children:Fe>0?`: ${ct(Fe)}`:""})]})]},oe.id)})})]})]}),d.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:d.jsx("button",{onClick:()=>v(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),u&&d.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[d.jsx("button",{onClick:()=>h(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),d.jsxs("div",{className:"text-center space-y-1",children:[d.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6"}),d.jsx("path",{d:"M16 13H8"}),d.jsx("path",{d:"M16 17H8"}),d.jsx("path",{d:"M10 9H8"})]})}),d.jsx("h3",{className:"text-2xl font-black text-white",children:u.supplierName}),d.jsx("p",{className:"text-sm text-gray-500 font-bold",children:u.date})]}),d.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),d.jsx("span",{className:"text-lg font-black text-white",children:ct(u.amount)})]}),d.jsx("div",{className:"w-full h-px bg-gray-800"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),d.jsx("span",{className:"text-sm font-black text-[#57b385]",children:ct(u.paidAmount||0)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),d.jsx("span",{className:`text-sm font-black ${u.amount-(u.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:ct(u.amount-(u.paidAmount||0))})]})]}),u.images&&u.images.length>0&&d.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.images.map((oe,Fe)=>d.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>j(oe),children:d.jsx("img",{src:oe,alt:"Bon",className:"w-full h-full object-cover"})},Fe))}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>Yt(u),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),d.jsx("button",{onClick:()=>{i(u.id),h(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),F&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[d.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[d.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:d.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),d.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[d.jsx("button",{onClick:qt,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),d.jsx("button",{onClick:Ge,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20",children:d.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),d.jsx("div",{className:"w-14"})]})]})}),A&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-black text-white mb-1",children:Le?" ":"  "}),d.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),D.length>0&&d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:D.map((oe,Fe)=>d.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[d.jsx("img",{src:oe,alt:`Img ${Fe}`,className:"w-full h-full object-cover"}),d.jsx("button",{onClick:()=>ht(Fe),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},Fe))}),d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsxs("button",{onClick:st,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-2",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:""})]}),d.jsxs("div",{onClick:()=>{var oe;return(oe=he.current)==null?void 0:oe.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),d.jsx("input",{ref:he,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:vr})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:Z,onChange:oe=>ge(oe.target.value),autoFocus:!0})]}),d.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:ce,onChange:oe=>se(oe.target.value)})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:Le?" ":" "}),d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:fe,onChange:oe=>je(oe.target.value),readOnly:!!Le})]})]}),Le&&d.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[d.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),d.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:ye,onChange:oe=>xe(oe.target.value),placeholder:"0.00"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:ie,onChange:oe=>lt(oe.target.value)})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("button",{onClick:Kt,disabled:!Z||!ce,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),d.jsx("button",{onClick:()=>{c(!1),Ot()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),N&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[d.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:d.jsx("img",{ref:De,src:N,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),d.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[d.jsx("button",{onClick:Xr,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),d.jsx("button",{onClick:Ke,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),G&&d.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>j(null),children:[d.jsx("img",{src:G,alt:"Full",className:"max-w-full max-h-full object-contain"}),d.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},nse=({onNavigateToHome:t,requests:e,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:i,settings:a})=>{var Xr;const[s,A]=me.useState(!1),[c,u]=me.useState(null),[h,m]=me.useState(""),[v,_]=me.useState(null),[b,T]=me.useState(!1),[I,k]=me.useState([]),R=me.useRef(null),F=me.useRef(null),[L,W]=me.useState(""),[P,N]=me.useState([]),[M,D]=me.useState(null),[Q,G]=me.useState([]),[j,V]=me.useState(null),[Ce,le]=me.useState(null),[de,ne]=me.useState(!1),[De,he]=me.useState(!1),Le=me.useRef(null),Ze=me.useRef(null),Z=me.useRef(null),ge=me.useRef(null),ce=me.useRef(null);me.useEffect(()=>()=>{F.current&&F.current.getTracks().forEach(Ke=>Ke.stop())},[]);const se=async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("    .");return}k([]),T(!0);try{const Ke=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});F.current=Ke,R.current&&(R.current.srcObject=Ke,R.current.onloadedmetadata=()=>{var ht;(ht=R.current)==null||ht.play().catch(ct=>console.error("Play error",ct))})}catch(Ke){console.error("Camera access error:",Ke),T(!1);let ht="  .";(Ke.name==="NotAllowedError"||Ke.name==="PermissionDeniedError")&&(ht="    .      ."),alert(ht)}},fe=()=>{F.current&&(F.current.getTracks().forEach(Ke=>Ke.stop()),F.current=null),R.current&&(R.current.srcObject=null),T(!1)},je=()=>{if(R.current){const Ke=document.createElement("canvas");Ke.width=R.current.videoWidth,Ke.height=R.current.videoHeight;const ht=Ke.getContext("2d");if(ht){ht.drawImage(R.current,0,0);const ct=Ke.toDataURL("image/jpeg",.9);k(Ot=>[...Ot,ct]),navigator.vibrate&&navigator.vibrate(50)}}},ye=()=>{I.length>0&&(D(I[0]),G(I.slice(1))),fe()};me.useEffect(()=>{if(M&&ce.current){ge.current&&ge.current.destroy();const Ke=new Cropper(ce.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});ge.current=Ke}return()=>{ge.current&&(ge.current.destroy(),ge.current=null)}},[M]);const xe=me.useMemo(()=>e.filter(Ke=>Ke.status==="pending").filter(Ke=>Ke.productName.toLowerCase().includes(h.toLowerCase())),[e,h]),Se=()=>{W(""),N([]),G([]),_(null)},it=()=>{Se(),A(!0)},ie=Ke=>{_(Ke.id),W(Ke.productName),Ke.images&&Ke.images.length>0?N(Ke.images):Ke.image?N([Ke.image]):N([]),A(!0),u(null)},lt=Ke=>{const ht=Ke.target.files;if(ht&&ht.length>0){const ct=[];Array.from(ht).forEach(Ot=>{ct.push(new Promise(Yt=>{const Kt=new FileReader;Kt.onloadend=()=>Yt(Kt.result),Kt.readAsDataURL(Ot)}))}),Promise.all(ct).then(Ot=>{D(Ot[0]),G(Ot.slice(1))})}Ke.target.value=""},yt=()=>{if(ge.current){const ht=ge.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);N(ct=>[...ct,ht]),Q.length>0?(D(Q[0]),G(ct=>ct.slice(1))):D(null)}},wt=()=>{Q.length>0?(D(Q[0]),G(Ke=>Ke.slice(1))):D(null)},we=Ke=>{N(ht=>ht.filter((ct,Ot)=>Ot!==Ke))},Ee=()=>{var ht;if(!L)return;const Ke={id:v||`req-${Date.now()}`,productName:L,image:P.length>0?P[0]:void 0,images:P,status:"pending",createdAt:v&&((ht=e.find(ct=>ct.id===v))==null?void 0:ht.createdAt)||Date.now()};v?n(Ke):r(Ke),A(!1),Se()},qe=()=>{Ce&&(i(Ce),le(null),u(null))},st=async()=>{if(!(!c||!Ze.current)){ne(!0);try{(await hc(Ze.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async ht=>{if(!ht){ne(!1),alert("  ");return}try{const ct=new ClipboardItem({"image/png":ht});await navigator.clipboard.write([ct]),window.open("https://wa.me/","_blank")}catch(ct){console.error("Clipboard failed",ct),alert("       ."),window.open("https://wa.me/","_blank")}finally{ne(!1)}},"image/png",1)}catch(Ke){console.error("Share error",Ke),ne(!1)}}},qt=async()=>{if(!(xe.length===0||!Le.current)){he(!0);try{(await hc(Le.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async ht=>{if(!ht){he(!1),alert("  ");return}try{const ct=new ClipboardItem({"image/png":ht});await navigator.clipboard.write([ct]),window.open("https://wa.me/","_blank")}catch(ct){console.error("Clipboard failed",ct),window.open("https://wa.me/","_blank")}finally{he(!1)}},"image/png",1)}catch(Ke){console.error("Share error",Ke),he(!1)}}},Ge=()=>{if(!c)return;const Ke=window.open("","_blank");if(!Ke){alert("   ");return}const ht=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>  - ${c.productName}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 40px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px; }
            .content { margin-top: 30px; font-size: 24px; text-align: center; }
            .images { display: grid; grid-template-cols: 1fr 1fr; gap: 20px; margin-top: 30px; }
            img { width: 100%; border-radius: 12px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${a.businessName}</h3>
            <h1> </h1>
            <p>: ${new Date(c.createdAt).toLocaleDateString("ar-MA")}</p>
          </div>
          <div class="content">
            <strong> :</strong>
            <p>${c.productName}</p>
          </div>
          <div class="images">
            ${(c.images||[]).map(ct=>`<img src="${ct}" />`).join("")}
          </div>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Ke.document.write(ht),Ke.document.close()},vr=()=>{if(xe.length===0)return;const Ke=window.open("","_blank");if(!Ke){alert("   ");return}const ht=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 30px; direction: rtl; }
            .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            th { background: #f4f4f4; padding: 12px; border: 1px solid #ddd; text-align: right; }
            td { padding: 12px; border: 1px solid #ddd; }
            .date { font-size: 12px; color: #666; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${a.businessName}</h3>
            <h1>  </h1>
            <p class="date"> : ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th> </th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              ${xe.map((ct,Ot)=>`
                <tr>
                  <td>${Ot+1}</td>
                  <td><strong>${ct.productName}</strong></td>
                  <td>${new Date(ct.createdAt).toLocaleDateString("ar-MA")}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;Ke.document.write(ht),Ke.document.close()};return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[d.jsxs("div",{ref:Ze,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:a.businessName}),d.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:" "}),d.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",c?new Date(c.createdAt).toLocaleDateString("ar-MA"):""]})]}),d.jsxs("div",{style:{padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #eee",textAlign:"center"},children:[d.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"5px"},children:"  :"}),d.jsx("h2",{style:{fontSize:"24px",fontWeight:"900",margin:0},children:c==null?void 0:c.productName})]})]}),d.jsxs("div",{ref:Le,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:a.businessName}),d.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),d.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[d.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),d.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"14px",width:"30%"},children:""})]})}),d.jsx("tbody",{children:xe.map((Ke,ht)=>d.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[d.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:Ke.productName}),d.jsx("td",{style:{padding:"12px 10px",fontSize:"14px",textAlign:"center"},children:" "})]},ht))})]}),d.jsx("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:d.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",xe.length]})})]}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),d.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"    "})]}),d.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"relative group md:max-w-2xl md:mx-auto",children:[d.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3.5 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:h,onChange:Ke=>m(Ke.target.value)}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:max-w-2xl md:mx-auto w-full",children:xe.length>0?xe.map(Ke=>{var ht;return d.jsxs("div",{onClick:()=>u(Ke),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 p-4 flex items-center gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer w-full hover:border-gray-600 shadow-lg shadow-black/20",children:[d.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-blue-500 overflow-hidden shadow-inner",children:Ke.image||Ke.images&&Ke.images.length>0?d.jsx("img",{src:((ht=Ke.images)==null?void 0:ht[0])||Ke.image,alt:"req",className:"w-full h-full object-cover"}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),d.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),d.jsx("path",{d:"M12 11h4"}),d.jsx("path",{d:"M12 16h4"}),d.jsx("path",{d:"M8 11h.01"}),d.jsx("path",{d:"M8 16h.01"})]})}),d.jsxs("div",{className:"flex-1 text-right",children:[d.jsx("h3",{className:"text-lg font-black text-white leading-tight line-clamp-1",children:Ke.productName}),d.jsxs("p",{className:"text-[10px] text-gray-500 font-bold mt-1",children:[" : ",new Date(Ke.createdAt).toLocaleDateString("ar-MA")]})]}),d.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-600 group-hover:text-blue-500 transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]},Ke.id)}):d.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),d.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"})]}),d.jsx("p",{children:"   "})]})}),d.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[d.jsx("button",{onClick:vr,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:"  ",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),d.jsx("button",{onClick:qt,disabled:De,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${De?"opacity-50 cursor-wait":""}`,title:"  ",children:De?d.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:d.jsxs("button",{onClick:it,className:"pointer-events-auto bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d.jsx("span",{children:"  "})]})}),c&&d.jsx("div",{className:"fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[d.jsx("button",{onClick:()=>u(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})}),d.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{onClick:()=>{var ht;const Ke=((ht=c.images)==null?void 0:ht[0])||c.image;Ke&&V(Ke)},className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] mx-auto flex items-center justify-center text-blue-500 border border-blue-500/20 shadow-2xl overflow-hidden cursor-pointer active:scale-95 transition-transform",children:c.image||c.images&&c.images.length>0?d.jsx("img",{src:((Xr=c.images)==null?void 0:Xr[0])||c.image,alt:"req",className:"w-full h-full object-cover"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})})}),d.jsx("h3",{className:"text-2xl font-black text-white",children:c.productName}),d.jsx("p",{className:"text-sm text-gray-500 font-bold bg-black/40 px-4 py-1.5 rounded-full inline-block",children:new Date(c.createdAt).toLocaleDateString("ar-MA")})]}),c.images&&c.images.length>1&&d.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.images.slice(1).map((Ke,ht)=>d.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800 cursor-pointer active:scale-95 transition-transform",onClick:()=>V(Ke),children:d.jsx("img",{src:Ke,alt:"req",className:"w-full h-full object-cover"})},ht))}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:st,disabled:de,className:`bg-[#25D366] text-white py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all ${de?"opacity-50":""}`,children:[de?d.jsx("svg",{className:"animate-spin",width:"20",height:"20",viewBox:"0 0 24 24",children:d.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),""]}),d.jsxs("button",{onClick:Ge,className:"bg-white text-black py-4 rounded-2xl font-black shadow-lg flex items-center justify-center gap-2 active:scale-95",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),""]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsx("button",{onClick:()=>ie(c),className:"bg-orange-500/10 text-orange-500 border border-orange-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-orange-500 hover:text-white transition-all",children:" "}),d.jsx("button",{onClick:()=>le(c.id),className:"bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 hover:bg-red-500 hover:text-white transition-all",children:" "})]})]})]})}),s&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-black text-white mb-1",children:v?" ":" "}),d.jsx("p",{className:"text-xs text-gray-500",children:"      "})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  ()"}),P.length>0&&d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:P.map((Ke,ht)=>d.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[d.jsx("img",{src:Ke,alt:`Img ${ht}`,className:"w-full h-full object-cover"}),d.jsx("button",{onClick:()=>we(ht),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},ht))}),d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsxs("button",{onClick:se,className:"flex-1 h-16 bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 flex flex-col items-center justify-center hover:border-blue-500/50 transition-all text-blue-500 gap-1 active:scale-95",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),d.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:""})]}),d.jsx("div",{onClick:()=>{var Ke;return(Ke=Z.current)==null?void 0:Ke.click()},className:"flex-[1.5] h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex flex-col items-center justify-center relative overflow-hidden group active:scale-95",children:d.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500 group-hover:text-blue-500 transition-colors",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),d.jsx("span",{className:"text-[10px] font-bold",children:" "})]})})]}),d.jsx("input",{ref:Z,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:lt})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-widest",children:"  "}),d.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-3 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:L,onChange:Ke=>W(Ke.target.value),placeholder:"  ...",autoFocus:!0})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("button",{onClick:Ee,disabled:!L,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${L?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:v?" ":" "}),d.jsx("button",{onClick:()=>A(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),b&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full h-full relative flex flex-col",children:[d.jsxs("div",{className:"flex-1 relative overflow-hidden bg-black flex items-center justify-center",children:[d.jsx("video",{ref:R,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),I.length>0&&d.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 bg-blue-600 px-4 py-1.5 rounded-full border-2 border-white shadow-lg animate-bounce",children:d.jsxs("span",{className:"text-sm font-black text-white",children:[I.length,"  "]})}),d.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:d.jsx("div",{className:"w-72 h-[450px] border-2 border-white/30 rounded-[2rem] shadow-[0_0_0_1000px_rgba(0,0,0,0.5)]"})})]}),d.jsxs("div",{className:"p-10 bg-black flex justify-between items-center px-12 border-t border-white/10",children:[d.jsx("button",{onClick:fe,className:"w-14 h-14 bg-white/10 rounded-full flex items-center justify-center text-white active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})}),d.jsx("button",{onClick:je,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-black active:scale-90 transition-all border-[6px] border-white/20 relative",children:d.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-black"})}),I.length>0?d.jsx("button",{onClick:ye,className:"w-14 h-14 bg-[#57b385] rounded-full flex items-center justify-center text-white active:scale-90 transition-all shadow-xl shadow-green-900/40",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})}):d.jsx("div",{className:"w-14"})]})]})}),M&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[d.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:d.jsx("img",{ref:ce,src:M,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),d.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("button",{onClick:yt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:Q.length>0?` (${Q.length+1} )`:" "})}),d.jsx("div",{className:"flex-1",children:d.jsx("button",{onClick:wt,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:Q.length>0?"":""})})]})]})}),Ce&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:qe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>le(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),j&&d.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>V(null),children:[d.jsx("img",{src:j,alt:"Full",className:"max-w-full max-h-full object-contain shadow-2xl"}),d.jsx("button",{className:"absolute top-10 right-6 p-4 bg-white/10 rounded-full text-white backdrop-blur-md active:scale-90 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},ise=({onNavigateToHome:t,checks:e,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:i,settings:a})=>{const[s,A]=me.useState("primary"),[c,u]=me.useState(!1),[h,m]=me.useState(""),[v,_]=me.useState(null),[b,T]=me.useState(null),[I,k]=me.useState(!1),R=me.useRef(null),[F,L]=me.useState(null),[W,P]=me.useState(new Date().toISOString().split("T")[0]),[N,M]=me.useState(""),[D,Q]=me.useState(""),[G,j]=me.useState(new Date().toISOString().split("T")[0]),[V,Ce]=me.useState(""),le=new Date().toISOString().split("T")[0],de=me.useMemo(()=>s==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[s]),ne=me.useMemo(()=>e.filter(ye=>{if((ye.checkbookType||"primary")!==s||!(ye.name.includes(h)||ye.amount.toString().includes(h)||ye.serialNumber&&ye.serialNumber.includes(h)))return!1;if(b!==null)try{if(parseInt(ye.paymentDate.split("-")[1],10)!==b)return!1}catch{return!1}return!0}),[e,h,b,s]),De=me.useMemo(()=>ne.reduce((ye,xe)=>xe.paymentDate<le?ye:ye+xe.amount,0),[ne,le]),he=()=>{const ye=new Date;if(P(ye.toISOString().split("T")[0]),M(""),Q(""),b!==null){const xe=ye.getFullYear(),Se=new Date(xe,b,0).getDate(),it=Math.min(ye.getDate(),Se),ie=b.toString().padStart(2,"0"),lt=it.toString().padStart(2,"0");j(`${xe}-${ie}-${lt}`)}else j(ye.toISOString().split("T")[0]);Ce(""),_(null)},Le=()=>{he(),u(!0)},Ze=ye=>{_(ye.id),P(ye.creationDate),M(ye.name),Q(ye.amount.toString()),j(ye.paymentDate),Ce(ye.serialNumber||""),u(!0)},Z=()=>{var xe;if(!N||!D)return;const ye={id:v||`chk-${Date.now()}`,creationDate:W,name:N,amount:parseFloat(D),paymentDate:G,serialNumber:V,checkbookType:s,createdAt:v&&((xe=e.find(Se=>Se.id===v))==null?void 0:xe.createdAt)||Date.now()};v?n(ye):r(ye),u(!1),he()},ge=()=>{F&&(i(F),L(null),u(!1),he())},ce=()=>{if(ne.length===0){alert("   ");return}const ye=window.open("","_blank");if(!ye){alert("   ");return}const xe=b?` ${b}`:" ",Se=s==="primary"?"  1":"  2",it=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${a.businessName}</h3>
                <h2>   - ${Se}</h2>
                <p>: ${xe}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${ne.map(ie=>{const lt=ie.paymentDate<le;return`
                        <tr>
                            <td>${ie.name} ${lt?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${ie.paymentDate}</td>
                            <td class="amount-col">${ie.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${De.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;ye.document.write(it),ye.document.close()},se=async()=>{if(ne.length!==0&&R.current){k(!0);try{(await hc(R.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async xe=>{if(!xe){alert("  "),k(!1);return}try{const Se=new ClipboardItem({"image/png":xe});await navigator.clipboard.write([Se]),window.open("https://wa.me/","_blank")}catch(Se){console.error("Clipboard failed",Se),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{k(!1)}},"image/png",1)}catch(ye){console.error("Error generating report image",ye),k(!1),alert("    ")}}},fe=b?` ${b}`:" ",je=s==="primary"?"  1":"  2";return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[d.jsxs("div",{ref:R,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:a.businessName}),d.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",je,")"]}),d.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",fe]}),d.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[d.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),d.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),d.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),d.jsx("tbody",{children:ne.map((ye,xe)=>{const Se=ye.paymentDate<le;return d.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:Se?"#f0fff4":"transparent"},children:[d.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[ye.name,Se&&d.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),d.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:ye.paymentDate}),d.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:ye.amount.toFixed(2)})]},xe)})})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[d.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),d.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[De.toFixed(2)," ."]})]})]}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),d.jsxs("span",{className:`text-[10px] ${de.accentColor} font-bold transition-colors`,children:[de.name," -  "]})]}),d.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),d.jsx("div",{className:"px-6 pb-4 md:pt-4",children:d.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[d.jsx("button",{onClick:()=>A("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${s==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),d.jsx("button",{onClick:()=>A("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${s==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),d.jsx("div",{className:"px-6 pb-4",children:d.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-8 h-8 ${de.lightBg} rounded-lg flex items-center justify-center ${de.accentColor} transition-colors`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("path",{d:"M12 2v20"}),d.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",de.name]}),d.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),d.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[De.toFixed(2)," ",d.jsx("span",{className:`text-xs ${de.accentColor}`,children:"."})]})]})}),d.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${de.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:h,onChange:ye=>m(ye.target.value)}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),d.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[d.jsx("button",{onClick:()=>T(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${b===null?`${de.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(ye,xe)=>xe+1).map(ye=>d.jsx("button",{onClick:()=>T(ye===b?null:ye),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${b===ye?`${de.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:ye},ye))]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:ne.length>0?ne.map(ye=>{const xe=ye.paymentDate<le;return d.jsxs("div",{onClick:()=>Ze(ye),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${xe?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${xe?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${de.accentColor}`}`,children:xe?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M20 6 9 17l-5-5"})}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),d.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${xe?"text-green-100":"text-white"}`,children:ye.name}),ye.serialNumber&&d.jsxs("span",{className:`text-[10px] ${de.lightBg} ${de.lightText} px-1.5 py-0.5 rounded border ${de.borderLight} font-mono`,children:["#",ye.serialNumber]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",ye.paymentDate]}),xe&&d.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:`text-lg font-black ${xe?"text-green-500":"text-white"}`,children:ye.amount.toFixed(2)}),d.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),d.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),d.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:d.jsxs("span",{children:[" : ",ye.creationDate]})})]},ye.id)}):d.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),d.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),d.jsx("p",{children:"   "})]})}),d.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[d.jsx("button",{onClick:ce,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),d.jsx("button",{onClick:se,disabled:I,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${I?"opacity-50 cursor-wait":""}`,title:"   ",children:I?d.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:d.jsxs("button",{onClick:Le,className:`pointer-events-auto ${de.btnBg} text-white px-8 py-4 rounded-full font-black ${de.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d.jsx("span",{children:" "})]})}),c&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-black text-white mb-1",children:v?" ":" "}),d.jsx("p",{className:`text-xs ${de.accentColor} font-bold`,children:de.name})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${de.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:W,onChange:ye=>P(ye.target.value)})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${de.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:V,onChange:ye=>Ce(ye.target.value),placeholder:"  "})]})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),d.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${de.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:N,onChange:ye=>M(ye.target.value),placeholder:"  ...",autoFocus:!0})]}),d.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),d.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${de.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:D,onChange:ye=>Q(ye.target.value),placeholder:"0.00"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),d.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${de.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:G,onChange:ye=>j(ye.target.value)})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{onClick:Z,disabled:!N||!D,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!N||!D?"bg-gray-800 opacity-50":`${de.btnBg}`}`,children:""})}),v&&d.jsx("button",{onClick:()=>L(v),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),d.jsx("button",{onClick:()=>u(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),F&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:ge,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>L(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},ase=({onNavigateToHome:t,orders:e,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:i,settings:a})=>{const[s,A]=me.useState(!1),[c,u]=me.useState(""),[h,m]=me.useState(null),[v,_]=me.useState(null),[b,T]=me.useState([]),[I,k]=me.useState(""),[R,F]=me.useState(""),[L,W]=me.useState(!1),P=me.useRef(null),N=me.useMemo(()=>e.filter(ne=>{const De=ne.items.some(Le=>Le.name.includes(c)),he=ne.productName&&ne.productName.includes(c);return De||he}).sort((ne,De)=>De.createdAt-ne.createdAt),[e,c]),M=()=>{T([]),k(""),F(""),m(null)},D=()=>{M(),A(!0)},Q=ne=>{m(ne.id),k(""),F(""),ne.items&&ne.items.length>0?T([...ne.items]):ne.productName?T([{id:`legacy-${Date.now()}`,name:ne.productName,quantity:ne.quantity||1}]):T([]),A(!0)},G=()=>{if(!I||!R)return;const ne={id:`item-${Date.now()}-${Math.random()}`,name:I,quantity:parseFloat(R)};T(De=>[...De,ne]),k(""),F("")},j=ne=>{T(De=>De.filter(he=>he.id!==ne))},V=()=>{var De;if(b.length===0)return;const ne={id:h||`ord-${Date.now()}`,items:b,productName:void 0,quantity:void 0,status:"pending",createdAt:h&&((De=e.find(he=>he.id===h))==null?void 0:De.createdAt)||Date.now()};h?n(ne):r(ne),A(!1),M()},Ce=()=>{v&&(i(v),_(null),A(!1),M())},le=()=>{if(b.length===0)return;const ne=window.open("","_blank");if(!ne){alert("   ");return}const De=a.specialOrderLabel||" ",he=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${De}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${a.businessName}</h3>
            <h2>${De}</h2>
            <p>: ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <ul>
            ${b.map(Le=>`<li><span>${Le.name}</span><span>${Le.quantity}</span></li>`).join("")}
          </ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;ne.document.write(he),ne.document.close()},de=async()=>{if(!(b.length===0||!P.current)){W(!0);try{(await hc(P.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async De=>{if(!De){W(!1),alert("  ");return}try{const he=new ClipboardItem({"image/png":De});await navigator.clipboard.write([he]),window.open("https://wa.me/","_blank")}catch(he){console.error("Clipboard write failed:",he),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{W(!1)}},"image/png",1)}catch(ne){console.error("Error generating image:",ne),W(!1)}}};return d.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[s&&d.jsxs("div",{ref:P,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[d.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[d.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:a.businessName}),d.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:a.specialOrderLabel||" "}),d.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),d.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[d.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),d.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:""})]})}),d.jsx("tbody",{children:b.map((ne,De)=>d.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[d.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:ne.name}),d.jsx("td",{style:{padding:"12px 10px",fontSize:"20px",fontWeight:"900",textAlign:"center"},children:ne.quantity})]},De))})]}),d.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[d.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:[" : ",b.length]}),d.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),d.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),d.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),d.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),d.jsx("div",{className:"px-6 py-4",children:d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:c,onChange:ne=>u(ne.target.value)}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:N.length>0?N.map(ne=>d.jsxs("div",{onClick:()=>Q(ne),className:"bg-[#111111] rounded-2xl border border-gray-800/60 p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-12 h-12 min-w-[48px] bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-rose-500 mt-1",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h3",{className:"font-black text-sm text-gray-400 mb-1",children:new Date(ne.createdAt).toLocaleDateString("ar-MA")}),d.jsxs("div",{className:"space-y-1",children:[ne.items.slice(0,2).map((De,he)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-white font-bold text-sm",children:De.name}),d.jsxs("span",{className:"text-[10px] text-rose-500 bg-rose-500/10 px-1.5 py-0.5 rounded font-mono",children:["x",De.quantity]})]},he)),ne.items.length>2&&d.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",ne.items.length-2,"  ..."]})]})]})]}),d.jsx("div",{className:"bg-[#1a1a1a] px-2 py-1 rounded-lg border border-gray-800",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:d.jsx("path",{d:"m15 18-6-6 6-6"})})})]},ne.id)):d.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),d.jsx("p",{children:"    "})]})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:d.jsxs("button",{onClick:D,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),d.jsx("span",{children:"  "})]})}),s&&d.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"text-center flex-shrink-0",children:[d.jsx("h3",{className:"text-xl font-black text-white mb-1",children:h?" ":"  "}),d.jsx("p",{className:"text-xs text-rose-500 font-bold",children:"   "})]}),d.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0",children:[d.jsx("div",{className:"flex-1 space-y-1",children:d.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:I,onChange:ne=>k(ne.target.value),placeholder:" ...",onKeyDown:ne=>ne.key==="Enter"&&G()})}),d.jsx("div",{className:"w-20 space-y-1",children:d.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:R,onChange:ne=>F(ne.target.value),placeholder:"",onKeyDown:ne=>ne.key==="Enter"&&G()})}),d.jsx("button",{onClick:G,disabled:!I||!R,className:`w-12 h-[46px] rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!I||!R?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:b.length>0?b.map(ne=>d.jsxs("div",{className:"flex justify-between items-center bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>j(ne.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),d.jsx("span",{className:"text-white font-bold text-sm",children:ne.name})]}),d.jsx("span",{className:"text-rose-500 bg-rose-500/10 px-2 py-1 rounded font-mono font-bold text-xs",children:ne.quantity})]},ne.id)):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),d.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),d.jsx("p",{children:"  "})]})}),d.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:V,disabled:b.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${b.length===0?"bg-gray-800 opacity-50":"bg-rose-600 hover:bg-rose-500"}`,children:""}),d.jsx("button",{onClick:le,disabled:b.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",title:"",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[d.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),d.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),d.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),d.jsx("button",{onClick:de,disabled:b.length===0||L,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${L?"opacity-50 cursor-wait":""}`,title:"  ",children:L?d.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),d.jsxs("div",{className:"flex gap-2",children:[h&&d.jsx("button",{onClick:()=>_(h),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),d.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),v&&d.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:d.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),d.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),d.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:Ce,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),d.jsx("button",{onClick:()=>_(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})};var sse={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ose,Ase;function lse(){return{geminiUrl:ose,vertexUrl:Ase}}function cse(t,e,r,n){var i,a;if(!(t!=null&&t.baseUrl)){const s=lse();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA{}function ft(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function C(t,e,r){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const A=s.slice(0,-2);if(!(A in t))if(Array.isArray(r))t[A]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[A])){const c=t[A];if(Array.isArray(r))for(let u=0;u<c.length;u++){const h=c[u];C(h,e.slice(a+1),r[u])}else for(const u of c)C(u,e.slice(a+1),r)}return}else if(s.endsWith("[0]")){const A=s.slice(0,-3);A in t||(t[A]=[{}]);const c=t[A];C(c[0],e.slice(a+1),r);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function w(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(A=>w(A,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function use(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),a=n.split("."),s=new Set;let A=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){A=c;break}if(A!==-1&&a.length>A)for(let c=A;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}ty(t,i,a,0,s)}}function ty(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const a=e[n];if(a.endsWith("[]")){const s=a.slice(0,-2),A=t;if(s in A&&Array.isArray(A[s]))for(const c of A[s])ty(c,e,r,n+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,A=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of A)c[u]=s[u];for(const[u,h]of Object.entries(c)){const m=[];for(const v of r.slice(n))v==="*"?m.push(u):m.push(v);C(s,m,h)}for(const u of A)delete s[u]}}else{const s=t;a in s&&ty(s[a],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fse(t){const e={},r=w(t,["operationName"]);r!=null&&C(e,["operationName"],r);const n=w(t,["resourceName"]);return n!=null&&C(e,["_url","resourceName"],n),e}function hse(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response","generateVideoResponse"]);return s!=null&&C(e,["response"],gse(s)),e}function dse(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response"]);return s!=null&&C(e,["response"],pse(s)),e}function gse(t){const e={},r=w(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>mse(s))),C(e,["generatedVideos"],a)}const n=w(t,["raiMediaFilteredCount"]);n!=null&&C(e,["raiMediaFilteredCount"],n);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function pse(t){const e={},r=w(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>xse(s))),C(e,["generatedVideos"],a)}const n=w(t,["raiMediaFilteredCount"]);n!=null&&C(e,["raiMediaFilteredCount"],n);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function mse(t){const e={},r=w(t,["video"]);return r!=null&&C(e,["video"],_se(r)),e}function xse(t){const e={},r=w(t,["_self"]);return r!=null&&C(e,["video"],Bse(r)),e}function vse(t){const e={},r=w(t,["operationName"]);return r!=null&&C(e,["_url","operationName"],r),e}function wse(t){const e={},r=w(t,["operationName"]);return r!=null&&C(e,["_url","operationName"],r),e}function yse(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response"]);return s!=null&&C(e,["response"],Ese(s)),e}function Ese(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["parent"]);n!=null&&C(e,["parent"],n);const i=w(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function Pk(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response"]);return s!=null&&C(e,["response"],Cse(s)),e}function Cse(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["parent"]);n!=null&&C(e,["parent"],n);const i=w(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function _se(t){const e={},r=w(t,["uri"]);r!=null&&C(e,["uri"],r);const n=w(t,["encodedVideo"]);n!=null&&C(e,["videoBytes"],a_(n));const i=w(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function Bse(t){const e={},r=w(t,["gcsUri"]);r!=null&&C(e,["uri"],r);const n=w(t,["bytesBase64Encoded"]);n!=null&&C(e,["videoBytes"],a_(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wS||(wS={}));var yS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yS||(yS={}));var ES;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ES||(ES={}));var PA;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(PA||(PA={}));var CS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(CS||(CS={}));var _S;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_S||(_S={}));var BS;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(BS||(BS={}));var bS;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bS||(bS={}));var TS;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TS||(TS={}));var SS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SS||(SS={}));var IS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(IS||(IS={}));var NS;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(NS||(NS={}));var FS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(FS||(FS={}));var RS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(RS||(RS={}));var DS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(DS||(DS={}));var kS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(kS||(kS={}));var US;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(US||(US={}));var MS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(MS||(MS={}));var OS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(OS||(OS={}));var LS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(LS||(LS={}));var PS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(PS||(PS={}));var Up;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Up||(Up={}));var QS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QS||(QS={}));var HS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(HS||(HS={}));var VS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VS||(VS={}));var ry;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ry||(ry={}));var jS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jS||(jS={}));var GS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(GS||(GS={}));var ny;(function(t){t.COLLECTION="COLLECTION"})(ny||(ny={}));var KS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(KS||(KS={}));var zS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zS||(zS={}));var WS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(WS||(WS={}));var XS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(XS||(XS={}));var qS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(qS||(qS={}));var YS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(YS||(YS={}));var JS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(JS||(JS={}));var $S;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($S||($S={}));var ZS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZS||(ZS={}));var eI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(eI||(eI={}));var tI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tI||(tI={}));var rI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(rI||(rI={}));var nI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(nI||(nI={}));var iI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(iI||(iI={}));var aI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(aI||(aI={}));var sI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(sI||(sI={}));var oI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(oI||(oI={}));var AI;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AI||(AI={}));var lI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(lI||(lI={}));var cI;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cI||(cI={}));var uI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(uI||(uI={}));var fI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(fI||(fI={}));var hI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hI||(hI={}));var dI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dI||(dI={}));var gI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gI||(gI={}));var pI;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(pI||(pI={}));var mI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(mI||(mI={}));var Du;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Du||(Du={}));class iy{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class df{get text(){var e,r,n,i,a,s,A,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1;const m=[];for(const v of(c=(A=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||A===void 0?void 0:A.parts)!==null&&c!==void 0?c:[]){for(const[_,b]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(b!==null||b!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,u+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var e,r,n,i,a,s,A,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const h=[];for(const m of(c=(A=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||A===void 0?void 0:A.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,r,n,i,a,s,A,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(A=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||A===void 0?void 0:A.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,r,n,i,a,s,A,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(A=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||A===void 0?void 0:A.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,r,n,i,a,s,A,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(A=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||A===void 0?void 0:A.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.output}}class xI{}class vI{}class bse{}class Tse{}class Sse{}class Ise{}class wI{}class yI{}class EI{}class Nse{}class Mp{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Mp;let i;const a=e;return r?i=dse(a):i=hse(a),Object.assign(n,i),n}}class CI{}class _I{}class BI{}class bI{}class Fse{}class Rse{}class Dse{}class s_{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new s_,a=yse(e);return Object.assign(n,a),n}}class kse{}class Use{}class Mse{}class TI{}class Ose{get text(){var e,r,n;let i="",a=!1;const s=[];for(const A of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(A))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;a=!0,i+=A.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const s of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[A,c]of Object.entries(s))A!=="inlineData"&&c!==null&&a.push(A);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Lse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class o_{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new o_,a=Pk(e);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qk(t,e){const r=gr(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function Hk(t){return Array.isArray(t)?t.map(e=>Op(e)):[Op(t)]}function Op(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Vk(t){const e=Op(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jk(t){const e=Op(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SI(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Gk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>SI(e)):[SI(t)]}function ay(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function II(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function NI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ri(t){if(t==null)throw new Error("ContentUnion is required");return ay(t)?t:{role:"user",parts:Gk(t)}}function A_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=Ri(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=Ri(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>Ri(r)):[Ri(e)]}function hs(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(II(t)||NI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ri(t)]}const e=[],r=[],n=ay(t[0]);for(const i of t){const a=ay(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(II(i)||NI(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:Gk(r)}),e}function Pse(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(PA).includes(r[0].toUpperCase())?r[0].toUpperCase():PA.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(PA).includes(n.toUpperCase())?n.toUpperCase():PA.TYPE_UNSPECIFIED})}}function Xu(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Pse(t.type,e);for(const[s,A]of Object.entries(t))if(A!=null)if(s=="type"){if(A==="null")throw new Error("type: null can not be the only possible type for the field.");if(A instanceof Array)continue;e.type=Object.values(PA).includes(A.toUpperCase())?A.toUpperCase():PA.TYPE_UNSPECIFIED}else if(r.includes(s))e[s]=Xu(A);else if(n.includes(s)){const c=[];for(const u of A){if(u.type=="null"){e.nullable=!0;continue}c.push(Xu(u))}e[s]=c}else if(i.includes(s)){const c={};for(const[u,h]of Object.entries(A))c[u]=Xu(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=A}return e}function l_(t){return Xu(t)}function c_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function u_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function M0(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xu(e.response));return t}function O0(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function Qse(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function oA(t,e){if(typeof e!="string")throw new Error("name must be a string");return Qse(t,e,"cachedContents")}function Kk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wl(t){return a_(t)}function Hse(t){return t!=null&&typeof t=="object"&&"name"in t}function Vse(t){return t!=null&&typeof t=="object"&&"video"in t}function jse(t){return t!=null&&typeof t=="object"&&"uri"in t}function zk(t){var e;let r;if(Hse(t)&&(r=t.name),!(jse(t)&&(r=t.uri,r===void 0))&&!(Vse(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Wk(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function Xk(t){for(const e of["models","tunedModels","publisherModels"])if(Gse(t,e))return t[e];return[]}function Gse(t,e){return t!==null&&typeof t=="object"&&e in t}function Kse(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function zse(t,e={}){const r=[],n=new Set;for(const i of t){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=Kse(i,e);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function qk(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Wse(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Yk(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function L0(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function Jk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xse(t){const e={},r=w(t,["responsesFile"]);r!=null&&C(e,["fileName"],r);const n=w(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Soe(s))),C(e,["inlinedResponses"],a)}const i=w(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["inlinedEmbedContentResponses"],a)}return e}function qse(t){const e={},r=w(t,["predictionsFormat"]);r!=null&&C(e,["format"],r);const n=w(t,["gcsDestination","outputUriPrefix"]);n!=null&&C(e,["gcsUri"],n);const i=w(t,["bigqueryDestination","outputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function Yse(t){const e={},r=w(t,["format"]);r!=null&&C(e,["predictionsFormat"],r);const n=w(t,["gcsUri"]);n!=null&&C(e,["gcsDestination","outputUriPrefix"],n);const i=w(t,["bigqueryUri"]);if(i!=null&&C(e,["bigqueryDestination","outputUri"],i),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(w(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sg(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata","displayName"]);n!=null&&C(e,["displayName"],n);const i=w(t,["metadata","state"]);i!=null&&C(e,["state"],Jk(i));const a=w(t,["metadata","createTime"]);a!=null&&C(e,["createTime"],a);const s=w(t,["metadata","endTime"]);s!=null&&C(e,["endTime"],s);const A=w(t,["metadata","updateTime"]);A!=null&&C(e,["updateTime"],A);const c=w(t,["metadata","model"]);c!=null&&C(e,["model"],c);const u=w(t,["metadata","output"]);return u!=null&&C(e,["dest"],Xse(Yk(u))),e}function sy(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["displayName"]);n!=null&&C(e,["displayName"],n);const i=w(t,["state"]);i!=null&&C(e,["state"],Jk(i));const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["createTime"]);s!=null&&C(e,["createTime"],s);const A=w(t,["startTime"]);A!=null&&C(e,["startTime"],A);const c=w(t,["endTime"]);c!=null&&C(e,["endTime"],c);const u=w(t,["updateTime"]);u!=null&&C(e,["updateTime"],u);const h=w(t,["model"]);h!=null&&C(e,["model"],h);const m=w(t,["inputConfig"]);m!=null&&C(e,["src"],Jse(m));const v=w(t,["outputConfig"]);v!=null&&C(e,["dest"],qse(Yk(v)));const _=w(t,["completionStats"]);return _!=null&&C(e,["completionStats"],_),e}function Jse(t){const e={},r=w(t,["instancesFormat"]);r!=null&&C(e,["format"],r);const n=w(t,["gcsSource","uris"]);n!=null&&C(e,["gcsUri"],n);const i=w(t,["bigquerySource","inputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function $se(t,e){const r={};if(w(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=w(e,["fileName"]);n!=null&&C(r,["fileName"],n);const i=w(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Toe(t,s))),C(r,["requests","requests"],a)}return r}function Zse(t){const e={},r=w(t,["format"]);r!=null&&C(e,["instancesFormat"],r);const n=w(t,["gcsUri"]);n!=null&&C(e,["gcsSource","uris"],n);const i=w(t,["bigqueryUri"]);if(i!=null&&C(e,["bigquerySource","inputUri"],i),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eoe(t){const e={},r=w(t,["data"]);if(r!=null&&C(e,["data"],r),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function toe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function roe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function noe(t){const e={},r=w(t,["content"]);r!=null&&C(e,["content"],r);const n=w(t,["citationMetadata"]);n!=null&&C(e,["citationMetadata"],ioe(n));const i=w(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const a=w(t,["finishReason"]);a!=null&&C(e,["finishReason"],a);const s=w(t,["avgLogprobs"]);s!=null&&C(e,["avgLogprobs"],s);const A=w(t,["groundingMetadata"]);A!=null&&C(e,["groundingMetadata"],A);const c=w(t,["index"]);c!=null&&C(e,["index"],c);const u=w(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const h=w(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),C(e,["safetyRatings"],v)}const m=w(t,["urlContextMetadata"]);return m!=null&&C(e,["urlContextMetadata"],m),e}function ioe(t){const e={},r=w(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),C(e,["citations"],n)}return e}function $k(t){const e={},r=w(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Uoe(a))),C(e,["parts"],i)}const n=w(t,["role"]);return n!=null&&C(e,["role"],n),e}function aoe(t,e){const r={},n=w(t,["displayName"]);if(e!==void 0&&n!=null&&C(e,["batch","displayName"],n),w(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function soe(t,e){const r={},n=w(t,["displayName"]);e!==void 0&&n!=null&&C(e,["displayName"],n);const i=w(t,["dest"]);return e!==void 0&&i!=null&&C(e,["outputConfig"],Yse(Wse(i))),r}function FI(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["src"]);i!=null&&C(r,["batch","inputConfig"],$se(t,qk(t,i)));const a=w(e,["config"]);return a!=null&&aoe(a,r),r}function ooe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["model"],gr(t,n));const i=w(e,["src"]);i!=null&&C(r,["inputConfig"],Zse(qk(t,i)));const a=w(e,["config"]);return a!=null&&soe(a,r),r}function Aoe(t,e){const r={},n=w(t,["displayName"]);return e!==void 0&&n!=null&&C(e,["batch","displayName"],n),r}function loe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["src"]);i!=null&&C(r,["batch","inputConfig"],poe(t,i));const a=w(e,["config"]);return a!=null&&Aoe(a,r),r}function coe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function uoe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function foe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);return a!=null&&C(e,["error"],a),e}function hoe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);return a!=null&&C(e,["error"],a),e}function doe(t,e){const r={},n=w(e,["contents"]);if(n!=null){let a=A_(t,n);Array.isArray(a)&&(a=a.map(s=>s)),C(r,["requests[]","request","content"],a)}const i=w(e,["config"]);return i!=null&&(C(r,["_self"],goe(i,r)),use(r,{"requests[].*":"requests[].request.*"})),r}function goe(t,e){const r={},n=w(t,["taskType"]);e!==void 0&&n!=null&&C(e,["requests[]","taskType"],n);const i=w(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const a=w(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&C(e,["requests[]","outputDimensionality"],a),w(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function poe(t,e){const r={},n=w(e,["fileName"]);n!=null&&C(r,["file_name"],n);const i=w(e,["inlinedRequests"]);return i!=null&&C(r,["requests"],doe(t,i)),r}function moe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function xoe(t){const e={},r=w(t,["id"]);r!=null&&C(e,["id"],r);const n=w(t,["args"]);n!=null&&C(e,["args"],n);const i=w(t,["name"]);if(i!=null&&C(e,["name"],i),w(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function voe(t){const e={},r=w(t,["allowedFunctionNames"]);r!=null&&C(e,["allowedFunctionNames"],r);const n=w(t,["mode"]);if(n!=null&&C(e,["mode"],n),w(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function woe(t,e,r){const n={},i=w(e,["systemInstruction"]);r!==void 0&&i!=null&&C(r,["systemInstruction"],$k(Ri(i)));const a=w(e,["temperature"]);a!=null&&C(n,["temperature"],a);const s=w(e,["topP"]);s!=null&&C(n,["topP"],s);const A=w(e,["topK"]);A!=null&&C(n,["topK"],A);const c=w(e,["candidateCount"]);c!=null&&C(n,["candidateCount"],c);const u=w(e,["maxOutputTokens"]);u!=null&&C(n,["maxOutputTokens"],u);const h=w(e,["stopSequences"]);h!=null&&C(n,["stopSequences"],h);const m=w(e,["responseLogprobs"]);m!=null&&C(n,["responseLogprobs"],m);const v=w(e,["logprobs"]);v!=null&&C(n,["logprobs"],v);const _=w(e,["presencePenalty"]);_!=null&&C(n,["presencePenalty"],_);const b=w(e,["frequencyPenalty"]);b!=null&&C(n,["frequencyPenalty"],b);const T=w(e,["seed"]);T!=null&&C(n,["seed"],T);const I=w(e,["responseMimeType"]);I!=null&&C(n,["responseMimeType"],I);const k=w(e,["responseSchema"]);k!=null&&C(n,["responseSchema"],l_(k));const R=w(e,["responseJsonSchema"]);if(R!=null&&C(n,["responseJsonSchema"],R),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=w(e,["safetySettings"]);if(r!==void 0&&F!=null){let V=F;Array.isArray(V)&&(V=V.map(Ce=>Moe(Ce))),C(r,["safetySettings"],V)}const L=w(e,["tools"]);if(r!==void 0&&L!=null){let V=O0(L);Array.isArray(V)&&(V=V.map(Ce=>Loe(M0(Ce)))),C(r,["tools"],V)}const W=w(e,["toolConfig"]);if(r!==void 0&&W!=null&&C(r,["toolConfig"],Ooe(W)),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=w(e,["cachedContent"]);r!==void 0&&P!=null&&C(r,["cachedContent"],oA(t,P));const N=w(e,["responseModalities"]);N!=null&&C(n,["responseModalities"],N);const M=w(e,["mediaResolution"]);M!=null&&C(n,["mediaResolution"],M);const D=w(e,["speechConfig"]);if(D!=null&&C(n,["speechConfig"],c_(D)),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=w(e,["thinkingConfig"]);Q!=null&&C(n,["thinkingConfig"],Q);const G=w(e,["imageConfig"]);G!=null&&C(n,["imageConfig"],boe(G));const j=w(e,["enableEnhancedCivicAnswers"]);if(j!=null&&C(n,["enableEnhancedCivicAnswers"],j),w(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function yoe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>noe(u))),C(e,["candidates"],c)}const i=w(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const a=w(t,["promptFeedback"]);a!=null&&C(e,["promptFeedback"],a);const s=w(t,["responseId"]);s!=null&&C(e,["responseId"],s);const A=w(t,["usageMetadata"]);return A!=null&&C(e,["usageMetadata"],A),e}function Eoe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function Coe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],L0(t,n)),r}function _oe(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(t,["enableWidget"]);return r!=null&&C(e,["enableWidget"],r),e}function Boe(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(t,["timeRangeFilter"]);return r!=null&&C(e,["timeRangeFilter"],r),e}function boe(t){const e={},r=w(t,["aspectRatio"]);r!=null&&C(e,["aspectRatio"],r);const n=w(t,["imageSize"]);if(n!=null&&C(e,["imageSize"],n),w(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(w(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(w(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Toe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["request","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let A=hs(i);Array.isArray(A)&&(A=A.map(c=>$k(c))),C(r,["request","contents"],A)}const a=w(e,["metadata"]);a!=null&&C(r,["metadata"],a);const s=w(e,["config"]);return s!=null&&C(r,["request","generationConfig"],woe(t,s,w(r,["request"],{}))),r}function Soe(t){const e={},r=w(t,["response"]);r!=null&&C(e,["response"],yoe(r));const n=w(t,["error"]);return n!=null&&C(e,["error"],n),e}function Ioe(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);if(e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),w(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Noe(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const a=w(t,["filter"]);return e!==void 0&&a!=null&&C(e,["_query","filter"],a),r}function Foe(t){const e={},r=w(t,["config"]);return r!=null&&Ioe(r,e),e}function Roe(t){const e={},r=w(t,["config"]);return r!=null&&Noe(r,e),e}function Doe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Sg(s))),C(e,["batchJobs"],a)}return e}function koe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>sy(s))),C(e,["batchJobs"],a)}return e}function Uoe(t){const e={},r=w(t,["mediaResolution"]);r!=null&&C(e,["mediaResolution"],r);const n=w(t,["codeExecutionResult"]);n!=null&&C(e,["codeExecutionResult"],n);const i=w(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=w(t,["fileData"]);a!=null&&C(e,["fileData"],moe(a));const s=w(t,["functionCall"]);s!=null&&C(e,["functionCall"],xoe(s));const A=w(t,["functionResponse"]);A!=null&&C(e,["functionResponse"],A);const c=w(t,["inlineData"]);c!=null&&C(e,["inlineData"],eoe(c));const u=w(t,["text"]);u!=null&&C(e,["text"],u);const h=w(t,["thought"]);h!=null&&C(e,["thought"],h);const m=w(t,["thoughtSignature"]);m!=null&&C(e,["thoughtSignature"],m);const v=w(t,["videoMetadata"]);return v!=null&&C(e,["videoMetadata"],v),e}function Moe(t){const e={},r=w(t,["category"]);if(r!=null&&C(e,["category"],r),w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(t,["threshold"]);return n!=null&&C(e,["threshold"],n),e}function Ooe(t){const e={},r=w(t,["retrievalConfig"]);r!=null&&C(e,["retrievalConfig"],r);const n=w(t,["functionCallingConfig"]);return n!=null&&C(e,["functionCallingConfig"],voe(n)),e}function Loe(t){const e={};if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const n=w(t,["fileSearch"]);n!=null&&C(e,["fileSearch"],n);const i=w(t,["codeExecution"]);if(i!=null&&C(e,["codeExecution"],i),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),C(e,["functionDeclarations"],h)}const s=w(t,["googleMaps"]);s!=null&&C(e,["googleMaps"],_oe(s));const A=w(t,["googleSearch"]);A!=null&&C(e,["googleSearch"],Boe(A));const c=w(t,["googleSearchRetrieval"]);c!=null&&C(e,["googleSearchRetrieval"],c);const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Zo||(Zo={}));class Oc{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Poe extends sA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oc(Zo.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=FI(this.apiClient,e),n=r._url,i=ft("{model}:batchGenerateContent",n),A=r.batch.inputConfig.requests,c=A.requests,u=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}u.push(m)}return A.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=ooe(this.apiClient,e);return A=ft("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>sy(h))}else{const u=FI(this.apiClient,e);return A=ft("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Sg(h))}}async createEmbeddingsInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=loe(this.apiClient,e);return a=ft("{model}:asyncBatchEmbedContent",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Sg(c))}}async get(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Coe(this.apiClient,e);return A=ft("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>sy(h))}else{const u=Eoe(this.apiClient,e);return A=ft("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Sg(h))}}async cancel(e){var r,n,i,a;let s="",A={};if(this.apiClient.isVertexAI()){const c=roe(this.apiClient,e);s=ft("batchPredictionJobs/{name}:cancel",c._url),A=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=toe(this.apiClient,e);s=ft("batches/{name}:cancel",c._url),A=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:A,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Roe(e);return A=ft("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=koe(h),v=new TI;return Object.assign(v,m),v})}else{const u=Foe(e);return A=ft("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Doe(h),v=new TI;return Object.assign(v,m),v})}}async delete(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=uoe(this.apiClient,e);return A=ft("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>hoe(h))}else{const u=coe(this.apiClient,e);return A=ft("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>foe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qoe(t){const e={},r=w(t,["data"]);if(r!=null&&C(e,["data"],r),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function RI(t){const e={},r=w(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lAe(a))),C(e,["parts"],i)}const n=w(t,["role"]);return n!=null&&C(e,["role"],n),e}function Hoe(t,e){const r={},n=w(t,["ttl"]);e!==void 0&&n!=null&&C(e,["ttl"],n);const i=w(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const a=w(t,["displayName"]);e!==void 0&&a!=null&&C(e,["displayName"],a);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let h=hs(s);Array.isArray(h)&&(h=h.map(m=>RI(m))),C(e,["contents"],h)}const A=w(t,["systemInstruction"]);e!==void 0&&A!=null&&C(e,["systemInstruction"],RI(Ri(A)));const c=w(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>uAe(m))),C(e,["tools"],h)}const u=w(t,["toolConfig"]);if(e!==void 0&&u!=null&&C(e,["toolConfig"],cAe(u)),w(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Voe(t,e){const r={},n=w(t,["ttl"]);e!==void 0&&n!=null&&C(e,["ttl"],n);const i=w(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const a=w(t,["displayName"]);e!==void 0&&a!=null&&C(e,["displayName"],a);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let m=hs(s);Array.isArray(m)&&(m=m.map(v=>v)),C(e,["contents"],m)}const A=w(t,["systemInstruction"]);e!==void 0&&A!=null&&C(e,["systemInstruction"],Ri(A));const c=w(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>fAe(v))),C(e,["tools"],m)}const u=w(t,["toolConfig"]);e!==void 0&&u!=null&&C(e,["toolConfig"],u);const h=w(t,["kmsKeyName"]);return e!==void 0&&h!=null&&C(e,["encryption_spec","kmsKeyName"],h),r}function joe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["model"],Qk(t,n));const i=w(e,["config"]);return i!=null&&Hoe(i,r),r}function Goe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["model"],Qk(t,n));const i=w(e,["config"]);return i!=null&&Voe(i,r),r}function Koe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],oA(t,n)),r}function zoe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],oA(t,n)),r}function Woe(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function Xoe(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function qoe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function Yoe(t){const e={},r=w(t,["id"]);r!=null&&C(e,["id"],r);const n=w(t,["args"]);n!=null&&C(e,["args"],n);const i=w(t,["name"]);if(i!=null&&C(e,["name"],i),w(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Joe(t){const e={},r=w(t,["allowedFunctionNames"]);r!=null&&C(e,["allowedFunctionNames"],r);const n=w(t,["mode"]);if(n!=null&&C(e,["mode"],n),w(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $oe(t){const e={},r=w(t,["description"]);r!=null&&C(e,["description"],r);const n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=w(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const A=w(t,["responseJsonSchema"]);if(A!=null&&C(e,["responseJsonSchema"],A),w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Zoe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],oA(t,n)),r}function eAe(t,e){const r={},n=w(e,["name"]);return n!=null&&C(r,["_url","name"],oA(t,n)),r}function tAe(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(t,["enableWidget"]);return r!=null&&C(e,["enableWidget"],r),e}function rAe(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(t,["timeRangeFilter"]);return r!=null&&C(e,["timeRangeFilter"],r),e}function nAe(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),r}function iAe(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),r}function aAe(t){const e={},r=w(t,["config"]);return r!=null&&nAe(r,e),e}function sAe(t){const e={},r=w(t,["config"]);return r!=null&&iAe(r,e),e}function oAe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["cachedContents"],a)}return e}function AAe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["cachedContents"],a)}return e}function lAe(t){const e={},r=w(t,["mediaResolution"]);r!=null&&C(e,["mediaResolution"],r);const n=w(t,["codeExecutionResult"]);n!=null&&C(e,["codeExecutionResult"],n);const i=w(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=w(t,["fileData"]);a!=null&&C(e,["fileData"],qoe(a));const s=w(t,["functionCall"]);s!=null&&C(e,["functionCall"],Yoe(s));const A=w(t,["functionResponse"]);A!=null&&C(e,["functionResponse"],A);const c=w(t,["inlineData"]);c!=null&&C(e,["inlineData"],Qoe(c));const u=w(t,["text"]);u!=null&&C(e,["text"],u);const h=w(t,["thought"]);h!=null&&C(e,["thought"],h);const m=w(t,["thoughtSignature"]);m!=null&&C(e,["thoughtSignature"],m);const v=w(t,["videoMetadata"]);return v!=null&&C(e,["videoMetadata"],v),e}function cAe(t){const e={},r=w(t,["retrievalConfig"]);r!=null&&C(e,["retrievalConfig"],r);const n=w(t,["functionCallingConfig"]);return n!=null&&C(e,["functionCallingConfig"],Joe(n)),e}function uAe(t){const e={};if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const n=w(t,["fileSearch"]);n!=null&&C(e,["fileSearch"],n);const i=w(t,["codeExecution"]);if(i!=null&&C(e,["codeExecution"],i),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),C(e,["functionDeclarations"],h)}const s=w(t,["googleMaps"]);s!=null&&C(e,["googleMaps"],tAe(s));const A=w(t,["googleSearch"]);A!=null&&C(e,["googleSearch"],rAe(A));const c=w(t,["googleSearchRetrieval"]);c!=null&&C(e,["googleSearchRetrieval"],c);const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function fAe(t){const e={},r=w(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const n=w(t,["computerUse"]);if(n!=null&&C(e,["computerUse"],n),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=w(t,["codeExecution"]);i!=null&&C(e,["codeExecution"],i);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const s=w(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>$oe(v))),C(e,["functionDeclarations"],m)}const A=w(t,["googleMaps"]);A!=null&&C(e,["googleMaps"],A);const c=w(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=w(t,["googleSearchRetrieval"]);u!=null&&C(e,["googleSearchRetrieval"],u);const h=w(t,["urlContext"]);return h!=null&&C(e,["urlContext"],h),e}function hAe(t,e){const r={},n=w(t,["ttl"]);e!==void 0&&n!=null&&C(e,["ttl"],n);const i=w(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),r}function dAe(t,e){const r={},n=w(t,["ttl"]);e!==void 0&&n!=null&&C(e,["ttl"],n);const i=w(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),r}function gAe(t,e){const r={},n=w(e,["name"]);n!=null&&C(r,["_url","name"],oA(t,n));const i=w(e,["config"]);return i!=null&&hAe(i,r),r}function pAe(t,e){const r={},n=w(e,["name"]);n!=null&&C(r,["_url","name"],oA(t,n));const i=w(e,["config"]);return i!=null&&dAe(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mAe extends sA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oc(Zo.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Goe(this.apiClient,e);return A=ft("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=joe(this.apiClient,e);return A=ft("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=eAe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=Zoe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Xoe(h),v=new BI;return Object.assign(v,m),v})}else{const u=Koe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Woe(h),v=new BI;return Object.assign(v,m),v})}}async update(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=pAe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=gAe(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=sAe(e);return A=ft("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=AAe(h),v=new bI;return Object.assign(v,m),v})}else{const u=aAe(e);return A=ft("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=oAe(h),v=new bI;return Object.assign(v,m),v})}}}function Lp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function DI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rt(t){return this instanceof Rt?(this.v=t,this):new Rt(t)}function Qs(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),A("next"),A("throw"),A("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(b){return Promise.resolve(b).then(_,m)}}function A(_,b){n[_]&&(i[_]=function(T){return new Promise(function(I,k){a.push([_,T,I,k])>1||c(_,T)})},b&&(i[_]=b(i[_])))}function c(_,b){try{u(n[_](b))}catch(T){v(a[0][3],T)}}function u(_){_.value instanceof Rt?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function v(_,b){_(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Hs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof DI=="function"?DI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(s){return new Promise(function(A,c){s=t[a](s),i(A,c,s.done,s.value)})}}function i(a,s,A,c){Promise.resolve(c).then(function(u){a({value:u,done:A})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xAe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:Zk(r)}function Zk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function vAe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kI(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!Zk(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class wAe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new yAe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yAe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),vAe(a)}async sendMessage(e){var r;await this.sendPromise;const n=Ri(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,A;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(A=h.slice(m))!==null&&A!==void 0?A:[]);const _=u?[u]:[];this.recordHistory(n,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=Ri(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?kI(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return Qs(this,arguments,function*(){var i,a,s,A,c,u;const h=[];try{for(var m=!0,v=Hs(e),_;_=yield Rt(v.next()),i=_.done,!i;m=!0){A=_.value,m=!1;const b=A;if(xAe(b)){const T=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;T!==void 0&&h.push(T)}yield yield Rt(b)}}catch(b){a={error:b}}finally{try{!m&&!i&&(s=v.return)&&(yield Rt(s.call(v)))}finally{if(a)throw a.error}}this.recordHistory(r,h)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...kI(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Wh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EAe(t){const e={},r=w(t,["file"]);return r!=null&&C(e,["file"],r),e}function CAe(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function _Ae(t){const e={},r=w(t,["name"]);return r!=null&&C(e,["_url","file"],zk(r)),e}function BAe(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function bAe(t){const e={},r=w(t,["name"]);return r!=null&&C(e,["_url","file"],zk(r)),e}function TAe(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),r}function SAe(t){const e={},r=w(t,["config"]);return r!=null&&TAe(r,e),e}function IAe(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NAe extends sA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oc(Zo.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=SAe(e);return a=ft("files",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=IAe(c),h=new kse;return Object.assign(h,u),h})}}async createInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=EAe(e);return a=ft("upload/v1beta/files",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=CAe(c),h=new Use;return Object.assign(h,u),h})}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=bAe(e);return a=ft("files/{file}",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=_Ae(e);return a=ft("files/{file}",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=BAe(c),h=new Mse;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ig(t){const e={},r=w(t,["data"]);if(r!=null&&C(e,["data"],r),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function FAe(t){const e={},r=w(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>WAe(a))),C(e,["parts"],i)}const n=w(t,["role"]);return n!=null&&C(e,["role"],n),e}function RAe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function DAe(t){const e={},r=w(t,["id"]);r!=null&&C(e,["id"],r);const n=w(t,["args"]);n!=null&&C(e,["args"],n);const i=w(t,["name"]);if(i!=null&&C(e,["name"],i),w(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kAe(t){const e={},r=w(t,["description"]);r!=null&&C(e,["description"],r);const n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=w(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const A=w(t,["responseJsonSchema"]);if(A!=null&&C(e,["responseJsonSchema"],A),w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function UAe(t){const e={},r=w(t,["modelSelectionConfig"]);r!=null&&C(e,["modelConfig"],r);const n=w(t,["responseJsonSchema"]);n!=null&&C(e,["responseJsonSchema"],n);const i=w(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const a=w(t,["candidateCount"]);a!=null&&C(e,["candidateCount"],a);const s=w(t,["enableAffectiveDialog"]);s!=null&&C(e,["enableAffectiveDialog"],s);const A=w(t,["frequencyPenalty"]);A!=null&&C(e,["frequencyPenalty"],A);const c=w(t,["logprobs"]);c!=null&&C(e,["logprobs"],c);const u=w(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const h=w(t,["mediaResolution"]);h!=null&&C(e,["mediaResolution"],h);const m=w(t,["presencePenalty"]);m!=null&&C(e,["presencePenalty"],m);const v=w(t,["responseLogprobs"]);v!=null&&C(e,["responseLogprobs"],v);const _=w(t,["responseMimeType"]);_!=null&&C(e,["responseMimeType"],_);const b=w(t,["responseModalities"]);b!=null&&C(e,["responseModalities"],b);const T=w(t,["responseSchema"]);T!=null&&C(e,["responseSchema"],T);const I=w(t,["routingConfig"]);I!=null&&C(e,["routingConfig"],I);const k=w(t,["seed"]);k!=null&&C(e,["seed"],k);const R=w(t,["speechConfig"]);R!=null&&C(e,["speechConfig"],R);const F=w(t,["stopSequences"]);F!=null&&C(e,["stopSequences"],F);const L=w(t,["temperature"]);L!=null&&C(e,["temperature"],L);const W=w(t,["thinkingConfig"]);W!=null&&C(e,["thinkingConfig"],W);const P=w(t,["topK"]);P!=null&&C(e,["topK"],P);const N=w(t,["topP"]);if(N!=null&&C(e,["topP"],N),w(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function MAe(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(t,["enableWidget"]);return r!=null&&C(e,["enableWidget"],r),e}function OAe(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(t,["timeRangeFilter"]);return r!=null&&C(e,["timeRangeFilter"],r),e}function LAe(t,e){const r={},n=w(t,["generationConfig"]);e!==void 0&&n!=null&&C(e,["setup","generationConfig"],n);const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=w(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const A=w(t,["topK"]);e!==void 0&&A!=null&&C(e,["setup","generationConfig","topK"],A);const c=w(t,["maxOutputTokens"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","maxOutputTokens"],c);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const h=w(t,["seed"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","seed"],h);const m=w(t,["speechConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","speechConfig"],u_(m));const v=w(t,["thinkingConfig"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","thinkingConfig"],v);const _=w(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=w(t,["systemInstruction"]);e!==void 0&&b!=null&&C(e,["setup","systemInstruction"],FAe(Ri(b)));const T=w(t,["tools"]);if(e!==void 0&&T!=null){let P=O0(T);Array.isArray(P)&&(P=P.map(N=>qAe(M0(N)))),C(e,["setup","tools"],P)}const I=w(t,["sessionResumption"]);e!==void 0&&I!=null&&C(e,["setup","sessionResumption"],XAe(I));const k=w(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","inputAudioTranscription"],k);const R=w(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&C(e,["setup","outputAudioTranscription"],R);const F=w(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&C(e,["setup","realtimeInputConfig"],F);const L=w(t,["contextWindowCompression"]);e!==void 0&&L!=null&&C(e,["setup","contextWindowCompression"],L);const W=w(t,["proactivity"]);if(e!==void 0&&W!=null&&C(e,["setup","proactivity"],W),w(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function PAe(t,e){const r={},n=w(t,["generationConfig"]);e!==void 0&&n!=null&&C(e,["setup","generationConfig"],UAe(n));const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=w(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const A=w(t,["topK"]);e!==void 0&&A!=null&&C(e,["setup","generationConfig","topK"],A);const c=w(t,["maxOutputTokens"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","maxOutputTokens"],c);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const h=w(t,["seed"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","seed"],h);const m=w(t,["speechConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","speechConfig"],u_(m));const v=w(t,["thinkingConfig"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","thinkingConfig"],v);const _=w(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=w(t,["systemInstruction"]);e!==void 0&&b!=null&&C(e,["setup","systemInstruction"],Ri(b));const T=w(t,["tools"]);if(e!==void 0&&T!=null){let N=O0(T);Array.isArray(N)&&(N=N.map(M=>YAe(M0(M)))),C(e,["setup","tools"],N)}const I=w(t,["sessionResumption"]);e!==void 0&&I!=null&&C(e,["setup","sessionResumption"],I);const k=w(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","inputAudioTranscription"],k);const R=w(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&C(e,["setup","outputAudioTranscription"],R);const F=w(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&C(e,["setup","realtimeInputConfig"],F);const L=w(t,["contextWindowCompression"]);e!==void 0&&L!=null&&C(e,["setup","contextWindowCompression"],L);const W=w(t,["proactivity"]);e!==void 0&&W!=null&&C(e,["setup","proactivity"],W);const P=w(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&C(e,["setup","explicitVadSignal"],P),r}function QAe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["setup","model"],gr(t,n));const i=w(e,["config"]);return i!=null&&C(r,["config"],LAe(i,r)),r}function HAe(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["setup","model"],gr(t,n));const i=w(e,["config"]);return i!=null&&C(r,["config"],PAe(i,r)),r}function VAe(t){const e={},r=w(t,["musicGenerationConfig"]);return r!=null&&C(e,["musicGenerationConfig"],r),e}function jAe(t){const e={},r=w(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),C(e,["weightedPrompts"],n)}return e}function GAe(t){const e={},r=w(t,["media"]);if(r!=null){let u=Hk(r);Array.isArray(u)&&(u=u.map(h=>Ig(h))),C(e,["mediaChunks"],u)}const n=w(t,["audio"]);n!=null&&C(e,["audio"],Ig(jk(n)));const i=w(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const a=w(t,["video"]);a!=null&&C(e,["video"],Ig(Vk(a)));const s=w(t,["text"]);s!=null&&C(e,["text"],s);const A=w(t,["activityStart"]);A!=null&&C(e,["activityStart"],A);const c=w(t,["activityEnd"]);return c!=null&&C(e,["activityEnd"],c),e}function KAe(t){const e={},r=w(t,["media"]);if(r!=null){let u=Hk(r);Array.isArray(u)&&(u=u.map(h=>h)),C(e,["mediaChunks"],u)}const n=w(t,["audio"]);n!=null&&C(e,["audio"],jk(n));const i=w(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const a=w(t,["video"]);a!=null&&C(e,["video"],Vk(a));const s=w(t,["text"]);s!=null&&C(e,["text"],s);const A=w(t,["activityStart"]);A!=null&&C(e,["activityStart"],A);const c=w(t,["activityEnd"]);return c!=null&&C(e,["activityEnd"],c),e}function zAe(t){const e={},r=w(t,["setupComplete"]);r!=null&&C(e,["setupComplete"],r);const n=w(t,["serverContent"]);n!=null&&C(e,["serverContent"],n);const i=w(t,["toolCall"]);i!=null&&C(e,["toolCall"],i);const a=w(t,["toolCallCancellation"]);a!=null&&C(e,["toolCallCancellation"],a);const s=w(t,["usageMetadata"]);s!=null&&C(e,["usageMetadata"],JAe(s));const A=w(t,["goAway"]);A!=null&&C(e,["goAway"],A);const c=w(t,["sessionResumptionUpdate"]);c!=null&&C(e,["sessionResumptionUpdate"],c);const u=w(t,["voiceActivityDetectionSignal"]);u!=null&&C(e,["voiceActivityDetectionSignal"],u);const h=w(t,["voiceActivity"]);return h!=null&&C(e,["voiceActivity"],$Ae(h)),e}function WAe(t){const e={},r=w(t,["mediaResolution"]);r!=null&&C(e,["mediaResolution"],r);const n=w(t,["codeExecutionResult"]);n!=null&&C(e,["codeExecutionResult"],n);const i=w(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=w(t,["fileData"]);a!=null&&C(e,["fileData"],RAe(a));const s=w(t,["functionCall"]);s!=null&&C(e,["functionCall"],DAe(s));const A=w(t,["functionResponse"]);A!=null&&C(e,["functionResponse"],A);const c=w(t,["inlineData"]);c!=null&&C(e,["inlineData"],Ig(c));const u=w(t,["text"]);u!=null&&C(e,["text"],u);const h=w(t,["thought"]);h!=null&&C(e,["thought"],h);const m=w(t,["thoughtSignature"]);m!=null&&C(e,["thoughtSignature"],m);const v=w(t,["videoMetadata"]);return v!=null&&C(e,["videoMetadata"],v),e}function XAe(t){const e={},r=w(t,["handle"]);if(r!=null&&C(e,["handle"],r),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qAe(t){const e={};if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const n=w(t,["fileSearch"]);n!=null&&C(e,["fileSearch"],n);const i=w(t,["codeExecution"]);if(i!=null&&C(e,["codeExecution"],i),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),C(e,["functionDeclarations"],h)}const s=w(t,["googleMaps"]);s!=null&&C(e,["googleMaps"],MAe(s));const A=w(t,["googleSearch"]);A!=null&&C(e,["googleSearch"],OAe(A));const c=w(t,["googleSearchRetrieval"]);c!=null&&C(e,["googleSearchRetrieval"],c);const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function YAe(t){const e={},r=w(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const n=w(t,["computerUse"]);if(n!=null&&C(e,["computerUse"],n),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=w(t,["codeExecution"]);i!=null&&C(e,["codeExecution"],i);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const s=w(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>kAe(v))),C(e,["functionDeclarations"],m)}const A=w(t,["googleMaps"]);A!=null&&C(e,["googleMaps"],A);const c=w(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=w(t,["googleSearchRetrieval"]);u!=null&&C(e,["googleSearchRetrieval"],u);const h=w(t,["urlContext"]);return h!=null&&C(e,["urlContext"],h),e}function JAe(t){const e={},r=w(t,["promptTokenCount"]);r!=null&&C(e,["promptTokenCount"],r);const n=w(t,["cachedContentTokenCount"]);n!=null&&C(e,["cachedContentTokenCount"],n);const i=w(t,["candidatesTokenCount"]);i!=null&&C(e,["responseTokenCount"],i);const a=w(t,["toolUsePromptTokenCount"]);a!=null&&C(e,["toolUsePromptTokenCount"],a);const s=w(t,["thoughtsTokenCount"]);s!=null&&C(e,["thoughtsTokenCount"],s);const A=w(t,["totalTokenCount"]);A!=null&&C(e,["totalTokenCount"],A);const c=w(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(b=>b)),C(e,["promptTokensDetails"],_)}const u=w(t,["cacheTokensDetails"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(b=>b)),C(e,["cacheTokensDetails"],_)}const h=w(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>b)),C(e,["responseTokensDetails"],_)}const m=w(t,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(b=>b)),C(e,["toolUsePromptTokensDetails"],_)}const v=w(t,["trafficType"]);return v!=null&&C(e,["trafficType"],v),e}function $Ae(t){const e={},r=w(t,["type"]);return r!=null&&C(e,["voiceActivityType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZAe(t){const e={},r=w(t,["data"]);if(r!=null&&C(e,["data"],r),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function ele(t){const e={},r=w(t,["content"]);r!=null&&C(e,["content"],r);const n=w(t,["citationMetadata"]);n!=null&&C(e,["citationMetadata"],tle(n));const i=w(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const a=w(t,["finishReason"]);a!=null&&C(e,["finishReason"],a);const s=w(t,["avgLogprobs"]);s!=null&&C(e,["avgLogprobs"],s);const A=w(t,["groundingMetadata"]);A!=null&&C(e,["groundingMetadata"],A);const c=w(t,["index"]);c!=null&&C(e,["index"],c);const u=w(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const h=w(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),C(e,["safetyRatings"],v)}const m=w(t,["urlContextMetadata"]);return m!=null&&C(e,["urlContextMetadata"],m),e}function tle(t){const e={},r=w(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),C(e,["citations"],n)}return e}function rle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let a=hs(i);Array.isArray(a)&&(a=a.map(s=>s)),C(r,["contents"],a)}return r}function nle(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),C(e,["tokensInfo"],i)}return e}function ile(t){const e={},r=w(t,["values"]);r!=null&&C(e,["values"],r);const n=w(t,["statistics"]);return n!=null&&C(e,["statistics"],ale(n)),e}function ale(t){const e={},r=w(t,["truncated"]);r!=null&&C(e,["truncated"],r);const n=w(t,["token_count"]);return n!=null&&C(e,["tokenCount"],n),e}function zm(t){const e={},r=w(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>dce(a))),C(e,["parts"],i)}const n=w(t,["role"]);return n!=null&&C(e,["role"],n),e}function sle(t){const e={},r=w(t,["controlType"]);r!=null&&C(e,["controlType"],r);const n=w(t,["enableControlImageComputation"]);return n!=null&&C(e,["computeControl"],n),e}function ole(t){const e={};if(w(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(w(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(w(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ale(t,e){const r={},n=w(t,["systemInstruction"]);e!==void 0&&n!=null&&C(e,["systemInstruction"],Ri(n));const i=w(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(A=>n5(A))),C(e,["tools"],s)}const a=w(t,["generationConfig"]);return e!==void 0&&a!=null&&C(e,["generationConfig"],Zle(a)),r}function lle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let s=hs(i);Array.isArray(s)&&(s=s.map(A=>zm(A))),C(r,["contents"],s)}const a=w(e,["config"]);return a!=null&&ole(a),r}function cle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let s=hs(i);Array.isArray(s)&&(s=s.map(A=>A)),C(r,["contents"],s)}const a=w(e,["config"]);return a!=null&&Ale(a,r),r}function ule(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["totalTokens"]);n!=null&&C(e,["totalTokens"],n);const i=w(t,["cachedContentTokenCount"]);return i!=null&&C(e,["cachedContentTokenCount"],i),e}function fle(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["totalTokens"]);return n!=null&&C(e,["totalTokens"],n),e}function hle(t,e){const r={},n=w(e,["model"]);return n!=null&&C(r,["_url","name"],gr(t,n)),r}function dle(t,e){const r={},n=w(e,["model"]);return n!=null&&C(r,["_url","name"],gr(t,n)),r}function gle(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function ple(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}function mle(t,e){const r={},n=w(t,["outputGcsUri"]);e!==void 0&&n!=null&&C(e,["parameters","storageUri"],n);const i=w(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const a=w(t,["numberOfImages"]);e!==void 0&&a!=null&&C(e,["parameters","sampleCount"],a);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const A=w(t,["guidanceScale"]);e!==void 0&&A!=null&&C(e,["parameters","guidanceScale"],A);const c=w(t,["seed"]);e!==void 0&&c!=null&&C(e,["parameters","seed"],c);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const h=w(t,["personGeneration"]);e!==void 0&&h!=null&&C(e,["parameters","personGeneration"],h);const m=w(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&C(e,["parameters","includeSafetyAttributes"],m);const v=w(t,["includeRaiReason"]);e!==void 0&&v!=null&&C(e,["parameters","includeRaiReason"],v);const _=w(t,["language"]);e!==void 0&&_!=null&&C(e,["parameters","language"],_);const b=w(t,["outputMimeType"]);e!==void 0&&b!=null&&C(e,["parameters","outputOptions","mimeType"],b);const T=w(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&C(e,["parameters","outputOptions","compressionQuality"],T);const I=w(t,["addWatermark"]);e!==void 0&&I!=null&&C(e,["parameters","addWatermark"],I);const k=w(t,["labels"]);e!==void 0&&k!=null&&C(e,["labels"],k);const R=w(t,["editMode"]);e!==void 0&&R!=null&&C(e,["parameters","editMode"],R);const F=w(t,["baseSteps"]);return e!==void 0&&F!=null&&C(e,["parameters","editConfig","baseSteps"],F),r}function xle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["prompt"]);i!=null&&C(r,["instances[0]","prompt"],i);const a=w(e,["referenceImages"]);if(a!=null){let A=a;Array.isArray(A)&&(A=A.map(c=>wce(c))),C(r,["instances[0]","referenceImages"],A)}const s=w(e,["config"]);return s!=null&&mle(s,r),r}function vle(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Wm(a))),C(e,["generatedImages"],i)}return e}function wle(t,e){const r={},n=w(t,["taskType"]);e!==void 0&&n!=null&&C(e,["requests[]","taskType"],n);const i=w(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const a=w(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&C(e,["requests[]","outputDimensionality"],a),w(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function yle(t,e){const r={},n=w(t,["taskType"]);e!==void 0&&n!=null&&C(e,["instances[]","task_type"],n);const i=w(t,["title"]);e!==void 0&&i!=null&&C(e,["instances[]","title"],i);const a=w(t,["outputDimensionality"]);e!==void 0&&a!=null&&C(e,["parameters","outputDimensionality"],a);const s=w(t,["mimeType"]);e!==void 0&&s!=null&&C(e,["instances[]","mimeType"],s);const A=w(t,["autoTruncate"]);return e!==void 0&&A!=null&&C(e,["parameters","autoTruncate"],A),r}function Ele(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let A=A_(t,i);Array.isArray(A)&&(A=A.map(c=>c)),C(r,["requests[]","content"],A)}const a=w(e,["config"]);a!=null&&wle(a,r);const s=w(e,["model"]);return s!==void 0&&C(r,["requests[]","model"],gr(t,s)),r}function Cle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let s=A_(t,i);Array.isArray(s)&&(s=s.map(A=>A)),C(r,["instances[]","content"],s)}const a=w(e,["config"]);return a!=null&&yle(a,r),r}function _le(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["embeddings"],a)}const i=w(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function Ble(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>ile(s))),C(e,["embeddings"],a)}const i=w(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function ble(t){const e={},r=w(t,["endpoint"]);r!=null&&C(e,["name"],r);const n=w(t,["deployedModelId"]);return n!=null&&C(e,["deployedModelId"],n),e}function Tle(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function Sle(t){const e={},r=w(t,["id"]);r!=null&&C(e,["id"],r);const n=w(t,["args"]);n!=null&&C(e,["args"],n);const i=w(t,["name"]);if(i!=null&&C(e,["name"],i),w(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ile(t){const e={},r=w(t,["allowedFunctionNames"]);r!=null&&C(e,["allowedFunctionNames"],r);const n=w(t,["mode"]);if(n!=null&&C(e,["mode"],n),w(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nle(t){const e={},r=w(t,["description"]);r!=null&&C(e,["description"],r);const n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["parameters"]);i!=null&&C(e,["parameters"],i);const a=w(t,["parametersJsonSchema"]);a!=null&&C(e,["parametersJsonSchema"],a);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const A=w(t,["responseJsonSchema"]);if(A!=null&&C(e,["responseJsonSchema"],A),w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Fle(t,e,r){const n={},i=w(e,["systemInstruction"]);r!==void 0&&i!=null&&C(r,["systemInstruction"],zm(Ri(i)));const a=w(e,["temperature"]);a!=null&&C(n,["temperature"],a);const s=w(e,["topP"]);s!=null&&C(n,["topP"],s);const A=w(e,["topK"]);A!=null&&C(n,["topK"],A);const c=w(e,["candidateCount"]);c!=null&&C(n,["candidateCount"],c);const u=w(e,["maxOutputTokens"]);u!=null&&C(n,["maxOutputTokens"],u);const h=w(e,["stopSequences"]);h!=null&&C(n,["stopSequences"],h);const m=w(e,["responseLogprobs"]);m!=null&&C(n,["responseLogprobs"],m);const v=w(e,["logprobs"]);v!=null&&C(n,["logprobs"],v);const _=w(e,["presencePenalty"]);_!=null&&C(n,["presencePenalty"],_);const b=w(e,["frequencyPenalty"]);b!=null&&C(n,["frequencyPenalty"],b);const T=w(e,["seed"]);T!=null&&C(n,["seed"],T);const I=w(e,["responseMimeType"]);I!=null&&C(n,["responseMimeType"],I);const k=w(e,["responseSchema"]);k!=null&&C(n,["responseSchema"],l_(k));const R=w(e,["responseJsonSchema"]);if(R!=null&&C(n,["responseJsonSchema"],R),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=w(e,["safetySettings"]);if(r!==void 0&&F!=null){let V=F;Array.isArray(V)&&(V=V.map(Ce=>yce(Ce))),C(r,["safetySettings"],V)}const L=w(e,["tools"]);if(r!==void 0&&L!=null){let V=O0(L);Array.isArray(V)&&(V=V.map(Ce=>Sce(M0(Ce)))),C(r,["tools"],V)}const W=w(e,["toolConfig"]);if(r!==void 0&&W!=null&&C(r,["toolConfig"],Tce(W)),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=w(e,["cachedContent"]);r!==void 0&&P!=null&&C(r,["cachedContent"],oA(t,P));const N=w(e,["responseModalities"]);N!=null&&C(n,["responseModalities"],N);const M=w(e,["mediaResolution"]);M!=null&&C(n,["mediaResolution"],M);const D=w(e,["speechConfig"]);if(D!=null&&C(n,["speechConfig"],c_(D)),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=w(e,["thinkingConfig"]);Q!=null&&C(n,["thinkingConfig"],Q);const G=w(e,["imageConfig"]);G!=null&&C(n,["imageConfig"],ice(G));const j=w(e,["enableEnhancedCivicAnswers"]);if(j!=null&&C(n,["enableEnhancedCivicAnswers"],j),w(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function Rle(t,e,r){const n={},i=w(e,["systemInstruction"]);r!==void 0&&i!=null&&C(r,["systemInstruction"],Ri(i));const a=w(e,["temperature"]);a!=null&&C(n,["temperature"],a);const s=w(e,["topP"]);s!=null&&C(n,["topP"],s);const A=w(e,["topK"]);A!=null&&C(n,["topK"],A);const c=w(e,["candidateCount"]);c!=null&&C(n,["candidateCount"],c);const u=w(e,["maxOutputTokens"]);u!=null&&C(n,["maxOutputTokens"],u);const h=w(e,["stopSequences"]);h!=null&&C(n,["stopSequences"],h);const m=w(e,["responseLogprobs"]);m!=null&&C(n,["responseLogprobs"],m);const v=w(e,["logprobs"]);v!=null&&C(n,["logprobs"],v);const _=w(e,["presencePenalty"]);_!=null&&C(n,["presencePenalty"],_);const b=w(e,["frequencyPenalty"]);b!=null&&C(n,["frequencyPenalty"],b);const T=w(e,["seed"]);T!=null&&C(n,["seed"],T);const I=w(e,["responseMimeType"]);I!=null&&C(n,["responseMimeType"],I);const k=w(e,["responseSchema"]);k!=null&&C(n,["responseSchema"],l_(k));const R=w(e,["responseJsonSchema"]);R!=null&&C(n,["responseJsonSchema"],R);const F=w(e,["routingConfig"]);F!=null&&C(n,["routingConfig"],F);const L=w(e,["modelSelectionConfig"]);L!=null&&C(n,["modelConfig"],L);const W=w(e,["safetySettings"]);if(r!==void 0&&W!=null){let ne=W;Array.isArray(ne)&&(ne=ne.map(De=>De)),C(r,["safetySettings"],ne)}const P=w(e,["tools"]);if(r!==void 0&&P!=null){let ne=O0(P);Array.isArray(ne)&&(ne=ne.map(De=>n5(M0(De)))),C(r,["tools"],ne)}const N=w(e,["toolConfig"]);r!==void 0&&N!=null&&C(r,["toolConfig"],N);const M=w(e,["labels"]);r!==void 0&&M!=null&&C(r,["labels"],M);const D=w(e,["cachedContent"]);r!==void 0&&D!=null&&C(r,["cachedContent"],oA(t,D));const Q=w(e,["responseModalities"]);Q!=null&&C(n,["responseModalities"],Q);const G=w(e,["mediaResolution"]);G!=null&&C(n,["mediaResolution"],G);const j=w(e,["speechConfig"]);j!=null&&C(n,["speechConfig"],c_(j));const V=w(e,["audioTimestamp"]);V!=null&&C(n,["audioTimestamp"],V);const Ce=w(e,["thinkingConfig"]);Ce!=null&&C(n,["thinkingConfig"],Ce);const le=w(e,["imageConfig"]);if(le!=null&&C(n,["imageConfig"],ace(le)),w(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const de=w(e,["modelArmorConfig"]);return r!==void 0&&de!=null&&C(r,["modelArmorConfig"],de),n}function UI(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let s=hs(i);Array.isArray(s)&&(s=s.map(A=>zm(A))),C(r,["contents"],s)}const a=w(e,["config"]);return a!=null&&C(r,["generationConfig"],Fle(t,a,r)),r}function MI(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["contents"]);if(i!=null){let s=hs(i);Array.isArray(s)&&(s=s.map(A=>A)),C(r,["contents"],s)}const a=w(e,["config"]);return a!=null&&C(r,["generationConfig"],Rle(t,a,r)),r}function OI(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>ele(u))),C(e,["candidates"],c)}const i=w(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const a=w(t,["promptFeedback"]);a!=null&&C(e,["promptFeedback"],a);const s=w(t,["responseId"]);s!=null&&C(e,["responseId"],s);const A=w(t,["usageMetadata"]);return A!=null&&C(e,["usageMetadata"],A),e}function LI(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),C(e,["candidates"],u)}const i=w(t,["createTime"]);i!=null&&C(e,["createTime"],i);const a=w(t,["modelVersion"]);a!=null&&C(e,["modelVersion"],a);const s=w(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const A=w(t,["responseId"]);A!=null&&C(e,["responseId"],A);const c=w(t,["usageMetadata"]);return c!=null&&C(e,["usageMetadata"],c),e}function Dle(t,e){const r={};if(w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=w(t,["numberOfImages"]);e!==void 0&&n!=null&&C(e,["parameters","sampleCount"],n);const i=w(t,["aspectRatio"]);e!==void 0&&i!=null&&C(e,["parameters","aspectRatio"],i);const a=w(t,["guidanceScale"]);if(e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=w(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&C(e,["parameters","safetySetting"],s);const A=w(t,["personGeneration"]);e!==void 0&&A!=null&&C(e,["parameters","personGeneration"],A);const c=w(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&C(e,["parameters","includeSafetyAttributes"],c);const u=w(t,["includeRaiReason"]);e!==void 0&&u!=null&&C(e,["parameters","includeRaiReason"],u);const h=w(t,["language"]);e!==void 0&&h!=null&&C(e,["parameters","language"],h);const m=w(t,["outputMimeType"]);e!==void 0&&m!=null&&C(e,["parameters","outputOptions","mimeType"],m);const v=w(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&C(e,["parameters","outputOptions","compressionQuality"],v),w(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=w(t,["imageSize"]);if(e!==void 0&&_!=null&&C(e,["parameters","sampleImageSize"],_),w(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function kle(t,e){const r={},n=w(t,["outputGcsUri"]);e!==void 0&&n!=null&&C(e,["parameters","storageUri"],n);const i=w(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const a=w(t,["numberOfImages"]);e!==void 0&&a!=null&&C(e,["parameters","sampleCount"],a);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const A=w(t,["guidanceScale"]);e!==void 0&&A!=null&&C(e,["parameters","guidanceScale"],A);const c=w(t,["seed"]);e!==void 0&&c!=null&&C(e,["parameters","seed"],c);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const h=w(t,["personGeneration"]);e!==void 0&&h!=null&&C(e,["parameters","personGeneration"],h);const m=w(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&C(e,["parameters","includeSafetyAttributes"],m);const v=w(t,["includeRaiReason"]);e!==void 0&&v!=null&&C(e,["parameters","includeRaiReason"],v);const _=w(t,["language"]);e!==void 0&&_!=null&&C(e,["parameters","language"],_);const b=w(t,["outputMimeType"]);e!==void 0&&b!=null&&C(e,["parameters","outputOptions","mimeType"],b);const T=w(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&C(e,["parameters","outputOptions","compressionQuality"],T);const I=w(t,["addWatermark"]);e!==void 0&&I!=null&&C(e,["parameters","addWatermark"],I);const k=w(t,["labels"]);e!==void 0&&k!=null&&C(e,["labels"],k);const R=w(t,["imageSize"]);e!==void 0&&R!=null&&C(e,["parameters","sampleImageSize"],R);const F=w(t,["enhancePrompt"]);return e!==void 0&&F!=null&&C(e,["parameters","enhancePrompt"],F),r}function Ule(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["prompt"]);i!=null&&C(r,["instances[0]","prompt"],i);const a=w(e,["config"]);return a!=null&&Dle(a,r),r}function Mle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["prompt"]);i!=null&&C(r,["instances[0]","prompt"],i);const a=w(e,["config"]);return a!=null&&kle(a,r),r}function Ole(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>qle(s))),C(e,["generatedImages"],a)}const i=w(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],t5(i)),e}function Lle(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Wm(s))),C(e,["generatedImages"],a)}const i=w(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],r5(i)),e}function Ple(t,e){const r={},n=w(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&C(e,["parameters","sampleCount"],n),w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=w(t,["durationSeconds"]);if(e!==void 0&&i!=null&&C(e,["parameters","durationSeconds"],i),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=w(t,["aspectRatio"]);e!==void 0&&a!=null&&C(e,["parameters","aspectRatio"],a);const s=w(t,["resolution"]);e!==void 0&&s!=null&&C(e,["parameters","resolution"],s);const A=w(t,["personGeneration"]);if(e!==void 0&&A!=null&&C(e,["parameters","personGeneration"],A),w(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=w(t,["negativePrompt"]);e!==void 0&&c!=null&&C(e,["parameters","negativePrompt"],c);const u=w(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&C(e,["parameters","enhancePrompt"],u),w(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=w(t,["lastFrame"]);e!==void 0&&h!=null&&C(e,["instances[0]","lastFrame"],Xm(h));const m=w(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>Hce(_))),C(e,["instances[0]","referenceImages"],v)}if(w(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(w(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Qle(t,e){const r={},n=w(t,["numberOfVideos"]);e!==void 0&&n!=null&&C(e,["parameters","sampleCount"],n);const i=w(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const a=w(t,["fps"]);e!==void 0&&a!=null&&C(e,["parameters","fps"],a);const s=w(t,["durationSeconds"]);e!==void 0&&s!=null&&C(e,["parameters","durationSeconds"],s);const A=w(t,["seed"]);e!==void 0&&A!=null&&C(e,["parameters","seed"],A);const c=w(t,["aspectRatio"]);e!==void 0&&c!=null&&C(e,["parameters","aspectRatio"],c);const u=w(t,["resolution"]);e!==void 0&&u!=null&&C(e,["parameters","resolution"],u);const h=w(t,["personGeneration"]);e!==void 0&&h!=null&&C(e,["parameters","personGeneration"],h);const m=w(t,["pubsubTopic"]);e!==void 0&&m!=null&&C(e,["parameters","pubsubTopic"],m);const v=w(t,["negativePrompt"]);e!==void 0&&v!=null&&C(e,["parameters","negativePrompt"],v);const _=w(t,["enhancePrompt"]);e!==void 0&&_!=null&&C(e,["parameters","enhancePrompt"],_);const b=w(t,["generateAudio"]);e!==void 0&&b!=null&&C(e,["parameters","generateAudio"],b);const T=w(t,["lastFrame"]);e!==void 0&&T!=null&&C(e,["instances[0]","lastFrame"],Ks(T));const I=w(t,["referenceImages"]);if(e!==void 0&&I!=null){let F=I;Array.isArray(F)&&(F=F.map(L=>Vce(L))),C(e,["instances[0]","referenceImages"],F)}const k=w(t,["mask"]);e!==void 0&&k!=null&&C(e,["instances[0]","mask"],Qce(k));const R=w(t,["compressionQuality"]);return e!==void 0&&R!=null&&C(e,["parameters","compressionQuality"],R),r}function Hle(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response","generateVideoResponse"]);return s!=null&&C(e,["response"],Kle(s)),e}function Vle(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response"]);return s!=null&&C(e,["response"],zle(s)),e}function jle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["prompt"]);i!=null&&C(r,["instances[0]","prompt"],i);const a=w(e,["image"]);a!=null&&C(r,["instances[0]","image"],Xm(a));const s=w(e,["video"]);s!=null&&C(r,["instances[0]","video"],i5(s));const A=w(e,["source"]);A!=null&&Wle(A,r);const c=w(e,["config"]);return c!=null&&Ple(c,r),r}function Gle(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["prompt"]);i!=null&&C(r,["instances[0]","prompt"],i);const a=w(e,["image"]);a!=null&&C(r,["instances[0]","image"],Ks(a));const s=w(e,["video"]);s!=null&&C(r,["instances[0]","video"],a5(s));const A=w(e,["source"]);A!=null&&Xle(A,r);const c=w(e,["config"]);return c!=null&&Qle(c,r),r}function Kle(t){const e={},r=w(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Jle(s))),C(e,["generatedVideos"],a)}const n=w(t,["raiMediaFilteredCount"]);n!=null&&C(e,["raiMediaFilteredCount"],n);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function zle(t){const e={},r=w(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$le(s))),C(e,["generatedVideos"],a)}const n=w(t,["raiMediaFilteredCount"]);n!=null&&C(e,["raiMediaFilteredCount"],n);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function Wle(t,e){const r={},n=w(t,["prompt"]);e!==void 0&&n!=null&&C(e,["instances[0]","prompt"],n);const i=w(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Xm(i));const a=w(t,["video"]);return e!==void 0&&a!=null&&C(e,["instances[0]","video"],i5(a)),r}function Xle(t,e){const r={},n=w(t,["prompt"]);e!==void 0&&n!=null&&C(e,["instances[0]","prompt"],n);const i=w(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Ks(i));const a=w(t,["video"]);return e!==void 0&&a!=null&&C(e,["instances[0]","video"],a5(a)),r}function qle(t){const e={},r=w(t,["_self"]);r!=null&&C(e,["image"],sce(r));const n=w(t,["raiFilteredReason"]);n!=null&&C(e,["raiFilteredReason"],n);const i=w(t,["_self"]);return i!=null&&C(e,["safetyAttributes"],t5(i)),e}function Wm(t){const e={},r=w(t,["_self"]);r!=null&&C(e,["image"],e5(r));const n=w(t,["raiFilteredReason"]);n!=null&&C(e,["raiFilteredReason"],n);const i=w(t,["_self"]);i!=null&&C(e,["safetyAttributes"],r5(i));const a=w(t,["prompt"]);return a!=null&&C(e,["enhancedPrompt"],a),e}function Yle(t){const e={},r=w(t,["_self"]);r!=null&&C(e,["mask"],e5(r));const n=w(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),C(e,["labels"],i)}return e}function Jle(t){const e={},r=w(t,["video"]);return r!=null&&C(e,["video"],Lce(r)),e}function $le(t){const e={},r=w(t,["_self"]);return r!=null&&C(e,["video"],Pce(r)),e}function Zle(t){const e={},r=w(t,["modelSelectionConfig"]);r!=null&&C(e,["modelConfig"],r);const n=w(t,["responseJsonSchema"]);n!=null&&C(e,["responseJsonSchema"],n);const i=w(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const a=w(t,["candidateCount"]);a!=null&&C(e,["candidateCount"],a);const s=w(t,["enableAffectiveDialog"]);s!=null&&C(e,["enableAffectiveDialog"],s);const A=w(t,["frequencyPenalty"]);A!=null&&C(e,["frequencyPenalty"],A);const c=w(t,["logprobs"]);c!=null&&C(e,["logprobs"],c);const u=w(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const h=w(t,["mediaResolution"]);h!=null&&C(e,["mediaResolution"],h);const m=w(t,["presencePenalty"]);m!=null&&C(e,["presencePenalty"],m);const v=w(t,["responseLogprobs"]);v!=null&&C(e,["responseLogprobs"],v);const _=w(t,["responseMimeType"]);_!=null&&C(e,["responseMimeType"],_);const b=w(t,["responseModalities"]);b!=null&&C(e,["responseModalities"],b);const T=w(t,["responseSchema"]);T!=null&&C(e,["responseSchema"],T);const I=w(t,["routingConfig"]);I!=null&&C(e,["routingConfig"],I);const k=w(t,["seed"]);k!=null&&C(e,["seed"],k);const R=w(t,["speechConfig"]);R!=null&&C(e,["speechConfig"],R);const F=w(t,["stopSequences"]);F!=null&&C(e,["stopSequences"],F);const L=w(t,["temperature"]);L!=null&&C(e,["temperature"],L);const W=w(t,["thinkingConfig"]);W!=null&&C(e,["thinkingConfig"],W);const P=w(t,["topK"]);P!=null&&C(e,["topK"],P);const N=w(t,["topP"]);if(N!=null&&C(e,["topP"],N),w(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ece(t,e){const r={},n=w(e,["model"]);return n!=null&&C(r,["_url","name"],gr(t,n)),r}function tce(t,e){const r={},n=w(e,["model"]);return n!=null&&C(r,["_url","name"],gr(t,n)),r}function rce(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(t,["enableWidget"]);return r!=null&&C(e,["enableWidget"],r),e}function nce(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(t,["timeRangeFilter"]);return r!=null&&C(e,["timeRangeFilter"],r),e}function ice(t){const e={},r=w(t,["aspectRatio"]);r!=null&&C(e,["aspectRatio"],r);const n=w(t,["imageSize"]);if(n!=null&&C(e,["imageSize"],n),w(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(w(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(w(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ace(t){const e={},r=w(t,["aspectRatio"]);r!=null&&C(e,["aspectRatio"],r);const n=w(t,["imageSize"]);n!=null&&C(e,["imageSize"],n);const i=w(t,["personGeneration"]);i!=null&&C(e,["personGeneration"],i);const a=w(t,["outputMimeType"]);a!=null&&C(e,["imageOutputOptions","mimeType"],a);const s=w(t,["outputCompressionQuality"]);return s!=null&&C(e,["imageOutputOptions","compressionQuality"],s),e}function sce(t){const e={},r=w(t,["bytesBase64Encoded"]);r!=null&&C(e,["imageBytes"],wl(r));const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function e5(t){const e={},r=w(t,["gcsUri"]);r!=null&&C(e,["gcsUri"],r);const n=w(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],wl(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Xm(t){const e={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=w(t,["imageBytes"]);r!=null&&C(e,["bytesBase64Encoded"],wl(r));const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function Ks(t){const e={},r=w(t,["gcsUri"]);r!=null&&C(e,["gcsUri"],r);const n=w(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],wl(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function oce(t,e,r){const n={},i=w(e,["pageSize"]);r!==void 0&&i!=null&&C(r,["_query","pageSize"],i);const a=w(e,["pageToken"]);r!==void 0&&a!=null&&C(r,["_query","pageToken"],a);const s=w(e,["filter"]);r!==void 0&&s!=null&&C(r,["_query","filter"],s);const A=w(e,["queryBase"]);return r!==void 0&&A!=null&&C(r,["_url","models_url"],Wk(t,A)),n}function Ace(t,e,r){const n={},i=w(e,["pageSize"]);r!==void 0&&i!=null&&C(r,["_query","pageSize"],i);const a=w(e,["pageToken"]);r!==void 0&&a!=null&&C(r,["_query","pageToken"],a);const s=w(e,["filter"]);r!==void 0&&s!=null&&C(r,["_query","filter"],s);const A=w(e,["queryBase"]);return r!==void 0&&A!=null&&C(r,["_url","models_url"],Wk(t,A)),n}function lce(t,e){const r={},n=w(e,["config"]);return n!=null&&oce(t,n,r),r}function cce(t,e){const r={},n=w(e,["config"]);return n!=null&&Ace(t,n,r),r}function uce(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["_self"]);if(i!=null){let a=Xk(i);Array.isArray(a)&&(a=a.map(s=>oy(s))),C(e,["models"],a)}return e}function fce(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["_self"]);if(i!=null){let a=Xk(i);Array.isArray(a)&&(a=a.map(s=>Ay(s))),C(e,["models"],a)}return e}function hce(t){const e={},r=w(t,["maskMode"]);r!=null&&C(e,["maskMode"],r);const n=w(t,["segmentationClasses"]);n!=null&&C(e,["maskClasses"],n);const i=w(t,["maskDilation"]);return i!=null&&C(e,["dilation"],i),e}function oy(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["displayName"]);n!=null&&C(e,["displayName"],n);const i=w(t,["description"]);i!=null&&C(e,["description"],i);const a=w(t,["version"]);a!=null&&C(e,["version"],a);const s=w(t,["_self"]);s!=null&&C(e,["tunedModelInfo"],Ice(s));const A=w(t,["inputTokenLimit"]);A!=null&&C(e,["inputTokenLimit"],A);const c=w(t,["outputTokenLimit"]);c!=null&&C(e,["outputTokenLimit"],c);const u=w(t,["supportedGenerationMethods"]);u!=null&&C(e,["supportedActions"],u);const h=w(t,["temperature"]);h!=null&&C(e,["temperature"],h);const m=w(t,["maxTemperature"]);m!=null&&C(e,["maxTemperature"],m);const v=w(t,["topP"]);v!=null&&C(e,["topP"],v);const _=w(t,["topK"]);_!=null&&C(e,["topK"],_);const b=w(t,["thinking"]);return b!=null&&C(e,["thinking"],b),e}function Ay(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["displayName"]);n!=null&&C(e,["displayName"],n);const i=w(t,["description"]);i!=null&&C(e,["description"],i);const a=w(t,["versionId"]);a!=null&&C(e,["version"],a);const s=w(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>ble(v))),C(e,["endpoints"],m)}const A=w(t,["labels"]);A!=null&&C(e,["labels"],A);const c=w(t,["_self"]);c!=null&&C(e,["tunedModelInfo"],Nce(c));const u=w(t,["defaultCheckpointId"]);u!=null&&C(e,["defaultCheckpointId"],u);const h=w(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),C(e,["checkpoints"],m)}return e}function dce(t){const e={},r=w(t,["mediaResolution"]);r!=null&&C(e,["mediaResolution"],r);const n=w(t,["codeExecutionResult"]);n!=null&&C(e,["codeExecutionResult"],n);const i=w(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=w(t,["fileData"]);a!=null&&C(e,["fileData"],Tle(a));const s=w(t,["functionCall"]);s!=null&&C(e,["functionCall"],Sle(s));const A=w(t,["functionResponse"]);A!=null&&C(e,["functionResponse"],A);const c=w(t,["inlineData"]);c!=null&&C(e,["inlineData"],ZAe(c));const u=w(t,["text"]);u!=null&&C(e,["text"],u);const h=w(t,["thought"]);h!=null&&C(e,["thought"],h);const m=w(t,["thoughtSignature"]);m!=null&&C(e,["thoughtSignature"],m);const v=w(t,["videoMetadata"]);return v!=null&&C(e,["videoMetadata"],v),e}function gce(t){const e={},r=w(t,["productImage"]);return r!=null&&C(e,["image"],Ks(r)),e}function pce(t,e){const r={},n=w(t,["numberOfImages"]);e!==void 0&&n!=null&&C(e,["parameters","sampleCount"],n);const i=w(t,["baseSteps"]);e!==void 0&&i!=null&&C(e,["parameters","baseSteps"],i);const a=w(t,["outputGcsUri"]);e!==void 0&&a!=null&&C(e,["parameters","storageUri"],a);const s=w(t,["seed"]);e!==void 0&&s!=null&&C(e,["parameters","seed"],s);const A=w(t,["safetyFilterLevel"]);e!==void 0&&A!=null&&C(e,["parameters","safetySetting"],A);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c);const u=w(t,["addWatermark"]);e!==void 0&&u!=null&&C(e,["parameters","addWatermark"],u);const h=w(t,["outputMimeType"]);e!==void 0&&h!=null&&C(e,["parameters","outputOptions","mimeType"],h);const m=w(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&C(e,["parameters","outputOptions","compressionQuality"],m);const v=w(t,["enhancePrompt"]);e!==void 0&&v!=null&&C(e,["parameters","enhancePrompt"],v);const _=w(t,["labels"]);return e!==void 0&&_!=null&&C(e,["labels"],_),r}function mce(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["source"]);i!=null&&vce(i,r);const a=w(e,["config"]);return a!=null&&pce(a,r),r}function xce(t){const e={},r=w(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Wm(i))),C(e,["generatedImages"],n)}return e}function vce(t,e){const r={},n=w(t,["prompt"]);e!==void 0&&n!=null&&C(e,["instances[0]","prompt"],n);const i=w(t,["personImage"]);e!==void 0&&i!=null&&C(e,["instances[0]","personImage","image"],Ks(i));const a=w(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(A=>gce(A))),C(e,["instances[0]","productImages"],s)}return r}function wce(t){const e={},r=w(t,["referenceImage"]);r!=null&&C(e,["referenceImage"],Ks(r));const n=w(t,["referenceId"]);n!=null&&C(e,["referenceId"],n);const i=w(t,["referenceType"]);i!=null&&C(e,["referenceType"],i);const a=w(t,["maskImageConfig"]);a!=null&&C(e,["maskImageConfig"],hce(a));const s=w(t,["controlImageConfig"]);s!=null&&C(e,["controlImageConfig"],sle(s));const A=w(t,["styleImageConfig"]);A!=null&&C(e,["styleImageConfig"],A);const c=w(t,["subjectImageConfig"]);return c!=null&&C(e,["subjectImageConfig"],c),e}function t5(t){const e={},r=w(t,["safetyAttributes","categories"]);r!=null&&C(e,["categories"],r);const n=w(t,["safetyAttributes","scores"]);n!=null&&C(e,["scores"],n);const i=w(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function r5(t){const e={},r=w(t,["safetyAttributes","categories"]);r!=null&&C(e,["categories"],r);const n=w(t,["safetyAttributes","scores"]);n!=null&&C(e,["scores"],n);const i=w(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function yce(t){const e={},r=w(t,["category"]);if(r!=null&&C(e,["category"],r),w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(t,["threshold"]);return n!=null&&C(e,["threshold"],n),e}function Ece(t){const e={},r=w(t,["image"]);return r!=null&&C(e,["image"],Ks(r)),e}function Cce(t,e){const r={},n=w(t,["mode"]);e!==void 0&&n!=null&&C(e,["parameters","mode"],n);const i=w(t,["maxPredictions"]);e!==void 0&&i!=null&&C(e,["parameters","maxPredictions"],i);const a=w(t,["confidenceThreshold"]);e!==void 0&&a!=null&&C(e,["parameters","confidenceThreshold"],a);const s=w(t,["maskDilation"]);e!==void 0&&s!=null&&C(e,["parameters","maskDilation"],s);const A=w(t,["binaryColorThreshold"]);e!==void 0&&A!=null&&C(e,["parameters","binaryColorThreshold"],A);const c=w(t,["labels"]);return e!==void 0&&c!=null&&C(e,["labels"],c),r}function _ce(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["source"]);i!=null&&bce(i,r);const a=w(e,["config"]);return a!=null&&Cce(a,r),r}function Bce(t){const e={},r=w(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Yle(i))),C(e,["generatedMasks"],n)}return e}function bce(t,e){const r={},n=w(t,["prompt"]);e!==void 0&&n!=null&&C(e,["instances[0]","prompt"],n);const i=w(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Ks(i));const a=w(t,["scribbleImage"]);return e!==void 0&&a!=null&&C(e,["instances[0]","scribble"],Ece(a)),r}function Tce(t){const e={},r=w(t,["retrievalConfig"]);r!=null&&C(e,["retrievalConfig"],r);const n=w(t,["functionCallingConfig"]);return n!=null&&C(e,["functionCallingConfig"],Ile(n)),e}function Sce(t){const e={};if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const n=w(t,["fileSearch"]);n!=null&&C(e,["fileSearch"],n);const i=w(t,["codeExecution"]);if(i!=null&&C(e,["codeExecution"],i),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),C(e,["functionDeclarations"],h)}const s=w(t,["googleMaps"]);s!=null&&C(e,["googleMaps"],rce(s));const A=w(t,["googleSearch"]);A!=null&&C(e,["googleSearch"],nce(A));const c=w(t,["googleSearchRetrieval"]);c!=null&&C(e,["googleSearchRetrieval"],c);const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function n5(t){const e={},r=w(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const n=w(t,["computerUse"]);if(n!=null&&C(e,["computerUse"],n),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=w(t,["codeExecution"]);i!=null&&C(e,["codeExecution"],i);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const s=w(t,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>Nle(v))),C(e,["functionDeclarations"],m)}const A=w(t,["googleMaps"]);A!=null&&C(e,["googleMaps"],A);const c=w(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=w(t,["googleSearchRetrieval"]);u!=null&&C(e,["googleSearchRetrieval"],u);const h=w(t,["urlContext"]);return h!=null&&C(e,["urlContext"],h),e}function Ice(t){const e={},r=w(t,["baseModel"]);r!=null&&C(e,["baseModel"],r);const n=w(t,["createTime"]);n!=null&&C(e,["createTime"],n);const i=w(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function Nce(t){const e={},r=w(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&C(e,["baseModel"],r);const n=w(t,["createTime"]);n!=null&&C(e,["createTime"],n);const i=w(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function Fce(t,e){const r={},n=w(t,["displayName"]);e!==void 0&&n!=null&&C(e,["displayName"],n);const i=w(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const a=w(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&C(e,["defaultCheckpointId"],a),r}function Rce(t,e){const r={},n=w(t,["displayName"]);e!==void 0&&n!=null&&C(e,["displayName"],n);const i=w(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const a=w(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&C(e,["defaultCheckpointId"],a),r}function Dce(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","name"],gr(t,n));const i=w(e,["config"]);return i!=null&&Fce(i,r),r}function kce(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["config"]);return i!=null&&Rce(i,r),r}function Uce(t,e){const r={},n=w(t,["outputGcsUri"]);e!==void 0&&n!=null&&C(e,["parameters","storageUri"],n);const i=w(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&C(e,["parameters","safetySetting"],i);const a=w(t,["personGeneration"]);e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a);const s=w(t,["includeRaiReason"]);e!==void 0&&s!=null&&C(e,["parameters","includeRaiReason"],s);const A=w(t,["outputMimeType"]);e!==void 0&&A!=null&&C(e,["parameters","outputOptions","mimeType"],A);const c=w(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&C(e,["parameters","outputOptions","compressionQuality"],c);const u=w(t,["enhanceInputImage"]);e!==void 0&&u!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=w(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=w(t,["labels"]);e!==void 0&&m!=null&&C(e,["labels"],m);const v=w(t,["numberOfImages"]);e!==void 0&&v!=null&&C(e,["parameters","sampleCount"],v);const _=w(t,["mode"]);return e!==void 0&&_!=null&&C(e,["parameters","mode"],_),r}function Mce(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["_url","model"],gr(t,n));const i=w(e,["image"]);i!=null&&C(r,["instances[0]","image"],Ks(i));const a=w(e,["upscaleFactor"]);a!=null&&C(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=w(e,["config"]);return s!=null&&Uce(s,r),r}function Oce(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Wm(a))),C(e,["generatedImages"],i)}return e}function Lce(t){const e={},r=w(t,["uri"]);r!=null&&C(e,["uri"],r);const n=w(t,["encodedVideo"]);n!=null&&C(e,["videoBytes"],wl(n));const i=w(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function Pce(t){const e={},r=w(t,["gcsUri"]);r!=null&&C(e,["uri"],r);const n=w(t,["bytesBase64Encoded"]);n!=null&&C(e,["videoBytes"],wl(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Qce(t){const e={},r=w(t,["image"]);r!=null&&C(e,["_self"],Ks(r));const n=w(t,["maskMode"]);return n!=null&&C(e,["maskMode"],n),e}function Hce(t){const e={},r=w(t,["image"]);r!=null&&C(e,["image"],Xm(r));const n=w(t,["referenceType"]);return n!=null&&C(e,["referenceType"],n),e}function Vce(t){const e={},r=w(t,["image"]);r!=null&&C(e,["image"],Ks(r));const n=w(t,["referenceType"]);return n!=null&&C(e,["referenceType"],n),e}function i5(t){const e={},r=w(t,["uri"]);r!=null&&C(e,["uri"],r);const n=w(t,["videoBytes"]);n!=null&&C(e,["encodedVideo"],wl(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["encoding"],i),e}function a5(t){const e={},r=w(t,["uri"]);r!=null&&C(e,["gcsUri"],r);const n=w(t,["videoBytes"]);n!=null&&C(e,["bytesBase64Encoded"],wl(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jce(t,e){const r={},n=w(t,["displayName"]);return e!==void 0&&n!=null&&C(e,["displayName"],n),r}function Gce(t){const e={},r=w(t,["config"]);return r!=null&&jce(r,e),e}function Kce(t,e){const r={},n=w(t,["force"]);return e!==void 0&&n!=null&&C(e,["_query","force"],n),r}function zce(t){const e={},r=w(t,["name"]);r!=null&&C(e,["_url","name"],r);const n=w(t,["config"]);return n!=null&&Kce(n,e),e}function Wce(t){const e={},r=w(t,["name"]);return r!=null&&C(e,["_url","name"],r),e}function Xce(t,e){const r={},n=w(t,["customMetadata"]);if(e!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["customMetadata"],a)}const i=w(t,["chunkingConfig"]);return e!==void 0&&i!=null&&C(e,["chunkingConfig"],i),r}function qce(t){const e={},r=w(t,["name"]);r!=null&&C(e,["name"],r);const n=w(t,["metadata"]);n!=null&&C(e,["metadata"],n);const i=w(t,["done"]);i!=null&&C(e,["done"],i);const a=w(t,["error"]);a!=null&&C(e,["error"],a);const s=w(t,["response"]);return s!=null&&C(e,["response"],Jce(s)),e}function Yce(t){const e={},r=w(t,["fileSearchStoreName"]);r!=null&&C(e,["_url","file_search_store_name"],r);const n=w(t,["fileName"]);n!=null&&C(e,["fileName"],n);const i=w(t,["config"]);return i!=null&&Xce(i,e),e}function Jce(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["parent"]);n!=null&&C(e,["parent"],n);const i=w(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function $ce(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),r}function Zce(t){const e={},r=w(t,["config"]);return r!=null&&$ce(r,e),e}function eue(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["fileSearchStores"],a)}return e}function s5(t,e){const r={},n=w(t,["mimeType"]);e!==void 0&&n!=null&&C(e,["mimeType"],n);const i=w(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const a=w(t,["customMetadata"]);if(e!==void 0&&a!=null){let A=a;Array.isArray(A)&&(A=A.map(c=>c)),C(e,["customMetadata"],A)}const s=w(t,["chunkingConfig"]);return e!==void 0&&s!=null&&C(e,["chunkingConfig"],s),r}function tue(t){const e={},r=w(t,["fileSearchStoreName"]);r!=null&&C(e,["_url","file_search_store_name"],r);const n=w(t,["config"]);return n!=null&&s5(n,e),e}function rue(t){const e={},r=w(t,["sdkHttpResponse"]);return r!=null&&C(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nue="Content-Type",iue="X-Server-Timeout",aue="User-Agent",ly="x-goog-api-client",sue="1.38.0",oue=`google-genai-sdk/${sue}`,Aue="v1beta1",lue="v1beta";class cue{constructor(e){var r,n,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(r=e.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const A=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!A?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Aue}else{if(!this.clientOptions.apiKey)throw new Wh({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:lue,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,r){return!(r.baseUrl&&r.baseUrlResourceScope===ny.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[s,A]of Object.entries(e.queryParams))i.searchParams.append(s,String(A));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,r),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const A=setTimeout(()=>a.abort(),r.timeout);A&&typeof A.unref=="function"&&A.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return r&&r.extraBody!==null&&uue(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await PI(i),new iy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await PI(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Qs(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const A="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:h}=yield Rt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const b=JSON.parse(m);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),I=T.status,k=T.code,R=`got status: ${I}. ${JSON.stringify(b)}`;if(k>=400&&k<600)throw new Wh({message:R,status:k})}}catch(b){if(b.name==="ApiError")throw b}s+=m;let v=-1,_=0;for(;;){v=-1,_=0;for(const I of c){const k=s.indexOf(I);k!==-1&&(v===-1||k<v)&&(v=k,_=I.length)}if(v===-1)break;const b=s.substring(0,v);s=s.substring(v+_);const T=b.trim();if(T.startsWith(A)){const I=T.substring(A.length).trim();try{const k=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Rt(new iy(k))}catch(k){throw new Error(`exception parsing stream chunk ${I}. ${k}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=oue+" "+this.clientOptions.userAgentExtra;return e[aue]=r,e[ly]=r,e[nue]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))n.append(i,a);e.timeout&&e.timeout>0&&n.append(iue,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const A=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:s.type;if(A===void 0||A==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=A;const c={file:i},u=this.getFileName(e),h=ft("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,u,c,r==null?void 0:r.httpOptions);return a.upload(e,m,this)}async uploadFileToFileSearchStore(e,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),A=String(s.size),c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(r),m={};n!=null&&s5(n,m);const v=await this.fetchUploadUrl(u,A,c,h,m,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(r,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,a,s){var A;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(A=u==null?void 0:u.headers)===null||A===void 0?void 0:A["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function PI(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new Wh({message:i,status:r}):new Error(i)}}function uue(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const A=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],h=A[c];u&&typeof u=="object"&&!Array.isArray(u)&&h&&typeof h=="object"&&!Array.isArray(h)?A[c]=n(h,u):(h&&u&&typeof h!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof u}. Overwriting.`),A[c]=u)}return A}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fue="mcp_used/unknown";let hue=!1;function o5(t){for(const e of t)if(due(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hue}function A5(t){var e;const r=(e=t[ly])!==null&&e!==void 0?e:"";t[ly]=(r+` ${fue}`).trimStart()}function due(t){return t!==null&&typeof t=="object"&&t instanceof f_}function gue(t){return Qs(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield Rt(r.listTools({cursor:i}));for(const A of s.tools)yield yield Rt(A),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class f_{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new f_(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var A=!0,c=(r=void 0,Hs(gue(h))),u;u=await c.next(),e=u.done,!e;A=!0){i=u.value,A=!1;const m=i;s.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){r={error:m}}finally{try{!A&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),zse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function pue(t,e,r){const n=new Lse;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class mue{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=wue(this.apiClient.getDefaultHeaders()),A=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${A}`;let u=()=>{};const h=new Promise(F=>{u=F}),m=e.callbacks,v=function(){u({})},_=this.apiClient,b={onopen:v,onmessage:F=>{pue(_,m.onmessage,F)},onerror:(r=m==null?void 0:m.onerror)!==null&&r!==void 0?r:function(F){},onclose:(n=m==null?void 0:m.onclose)!==null&&n!==void 0?n:function(F){}},T=this.webSocketFactory.create(c,vue(s),b);T.connect(),await h;const R={setup:{model:gr(this.apiClient,e.model)}};return T.send(JSON.stringify(R)),new xue(T,this.apiClient)}}class xue{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=jAe(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=VAe(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Du.PLAY)}pause(){this.sendPlaybackControl(Du.PAUSE)}stop(){this.sendPlaybackControl(Du.STOP)}resetContext(){this.sendPlaybackControl(Du.RESET_CONTEXT)}close(){this.conn.close()}}function vue(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function wue(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Eue(t,e,r){const n=new Ose;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=zAe(a);Object.assign(n,s)}else Object.assign(n,a);e(n)}class Cue{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new mue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,s,A;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&o5(e.config.tools)&&A5(m);const v=Tue(m);if(this.apiClient.isVertexAI()){const D=this.apiClient.getProject(),Q=this.apiClient.getLocation(),G=this.apiClient.getApiKey(),j=!!D&&!!Q||!!G;this.apiClient.getCustomBaseUrl()&&!j?h=c:(h=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const D=this.apiClient.getApiKey();let Q="BidiGenerateContent",G="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",G="access_token"),h=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${Q}?${G}=${D}`}let _=()=>{};const b=new Promise(D=>{_=D}),T=e.callbacks,I=function(){var D;(D=T==null?void 0:T.onopen)===null||D===void 0||D.call(T),_({})},k=this.apiClient,R={onopen:I,onmessage:D=>{Eue(k,T.onmessage,D)},onerror:(r=T==null?void 0:T.onerror)!==null&&r!==void 0?r:function(D){},onclose:(n=T==null?void 0:T.onclose)!==null&&n!==void 0?n:function(D){}},F=this.webSocketFactory.create(h,bue(v),R);F.connect(),await b;let L=gr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const D=this.apiClient.getProject(),Q=this.apiClient.getLocation();D&&Q&&(L=`projects/${D}/locations/${Q}/`+L)}let W={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Up.AUDIO]}:e.config.responseModalities=[Up.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(A=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&A!==void 0?A:[],N=[];for(const D of P)if(this.isCallableTool(D)){const Q=D;N.push(await Q.tool())}else N.push(D);N.length>0&&(e.config.tools=N);const M={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=HAe(this.apiClient,M):W=QAe(this.apiClient,M),delete W.config,F.send(JSON.stringify(W)),new Bue(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const _ue={turnComplete:!0};class Bue{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=hs(r.turns),e.isVertexAI()||(n=n.map(i=>zm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(yue)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},_ue),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:KAe(e)}:r={realtimeInput:GAe(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function bue(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function Tue(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QI=10;function HI(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(qu(s)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function qu(t){return"callTool"in t&&typeof t.callTool=="function"}function Sue(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>qu(i)))!==null&&n!==void 0?n:!1}function VI(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(qu(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function jI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue extends sA{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,s,A;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!Sue(r)||HI(r.config))return await this.generateContentInternal(c);const u=VI(r);if(u.length>0){const T=u.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let h,m;const v=hs(c.contents),_=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:QI;let b=0;for(;b<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const T=h.candidates[0].content,I=[];for(const k of(A=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&A!==void 0?A:[])if(qu(k)){const F=await k.callTool(h.functionCalls);I.push(...F)}b++,m={role:"user",parts:I},c.contents=hs(c.contents),c.contents.push(T),c.contents.push(m),jI(c.config)&&(v.push(T),v.push(m))}return jI(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async r=>{var n,i,a,s,A;if(this.maybeMoveToResponseJsonSchem(r),HI(r.config)){const m=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(m)}const c=VI(r);if(c.length>0){const m=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(A=(s=r==null?void 0:r.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||A===void 0?void 0:A.disable;if(u&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:s.push(c);let A;return a?A={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:A={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},A}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Oc(Zo.PAGED_ITEM_MODELS,A=>this.listInternal(A),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,A,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(A=r.source)===null||A===void 0?void 0:A.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const s=await Promise.all(a.map(async c=>qu(c)?await c.tool():c)),A={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(A.config.tools=s,e.config&&e.config.tools&&o5(e.config.tools)){const c=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),A5(u),A.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return A}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const s of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(qu(s)){const A=s,c=await A.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,A)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:QI;let s=!1,A=0;const c=await this.initAfcToolsMap(e);return function(u,h,m){return Qs(this,arguments,function*(){for(var v,_,b,T,I,k;A<a;){s&&(A++,s=!1);const W=yield Rt(u.processParamsMaybeAddMcpUsage(m)),P=yield Rt(u.generateContentStreamInternal(W)),N=[],M=[];try{for(var R=!0,F=(_=void 0,Hs(P)),L;L=yield Rt(F.next()),v=L.done,!v;R=!0){T=L.value,R=!1;const D=T;if(yield yield Rt(D),D.candidates&&(!((I=D.candidates[0])===null||I===void 0)&&I.content)){M.push(D.candidates[0].content);for(const Q of(k=D.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(A<a&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(Q.functionCall.name)){const G=yield Rt(h.get(Q.functionCall.name).callTool([Q.functionCall]));N.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(D){_={error:D}}finally{try{!R&&!v&&(b=F.return)&&(yield Rt(b.call(F)))}finally{if(_)throw _.error}}if(N.length>0){s=!0;const D=new df;D.candidates=[{content:{role:"user",parts:N}}],yield yield Rt(D);const Q=[];Q.push(...M),Q.push({role:"user",parts:N});const G=hs(m.contents).concat(Q);m.contents=G}else break}})}(this,c,e)}async generateContentInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=MI(this.apiClient,e);return A=ft("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=LI(h),v=new df;return Object.assign(v,m),v})}else{const u=UI(this.apiClient,e);return A=ft("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=OI(h),v=new df;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=MI(this.apiClient,e);return A=ft("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(m){return Qs(this,arguments,function*(){var v,_,b,T;try{for(var I=!0,k=Hs(m),R;R=yield Rt(k.next()),v=R.done,!v;I=!0){T=R.value,I=!1;const F=T,L=LI(yield Rt(F.json()));L.sdkHttpResponse={headers:F.headers};const W=new df;Object.assign(W,L),yield yield Rt(W)}}catch(F){_={error:F}}finally{try{!I&&!v&&(b=k.return)&&(yield Rt(b.call(k)))}finally{if(_)throw _.error}}})})}else{const u=UI(this.apiClient,e);return A=ft("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return Qs(this,arguments,function*(){var v,_,b,T;try{for(var I=!0,k=Hs(m),R;R=yield Rt(k.next()),v=R.done,!v;I=!0){T=R.value,I=!1;const F=T,L=OI(yield Rt(F.json()));L.sdkHttpResponse={headers:F.headers};const W=new df;Object.assign(W,L),yield yield Rt(W)}}catch(F){_={error:F}}finally{try{!I&&!v&&(b=k.return)&&(yield Rt(b.call(k)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Cle(this.apiClient,e);return A=ft("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Ble(h),v=new xI;return Object.assign(v,m),v})}else{const u=Ele(this.apiClient,e);return A=ft("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=_le(h),v=new xI;return Object.assign(v,m),v})}}async generateImagesInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Mle(this.apiClient,e);return A=ft("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Lle(h),v=new vI;return Object.assign(v,m),v})}else{const u=Ule(this.apiClient,e);return A=ft("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Ole(h),v=new vI;return Object.assign(v,m),v})}}async editImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=xle(this.apiClient,e);return a=ft("{model}:predict",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=vle(c),h=new bse;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=Mce(this.apiClient,e);return a=ft("{model}:predict",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=Oce(c),h=new Tse;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=mce(this.apiClient,e);return a=ft("{model}:predict",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=xce(c),h=new Sse;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=_ce(this.apiClient,e);return a=ft("{model}:predict",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Bce(c),h=new Ise;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=tce(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>Ay(h))}else{const u=ece(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>oy(h))}}async listInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=cce(this.apiClient,e);return A=ft("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=fce(h),v=new wI;return Object.assign(v,m),v})}else{const u=lce(this.apiClient,e);return A=ft("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=uce(h),v=new wI;return Object.assign(v,m),v})}}async update(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=kce(this.apiClient,e);return A=ft("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>Ay(h))}else{const u=Dce(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>oy(h))}}async delete(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=dle(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=ple(h),v=new yI;return Object.assign(v,m),v})}else{const u=hle(this.apiClient,e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=gle(h),v=new yI;return Object.assign(v,m),v})}}async countTokens(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=cle(this.apiClient,e);return A=ft("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=fle(h),v=new EI;return Object.assign(v,m),v})}else{const u=lle(this.apiClient,e);return A=ft("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=ule(h),v=new EI;return Object.assign(v,m),v})}}async computeTokens(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=rle(this.apiClient,e);return a=ft("{model}:computeTokens",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const u=nle(c),h=new Nse;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=Gle(this.apiClient,e);return A=ft("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Vle(h),v=new Mp;return Object.assign(v,m),v})}else{const u=jle(this.apiClient,e);return A=ft("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Hle(h),v=new Mp;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nue extends sA{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=wse(e);return A=ft("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json()),s}else{const u=vse(e);return A=ft("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=fse(e);return a=ft("{resourceName}:fetchPredictOperation",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fue(t){const e={},r=w(t,["data"]);if(r!=null&&C(e,["data"],r),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function Rue(t){const e={},r=w(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Hue(a))),C(e,["parts"],i)}const n=w(t,["role"]);return n!=null&&C(e,["role"],n),e}function Due(t,e,r){const n={},i=w(e,["expireTime"]);r!==void 0&&i!=null&&C(r,["expireTime"],i);const a=w(e,["newSessionExpireTime"]);r!==void 0&&a!=null&&C(r,["newSessionExpireTime"],a);const s=w(e,["uses"]);r!==void 0&&s!=null&&C(r,["uses"],s);const A=w(e,["liveConnectConstraints"]);r!==void 0&&A!=null&&C(r,["bidiGenerateContentSetup"],Que(t,A));const c=w(e,["lockAdditionalFields"]);return r!==void 0&&c!=null&&C(r,["fieldMask"],c),n}function kue(t,e){const r={},n=w(e,["config"]);return n!=null&&C(r,["config"],Due(t,n,r)),r}function Uue(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=w(t,["fileUri"]);r!=null&&C(e,["fileUri"],r);const n=w(t,["mimeType"]);return n!=null&&C(e,["mimeType"],n),e}function Mue(t){const e={},r=w(t,["id"]);r!=null&&C(e,["id"],r);const n=w(t,["args"]);n!=null&&C(e,["args"],n);const i=w(t,["name"]);if(i!=null&&C(e,["name"],i),w(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(w(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Oue(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=w(t,["enableWidget"]);return r!=null&&C(e,["enableWidget"],r),e}function Lue(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=w(t,["timeRangeFilter"]);return r!=null&&C(e,["timeRangeFilter"],r),e}function Pue(t,e){const r={},n=w(t,["generationConfig"]);e!==void 0&&n!=null&&C(e,["setup","generationConfig"],n);const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const a=w(t,["temperature"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","temperature"],a);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const A=w(t,["topK"]);e!==void 0&&A!=null&&C(e,["setup","generationConfig","topK"],A);const c=w(t,["maxOutputTokens"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","maxOutputTokens"],c);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const h=w(t,["seed"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","seed"],h);const m=w(t,["speechConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","speechConfig"],u_(m));const v=w(t,["thinkingConfig"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","thinkingConfig"],v);const _=w(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=w(t,["systemInstruction"]);e!==void 0&&b!=null&&C(e,["setup","systemInstruction"],Rue(Ri(b)));const T=w(t,["tools"]);if(e!==void 0&&T!=null){let P=O0(T);Array.isArray(P)&&(P=P.map(N=>jue(M0(N)))),C(e,["setup","tools"],P)}const I=w(t,["sessionResumption"]);e!==void 0&&I!=null&&C(e,["setup","sessionResumption"],Vue(I));const k=w(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","inputAudioTranscription"],k);const R=w(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&C(e,["setup","outputAudioTranscription"],R);const F=w(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&C(e,["setup","realtimeInputConfig"],F);const L=w(t,["contextWindowCompression"]);e!==void 0&&L!=null&&C(e,["setup","contextWindowCompression"],L);const W=w(t,["proactivity"]);if(e!==void 0&&W!=null&&C(e,["setup","proactivity"],W),w(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Que(t,e){const r={},n=w(e,["model"]);n!=null&&C(r,["setup","model"],gr(t,n));const i=w(e,["config"]);return i!=null&&C(r,["config"],Pue(i,r)),r}function Hue(t){const e={},r=w(t,["mediaResolution"]);r!=null&&C(e,["mediaResolution"],r);const n=w(t,["codeExecutionResult"]);n!=null&&C(e,["codeExecutionResult"],n);const i=w(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const a=w(t,["fileData"]);a!=null&&C(e,["fileData"],Uue(a));const s=w(t,["functionCall"]);s!=null&&C(e,["functionCall"],Mue(s));const A=w(t,["functionResponse"]);A!=null&&C(e,["functionResponse"],A);const c=w(t,["inlineData"]);c!=null&&C(e,["inlineData"],Fue(c));const u=w(t,["text"]);u!=null&&C(e,["text"],u);const h=w(t,["thought"]);h!=null&&C(e,["thought"],h);const m=w(t,["thoughtSignature"]);m!=null&&C(e,["thoughtSignature"],m);const v=w(t,["videoMetadata"]);return v!=null&&C(e,["videoMetadata"],v),e}function Vue(t){const e={},r=w(t,["handle"]);if(r!=null&&C(e,["handle"],r),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jue(t){const e={};if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const n=w(t,["fileSearch"]);n!=null&&C(e,["fileSearch"],n);const i=w(t,["codeExecution"]);if(i!=null&&C(e,["codeExecution"],i),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),C(e,["functionDeclarations"],h)}const s=w(t,["googleMaps"]);s!=null&&C(e,["googleMaps"],Oue(s));const A=w(t,["googleSearch"]);A!=null&&C(e,["googleSearch"],Lue(A));const c=w(t,["googleSearchRetrieval"]);c!=null&&C(e,["googleSearchRetrieval"],c);const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gue(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);e.push(...i)}else e.push(r)}return e.join(",")}function Kue(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,r=a):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const a=Gue(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let A=[];i.length>0&&(A=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),A.length>0&&c.push(...A),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class zue extends sA{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const A=kue(this.apiClient,e);a=ft("auth_tokens",A._url),s=A._query,delete A.config,delete A._url,delete A._query;const c=Kue(A,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wue(t,e){const r={},n=w(t,["force"]);return e!==void 0&&n!=null&&C(e,["_query","force"],n),r}function Xue(t){const e={},r=w(t,["name"]);r!=null&&C(e,["_url","name"],r);const n=w(t,["config"]);return n!=null&&Wue(n,e),e}function que(t){const e={},r=w(t,["name"]);return r!=null&&C(e,["_url","name"],r),e}function Yue(t,e){const r={},n=w(t,["pageSize"]);e!==void 0&&n!=null&&C(e,["_query","pageSize"],n);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),r}function Jue(t){const e={},r=w(t,["parent"]);r!=null&&C(e,["_url","parent"],r);const n=w(t,["config"]);return n!=null&&Yue(n,e),e}function $ue(t){const e={},r=w(t,["sdkHttpResponse"]);r!=null&&C(e,["sdkHttpResponse"],r);const n=w(t,["nextPageToken"]);n!=null&&C(e,["nextPageToken"],n);const i=w(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),C(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zue extends sA{constructor(e){super(),this.apiClient=e,this.list=async r=>new Oc(Zo.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=que(e);return a=ft("{name}",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xue(e);i=ft("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Jue(e);return a=ft("{parent}/documents",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=$ue(c),h=new Fse;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e0e extends sA{constructor(e,r=new Zue(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new Oc(Zo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Gce(e);return a=ft("fileSearchStores",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Wce(e);return a=ft("{name}",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zce(e);i=ft("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Zce(e);return a=ft("fileSearchStores",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=eue(c),h=new Rse;return Object.assign(h,u),h})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=tue(e);return a=ft("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=rue(c),h=new Dse;return Object.assign(h,u),h})}}async importFile(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=Yce(e);return a=ft("{file_search_store_name}:importFile",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=qce(c),h=new s_;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let l5=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return l5=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const t0e=()=>l5();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cy(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const uy=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms extends Error{}class qi extends ms{constructor(e,r,n,i){super(`${qi.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new qm({message:n,cause:uy(r)});const a=r;return e===400?new u5(e,a,n,i):e===401?new f5(e,a,n,i):e===403?new h5(e,a,n,i):e===404?new d5(e,a,n,i):e===409?new g5(e,a,n,i):e===422?new p5(e,a,n,i):e===429?new m5(e,a,n,i):e>=500?new x5(e,a,n,i):new qi(e,a,n,i)}}class fy extends qi{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class qm extends qi{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class c5 extends qm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class u5 extends qi{}class f5 extends qi{}class h5 extends qi{}class d5 extends qi{}class g5 extends qi{}class p5 extends qi{}class m5 extends qi{}class x5 extends qi{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r0e=/^[a-z][a-z0-9+.-]*:/i,n0e=t=>r0e.test(t);let hy=t=>(hy=Array.isArray,hy(t));const i0e=hy;let a0e=i0e;const GI=a0e;function s0e(t){if(!t)return!0;for(const e in t)return!1;return!0}function o0e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const A0e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ms(`${t} must be an integer`);if(e<0)throw new ms(`${t} must be a positive integer`);return e},l0e=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0e=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fu="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u0e(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const f0e=()=>{var t,e,r,n,i;const a=u0e();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fu,"X-Stainless-OS":zI(Deno.build.os),"X-Stainless-Arch":KI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fu,"X-Stainless-OS":zI((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":KI((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=h0e();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h0e(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const KI=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",zI=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Z1;const d0e=()=>Z1??(Z1=f0e());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function v5(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function p0e(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return v5({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function w5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function m0e(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x0e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y5=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function W2(t,e,r){return y5(),new File(t,e??"unknown_file",r)}function v0e(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const w0e=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E5=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",y0e=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&E5(t),E0e=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function C0e(t,e,r){if(y5(),t=await t,y0e(t))return t instanceof File?t:W2([await t.arrayBuffer()],t.name);if(E0e(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),W2(await dy(i),e,r)}const n=await dy(t);if(e||(e=v0e(t)),!(r!=null&&r.type)){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return W2(n,e,r)}async function dy(t){var e,r,n,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(E5(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(w0e(t))try{for(var A=!0,c=Hs(t),u;u=await c.next(),e=u.done,!e;A=!0){i=u.value,A=!1;const h=i;s.push(...await dy(h))}}catch(h){r={error:h}}finally{try{!A&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const h=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${_0e(t)}`)}return s}function _0e(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C5{constructor(e){this._client=e}}C5._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _5(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const WI=Object.freeze(Object.create(null)),B0e=(t=_5)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((h,m,v)=>{var _,b,T;/[?#]/.test(m)&&(i=!0);const I=n[v];let k=(i?encodeURIComponent:t)(""+I);return v!==n.length&&(I==null||typeof I=="object"&&I.toString===((T=Object.getPrototypeOf((b=Object.getPrototypeOf((_=I.hasOwnProperty)!==null&&_!==void 0?_:WI))!==null&&b!==void 0?b:WI))===null||T===void 0?void 0:T.toString))&&(k=I+"",a.push({start:h.length+m.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),h+m+(v===n.length?"":k)},""),A=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(A))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((v,_)=>{const b=" ".repeat(_.start-h),T="^".repeat(_.length);return h=_.start+_.length,v+b+T},"");throw new ms(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${s}
${m}`)}return s},eg=B0e(_5);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B5 extends C5{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,a=Lp(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new ms("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ms("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(eg`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(eg`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(eg`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,A=Lp(a,["api_version"]);return this._client.get(eg`/${s}/interactions/${e}`,Object.assign(Object.assign({query:A},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}B5._key=Object.freeze(["interactions"]);class b5 extends B5{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0e(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let tg;function h_(t){let e;return(tg??(e=new globalThis.TextEncoder,tg=e.encode.bind(e)))(t)}let rg;function XI(t){let e;return(rg??(e=new globalThis.TextDecoder,rg=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ym{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?h_(e):e;this.buffer=b0e([this.buffer,r]);const n=[];let i;for(;(i=T0e(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(XI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=XI(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Ym.NEWLINE_CHARS=new Set([`
`,"\r"]);Ym.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function T0e(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function S0e(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pp={off:0,error:200,warn:300,info:400,debug:500},qI=(t,e,r)=>{if(t){if(o0e(Pp,t))return t;Hi(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Pp))}`)}};function kf(){}function ng(t,e,r){return!e||Pp[t]>Pp[r]?kf:e[t].bind(e)}const I0e={error:kf,warn:kf,info:kf,debug:kf};let YI=new WeakMap;function Hi(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return I0e;const i=YI.get(r);if(i&&i[0]===n)return i[1];const a={error:ng("error",r,n),warn:ng("warn",r,n),info:ng("info",r,n),debug:ng("debug",r,n)};return YI.set(r,[n,a]),a}const jl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const a=n?Hi(n):console;function s(){return Qs(this,arguments,function*(){var c,u,h,m;if(i)throw new ms("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,b=Hs(N0e(e,r)),T;T=yield Rt(b.next()),c=T.done,!c;_=!0){m=T.value,_=!1;const I=m;if(!v)if(I.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Rt(JSON.parse(I.data))}catch(k){throw a.error("Could not parse message into JSON:",I.data),a.error("From chunk:",I.raw),k}}}catch(I){u={error:I}}finally{try{!_&&!c&&(h=b.return)&&(yield Rt(h.call(b)))}finally{if(u)throw u.error}}v=!0}catch(I){if(cy(I))return yield Rt(void 0);throw I}finally{v||r.abort()}})}return new ku(s,r,n)}static fromReadableStream(e,r,n){let i=!1;function a(){return Qs(this,arguments,function*(){var c,u,h,m;const v=new Ym,_=w5(e);try{for(var b=!0,T=Hs(_),I;I=yield Rt(T.next()),c=I.done,!c;b=!0){m=I.value,b=!1;const k=m;for(const R of v.decode(k))yield yield Rt(R)}}catch(k){u={error:k}}finally{try{!b&&!c&&(h=T.return)&&(yield Rt(h.call(T)))}finally{if(u)throw u.error}}for(const k of v.flush())yield yield Rt(k)})}function s(){return Qs(this,arguments,function*(){var c,u,h,m;if(i)throw new ms("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,b=Hs(a()),T;T=yield Rt(b.next()),c=T.done,!c;_=!0){m=T.value,_=!1;const I=m;v||I&&(yield yield Rt(JSON.parse(I)))}}catch(I){u={error:I}}finally{try{!_&&!c&&(h=b.return)&&(yield Rt(h.call(b)))}finally{if(u)throw u.error}}v=!0}catch(I){if(cy(I))return yield Rt(void 0);throw I}finally{v||r.abort()}})}return new ku(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();e.push(s),r.push(s)}return a.shift()}});return[new ku(()=>i(e),this.controller,this.client),new ku(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return v5({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=h_(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function N0e(t,e){return Qs(this,arguments,function*(){var n,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ms("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ms("Attempted to iterate over a response with no body");const A=new R0e,c=new Ym,u=w5(t.body);try{for(var h=!0,m=Hs(F0e(u)),v;v=yield Rt(m.next()),n=v.done,!n;h=!0){s=v.value,h=!1;const _=s;for(const b of c.decode(_)){const T=A.decode(b);T&&(yield yield Rt(T))}}}catch(_){i={error:_}}finally{try{!h&&!n&&(a=m.return)&&(yield Rt(a.call(m)))}finally{if(i)throw i.error}}for(const _ of c.flush()){const b=A.decode(_);b&&(yield yield Rt(b))}})}function F0e(t){return Qs(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var A=!0,c=Hs(t),u;u=yield Rt(c.next()),r=u.done,!r;A=!0){a=u.value,A=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?h_(h):h;let v=new Uint8Array(s.length+m.length);v.set(s),v.set(m,s.length),s=v;let _;for(;(_=S0e(s))!==-1;)yield yield Rt(s.slice(0,_)),s=s.slice(_)}}catch(h){n={error:h}}finally{try{!A&&!r&&(i=c.return)&&(yield Rt(i.call(c)))}finally{if(n)throw n.error}}s.length>0&&(yield yield Rt(s))})}class R0e{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=D0e(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function D0e(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function k0e(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var A;if(e.options.stream)return Hi(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):ku.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(A=c==null?void 0:c.split(";")[0])===null||A===void 0?void 0:A.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await r.json():await r.text()})();return Hi(t).debug(`[${n}] response parsed`,jl({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_ extends Promise{constructor(e,r,n=k0e){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new d_(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T5=Symbol("brand.privateNullableHeaders");function*U0e(t){if(!t)return;if(T5 in t){const{values:n,nulls:i}=t;yield*n.entries();for(const a of i)yield[a,null];return}let e=!1,r;t instanceof Headers?r=t.entries():GI(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=GI(n[1])?n[1]:[n[1]];let s=!1;for(const A of a)A!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,A])}}const gf=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[a,s]of U0e(n)){const A=a.toLowerCase();i.has(A)||(e.delete(a),i.add(A)),s===null?(e.delete(a),r.add(A)):(e.append(a,s),r.delete(A))}}return{[T5]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X2=t=>{var e,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(e=sse)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var S5;class Jm{constructor(e){var r,n,i,a,s,A,c,{baseURL:u=X2("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(r=X2("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:m="v1beta"}=e,v=Lp(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:m},v),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(n=_.timeout)!==null&&n!==void 0?n:Jm.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(s=(a=qI(_.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:qI(X2("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:b,this.fetchOptions=_.fetchOptions,this.maxRetries=(A=_.maxRetries)!==null&&A!==void 0?A:2,this.fetch=(c=_.fetch)!==null&&c!==void 0?c:g0e(),this.encoder=x0e,this._options=_,this.apiKey=h,this.apiVersion=m,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=gf([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return gf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return gf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new ms(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${fu}`}defaultIdempotencyKey(){return`stainless-node-retry-${t0e()}`}makeStatusError(e,r,n,i){return qi.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=n0e(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return s0e(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new d_(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,a,s;const A=await e,c=(i=A.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(A);const{req:u,url:h,timeout:m}=await this.buildRequest(A,{retryCount:c-r});await this.prepareRequest(u,{url:h,options:A});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=n===void 0?"":`, retryOf: ${n}`,b=Date.now();if(Hi(this).debug(`[${v}] sending request`,jl({retryOfRequestLogID:n,method:A.method,url:h,options:A,headers:u.headers})),!((a=A.signal)===null||a===void 0)&&a.aborted)throw new fy;const T=new AbortController,I=await this.fetchWithTimeout(h,u,m,T).catch(uy),k=Date.now();if(I instanceof globalThis.Error){const F=`retrying, ${r} attempts remaining`;if(!((s=A.signal)===null||s===void 0)&&s.aborted)throw new fy;const L=cy(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(r)return Hi(this).info(`[${v}] connection ${L?"timed out":"failed"} - ${F}`),Hi(this).debug(`[${v}] connection ${L?"timed out":"failed"} (${F})`,jl({retryOfRequestLogID:n,url:h,durationMs:k-b,message:I.message})),this.retryRequest(A,r,n??v);throw Hi(this).info(`[${v}] connection ${L?"timed out":"failed"} - error; no more retries left`),Hi(this).debug(`[${v}] connection ${L?"timed out":"failed"} (error; no more retries left)`,jl({retryOfRequestLogID:n,url:h,durationMs:k-b,message:I.message})),L?new c5:new qm({cause:I})}const R=`[${v}${_}] ${u.method} ${h} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${k-b}ms`;if(!I.ok){const F=await this.shouldRetry(I);if(r&&F){const D=`retrying, ${r} attempts remaining`;return await m0e(I.body),Hi(this).info(`${R} - ${D}`),Hi(this).debug(`[${v}] response error (${D})`,jl({retryOfRequestLogID:n,url:I.url,status:I.status,headers:I.headers,durationMs:k-b})),this.retryRequest(A,r,n??v,I.headers)}const L=F?"error; no more retries left":"error; not retryable";Hi(this).info(`${R} - ${L}`);const W=await I.text().catch(D=>uy(D).message),P=l0e(W),N=P?void 0:W;throw Hi(this).debug(`[${v}] response error (${L})`,jl({retryOfRequestLogID:n,url:I.url,status:I.status,headers:I.headers,message:N,durationMs:Date.now()-b})),this.makeStatusError(I.status,P,N,I.headers)}return Hi(this).info(R),Hi(this).debug(`[${v}] response start`,jl({retryOfRequestLogID:n,url:I.url,status:I.status,headers:I.headers,durationMs:k-b})),{response:I,options:A,controller:T,requestLogID:v,retryOfRequestLogID:n,startTime:b}}async fetchWithTimeout(e,r,n,i){const a=r||{},{signal:s,method:A}=a,c=Lp(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),n),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);A&&(m.method=A.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(u)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var a;let s;const A=i==null?void 0:i.get("retry-after-ms");if(A){const u=parseFloat(A);Number.isNaN(u)||(s=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,u)}return await c0e(s),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,s=Math.min(.5*Math.pow(2,a),8),A=1-Math.random()*.25;return s*A*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},e),{method:A,path:c,query:u,defaultBaseURL:h}=s,m=this.buildURL(c,u,h);"timeout"in s&&A0e("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:v,body:_}=this.buildBody({options:s}),b=await this.buildHeaders({options:e,method:A,bodyHeaders:v,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:A,headers:b},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:s.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let A=gf([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),d0e()),this._options.defaultHeaders,n,e.headers,s]);return this.validateHeaders(A),A.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=gf([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:p0e(e)}:this.encoder({body:e,headers:n})}}Jm.DEFAULT_TIMEOUT=6e4;class ri extends Jm{constructor(){super(...arguments),this.interactions=new b5(this)}}S5=ri;ri.GeminiNextGenAPIClient=S5;ri.GeminiNextGenAPIClientError=ms;ri.APIError=qi;ri.APIConnectionError=qm;ri.APIConnectionTimeoutError=c5;ri.APIUserAbortError=fy;ri.NotFoundError=d5;ri.ConflictError=g5;ri.RateLimitError=m5;ri.BadRequestError=u5;ri.AuthenticationError=f5;ri.InternalServerError=x5;ri.PermissionDeniedError=h5;ri.UnprocessableEntityError=p5;ri.toFile=C0e;ri.Interactions=b5;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M0e(t,e){const r={},n=w(t,["name"]);return n!=null&&C(r,["_url","name"],n),r}function O0e(t,e){const r={},n=w(t,["name"]);return n!=null&&C(r,["_url","name"],n),r}function L0e(t,e){const r={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(r,["sdkHttpResponse"],n),r}function P0e(t,e){const r={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(r,["sdkHttpResponse"],n),r}function Q0e(t,e,r){const n={};if(w(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=w(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&C(e,["displayName"],i),w(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=w(t,["epochCount"]);e!==void 0&&a!=null&&C(e,["tuningTask","hyperparameters","epochCount"],a);const s=w(t,["learningRateMultiplier"]);if(s!=null&&C(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),w(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(w(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(w(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const A=w(t,["batchSize"]);e!==void 0&&A!=null&&C(e,["tuningTask","hyperparameters","batchSize"],A);const c=w(t,["learningRate"]);if(e!==void 0&&c!=null&&C(e,["tuningTask","hyperparameters","learningRate"],c),w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(w(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function H0e(t,e,r){const n={};let i=w(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=w(t,["validationDataset"]);e!==void 0&&_!=null&&C(e,["supervisedTuningSpec"],JI(_))}else if(i==="PREFERENCE_TUNING"){const _=w(t,["validationDataset"]);e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec"],JI(_))}const a=w(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&C(e,["tunedModelDisplayName"],a);const s=w(t,["description"]);e!==void 0&&s!=null&&C(e,["description"],s);let A=w(r,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const _=w(t,["epochCount"]);e!==void 0&&_!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(A==="PREFERENCE_TUNING"){const _=w(t,["epochCount"]);e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=w(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=w(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=w(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let u=w(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=w(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(u==="PREFERENCE_TUNING"){const _=w(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=w(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=w(t,["adapterSize"]);e!==void 0&&_!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=w(t,["adapterSize"]);e!==void 0&&_!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(w(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(w(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=w(t,["labels"]);e!==void 0&&m!=null&&C(e,["labels"],m);const v=w(t,["beta"]);return e!==void 0&&v!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),n}function V0e(t,e){const r={},n=w(t,["baseModel"]);n!=null&&C(r,["baseModel"],n);const i=w(t,["preTunedModel"]);i!=null&&C(r,["preTunedModel"],i);const a=w(t,["trainingDataset"]);a!=null&&Z0e(a);const s=w(t,["config"]);return s!=null&&Q0e(s,r),r}function j0e(t,e){const r={},n=w(t,["baseModel"]);n!=null&&C(r,["baseModel"],n);const i=w(t,["preTunedModel"]);i!=null&&C(r,["preTunedModel"],i);const a=w(t,["trainingDataset"]);a!=null&&efe(a,r,e);const s=w(t,["config"]);return s!=null&&H0e(s,r,e),r}function G0e(t,e){const r={},n=w(t,["name"]);return n!=null&&C(r,["_url","name"],n),r}function K0e(t,e){const r={},n=w(t,["name"]);return n!=null&&C(r,["_url","name"],n),r}function z0e(t,e,r){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const a=w(t,["pageToken"]);e!==void 0&&a!=null&&C(e,["_query","pageToken"],a);const s=w(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function W0e(t,e,r){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const a=w(t,["pageToken"]);e!==void 0&&a!=null&&C(e,["_query","pageToken"],a);const s=w(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function X0e(t,e){const r={},n=w(t,["config"]);return n!=null&&z0e(n,r),r}function q0e(t,e){const r={},n=w(t,["config"]);return n!=null&&W0e(n,r),r}function Y0e(t,e){const r={},n=w(t,["sdkHttpResponse"]);n!=null&&C(r,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(r,["nextPageToken"],i);const a=w(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(A=>I5(A))),C(r,["tuningJobs"],s)}return r}function J0e(t,e){const r={},n=w(t,["sdkHttpResponse"]);n!=null&&C(r,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(r,["nextPageToken"],i);const a=w(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(A=>gy(A))),C(r,["tuningJobs"],s)}return r}function $0e(t,e){const r={},n=w(t,["name"]);n!=null&&C(r,["model"],n);const i=w(t,["name"]);return i!=null&&C(r,["endpoint"],i),r}function Z0e(t,e){const r={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=w(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),C(r,["examples","examples"],i)}return r}function efe(t,e,r){const n={};let i=w(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=w(t,["gcsUri"]);e!==void 0&&s!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=w(t,["gcsUri"]);e!==void 0&&s!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=w(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=w(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=w(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(w(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function I5(t,e){const r={},n=w(t,["sdkHttpResponse"]);n!=null&&C(r,["sdkHttpResponse"],n);const i=w(t,["name"]);i!=null&&C(r,["name"],i);const a=w(t,["state"]);a!=null&&C(r,["state"],Kk(a));const s=w(t,["createTime"]);s!=null&&C(r,["createTime"],s);const A=w(t,["tuningTask","startTime"]);A!=null&&C(r,["startTime"],A);const c=w(t,["tuningTask","completeTime"]);c!=null&&C(r,["endTime"],c);const u=w(t,["updateTime"]);u!=null&&C(r,["updateTime"],u);const h=w(t,["description"]);h!=null&&C(r,["description"],h);const m=w(t,["baseModel"]);m!=null&&C(r,["baseModel"],m);const v=w(t,["_self"]);return v!=null&&C(r,["tunedModel"],$0e(v)),r}function gy(t,e){const r={},n=w(t,["sdkHttpResponse"]);n!=null&&C(r,["sdkHttpResponse"],n);const i=w(t,["name"]);i!=null&&C(r,["name"],i);const a=w(t,["state"]);a!=null&&C(r,["state"],Kk(a));const s=w(t,["createTime"]);s!=null&&C(r,["createTime"],s);const A=w(t,["startTime"]);A!=null&&C(r,["startTime"],A);const c=w(t,["endTime"]);c!=null&&C(r,["endTime"],c);const u=w(t,["updateTime"]);u!=null&&C(r,["updateTime"],u);const h=w(t,["error"]);h!=null&&C(r,["error"],h);const m=w(t,["description"]);m!=null&&C(r,["description"],m);const v=w(t,["baseModel"]);v!=null&&C(r,["baseModel"],v);const _=w(t,["tunedModel"]);_!=null&&C(r,["tunedModel"],_);const b=w(t,["preTunedModel"]);b!=null&&C(r,["preTunedModel"],b);const T=w(t,["supervisedTuningSpec"]);T!=null&&C(r,["supervisedTuningSpec"],T);const I=w(t,["preferenceOptimizationSpec"]);I!=null&&C(r,["preferenceOptimizationSpec"],I);const k=w(t,["tuningDataStats"]);k!=null&&C(r,["tuningDataStats"],k);const R=w(t,["encryptionSpec"]);R!=null&&C(r,["encryptionSpec"],R);const F=w(t,["partnerModelTuningSpec"]);F!=null&&C(r,["partnerModelTuningSpec"],F);const L=w(t,["customBaseModel"]);L!=null&&C(r,["customBaseModel"],L);const W=w(t,["experiment"]);W!=null&&C(r,["experiment"],W);const P=w(t,["labels"]);P!=null&&C(r,["labels"],P);const N=w(t,["outputUri"]);N!=null&&C(r,["outputUri"],N);const M=w(t,["pipelineJob"]);M!=null&&C(r,["pipelineJob"],M);const D=w(t,["serviceAccount"]);D!=null&&C(r,["serviceAccount"],D);const Q=w(t,["tunedModelDisplayName"]);Q!=null&&C(r,["tunedModelDisplayName"],Q);const G=w(t,["veoTuningSpec"]);return G!=null&&C(r,["veoTuningSpec"],G),r}function tfe(t,e){const r={},n=w(t,["sdkHttpResponse"]);n!=null&&C(r,["sdkHttpResponse"],n);const i=w(t,["name"]);i!=null&&C(r,["name"],i);const a=w(t,["metadata"]);a!=null&&C(r,["metadata"],a);const s=w(t,["done"]);s!=null&&C(r,["done"],s);const A=w(t,["error"]);return A!=null&&C(r,["error"],A),r}function JI(t,e){const r={},n=w(t,["gcsUri"]);n!=null&&C(r,["validationDatasetUri"],n);const i=w(t,["vertexDatasetResource"]);return i!=null&&C(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rfe extends sA{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new Oc(Zo.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:ry.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=K0e(e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>gy(h))}else{const u=G0e(e);return A=ft("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>I5(h))}}async listInternal(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=q0e(e);return A=ft("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=J0e(h),v=new CI;return Object.assign(v,m),v})}else{const u=X0e(e);return A=ft("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=Y0e(h),v=new CI;return Object.assign(v,m),v})}}async cancel(e){var r,n,i,a;let s,A="",c={};if(this.apiClient.isVertexAI()){const u=O0e(e);return A=ft("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=P0e(h),v=new _I;return Object.assign(v,m),v})}else{const u=M0e(e);return A=ft("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:A,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const m=L0e(h),v=new _I;return Object.assign(v,m),v})}}async tuneInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const A=j0e(e,e);return a=ft("tuningJobs",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>gy(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const A=V0e(e);return a=ft("tunedModels",A._url),s=A._query,delete A._url,delete A._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(A),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>tfe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nfe{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ife=1024*1024*8,afe=3,sfe=1e3,ofe=2,Qp="x-goog-upload-status";async function Afe(t,e,r){var n;const i=await N5(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Qp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function lfe(t,e,r){var n;const i=await N5(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Qp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Pk(a),A=new o_;return Object.assign(A,s),A}async function N5(t,e,r){var n,i;let a=0,s=0,A=new iy(new Response),c="upload";for(a=t.size;s<a;){const u=Math.min(ife,a-s),h=t.slice(s,s+u);s+u>=a&&(c+=", finalize");let m=0,v=sfe;for(;m<afe&&(A=await r.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((n=A==null?void 0:A.headers)===null||n===void 0)&&n[Qp]));)m++,await ufe(v),v=v*ofe;if(s+=u,((i=A==null?void 0:A.headers)===null||i===void 0?void 0:i[Qp])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return A}async function cfe(t){return{size:t.size,type:t.type}}function ufe(t){return new Promise(e=>setTimeout(e,t))}class ffe{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Afe(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lfe(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cfe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hfe{create(e,r,n){return new dfe(e,r,n)}}class dfe{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I="x-goog-api-key";class gfe{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get($I)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append($I,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pfe="gl-node/";class mfe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new ri({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=cse(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new gfe(this.apiKey);this.apiClient=new cue({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pfe+"web",uploader:new ffe,downloader:new nfe}),this.models=new Iue(this.apiClient),this.live=new Cue(this.apiClient,i,new hfe),this.batches=new Poe(this.apiClient),this.chats=new wAe(this.models,this.apiClient),this.caches=new mAe(this.apiClient),this.files=new NAe(this.apiClient),this.operations=new Nue(this.apiClient),this.authTokens=new zue(this.apiClient),this.tunings=new rfe(this.apiClient),this.fileSearchStores=new e0e(this.apiClient)}}const xfe=({products:t,invoices:e,currentUser:r,onAction:n,onSearchProduct:i})=>{const[a,s]=me.useState(!1),[A,c]=me.useState(!1),[u,h]=me.useState(null),[m,v]=me.useState(""),_=me.useRef(null),b=me.useRef(null);me.useEffect(()=>{const k=window.SpeechRecognition||window.webkitSpeechRecognition;k&&(_.current=new k,_.current.continuous=!1,_.current.lang="ar-MA",_.current.interimResults=!0,_.current.onresult=R=>{let F="";for(let L=R.resultIndex;L<R.results.length;++L)F+=R.results[L][0].transcript;v(F),R.results[0].isFinal&&I(F)},_.current.onend=()=>{s(!1)},_.current.onerror=R=>{console.error("Speech error",R.error),s(!1)})},[]);const T=()=>{var k,R;a?(k=_.current)==null||k.stop():(b.current&&clearTimeout(b.current),h(null),v(""),(R=_.current)==null||R.start(),s(!0),navigator.vibrate&&navigator.vibrate(50))},I=async k=>{c(!0);try{const R=new mfe({apiKey:"PLACEHOLDER_API_KEY"}),F=t.map(Q=>`[ID:${Q.id} NAME:${Q.name} PRICE:${Q.price}]`).join("; "),L=e.map(Q=>`[ID:${Q.id} CUSTOMER:${Q.name} REMAINING:${Q.remainingAmount}]`).join("; "),W=`
            MAMA.
         :
        : {${F}}
        : {${L}}
        : ${r.name}

        :   : "${k}"
        
        1.         : OPEN_INVOICE:ID.
        2.         : OPEN_PRODUCT:ID.
        3.  : NAVIGATE:products, customers, settings, create-invoice.
        4. : SEARCH:_.
        
        :   ( OPEN_INVOICE:INV-1)            .
      `,N=(await R.models.generateContent({model:"gemini-3-flash-preview",contents:k,config:{systemInstruction:W}})).text||"",M=N.split(`
`);let D=N;for(const Q of M)if(Q.includes("OPEN_INVOICE:")){const G=Q.split("OPEN_INVOICE:")[1].trim();n("OPEN_INVOICE",G),D=N.replace(Q,"").trim()}else if(Q.includes("OPEN_PRODUCT:")){const G=Q.split("OPEN_PRODUCT:")[1].trim();n("OPEN_PRODUCT",G),D=N.replace(Q,"").trim()}else if(Q.includes("NAVIGATE:")){const G=Q.split("NAVIGATE:")[1].trim().toLowerCase();n("NAVIGATE",G),D=N.replace(Q,"").trim()}else if(Q.includes("SEARCH:")){const G=Q.split("SEARCH:")[1].trim();i(G),D=N.replace(Q,"").trim()}h(D||" ."),b.current=setTimeout(()=>{h(null),v("")},3e3)}catch{h("    ."),b.current=setTimeout(()=>{h(null),v("")},3e3)}finally{c(!1)}};return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"fixed bottom-24 right-6 z-[200] flex flex-col items-end gap-3 pointer-events-none",children:[(m||u||A)&&d.jsxs("div",{className:"pointer-events-auto bg-[#1a1a1a]/95 backdrop-blur-xl border border-gray-800 p-4 rounded-[2rem] rounded-br-none shadow-2xl max-w-[280px] animate-in fade-in slide-in-from-bottom-2 duration-300",children:[m&&d.jsxs("div",{className:"mb-2 border-b border-gray-800/50 pb-2",children:[d.jsx("span",{className:"text-[10px] text-[#57b385] font-black uppercase block mb-1",children:" :"}),d.jsxs("p",{className:"text-xs font-medium text-gray-300 italic",children:['"',m,'"']})]}),A?d.jsxs("div",{className:"flex items-center gap-2 py-1",children:[d.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:" ..."}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-75"}),d.jsx("div",{className:"w-1.5 h-1.5 bg-[#57b385] rounded-full animate-bounce delay-150"})]})]}):u&&d.jsx("div",{className:"animate-in fade-in slide-in-from-top-1 duration-300",children:d.jsx("p",{className:"text-sm font-bold text-white leading-relaxed",children:u})})]}),d.jsxs("button",{onClick:T,className:`pointer-events-auto w-16 h-16 rounded-full flex items-center justify-center shadow-2xl transition-all duration-300 border-4 border-[#0c0c0c] relative group ${a?"bg-red-500 scale-110":"bg-[#57b385] hover:scale-110"}`,children:[a&&d.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-20"}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),d.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),d.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]})]})]})})};var ZI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},vfe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],A=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|A&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},R5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,A=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|A>>4;let v=(A&15)<<2|u>>6,_=u&63;c||(_=64,s||(v=64)),n.push(r[h],r[m],r[v],r[_])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vfe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],A=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||A==null||u==null||m==null)throw new wfe;const v=a<<2|A>>4;if(n.push(v),u!==64){const _=A<<4&240|u>>2;if(n.push(_),m!==64){const b=u<<6&192|m;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yfe=function(t){const e=F5(t);return R5.encodeByteArray(e,!0)},Hp=function(t){return yfe(t).replace(/\./g,"")},Efe=function(t){try{return R5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe=()=>Cfe().__FIREBASE_DEFAULTS__,Bfe=()=>{if(typeof process>"u"||typeof ZI>"u")return;const t=ZI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bfe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Efe(t[1]);return e&&JSON.parse(e)},g_=()=>{try{return _fe()||Bfe()||bfe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tfe=t=>{var e,r;return(r=(e=g_())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Sfe=t=>{const e=Tfe(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},D5=()=>{var t;return(t=g_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ife{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hp(JSON.stringify(r)),Hp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ffe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rfe(){var t;const e=(t=g_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dfe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kfe(){return!Rfe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k5(){try{return typeof indexedDB=="object"}catch{return!1}}function U5(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Ufe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mfe="FirebaseError";class yl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Mfe,Object.setPrototypeOf(this,yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$m.prototype.create)}}class $m{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Ofe(a,n):"Error",A=`${this.serviceName}: ${s} (${i}).`;return new yl(i,A,n)}}function Ofe(t,e){return t.replace(Lfe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Lfe=/\{\$([^}]+)}/g;function Vp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(e3(a)&&e3(s)){if(!Vp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function e3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pfe=1e3,Qfe=2,Hfe=4*60*60*1e3,Vfe=.5;function t3(t,e=Pfe,r=Qfe){const n=e*Math.pow(r,t),i=Math.round(Vfe*n*(Math.random()-.5)*2);return Math.min(Hfe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){return t&&t._delegate?t._delegate:t}class eA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jfe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Ife;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kfe(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(a);n===A&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Gfe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gfe(t){return t===Gl?void 0:t}function Kfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new jfe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fr||(fr={}));const Wfe={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},Xfe=fr.INFO,qfe={[fr.DEBUG]:"log",[fr.VERBOSE]:"log",[fr.INFO]:"info",[fr.WARN]:"warn",[fr.ERROR]:"error"},Yfe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=qfe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p_{constructor(e){this.name=e,this._logLevel=Xfe,this._logHandler=Yfe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wfe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fr.DEBUG,...e),this._logHandler(this,fr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fr.VERBOSE,...e),this._logHandler(this,fr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fr.INFO,...e),this._logHandler(this,fr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fr.WARN,...e),this._logHandler(this,fr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fr.ERROR,...e),this._logHandler(this,fr.ERROR,...e)}}const Jfe=(t,e)=>e.some(r=>t instanceof r);let r3,n3;function $fe(){return r3||(r3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zfe(){return n3||(n3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M5=new WeakMap,py=new WeakMap,O5=new WeakMap,q2=new WeakMap,m_=new WeakMap;function ehe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(el(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&M5.set(r,t)}).catch(()=>{}),m_.set(e,t),e}function the(t){if(py.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});py.set(t,e)}let my={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O5.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return el(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rhe(t){my=t(my)}function nhe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Y2(this),e,...r);return O5.set(n,e.sort?e.sort():[e]),el(n)}:Zfe().includes(t)?function(...e){return t.apply(Y2(this),e),el(M5.get(this))}:function(...e){return el(t.apply(Y2(this),e))}}function ihe(t){return typeof t=="function"?nhe(t):(t instanceof IDBTransaction&&the(t),Jfe(t,$fe())?new Proxy(t,my):t)}function el(t){if(t instanceof IDBRequest)return ehe(t);if(q2.has(t))return q2.get(t);const e=ihe(t);return e!==t&&(q2.set(t,e),m_.set(e,t)),e}const Y2=t=>m_.get(t);function L5(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),A=el(s);return n&&s.addEventListener("upgradeneeded",c=>{n(el(s.result),c.oldVersion,c.newVersion,el(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),A.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),A}const ahe=["get","getKey","getAll","getAllKeys","count"],she=["put","add","delete","clear"],J2=new Map;function i3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J2.get(e))return J2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=she.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ahe.includes(r)))return;const a=async function(s,...A){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(A.shift())),(await Promise.all([u[r](...A),i&&c.done]))[0]};return J2.set(e,a),a}rhe(t=>({...t,get:(e,r,n)=>i3(e,r)||t.get(e,r,n),has:(e,r)=>!!i3(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ohe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ahe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ahe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xy="@firebase/app",a3="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new p_("@firebase/app"),lhe="@firebase/app-compat",che="@firebase/analytics-compat",uhe="@firebase/analytics",fhe="@firebase/app-check-compat",hhe="@firebase/app-check",dhe="@firebase/auth",ghe="@firebase/auth-compat",phe="@firebase/database",mhe="@firebase/data-connect",xhe="@firebase/database-compat",vhe="@firebase/functions",whe="@firebase/functions-compat",yhe="@firebase/installations",Ehe="@firebase/installations-compat",Che="@firebase/messaging",_he="@firebase/messaging-compat",Bhe="@firebase/performance",bhe="@firebase/performance-compat",The="@firebase/remote-config",She="@firebase/remote-config-compat",Ihe="@firebase/storage",Nhe="@firebase/storage-compat",Fhe="@firebase/firestore",Rhe="@firebase/vertexai-preview",Dhe="@firebase/firestore-compat",khe="firebase",Uhe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="[DEFAULT]",Mhe={[xy]:"fire-core",[lhe]:"fire-core-compat",[uhe]:"fire-analytics",[che]:"fire-analytics-compat",[hhe]:"fire-app-check",[fhe]:"fire-app-check-compat",[dhe]:"fire-auth",[ghe]:"fire-auth-compat",[phe]:"fire-rtdb",[mhe]:"fire-data-connect",[xhe]:"fire-rtdb-compat",[vhe]:"fire-fn",[whe]:"fire-fn-compat",[yhe]:"fire-iid",[Ehe]:"fire-iid-compat",[Che]:"fire-fcm",[_he]:"fire-fcm-compat",[Bhe]:"fire-perf",[bhe]:"fire-perf-compat",[The]:"fire-rc",[She]:"fire-rc-compat",[Ihe]:"fire-gcs",[Nhe]:"fire-gcs-compat",[Fhe]:"fire-fst",[Dhe]:"fire-fst-compat",[Rhe]:"fire-vertex","fire-js":"fire-js",[khe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new Map,Ohe=new Map,wy=new Map;function s3(t,e){try{t.container.addComponent(e)}catch(r){tA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ul(t){const e=t.name;if(wy.has(e))return tA.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const r of jp.values())s3(r,t);for(const r of Ohe.values())s3(r,t);return!0}function bd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new $m("app","Firebase",Lhe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe=Uhe;function P5(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:vy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw tl.create("bad-app-name",{appName:String(i)});if(r||(r=D5()),!r)throw tl.create("no-options");const a=jp.get(i);if(a){if(Vp(r,a.options)&&Vp(n,a.config))return a;throw tl.create("duplicate-app",{appName:i})}const s=new zfe(i);for(const c of wy.values())s.addComponent(c);const A=new Phe(r,n,s);return jp.set(i,A),A}function Q5(t=vy){const e=jp.get(t);if(!e&&t===vy&&D5())return P5();if(!e)throw tl.create("no-app",{appName:t});return e}function oo(t,e,r){var n;let i=(n=Mhe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const A=[`Unable to register library "${i}" with version "${e}":`];a&&A.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&A.push("and"),s&&A.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tA.warn(A.join(" "));return}ul(new eA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe="firebase-heartbeat-database",Vhe=1,Xh="firebase-heartbeat-store";let $2=null;function H5(){return $2||($2=L5(Hhe,Vhe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xh)}catch(r){console.warn(r)}}}}).catch(t=>{throw tl.create("idb-open",{originalErrorMessage:t.message})})),$2}async function jhe(t){try{const r=(await H5()).transaction(Xh),n=await r.objectStore(Xh).get(V5(t));return await r.done,n}catch(e){if(e instanceof yl)tA.warn(e.message);else{const r=tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tA.warn(r.message)}}}async function o3(t,e){try{const n=(await H5()).transaction(Xh,"readwrite");await n.objectStore(Xh).put(e,V5(t)),await n.done}catch(r){if(r instanceof yl)tA.warn(r.message);else{const n=tl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});tA.warn(n.message)}}}function V5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ghe=1024,Khe=30*24*60*60*1e3;class zhe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Xhe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A3();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const A=new Date(s.date).valueOf();return Date.now()-A<=Khe}),this._storage.overwrite(this._heartbeatsCache))}catch(n){tA.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=A3(),{heartbeatsToSend:n,unsentEntries:i}=Whe(this._heartbeatsCache.heartbeats),a=Hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return tA.warn(r),""}}}function A3(){return new Date().toISOString().substring(0,10)}function Whe(t,e=Ghe){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),l3(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),l3(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Xhe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k5()?U5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await jhe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return o3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return o3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l3(t){return Hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(t){ul(new eA("platform-logger",e=>new ohe(e),"PRIVATE")),ul(new eA("heartbeat",e=>new zhe(e),"PRIVATE")),oo(xy,a3,t),oo(xy,a3,"esm2017"),oo("fire-js","")}qhe("");var Yhe="firebase",Jhe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(Yhe,Jhe,"app");var c3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oc,j5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function D(){}D.prototype=M.prototype,N.D=M.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(Q,G,j){for(var V=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)V[Ce-2]=arguments[Ce];return M.prototype[G].apply(Q,V)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,M,D){D||(D=0);var Q=Array(16);if(typeof M=="string")for(var G=0;16>G;++G)Q[G]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(G=0;16>G;++G)Q[G]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=N.g[0],D=N.g[1],G=N.g[2];var j=N.g[3],V=M+(j^D&(G^j))+Q[0]+3614090360&4294967295;M=D+(V<<7&4294967295|V>>>25),V=j+(G^M&(D^G))+Q[1]+3905402710&4294967295,j=M+(V<<12&4294967295|V>>>20),V=G+(D^j&(M^D))+Q[2]+606105819&4294967295,G=j+(V<<17&4294967295|V>>>15),V=D+(M^G&(j^M))+Q[3]+3250441966&4294967295,D=G+(V<<22&4294967295|V>>>10),V=M+(j^D&(G^j))+Q[4]+4118548399&4294967295,M=D+(V<<7&4294967295|V>>>25),V=j+(G^M&(D^G))+Q[5]+1200080426&4294967295,j=M+(V<<12&4294967295|V>>>20),V=G+(D^j&(M^D))+Q[6]+2821735955&4294967295,G=j+(V<<17&4294967295|V>>>15),V=D+(M^G&(j^M))+Q[7]+4249261313&4294967295,D=G+(V<<22&4294967295|V>>>10),V=M+(j^D&(G^j))+Q[8]+1770035416&4294967295,M=D+(V<<7&4294967295|V>>>25),V=j+(G^M&(D^G))+Q[9]+2336552879&4294967295,j=M+(V<<12&4294967295|V>>>20),V=G+(D^j&(M^D))+Q[10]+4294925233&4294967295,G=j+(V<<17&4294967295|V>>>15),V=D+(M^G&(j^M))+Q[11]+2304563134&4294967295,D=G+(V<<22&4294967295|V>>>10),V=M+(j^D&(G^j))+Q[12]+1804603682&4294967295,M=D+(V<<7&4294967295|V>>>25),V=j+(G^M&(D^G))+Q[13]+4254626195&4294967295,j=M+(V<<12&4294967295|V>>>20),V=G+(D^j&(M^D))+Q[14]+2792965006&4294967295,G=j+(V<<17&4294967295|V>>>15),V=D+(M^G&(j^M))+Q[15]+1236535329&4294967295,D=G+(V<<22&4294967295|V>>>10),V=M+(G^j&(D^G))+Q[1]+4129170786&4294967295,M=D+(V<<5&4294967295|V>>>27),V=j+(D^G&(M^D))+Q[6]+3225465664&4294967295,j=M+(V<<9&4294967295|V>>>23),V=G+(M^D&(j^M))+Q[11]+643717713&4294967295,G=j+(V<<14&4294967295|V>>>18),V=D+(j^M&(G^j))+Q[0]+3921069994&4294967295,D=G+(V<<20&4294967295|V>>>12),V=M+(G^j&(D^G))+Q[5]+3593408605&4294967295,M=D+(V<<5&4294967295|V>>>27),V=j+(D^G&(M^D))+Q[10]+38016083&4294967295,j=M+(V<<9&4294967295|V>>>23),V=G+(M^D&(j^M))+Q[15]+3634488961&4294967295,G=j+(V<<14&4294967295|V>>>18),V=D+(j^M&(G^j))+Q[4]+3889429448&4294967295,D=G+(V<<20&4294967295|V>>>12),V=M+(G^j&(D^G))+Q[9]+568446438&4294967295,M=D+(V<<5&4294967295|V>>>27),V=j+(D^G&(M^D))+Q[14]+3275163606&4294967295,j=M+(V<<9&4294967295|V>>>23),V=G+(M^D&(j^M))+Q[3]+4107603335&4294967295,G=j+(V<<14&4294967295|V>>>18),V=D+(j^M&(G^j))+Q[8]+1163531501&4294967295,D=G+(V<<20&4294967295|V>>>12),V=M+(G^j&(D^G))+Q[13]+2850285829&4294967295,M=D+(V<<5&4294967295|V>>>27),V=j+(D^G&(M^D))+Q[2]+4243563512&4294967295,j=M+(V<<9&4294967295|V>>>23),V=G+(M^D&(j^M))+Q[7]+1735328473&4294967295,G=j+(V<<14&4294967295|V>>>18),V=D+(j^M&(G^j))+Q[12]+2368359562&4294967295,D=G+(V<<20&4294967295|V>>>12),V=M+(D^G^j)+Q[5]+4294588738&4294967295,M=D+(V<<4&4294967295|V>>>28),V=j+(M^D^G)+Q[8]+2272392833&4294967295,j=M+(V<<11&4294967295|V>>>21),V=G+(j^M^D)+Q[11]+1839030562&4294967295,G=j+(V<<16&4294967295|V>>>16),V=D+(G^j^M)+Q[14]+4259657740&4294967295,D=G+(V<<23&4294967295|V>>>9),V=M+(D^G^j)+Q[1]+2763975236&4294967295,M=D+(V<<4&4294967295|V>>>28),V=j+(M^D^G)+Q[4]+1272893353&4294967295,j=M+(V<<11&4294967295|V>>>21),V=G+(j^M^D)+Q[7]+4139469664&4294967295,G=j+(V<<16&4294967295|V>>>16),V=D+(G^j^M)+Q[10]+3200236656&4294967295,D=G+(V<<23&4294967295|V>>>9),V=M+(D^G^j)+Q[13]+681279174&4294967295,M=D+(V<<4&4294967295|V>>>28),V=j+(M^D^G)+Q[0]+3936430074&4294967295,j=M+(V<<11&4294967295|V>>>21),V=G+(j^M^D)+Q[3]+3572445317&4294967295,G=j+(V<<16&4294967295|V>>>16),V=D+(G^j^M)+Q[6]+76029189&4294967295,D=G+(V<<23&4294967295|V>>>9),V=M+(D^G^j)+Q[9]+3654602809&4294967295,M=D+(V<<4&4294967295|V>>>28),V=j+(M^D^G)+Q[12]+3873151461&4294967295,j=M+(V<<11&4294967295|V>>>21),V=G+(j^M^D)+Q[15]+530742520&4294967295,G=j+(V<<16&4294967295|V>>>16),V=D+(G^j^M)+Q[2]+3299628645&4294967295,D=G+(V<<23&4294967295|V>>>9),V=M+(G^(D|~j))+Q[0]+4096336452&4294967295,M=D+(V<<6&4294967295|V>>>26),V=j+(D^(M|~G))+Q[7]+1126891415&4294967295,j=M+(V<<10&4294967295|V>>>22),V=G+(M^(j|~D))+Q[14]+2878612391&4294967295,G=j+(V<<15&4294967295|V>>>17),V=D+(j^(G|~M))+Q[5]+4237533241&4294967295,D=G+(V<<21&4294967295|V>>>11),V=M+(G^(D|~j))+Q[12]+1700485571&4294967295,M=D+(V<<6&4294967295|V>>>26),V=j+(D^(M|~G))+Q[3]+2399980690&4294967295,j=M+(V<<10&4294967295|V>>>22),V=G+(M^(j|~D))+Q[10]+4293915773&4294967295,G=j+(V<<15&4294967295|V>>>17),V=D+(j^(G|~M))+Q[1]+2240044497&4294967295,D=G+(V<<21&4294967295|V>>>11),V=M+(G^(D|~j))+Q[8]+1873313359&4294967295,M=D+(V<<6&4294967295|V>>>26),V=j+(D^(M|~G))+Q[15]+4264355552&4294967295,j=M+(V<<10&4294967295|V>>>22),V=G+(M^(j|~D))+Q[6]+2734768916&4294967295,G=j+(V<<15&4294967295|V>>>17),V=D+(j^(G|~M))+Q[13]+1309151649&4294967295,D=G+(V<<21&4294967295|V>>>11),V=M+(G^(D|~j))+Q[4]+4149444226&4294967295,M=D+(V<<6&4294967295|V>>>26),V=j+(D^(M|~G))+Q[11]+3174756917&4294967295,j=M+(V<<10&4294967295|V>>>22),V=G+(M^(j|~D))+Q[2]+718787259&4294967295,G=j+(V<<15&4294967295|V>>>17),V=D+(j^(G|~M))+Q[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(G+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+G&4294967295,N.g[3]=N.g[3]+j&4294967295}n.prototype.u=function(N,M){M===void 0&&(M=N.length);for(var D=M-this.blockSize,Q=this.B,G=this.h,j=0;j<M;){if(G==0)for(;j<=D;)i(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<M;)if(Q[G++]=N.charCodeAt(j++),G==this.blockSize){i(this,Q),G=0;break}}else for(;j<M;)if(Q[G++]=N[j++],G==this.blockSize){i(this,Q),G=0;break}}this.h=G,this.o+=M},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;var D=8*this.o;for(M=N.length-8;M<N.length;++M)N[M]=D&255,D/=256;for(this.u(N),N=Array(16),M=D=0;4>M;++M)for(var Q=0;32>Q;Q+=8)N[D++]=this.g[M]>>>Q&255;return N};function a(N,M){var D=A;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=M(N)}function s(N,M){this.h=M;for(var D=[],Q=!0,G=N.length-1;0<=G;G--){var j=N[G]|0;Q&&j==M||(D[G]=j,Q=!1)}this.g=D}var A={};function c(N){return-128<=N&&128>N?a(N,function(M){return new s([M|0],0>M?-1:0)}):new s([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return I(u(-N));for(var M=[],D=1,Q=0;N>=D;Q++)M[Q]=N/D|0,D*=4294967296;return new s(M,0)}function h(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return I(h(N.substring(1),M));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(M,8)),Q=m,G=0;G<N.length;G+=8){var j=Math.min(8,N.length-G),V=parseInt(N.substring(G,G+j),M);8>j?(j=u(Math.pow(M,j)),Q=Q.j(j).add(u(V))):(Q=Q.j(D),Q=Q.add(u(V)))}return Q}var m=c(0),v=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(T(this))return-I(this).m();for(var N=0,M=1,D=0;D<this.g.length;D++){var Q=this.i(D);N+=(0<=Q?Q:4294967296+Q)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(T(this))return"-"+I(this).toString(N);for(var M=u(Math.pow(N,6)),D=this,Q="";;){var G=L(D,M).g;D=k(D,G.j(M));var j=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=G,b(D))return j+Q;for(;6>j.length;)j="0"+j;Q=j+Q}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function T(N){return N.h==-1}t.l=function(N){return N=k(this,N),T(N)?-1:b(N)?0:1};function I(N){for(var M=N.g.length,D=[],Q=0;Q<M;Q++)D[Q]=~N.g[Q];return new s(D,~N.h).add(v)}t.abs=function(){return T(this)?I(this):this},t.add=function(N){for(var M=Math.max(this.g.length,N.g.length),D=[],Q=0,G=0;G<=M;G++){var j=Q+(this.i(G)&65535)+(N.i(G)&65535),V=(j>>>16)+(this.i(G)>>>16)+(N.i(G)>>>16);Q=V>>>16,j&=65535,V&=65535,D[G]=V<<16|j}return new s(D,D[D.length-1]&-2147483648?-1:0)};function k(N,M){return N.add(I(M))}t.j=function(N){if(b(this)||b(N))return m;if(T(this))return T(N)?I(this).j(I(N)):I(I(this).j(N));if(T(N))return I(this.j(I(N)));if(0>this.l(_)&&0>N.l(_))return u(this.m()*N.m());for(var M=this.g.length+N.g.length,D=[],Q=0;Q<2*M;Q++)D[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var G=0;G<N.g.length;G++){var j=this.i(Q)>>>16,V=this.i(Q)&65535,Ce=N.i(G)>>>16,le=N.i(G)&65535;D[2*Q+2*G]+=V*le,R(D,2*Q+2*G),D[2*Q+2*G+1]+=j*le,R(D,2*Q+2*G+1),D[2*Q+2*G+1]+=V*Ce,R(D,2*Q+2*G+1),D[2*Q+2*G+2]+=j*Ce,R(D,2*Q+2*G+2)}for(Q=0;Q<M;Q++)D[Q]=D[2*Q+1]<<16|D[2*Q];for(Q=M;Q<2*M;Q++)D[Q]=0;return new s(D,0)};function R(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function F(N,M){this.g=N,this.h=M}function L(N,M){if(b(M))throw Error("division by zero");if(b(N))return new F(m,m);if(T(N))return M=L(I(N),M),new F(I(M.g),I(M.h));if(T(M))return M=L(N,I(M)),new F(I(M.g),M.h);if(30<N.g.length){if(T(N)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var D=v,Q=M;0>=Q.l(N);)D=W(D),Q=W(Q);var G=P(D,1),j=P(Q,1);for(Q=P(Q,2),D=P(D,2);!b(Q);){var V=j.add(Q);0>=V.l(N)&&(G=G.add(D),j=V),Q=P(Q,1),D=P(D,1)}return M=k(N,G.j(M)),new F(G,M)}for(G=m;0<=N.l(M);){for(D=Math.max(1,Math.floor(N.m()/M.m())),Q=Math.ceil(Math.log(D)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),j=u(D),V=j.j(M);T(V)||0<V.l(N);)D-=Q,j=u(D),V=j.j(M);b(j)&&(j=v),G=G.add(j),N=k(N,V)}return new F(G,N)}t.A=function(N){return L(this,N).h},t.and=function(N){for(var M=Math.max(this.g.length,N.g.length),D=[],Q=0;Q<M;Q++)D[Q]=this.i(Q)&N.i(Q);return new s(D,this.h&N.h)},t.or=function(N){for(var M=Math.max(this.g.length,N.g.length),D=[],Q=0;Q<M;Q++)D[Q]=this.i(Q)|N.i(Q);return new s(D,this.h|N.h)},t.xor=function(N){for(var M=Math.max(this.g.length,N.g.length),D=[],Q=0;Q<M;Q++)D[Q]=this.i(Q)^N.i(Q);return new s(D,this.h^N.h)};function W(N){for(var M=N.g.length+1,D=[],Q=0;Q<M;Q++)D[Q]=N.i(Q)<<1|N.i(Q-1)>>>31;return new s(D,N.h)}function P(N,M){var D=M>>5;M%=32;for(var Q=N.g.length-D,G=[],j=0;j<Q;j++)G[j]=0<M?N.i(j+D)>>>M|N.i(j+D+1)<<32-M:N.i(j+D);return new s(G,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,j5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,oc=s}).apply(typeof c3<"u"?c3:typeof self<"u"?self:typeof window<"u"?window:{});var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G5,Uf,K5,Ng,yy,z5,W5,X5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,U,H){return E==Array.prototype||E==Object.prototype||(E[U]=H.value),E};function r(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof ig=="object"&&ig];for(var U=0;U<E.length;++U){var H=E[U];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function i(E,U){if(U)e:{var H=n;E=E.split(".");for(var J=0;J<E.length-1;J++){var be=E[J];if(!(be in H))break e;H=H[be]}E=E[E.length-1],J=H[E],U=U(J),U!=J&&U!=null&&e(H,E,{configurable:!0,writable:!0,value:U})}}function a(E,U){E instanceof String&&(E+="");var H=0,J=!1,be={next:function(){if(!J&&H<E.length){var Me=H++;return{value:U(Me,E[Me]),done:!1}}return J=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(E){return E||function(){return a(this,function(U,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},A=this||self;function c(E){var U=typeof E;return U=U!="object"?U:E?Array.isArray(E)?"array":U:"null",U=="array"||U=="object"&&typeof E.length=="number"}function u(E){var U=typeof E;return U=="object"&&E!=null||U=="function"}function h(E,U,H){return E.call.apply(E.bind,arguments)}function m(E,U,H){if(!E)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,J),E.apply(U,be)}}return function(){return E.apply(U,arguments)}}function v(E,U,H){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,v.apply(null,arguments)}function _(E,U){var H=Array.prototype.slice.call(arguments,1);return function(){var J=H.slice();return J.push.apply(J,arguments),E.apply(this,J)}}function b(E,U){function H(){}H.prototype=U.prototype,E.aa=U.prototype,E.prototype=new H,E.prototype.constructor=E,E.Qb=function(J,be,Me){for(var At=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)At[Cr-2]=arguments[Cr];return U.prototype[be].apply(J,At)}}function T(E){const U=E.length;if(0<U){const H=Array(U);for(let J=0;J<U;J++)H[J]=E[J];return H}return[]}function I(E,U){for(let H=1;H<arguments.length;H++){const J=arguments[H];if(c(J)){const be=E.length||0,Me=J.length||0;E.length=be+Me;for(let At=0;At<Me;At++)E[be+At]=J[At]}else E.push(J)}}class k{constructor(U,H){this.i=U,this.j=H,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function R(E){return/^[\s\xa0]*$/.test(E)}function F(){var E=A.navigator;return E&&(E=E.userAgent)?E:""}function L(E){return L[" "](E),E}L[" "]=function(){};var W=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function P(E,U,H){for(const J in E)U.call(H,E[J],J,E)}function N(E,U){for(const H in E)U.call(void 0,E[H],H,E)}function M(E){const U={};for(const H in E)U[H]=E[H];return U}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(E,U){let H,J;for(let be=1;be<arguments.length;be++){J=arguments[be];for(H in J)E[H]=J[H];for(let Me=0;Me<D.length;Me++)H=D[Me],Object.prototype.hasOwnProperty.call(J,H)&&(E[H]=J[H])}}function G(E){var U=1;E=E.split(":");const H=[];for(;0<U&&E.length;)H.push(E.shift()),U--;return E.length&&H.push(E.join(":")),H}function j(E){A.setTimeout(()=>{throw E},0)}function V(){var E=he;let U=null;return E.g&&(U=E.g,E.g=E.g.next,E.g||(E.h=null),U.next=null),U}class Ce{constructor(){this.h=this.g=null}add(U,H){const J=le.get();J.set(U,H),this.h?this.h.next=J:this.g=J,this.h=J}}var le=new k(()=>new de,E=>E.reset());class de{constructor(){this.next=this.g=this.h=null}set(U,H){this.h=U,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,De=!1,he=new Ce,Le=()=>{const E=A.Promise.resolve(void 0);ne=()=>{E.then(Ze)}};var Ze=()=>{for(var E;E=V();){try{E.h.call(E.g)}catch(H){j(H)}var U=le;U.j(E),100>U.h&&(U.h++,E.next=U.g,U.g=E)}De=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(E,U){this.type=E,this.g=this.target=U,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var E=!1,U=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const H=()=>{};A.addEventListener("test",H,U),A.removeEventListener("test",H,U)}catch{}return E}();function se(E,U){if(ge.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var H=this.type=E.type,J=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=U,U=E.relatedTarget){if(W){e:{try{L(U.nodeName);var be=!0;break e}catch{}be=!1}be||(U=null)}}else H=="mouseover"?U=E.fromElement:H=="mouseout"&&(U=E.toElement);this.relatedTarget=U,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:fe[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&se.aa.h.call(this)}}b(se,ge);var fe={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ye=0;function xe(E,U,H,J,be){this.listener=E,this.proxy=null,this.src=U,this.type=H,this.capture=!!J,this.ha=be,this.key=++ye,this.da=this.fa=!1}function Se(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function it(E){this.src=E,this.g={},this.h=0}it.prototype.add=function(E,U,H,J,be){var Me=E.toString();E=this.g[Me],E||(E=this.g[Me]=[],this.h++);var At=lt(E,U,J,be);return-1<At?(U=E[At],H||(U.fa=!1)):(U=new xe(U,this.src,Me,!!J,be),U.fa=H,E.push(U)),U};function ie(E,U){var H=U.type;if(H in E.g){var J=E.g[H],be=Array.prototype.indexOf.call(J,U,void 0),Me;(Me=0<=be)&&Array.prototype.splice.call(J,be,1),Me&&(Se(U),E.g[H].length==0&&(delete E.g[H],E.h--))}}function lt(E,U,H,J){for(var be=0;be<E.length;++be){var Me=E[be];if(!Me.da&&Me.listener==U&&Me.capture==!!H&&Me.ha==J)return be}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),wt={};function we(E,U,H,J,be){if(Array.isArray(U)){for(var Me=0;Me<U.length;Me++)we(E,U[Me],H,J,be);return null}return H=ht(H),E&&E[je]?E.K(U,H,u(J)?!!J.capture:!1,be):Ee(E,U,H,!1,J,be)}function Ee(E,U,H,J,be,Me){if(!U)throw Error("Invalid event type");var At=u(be)?!!be.capture:!!be,Cr=Xr(E);if(Cr||(E[yt]=Cr=new it(E)),H=Cr.add(U,H,J,At,Me),H.proxy)return H;if(J=qe(),H.proxy=J,J.src=E,J.listener=H,E.addEventListener)ce||(be=At),be===void 0&&(be=!1),E.addEventListener(U.toString(),J,be);else if(E.attachEvent)E.attachEvent(Ge(U.toString()),J);else if(E.addListener&&E.removeListener)E.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return H}function qe(){function E(H){return U.call(E.src,E.listener,H)}const U=vr;return E}function st(E,U,H,J,be){if(Array.isArray(U))for(var Me=0;Me<U.length;Me++)st(E,U[Me],H,J,be);else J=u(J)?!!J.capture:!!J,H=ht(H),E&&E[je]?(E=E.i,U=String(U).toString(),U in E.g&&(Me=E.g[U],H=lt(Me,H,J,be),-1<H&&(Se(Me[H]),Array.prototype.splice.call(Me,H,1),Me.length==0&&(delete E.g[U],E.h--)))):E&&(E=Xr(E))&&(U=E.g[U.toString()],E=-1,U&&(E=lt(U,H,J,be)),(H=-1<E?U[E]:null)&&qt(H))}function qt(E){if(typeof E!="number"&&E&&!E.da){var U=E.src;if(U&&U[je])ie(U.i,E);else{var H=E.type,J=E.proxy;U.removeEventListener?U.removeEventListener(H,J,E.capture):U.detachEvent?U.detachEvent(Ge(H),J):U.addListener&&U.removeListener&&U.removeListener(J),(H=Xr(U))?(ie(H,E),H.h==0&&(H.src=null,U[yt]=null)):Se(E)}}}function Ge(E){return E in wt?wt[E]:wt[E]="on"+E}function vr(E,U){if(E.da)E=!0;else{U=new se(U,this);var H=E.listener,J=E.ha||E.src;E.fa&&qt(E),E=H.call(J,U)}return E}function Xr(E){return E=E[yt],E instanceof it?E:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(E){return typeof E=="function"?E:(E[Ke]||(E[Ke]=function(U){return E.handleEvent(U)}),E[Ke])}function ct(){Z.call(this),this.i=new it(this),this.M=this,this.F=null}b(ct,Z),ct.prototype[je]=!0,ct.prototype.removeEventListener=function(E,U,H,J){st(this,E,U,H,J)};function Ot(E,U){var H,J=E.F;if(J)for(H=[];J;J=J.F)H.push(J);if(E=E.M,J=U.type||U,typeof U=="string")U=new ge(U,E);else if(U instanceof ge)U.target=U.target||E;else{var be=U;U=new ge(J,E),Q(U,be)}if(be=!0,H)for(var Me=H.length-1;0<=Me;Me--){var At=U.g=H[Me];be=Yt(At,J,!0,U)&&be}if(At=U.g=E,be=Yt(At,J,!0,U)&&be,be=Yt(At,J,!1,U)&&be,H)for(Me=0;Me<H.length;Me++)At=U.g=H[Me],be=Yt(At,J,!1,U)&&be}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var E=this.i,U;for(U in E.g){for(var H=E.g[U],J=0;J<H.length;J++)Se(H[J]);delete E.g[U],E.h--}}this.F=null},ct.prototype.K=function(E,U,H,J){return this.i.add(String(E),U,!1,H,J)},ct.prototype.L=function(E,U,H,J){return this.i.add(String(E),U,!0,H,J)};function Yt(E,U,H,J){if(U=E.i.g[String(U)],!U)return!0;U=U.concat();for(var be=!0,Me=0;Me<U.length;++Me){var At=U[Me];if(At&&!At.da&&At.capture==H){var Cr=At.listener,rn=At.ha||At.src;At.fa&&ie(E.i,At),be=Cr.call(rn,J)!==!1&&be}}return be&&!J.defaultPrevented}function Kt(E,U,H){if(typeof E=="function")H&&(E=v(E,H));else if(E&&typeof E.handleEvent=="function")E=v(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:A.setTimeout(E,U||0)}function Pe(E){E.g=Kt(()=>{E.g=null,E.i&&(E.i=!1,Pe(E))},E.l);const U=E.h;E.h=null,E.m.apply(null,U)}class oe extends Z{constructor(U,H){super(),this.m=U,this.l=H,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(E){Z.call(this),this.h=E,this.g={}}b(Fe,Z);var Ve=[];function _e(E){P(E.g,function(U,H){this.g.hasOwnProperty(H)&&qt(U)},E),E.g={}}Fe.prototype.N=function(){Fe.aa.N.call(this),_e(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=A.JSON.stringify,dt=A.JSON.parse,Wt=class{stringify(E){return A.JSON.stringify(E,void 0)}parse(E){return A.JSON.parse(E,void 0)}};function $i(){}$i.prototype.h=null;function hn(E){return E.h||(E.h=E.i())}function ws(){}var Pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ya(){ge.call(this,"d")}b(ya,ge);function ys(){ge.call(this,"c")}b(ys,ge);var Ka={},yi=null;function zs(){return yi=yi||new ct}Ka.La="serverreachability";function dn(E){ge.call(this,Ka.La,E)}b(dn,ge);function Zi(E){const U=zs();Ot(U,new dn(U))}Ka.STAT_EVENT="statevent";function wo(E,U){ge.call(this,Ka.STAT_EVENT,E),this.stat=U}b(wo,ge);function Tr(E){const U=zs();Ot(U,new wo(U,E))}Ka.Ma="timingevent";function Hc(E,U){ge.call(this,Ka.Ma,E),this.size=U}b(Hc,ge);function ni(E,U){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){E()},U)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function zn(E,U,H,J,be,Me){E.info(function(){if(E.g)if(Me)for(var At="",Cr=Me.split("&"),rn=0;rn<Cr.length;rn++){var or=Cr[rn].split("=");if(1<or.length){var Hr=or[0];or=or[1];var mn=Hr.split("_");At=2<=mn.length&&mn[1]=="type"?At+(Hr+"="+or+"&"):At+(Hr+"=redacted&")}}else At=null;else At=Me;return"XMLHTTP REQ ("+J+") [attempt "+be+"]: "+U+`
`+H+`
`+At})}function Cs(E,U,H,J,be,Me,At){E.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+be+"]: "+U+`
`+H+`
`+Me+" "+At})}function X(E,U,H,J){E.info(function(){return"XMLHTTP TEXT ("+U+"): "+ee(E,H)+(J?" "+J:"")})}function Y(E,U){E.info(function(){return"TIMEOUT: "+U})}Es.prototype.info=function(){};function ee(E,U){if(!E.g)return U;if(!U)return null;try{var H=JSON.parse(U);if(H){for(E=0;E<H.length;E++)if(Array.isArray(H[E])){var J=H[E];if(!(2>J.length)){var be=J[1];if(Array.isArray(be)&&!(1>be.length)){var Me=be[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var At=1;At<be.length;At++)be[At]=""}}}}return tt(H)}catch{return U}}var te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function Ne(){}b(Ne,$i),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},ue=new Ne;function Qe(E,U,H,J){this.j=E,this.i=U,this.l=H,this.R=J||1,this.U=new Fe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Re={},ke={};function Xe(E,U,H){E.L=1,E.v=tn(Zt(U)),E.m=H,E.P=!0,$e(E,null)}function $e(E,U){E.F=Date.now(),ot(E),E.A=Zt(E.v);var H=E.A,J=E.R;Array.isArray(J)||(J=[String(J)]),pn(H.i,"t",J),E.C=0,H=E.j.J,E.h=new Be,E.g=Vd(E.j,H?U:null,!E.m),0<E.O&&(E.M=new oe(v(E.Y,E,E.g),E.O)),U=E.U,H=E.g,J=E.ca;var be="readystatechange";Array.isArray(be)||(be&&(Ve[0]=be.toString()),be=Ve);for(var Me=0;Me<be.length;Me++){var At=we(H,be[Me],J||U.handleEvent,!1,U.h||U);if(!At)break;U.g[At.key]=At}U=E.H?M(E.H):{},E.m?(E.u||(E.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,U)):(E.u="GET",E.g.ea(E.A,E.u,null,U)),Zi(),zn(E.i,E.u,E.A,E.l,E.R,E.m)}Qe.prototype.ca=function(E){E=E.target;const U=this.M;U&&bs(E)==3?U.j():this.Y(E)},Qe.prototype.Y=function(E){try{if(E==this.g)e:{const mn=bs(this.g);var U=this.g.Ba();const Ln=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Pd(this.g)))){this.J||mn!=4||U==7||(U==8||0>=Ln?Zi(3):Zi(2)),He(this);var H=this.g.Z();this.X=H;t:if(et(this)){var J=Pd(this.g);E="";var be=J.length,Me=bs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),pr(this);var At="";break t}this.h.i=new A.TextDecoder}for(U=0;U<be;U++)this.h.h=!0,E+=this.h.i.decode(J[U],{stream:!(Me&&U==be-1)});J.length=0,this.h.g+=E,this.C=0,At=this.h.g}else At=this.g.oa();if(this.o=H==200,Cs(this.i,this.u,this.A,this.l,this.R,mn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,rn=this.g;if((Cr=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Cr)){var or=Cr;break t}}or=null}if(H=or)X(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,H);else{this.o=!1,this.s=3,Tr(12),Nt(this),pr(this);break e}}if(this.P){H=!0;let ta;for(;!this.J&&this.C<At.length;)if(ta=rt(this,At),ta==ke){mn==4&&(this.s=4,Tr(14),H=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(ta==Re){this.s=4,Tr(15),X(this.i,this.l,At,"[Invalid Chunk]"),H=!1;break}else X(this.i,this.l,ta,null),Ei(this,ta);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||At.length!=0||this.h.h||(this.s=1,Tr(16),H=!1),this.o=this.o&&H,!H)X(this.i,this.l,At,"[Invalid Chunked Response]"),Nt(this),pr(this);else if(0<At.length&&!this.W){this.W=!0;var Hr=this.j;Hr.g==this&&Hr.ba&&!Hr.M&&(Hr.j.info("Great, no buffering proxy detected. Bytes received: "+At.length),Rl(Hr),Hr.M=!0,Tr(11))}}else X(this.i,this.l,At,null),Ei(this,At);mn==4&&Nt(this),this.o&&!this.J&&(mn==4?Qr(this.j,this):(this.o=!1,ot(this)))}else wr(this.g),H==400&&0<At.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),Nt(this),pr(this)}}}catch{}finally{}};function et(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function rt(E,U){var H=E.C,J=U.indexOf(`
`,H);return J==-1?ke:(H=Number(U.substring(H,J)),isNaN(H)?Re:(J+=1,J+H>U.length?ke:(U=U.slice(J,J+H),E.C=J+H,U)))}Qe.prototype.cancel=function(){this.J=!0,Nt(this)};function ot(E){E.S=Date.now()+E.I,bt(E,E.I)}function bt(E,U){if(E.B!=null)throw Error("WatchDog timer not null");E.B=ni(v(E.ba,E),U)}function He(E){E.B&&(A.clearTimeout(E.B),E.B=null)}Qe.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(Y(this.i,this.A),this.L!=2&&(Zi(),Tr(17)),Nt(this),this.s=2,pr(this)):bt(this,this.S-E)};function pr(E){E.j.G==0||E.J||Qr(E.j,E)}function Nt(E){He(E);var U=E.M;U&&typeof U.ma=="function"&&U.ma(),E.M=null,_e(E.U),E.g&&(U=E.g,E.g=null,U.abort(),U.ma())}function Ei(E,U){try{var H=E.j;if(H.G!=0&&(H.g==E||ii(H.h,E))){if(!E.K&&ii(H.h,E)&&H.G==3){try{var J=H.Da.g.parse(U)}catch{J=null}if(Array.isArray(J)&&J.length==3){var be=J;if(be[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<E.F)fA(H),Gc(H);else break e;K0(H),Tr(18)}}else H.za=be[1],0<H.za-H.T&&37500>be[2]&&H.F&&H.v==0&&!H.C&&(H.C=ni(v(H.Za,H),6e3));if(1>=Ht(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Oi(H,11)}else if((E.K||H.g==E)&&fA(H),!R(U))for(be=H.Da.g.parse(U),U=0;U<be.length;U++){let or=be[U];if(H.T=or[0],or=or[1],H.G==2)if(or[0]=="c"){H.K=or[1],H.ia=or[2];const Hr=or[3];Hr!=null&&(H.la=Hr,H.j.info("VER="+H.la));const mn=or[4];mn!=null&&(H.Aa=mn,H.j.info("SVER="+H.Aa));const Ln=or[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(J=1.5*Ln,H.L=J,H.j.info("backChannelRequestTimeoutMs_="+J)),J=H;const ta=E.g;if(ta){const Li=ta.g?ta.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var Me=J.h;Me.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Cl(Me,Me.h),Me.h=null))}if(J.D){const z0=ta.g?ta.g.getResponseHeader("X-HTTP-Session-Id"):null;z0&&(J.ya=z0,ut(J.I,J.D,z0))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-E.F,H.j.info("Handshake RTT: "+H.R+"ms")),J=H;var At=E;if(J.qa=Ct(J,J.J?J.ia:null,J.W),At.K){Vc(J.h,At);var Cr=At,rn=J.L;rn&&(Cr.I=rn),Cr.B&&(He(Cr),ot(Cr)),J.g=At}else Hd(J);0<H.i.length&&Dt(H)}else or[0]!="stop"&&or[0]!="close"||Oi(H,7);else H.G==3&&(or[0]=="stop"||or[0]=="close"?or[0]=="stop"?Oi(H,7):Wa(H):or[0]!="noop"&&H.l&&H.l.ta(or),H.v=0)}}Zi(4)}catch{}}var yo=class{constructor(E,U){this.g=E,this.map=U}};function Xt(E){this.l=E||10,A.PerformanceNavigationTiming?(E=A.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qt(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ht(E){return E.h?1:E.g?E.g.size:0}function ii(E,U){return E.h?E.h==U:E.g?E.g.has(U):!1}function Cl(E,U){E.g?E.g.add(U):E.h=U}function Vc(E,U){E.h&&E.h==U?E.h=null:E.g&&E.g.has(U)&&E.g.delete(U)}Xt.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function sn(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let U=E.i;for(const H of E.g.values())U=U.concat(H.D);return U}return T(E.i)}function Ws(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(c(E)){for(var U=[],H=E.length,J=0;J<H;J++)U.push(E[J]);return U}U=[],H=0;for(J in E)U[H++]=E[J];return U}function xx(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(c(E)||typeof E=="string"){var U=[];E=E.length;for(var H=0;H<E;H++)U.push(H);return U}U=[],H=0;for(const J in E)U[H++]=J;return U}}}function qr(E,U){if(E.forEach&&typeof E.forEach=="function")E.forEach(U,void 0);else if(c(E)||typeof E=="string")Array.prototype.forEach.call(E,U,void 0);else for(var H=xx(E),J=Ws(E),be=J.length,Me=0;Me<be;Me++)U.call(void 0,J[Me],H&&H[Me],E)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vx(E,U){if(E){E=E.split("&");for(var H=0;H<E.length;H++){var J=E[H].indexOf("="),be=null;if(0<=J){var Me=E[H].substring(0,J);be=E[H].substring(J+1)}else Me=E[H];U(Me,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function ea(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof ea){this.h=E.h,gn(this,E.j),this.o=E.o,this.g=E.g,Te(this,E.s),this.l=E.l;var U=E.i,H=new Eo;H.i=U.i,U.g&&(H.g=new Map(U.g),H.h=U.h),re(this,H),this.m=E.m}else E&&(U=String(E).match(_s))?(this.h=!1,gn(this,U[1]||"",!0),this.o=Wn(U[2]||""),this.g=Wn(U[3]||"",!0),Te(this,U[4]),this.l=Wn(U[5]||"",!0),re(this,U[6]||"",!0),this.m=Wn(U[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}ea.prototype.toString=function(){var E=[],U=this.j;U&&E.push(_l(U,Mi,!0),":");var H=this.g;return(H||U=="file")&&(E.push("//"),(U=this.o)&&E.push(_l(U,Mi,!0),"@"),E.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&E.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&E.push("/"),E.push(_l(H,H.charAt(0)=="/"?Lr:Et,!0))),(H=this.i.toString())&&E.push("?",H),(H=this.m)&&E.push("#",_l(H,wx)),E.join("")};function Zt(E){return new ea(E)}function gn(E,U,H){E.j=H?Wn(U,!0):U,E.j&&(E.j=E.j.replace(/:$/,""))}function Te(E,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);E.s=U}else E.s=null}function re(E,U,H){U instanceof Eo?(E.i=U,Xs(E.i,E.h)):(H||(U=_l(U,Md)),E.i=new Eo(U,E.h))}function ut(E,U,H){E.i.set(U,H)}function tn(E){return ut(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Wn(E,U){return E?U?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function _l(E,U,H){return typeof E=="string"?(E=encodeURI(E).replace(U,V0),H&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function V0(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Mi=/[#\/\?@]/g,Et=/[#\?:]/g,Lr=/[#\?]/g,Md=/[#\?@]/g,wx=/#/g;function Eo(E,U){this.h=this.g=null,this.i=E||null,this.j=!!U}function Ea(E){E.g||(E.g=new Map,E.h=0,E.i&&vx(E.i,function(U,H){E.add(decodeURIComponent(U.replace(/\+/g," ")),H)}))}t=Eo.prototype,t.add=function(E,U){Ea(this),this.i=null,E=za(this,E);var H=this.g.get(E);return H||this.g.set(E,H=[]),H.push(U),this.h+=1,this};function jc(E,U){Ea(E),U=za(E,U),E.g.has(U)&&(E.i=null,E.h-=E.g.get(U).length,E.g.delete(U))}function Od(E,U){return Ea(E),U=za(E,U),E.g.has(U)}t.forEach=function(E,U){Ea(this),this.g.forEach(function(H,J){H.forEach(function(be){E.call(U,be,J,this)},this)},this)},t.na=function(){Ea(this);const E=Array.from(this.g.values()),U=Array.from(this.g.keys()),H=[];for(let J=0;J<U.length;J++){const be=E[J];for(let Me=0;Me<be.length;Me++)H.push(U[J])}return H},t.V=function(E){Ea(this);let U=[];if(typeof E=="string")Od(this,E)&&(U=U.concat(this.g.get(za(this,E))));else{E=Array.from(this.g.values());for(let H=0;H<E.length;H++)U=U.concat(E[H])}return U},t.set=function(E,U){return Ea(this),this.i=null,E=za(this,E),Od(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[U]),this.h+=1,this},t.get=function(E,U){return E?(E=this.V(E),0<E.length?String(E[0]):U):U};function pn(E,U,H){jc(E,U),0<H.length&&(E.i=null,E.g.set(za(E,U),T(H)),E.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],U=Array.from(this.g.keys());for(var H=0;H<U.length;H++){var J=U[H];const Me=encodeURIComponent(String(J)),At=this.V(J);for(J=0;J<At.length;J++){var be=Me;At[J]!==""&&(be+="="+encodeURIComponent(String(At[J]))),E.push(be)}}return this.i=E.join("&")};function za(E,U){return U=String(U),E.j&&(U=U.toLowerCase()),U}function Xs(E,U){U&&!E.j&&(Ea(E),E.i=null,E.g.forEach(function(H,J){var be=J.toLowerCase();J!=be&&(jc(this,J),pn(this,be,H))},E)),E.j=U}function Bt(E,U){const H=new Es;if(A.Image){const J=new Image;J.onload=_(Tt,H,"TestLoadImage: loaded",!0,U,J),J.onerror=_(Tt,H,"TestLoadImage: error",!1,U,J),J.onabort=_(Tt,H,"TestLoadImage: abort",!1,U,J),J.ontimeout=_(Tt,H,"TestLoadImage: timeout",!1,U,J),A.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=E}else U(!1)}function yx(E,U){const H=new Es,J=new AbortController,be=setTimeout(()=>{J.abort(),Tt(H,"TestPingServer: timeout",!1,U)},1e4);fetch(E,{signal:J.signal}).then(Me=>{clearTimeout(be),Me.ok?Tt(H,"TestPingServer: ok",!0,U):Tt(H,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(be),Tt(H,"TestPingServer: error",!1,U)})}function Tt(E,U,H,J,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),J(H)}catch{}}function Mn(){this.g=new Wt}function Ex(E,U,H){const J=H||"";try{qr(E,function(be,Me){let At=be;u(be)&&(At=tt(be)),U.push(J+Me+"="+encodeURIComponent(At))})}catch(be){throw U.push(J+"type="+encodeURIComponent("_badmap")),be}}function AA(E){this.l=E.Ub||null,this.j=E.eb||!1}b(AA,$i),AA.prototype.g=function(){return new Bl(this.l,this.j)},AA.prototype.i=function(E){return function(){return E}}({});function Bl(E,U){ct.call(this),this.D=E,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Bl,ct),t=Bl.prototype,t.open=function(E,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=U,this.readyState=1,Bs(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(U.body=E),(this.D||A).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var U=E.value?E.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!E.done}))&&(this.response=this.responseText+=U)}E.done?bl(this):Bs(this),this.readyState==3&&qs(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,bl(this))},t.Qa=function(E){this.g&&(this.response=E,bl(this))},t.ga=function(){this.g&&bl(this)};function bl(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Bs(E)}t.setRequestHeader=function(E,U){this.u.append(E,U)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],U=this.h.entries();for(var H=U.next();!H.done;)H=H.value,E.push(H[0]+": "+H[1]),H=U.next();return E.join(`\r
`)};function Bs(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function lA(E){let U="";return P(E,function(H,J){U+=J,U+=":",U+=H,U+=`\r
`}),U}function Co(E,U,H){e:{for(J in H){var J=!1;break e}J=!0}J||(H=lA(H),typeof E=="string"?H!=null&&encodeURIComponent(String(H)):ut(E,U,H))}function Pr(E){ct.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Pr,ct);var Tl=/^https?$/i,Sl=["POST","PUT"];t=Pr.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,U,H,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);U=U?U.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?hn(this.o):hn(ue),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(U,String(E),!0),this.B=!1}catch(Me){ai(this,Me);return}if(E=H||"",H=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var be in J)H.set(be,J[be]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Me of J.keys())H.set(Me,J.get(Me));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(H.keys()).find(Me=>Me.toLowerCase()=="content-type"),be=A.FormData&&E instanceof A.FormData,!(0<=Array.prototype.indexOf.call(Sl,U,void 0))||J||be||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,At]of H)this.g.setRequestHeader(Me,At);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ld(this),this.u=!0,this.g.send(E),this.u=!1}catch(Me){ai(this,Me)}};function ai(E,U){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=U,E.m=5,j0(E),Il(E)}function j0(E){E.A||(E.A=!0,Ot(E,"complete"),Ot(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,Ot(this,"complete"),Ot(this,"abort"),Il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Pr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?G0(this):this.bb())},t.bb=function(){G0(this)};function G0(E){if(E.h&&typeof s<"u"&&(!E.v[1]||bs(E)!=4||E.Z()!=2)){if(E.u&&bs(E)==4)Kt(E.Ea,0,E);else if(Ot(E,"readystatechange"),bs(E)==4){E.h=!1;try{const At=E.Z();e:switch(At){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var H;if(!(H=U)){var J;if(J=At===0){var be=String(E.D).match(_s)[1]||null;!be&&A.self&&A.self.location&&(be=A.self.location.protocol.slice(0,-1)),J=!Tl.test(be?be.toLowerCase():"")}H=J}if(H)Ot(E,"complete"),Ot(E,"success");else{E.m=6;try{var Me=2<bs(E)?E.g.statusText:""}catch{Me=""}E.l=Me+" ["+E.Z()+"]",j0(E)}}finally{Il(E)}}}}function Il(E,U){if(E.g){Ld(E);const H=E.g,J=E.v[0]?()=>{}:null;E.g=null,E.v=null,U||Ot(E,"ready");try{H.onreadystatechange=J}catch{}}}function Ld(E){E.I&&(A.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function bs(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var U=this.g.responseText;return E&&U.indexOf(E)==0&&(U=U.substring(E.length)),dt(U)}};function Pd(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(E){const U={};E=(E.g&&2<=bs(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<E.length;J++){if(R(E[J]))continue;var H=G(E[J]);const be=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Me=U[be]||[];U[be]=Me,Me.push(H)}N(U,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cA(E,U,H){return H&&H.internalChannelParams&&H.internalChannelParams[E]||U}function Nl(E){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cA("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cA("baseRetryDelayMs",5e3,E),this.cb=cA("retryDelaySeedMs",1e4,E),this.Wa=cA("forwardChannelMaxRetries",2,E),this.wa=cA("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Xt(E&&E.concurrentRequestLimit),this.Da=new Mn,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nl.prototype,t.la=8,t.G=1,t.connect=function(E,U,H,J){Tr(0),this.W=E,this.H=U||{},H&&J!==void 0&&(this.H.OSID=H,this.H.OAID=J),this.F=this.X,this.I=Ct(this,null,this.W),Dt(this)};function Wa(E){if(Ue(E),E.G==3){var U=E.U++,H=Zt(E.I);if(ut(H,"SID",E.K),ut(H,"RID",U),ut(H,"TYPE","terminate"),uA(E,H),U=new Qe(E,E.j,U),U.L=2,U.v=tn(Zt(H)),H=!1,A.navigator&&A.navigator.sendBeacon)try{H=A.navigator.sendBeacon(U.v.toString(),"")}catch{}!H&&A.Image&&(new Image().src=U.v,H=!0),H||(U.g=Vd(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ot(U)}yr(E)}function Gc(E){E.g&&(Rl(E),E.g.cancel(),E.g=null)}function Ue(E){Gc(E),E.u&&(A.clearTimeout(E.u),E.u=null),fA(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&A.clearTimeout(E.s),E.s=null)}function Dt(E){if(!Qt(E.h)&&!E.s){E.s=!0;var U=E.Ga;ne||Le(),De||(ne(),De=!0),he.add(U,E),E.B=0}}function On(E,U){return Ht(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=U.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=ni(v(E.Ga,E,U),Dl(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const be=new Qe(this,this.j,E);let Me=this.o;if(this.S&&(Me?(Me=M(Me),Q(Me,this.S)):Me=this.S),this.m!==null||this.O||(be.H=Me,Me=null),this.P)e:{for(var U=0,H=0;H<this.i.length;H++){t:{var J=this.i[H];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(U+=J,4096<U){U=H;break e}if(U===4096||H===this.i.length-1){U=H+1;break e}}U=1e3}else U=1e3;U=Qd(this,be,U),H=Zt(this.I),ut(H,"RID",E),ut(H,"CVER",22),this.D&&ut(H,"X-HTTP-Session-Id",this.D),uA(this,H),Me&&(this.O?U="headers="+encodeURIComponent(String(lA(Me)))+"&"+U:this.m&&Co(H,this.m,Me)),Cl(this.h,be),this.Ua&&ut(H,"TYPE","init"),this.P?(ut(H,"$req",U),ut(H,"SID","null"),be.T=!0,Xe(be,H,null)):Xe(be,H,U),this.G=2}}else this.G==3&&(E?Fl(this,E):this.i.length==0||Qt(this.h)||Fl(this))};function Fl(E,U){var H;U?H=U.l:H=E.U++;const J=Zt(E.I);ut(J,"SID",E.K),ut(J,"RID",H),ut(J,"AID",E.T),uA(E,J),E.m&&E.o&&Co(J,E.m,E.o),H=new Qe(E,E.j,H,E.B+1),E.m===null&&(H.H=E.o),U&&(E.i=U.D.concat(E.i)),U=Qd(E,H,1e3),H.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Cl(E.h,H),Xe(H,J,U)}function uA(E,U){E.H&&P(E.H,function(H,J){ut(U,J,H)}),E.l&&qr({},function(H,J){ut(U,J,H)})}function Qd(E,U,H){H=Math.min(E.i.length,H);var J=E.l?v(E.l.Na,E.l,E):null;e:{var be=E.i;let Me=-1;for(;;){const At=["count="+H];Me==-1?0<H?(Me=be[0].g,At.push("ofs="+Me)):Me=0:At.push("ofs="+Me);let Cr=!0;for(let rn=0;rn<H;rn++){let or=be[rn].g;const Hr=be[rn].map;if(or-=Me,0>or)Me=Math.max(0,be[rn].g-100),Cr=!1;else try{Ex(Hr,At,"req"+or+"_")}catch{J&&J(Hr)}}if(Cr){J=At.join("&");break e}}}return E=E.i.splice(0,H),U.D=E,J}function Hd(E){if(!E.g&&!E.u){E.Y=1;var U=E.Fa;ne||Le(),De||(ne(),De=!0),he.add(U,E),E.v=0}}function K0(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=ni(v(E.Fa,E),Dl(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=ni(v(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),Gc(this),on(this))};function Rl(E){E.A!=null&&(A.clearTimeout(E.A),E.A=null)}function on(E){E.g=new Qe(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var U=Zt(E.qa);ut(U,"RID","rpc"),ut(U,"SID",E.K),ut(U,"AID",E.T),ut(U,"CI",E.F?"0":"1"),!E.F&&E.ja&&ut(U,"TO",E.ja),ut(U,"TYPE","xmlhttp"),uA(E,U),E.m&&E.o&&Co(U,E.m,E.o),E.L&&(E.g.I=E.L);var H=E.g;E=E.ia,H.L=1,H.v=tn(Zt(U)),H.m=null,H.P=!0,$e(H,E)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),K0(this),Tr(19))};function fA(E){E.C!=null&&(A.clearTimeout(E.C),E.C=null)}function Qr(E,U){var H=null;if(E.g==U){fA(E),Rl(E),E.g=null;var J=2}else if(ii(E.h,U))H=U.D,Vc(E.h,U),J=1;else return;if(E.G!=0){if(U.o)if(J==1){H=U.m?U.m.length:0,U=Date.now()-U.F;var be=E.B;J=zs(),Ot(J,new Hc(J,H)),Dt(E)}else Hd(E);else if(be=U.s,be==3||be==0&&0<U.X||!(J==1&&On(E,U)||J==2&&K0(E)))switch(H&&0<H.length&&(U=E.h,U.i=U.i.concat(H)),be){case 1:Oi(E,5);break;case 4:Oi(E,10);break;case 3:Oi(E,6);break;default:Oi(E,2)}}}function Dl(E,U){let H=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(H*=2),H*U}function Oi(E,U){if(E.j.info("Error code "+U),U==2){var H=v(E.fb,E),J=E.Xa;const be=!J;J=new ea(J||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||gn(J,"https"),tn(J),be?Bt(J.toString(),H):yx(J.toString(),H)}else Tr(2);E.G=0,E.l&&E.l.sa(U),yr(E),Ue(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function yr(E){if(E.G=0,E.ka=[],E.l){const U=sn(E.h);(U.length!=0||E.i.length!=0)&&(I(E.ka,U),I(E.ka,E.i),E.h.i.length=0,T(E.i),E.i.length=0),E.l.ra()}}function Ct(E,U,H){var J=H instanceof ea?Zt(H):new ea(H);if(J.g!="")U&&(J.g=U+"."+J.g),Te(J,J.s);else{var be=A.location;J=be.protocol,U=U?U+"."+be.hostname:be.hostname,be=+be.port;var Me=new ea(null);J&&gn(Me,J),U&&(Me.g=U),be&&Te(Me,be),H&&(Me.l=H),J=Me}return H=E.D,U=E.ya,H&&U&&ut(J,H,U),ut(J,"VER",E.la),uA(E,J),J}function Vd(E,U,H){if(U&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=E.Ca&&!E.pa?new Pr(new AA({eb:H})):new Pr(E.pa),U.Ha(E.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sr(){}t=Sr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xa(){}Xa.prototype.g=function(E,U){return new _n(E,U)};function _n(E,U){ct.call(this),this.g=new Nl(U),this.l=E,this.h=U&&U.messageUrlParams||null,E=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(E?E["X-WebChannel-Content-Type"]=U.messageContentType:E={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(E?E["X-WebChannel-Client-Profile"]=U.va:E={"X-WebChannel-Client-Profile":U.va}),this.g.S=E,(E=U&&U.Sb)&&!R(E)&&(this.g.m=E),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!R(U)&&(this.g.D=U,E=this.h,E!==null&&U in E&&(E=this.h,U in E&&delete E[U])),this.j=new Ys(this)}b(_n,ct),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Wa(this.g)},_n.prototype.o=function(E){var U=this.g;if(typeof E=="string"){var H={};H.__data__=E,E=H}else this.u&&(H={},H.__data__=tt(E),E=H);U.i.push(new yo(U.Ya++,E)),U.G==3&&Dt(U)},_n.prototype.N=function(){this.g.l=null,delete this.j,Wa(this.g),delete this.g,_n.aa.N.call(this)};function jd(E){ya.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var U=E.__sm__;if(U){e:{for(const H in U){E=H;break e}E=void 0}(this.i=E)&&(E=this.i,U=U!==null&&E in U?U[E]:void 0),this.data=U}else this.data=E}b(jd,ya);function Ca(){ys.call(this),this.status=1}b(Ca,ys);function Ys(E){this.g=E}b(Ys,Sr),Ys.prototype.ua=function(){Ot(this.g,"a")},Ys.prototype.ta=function(E){Ot(this.g,new jd(E))},Ys.prototype.sa=function(E){Ot(this.g,new Ca)},Ys.prototype.ra=function(){Ot(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,X5=function(){return new Xa},W5=function(){return zs()},z5=Ka,yy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,Ng=te,ae.COMPLETE="complete",K5=ae,ws.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Uf=ws,Pr.prototype.listenOnce=Pr.prototype.L,Pr.prototype.getLastError=Pr.prototype.Ka,Pr.prototype.getLastErrorCode=Pr.prototype.Ba,Pr.prototype.getStatus=Pr.prototype.Z,Pr.prototype.getResponseJson=Pr.prototype.Oa,Pr.prototype.getResponseText=Pr.prototype.oa,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Ha,G5=Pr}).apply(typeof ig<"u"?ig:typeof self<"u"?self:typeof window<"u"?window:{});const u3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new p_("@firebase/firestore");function pf(){return xc.logLevel}function vt(t,...e){if(xc.logLevel<=fr.DEBUG){const r=e.map(x_);xc.debug(`Firestore (${P0}): ${t}`,...r)}}function rA(t,...e){if(xc.logLevel<=fr.ERROR){const r=e.map(x_);xc.error(`Firestore (${P0}): ${t}`,...r)}}function h0(t,...e){if(xc.logLevel<=fr.WARN){const r=e.map(x_);xc.warn(`Firestore (${P0}): ${t}`,...r)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t="Unexpected state"){const e=`FIRESTORE (${P0}) INTERNAL ASSERTION FAILED: `+t;throw rA(e),new Error(e)}function br(t,e){t||Ft()}function Mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends yl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $he{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(bi.UNAUTHENTICATED))}shutdown(){}}class Zhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ede{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){br(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},A=c=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>A(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?A(c):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rl)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(br(typeof n.accessToken=="string"),new q5(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return br(e===null||typeof e=="string"),new bi(e)}}class tde{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rde{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new tde(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nde{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ide{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){br(this.o===void 0);const n=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(br(typeof r.token=="string"),this.R=r.token,new nde(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ade(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=ade(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function dr(t,e){return t<e?-1:t>e?1:0}function d0(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Gn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dr(this.nanoseconds,e.nanoseconds):dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Gn(0,0))}static max(){return new Ut(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ft(),n===void 0?n=e.length-r:n>e.length-r&&Ft(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return qh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof qh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Gr extends qh{construct(e,r,n){return new Gr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xt(We.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Gr(r)}static emptyPath(){return new Gr([])}}const sde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends qh{construct(e,r,n){return new hi(e,r,n)}static isValidIdentifier(e){return sde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new xt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const A=e[i];if(A==="\\"){if(i+1===e.length)throw new xt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else A==="`"?(s=!s,i++):A!=="."||s?(n+=A,i++):(a(),i++)}if(a(),s)throw new xt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(r)}static emptyPath(){return new hi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Gr.fromString(e))}static fromName(e){return new _t(Gr.fromString(e).popFirst(5))}static empty(){return new _t(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Gr(e.slice()))}}function ode(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(n===1e9?new Gn(r+1,0):new Gn(r,n));return new fl(i,_t.empty(),e)}function Ade(t){return new fl(t.readTime,t.key,-1)}class fl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new fl(Ut.min(),_t.empty(),-1)}static max(){return new fl(Ut.max(),_t.empty(),-1)}}function lde(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=_t.comparator(t.documentKey,e.documentKey),r!==0?r:dr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ude{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==cde)throw t;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Je((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Je?r:Je.resolve(r)}catch(r){return Je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Je.reject(r)}static resolve(e){return new Je((r,n)=>{r(e)})}static reject(e){return new Je((r,n)=>{n(e)})}static waitFor(e){return new Je((r,n)=>{let i=0,a=0,s=!1;e.forEach(A=>{++i,A.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=Je.resolve(!1);for(const n of e)r=r.next(i=>i?Je.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Je((n,i)=>{const a=e.length,s=new Array(a);let A=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(h=>{s[u]=h,++A,A===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new Je((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function fde(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Sd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}v_.oe=-1;function Zm(t){return t==null}function Gp(t){return t===0&&1/t==-1/0}function hde(t){return typeof t=="number"&&Number.isInteger(t)&&!Gp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Lc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function J5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,r){this.comparator=e,this.root=r||li.EMPTY}insert(e,r){return new an(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ag(this.root,e,this.comparator,!0)}}class ag{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??li.RED,this.left=i??li.EMPTY,this.right=a??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new li(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return li.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(e,r,n,i,a){return this}insert(e,r,n){return new li(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new h3(this.data.getIterator())}getIteratorFrom(e){return new h3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new vi(this.comparator);return r.data=e,r}}class h3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Ma([])}unionWith(e){let r=new vi(hi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ma(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return d0(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $5("Invalid base64 string: "+a):a}}(e);return new wi(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new wi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const dde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(br(!!t),typeof t=="string"){let e=0;const r=dde.exec(t);if(br(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vc(t){return typeof t=="string"?wi.fromBase64String(t):wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function y_(t){const e=t.mapValue.fields.__previous_value__;return w_(e)?y_(e):e}function Yh(t){const e=hl(t.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(e,r,n,i,a,s,A,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=A,this.longPollingOptions=c,this.useFetchStreams=u}}class Jh{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg={mapValue:{}};function wc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w_(t)?4:mde(t)?9007199254740991:pde(t)?10:11:Ft()}function fo(t,e){if(t===e)return!0;const r=wc(t);if(r!==wc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=hl(i.timestampValue),A=hl(a.timestampValue);return s.seconds===A.seconds&&s.nanos===A.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return vc(i.bytesValue).isEqual(vc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return yn(i.geoPointValue.latitude)===yn(a.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return yn(i.integerValue)===yn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=yn(i.doubleValue),A=yn(a.doubleValue);return s===A?Gp(s)===Gp(A):isNaN(s)&&isNaN(A)}return!1}(t,e);case 9:return d0(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},A=a.mapValue.fields||{};if(f3(s)!==f3(A))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(A[c]===void 0||!fo(s[c],A[c])))return!1;return!0}(t,e);default:return Ft()}}function $h(t,e){return(t.values||[]).find(r=>fo(r,e))!==void 0}function g0(t,e){if(t===e)return 0;const r=wc(t),n=wc(e);if(r!==n)return dr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return dr(t.booleanValue,e.booleanValue);case 2:return function(a,s){const A=yn(a.integerValue||a.doubleValue),c=yn(s.integerValue||s.doubleValue);return A<c?-1:A>c?1:A===c?0:isNaN(A)?isNaN(c)?0:-1:1}(t,e);case 3:return d3(t.timestampValue,e.timestampValue);case 4:return d3(Yh(t),Yh(e));case 5:return dr(t.stringValue,e.stringValue);case 6:return function(a,s){const A=vc(a),c=vc(s);return A.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const A=a.split("/"),c=s.split("/");for(let u=0;u<A.length&&u<c.length;u++){const h=dr(A[u],c[u]);if(h!==0)return h}return dr(A.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const A=dr(yn(a.latitude),yn(s.latitude));return A!==0?A:dr(yn(a.longitude),yn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g3(t.arrayValue,e.arrayValue);case 10:return function(a,s){var A,c,u,h;const m=a.fields||{},v=s.fields||{},_=(A=m.value)===null||A===void 0?void 0:A.arrayValue,b=(c=v.value)===null||c===void 0?void 0:c.arrayValue,T=dr(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:g3(_,b)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===sg.mapValue&&s===sg.mapValue)return 0;if(a===sg.mapValue)return 1;if(s===sg.mapValue)return-1;const A=a.fields||{},c=Object.keys(A),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const v=dr(c[m],h[m]);if(v!==0)return v;const _=g0(A[c[m]],u[h[m]]);if(_!==0)return _}return dr(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ft()}}function d3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dr(t,e);const r=hl(t),n=hl(e),i=dr(r.seconds,n.seconds);return i!==0?i:dr(r.nanos,n.nanos)}function g3(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=g0(r[i],n[i]);if(a)return a}return dr(r.length,n.length)}function p0(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=hl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return vc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return _t.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Ey(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Ey(r.fields[s])}`;return i+"}"}(t.mapValue):Ft()}function p3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cy(t){return!!t&&"integerValue"in t}function E_(t){return!!t&&"arrayValue"in t}function m3(t){return!!t&&"nullValue"in t}function x3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fg(t){return!!t&&"mapValue"in t}function pde(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=dh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=dh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function mde(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.value=e}static empty(){return new da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Fg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=dh(r)}setAll(e){let r=hi.emptyPath(),n={},i=[];e.forEach((s,A)=>{if(!r.isImmediateParentOf(A)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=A.popLast()}s?n[A.lastSegment()]=dh(s):i.push(A.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Fg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Lc(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new da(dh(this.value))}}function Z5(t){const e=[];return Lc(t.fields,(r,n)=>{const i=new hi([r]);if(Fg(n)){const a=Z5(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Ma(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,r,n,i,a,s,A){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=A}static newInvalidDocument(e){return new Ii(e,0,Ut.min(),Ut.min(),Ut.min(),da.empty(),0)}static newFoundDocument(e,r,n,i){return new Ii(e,1,r,Ut.min(),n,i,0)}static newNoDocument(e,r){return new Ii(e,2,r,Ut.min(),Ut.min(),da.empty(),0)}static newUnknownDocument(e,r){return new Ii(e,3,r,Ut.min(),Ut.min(),da.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,r){this.position=e,this.inclusive=r}}function v3(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=_t.comparator(_t.fromName(s.referenceValue),r.key):n=g0(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function w3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,r="asc"){this.field=e,this.dir=r}}function xde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{}class kn extends eU{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new wde(e,r,n):r==="array-contains"?new Cde(e,n):r==="in"?new _de(e,n):r==="not-in"?new Bde(e,n):r==="array-contains-any"?new bde(e,n):new kn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new yde(e,n):new Ede(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(g0(r,this.value)):r!==null&&wc(this.value)===wc(r)&&this.matchesComparison(g0(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends eU{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Vs(e,r)}matches(e){return tU(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tU(t){return t.op==="and"}function rU(t){return vde(t)&&tU(t)}function vde(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function _y(t){if(t instanceof kn)return t.field.canonicalString()+t.op.toString()+p0(t.value);if(rU(t))return t.filters.map(e=>_y(e)).join(",");{const e=t.filters.map(r=>_y(r)).join(",");return`${t.op}(${e})`}}function nU(t,e){return t instanceof kn?function(n,i){return i instanceof kn&&n.op===i.op&&n.field.isEqual(i.field)&&fo(n.value,i.value)}(t,e):t instanceof Vs?function(n,i){return i instanceof Vs&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,A)=>a&&nU(s,i.filters[A]),!0):!1}(t,e):void Ft()}function iU(t){return t instanceof kn?function(r){return`${r.field.canonicalString()} ${r.op} ${p0(r.value)}`}(t):t instanceof Vs?function(r){return r.op.toString()+" {"+r.getFilters().map(iU).join(" ,")+"}"}(t):"Filter"}class wde extends kn{constructor(e,r,n){super(e,r,n),this.key=_t.fromName(n.referenceValue)}matches(e){const r=_t.comparator(e.key,this.key);return this.matchesComparison(r)}}class yde extends kn{constructor(e,r){super(e,"in",r),this.keys=aU("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ede extends kn{constructor(e,r){super(e,"not-in",r),this.keys=aU("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function aU(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>_t.fromName(n.referenceValue))}class Cde extends kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return E_(r)&&$h(r.arrayValue,this.value)}}class _de extends kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&$h(this.value.arrayValue,r)}}class Bde extends kn{constructor(e,r){super(e,"not-in",r)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!$h(this.value.arrayValue,r)}}class bde extends kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!E_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>$h(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(e,r=null,n=[],i=[],a=null,s=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=A,this.ue=null}}function y3(t,e=null,r=[],n=[],i=null,a=null,s=null){return new Tde(t,e,r,n,i,a,s)}function C_(t){const e=Mt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>_y(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Zm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>p0(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>p0(n)).join(",")),e.ue=r}return e.ue}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!xde(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!nU(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w3(t.startAt,e.startAt)&&w3(t.endAt,e.endAt)}function By(t){return _t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,r=null,n=[],i=[],a=null,s="F",A=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=A,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sde(t,e,r,n,i,a,s,A){return new Id(t,e,r,n,i,a,s,A)}function B_(t){return new Id(t)}function E3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sU(t){return t.collectionGroup!==null}function gh(t){const e=Mt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let A=new vi(hi.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(A=A.add(u.field))})}),A})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new zp(a,n))}),r.has(hi.keyField().canonicalString())||e.ce.push(new zp(hi.keyField(),n))}return e.ce}function Ao(t){const e=Mt(t);return e.le||(e.le=Ide(e,gh(t))),e.le}function Ide(t,e){if(t.limitType==="F")return y3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new zp(i.field,a)});const r=t.endAt?new Kp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Kp(t.startAt.position,t.startAt.inclusive):null;return y3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function by(t,e){const r=t.filters.concat([e]);return new Id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ty(t,e,r){return new Id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ex(t,e){return __(Ao(t),Ao(e))&&t.limitType===e.limitType}function oU(t){return`${C_(Ao(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>iU(i)).join(", ")}]`),Zm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>p0(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>p0(i)).join(",")),`Target(${n})`}(Ao(t))}; limitType=${t.limitType})`}function tx(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):_t.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of gh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,A,c){const u=v3(s,A,c);return s.inclusive?u<=0:u<0}(n.startAt,gh(n),i)||n.endAt&&!function(s,A,c){const u=v3(s,A,c);return s.inclusive?u>=0:u>0}(n.endAt,gh(n),i))}(t,e)}function Nde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AU(t){return(e,r)=>{let n=!1;for(const i of gh(t)){const a=Fde(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Fde(t,e,r){const n=t.field.isKeyField()?_t.comparator(e.key,r.key):function(a,s,A){const c=s.data.field(a),u=A.data.field(a);return c!==null&&u!==null?g0(c,u):Ft()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lc(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return J5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rde=new an(_t.comparator);function nA(){return Rde}const lU=new an(_t.comparator);function Mf(...t){let e=lU;for(const r of t)e=e.insert(r.key,r);return e}function cU(t){let e=lU;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ql(){return ph()}function uU(){return ph()}function ph(){return new Q0(t=>t.toString(),(t,e)=>t.isEqual(e))}const Dde=new an(_t.comparator),kde=new vi(_t.comparator);function nr(...t){let e=kde;for(const r of t)e=e.add(r);return e}const Ude=new vi(dr);function Mde(){return Ude}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(e)?"-0":e}}function fU(t){return{integerValue:""+t}}function Ode(t,e){return hde(e)?fU(e):b_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this._=void 0}}function Lde(t,e,r){return t instanceof Wp?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&w_(a)&&(a=y_(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof Zh?dU(t,e):t instanceof ed?gU(t,e):function(i,a){const s=hU(i,a),A=C3(s)+C3(i.Pe);return Cy(s)&&Cy(i.Pe)?fU(A):b_(i.serializer,A)}(t,e)}function Pde(t,e,r){return t instanceof Zh?dU(t,e):t instanceof ed?gU(t,e):r}function hU(t,e){return t instanceof Xp?function(n){return Cy(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Wp extends rx{}class Zh extends rx{constructor(e){super(),this.elements=e}}function dU(t,e){const r=pU(e);for(const n of t.elements)r.some(i=>fo(i,n))||r.push(n);return{arrayValue:{values:r}}}class ed extends rx{constructor(e){super(),this.elements=e}}function gU(t,e){let r=pU(e);for(const n of t.elements)r=r.filter(i=>!fo(i,n));return{arrayValue:{values:r}}}class Xp extends rx{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function C3(t){return yn(t.integerValue||t.doubleValue)}function pU(t){return E_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Qde(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Zh&&i instanceof Zh||n instanceof ed&&i instanceof ed?d0(n.elements,i.elements,fo):n instanceof Xp&&i instanceof Xp?fo(n.Pe,i.Pe):n instanceof Wp&&i instanceof Wp}(t.transform,e.transform)}class Hde{constructor(e,r){this.version=e,this.transformResults=r}}class pa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nx{}function mU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ix(t.key,pa.none()):new Nd(t.key,t.data,pa.none());{const r=t.data,n=da.empty();let i=new vi(hi.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new El(t.key,n,new Ma(i.toArray()),pa.none())}}function Vde(t,e,r){t instanceof Nd?function(i,a,s){const A=i.value.clone(),c=B3(i.fieldTransforms,a,s.transformResults);A.setAll(c),a.convertToFoundDocument(s.version,A).setHasCommittedMutations()}(t,e,r):t instanceof El?function(i,a,s){if(!Rg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const A=B3(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(xU(i)),c.setAll(A),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function mh(t,e,r,n){return t instanceof Nd?function(a,s,A,c){if(!Rg(a.precondition,s))return A;const u=a.value.clone(),h=b3(a.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof El?function(a,s,A,c){if(!Rg(a.precondition,s))return A;const u=b3(a.fieldTransforms,c,s),h=s.data;return h.setAll(xU(a)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),A===null?null:A.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,A){return Rg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):A}(t,e,r)}function jde(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=hU(n.transform,i||null);a!=null&&(r===null&&(r=da.empty()),r.set(n.field,a))}return r||null}function _3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&d0(n,i,(a,s)=>Qde(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nd extends nx{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class El extends nx{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xU(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function B3(t,e,r){const n=new Map;br(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,A=e.data.field(a.field);n.set(a.field,Pde(s,A,r[i]))}return n}function b3(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Lde(a,s,e))}return n}class ix extends nx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gde extends nx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Vde(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=mh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=mh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=uU();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let A=this.applyToLocalView(s,a.mutatedFields);A=r.has(i.key)?null:A;const c=mU(s,A);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ut.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),nr())}isEqual(e){return this.batchId===e.batchId&&d0(this.mutations,e.mutations,(r,n)=>_3(r,n))&&d0(this.baseMutations,e.baseMutations,(r,n)=>_3(r,n))}}class T_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){br(e.mutations.length===n.length);let i=function(){return Dde}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new T_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wde{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,Ar;function Xde(t){switch(t){default:return Ft();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function vU(t){if(t===void 0)return rA("GRPC error has no .code"),We.UNKNOWN;switch(t){case bn.OK:return We.OK;case bn.CANCELLED:return We.CANCELLED;case bn.UNKNOWN:return We.UNKNOWN;case bn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case bn.INTERNAL:return We.INTERNAL;case bn.UNAVAILABLE:return We.UNAVAILABLE;case bn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case bn.NOT_FOUND:return We.NOT_FOUND;case bn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case bn.ABORTED:return We.ABORTED;case bn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case bn.DATA_LOSS:return We.DATA_LOSS;default:return Ft()}}(Ar=bn||(bn={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde=new oc([4294967295,4294967295],0);function T3(t){const e=qde().encode(t),r=new j5;return r.update(e),new Uint8Array(r.digest())}function S3(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oc([r,n],0),new oc([i,a],0)]}class S_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Of(`Invalid padding: ${r}`);if(n<0)throw new Of(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Of(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Of(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=oc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(oc.fromNumber(n)));return i.compare(Yde)===1&&(i=new oc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=T3(e),[n,i]=S3(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new S_(a,i,r);return n.forEach(A=>s.insert(A)),s}insert(e){if(this.Ie===0)return;const r=T3(e),[n,i]=S3(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ax(Ut.min(),i,new an(dr),nA(),nr())}}class Fd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Fd(n,r,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class wU{constructor(e,r){this.targetId=e,this.me=r}}class yU{constructor(e,r,n=wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class I3{constructor(){this.fe=0,this.ge=F3(),this.pe=wi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=nr(),r=nr(),n=nr();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ft()}}),new Fd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=F3()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,br(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Jde{constructor(e){this.Le=e,this.Be=new Map,this.ke=nA(),this.qe=N3(),this.Qe=new an(dr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ft()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(By(a))if(n===0){const s=new _t(a.path);this.Ue(r,s,Ii.newNoDocument(s,Ut.min()))}else br(n===1);else{const s=this.Ye(r);if(s!==n){const A=this.Ze(e),c=A?this.Xe(A,e,s):1;if(c!==0){this.je(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,A;try{s=vc(n).toUint8Array()}catch(c){if(c instanceof $5)return h0("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{A=new S_(s,i,a)}catch(c){return h0(c instanceof Of?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return A.Ie===0?null:A}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),A=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(A)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const A=this.Je(s);if(A){if(a.current&&By(A.target)){const c=new _t(A.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Ii.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=nr();this.qe.forEach((a,s)=>{let A=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(A=!1,!1)}),A&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new ax(e,r,this.Qe,this.ke,n);return this.ke=nA(),this.qe=N3(),this.Qe=new an(dr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new I3,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new vi(dr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||vt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new I3),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function N3(){return new an(_t.comparator)}function F3(){return new an(_t.comparator)}const $de={asc:"ASCENDING",desc:"DESCENDING"},Zde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1e={and:"AND",or:"OR"};class t1e{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Sy(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r1e(t,e){return qp(t,e.toTimestamp())}function lo(t){return br(!!t),Ut.fromTimestamp(function(r){const n=hl(r);return new Gn(n.seconds,n.nanos)}(t))}function I_(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const r=function(i){return new Gr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function CU(t){const e=Gr.fromString(t);return br(SU(e)),e}function Ny(t,e){return I_(t.databaseId,e.path)}function Z2(t,e){const r=CU(e);if(r.get(1)!==t.databaseId.projectId)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new _t(BU(r))}function _U(t,e){return I_(t.databaseId,e)}function n1e(t){const e=CU(t);return e.length===4?Gr.emptyPath():BU(e)}function Fy(t){return new Gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BU(t){return br(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R3(t,e,r){return{name:Ny(t,e),fields:r.value.mapValue.fields}}function i1e(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,h){return u.useProto3Json?(br(h===void 0||typeof h=="string"),wi.fromBase64String(h||"")):(br(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wi.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,A=s&&function(u){const h=u.code===void 0?We.UNKNOWN:vU(u.code);return new xt(h,u.message||"")}(s);r=new yU(n,i,a,A||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Z2(t,n.document.name),a=lo(n.document.updateTime),s=n.document.createTime?lo(n.document.createTime):Ut.min(),A=new da({mapValue:{fields:n.document.fields}}),c=Ii.newFoundDocument(i,a,s,A),u=n.targetIds||[],h=n.removedTargetIds||[];r=new Dg(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Z2(t,n.document),a=n.readTime?lo(n.readTime):Ut.min(),s=Ii.newNoDocument(i,a),A=n.removedTargetIds||[];r=new Dg([],A,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Z2(t,n.document),a=n.removedTargetIds||[];r=new Dg([],a,i,null)}else{if(!("filter"in e))return Ft();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Wde(i,a),A=n.targetId;r=new wU(A,s)}}return r}function a1e(t,e){let r;if(e instanceof Nd)r={update:R3(t,e.key,e.value)};else if(e instanceof ix)r={delete:Ny(t,e.key)};else if(e instanceof El)r={update:R3(t,e.key,e.data),updateMask:d1e(e.fieldMask)};else{if(!(e instanceof Gde))return Ft();r={verify:Ny(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const A=s.transform;if(A instanceof Wp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Zh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof ed)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Xp)return{fieldPath:s.field.canonicalString(),increment:A.Pe};throw Ft()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:r1e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ft()}(t,e.precondition)),r}function s1e(t,e){return t&&t.length>0?(br(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?lo(i.updateTime):lo(a);return s.isEqual(Ut.min())&&(s=lo(a)),new Hde(s,i.transformResults||[])}(r,e))):[]}function o1e(t,e){return{documents:[_U(t,e.path)]}}function A1e(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=_U(t,i);const a=function(u){if(u.length!==0)return TU(Vs.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(h=>function(v){return{field:du(v.field),direction:u1e(v.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const A=Sy(t,e.limit);return A!==null&&(r.structuredQuery.limit=A),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function l1e(t){let e=n1e(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){br(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(m){const v=bU(m);return v instanceof Vs&&rU(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(v=>function(b){return new zp(gu(b.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(r.orderBy));let A=null;r.limit&&(A=function(m){let v;return v=typeof m=="object"?m.value:m,Zm(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(m){const v=!!m.before,_=m.values||[];return new Kp(_,v)}(r.startAt));let u=null;return r.endAt&&(u=function(m){const v=!m.before,_=m.values||[];return new Kp(_,v)}(r.endAt)),Sde(e,i,s,a,A,"F",c,u)}function c1e(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bU(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gu(r.unaryFilter.field);return kn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(r.unaryFilter.field);return kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gu(r.unaryFilter.field);return kn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gu(r.unaryFilter.field);return kn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(t):t.fieldFilter!==void 0?function(r){return kn.create(gu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Vs.create(r.compositeFilter.filters.map(n=>bU(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ft()}}(r.compositeFilter.op))}(t):Ft()}function u1e(t){return $de[t]}function f1e(t){return Zde[t]}function h1e(t){return e1e[t]}function du(t){return{fieldPath:t.canonicalString()}}function gu(t){return hi.fromServerFormat(t.fieldPath)}function TU(t){return t instanceof kn?function(r){if(r.op==="=="){if(x3(r.value))return{unaryFilter:{field:du(r.field),op:"IS_NAN"}};if(m3(r.value))return{unaryFilter:{field:du(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(x3(r.value))return{unaryFilter:{field:du(r.field),op:"IS_NOT_NAN"}};if(m3(r.value))return{unaryFilter:{field:du(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(r.field),op:f1e(r.op),value:r.value}}}(t):t instanceof Vs?function(r){const n=r.getFilters().map(i=>TU(i));return n.length===1?n[0]:{compositeFilter:{op:h1e(r.op),filters:n}}}(t):Ft()}function d1e(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function SU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,r,n,i,a=Ut.min(),s=Ut.min(),A=wi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=A,this.expectedCount=c}withSequenceNumber(e){return new QA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new QA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new QA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new QA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1e{constructor(e){this.ct=e}}function p1e(t){const e=l1e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1e{constructor(){this.un=new x1e}addToCollectionParentIndex(e,r){return this.un.add(r),Je.resolve()}getCollectionParents(e,r){return Je.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Je.resolve()}deleteFieldIndex(e,r){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,r){return Je.resolve()}getDocumentsMatchingTarget(e,r){return Je.resolve(null)}getIndexType(e,r){return Je.resolve(0)}getFieldIndexes(e,r){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,r){return Je.resolve(fl.min())}getMinOffsetFromCollectionGroup(e,r){return Je.resolve(fl.min())}updateCollectionGroup(e,r,n){return Je.resolve()}updateIndexEntries(e,r){return Je.resolve()}}class x1e{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new vi(Gr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new vi(Gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new m0(0)}static kn(){return new m0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1e{constructor(){this.changes=new Q0(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1e{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&mh(n.mutation,i,Ma.empty(),Gn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,nr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=nr()){const i=ql();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Mf();return a.forEach((A,c)=>{s=s.insert(A,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=ql();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,nr()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,A)=>{r.set(s,A)})})}computeViews(e,r,n,i){let a=nA();const s=ph(),A=function(){return ph()}();return r.forEach((c,u)=>{const h=n.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof El)?a=a.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),mh(h.mutation,u,h.mutation.getFieldMask(),Gn.now())):s.set(u.key,Ma.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,h)=>s.set(u,h)),r.forEach((u,h)=>{var m;return A.set(u,new w1e(h,(m=s.get(u))!==null&&m!==void 0?m:null))}),A))}recalculateAndSaveOverlays(e,r){const n=ph();let i=new an((s,A)=>s-A),a=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const A of s)A.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let h=n.get(c)||Ma.empty();h=A.applyToLocalView(u,h),n.set(c,h);const m=(i.get(A.batchId)||nr()).add(c);i=i.insert(A.batchId,m)})}).next(()=>{const s=[],A=i.getReverseIterator();for(;A.hasNext();){const c=A.getNext(),u=c.key,h=c.value,m=uU();h.forEach(v=>{if(!a.has(v)){const _=mU(r.get(v),n.get(v));_!==null&&m.set(v,_),a=a.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Je.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return _t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):sU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Je.resolve(ql());let A=-1,c=a;return s.next(u=>Je.forEach(u,(h,m)=>(A<m.largestBatchId&&(A=m.largestBatchId),a.get(h)?Je.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,nr())).next(h=>({batchId:A,changes:cU(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _t(r)).next(n=>{let i=Mf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Mf();return this.indexManager.getCollectionParents(e,a).next(A=>Je.forEach(A,c=>{const u=function(m,v){return new Id(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(h=>{h.forEach((m,v)=>{s=s.insert(m,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,Ii.newInvalidDocument(h)))});let A=Mf();return s.forEach((c,u)=>{const h=a.get(c);h!==void 0&&mh(h.mutation,u,Ma.empty(),Gn.now()),tx(r,u)&&(A=A.insert(c,u))}),A})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1e{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Je.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:lo(i.createTime)}}(r)),Je.resolve()}getNamedQuery(e,r){return Je.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:p1e(i.bundledQuery),readTime:lo(i.readTime)}}(r)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1e{constructor(){this.overlays=new an(_t.comparator),this.Ir=new Map}getOverlay(e,r){return Je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ql();return Je.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),Je.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),Je.resolve()}getOverlaysForCollection(e,r,n){const i=ql(),a=r.length+1,s=new _t(r.child("")),A=this.overlays.getIteratorFrom(s);for(;A.hasNext();){const c=A.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new an((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let h=a.get(u.largestBatchId);h===null&&(h=ql(),a=a.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const A=ql(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>A.set(u,h)),!(A.size()>=i)););return Je.resolve(A)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new zde(r,n));let a=this.Ir.get(r);a===void 0&&(a=nr(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1e{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Tr=new vi(Jn.Er),this.dr=new vi(Jn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Jn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Jn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new _t(new Gr([])),n=new Jn(r,e),i=new Jn(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new _t(new Gr([])),n=new Jn(r,e),i=new Jn(r,e+1);let a=nr();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Jn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Jn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return _t.comparator(e.key,r.key)||dr(e.wr,r.wr)}static Ar(e,r){return dr(e.wr,r.wr)||_t.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1e{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new vi(Jn.Er)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Kde(a,r,n,i);this.mutationQueue.push(s);for(const A of i)this.br=this.br.add(new Jn(A.key,a)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Je.resolve(s)}lookupMutationBatch(e,r){return Je.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Jn(r,0),i=new Jn(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const A=this.Dr(s.wr);a.push(A)}),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new vi(dr);return r.forEach(i=>{const a=new Jn(i,0),s=new Jn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],A=>{n=n.add(A.wr)})}),Je.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;_t.isDocumentKey(a)||(a=a.child(""));const s=new Jn(new _t(a),0);let A=new vi(dr);return this.br.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(A=A.add(c.wr)),!0)},s),Je.resolve(this.Cr(A))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){br(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Je.forEach(r.mutations,i=>{const a=new Jn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Jn(r,0),i=this.br.firstAfterOrEqual(n);return Je.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1e{constructor(e){this.Mr=e,this.docs=function(){return new an(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Je.resolve(n?n.document.mutableCopy():Ii.newInvalidDocument(r))}getEntries(e,r){let n=nA();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ii.newInvalidDocument(i))}),Je.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=nA();const s=r.path,A=new _t(s.child("")),c=this.docs.getIteratorFrom(A);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||lde(Ade(h),n)<=0||(i.has(h.key)||tx(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ft()}Or(e,r){return Je.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new T1e(this)}getSize(e){return Je.resolve(this.size)}}class T1e extends v1e{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Je.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e){this.persistence=e,this.Nr=new Q0(r=>C_(r),__),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new N_,this.targetCount=0,this.kr=m0.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Je.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new m0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Je.resolve()}updateTargetData(e,r){return this.Kn(r),Je.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,A)=>{A.sequenceNumber<=r&&n.get(A.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,A.targetId)),i++)}),Je.waitFor(a).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Je.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Je.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Je.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Je.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Je.resolve(n)}containsKey(e,r){return Je.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1e{constructor(e,r){this.qr={},this.overlays={},this.Qr=new v_(0),this.Kr=!1,this.Kr=!0,this.$r=new _1e,this.referenceDelegate=e(this),this.Ur=new S1e(this),this.indexManager=new m1e,this.remoteDocumentCache=function(i){return new b1e(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new g1e(r),this.Gr=new E1e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new C1e,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new B1e(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){vt("MemoryPersistence","Starting transaction:",e);const i=new N1e(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return Je.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class N1e extends ude{constructor(e){super(),this.currentSequenceNumber=e}}class F_{constructor(e){this.persistence=e,this.Jr=new N_,this.Yr=null}static Zr(e){return new F_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ft()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Je.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Je.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Je.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xr,n=>{const i=_t.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Je.or([()=>Je.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=nr(),i=nr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new R_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1e{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kfe()?8:fde(Ffe())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new F1e;return this.Xi(e,r,s).next(A=>{if(a.result=A,this.zi)return this.es(e,r,s,A.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(pf()<=fr.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",hu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Je.resolve()):(pf()<=fr.DEBUG&&vt("QueryEngine","Query:",hu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(pf()<=fr.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",hu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ao(r))):Je.resolve())}Yi(e,r){if(E3(r))return Je.resolve(null);let n=Ao(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ty(r,null,"F"),n=Ao(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=nr(...a);return this.Ji.getDocuments(e,s).next(A=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.ts(r,A);return this.ns(r,u,s,c.readTime)?this.Yi(e,Ty(r,null,"F")):this.rs(e,u,r,c)}))})))}Zi(e,r,n,i){return E3(r)||i.isEqual(Ut.min())?Je.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?Je.resolve(null):(pf()<=fr.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hu(r)),this.rs(e,s,r,ode(i,-1)).next(A=>A))})}ts(e,r){let n=new vi(AU(e));return r.forEach((i,a)=>{tx(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return pf()<=fr.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",hu(r)),this.Ji.getDocumentsMatchingQuery(e,r,fl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1e{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new an(dr),this._s=new Q0(a=>C_(a),__),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y1e(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function k1e(t,e,r,n){return new D1e(t,e,r,n)}async function IU(t,e){const r=Mt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],A=[];let c=nr();for(const u of i){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of a){A.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:A}))})})}function U1e(t,e){const r=Mt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(A,c,u,h){const m=u.batch,v=m.keys();let _=Je.resolve();return v.forEach(b=>{_=_.next(()=>h.getEntry(c,b)).next(T=>{const I=u.docVersions.get(b);br(I!==null),T.version.compareTo(I)<0&&(m.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),h.addEntry(T)))})}),_.next(()=>A.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(A){let c=nr();for(let u=0;u<A.mutationResults.length;++u)A.mutationResults[u].transformResults.length>0&&(c=c.add(A.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function NU(t){const e=Mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function M1e(t,e){const r=Mt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const A=[];e.targetChanges.forEach((h,m)=>{const v=i.get(m);if(!v)return;A.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,m)));let _=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(wi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,n)),i=i.insert(m,_),function(T,I,k){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,_,h)&&A.push(r.Ur.updateTargetData(a,_))});let c=nA(),u=nr();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),A.push(O1e(a,s,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!n.isEqual(Ut.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));A.push(h)}return Je.waitFor(A).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.os=i,a))}function O1e(t,e,r){let n=nr(),i=nr();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=nA();return r.forEach((A,c)=>{const u=a.get(A);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(A)),c.isNoDocument()&&c.version.isEqual(Ut.min())?(e.removeEntry(A,c.readTime),s=s.insert(A,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(A,c)):vt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function L1e(t,e){const r=Mt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function P1e(t,e){const r=Mt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,Je.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new QA(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ry(t,e,r){const n=Mt(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Sd(s))throw s;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function D3(t,e,r){const n=Mt(t);let i=Ut.min(),a=nr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){const m=Mt(c),v=m._s.get(h);return v!==void 0?Je.resolve(m.os.get(v)):m.Ur.getTargetData(u,h)}(n,s,Ao(e)).next(A=>{if(A)return i=A.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,A.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Ut.min(),r?a:nr())).next(A=>(Q1e(n,Nde(e),A),{documents:A,Ts:a})))}function Q1e(t,e,r){let n=t.us.get(e)||Ut.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class k3{constructor(){this.activeTargetIds=Mde()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H1e{constructor(){this.so=new k3,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new k3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1e{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og=null;function ev(){return og===null?og=function(){return 268435456+Math.round(2147483648*Math.random())}():og++,"0x"+og.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1e{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class K1e extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const A=ev(),c=this.xo(r,n.toUriEncodedString());vt("RestConnection",`Sending RPC '${r}' ${A}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(r,c,u,i).then(h=>(vt("RestConnection",`Received RPC '${r}' ${A}: `,h),h),h=>{throw h0("RestConnection",`RPC '${r}' ${A} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,A){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+P0}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=j1e[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=ev();return new Promise((s,A)=>{const c=new G5;c.setWithCredentials(!0),c.listenOnce(K5.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ng.NO_ERROR:const h=c.getResponseJson();vt(_i,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Ng.TIMEOUT:vt(_i,`RPC '${e}' ${a} timed out`),A(new xt(We.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const m=c.getStatus();if(vt(_i,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const b=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(k)>=0?k:We.UNKNOWN}(_.status);A(new xt(b,_.message))}else A(new xt(We.UNKNOWN,"Server responded with status "+c.getStatus()))}else A(new xt(We.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{vt(_i,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);vt(_i,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=ev(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=X5(),A=W5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");vt(_i,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let v=!1,_=!1;const b=new G1e({Io:I=>{_?vt(_i,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(v||(vt(_i,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),vt(_i,`RPC '${e}' stream ${i} sending:`,I),m.send(I))},To:()=>m.close()}),T=(I,k,R)=>{I.listen(k,F=>{try{R(F)}catch(L){setTimeout(()=>{throw L},0)}})};return T(m,Uf.EventType.OPEN,()=>{_||(vt(_i,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),T(m,Uf.EventType.CLOSE,()=>{_||(_=!0,vt(_i,`RPC '${e}' stream ${i} transport closed`),b.So())}),T(m,Uf.EventType.ERROR,I=>{_||(_=!0,h0(_i,`RPC '${e}' stream ${i} transport errored:`,I),b.So(new xt(We.UNAVAILABLE,"The operation could not be completed")))}),T(m,Uf.EventType.MESSAGE,I=>{var k;if(!_){const R=I.data[0];br(!!R);const F=R,L=F.error||((k=F[0])===null||k===void 0?void 0:k.error);if(L){vt(_i,`RPC '${e}' stream ${i} received error:`,L);const W=L.status;let P=function(D){const Q=bn[D];if(Q!==void 0)return vU(Q)}(W),N=L.message;P===void 0&&(P=We.INTERNAL,N="Unknown error status: "+W+" with message "+L.message),_=!0,b.So(new xt(P,N)),m.close()}else vt(_i,`RPC '${e}' stream ${i} received:`,R),b.bo(R)}}),T(A,z5.STAT_EVENT,I=>{I.stat===yy.PROXY?vt(_i,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===yy.NOPROXY&&vt(_i,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){return new t1e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,r,n,i,a,s,A,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=A,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new FU(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===We.RESOURCE_EXHAUSTED?(rA(r.toString()),rA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new xt(We.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z1e extends RU{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=i1e(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ut.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ut.min():s.readTime?lo(s.readTime):Ut.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Fy(this.serializer),r.addTarget=function(a,s){let A;const c=s.target;if(A=By(c)?{documents:o1e(a,c)}:{query:A1e(a,c)._t},A.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){A.resumeToken=EU(a,s.resumeToken);const u=Sy(a,s.expectedCount);u!==null&&(A.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ut.min())>0){A.readTime=qp(a,s.snapshotVersion.toTimestamp());const u=Sy(a,s.expectedCount);u!==null&&(A.expectedCount=u)}return A}(this.serializer,e);const n=c1e(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Fy(this.serializer),r.removeTarget=e,this.a_(r)}}class W1e extends RU{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return br(!!e.streamToken),this.lastStreamToken=e.streamToken,br(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){br(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=s1e(e.writeResults,e.commitTime),n=lo(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Fy(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>a1e(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1e extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,Iy(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xt(We.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,A])=>this.connection.Lo(e,Iy(r,n),i,s,A,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(We.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class q1e{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rA(r),this.D_=!1):vt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1e{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Pc(this)&&(vt("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Mt(c);u.L_.add(4),await Rd(u),u.q_.set("Unknown"),u.L_.delete(4),await ox(u)}(this))})}),this.q_=new q1e(n,i)}}async function ox(t){if(Pc(t))for(const e of t.B_)await e(!0)}async function Rd(t){for(const e of t.B_)await e(!1)}function DU(t,e){const r=Mt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),M_(r)?U_(r):H0(r).r_()&&k_(r,e))}function D_(t,e){const r=Mt(t),n=H0(r);r.N_.delete(e),n.r_()&&kU(r,e),r.N_.size===0&&(n.r_()?n.o_():Pc(r)&&r.q_.set("Unknown"))}function k_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}H0(t).A_(e)}function kU(t,e){t.Q_.xe(e),H0(t).R_(e)}function U_(t){t.Q_=new Jde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),H0(t).start(),t.q_.v_()}function M_(t){return Pc(t)&&!H0(t).n_()&&t.N_.size>0}function Pc(t){return Mt(t).L_.size===0}function UU(t){t.Q_=void 0}async function J1e(t){t.q_.set("Online")}async function $1e(t){t.N_.forEach((e,r)=>{k_(t,e)})}async function Z1e(t,e){UU(t),M_(t)?(t.q_.M_(e),U_(t)):t.q_.set("Unknown")}async function ege(t,e,r){if(t.q_.set("Online"),e instanceof yU&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const A of a.targetIds)i.N_.has(A)&&(await i.remoteSyncer.rejectListen(A,s),i.N_.delete(A),i.Q_.removeTarget(A))}(t,e)}catch(n){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Yp(t,n)}else if(e instanceof Dg?t.Q_.Ke(e):e instanceof wU?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ut.min()))try{const n=await NU(t.localStore);r.compareTo(n)>=0&&await function(a,s){const A=a.Q_.rt(s);return A.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(u);h&&a.N_.set(u,h.withResumeToken(c.resumeToken,s))}}),A.targetMismatches.forEach((c,u)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(wi.EMPTY_BYTE_STRING,h.snapshotVersion)),kU(a,c);const m=new QA(h.target,c,u,h.sequenceNumber);k_(a,m)}),a.remoteSyncer.applyRemoteEvent(A)}(t,r)}catch(n){vt("RemoteStore","Failed to raise snapshot:",n),await Yp(t,n)}}async function Yp(t,e,r){if(!Sd(e))throw e;t.L_.add(1),await Rd(t),t.q_.set("Offline"),r||(r=()=>NU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{vt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ox(t)})}function MU(t,e){return e().catch(r=>Yp(t,r,e))}async function Ax(t){const e=Mt(t),r=dl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tge(e);)try{const i=await L1e(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,rge(e,i)}catch(i){await Yp(e,i)}OU(e)&&LU(e)}function tge(t){return Pc(t)&&t.O_.length<10}function rge(t,e){t.O_.push(e);const r=dl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function OU(t){return Pc(t)&&!dl(t).n_()&&t.O_.length>0}function LU(t){dl(t).start()}async function nge(t){dl(t).p_()}async function ige(t){const e=dl(t);for(const r of t.O_)e.m_(r.mutations)}async function age(t,e,r){const n=t.O_.shift(),i=T_.from(n,e,r);await MU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ax(t)}async function sge(t,e){e&&dl(t).V_&&await async function(n,i){if(function(s){return Xde(s)&&s!==We.ABORTED}(i.code)){const a=n.O_.shift();dl(n).s_(),await MU(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ax(n)}}(t,e),OU(t)&&LU(t)}async function M3(t,e){const r=Mt(t);r.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const n=Pc(r);r.L_.add(3),await Rd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ox(r)}async function oge(t,e){const r=Mt(t);e?(r.L_.delete(2),await ox(r)):e||(r.L_.add(2),await Rd(r),r.q_.set("Unknown"))}function H0(t){return t.K_||(t.K_=function(r,n,i){const a=Mt(r);return a.w_(),new z1e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:J1e.bind(null,t),Ro:$1e.bind(null,t),mo:Z1e.bind(null,t),d_:ege.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),M_(t)?U_(t):t.q_.set("Unknown")):(await t.K_.stop(),UU(t))})),t.K_}function dl(t){return t.U_||(t.U_=function(r,n,i){const a=Mt(r);return a.w_(),new W1e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nge.bind(null,t),mo:sge.bind(null,t),f_:ige.bind(null,t),g_:age.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ax(t)):(await t.U_.stop(),t.O_.length>0&&(vt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,A=new O_(e,r,s,i,a);return A.start(n),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L_(t,e){if(rA("AsyncQueue",`${e}: ${t}`),Sd(t))return new xt(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||_t.comparator(r.key,n.key):(r,n)=>_t.comparator(r.key,n.key),this.keyedMap=Mf(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new Yu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Yu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.W_=new an(_t.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ft():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class x0{constructor(e,r,n,i,a,s,A,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=A,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(A=>{s.push({type:0,doc:A})}),new x0(e,r,Yu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ex(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Age{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lge{constructor(){this.queries=L3(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Mt(r),a=i.queries;i.queries=L3(),a.forEach((s,A)=>{for(const c of A.j_)c.onError(n)})})(this,new xt(We.ABORTED,"Firestore shutting down"))}}function L3(){return new Q0(t=>oU(t),ex)}async function PU(t,e){const r=Mt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Age,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const A=L_(s,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(A)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&P_(r)}async function QU(t,e){const r=Mt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function cge(t,e){const r=Mt(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const A of s.j_)A.X_(i)&&(n=!0);s.z_=i}}n&&P_(r)}function uge(t,e,r){const n=Mt(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function P_(t){t.Y_.forEach(e=>{e.next()})}var Dy,P3;(P3=Dy||(Dy={})).ea="default",P3.Cache="cache";class HU{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new x0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=x0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.key=e}}class jU{constructor(e){this.key=e}}class fge{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nr(),this.mutatedKeys=nr(),this.Aa=AU(e),this.Ra=new Yu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new O3,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,A=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const v=i.get(h),_=tx(this.query,m)?m:null,b=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;v&&_?v.data.isEqual(_.data)?b!==T&&(n.track({type:3,doc:_}),I=!0):this.ga(v,_)||(n.track({type:2,doc:_}),I=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(A=!0)):!v&&_?(n.track({type:0,doc:_}),I=!0):v&&!_&&(n.track({type:1,doc:v}),I=!0,(c||u)&&(A=!0)),I&&(_?(s=s.add(_),a=T?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:A,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,m)=>function(_,b){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return T(_)-T(b)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(n),i=i!=null&&i;const A=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new x0(this.query,e.Ra,a,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:A}:{wa:A}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new O3,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=nr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new jU(n))}),this.da.forEach(n=>{e.has(n)||r.push(new VU(n))}),r}ba(e){this.Ta=e.Ts,this.da=nr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return x0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hge{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class dge{constructor(e){this.key=e,this.va=!1}}class gge{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Q0(A=>oU(A),ex),this.Ma=new Map,this.xa=new Set,this.Oa=new an(_t.comparator),this.Na=new Map,this.La=new N_,this.Ba={},this.ka=new Map,this.qa=m0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pge(t,e,r=!0){const n=qU(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await GU(n,e,r,!0),i}async function mge(t,e){const r=qU(t);await GU(r,e,!0,!1)}async function GU(t,e,r,n){const i=await P1e(t.localStore,Ao(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let A;return n&&(A=await xge(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&DU(t.remoteStore,i),A}async function xge(t,e,r,n,i){t.Ka=(m,v,_)=>async function(T,I,k,R){let F=I.view.ma(k);F.ns&&(F=await D3(T.localStore,I.query,!1).then(({documents:N})=>I.view.ma(N,F)));const L=R&&R.targetChanges.get(I.targetId),W=R&&R.targetMismatches.get(I.targetId)!=null,P=I.view.applyChanges(F,T.isPrimaryClient,L,W);return H3(T,I.targetId,P.wa),P.snapshot}(t,m,v,_);const a=await D3(t.localStore,e,!0),s=new fge(e,a.Ts),A=s.ma(a.documents),c=Fd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(A,t.isPrimaryClient,c);H3(t,r,u.wa);const h=new hge(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function vge(t,e,r){const n=Mt(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!ex(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ry(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&D_(n.remoteStore,i.targetId),ky(n,i.targetId)}).catch(Td)):(ky(n,i.targetId),await Ry(n.localStore,i.targetId,!0))}async function wge(t,e){const r=Mt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),D_(r.remoteStore,n.targetId))}async function yge(t,e,r){const n=Sge(t);try{const i=await function(s,A){const c=Mt(s),u=Gn.now(),h=A.reduce((_,b)=>_.add(b.key),nr());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let b=nA(),T=nr();return c.cs.getEntries(_,h).next(I=>{b=I,b.forEach((k,R)=>{R.isValidDocument()||(T=T.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,b)).next(I=>{m=I;const k=[];for(const R of A){const F=jde(R,m.get(R.key).overlayedDocument);F!=null&&k.push(new El(R.key,F,Z5(F.value.mapValue),pa.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,k,A)}).next(I=>{v=I;const k=I.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(_,I.batchId,k)})}).then(()=>({batchId:v.batchId,changes:cU(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,A,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new an(dr)),u=u.insert(A,c),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,r),await Dd(n,i.changes),await Ax(n.remoteStore)}catch(i){const a=L_(i,"Failed to persist write");r.reject(a)}}async function KU(t,e){const r=Mt(t);try{const n=await M1e(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(br(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?br(s.va):i.removedDocuments.size>0&&(br(s.va),s.va=!1))}),await Dd(r,n,e)}catch(n){await Td(n)}}function Q3(t,e,r){const n=Mt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const A=s.view.Z_(e);A.snapshot&&i.push(A.snapshot)}),function(s,A){const c=Mt(s);c.onlineState=A;let u=!1;c.queries.forEach((h,m)=>{for(const v of m.j_)v.Z_(A)&&(u=!0)}),u&&P_(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ege(t,e,r){const n=Mt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new an(_t.comparator);s=s.insert(a,Ii.newNoDocument(a,Ut.min()));const A=nr().add(a),c=new ax(Ut.min(),new Map,new an(dr),s,A);await KU(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),Q_(n)}else await Ry(n.localStore,e,!1).then(()=>ky(n,e,r)).catch(Td)}async function Cge(t,e){const r=Mt(t),n=e.batch.batchId;try{const i=await U1e(r.localStore,e);WU(r,n,null),zU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Dd(r,i)}catch(i){await Td(i)}}async function _ge(t,e,r){const n=Mt(t);try{const i=await function(s,A){const c=Mt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,A).next(m=>(br(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,A)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(n.localStore,e);WU(n,e,r),zU(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Dd(n,i)}catch(i){await Td(i)}}function zU(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function WU(t,e,r){const n=Mt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function ky(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||XU(t,n)})}function XU(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(D_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Q_(t))}function H3(t,e,r){for(const n of r)n instanceof VU?(t.La.addReference(n.key,e),Bge(t,n)):n instanceof jU?(vt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||XU(t,n.key)):Ft()}function Bge(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(vt("SyncEngine","New document in limbo: "+r),t.xa.add(n),Q_(t))}function Q_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new _t(Gr.fromString(e)),n=t.qa.next();t.Na.set(n,new dge(r)),t.Oa=t.Oa.insert(r,n),DU(t.remoteStore,new QA(Ao(B_(r.path)),n,"TargetPurposeLimboResolution",v_.oe))}}async function Dd(t,e,r){const n=Mt(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((A,c)=>{s.push(n.Ka(c,e,r).then(u=>{var h;if((u||r)&&n.isPrimaryClient){const m=u?!u.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=R_.Wi(c.targetId,u);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,u){const h=Mt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Je.forEach(u,v=>Je.forEach(v.$i,_=>h.persistence.referenceDelegate.addReference(m,v.targetId,_)).next(()=>Je.forEach(v.Ui,_=>h.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))}catch(m){if(!Sd(m))throw m;vt("LocalStore","Failed to update sequence numbers: "+m)}for(const m of u){const v=m.targetId;if(!m.fromCache){const _=h.os.get(v),b=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(v,T)}}}(n.localStore,a))}async function bge(t,e){const r=Mt(t);if(!r.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const n=await IU(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(A=>{A.forEach(c=>{c.reject(new xt(We.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Dd(r,n.hs)}}function Tge(t,e){const r=Mt(t),n=r.Na.get(e);if(n&&n.va)return nr().add(n.key);{let i=nr();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const A=r.Fa.get(s);i=i.unionWith(A.view.Va)}return i}}function qU(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ege.bind(null,e),e.Ca.d_=cge.bind(null,e.eventManager),e.Ca.$a=uge.bind(null,e.eventManager),e}function Sge(t){const e=Mt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_ge.bind(null,e),e}class Jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return k1e(this.persistence,new R1e,e.initialUser,this.serializer)}Ga(e){return new I1e(F_.Zr,this.serializer)}Wa(e){return new H1e}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jp.provider={build:()=>new Jp};class Uy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Q3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bge.bind(null,this.syncEngine),await oge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lge}()}createDatastore(e){const r=sx(e.databaseInfo.databaseId),n=function(a){return new K1e(a)}(e.databaseInfo);return function(a,s,A,c){return new X1e(a,s,A,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,A){return new Y1e(n,i,a,s,A)}(this.localStore,this.datastore,e.asyncQueue,r=>Q3(this.syncEngine,r,0),function(){return U3.D()?new U3:new V1e}())}createSyncEngine(e,r){return function(i,a,s,A,c,u,h){const m=new gge(i,a,s,A,c,u);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Mt(i);vt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Rd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Uy.provider={build:()=>new Uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ige{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=bi.UNAUTHENTICATED,this.clientId=Y5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{vt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(vt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=L_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rv(t,e){t.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await IU(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Nge(t);vt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>M3(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>M3(e.remoteStore,i)),t._onlineComponents=e}async function Nge(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;h0("Error using user provided cache. Falling back to memory cache: "+r),await rv(t,new Jp)}}else vt("FirestoreClient","Using default OfflineComponentProvider"),await rv(t,new Jp);return t._offlineComponents}async function JU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(vt("FirestoreClient","Using user provided OnlineComponentProvider"),await V3(t,t._uninitializedComponentsProvider._online)):(vt("FirestoreClient","Using default OnlineComponentProvider"),await V3(t,new Uy))),t._onlineComponents}function Fge(t){return JU(t).then(e=>e.syncEngine)}async function My(t){const e=await JU(t),r=e.eventManager;return r.onListen=pge.bind(null,e.syncEngine),r.onUnlisten=vge.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mge.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wge.bind(null,e.syncEngine),r}function Rge(t,e,r={}){const n=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,A,c,u){const h=new YU({next:v=>{h.Za(),s.enqueueAndForget(()=>QU(a,m)),v.fromCache&&c.source==="server"?u.reject(new xt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),m=new HU(A,h,{includeMetadataChanges:!0,_a:!0});return PU(a,m)}(await My(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e,r){if(!r)throw new xt(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dge(t,e,r,n){if(e===!0&&n===!0)throw new xt(We.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function G3(t){if(!_t.isDocumentKey(t))throw new xt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K3(t){if(_t.isDocumentKey(t))throw new xt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ft()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=lx(t);throw new xt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new xt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$U((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cx{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z3({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z3(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $he;switch(n.type){case"firstParty":return new rde(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=j3.get(r);n&&(vt("ComponentProvider","Removing Datastore"),j3.delete(r),n.terminate())}(this),Promise.resolve()}}function kge(t,e,r,n={}){var i;const a=(t=ds(t,cx))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&h0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let A,c;if(typeof n.mockUserToken=="string")A=n.mockUserToken,c=bi.MOCK_USER;else{A=Nfe(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new xt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new bi(u)}t._authCredentials=new Zhe(new q5(A,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class Wi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class nl extends Qc{constructor(e,r,n){super(e,r,B_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new _t(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function Rs(t,e,...r){if(t=va(t),ZU("collection","path",e),t instanceof cx){const n=Gr.fromString(e,...r);return K3(n),new nl(t,null,n)}{if(!(t instanceof Wi||t instanceof nl))throw new xt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gr.fromString(e,...r));return K3(n),new nl(t.firestore,null,n)}}function Dr(t,e,...r){if(t=va(t),arguments.length===1&&(e=Y5.newId()),ZU("doc","path",e),t instanceof cx){const n=Gr.fromString(e,...r);return G3(n),new Wi(t,null,new _t(n))}{if(!(t instanceof Wi||t instanceof nl))throw new xt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gr.fromString(e,...r));return G3(n),new Wi(t.firestore,t instanceof nl?t.converter:null,new _t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new FU(this,"async_queue_retry"),this.Vu=()=>{const n=tv();n&&vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=tv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=tv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new rl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sd(e))throw e;vt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let A=s.message||"";return s.stack&&(A=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),A}(n);throw rA("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=O_.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function X3(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class gl extends cx{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new W3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W3(e),this._firestoreClient=void 0,await e}}}function Uge(t,e){const r=typeof t=="object"?t:Q5(),n=typeof t=="string"?t:"(default)",i=bd(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Sfe("firestore");a&&kge(i,...a)}return i}function ux(t){if(t._terminated)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Mge(t),t._firestoreClient}function Mge(t){var e,r,n;const i=t._freezeSettings(),a=function(A,c,u,h){return new gde(A,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$U(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ige(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(A){const c=A==null?void 0:A._online.build();return{_offline:A==null?void 0:A._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new v0(wi.fromBase64String(e))}catch(r){throw new xt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new v0(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dr(this._lat,e._lat)||dr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge=/^__.*__$/;class Lge{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new El(e,this.data,this.fieldMask,r,this.fieldTransforms):new Nd(e,this.data,r,this.fieldTransforms)}}class eM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new El(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function tM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class G_{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new G_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $p(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(tM(this.Cu)&&Oge.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Pge{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||sx(e)}Qu(e,r,n,i=!1){return new G_({Cu:e,methodName:r,qu:n,path:hi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fx(t){const e=t._freezeSettings(),r=sx(t._databaseId);return new Pge(t._databaseId,!!e.ignoreUndefinedProperties,r)}function rM(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);K_("Data must be an object, but it was:",s,n);const A=aM(n,s);let c,u;if(a.merge)c=new Ma(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const v=Oy(e,m,r);if(!s.contains(v))throw new xt(We.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oM(h,v)||h.push(v)}c=new Ma(h),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new Lge(new da(A),c,u)}class hx extends H_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hx}}function nM(t,e,r,n){const i=t.Qu(1,e,r);K_("Data must be an object, but it was:",i,n);const a=[],s=da.empty();Lc(n,(c,u)=>{const h=z_(e,c,r);u=va(u);const m=i.Nu(h);if(u instanceof hx)a.push(h);else{const v=Ud(u,m);v!=null&&(a.push(h),s.set(h,v))}});const A=new Ma(a);return new eM(s,A,i.fieldTransforms)}function iM(t,e,r,n,i,a){const s=t.Qu(1,e,r),A=[Oy(e,n,r)],c=[i];if(a.length%2!=0)throw new xt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)A.push(Oy(e,a[v])),c.push(a[v+1]);const u=[],h=da.empty();for(let v=A.length-1;v>=0;--v)if(!oM(u,A[v])){const _=A[v];let b=c[v];b=va(b);const T=s.Nu(_);if(b instanceof hx)u.push(_);else{const I=Ud(b,T);I!=null&&(u.push(_),h.set(_,I))}}const m=new Ma(u);return new eM(h,m,s.fieldTransforms)}function Qge(t,e,r,n=!1){return Ud(r,t.Qu(n?4:3,e))}function Ud(t,e){if(sM(t=va(t)))return K_("Unsupported field value:",e,t),aM(t,e);if(t instanceof H_)return function(n,i){if(!tM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const A of n){let c=Ud(A,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=va(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ode(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Gn.fromDate(n);return{timestampValue:qp(i.serializer,a)}}if(n instanceof Gn){const a=new Gn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qp(i.serializer,a)}}if(n instanceof V_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof v0)return{bytesValue:EU(i.serializer,n._byteString)};if(n instanceof Wi){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:I_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof j_)return function(s,A){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw A.Bu("VectorValues must only contain numeric values.");return b_(A.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${lx(n)}`)}(t,e)}function aM(t,e){const r={};return J5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lc(t,(n,i)=>{const a=Ud(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function sM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gn||t instanceof V_||t instanceof v0||t instanceof Wi||t instanceof H_||t instanceof j_)}function K_(t,e,r){if(!sM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=lx(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Oy(t,e,r){if((e=va(e))instanceof kd)return e._internalPath;if(typeof e=="string")return z_(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,r)}const Hge=new RegExp("[~\\*/\\[\\]]");function z_(t,e,r){if(e.search(Hge)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new kd(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $p(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new xt(We.INVALID_ARGUMENT,A+t+c)}function oM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(W_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Vge extends AM{data(){return super.data()}}function W_(t,e){return typeof e=="string"?z_(t,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class jge extends X_{}function Ds(t,e,...r){let n=[];e instanceof X_&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof q_).length,A=a.filter(c=>c instanceof dx).length;if(s>1||s>0&&A>0)throw new xt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class dx extends jge{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new dx(e,r,n)}_apply(e){const r=this._parse(e);return cM(e._query,r),new Qc(e.firestore,e.converter,by(e._query,r))}_parse(e){const r=fx(e.firestore);return function(a,s,A,c,u,h,m){let v;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Y3(m,h);const _=[];for(const b of m)_.push(q3(c,a,b));v={arrayValue:{values:_}}}else v=q3(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Y3(m,h),v=Qge(A,s,m,h==="in"||h==="not-in");return kn.create(u,h,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function nv(t,e,r){const n=e,i=W_("where",t);return dx._create(i,n,r)}class q_ extends X_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new q_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Vs.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const A=a.getFlattenedFilters();for(const c of A)cM(s,c),s=by(s,c)}(e._query,r),new Qc(e.firestore,e.converter,by(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q3(t,e,r){if(typeof(r=va(r))=="string"){if(r==="")throw new xt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sU(e)&&r.indexOf("/")!==-1)throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Gr.fromString(r));if(!_t.isDocumentKey(n))throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return p3(t,new _t(n))}if(r instanceof Wi)return p3(t,r._key);throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lx(r)}.`)}function Y3(t,e){if(!Array.isArray(t)||t.length===0)throw new xt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cM(t,e){const r=function(i,a){for(const s of i)for(const A of s.getFlattenedFilters())if(a.indexOf(A.op)>=0)return A.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new xt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Gge{convertValue(e,r="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Lc(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>yn(s.doubleValue));return new j_(a)}convertGeoPoint(e){return new V_(yn(e.latitude),yn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=y_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const r=hl(e);return new Gn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Gr.fromString(e);br(SU(n));const i=new Jh(n.get(1),n.get(3)),a=new _t(n.popFirst(5));return i.isEqual(r)||rA(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fM extends AM{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(W_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class kg extends fM{data(e={}){return super.data(e)}}class hM{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Lf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new kg(this._firestore,this._userDataWriter,n.key,n,new Lf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(A=>{const c=new kg(i._firestore,i._userDataWriter,A.doc.key,A.doc,new Lf(i._snapshot.mutatedKeys.has(A.doc.key),i._snapshot.fromCache),i.query.converter);return A.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(A=>a||A.type!==3).map(A=>{const c=new kg(i._firestore,i._userDataWriter,A.doc.key,A.doc,new Lf(i._snapshot.mutatedKeys.has(A.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return A.type!==0&&(u=s.indexOf(A.doc.key),s=s.delete(A.doc.key)),A.type!==1&&(s=s.add(A.doc),h=s.indexOf(A.doc.key)),{type:Kge(A.type),doc:c,oldIndex:u,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Kge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}class Y_ extends Gge{constructor(e){super(),this.firestore=e}convertBytes(e){return new v0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,r)}}function iv(t){t=ds(t,Qc);const e=ds(t.firestore,gl),r=ux(e),n=new Y_(e);return lM(t._query),Rge(r,t._query).then(i=>new hM(e,n,t,i))}function sa(t,e,r){t=ds(t,Wi);const n=ds(t.firestore,gl),i=uM(t.converter,e,r);return gx(n,[rM(fx(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,pa.none())])}function Ag(t,e,r,...n){t=ds(t,Wi);const i=ds(t.firestore,gl),a=fx(i);let s;return s=typeof(e=va(e))=="string"||e instanceof kd?iM(a,"updateDoc",t._key,e,r,n):nM(a,"updateDoc",t._key,e),gx(i,[s.toMutation(t._key,pa.exists(!0))])}function Ll(t){return gx(ds(t.firestore,gl),[new ix(t._key,pa.none())])}function No(t,...e){var r,n,i;t=va(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X3(e[s])||(a=e[s],s++);const A={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(X3(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,u,h;if(t instanceof Wi)u=ds(t.firestore,gl),h=B_(t._key.path),c={next:m=>{e[s]&&e[s](zge(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=ds(t,Qc);u=ds(m.firestore,gl),h=m._query;const v=new Y_(u);c={next:_=>{e[s]&&e[s](new hM(u,v,m,_))},error:e[s+1],complete:e[s+2]},lM(t._query)}return function(v,_,b,T){const I=new YU(T),k=new HU(_,I,b);return v.asyncQueue.enqueueAndForget(async()=>PU(await My(v),k)),()=>{I.Za(),v.asyncQueue.enqueueAndForget(async()=>QU(await My(v),k))}}(ux(u),h,A,c)}function gx(t,e){return function(n,i){const a=new rl;return n.asyncQueue.enqueueAndForget(async()=>yge(await Fge(n),i,a)),a.promise}(ux(t),e)}function zge(t,e,r){const n=r.docs.get(e._key),i=new Y_(t);return new fM(t,i,e._key,n,new Lf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wge{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=fx(e)}set(e,r,n){this._verifyNotCommitted();const i=av(e,this._firestore),a=uM(i.converter,r,n),s=rM(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,pa.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=av(e,this._firestore);let s;return s=typeof(r=va(r))=="string"||r instanceof kd?iM(this._dataReader,"WriteBatch.update",a._key,r,n,i):nM(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,pa.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=av(e,this._firestore);return this._mutations=this._mutations.concat(new ix(r._key,pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function av(t,e){if((t=va(t)).firestore!==e)throw new xt(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){return ux(t=ds(t,gl)),new Wge(t,e=>gx(t,e))}(function(e,r=!0){(function(i){P0=i})(Qhe),ul(new eA("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),A=new gl(new ede(n.getProvider("auth-internal")),new ide(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(u.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),A._setSettings(a),A},"PUBLIC").setMultipleInstances(!0)),oo(u3,"4.7.3",e),oo(u3,"4.7.3","esm2017")})();const dM="@firebase/installations",J_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1e4,pM=`w:${J_}`,mM="FIS_v2",Xge="https://firebaseinstallations.googleapis.com/v1",qge=60*60*1e3,Yge="installations",Jge="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yc=new $m(Yge,Jge,$ge);function xM(t){return t instanceof yl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM({projectId:t}){return`${Xge}/projects/${t}/installations`}function wM(t){return{token:t.token,requestStatus:2,expiresIn:epe(t.expiresIn),creationTime:Date.now()}}async function yM(t,e){const n=(await e.json()).error;return yc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function EM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zge(t,{refreshToken:e}){const r=EM(t);return r.append("Authorization",tpe(e)),r}async function CM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function epe(t){return Number(t.replace("s","000"))}function tpe(t){return`${mM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rpe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=vM(t),i=EM(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:r,authVersion:mM,appId:t.appId,sdkVersion:pM},A={method:"POST",headers:i,body:JSON.stringify(s)},c=await CM(()=>fetch(n,A));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:wM(u.authToken)}}else throw await yM("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function npe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe=/^[cdef][\w-]{21}$/,Ly="";function ape(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=spe(t);return ipe.test(r)?r:Ly}catch{return Ly}}function spe(t){return npe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Map;function bM(t,e){const r=px(t);TM(r,e),ope(r,e)}function TM(t,e){const r=BM.get(t);if(r)for(const n of r)n(e)}function ope(t,e){const r=Ape();r&&r.postMessage({key:t,fid:e}),lpe()}let Yl=null;function Ape(){return!Yl&&"BroadcastChannel"in self&&(Yl=new BroadcastChannel("[Firebase] FID Change"),Yl.onmessage=t=>{TM(t.data.key,t.data.fid)}),Yl}function lpe(){BM.size===0&&Yl&&(Yl.close(),Yl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cpe="firebase-installations-database",upe=1,Ec="firebase-installations-store";let sv=null;function $_(){return sv||(sv=L5(cpe,upe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ec)}}})),sv}async function Zp(t,e){const r=px(t),i=(await $_()).transaction(Ec,"readwrite"),a=i.objectStore(Ec),s=await a.get(r);return await a.put(e,r),await i.done,(!s||s.fid!==e.fid)&&bM(t,e.fid),e}async function SM(t){const e=px(t),n=(await $_()).transaction(Ec,"readwrite");await n.objectStore(Ec).delete(e),await n.done}async function mx(t,e){const r=px(t),i=(await $_()).transaction(Ec,"readwrite"),a=i.objectStore(Ec),s=await a.get(r),A=e(s);return A===void 0?await a.delete(r):await a.put(A,r),await i.done,A&&(!s||s.fid!==A.fid)&&bM(t,A.fid),A}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(t){let e;const r=await mx(t.appConfig,n=>{const i=fpe(n),a=hpe(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===Ly?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function fpe(t){const e=t||{fid:ape(),registrationStatus:0};return IM(e)}function hpe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=dpe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gpe(t)}:{installationEntry:e}}async function dpe(t,e){try{const r=await rpe(t,e);return Zp(t.appConfig,r)}catch(r){throw xM(r)&&r.customData.serverCode===409?await SM(t.appConfig):await Zp(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function gpe(t){let e=await $3(t.appConfig);for(;e.registrationStatus===1;)await _M(100),e=await $3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Z_(t);return n||r}return e}function $3(t){return mx(t,e=>{if(!e)throw yc.create("installation-not-found");return IM(e)})}function IM(t){return ppe(t)?{fid:t.fid,registrationStatus:0}:t}function ppe(t){return t.registrationStatus===1&&t.registrationTime+gM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mpe({appConfig:t,heartbeatServiceProvider:e},r){const n=xpe(t,r),i=Zge(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:pM,appId:t.appId}},A={method:"POST",headers:i,body:JSON.stringify(s)},c=await CM(()=>fetch(n,A));if(c.ok){const u=await c.json();return wM(u)}else throw await yM("Generate Auth Token",c)}function xpe(t,{fid:e}){return`${vM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eB(t,e=!1){let r;const n=await mx(t.appConfig,a=>{if(!NM(a))throw yc.create("not-registered");const s=a.authToken;if(!e&&ype(s))return a;if(s.requestStatus===1)return r=vpe(t,e),a;{if(!navigator.onLine)throw yc.create("app-offline");const A=Cpe(a);return r=wpe(t,A),A}});return r?await r:n.authToken}async function vpe(t,e){let r=await Z3(t.appConfig);for(;r.authToken.requestStatus===1;)await _M(100),r=await Z3(t.appConfig);const n=r.authToken;return n.requestStatus===0?eB(t,e):n}function Z3(t){return mx(t,e=>{if(!NM(e))throw yc.create("not-registered");const r=e.authToken;return _pe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wpe(t,e){try{const r=await mpe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Zp(t.appConfig,n),r}catch(r){if(xM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await SM(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zp(t.appConfig,n)}throw r}}function NM(t){return t!==void 0&&t.registrationStatus===2}function ype(t){return t.requestStatus===2&&!Epe(t)}function Epe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qge}function Cpe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _pe(t){return t.requestStatus===1&&t.requestTime+gM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bpe(t){const e=t,{installationEntry:r,registrationPromise:n}=await Z_(e);return n?n.catch(console.error):eB(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bpe(t,e=!1){const r=t;return await Tpe(r),(await eB(r,e)).token}async function Tpe(t){const{registrationPromise:e}=await Z_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Spe(t){if(!t||!t.options)throw ov("App Configuration");if(!t.name)throw ov("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw ov(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ov(t){return yc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="installations",Ipe="installations-internal",Npe=t=>{const e=t.getProvider("app").getImmediate(),r=Spe(e),n=bd(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Fpe=t=>{const e=t.getProvider("app").getImmediate(),r=bd(e,FM).getImmediate();return{getId:()=>Bpe(r),getToken:i=>bpe(r,i)}};function Rpe(){ul(new eA(FM,Npe,"PUBLIC")),ul(new eA(Ipe,Fpe,"PRIVATE"))}Rpe();oo(dM,J_);oo(dM,J_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="analytics",Dpe="firebase_id",kpe="origin",Upe=60*1e3,Mpe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tB="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new p_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ope={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ha=new $m("analytics","Analytics",Ope);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lpe(t){if(!t.startsWith(tB)){const e=Ha.create("invalid-gtag-resource",{gtagURL:t});return ma.warn(e.message),""}return t}function RM(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Ppe(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Qpe(t,e){const r=Ppe("firebase-js-sdk-policy",{createScriptURL:Lpe}),n=document.createElement("script"),i=`${tB}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Hpe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Vpe(t,e,r,n,i,a){const s=n[i];try{if(s)await e[s];else{const c=(await RM(r)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(A){ma.error(A)}t("config",i,a)}async function jpe(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const A=await RM(r);for(const c of s){const u=A.find(m=>m.measurementId===c),h=u&&e[u.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){ma.error(a)}}function Gpe(t,e,r,n){async function i(a,...s){try{if(a==="event"){const[A,c]=s;await jpe(t,e,r,A,c)}else if(a==="config"){const[A,c]=s;await Vpe(t,e,r,n,A,c)}else if(a==="consent"){const[A,c]=s;t("consent",A,c)}else if(a==="get"){const[A,c,u]=s;t("get",A,c,u)}else if(a==="set"){const[A]=s;t("set",A)}else t(a,...s)}catch(A){ma.error(A)}}return i}function Kpe(t,e,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Gpe(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function zpe(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(tB)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=30,Xpe=1e3;class qpe{constructor(e={},r=Xpe){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const DM=new qpe;function Ype(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Jpe(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Ype(n)},a=Mpe.replace("{app-id}",r),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let A="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(A=c.error.message)}catch{}throw Ha.create("config-fetch-failed",{httpStatus:s.status,responseMessage:A})}return s.json()}async function $pe(t,e=DM,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Ha.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Ha.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},A=new tme;return setTimeout(async()=>{A.abort()},Upe),kM({appId:n,apiKey:i,measurementId:a},s,A,e)}async function kM(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=DM){var a;const{appId:s,measurementId:A}=t;try{await Zpe(n,e)}catch(c){if(A)return ma.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:A};throw c}try{const c=await Jpe(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!eme(u)){if(i.deleteThrottleMetadata(s),A)return ma.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${A} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:A};throw c}const h=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?t3(r,i.intervalMillis,Wpe):t3(r,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return i.setThrottleMetadata(s,m),ma.debug(`Calling attemptFetch again in ${h} millis`),kM(t,m,n,i)}}function Zpe(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Ha.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eme(t){if(!(t instanceof yl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class tme{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rme(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,s=Object.assign(Object.assign({},n),{send_to:a});t("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nme(){if(k5())try{await U5()}catch(t){return ma.warn(Ha.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ma.warn(Ha.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ime(t,e,r,n,i,a,s){var A;const c=$pe(t);c.then(_=>{r[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&ma.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>ma.error(_)),e.push(c);const u=nme().then(_=>{if(_)return n.getId()}),[h,m]=await Promise.all([c,u]);zpe(a)||Qpe(a,h.measurementId),i("js",new Date);const v=(A=s==null?void 0:s.config)!==null&&A!==void 0?A:{};return v[kpe]="firebase",v.update=!0,m!=null&&(v[Dpe]=m),i("config",h.measurementId,v),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e){this.app=e}_delete(){return delete xh[this.app.options.appId],Promise.resolve()}}let xh={},eN=[];const tN={};let Av="dataLayer",sme="gtag",rN,UM,nN=!1;function ome(){const t=[];if(Dfe()&&t.push("This is a browser extension environment."),Ufe()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ha.create("invalid-analytics-context",{errorInfo:e});ma.warn(r.message)}}function Ame(t,e,r){ome();const n=t.options.appId;if(!n)throw Ha.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ma.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ha.create("no-api-key");if(xh[n]!=null)throw Ha.create("already-exists",{id:n});if(!nN){Hpe(Av);const{wrappedGtag:a,gtagCore:s}=Kpe(xh,eN,tN,Av,sme);UM=a,rN=s,nN=!0}return xh[n]=ime(t,eN,tN,e,rN,Av,r),new ame(t)}function lme(t=Q5()){t=va(t);const e=bd(t,em);return e.isInitialized()?e.getImmediate():cme(t)}function cme(t,e={}){const r=bd(t,em);if(r.isInitialized()){const i=r.getImmediate();if(Vp(e,r.getOptions()))return i;throw Ha.create("already-initialized")}return r.initialize({options:e})}function ume(t,e,r,n){t=va(t),rme(UM,xh[t.app.options.appId],e,r,n).catch(i=>ma.error(i))}const iN="@firebase/analytics",aN="0.10.8";function fme(){ul(new eA(em,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Ame(n,i,r)},"PUBLIC")),ul(new eA("analytics-internal",t,"PRIVATE")),oo(iN,aN),oo(iN,aN,"esm2017");function t(e){try{const r=e.getProvider(em).getImmediate();return{logEvent:(n,i,a)=>ume(r,n,i,a)}}catch(r){throw Ha.create("interop-component-reg-failed",{reason:r})}}}fme();const hme={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},MM=P5(hme),zt=Uge(MM);lme(MM);const lv={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" "},dme=()=>{const[t,e]=me.useState("login"),[r,n]=me.useState([]),[i,a]=me.useState(""),[s,A]=me.useState(""),[c,u]=me.useState("retail"),[h,m]=me.useState(!1),[v,_]=me.useState(null),[b,T]=me.useState(!1),[I,k]=me.useState(null),[R,F]=me.useState(lv),[L,W]=me.useState([]),[P,N]=me.useState([]),[M,D]=me.useState([]),[Q,G]=me.useState([]),[j,V]=me.useState([]),[Ce,le]=me.useState([]),[de,ne]=me.useState([]),[De,he]=me.useState([]),[Le,Ze]=me.useState(!0),[Z,ge]=me.useState("");me.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),me.useEffect(()=>{const oe=No(Dr(zt,"settings","global"),Fe=>{if(Fe.exists()){const Ve=Fe.data();F({...lv,...Ve})}else sa(Dr(zt,"settings","global"),lv);Ze(!1)});return()=>oe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"invoices")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>{const dt=tt.data();return{...dt,items:dt.items||[],payments:dt.payments||[]}});_e.sort((tt,dt)=>dt.createdAt-tt.createdAt),W(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"supplier_invoices")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());_e.sort((tt,dt)=>dt.createdAt-tt.createdAt),N(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"client_requests")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());_e.sort((tt,dt)=>dt.createdAt-tt.createdAt),D(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"checks")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());_e.sort((tt,dt)=>dt.createdAt-tt.createdAt),G(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"special_orders")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>{const dt=tt.data();return!dt.items&&dt.productName&&(dt.items=[{id:"legacy-1",name:dt.productName,quantity:dt.quantity||1}]),dt});_e.sort((tt,dt)=>dt.createdAt-tt.createdAt),V(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"notifications")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());_e.sort((tt,dt)=>dt.timestamp-tt.timestamp),le(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"general_payments")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());_e.sort((tt,dt)=>dt.timestamp-tt.timestamp),ne(_e)});return()=>Fe()},[]),me.useEffect(()=>{const oe=Ds(Rs(zt,"products")),Fe=No(oe,Ve=>{const _e=Ve.docs.map(tt=>tt.data());he(_e)});return()=>Fe()},[]);const ce=async oe=>{let Fe;typeof oe=="function"?Fe=oe(R):Fe=oe,F(Fe);const Ve=JSON.parse(JSON.stringify(Fe));await sa(Dr(zt,"settings","global"),Ve)},se=async oe=>{await sa(Dr(zt,"products",oe.id),JSON.parse(JSON.stringify(oe)))},fe=async oe=>{await sa(Dr(zt,"products",oe.id),JSON.parse(JSON.stringify(oe)))},je=async oe=>{await sa(Dr(zt,"supplier_invoices",oe.id),JSON.parse(JSON.stringify(oe)))},ye=async oe=>{await Ag(Dr(zt,"supplier_invoices",oe.id),JSON.parse(JSON.stringify(oe)))},xe=async oe=>{await Ll(Dr(zt,"supplier_invoices",oe))},Se=async oe=>{const Fe=J3(zt),Ve=Ds(Rs(zt,"supplier_invoices"),nv("supplierName","==",oe));(await iv(Ve)).forEach(tt=>{Fe.delete(tt.ref)}),await Fe.commit()},it=async oe=>{await sa(Dr(zt,"client_requests",oe.id),JSON.parse(JSON.stringify(oe)))},ie=async oe=>{await sa(Dr(zt,"client_requests",oe.id),JSON.parse(JSON.stringify(oe)))},lt=async oe=>{await Ll(Dr(zt,"client_requests",oe))},yt=async oe=>{await sa(Dr(zt,"checks",oe.id),JSON.parse(JSON.stringify(oe)))},wt=async oe=>{await sa(Dr(zt,"checks",oe.id),JSON.parse(JSON.stringify(oe)))},we=async oe=>{await Ll(Dr(zt,"checks",oe))},Ee=async oe=>{await sa(Dr(zt,"special_orders",oe.id),JSON.parse(JSON.stringify(oe)))},qe=async oe=>{await sa(Dr(zt,"special_orders",oe.id),JSON.parse(JSON.stringify(oe)))},st=async oe=>{await Ll(Dr(zt,"special_orders",oe))},qt=async oe=>{await sa(Dr(zt,"general_payments",oe.id),JSON.parse(JSON.stringify(oe)))},Ge=async oe=>{await Ll(Dr(zt,"general_payments",oe))},vr=async oe=>{await Ll(Dr(zt,"invoices",oe)),await Ll(Dr(zt,"notifications",`debt-${oe}`))},Xr=async oe=>{const Fe=J3(zt),Ve=Ds(Rs(zt,"invoices"),nv("name","==",oe));(await iv(Ve)).forEach(Wt=>{Fe.delete(Wt.ref),Fe.delete(Dr(zt,"notifications",`debt-${Wt.id}`))});const tt=Ds(Rs(zt,"general_payments"),nv("customerName","==",oe));(await iv(tt)).forEach(Wt=>Fe.delete(Wt.ref)),await Fe.commit()},Ke=()=>{e("login"),k(null),ht()},ht=()=>{n([]),_(null),a(""),A(""),u("retail")},ct=oe=>{I!=null&&I.permissions.createInvoices&&(_(oe),n(oe.items),a(oe.name),A(oe.phone||""),u(oe.priceMode||"retail"),e("create-invoice"))},Ot=(oe,Fe)=>{I!=null&&I.permissions.createInvoices&&(ht(),a(oe),A(Fe||""),e("create-invoice"))},Yt=async oe=>{await sa(Dr(zt,"invoices",oe.id),JSON.parse(JSON.stringify(oe)));for(const Fe of oe.items)if(!Fe.isManual){const Ve=De.find(_e=>_e.id===Fe.id);if(Ve){let _e=Fe.count;if(v){const tt=v.items.find(dt=>dt.id===Fe.id);tt&&(_e=Fe.count-tt.count)}if(_e!==0){const tt=Math.max(0,Ve.stock-_e);await Ag(Dr(zt,"products",Fe.id),{stock:tt})}}}ht(),e("dashboard")},Kt=me.useMemo(()=>I?I.role==="admin"||I.permissions.isManager||I.permissions.viewAllWork?L:L.filter(oe=>oe.creatorName===I.name):[],[L,I]),Pe=(oe,Fe)=>{if(oe==="OPEN_INVOICE"&&Fe){const Ve=L.find(_e=>_e.id===Fe);Ve&&ct(Ve)}else oe==="OPEN_PRODUCT"&&Fe?(ge(Fe),e("products")):oe==="NAVIGATE"?Object.values(["dashboard","products","customers","settings","create-invoice","suppliers"]).includes(Fe)&&e(Fe):oe==="SEARCH"&&(ge(Fe||""),e("products"))};return Le?d.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):d.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[t==="login"&&d.jsx(H9,{onLoginSuccess:oe=>{k(oe),e("dashboard")},settings:R}),t==="dashboard"&&I&&d.jsx(fq,{currentUser:I,onLogout:Ke,invoices:Kt,settings:R,products:De,onNavigateToProducts:()=>{ge(""),e("products")},onNavigateToCreateInvoice:()=>{v||ht(),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onEditInvoice:ct,onDeleteInvoice:vr,onNewInvoiceForCustomer:Ot,unreadNotificationsCount:Ce.filter(oe=>!oe.isRead).length}),t==="products"&&I&&d.jsx(Fae,{currentUser:I,products:De,onAddProduct:se,onUpdateProduct:fe,onLogout:Ke,onNavigateToHome:()=>e("dashboard"),onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:h,onSelectProduct:(oe,Fe)=>n(Ve=>Ve.find(tt=>tt.id===oe.id)?Ve.map(tt=>tt.id===oe.id?{...tt,count:tt.count+Fe,total:(tt.count+Fe)*oe.price}:tt):[...Ve,{...oe,productName:oe.name,count:Fe,total:oe.price*Fe}]),onStartInvoiceWithProduct:(oe,Fe)=>{ht(),n([{...oe,productName:oe.name,count:Fe,total:oe.price*Fe}]),e("create-invoice")},selectedItems:r,settings:R,invoicePriceMode:c,initialSearchTerm:Z}),t==="create-invoice"&&I&&d.jsx(Mae,{currentUser:I,onNavigateToHome:()=>{ht(),e("dashboard")},onNavigateToProductSelection:()=>{m(!0),e("products")},items:r,setInvoiceItems:n,products:De,onUpdateQuantity:(oe,Fe)=>n(Ve=>Ve.map(_e=>_e.id===oe?{..._e,count:Math.max(0,_e.count+Fe),total:Math.max(0,_e.count+Fe)*_e.price}:_e).filter(_e=>_e.count>0)),onClearInvoice:ht,onAddManualItem:(oe,Fe,Ve)=>n(_e=>[..._e,{id:`manual-${Date.now()}`,productName:oe,price:Fe,count:Ve,total:Fe*Ve,isManual:!0}]),onSaveInvoice:Yt,initialInvoice:v,settings:R,onUpdateItem:(oe,Fe)=>n(Ve=>Ve.map(_e=>_e.id===oe?{..._e,...Fe,total:(Fe.price||_e.price)*(Fe.count||_e.count)}:_e)),customerName:i,setCustomerName:a,customerPhone:s,setCustomerPhone:A,priceMode:c,setPriceMode:u}),t==="settings"&&I&&d.jsx(Oae,{currentUser:I,onNavigateToHome:()=>e("dashboard"),settings:R,onUpdateSettings:ce,onTriggerManualBackup:()=>{},invoices:L,onEditInvoice:ct,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:Ke}),t==="customers"&&I&&d.jsx(zae,{currentUser:I,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:Kt,generalPayments:de,onAddGeneralPayment:qt,onDeleteGeneralPayment:Ge,onDeleteCustomer:Xr,onProcessPayment:async(oe,Fe,Ve)=>{const _e=L.find(tt=>tt.id===oe);if(_e){const tt=_e.paidAmount+Fe,dt=Math.max(0,_e.amount-tt),Wt={..._e,paidAmount:tt,remainingAmount:dt,type:dt<=0?"paid":"partial",payments:[..._e.payments,{id:`pay-${Date.now()}`,amount:Fe,timestamp:Date.now(),method:Ve}]};await sa(Dr(zt,"invoices",oe),JSON.parse(JSON.stringify(Wt)))}},onEditInvoice:ct,settings:R}),I&&t==="dashboard"&&d.jsx(xfe,{products:De,invoices:L,currentUser:I,onAction:Pe,onSearchProduct:oe=>{ge(oe),e("products")}}),t==="notifications"&&I&&d.jsx(Jae,{onNavigateToHome:()=>e("dashboard"),notifications:Ce,onMarkAllAsRead:()=>Ce.forEach(oe=>Ag(Dr(zt,"notifications",oe.id),{isRead:!0})),onClearAll:()=>{},onMarkAsRead:oe=>Ag(Dr(zt,"notifications",oe),{isRead:!0})}),t==="suppliers"&&I&&d.jsx(rse,{currentUser:I,onNavigateToHome:()=>e("dashboard"),onAddInvoice:je,onUpdateInvoice:ye,onDeleteInvoice:xe,onDeleteSupplier:Se,invoices:P}),t==="client-requests"&&I&&d.jsx(nse,{onNavigateToHome:()=>e("dashboard"),requests:M,onAddRequest:it,onUpdateRequest:ie,onDeleteRequest:lt,settings:R}),t==="checkbook"&&I&&d.jsx(ise,{onNavigateToHome:()=>e("dashboard"),checks:Q,onAddCheck:yt,onUpdateCheck:wt,onDeleteCheck:we,settings:R}),t==="special-orders"&&I&&d.jsx(ase,{onNavigateToHome:()=>e("dashboard"),orders:j,onAddOrder:Ee,onUpdateOrder:qe,onDeleteOrder:st,settings:R})]})},OM=document.getElementById("root");if(!OM)throw new Error("Could not find root element to mount to");const gme=Q9.createRoot(OM);gme.render(d.jsx(sO.StrictMode,{children:d.jsx(dme,{})}));



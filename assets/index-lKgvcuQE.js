function TN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gm={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function SN(){if(nC)return Fu;nC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var f in a)f!=="key"&&(s[f]=a[f])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Fu.Fragment=e,Fu.jsx=r,Fu.jsxs=r,Fu}var aC;function IN(){return aC||(aC=1,gm.exports=SN()),gm.exports}var x=IN(),xm={exports:{}},ir={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function FN(){if(iC)return ir;iC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),B=Symbol.iterator;function T(Ae){return Ae===null||typeof Ae!="object"?null:(Ae=B&&Ae[B]||Ae["@@iterator"],typeof Ae=="function"?Ae:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,D={};function P(Ae,q,pe){this.props=Ae,this.context=q,this.refs=D,this.updater=pe||S}P.prototype.isReactComponent={},P.prototype.setState=function(Ae,q){if(typeof Ae!="object"&&typeof Ae!="function"&&Ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ae,q,"setState")},P.prototype.forceUpdate=function(Ae){this.updater.enqueueForceUpdate(this,Ae,"forceUpdate")};function V(){}V.prototype=P.prototype;function j(Ae,q,pe){this.props=Ae,this.context=q,this.refs=D,this.updater=pe||S}var re=j.prototype=new V;re.constructor=j,F(re,P.prototype),re.isPureReactComponent=!0;var ge=Array.isArray;function z(){}var O={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function k(Ae,q,pe){var se=pe.ref;return{$$typeof:t,type:Ae,key:q,ref:se!==void 0?se:null,props:pe}}function Z(Ae,q){return k(Ae.type,q,Ae.props)}function Y(Ae){return typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===t}function G(Ae){var q={"=":"=0",":":"=2"};return"$"+Ae.replace(/[=:]/g,function(pe){return q[pe]})}var K=/\/+/g;function Ie(Ae,q){return typeof Ae=="object"&&Ae!==null&&Ae.key!=null?G(""+Ae.key):q.toString(36)}function xe(Ae){switch(Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason;default:switch(typeof Ae.status=="string"?Ae.then(z,z):(Ae.status="pending",Ae.then(function(q){Ae.status==="pending"&&(Ae.status="fulfilled",Ae.value=q)},function(q){Ae.status==="pending"&&(Ae.status="rejected",Ae.reason=q)})),Ae.status){case"fulfilled":return Ae.value;case"rejected":throw Ae.reason}}throw Ae}function ie(Ae,q,pe,se,me){var Ce=typeof Ae;(Ce==="undefined"||Ce==="boolean")&&(Ae=null);var ze=!1;if(Ae===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(Ae.$$typeof){case t:case e:ze=!0;break;case p:return ze=Ae._init,ie(ze(Ae._payload),q,pe,se,me)}}if(ze)return me=me(Ae),ze=se===""?"."+Ie(Ae,0):se,ge(me)?(pe="",ze!=null&&(pe=ze.replace(K,"$&/")+"/"),ie(me,q,pe,"",function(_e){return _e})):me!=null&&(Y(me)&&(me=Z(me,pe+(me.key==null||Ae&&Ae.key===me.key?"":(""+me.key).replace(K,"$&/")+"/")+ze)),q.push(me)),1;ze=0;var ye=se===""?".":se+":";if(ge(Ae))for(var ae=0;ae<Ae.length;ae++)se=Ae[ae],Ce=ye+Ie(se,ae),ze+=ie(se,q,pe,Ce,me);else if(ae=T(Ae),typeof ae=="function")for(Ae=ae.call(Ae),ae=0;!(se=Ae.next()).done;)se=se.value,Ce=ye+Ie(se,ae++),ze+=ie(se,q,pe,Ce,me);else if(Ce==="object"){if(typeof Ae.then=="function")return ie(xe(Ae),q,pe,se,me);throw q=String(Ae),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(Ae).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(Ae,q,pe){if(Ae==null)return Ae;var se=[],me=0;return ie(Ae,se,"","",function(Ce){return q.call(pe,Ce,me++)}),se}function Ve(Ae){if(Ae._status===-1){var q=Ae._result;q=q(),q.then(function(pe){(Ae._status===0||Ae._status===-1)&&(Ae._status=1,Ae._result=pe)},function(pe){(Ae._status===0||Ae._status===-1)&&(Ae._status=2,Ae._result=pe)}),Ae._status===-1&&(Ae._status=0,Ae._result=q)}if(Ae._status===1)return Ae._result.default;throw Ae._result}var Ee=typeof reportError=="function"?reportError:function(Ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ae=="object"&&Ae!==null&&typeof Ae.message=="string"?String(Ae.message):String(Ae),error:Ae});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ae);return}console.error(Ae)},$e={map:ue,forEach:function(Ae,q,pe){ue(Ae,function(){q.apply(this,arguments)},pe)},count:function(Ae){var q=0;return ue(Ae,function(){q++}),q},toArray:function(Ae){return ue(Ae,function(q){return q})||[]},only:function(Ae){if(!Y(Ae))throw Error("React.Children.only expected to receive a single React element child.");return Ae}};return ir.Activity=y,ir.Children=$e,ir.Component=P,ir.Fragment=r,ir.Profiler=a,ir.PureComponent=j,ir.StrictMode=n,ir.Suspense=g,ir.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ir.__COMPILER_RUNTIME={__proto__:null,c:function(Ae){return O.H.useMemoCache(Ae)}},ir.cache=function(Ae){return function(){return Ae.apply(null,arguments)}},ir.cacheSignal=function(){return null},ir.cloneElement=function(Ae,q,pe){if(Ae==null)throw Error("The argument must be a React element, but you passed "+Ae+".");var se=F({},Ae.props),me=Ae.key;if(q!=null)for(Ce in q.key!==void 0&&(me=""+q.key),q)!M.call(q,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&q.ref===void 0||(se[Ce]=q[Ce]);var Ce=arguments.length-2;if(Ce===1)se.children=pe;else if(1<Ce){for(var ze=Array(Ce),ye=0;ye<Ce;ye++)ze[ye]=arguments[ye+2];se.children=ze}return k(Ae.type,me,se)},ir.createContext=function(Ae){return Ae={$$typeof:l,_currentValue:Ae,_currentValue2:Ae,_threadCount:0,Provider:null,Consumer:null},Ae.Provider=Ae,Ae.Consumer={$$typeof:s,_context:Ae},Ae},ir.createElement=function(Ae,q,pe){var se,me={},Ce=null;if(q!=null)for(se in q.key!==void 0&&(Ce=""+q.key),q)M.call(q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=q[se]);var ze=arguments.length-2;if(ze===1)me.children=pe;else if(1<ze){for(var ye=Array(ze),ae=0;ae<ze;ae++)ye[ae]=arguments[ae+2];me.children=ye}if(Ae&&Ae.defaultProps)for(se in ze=Ae.defaultProps,ze)me[se]===void 0&&(me[se]=ze[se]);return k(Ae,Ce,me)},ir.createRef=function(){return{current:null}},ir.forwardRef=function(Ae){return{$$typeof:f,render:Ae}},ir.isValidElement=Y,ir.lazy=function(Ae){return{$$typeof:p,_payload:{_status:-1,_result:Ae},_init:Ve}},ir.memo=function(Ae,q){return{$$typeof:h,type:Ae,compare:q===void 0?null:q}},ir.startTransition=function(Ae){var q=O.T,pe={};O.T=pe;try{var se=Ae(),me=O.S;me!==null&&me(pe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(z,Ee)}catch(Ce){Ee(Ce)}finally{q!==null&&pe.types!==null&&(q.types=pe.types),O.T=q}},ir.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ir.use=function(Ae){return O.H.use(Ae)},ir.useActionState=function(Ae,q,pe){return O.H.useActionState(Ae,q,pe)},ir.useCallback=function(Ae,q){return O.H.useCallback(Ae,q)},ir.useContext=function(Ae){return O.H.useContext(Ae)},ir.useDebugValue=function(){},ir.useDeferredValue=function(Ae,q){return O.H.useDeferredValue(Ae,q)},ir.useEffect=function(Ae,q){return O.H.useEffect(Ae,q)},ir.useEffectEvent=function(Ae){return O.H.useEffectEvent(Ae)},ir.useId=function(){return O.H.useId()},ir.useImperativeHandle=function(Ae,q,pe){return O.H.useImperativeHandle(Ae,q,pe)},ir.useInsertionEffect=function(Ae,q){return O.H.useInsertionEffect(Ae,q)},ir.useLayoutEffect=function(Ae,q){return O.H.useLayoutEffect(Ae,q)},ir.useMemo=function(Ae,q){return O.H.useMemo(Ae,q)},ir.useOptimistic=function(Ae,q){return O.H.useOptimistic(Ae,q)},ir.useReducer=function(Ae,q,pe){return O.H.useReducer(Ae,q,pe)},ir.useRef=function(Ae){return O.H.useRef(Ae)},ir.useState=function(Ae){return O.H.useState(Ae)},ir.useSyncExternalStore=function(Ae,q,pe){return O.H.useSyncExternalStore(Ae,q,pe)},ir.useTransition=function(){return O.H.useTransition()},ir.version="19.2.3",ir}var sC;function Tw(){return sC||(sC=1,xm.exports=FN()),xm.exports}var Ne=Tw();const NN=Kg(Ne);var pm={exports:{}},Nu={},mm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function RN(){return AC||(AC=1,(function(t){function e(ie,ue){var Ve=ie.length;ie.push(ue);e:for(;0<Ve;){var Ee=Ve-1>>>1,$e=ie[Ee];if(0<a($e,ue))ie[Ee]=ue,ie[Ve]=$e,Ve=Ee;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var ue=ie[0],Ve=ie.pop();if(Ve!==ue){ie[0]=Ve;e:for(var Ee=0,$e=ie.length,Ae=$e>>>1;Ee<Ae;){var q=2*(Ee+1)-1,pe=ie[q],se=q+1,me=ie[se];if(0>a(pe,Ve))se<$e&&0>a(me,pe)?(ie[Ee]=me,ie[se]=Ve,Ee=se):(ie[Ee]=pe,ie[q]=Ve,Ee=q);else if(se<$e&&0>a(me,Ve))ie[Ee]=me,ie[se]=Ve,Ee=se;else break e}}return ue}function a(ie,ue){var Ve=ie.sortIndex-ue.sortIndex;return Ve!==0?Ve:ie.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var g=[],h=[],p=1,y=null,B=3,T=!1,S=!1,F=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function re(ie){for(var ue=r(h);ue!==null;){if(ue.callback===null)n(h);else if(ue.startTime<=ie)n(h),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=r(h)}}function ge(ie){if(F=!1,re(ie),!S)if(r(g)!==null)S=!0,z||(z=!0,G());else{var ue=r(h);ue!==null&&xe(ge,ue.startTime-ie)}}var z=!1,O=-1,M=5,k=-1;function Z(){return D?!0:!(t.unstable_now()-k<M)}function Y(){if(D=!1,z){var ie=t.unstable_now();k=ie;var ue=!0;try{e:{S=!1,F&&(F=!1,V(O),O=-1),T=!0;var Ve=B;try{t:{for(re(ie),y=r(g);y!==null&&!(y.expirationTime>ie&&Z());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,B=y.priorityLevel;var $e=Ee(y.expirationTime<=ie);if(ie=t.unstable_now(),typeof $e=="function"){y.callback=$e,re(ie),ue=!0;break t}y===r(g)&&n(g),re(ie)}else n(g);y=r(g)}if(y!==null)ue=!0;else{var Ae=r(h);Ae!==null&&xe(ge,Ae.startTime-ie),ue=!1}}break e}finally{y=null,B=Ve,T=!1}ue=void 0}}finally{ue?G():z=!1}}}var G;if(typeof j=="function")G=function(){j(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Ie=K.port2;K.port1.onmessage=Y,G=function(){Ie.postMessage(null)}}else G=function(){P(Y,0)};function xe(ie,ue){O=P(function(){ie(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_next=function(ie){switch(B){case 1:case 2:case 3:var ue=3;break;default:ue=B}var Ve=B;B=ue;try{return ie()}finally{B=Ve}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ve=B;B=ie;try{return ue()}finally{B=Ve}},t.unstable_scheduleCallback=function(ie,ue,Ve){var Ee=t.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?Ee+Ve:Ee):Ve=Ee,ie){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Ve+$e,ie={id:p++,callback:ue,priorityLevel:ie,startTime:Ve,expirationTime:$e,sortIndex:-1},Ve>Ee?(ie.sortIndex=Ve,e(h,ie),r(g)===null&&ie===r(h)&&(F?(V(O),O=-1):F=!0,xe(ge,Ve-Ee))):(ie.sortIndex=$e,e(g,ie),S||T||(S=!0,z||(z=!0,G()))),ie},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(ie){var ue=B;return function(){var Ve=B;B=ue;try{return ie.apply(this,arguments)}finally{B=Ve}}}})(wm)),wm}var oC;function DN(){return oC||(oC=1,mm.exports=RN()),mm.exports}var vm={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function ON(){if(lC)return ri;lC=1;var t=Tw();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(g,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:g,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ri.createPortal=function(g,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(g,h,null,p)},ri.flushSync=function(g){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,g)return g()}finally{l.T=h,n.p=p,n.d.f()}},ri.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(g,h))},ri.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},ri.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var p=h.as,y=f(p,h.crossOrigin),B=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:B,fetchPriority:T}):p==="script"&&n.d.X(g,{crossOrigin:y,integrity:B,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ri.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);n.d.M(g,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(g)},ri.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=f(p,h.crossOrigin);n.d.L(g,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ri.preloadModule=function(g,h){if(typeof g=="string")if(h){var p=f(h.as,h.crossOrigin);n.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(g)},ri.requestFormReset=function(g){n.d.r(g)},ri.unstable_batchedUpdates=function(g,h){return g(h)},ri.useFormState=function(g,h,p){return l.H.useFormState(g,h,p)},ri.useFormStatus=function(){return l.H.useHostTransitionStatus()},ri.version="19.2.3",ri}var cC;function kN(){if(cC)return vm.exports;cC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vm.exports=ON(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function UN(){if(uC)return Nu;uC=1;var t=DN(),e=Tw(),r=kN();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function g(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,v=o;;){var _=d.return;if(_===null)break;var N=_.alternate;if(N===null){if(v=_.return,v!==null){d=v;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===d)return g(_),i;if(N===v)return g(_),o;N=N.sibling}throw Error(n(188))}if(d.return!==v.return)d=_,v=N;else{for(var L=!1,te=_.child;te;){if(te===d){L=!0,d=_,v=N;break}if(te===v){L=!0,v=_,d=N;break}te=te.sibling}if(!L){for(te=N.child;te;){if(te===d){L=!0,d=N,v=_;break}if(te===v){L=!0,v=N,d=_;break}te=te.sibling}if(!L)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var y=Object.assign,B=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),j=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function Ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case ge:return"Suspense";case z:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case j:return i.displayName||"Context";case V:return(i._context.displayName||"Context")+".Consumer";case re:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return o=i.displayName||null,o!==null?o:Ie(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Ie(i(o))}catch{}}return null}var xe=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},Ee=[],$e=-1;function Ae(i){return{current:i}}function q(i){0>$e||(i.current=Ee[$e],Ee[$e]=null,$e--)}function pe(i,o){$e++,Ee[$e]=i.current,i.current=o}var se=Ae(null),me=Ae(null),Ce=Ae(null),ze=Ae(null);function ye(i,o){switch(pe(Ce,o),pe(me,i),pe(se,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?_B(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=_B(o),i=TB(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(se),pe(se,i)}function ae(){q(se),q(me),q(Ce)}function _e(i){i.memoizedState!==null&&pe(ze,i);var o=se.current,d=TB(o,i.type);o!==d&&(pe(me,i),pe(se,d))}function Re(i){me.current===i&&(q(se),q(me)),ze.current===i&&(q(ze),_u._currentValue=Ve)}var fe,yt;function _t(i){if(fe===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);fe=o&&o[1]||"",yt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+yt}var et=!1;function gt(i,o){if(!i||et)return"";et=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(o){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Ye){var Ge=Ye}Reflect.construct(i,[],it)}else{try{it.call()}catch(Ye){Ge=Ye}i.call(it.prototype)}}else{try{throw Error()}catch(Ye){Ge=Ye}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Ye){if(Ye&&Ge&&typeof Ye.stack=="string")return[Ye.stack,Ge.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=v.DetermineComponentFrameRoot(),L=N[0],te=N[1];if(L&&te){var Be=L.split(`
`),Pe=te.split(`
`);for(_=v=0;v<Be.length&&!Be[v].includes("DetermineComponentFrameRoot");)v++;for(;_<Pe.length&&!Pe[_].includes("DetermineComponentFrameRoot");)_++;if(v===Be.length||_===Pe.length)for(v=Be.length-1,_=Pe.length-1;1<=v&&0<=_&&Be[v]!==Pe[_];)_--;for(;1<=v&&0<=_;v--,_--)if(Be[v]!==Pe[_]){if(v!==1||_!==1)do if(v--,_--,0>_||Be[v]!==Pe[_]){var tt=`
`+Be[v].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=v&&0<=_);break}}}finally{et=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?_t(d):""}function rt(i,o){switch(i.tag){case 26:case 27:case 5:return _t(i.type);case 16:return _t("Lazy");case 13:return i.child!==o&&o!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return gt(i.type,!1);case 11:return gt(i.type.render,!1);case 1:return gt(i.type,!0);case 31:return _t("Activity");default:return""}}function Ct(i){try{var o="",d=null;do o+=rt(i,d),d=i,i=i.return;while(i);return o}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var kt=Object.prototype.hasOwnProperty,mr=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,Ca=t.unstable_shouldYield,Wn=t.unstable_requestPaint,tr=t.unstable_now,Cn=t.unstable_getCurrentPriorityLevel,Jt=t.unstable_ImmediatePriority,Vr=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,Nt=t.unstable_LowPriority,Tt=t.unstable_IdlePriority,qt=t.log,Qr=t.unstable_setDisableYieldValue,Mt=null,At=null;function Le(i){if(typeof qt=="function"&&Qr(i),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Mt,i)}catch{}}var nt=Math.clz32?Math.clz32:Bt,Et=Math.log,Rt=Math.LN2;function Bt(i){return i>>>=0,i===0?32:31-(Et(i)/Rt|0)|0}var jt=256,Xt=262144,gr=4194304;function Gr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Rn(i,o,d){var v=i.pendingLanes;if(v===0)return 0;var _=0,N=i.suspendedLanes,L=i.pingedLanes;i=i.warmLanes;var te=v&134217727;return te!==0?(v=te&~N,v!==0?_=Gr(v):(L&=te,L!==0?_=Gr(L):d||(d=te&~i,d!==0&&(_=Gr(d))))):(te=v&~N,te!==0?_=Gr(te):L!==0?_=Gr(L):d||(d=v&~i,d!==0&&(_=Gr(d)))),_===0?0:o!==0&&o!==_&&(o&N)===0&&(N=_&-_,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:_}function un(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ti(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fn(){var i=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),i}function aa(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Da(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ir(i,o,d,v,_,N){var L=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var te=i.entanglements,Be=i.expirationTimes,Pe=i.hiddenUpdates;for(d=L&~d;0<d;){var tt=31-nt(d),it=1<<tt;te[tt]=0,Be[tt]=-1;var Ge=Pe[tt];if(Ge!==null)for(Pe[tt]=null,tt=0;tt<Ge.length;tt++){var Ye=Ge[tt];Ye!==null&&(Ye.lane&=-536870913)}d&=~it}v!==0&&Si(i,v,0),N!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=N&~(L&~o))}function Si(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var v=31-nt(o);i.entangledLanes|=o,i.entanglements[v]=i.entanglements[v]|1073741824|d&261930}function mn(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var v=31-nt(d),_=1<<v;_&o|i[v]&o&&(i[v]|=o),d&=~_}}function Oa(i,o){var d=o&-o;return d=(d&42)!==0?1:bn(d),(d&(i.suspendedLanes|o))!==0?0:d}function bn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ka(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function J(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:qB(i.type))}function ne(i,o){var d=ue.p;try{return ue.p=i,o()}finally{ue.p=d}}var oe=Math.random().toString(36).slice(2),ce="__reactFiber$"+oe,he="__reactProps$"+oe,ve="__reactContainer$"+oe,Me="__reactEvents$"+oe,qe="__reactListeners$"+oe,Oe="__reactHandles$"+oe,je="__reactResources$"+oe,He="__reactMarker$"+oe;function st(i){delete i[ce],delete i[he],delete i[Me],delete i[qe],delete i[Oe]}function ct(i){var o=i[ce];if(o)return o;for(var d=i.parentNode;d;){if(o=d[ve]||d[ce]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=OB(i);i!==null;){if(d=i[ce])return d;i=OB(i)}return o}i=d,d=i.parentNode}return null}function ut(i){if(i=i[ce]||i[ve]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ht(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function pt(i){var o=i[je];return o||(o=i[je]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function St(i){i[He]=!0}var Je=new Set,Fr={};function Ht(i,o){Dn(i,o),Dn(i+"Capture",o)}function Dn(i,o){for(Fr[i]=o,i=0;i<o.length;i++)Je.add(o[i])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},rr={};function ar(i){return kt.call(rr,i)?!0:kt.call(lr,i)?!1:Hs.test(i)?rr[i]=!0:(lr[i]=!0,!1)}function Mn(i,o,d){if(ar(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var v=o.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function ms(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function $a(i,o,d,v){if(v===null)i.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+v)}}function br(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ji(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Y0(i,o,d){var v=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var _=v.get,N=v.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _.call(this)},set:function(L){d=""+L,N.call(this,L)}}),Object.defineProperty(i,o,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(L){d=""+L},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function en(i){if(!i._valueTracker){var o=Ji(i)?"checked":"value";i._valueTracker=Y0(i,o,""+i[o])}}function Ii(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),v="";return i&&(v=Ji(i)?i.checked?"true":"false":i.value),i=v,i!==d?(o.setValue(i),!0):!1}function go(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ei=/[\n"\\]/g;function Yt(i){return i.replace(ei,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wn(i,o,d,v,_,N,L,te){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),o!=null?L==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+br(o)):i.value!==""+br(o)&&(i.value=""+br(o)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),o!=null?de(i,L,br(o)):d!=null?de(i,L,br(d)):v!=null&&i.removeAttribute("value"),_==null&&N!=null&&(i.defaultChecked=!!N),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?i.name=""+br(te):i.removeAttribute("name")}function Ue(i,o,d,v,_,N,L,te){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null)){en(i);return}d=d!=null?""+br(d):"",o=o!=null?""+br(o):d,te||o===i.value||(i.value=o),i.defaultValue=o}v=v??_,v=typeof v!="function"&&typeof v!="symbol"&&!!v,i.checked=te?i.checked:!!v,i.defaultChecked=!!v,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L),en(i)}function de(i,o,d){o==="number"&&go(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function mt(i,o,d,v){if(i=i.options,o){o={};for(var _=0;_<d.length;_++)o["$"+d[_]]=!0;for(d=0;d<i.length;d++)_=o.hasOwnProperty("$"+i[d].value),i[d].selected!==_&&(i[d].selected=_),_&&v&&(i[d].defaultSelected=!0)}else{for(d=""+br(d),o=null,_=0;_<i.length;_++){if(i[_].value===d){i[_].selected=!0,v&&(i[_].defaultSelected=!0);return}o!==null||i[_].disabled||(o=i[_])}o!==null&&(o.selected=!0)}}function hn(i,o,d){if(o!=null&&(o=""+br(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+br(d):""}function Yn(i,o,d,v){if(o==null){if(v!=null){if(d!=null)throw Error(n(92));if(xe(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),o=d}d=br(o),i.defaultValue=d,v=i.textContent,v===d&&v!==""&&v!==null&&(i.value=v),en(i)}function Fi(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ba(i,o,d){var v=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":v?i.setProperty(o,d):typeof d!="number"||d===0||vl.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function Lt(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||o!=null&&o.hasOwnProperty(v)||(v.indexOf("--")===0?i.setProperty(v,""):v==="float"?i.cssFloat="":i[v]="");for(var _ in o)v=o[_],o.hasOwnProperty(_)&&d[_]!==v&&ba(i,_,v)}else for(var N in o)o.hasOwnProperty(N)&&ba(i,N,o[N])}function Yr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(i){return q0.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function On(){}var sA=null;function xo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tn=null,xa=null;function $i(i){var o=ut(i);if(o&&(i=o.stateNode)){var d=i[he]||null;e:switch(i=o.stateNode,o.type){case"input":if(wn(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Yt(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var v=d[o];if(v!==i&&v.form===i.form){var _=v[he]||null;if(!_)throw Error(n(90));wn(v,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<d.length;o++)v=d[o],v.form===i.form&&Ii(v)}break e;case"textarea":hn(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&mt(i,!!d.multiple,o,!1)}}}var Vt=!1;function bc(i,o,d){if(Vt)return i(o,d);Vt=!0;try{var v=i(o);return v}finally{if(Vt=!1,(tn!==null||xa!==null)&&(rd(),tn&&(o=tn,i=xa,xa=tn=null,$i(o),i)))for(o=0;o<i.length;o++)$i(i[o])}}function Gt(i,o){var d=i.stateNode;if(d===null)return null;var v=d[he]||null;if(v===null)return null;d=v[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=!1;if(qr)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{yl=!1}var ti=null,Di=null,ws=null;function Oi(){if(ws)return ws;var i,o=Di,d=o.length,v,_="value"in ti?ti.value:ti.textContent,N=_.length;for(i=0;i<d&&o[i]===_[i];i++);var L=d-i;for(v=1;v<=L&&o[d-v]===_[N-v];v++);return ws=_.slice(i,1<v?1-v:void 0)}function es(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ki(){return!0}function rn(){return!1}function Qn(i){function o(d,v,_,N,L){this._reactName=d,this._targetInst=_,this.type=v,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var te in i)i.hasOwnProperty(te)&&(d=i[te],this[te]=d?d(N):N[te]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ki:rn,this.isPropagationStopped=rn,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),o}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=Qn(gi),Vs=y({},gi,{view:0,detail:0}),El=Qn(Vs),Gs,po,Ua,IA=y({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ua&&(Ua&&i.type==="mousemove"?(Gs=i.screenX-Ua.screenX,po=i.screenY-Ua.screenY):po=Gs=0,Ua=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:po}}),Or=Qn(IA),AA=y({},IA,{dataTransfer:0}),FA=Qn(AA),Ui=y({},Vs,{relatedTarget:0}),oA=Qn(Ui),Ke=y({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),$t=Qn(Ke),qn=y({},gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NA=Qn(qn),lA=y({},gi,{data:0}),Bl=Qn(lA),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=RA[i])?!!o[i]:!1}function vs(){return _n}var on=y({},Vs,{key:function(i){if(i.key){var o=_c[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=es(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(i){return i.type==="keypress"?es(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?es(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),DA=Qn(on),Ma=y({},IA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kr=Qn(Ma),Pt=y({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Tc=Qn(Pt),zr=y({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mi=Qn(zr),Pn=y({},IA,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Sc=Qn(Pn),xi=y({},gi,{newState:0,oldState:0}),ys=Qn(xi),b=[9,13,27,32],U=qr&&"CompositionEvent"in window,H=null;qr&&"documentMode"in document&&(H=document.documentMode);var le=qr&&"TextEvent"in window&&!H,ke=qr&&(!U||H&&8<H&&11>=H),We=" ",wt=!1;function Lr(i,o){switch(i){case"keyup":return b.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fr=!1;function ln(i,o){switch(i){case"compositionend":return dn(o);case"keypress":return o.which!==32?null:(wt=!0,We);case"textInput":return i=o.data,i===We&&wt?null:i;default:return null}}function kn(i,o){if(fr)return i==="compositionend"||!U&&Lr(i,o)?(i=Oi(),ws=Di=ti=null,fr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ke&&o.locale!=="ko"?null:o.data;default:return null}}var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Zn[i.type]:o==="textarea"}function _a(i,o,d,v){tn?xa?xa.push(v):xa=[v]:tn=v,o=ld(o,"onChange"),0<o.length&&(d=new Ln("onChange","change",null,d,v),i.push({event:d,listeners:o}))}var Ks=null,OA=null;function Sx(i){vB(i,0)}function bl(i){var o=ht(i);if(Ii(o))return i}function ts(i,o){if(i==="change")return o}var vh=!1;if(qr){var _l;if(qr){var kA="oninput"in document;if(!kA){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),kA=typeof wr.oninput=="function"}_l=kA}else _l=!1;vh=_l&&(!document.documentMode||9<document.documentMode)}function Tl(){Ks&&(Ks.detachEvent("onpropertychange",X),OA=Ks=null)}function X(i){if(i.propertyName==="value"&&bl(OA)){var o=[];_a(o,OA,i,xo(i)),bc(Sx,o)}}function A(i,o,d){i==="focusin"?(Tl(),Ks=o,OA=d,Ks.attachEvent("onpropertychange",X)):i==="focusout"&&Tl()}function c(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bl(OA)}function u(i,o){if(i==="click")return bl(o)}function m(i,o){if(i==="input"||i==="change")return bl(o)}function w(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var E=typeof Object.is=="function"?Object.is:w;function C(i,o){if(E(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),v=Object.keys(o);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var _=d[v];if(!kt.call(o,_)||!E(i[_],o[_]))return!1}return!0}function I(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R(i,o){var d=I(i);i=0;for(var v;d;){if(d.nodeType===3){if(v=i+d.textContent.length,i<=o&&v>=o)return{node:d,offset:o-i};i=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=I(d)}}function Q(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Q(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function W(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=go(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=go(i.document)}return o}function ee(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var we=qr&&"documentMode"in document&&11>=document.documentMode,be=null,Te=null,De=null,Xe=!1;function xt(i,o,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Xe||be==null||be!==go(v)||(v=be,"selectionStart"in v&&ee(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),De&&C(De,v)||(De=v,v=ld(Te,"onSelect"),0<v.length&&(o=new Ln("onSelect","select",null,o,d),i.push({event:o,listeners:v}),o.target=be)))}function dt(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var lt={animationend:dt("Animation","AnimationEnd"),animationiteration:dt("Animation","AnimationIteration"),animationstart:dt("Animation","AnimationStart"),transitionrun:dt("Transition","TransitionRun"),transitionstart:dt("Transition","TransitionStart"),transitioncancel:dt("Transition","TransitionCancel"),transitionend:dt("Transition","TransitionEnd")},dr={},nr={};qr&&(nr=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);function jn(i){if(dr[i])return dr[i];if(!lt[i])return i;var o=lt[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in nr)return dr[i]=o[d];return i}var Qi=jn("animationend"),La=jn("animationiteration"),Xr=jn("animationstart"),pa=jn("transitionrun"),pi=jn("transitionstart"),mo=jn("transitioncancel"),UA=jn("transitionend"),yh=new Map,Z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z0.push("scrollEnd");function zs(i,o){yh.set(i,o),Ht(o,[i])}var Eh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Es=[],Ic=0,Ix=0;function Bh(){for(var i=Ic,o=Ix=Ic=0;o<i;){var d=Es[o];Es[o++]=null;var v=Es[o];Es[o++]=null;var _=Es[o];Es[o++]=null;var N=Es[o];if(Es[o++]=null,v!==null&&_!==null){var L=v.pending;L===null?_.next=_:(_.next=L.next,L.next=_),v.pending=_}N!==0&&ty(d,_,N)}}function Ch(i,o,d,v){Es[Ic++]=i,Es[Ic++]=o,Es[Ic++]=d,Es[Ic++]=v,Ix|=v,i.lanes|=v,i=i.alternate,i!==null&&(i.lanes|=v)}function Fx(i,o,d,v){return Ch(i,o,d,v),bh(i)}function Sl(i,o){return Ch(i,null,null,o),bh(i)}function ty(i,o,d){i.lanes|=d;var v=i.alternate;v!==null&&(v.lanes|=d);for(var _=!1,N=i.return;N!==null;)N.childLanes|=d,v=N.alternate,v!==null&&(v.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(_=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,_&&o!==null&&(_=31-nt(d),i=N.hiddenUpdates,v=i[_],v===null?i[_]=[o]:v.push(o),o.lane=d|536870912),N):null}function bh(i){if(50<wu)throw wu=0,Lp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Fc={};function c6(i,o,d,v){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(i,o,d,v){return new c6(i,o,d,v)}function Nx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function MA(i,o){var d=i.alternate;return d===null?(d=rs(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function ry(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function _h(i,o,d,v,_,N){var L=0;if(v=i,typeof i=="function")Nx(i)&&(L=1);else if(typeof i=="string")L=gN(i,d,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=rs(31,d,o,_),i.elementType=k,i.lanes=N,i;case F:return Il(d.children,_,N,o);case D:L=8,_|=24;break;case P:return i=rs(12,d,o,_|2),i.elementType=P,i.lanes=N,i;case ge:return i=rs(13,d,o,_),i.elementType=ge,i.lanes=N,i;case z:return i=rs(19,d,o,_),i.elementType=z,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:L=10;break e;case V:L=9;break e;case re:L=11;break e;case O:L=14;break e;case M:L=16,v=null;break e}L=29,d=Error(n(130,i===null?"null":typeof i,"")),v=null}return o=rs(L,d,o,_),o.elementType=i,o.type=v,o.lanes=N,o}function Il(i,o,d,v){return i=rs(7,i,v,o),i.lanes=d,i}function Rx(i,o,d){return i=rs(6,i,null,o),i.lanes=d,i}function ny(i){var o=rs(18,null,null,0);return o.stateNode=i,o}function Dx(i,o,d){return o=rs(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ay=new WeakMap;function Bs(i,o){if(typeof i=="object"&&i!==null){var d=ay.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Ct(o)},ay.set(i,o),o)}return{value:i,source:o,stack:Ct(o)}}var Nc=[],Rc=0,Th=null,J0=0,Cs=[],bs=0,wo=null,cA=1,uA="";function QA(i,o){Nc[Rc++]=J0,Nc[Rc++]=Th,Th=i,J0=o}function iy(i,o,d){Cs[bs++]=cA,Cs[bs++]=uA,Cs[bs++]=wo,wo=i;var v=cA;i=uA;var _=32-nt(v)-1;v&=~(1<<_),d+=1;var N=32-nt(o)+_;if(30<N){var L=_-_%5;N=(v&(1<<L)-1).toString(32),v>>=L,_-=L,cA=1<<32-nt(o)+_|d<<_|v,uA=N+i}else cA=1<<N|d<<_|v,uA=i}function Ox(i){i.return!==null&&(QA(i,1),iy(i,1,0))}function kx(i){for(;i===Th;)Th=Nc[--Rc],Nc[Rc]=null,J0=Nc[--Rc],Nc[Rc]=null;for(;i===wo;)wo=Cs[--bs],Cs[bs]=null,uA=Cs[--bs],Cs[bs]=null,cA=Cs[--bs],Cs[bs]=null}function sy(i,o){Cs[bs++]=cA,Cs[bs++]=uA,Cs[bs++]=wo,cA=o.id,uA=o.overflow,wo=i}var Pa=null,vn=null,_r=!1,vo=null,_s=!1,Ux=Error(n(519));function yo(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $0(Bs(o,i)),Ux}function Ay(i){var o=i.stateNode,d=i.type,v=i.memoizedProps;switch(o[ce]=i,o[he]=v,d){case"dialog":pr("cancel",o),pr("close",o);break;case"iframe":case"object":case"embed":pr("load",o);break;case"video":case"audio":for(d=0;d<yu.length;d++)pr(yu[d],o);break;case"source":pr("error",o);break;case"img":case"image":case"link":pr("error",o),pr("load",o);break;case"details":pr("toggle",o);break;case"input":pr("invalid",o),Ue(o,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":pr("invalid",o);break;case"textarea":pr("invalid",o),Yn(o,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||v.suppressHydrationWarning===!0||CB(o.textContent,d)?(v.popover!=null&&(pr("beforetoggle",o),pr("toggle",o)),v.onScroll!=null&&pr("scroll",o),v.onScrollEnd!=null&&pr("scrollend",o),v.onClick!=null&&(o.onclick=On),o=!0):o=!1,o||yo(i,!0)}function oy(i){for(Pa=i.return;Pa;)switch(Pa.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:Pa=Pa.return}}function Dc(i){if(i!==Pa)return!1;if(!_r)return oy(i),_r=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||em(i.type,i.memoizedProps)),d=!d),d&&vn&&yo(i),oy(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));vn=DB(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));vn=DB(i)}else o===27?(o=vn,ko(i.type)?(i=im,im=null,vn=i):vn=o):vn=Pa?Ss(i.stateNode.nextSibling):null;return!0}function Fl(){vn=Pa=null,_r=!1}function Mx(){var i=vo;return i!==null&&(Hi===null?Hi=i:Hi.push.apply(Hi,i),vo=null),i}function $0(i){vo===null?vo=[i]:vo.push(i)}var Qx=Ae(null),Nl=null,LA=null;function Eo(i,o,d){pe(Qx,o._currentValue),o._currentValue=d}function PA(i){i._currentValue=Qx.current,q(Qx)}function Lx(i,o,d){for(;i!==null;){var v=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,v!==null&&(v.childLanes|=o)):v!==null&&(v.childLanes&o)!==o&&(v.childLanes|=o),i===d)break;i=i.return}}function Px(i,o,d,v){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var N=_.dependencies;if(N!==null){var L=_.child;N=N.firstContext;e:for(;N!==null;){var te=N;N=_;for(var Be=0;Be<o.length;Be++)if(te.context===o[Be]){N.lanes|=d,te=N.alternate,te!==null&&(te.lanes|=d),Lx(N.return,d,i),v||(L=null);break e}N=te.next}}else if(_.tag===18){if(L=_.return,L===null)throw Error(n(341));L.lanes|=d,N=L.alternate,N!==null&&(N.lanes|=d),Lx(L,d,i),L=null}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===i){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}}function Oc(i,o,d,v){i=null;for(var _=o,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var L=_.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var te=_.type;E(_.pendingProps.value,L.value)||(i!==null?i.push(te):i=[te])}}else if(_===ze.current){if(L=_.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(_u):i=[_u])}_=_.return}i!==null&&Px(o,i,d,v),o.flags|=262144}function Sh(i){for(i=i.firstContext;i!==null;){if(!E(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rl(i){Nl=i,LA=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ja(i){return ly(Nl,i)}function Ih(i,o){return Nl===null&&Rl(i),ly(i,o)}function ly(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},LA===null){if(i===null)throw Error(n(308));LA=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else LA=LA.next=o;return d}var u6=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,v){i.push(v)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},f6=t.unstable_scheduleCallback,h6=t.unstable_NormalPriority,ia={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jx(){return{controller:new u6,data:new Map,refCount:0}}function eu(i){i.refCount--,i.refCount===0&&f6(h6,function(){i.controller.abort()})}var tu=null,Hx=0,kc=0,Uc=null;function d6(i,o){if(tu===null){var d=tu=[];Hx=0,kc=Kp(),Uc={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Hx++,o.then(cy,cy),o}function cy(){if(--Hx===0&&tu!==null){Uc!==null&&(Uc.status="fulfilled");var i=tu;tu=null,kc=0,Uc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function g6(i,o){var d=[],v={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return i.then(function(){v.status="fulfilled",v.value=o;for(var _=0;_<d.length;_++)(0,d[_])(o)},function(_){for(v.status="rejected",v.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),v}var uy=ie.S;ie.S=function(i,o){WE=tr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&d6(i,o),uy!==null&&uy(i,o)};var Dl=Ae(null);function Vx(){var i=Dl.current;return i!==null?i:cn.pooledCache}function Fh(i,o){o===null?pe(Dl,Dl.current):pe(Dl,o.pool)}function fy(){var i=Vx();return i===null?null:{parent:ia._currentValue,pool:i}}var Mc=Error(n(460)),Gx=Error(n(474)),Nh=Error(n(542)),Rh={then:function(){}};function hy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dy(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(On,On),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xy(i),i;default:if(typeof o.status=="string")o.then(On,On);else{if(i=cn,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(v){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=v}},function(v){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=v}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,xy(i),i}throw kl=o,Mc}}function Ol(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(kl=d,Mc):d}}var kl=null;function gy(){if(kl===null)throw Error(n(459));var i=kl;return kl=null,i}function xy(i){if(i===Mc||i===Nh)throw Error(n(483))}var Qc=null,ru=0;function Dh(i){var o=ru;return ru+=1,Qc===null&&(Qc=[]),dy(Qc,i,o)}function nu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Oh(i,o){throw o.$$typeof===B?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function py(i){function o(Fe,Se){if(i){var Qe=Fe.deletions;Qe===null?(Fe.deletions=[Se],Fe.flags|=16):Qe.push(Se)}}function d(Fe,Se){if(!i)return null;for(;Se!==null;)o(Fe,Se),Se=Se.sibling;return null}function v(Fe){for(var Se=new Map;Fe!==null;)Fe.key!==null?Se.set(Fe.key,Fe):Se.set(Fe.index,Fe),Fe=Fe.sibling;return Se}function _(Fe,Se){return Fe=MA(Fe,Se),Fe.index=0,Fe.sibling=null,Fe}function N(Fe,Se,Qe){return Fe.index=Qe,i?(Qe=Fe.alternate,Qe!==null?(Qe=Qe.index,Qe<Se?(Fe.flags|=67108866,Se):Qe):(Fe.flags|=67108866,Se)):(Fe.flags|=1048576,Se)}function L(Fe){return i&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function te(Fe,Se,Qe,at){return Se===null||Se.tag!==6?(Se=Rx(Qe,Fe.mode,at),Se.return=Fe,Se):(Se=_(Se,Qe),Se.return=Fe,Se)}function Be(Fe,Se,Qe,at){var Kt=Qe.type;return Kt===F?tt(Fe,Se,Qe.props.children,at,Qe.key):Se!==null&&(Se.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===M&&Ol(Kt)===Se.type)?(Se=_(Se,Qe.props),nu(Se,Qe),Se.return=Fe,Se):(Se=_h(Qe.type,Qe.key,Qe.props,null,Fe.mode,at),nu(Se,Qe),Se.return=Fe,Se)}function Pe(Fe,Se,Qe,at){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Qe.containerInfo||Se.stateNode.implementation!==Qe.implementation?(Se=Dx(Qe,Fe.mode,at),Se.return=Fe,Se):(Se=_(Se,Qe.children||[]),Se.return=Fe,Se)}function tt(Fe,Se,Qe,at,Kt){return Se===null||Se.tag!==7?(Se=Il(Qe,Fe.mode,at,Kt),Se.return=Fe,Se):(Se=_(Se,Qe),Se.return=Fe,Se)}function it(Fe,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Rx(""+Se,Fe.mode,Qe),Se.return=Fe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case T:return Qe=_h(Se.type,Se.key,Se.props,null,Fe.mode,Qe),nu(Qe,Se),Qe.return=Fe,Qe;case S:return Se=Dx(Se,Fe.mode,Qe),Se.return=Fe,Se;case M:return Se=Ol(Se),it(Fe,Se,Qe)}if(xe(Se)||G(Se))return Se=Il(Se,Fe.mode,Qe,null),Se.return=Fe,Se;if(typeof Se.then=="function")return it(Fe,Dh(Se),Qe);if(Se.$$typeof===j)return it(Fe,Ih(Fe,Se),Qe);Oh(Fe,Se)}return null}function Ge(Fe,Se,Qe,at){var Kt=Se!==null?Se.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Kt!==null?null:te(Fe,Se,""+Qe,at);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case T:return Qe.key===Kt?Be(Fe,Se,Qe,at):null;case S:return Qe.key===Kt?Pe(Fe,Se,Qe,at):null;case M:return Qe=Ol(Qe),Ge(Fe,Se,Qe,at)}if(xe(Qe)||G(Qe))return Kt!==null?null:tt(Fe,Se,Qe,at,null);if(typeof Qe.then=="function")return Ge(Fe,Se,Dh(Qe),at);if(Qe.$$typeof===j)return Ge(Fe,Se,Ih(Fe,Qe),at);Oh(Fe,Qe)}return null}function Ye(Fe,Se,Qe,at,Kt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Fe=Fe.get(Qe)||null,te(Se,Fe,""+at,Kt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case T:return Fe=Fe.get(at.key===null?Qe:at.key)||null,Be(Se,Fe,at,Kt);case S:return Fe=Fe.get(at.key===null?Qe:at.key)||null,Pe(Se,Fe,at,Kt);case M:return at=Ol(at),Ye(Fe,Se,Qe,at,Kt)}if(xe(at)||G(at))return Fe=Fe.get(Qe)||null,tt(Se,Fe,at,Kt,null);if(typeof at.then=="function")return Ye(Fe,Se,Qe,Dh(at),Kt);if(at.$$typeof===j)return Ye(Fe,Se,Qe,Ih(Se,at),Kt);Oh(Se,at)}return null}function Dt(Fe,Se,Qe,at){for(var Kt=null,Pr=null,Qt=Se,hr=Se=0,yr=null;Qt!==null&&hr<Qe.length;hr++){Qt.index>hr?(yr=Qt,Qt=null):yr=Qt.sibling;var jr=Ge(Fe,Qt,Qe[hr],at);if(jr===null){Qt===null&&(Qt=yr);break}i&&Qt&&jr.alternate===null&&o(Fe,Qt),Se=N(jr,Se,hr),Pr===null?Kt=jr:Pr.sibling=jr,Pr=jr,Qt=yr}if(hr===Qe.length)return d(Fe,Qt),_r&&QA(Fe,hr),Kt;if(Qt===null){for(;hr<Qe.length;hr++)Qt=it(Fe,Qe[hr],at),Qt!==null&&(Se=N(Qt,Se,hr),Pr===null?Kt=Qt:Pr.sibling=Qt,Pr=Qt);return _r&&QA(Fe,hr),Kt}for(Qt=v(Qt);hr<Qe.length;hr++)yr=Ye(Qt,Fe,hr,Qe[hr],at),yr!==null&&(i&&yr.alternate!==null&&Qt.delete(yr.key===null?hr:yr.key),Se=N(yr,Se,hr),Pr===null?Kt=yr:Pr.sibling=yr,Pr=yr);return i&&Qt.forEach(function(Po){return o(Fe,Po)}),_r&&QA(Fe,hr),Kt}function Wt(Fe,Se,Qe,at){if(Qe==null)throw Error(n(151));for(var Kt=null,Pr=null,Qt=Se,hr=Se=0,yr=null,jr=Qe.next();Qt!==null&&!jr.done;hr++,jr=Qe.next()){Qt.index>hr?(yr=Qt,Qt=null):yr=Qt.sibling;var Po=Ge(Fe,Qt,jr.value,at);if(Po===null){Qt===null&&(Qt=yr);break}i&&Qt&&Po.alternate===null&&o(Fe,Qt),Se=N(Po,Se,hr),Pr===null?Kt=Po:Pr.sibling=Po,Pr=Po,Qt=yr}if(jr.done)return d(Fe,Qt),_r&&QA(Fe,hr),Kt;if(Qt===null){for(;!jr.done;hr++,jr=Qe.next())jr=it(Fe,jr.value,at),jr!==null&&(Se=N(jr,Se,hr),Pr===null?Kt=jr:Pr.sibling=jr,Pr=jr);return _r&&QA(Fe,hr),Kt}for(Qt=v(Qt);!jr.done;hr++,jr=Qe.next())jr=Ye(Qt,Fe,hr,jr.value,at),jr!==null&&(i&&jr.alternate!==null&&Qt.delete(jr.key===null?hr:jr.key),Se=N(jr,Se,hr),Pr===null?Kt=jr:Pr.sibling=jr,Pr=jr);return i&&Qt.forEach(function(_N){return o(Fe,_N)}),_r&&QA(Fe,hr),Kt}function sn(Fe,Se,Qe,at){if(typeof Qe=="object"&&Qe!==null&&Qe.type===F&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case T:e:{for(var Kt=Qe.key;Se!==null;){if(Se.key===Kt){if(Kt=Qe.type,Kt===F){if(Se.tag===7){d(Fe,Se.sibling),at=_(Se,Qe.props.children),at.return=Fe,Fe=at;break e}}else if(Se.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===M&&Ol(Kt)===Se.type){d(Fe,Se.sibling),at=_(Se,Qe.props),nu(at,Qe),at.return=Fe,Fe=at;break e}d(Fe,Se);break}else o(Fe,Se);Se=Se.sibling}Qe.type===F?(at=Il(Qe.props.children,Fe.mode,at,Qe.key),at.return=Fe,Fe=at):(at=_h(Qe.type,Qe.key,Qe.props,null,Fe.mode,at),nu(at,Qe),at.return=Fe,Fe=at)}return L(Fe);case S:e:{for(Kt=Qe.key;Se!==null;){if(Se.key===Kt)if(Se.tag===4&&Se.stateNode.containerInfo===Qe.containerInfo&&Se.stateNode.implementation===Qe.implementation){d(Fe,Se.sibling),at=_(Se,Qe.children||[]),at.return=Fe,Fe=at;break e}else{d(Fe,Se);break}else o(Fe,Se);Se=Se.sibling}at=Dx(Qe,Fe.mode,at),at.return=Fe,Fe=at}return L(Fe);case M:return Qe=Ol(Qe),sn(Fe,Se,Qe,at)}if(xe(Qe))return Dt(Fe,Se,Qe,at);if(G(Qe)){if(Kt=G(Qe),typeof Kt!="function")throw Error(n(150));return Qe=Kt.call(Qe),Wt(Fe,Se,Qe,at)}if(typeof Qe.then=="function")return sn(Fe,Se,Dh(Qe),at);if(Qe.$$typeof===j)return sn(Fe,Se,Ih(Fe,Qe),at);Oh(Fe,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Se!==null&&Se.tag===6?(d(Fe,Se.sibling),at=_(Se,Qe),at.return=Fe,Fe=at):(d(Fe,Se),at=Rx(Qe,Fe.mode,at),at.return=Fe,Fe=at),L(Fe)):d(Fe,Se)}return function(Fe,Se,Qe,at){try{ru=0;var Kt=sn(Fe,Se,Qe,at);return Qc=null,Kt}catch(Qt){if(Qt===Mc||Qt===Nh)throw Qt;var Pr=rs(29,Qt,null,Fe.mode);return Pr.lanes=at,Pr.return=Fe,Pr}finally{}}}var Ul=py(!0),my=py(!1),Bo=!1;function Kx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Co(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bo(i,o,d){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Kr&2)!==0){var _=v.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),v.pending=o,o=bh(i),ty(i,null,d),o}return Ch(i,v,o,d),bh(i)}function au(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var v=o.lanes;v&=i.pendingLanes,d|=v,o.lanes=d,mn(i,d)}}function Xx(i,o){var d=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var _=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?_=N=L:N=N.next=L,d=d.next}while(d!==null);N===null?_=N=o:N=N.next=o}else _=N=o;d={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:v.shared,callbacks:v.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Wx=!1;function iu(){if(Wx){var i=Uc;if(i!==null)throw i}}function su(i,o,d,v){Wx=!1;var _=i.updateQueue;Bo=!1;var N=_.firstBaseUpdate,L=_.lastBaseUpdate,te=_.shared.pending;if(te!==null){_.shared.pending=null;var Be=te,Pe=Be.next;Be.next=null,L===null?N=Pe:L.next=Pe,L=Be;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,te=tt.lastBaseUpdate,te!==L&&(te===null?tt.firstBaseUpdate=Pe:te.next=Pe,tt.lastBaseUpdate=Be))}if(N!==null){var it=_.baseState;L=0,tt=Pe=Be=null,te=N;do{var Ge=te.lane&-536870913,Ye=Ge!==te.lane;if(Ye?(vr&Ge)===Ge:(v&Ge)===Ge){Ge!==0&&Ge===kc&&(Wx=!0),tt!==null&&(tt=tt.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Dt=i,Wt=te;Ge=o;var sn=d;switch(Wt.tag){case 1:if(Dt=Wt.payload,typeof Dt=="function"){it=Dt.call(sn,it,Ge);break e}it=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Wt.payload,Ge=typeof Dt=="function"?Dt.call(sn,it,Ge):Dt,Ge==null)break e;it=y({},it,Ge);break e;case 2:Bo=!0}}Ge=te.callback,Ge!==null&&(i.flags|=64,Ye&&(i.flags|=8192),Ye=_.callbacks,Ye===null?_.callbacks=[Ge]:Ye.push(Ge))}else Ye={lane:Ge,tag:te.tag,payload:te.payload,callback:te.callback,next:null},tt===null?(Pe=tt=Ye,Be=it):tt=tt.next=Ye,L|=Ge;if(te=te.next,te===null){if(te=_.shared.pending,te===null)break;Ye=te,te=Ye.next,Ye.next=null,_.lastBaseUpdate=Ye,_.shared.pending=null}}while(!0);tt===null&&(Be=it),_.baseState=Be,_.firstBaseUpdate=Pe,_.lastBaseUpdate=tt,N===null&&(_.shared.lanes=0),Fo|=L,i.lanes=L,i.memoizedState=it}}function wy(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function vy(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)wy(d[i],o)}var Lc=Ae(null),kh=Ae(0);function yy(i,o){i=YA,pe(kh,i),pe(Lc,o),YA=i|o.baseLanes}function Yx(){pe(kh,YA),pe(Lc,Lc.current)}function qx(){YA=kh.current,q(Lc),q(kh)}var ns=Ae(null),Ts=null;function _o(i){var o=i.alternate;pe(Jn,Jn.current&1),pe(ns,i),Ts===null&&(o===null||Lc.current!==null||o.memoizedState!==null)&&(Ts=i)}function Zx(i){pe(Jn,Jn.current),pe(ns,i),Ts===null&&(Ts=i)}function Ey(i){i.tag===22?(pe(Jn,Jn.current),pe(ns,i),Ts===null&&(Ts=i)):To()}function To(){pe(Jn,Jn.current),pe(ns,ns.current)}function as(i){q(ns),Ts===i&&(Ts=null),q(Jn)}var Jn=Ae(0);function Uh(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||nm(d)||am(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jA=0,cr=null,nn=null,sa=null,Mh=!1,Pc=!1,Ml=!1,Qh=0,Au=0,jc=null,x6=0;function Hn(){throw Error(n(321))}function Jx(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!E(i[d],o[d]))return!1;return!0}function $x(i,o,d,v,_,N){return jA=N,cr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ie.H=i===null||i.memoizedState===null?iE:dp,Ml=!1,N=d(v,_),Ml=!1,Pc&&(N=Cy(o,d,v,_)),By(i),N}function By(i){ie.H=cu;var o=nn!==null&&nn.next!==null;if(jA=0,sa=nn=cr=null,Mh=!1,Au=0,jc=null,o)throw Error(n(300));i===null||Aa||(i=i.dependencies,i!==null&&Sh(i)&&(Aa=!0))}function Cy(i,o,d,v){cr=i;var _=0;do{if(Pc&&(jc=null),Au=0,Pc=!1,25<=_)throw Error(n(301));if(_+=1,sa=nn=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ie.H=sE,N=o(d,v)}while(Pc);return N}function p6(){var i=ie.H,o=i.useState()[0];return o=typeof o.then=="function"?ou(o):o,i=i.useState()[0],(nn!==null?nn.memoizedState:null)!==i&&(cr.flags|=1024),o}function ep(){var i=Qh!==0;return Qh=0,i}function tp(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function rp(i){if(Mh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Mh=!1}jA=0,sa=nn=cr=null,Pc=!1,Au=Qh=0,jc=null}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?cr.memoizedState=sa=i:sa=sa.next=i,sa}function $n(){if(nn===null){var i=cr.alternate;i=i!==null?i.memoizedState:null}else i=nn.next;var o=sa===null?cr.memoizedState:sa.next;if(o!==null)sa=o,nn=i;else{if(i===null)throw cr.alternate===null?Error(n(467)):Error(n(310));nn=i,i={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},sa===null?cr.memoizedState=sa=i:sa=sa.next=i}return sa}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var o=Au;return Au+=1,jc===null&&(jc=[]),i=dy(jc,i,o),o=cr,(sa===null?o.memoizedState:sa.next)===null&&(o=o.alternate,ie.H=o===null||o.memoizedState===null?iE:dp),i}function Ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===j)return ja(i)}throw Error(n(438,String(i)))}function np(i){var o=null,d=cr.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var v=cr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(o={data:v.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Lh(),cr.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),v=0;v<i;v++)d[v]=Z;return o.index++,d}function HA(i,o){return typeof o=="function"?o(i):o}function jh(i){var o=$n();return ap(o,nn,i)}function ap(i,o,d){var v=i.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var _=i.baseQueue,N=v.pending;if(N!==null){if(_!==null){var L=_.next;_.next=N.next,N.next=L}o.baseQueue=_=N,v.pending=null}if(N=i.baseState,_===null)i.memoizedState=N;else{o=_.next;var te=L=null,Be=null,Pe=o,tt=!1;do{var it=Pe.lane&-536870913;if(it!==Pe.lane?(vr&it)===it:(jA&it)===it){var Ge=Pe.revertLane;if(Ge===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),it===kc&&(tt=!0);else if((jA&Ge)===Ge){Pe=Pe.next,Ge===kc&&(tt=!0);continue}else it={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},Be===null?(te=Be=it,L=N):Be=Be.next=it,cr.lanes|=Ge,Fo|=Ge;it=Pe.action,Ml&&d(N,it),N=Pe.hasEagerState?Pe.eagerState:d(N,it)}else Ge={lane:it,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},Be===null?(te=Be=Ge,L=N):Be=Be.next=Ge,cr.lanes|=it,Fo|=it;Pe=Pe.next}while(Pe!==null&&Pe!==o);if(Be===null?L=N:Be.next=te,!E(N,i.memoizedState)&&(Aa=!0,tt&&(d=Uc,d!==null)))throw d;i.memoizedState=N,i.baseState=L,i.baseQueue=Be,v.lastRenderedState=N}return _===null&&(v.lanes=0),[i.memoizedState,v.dispatch]}function ip(i){var o=$n(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var v=d.dispatch,_=d.pending,N=o.memoizedState;if(_!==null){d.pending=null;var L=_=_.next;do N=i(N,L.action),L=L.next;while(L!==_);E(N,o.memoizedState)||(Aa=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,v]}function by(i,o,d){var v=cr,_=$n(),N=_r;if(N){if(d===void 0)throw Error(n(407));d=d()}else d=o();var L=!E((nn||_).memoizedState,d);if(L&&(_.memoizedState=d,Aa=!0),_=_.queue,op(Sy.bind(null,v,_,i),[i]),_.getSnapshot!==o||L||sa!==null&&sa.memoizedState.tag&1){if(v.flags|=2048,Hc(9,{destroy:void 0},Ty.bind(null,v,_,d,o),null),cn===null)throw Error(n(349));N||(jA&127)!==0||_y(v,o,d)}return d}function _y(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=cr.updateQueue,o===null?(o=Lh(),cr.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function Ty(i,o,d,v){o.value=d,o.getSnapshot=v,Iy(o)&&Fy(i)}function Sy(i,o,d){return d(function(){Iy(o)&&Fy(i)})}function Iy(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!E(i,d)}catch{return!0}}function Fy(i){var o=Sl(i,2);o!==null&&Vi(o,i,2)}function sp(i){var o=mi();if(typeof i=="function"){var d=i;if(i=d(),Ml){Le(!0);try{d()}finally{Le(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HA,lastRenderedState:i},o}function Ny(i,o,d,v){return i.baseState=d,ap(i,nn,typeof v=="function"?v:HA)}function m6(i,o,d,v,_){if(Gh(i))throw Error(n(485));if(i=o.action,i!==null){var N={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){N.listeners.push(L)}};ie.T!==null?d(!0):N.isTransition=!1,v(N),d=o.pending,d===null?(N.next=o.pending=N,Ry(o,N)):(N.next=d.next,o.pending=d.next=N)}}function Ry(i,o){var d=o.action,v=o.payload,_=i.state;if(o.isTransition){var N=ie.T,L={};ie.T=L;try{var te=d(_,v),Be=ie.S;Be!==null&&Be(L,te),Dy(i,o,te)}catch(Pe){Ap(i,o,Pe)}finally{N!==null&&L.types!==null&&(N.types=L.types),ie.T=N}}else try{N=d(_,v),Dy(i,o,N)}catch(Pe){Ap(i,o,Pe)}}function Dy(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){Oy(i,o,v)},function(v){return Ap(i,o,v)}):Oy(i,o,d)}function Oy(i,o,d){o.status="fulfilled",o.value=d,ky(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,Ry(i,d)))}function Ap(i,o,d){var v=i.pending;if(i.pending=null,v!==null){v=v.next;do o.status="rejected",o.reason=d,ky(o),o=o.next;while(o!==v)}i.action=null}function ky(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Uy(i,o){return o}function My(i,o){if(_r){var d=cn.formState;if(d!==null){e:{var v=cr;if(_r){if(vn){t:{for(var _=vn,N=_s;_.nodeType!==8;){if(!N){_=null;break t}if(_=Ss(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){vn=Ss(_.nextSibling),v=_.data==="F!";break e}}yo(v)}v=!1}v&&(o=d[0])}}return d=mi(),d.memoizedState=d.baseState=o,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:o},d.queue=v,d=rE.bind(null,cr,v),v.dispatch=d,v=sp(!1),N=hp.bind(null,cr,!1,v.queue),v=mi(),_={state:o,dispatch:null,action:i,pending:null},v.queue=_,d=m6.bind(null,cr,_,N,d),_.dispatch=d,v.memoizedState=i,[o,d,!1]}function Qy(i){var o=$n();return Ly(o,nn,i)}function Ly(i,o,d){if(o=ap(i,o,Uy)[0],i=jh(HA)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var v=ou(o)}catch(L){throw L===Mc?Nh:L}else v=o;o=$n();var _=o.queue,N=_.dispatch;return d!==o.memoizedState&&(cr.flags|=2048,Hc(9,{destroy:void 0},w6.bind(null,_,d),null)),[v,N,i]}function w6(i,o){i.action=o}function Py(i){var o=$n(),d=nn;if(d!==null)return Ly(o,d,i);$n(),o=o.memoizedState,d=$n();var v=d.queue.dispatch;return d.memoizedState=i,[o,v,!1]}function Hc(i,o,d,v){return i={tag:i,create:d,deps:v,inst:o,next:null},o=cr.updateQueue,o===null&&(o=Lh(),cr.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(v=d.next,d.next=i,i.next=v,o.lastEffect=i),i}function jy(){return $n().memoizedState}function Hh(i,o,d,v){var _=mi();cr.flags|=i,_.memoizedState=Hc(1|o,{destroy:void 0},d,v===void 0?null:v)}function Vh(i,o,d,v){var _=$n();v=v===void 0?null:v;var N=_.memoizedState.inst;nn!==null&&v!==null&&Jx(v,nn.memoizedState.deps)?_.memoizedState=Hc(o,N,d,v):(cr.flags|=i,_.memoizedState=Hc(1|o,N,d,v))}function Hy(i,o){Hh(8390656,8,i,o)}function op(i,o){Vh(2048,8,i,o)}function v6(i){cr.flags|=4;var o=cr.updateQueue;if(o===null)o=Lh(),cr.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function Vy(i){var o=$n().memoizedState;return v6({ref:o,nextImpl:i}),function(){if((Kr&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function Gy(i,o){return Vh(4,2,i,o)}function Ky(i,o){return Vh(4,4,i,o)}function zy(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Xy(i,o,d){d=d!=null?d.concat([i]):null,Vh(4,4,zy.bind(null,o,i),d)}function lp(){}function Wy(i,o){var d=$n();o=o===void 0?null:o;var v=d.memoizedState;return o!==null&&Jx(o,v[1])?v[0]:(d.memoizedState=[i,o],i)}function Yy(i,o){var d=$n();o=o===void 0?null:o;var v=d.memoizedState;if(o!==null&&Jx(o,v[1]))return v[0];if(v=i(),Ml){Le(!0);try{i()}finally{Le(!1)}}return d.memoizedState=[v,o],v}function cp(i,o,d){return d===void 0||(jA&1073741824)!==0&&(vr&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=qE(),cr.lanes|=i,Fo|=i,d)}function qy(i,o,d,v){return E(d,o)?d:Lc.current!==null?(i=cp(i,d,v),E(i,o)||(Aa=!0),i):(jA&42)===0||(jA&1073741824)!==0&&(vr&261930)===0?(Aa=!0,i.memoizedState=d):(i=qE(),cr.lanes|=i,Fo|=i,o)}function Zy(i,o,d,v,_){var N=ue.p;ue.p=N!==0&&8>N?N:8;var L=ie.T,te={};ie.T=te,hp(i,!1,o,d);try{var Be=_(),Pe=ie.S;if(Pe!==null&&Pe(te,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var tt=g6(Be,v);lu(i,o,tt,As(i))}else lu(i,o,v,As(i))}catch(it){lu(i,o,{then:function(){},status:"rejected",reason:it},As())}finally{ue.p=N,L!==null&&te.types!==null&&(L.types=te.types),ie.T=L}}function y6(){}function up(i,o,d,v){if(i.tag!==5)throw Error(n(476));var _=Jy(i).queue;Zy(i,_,o,Ve,d===null?y6:function(){return $y(i),d(v)})}function Jy(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:HA,lastRenderedState:Ve},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:HA,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function $y(i){var o=Jy(i);o.next===null&&(o=i.alternate.memoizedState),lu(i,o.next.queue,{},As())}function fp(){return ja(_u)}function eE(){return $n().memoizedState}function tE(){return $n().memoizedState}function E6(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=As();i=Co(d);var v=bo(o,i,d);v!==null&&(Vi(v,o,d),au(v,o,d)),o={cache:jx()},i.payload=o;return}o=o.return}}function B6(i,o,d){var v=As();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Gh(i)?nE(o,d):(d=Fx(i,o,d,v),d!==null&&(Vi(d,i,v),aE(d,o,v)))}function rE(i,o,d){var v=As();lu(i,o,d,v)}function lu(i,o,d,v){var _={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Gh(i))nE(o,_);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var L=o.lastRenderedState,te=N(L,d);if(_.hasEagerState=!0,_.eagerState=te,E(te,L))return Ch(i,o,_,0),cn===null&&Bh(),!1}catch{}finally{}if(d=Fx(i,o,_,v),d!==null)return Vi(d,i,v),aE(d,o,v),!0}return!1}function hp(i,o,d,v){if(v={lane:2,revertLane:Kp(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Gh(i)){if(o)throw Error(n(479))}else o=Fx(i,d,v,2),o!==null&&Vi(o,i,2)}function Gh(i){var o=i.alternate;return i===cr||o!==null&&o===cr}function nE(i,o){Pc=Mh=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function aE(i,o,d){if((d&4194048)!==0){var v=o.lanes;v&=i.pendingLanes,d|=v,o.lanes=d,mn(i,d)}}var cu={readContext:ja,use:Ph,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};cu.useEffectEvent=Hn;var iE={readContext:ja,use:Ph,useCallback:function(i,o){return mi().memoizedState=[i,o===void 0?null:o],i},useContext:ja,useEffect:Hy,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Hh(4194308,4,zy.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Hh(4194308,4,i,o)},useInsertionEffect:function(i,o){Hh(4,2,i,o)},useMemo:function(i,o){var d=mi();o=o===void 0?null:o;var v=i();if(Ml){Le(!0);try{i()}finally{Le(!1)}}return d.memoizedState=[v,o],v},useReducer:function(i,o,d){var v=mi();if(d!==void 0){var _=d(o);if(Ml){Le(!0);try{d(o)}finally{Le(!1)}}}else _=o;return v.memoizedState=v.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},v.queue=i,i=i.dispatch=B6.bind(null,cr,i),[v.memoizedState,i]},useRef:function(i){var o=mi();return i={current:i},o.memoizedState=i},useState:function(i){i=sp(i);var o=i.queue,d=rE.bind(null,cr,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:lp,useDeferredValue:function(i,o){var d=mi();return cp(d,i,o)},useTransition:function(){var i=sp(!1);return i=Zy.bind(null,cr,i.queue,!0,!1),mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var v=cr,_=mi();if(_r){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),cn===null)throw Error(n(349));(vr&127)!==0||_y(v,o,d)}_.memoizedState=d;var N={value:d,getSnapshot:o};return _.queue=N,Hy(Sy.bind(null,v,N,i),[i]),v.flags|=2048,Hc(9,{destroy:void 0},Ty.bind(null,v,N,d,o),null),d},useId:function(){var i=mi(),o=cn.identifierPrefix;if(_r){var d=uA,v=cA;d=(v&~(1<<32-nt(v)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Qh++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=x6++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:fp,useFormState:My,useActionState:My,useOptimistic:function(i){var o=mi();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=hp.bind(null,cr,!0,d),d.dispatch=o,[i,o]},useMemoCache:np,useCacheRefresh:function(){return mi().memoizedState=E6.bind(null,cr)},useEffectEvent:function(i){var o=mi(),d={impl:i};return o.memoizedState=d,function(){if((Kr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},dp={readContext:ja,use:Ph,useCallback:Wy,useContext:ja,useEffect:op,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Yy,useReducer:jh,useRef:jy,useState:function(){return jh(HA)},useDebugValue:lp,useDeferredValue:function(i,o){var d=$n();return qy(d,nn.memoizedState,i,o)},useTransition:function(){var i=jh(HA)[0],o=$n().memoizedState;return[typeof i=="boolean"?i:ou(i),o]},useSyncExternalStore:by,useId:eE,useHostTransitionStatus:fp,useFormState:Qy,useActionState:Qy,useOptimistic:function(i,o){var d=$n();return Ny(d,nn,i,o)},useMemoCache:np,useCacheRefresh:tE};dp.useEffectEvent=Vy;var sE={readContext:ja,use:Ph,useCallback:Wy,useContext:ja,useEffect:op,useImperativeHandle:Xy,useInsertionEffect:Gy,useLayoutEffect:Ky,useMemo:Yy,useReducer:ip,useRef:jy,useState:function(){return ip(HA)},useDebugValue:lp,useDeferredValue:function(i,o){var d=$n();return nn===null?cp(d,i,o):qy(d,nn.memoizedState,i,o)},useTransition:function(){var i=ip(HA)[0],o=$n().memoizedState;return[typeof i=="boolean"?i:ou(i),o]},useSyncExternalStore:by,useId:eE,useHostTransitionStatus:fp,useFormState:Py,useActionState:Py,useOptimistic:function(i,o){var d=$n();return nn!==null?Ny(d,nn,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:np,useCacheRefresh:tE};sE.useEffectEvent=Vy;function gp(i,o,d,v){o=i.memoizedState,d=d(v,o),d=d==null?o:y({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var xp={enqueueSetState:function(i,o,d){i=i._reactInternals;var v=As(),_=Co(v);_.payload=o,d!=null&&(_.callback=d),o=bo(i,_,v),o!==null&&(Vi(o,i,v),au(o,i,v))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var v=As(),_=Co(v);_.tag=1,_.payload=o,d!=null&&(_.callback=d),o=bo(i,_,v),o!==null&&(Vi(o,i,v),au(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=As(),v=Co(d);v.tag=2,o!=null&&(v.callback=o),o=bo(i,v,d),o!==null&&(Vi(o,i,d),au(o,i,d))}};function AE(i,o,d,v,_,N,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,N,L):o.prototype&&o.prototype.isPureReactComponent?!C(d,v)||!C(_,N):!0}function oE(i,o,d,v){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,v),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,v),o.state!==i&&xp.enqueueReplaceState(o,o.state,null)}function Ql(i,o){var d=o;if("ref"in o){d={};for(var v in o)v!=="ref"&&(d[v]=o[v])}if(i=i.defaultProps){d===o&&(d=y({},d));for(var _ in i)d[_]===void 0&&(d[_]=i[_])}return d}function lE(i){Eh(i)}function cE(i){console.error(i)}function uE(i){Eh(i)}function Kh(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(v){setTimeout(function(){throw v})}}function fE(i,o,d){try{var v=i.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function pp(i,o,d){return d=Co(d),d.tag=3,d.payload={element:null},d.callback=function(){Kh(i,o)},d}function hE(i){return i=Co(i),i.tag=3,i}function dE(i,o,d,v){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var N=v.value;i.payload=function(){return _(N)},i.callback=function(){fE(o,d,v)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){fE(o,d,v),typeof _!="function"&&(No===null?No=new Set([this]):No.add(this));var te=v.stack;this.componentDidCatch(v.value,{componentStack:te!==null?te:""})})}function C6(i,o,d,v,_){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(o=d.alternate,o!==null&&Oc(o,d,_,!0),d=ns.current,d!==null){switch(d.tag){case 31:case 13:return Ts===null?nd():d.alternate===null&&Vn===0&&(Vn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,v===Rh?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([v]):o.add(v),Hp(i,v,_)),!1;case 22:return d.flags|=65536,v===Rh?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([v]):d.add(v)),Hp(i,v,_)),!1}throw Error(n(435,d.tag))}return Hp(i,v,_),nd(),!1}if(_r)return o=ns.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,v!==Ux&&(i=Error(n(422),{cause:v}),$0(Bs(i,d)))):(v!==Ux&&(o=Error(n(423),{cause:v}),$0(Bs(o,d))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,v=Bs(v,d),_=pp(i.stateNode,v,_),Xx(i,_),Vn!==4&&(Vn=2)),!1;var N=Error(n(520),{cause:v});if(N=Bs(N,d),mu===null?mu=[N]:mu.push(N),Vn!==4&&(Vn=2),o===null)return!0;v=Bs(v,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=_&-_,d.lanes|=i,i=pp(d.stateNode,v,i),Xx(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(No===null||!No.has(N))))return d.flags|=65536,_&=-_,d.lanes|=_,_=hE(_),dE(_,i,d,v),Xx(d,_),!1}d=d.return}while(d!==null);return!1}var mp=Error(n(461)),Aa=!1;function Ha(i,o,d,v){o.child=i===null?my(o,null,d,v):Ul(o,i.child,d,v)}function gE(i,o,d,v,_){d=d.render;var N=o.ref;if("ref"in v){var L={};for(var te in v)te!=="ref"&&(L[te]=v[te])}else L=v;return Rl(o),v=$x(i,o,d,L,N,_),te=ep(),i!==null&&!Aa?(tp(i,o,_),VA(i,o,_)):(_r&&te&&Ox(o),o.flags|=1,Ha(i,o,v,_),o.child)}function xE(i,o,d,v,_){if(i===null){var N=d.type;return typeof N=="function"&&!Nx(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,pE(i,o,N,v,_)):(i=_h(d.type,null,v,o,o.mode,_),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!_p(i,_)){var L=N.memoizedProps;if(d=d.compare,d=d!==null?d:C,d(L,v)&&i.ref===o.ref)return VA(i,o,_)}return o.flags|=1,i=MA(N,v),i.ref=o.ref,i.return=o,o.child=i}function pE(i,o,d,v,_){if(i!==null){var N=i.memoizedProps;if(C(N,v)&&i.ref===o.ref)if(Aa=!1,o.pendingProps=v=N,_p(i,_))(i.flags&131072)!==0&&(Aa=!0);else return o.lanes=i.lanes,VA(i,o,_)}return wp(i,o,d,v,_)}function mE(i,o,d,v){var _=v.children,N=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((o.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(v=o.child=i.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;v=_&~N}else v=0,o.child=null;return wE(i,o,N,d,v)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Fh(o,N!==null?N.cachePool:null),N!==null?yy(o,N):Yx(),Ey(o);else return v=o.lanes=536870912,wE(i,o,N!==null?N.baseLanes|d:d,d,v)}else N!==null?(Fh(o,N.cachePool),yy(o,N),To(),o.memoizedState=null):(i!==null&&Fh(o,null),Yx(),To());return Ha(i,o,_,d),o.child}function uu(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function wE(i,o,d,v,_){var N=Vx();return N=N===null?null:{parent:ia._currentValue,pool:N},o.memoizedState={baseLanes:d,cachePool:N},i!==null&&Fh(o,null),Yx(),Ey(o),i!==null&&Oc(i,o,v,!0),o.childLanes=_,null}function zh(i,o){return o=Wh({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function vE(i,o,d){return Ul(o,i.child,null,d),i=zh(o,o.pendingProps),i.flags|=2,as(o),o.memoizedState=null,i}function b6(i,o,d){var v=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(_r){if(v.mode==="hidden")return i=zh(o,v),o.lanes=536870912,uu(null,i);if(Zx(o),(i=vn)?(i=RB(i,_s),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:wo!==null?{id:cA,overflow:uA}:null,retryLane:536870912,hydrationErrors:null},d=ny(i),d.return=o,o.child=d,Pa=o,vn=null)):i=null,i===null)throw yo(o);return o.lanes=536870912,null}return zh(o,v)}var N=i.memoizedState;if(N!==null){var L=N.dehydrated;if(Zx(o),_)if(o.flags&256)o.flags&=-257,o=vE(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Aa||Oc(i,o,d,!1),_=(d&i.childLanes)!==0,Aa||_){if(v=cn,v!==null&&(L=Oa(v,d),L!==0&&L!==N.retryLane))throw N.retryLane=L,Sl(i,L),Vi(v,i,L),mp;nd(),o=vE(i,o,d)}else i=N.treeContext,vn=Ss(L.nextSibling),Pa=o,_r=!0,vo=null,_s=!1,i!==null&&sy(o,i),o=zh(o,v),o.flags|=4096;return o}return i=MA(i.child,{mode:v.mode,children:v.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Xh(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function wp(i,o,d,v,_){return Rl(o),d=$x(i,o,d,v,void 0,_),v=ep(),i!==null&&!Aa?(tp(i,o,_),VA(i,o,_)):(_r&&v&&Ox(o),o.flags|=1,Ha(i,o,d,_),o.child)}function yE(i,o,d,v,_,N){return Rl(o),o.updateQueue=null,d=Cy(o,v,d,_),By(i),v=ep(),i!==null&&!Aa?(tp(i,o,N),VA(i,o,N)):(_r&&v&&Ox(o),o.flags|=1,Ha(i,o,d,N),o.child)}function EE(i,o,d,v,_){if(Rl(o),o.stateNode===null){var N=Fc,L=d.contextType;typeof L=="object"&&L!==null&&(N=ja(L)),N=new d(v,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=xp,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=v,N.state=o.memoizedState,N.refs={},Kx(o),L=d.contextType,N.context=typeof L=="object"&&L!==null?ja(L):Fc,N.state=o.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(gp(o,d,L,v),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(L=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),L!==N.state&&xp.enqueueReplaceState(N,N.state,null),su(o,v,N,_),iu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),v=!0}else if(i===null){N=o.stateNode;var te=o.memoizedProps,Be=Ql(d,te);N.props=Be;var Pe=N.context,tt=d.contextType;L=Fc,typeof tt=="object"&&tt!==null&&(L=ja(tt));var it=d.getDerivedStateFromProps;tt=typeof it=="function"||typeof N.getSnapshotBeforeUpdate=="function",te=o.pendingProps!==te,tt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(te||Pe!==L)&&oE(o,N,v,L),Bo=!1;var Ge=o.memoizedState;N.state=Ge,su(o,v,N,_),iu(),Pe=o.memoizedState,te||Ge!==Pe||Bo?(typeof it=="function"&&(gp(o,d,it,v),Pe=o.memoizedState),(Be=Bo||AE(o,d,Be,v,Ge,Pe,L))?(tt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=v,o.memoizedState=Pe),N.props=v,N.state=Pe,N.context=L,v=Be):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),v=!1)}else{N=o.stateNode,zx(i,o),L=o.memoizedProps,tt=Ql(d,L),N.props=tt,it=o.pendingProps,Ge=N.context,Pe=d.contextType,Be=Fc,typeof Pe=="object"&&Pe!==null&&(Be=ja(Pe)),te=d.getDerivedStateFromProps,(Pe=typeof te=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(L!==it||Ge!==Be)&&oE(o,N,v,Be),Bo=!1,Ge=o.memoizedState,N.state=Ge,su(o,v,N,_),iu();var Ye=o.memoizedState;L!==it||Ge!==Ye||Bo||i!==null&&i.dependencies!==null&&Sh(i.dependencies)?(typeof te=="function"&&(gp(o,d,te,v),Ye=o.memoizedState),(tt=Bo||AE(o,d,tt,v,Ge,Ye,Be)||i!==null&&i.dependencies!==null&&Sh(i.dependencies))?(Pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(v,Ye,Be),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(v,Ye,Be)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||L===i.memoizedProps&&Ge===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Ge===i.memoizedState||(o.flags|=1024),o.memoizedProps=v,o.memoizedState=Ye),N.props=v,N.state=Ye,N.context=Be,v=tt):(typeof N.componentDidUpdate!="function"||L===i.memoizedProps&&Ge===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&Ge===i.memoizedState||(o.flags|=1024),v=!1)}return N=v,Xh(i,o),v=(o.flags&128)!==0,N||v?(N=o.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&v?(o.child=Ul(o,i.child,null,_),o.child=Ul(o,null,d,_)):Ha(i,o,d,_),o.memoizedState=N.state,i=o.child):i=VA(i,o,_),i}function BE(i,o,d,v){return Fl(),o.flags|=256,Ha(i,o,d,v),o.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(i){return{baseLanes:i,cachePool:fy()}}function Ep(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=ss),i}function CE(i,o,d){var v=o.pendingProps,_=!1,N=(o.flags&128)!==0,L;if((L=N)||(L=i!==null&&i.memoizedState===null?!1:(Jn.current&2)!==0),L&&(_=!0,o.flags&=-129),L=(o.flags&32)!==0,o.flags&=-33,i===null){if(_r){if(_?_o(o):To(),(i=vn)?(i=RB(i,_s),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:wo!==null?{id:cA,overflow:uA}:null,retryLane:536870912,hydrationErrors:null},d=ny(i),d.return=o,o.child=d,Pa=o,vn=null)):i=null,i===null)throw yo(o);return am(i)?o.lanes=32:o.lanes=536870912,null}var te=v.children;return v=v.fallback,_?(To(),_=o.mode,te=Wh({mode:"hidden",children:te},_),v=Il(v,_,d,null),te.return=o,v.return=o,te.sibling=v,o.child=te,v=o.child,v.memoizedState=yp(d),v.childLanes=Ep(i,L,d),o.memoizedState=vp,uu(null,v)):(_o(o),Bp(o,te))}var Be=i.memoizedState;if(Be!==null&&(te=Be.dehydrated,te!==null)){if(N)o.flags&256?(_o(o),o.flags&=-257,o=Cp(i,o,d)):o.memoizedState!==null?(To(),o.child=i.child,o.flags|=128,o=null):(To(),te=v.fallback,_=o.mode,v=Wh({mode:"visible",children:v.children},_),te=Il(te,_,d,null),te.flags|=2,v.return=o,te.return=o,v.sibling=te,o.child=v,Ul(o,i.child,null,d),v=o.child,v.memoizedState=yp(d),v.childLanes=Ep(i,L,d),o.memoizedState=vp,o=uu(null,v));else if(_o(o),am(te)){if(L=te.nextSibling&&te.nextSibling.dataset,L)var Pe=L.dgst;L=Pe,v=Error(n(419)),v.stack="",v.digest=L,$0({value:v,source:null,stack:null}),o=Cp(i,o,d)}else if(Aa||Oc(i,o,d,!1),L=(d&i.childLanes)!==0,Aa||L){if(L=cn,L!==null&&(v=Oa(L,d),v!==0&&v!==Be.retryLane))throw Be.retryLane=v,Sl(i,v),Vi(L,i,v),mp;nm(te)||nd(),o=Cp(i,o,d)}else nm(te)?(o.flags|=192,o.child=i.child,o=null):(i=Be.treeContext,vn=Ss(te.nextSibling),Pa=o,_r=!0,vo=null,_s=!1,i!==null&&sy(o,i),o=Bp(o,v.children),o.flags|=4096);return o}return _?(To(),te=v.fallback,_=o.mode,Be=i.child,Pe=Be.sibling,v=MA(Be,{mode:"hidden",children:v.children}),v.subtreeFlags=Be.subtreeFlags&65011712,Pe!==null?te=MA(Pe,te):(te=Il(te,_,d,null),te.flags|=2),te.return=o,v.return=o,v.sibling=te,o.child=v,uu(null,v),v=o.child,te=i.child.memoizedState,te===null?te=yp(d):(_=te.cachePool,_!==null?(Be=ia._currentValue,_=_.parent!==Be?{parent:Be,pool:Be}:_):_=fy(),te={baseLanes:te.baseLanes|d,cachePool:_}),v.memoizedState=te,v.childLanes=Ep(i,L,d),o.memoizedState=vp,uu(i.child,v)):(_o(o),d=i.child,i=d.sibling,d=MA(d,{mode:"visible",children:v.children}),d.return=o,d.sibling=null,i!==null&&(L=o.deletions,L===null?(o.deletions=[i],o.flags|=16):L.push(i)),o.child=d,o.memoizedState=null,d)}function Bp(i,o){return o=Wh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Wh(i,o){return i=rs(22,i,null,o),i.lanes=0,i}function Cp(i,o,d){return Ul(o,i.child,null,d),i=Bp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function bE(i,o,d){i.lanes|=o;var v=i.alternate;v!==null&&(v.lanes|=o),Lx(i.return,o,d)}function bp(i,o,d,v,_,N){var L=i.memoizedState;L===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:_,treeForkCount:N}:(L.isBackwards=o,L.rendering=null,L.renderingStartTime=0,L.last=v,L.tail=d,L.tailMode=_,L.treeForkCount=N)}function _E(i,o,d){var v=o.pendingProps,_=v.revealOrder,N=v.tail;v=v.children;var L=Jn.current,te=(L&2)!==0;if(te?(L=L&1|2,o.flags|=128):L&=1,pe(Jn,L),Ha(i,o,v,d),v=_r?J0:0,!te&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bE(i,d,o);else if(i.tag===19)bE(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(_){case"forwards":for(d=o.child,_=null;d!==null;)i=d.alternate,i!==null&&Uh(i)===null&&(_=d),d=d.sibling;d=_,d===null?(_=o.child,o.child=null):(_=d.sibling,d.sibling=null),bp(o,!1,_,d,N,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,_=o.child,o.child=null;_!==null;){if(i=_.alternate,i!==null&&Uh(i)===null){o.child=_;break}i=_.sibling,_.sibling=d,d=_,_=i}bp(o,!0,d,null,N,v);break;case"together":bp(o,!1,null,null,void 0,v);break;default:o.memoizedState=null}return o.child}function VA(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Fo|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(Oc(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=MA(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=MA(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function _p(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Sh(i)))}function _6(i,o,d){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),Eo(o,ia,i.memoizedState.cache),Fl();break;case 27:case 5:_e(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:Eo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Zx(o),null;break;case 13:var v=o.memoizedState;if(v!==null)return v.dehydrated!==null?(_o(o),o.flags|=128,null):(d&o.child.childLanes)!==0?CE(i,o,d):(_o(o),i=VA(i,o,d),i!==null?i.sibling:null);_o(o);break;case 19:var _=(i.flags&128)!==0;if(v=(d&o.childLanes)!==0,v||(Oc(i,o,d,!1),v=(d&o.childLanes)!==0),_){if(v)return _E(i,o,d);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pe(Jn,Jn.current),v)break;return null;case 22:return o.lanes=0,mE(i,o,d,o.pendingProps);case 24:Eo(o,ia,i.memoizedState.cache)}return VA(i,o,d)}function TE(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)Aa=!0;else{if(!_p(i,d)&&(o.flags&128)===0)return Aa=!1,_6(i,o,d);Aa=(i.flags&131072)!==0}else Aa=!1,_r&&(o.flags&1048576)!==0&&iy(o,J0,o.index);switch(o.lanes=0,o.tag){case 16:e:{var v=o.pendingProps;if(i=Ol(o.elementType),o.type=i,typeof i=="function")Nx(i)?(v=Ql(i,v),o.tag=1,o=EE(null,o,i,v,d)):(o.tag=0,o=wp(null,o,i,v,d));else{if(i!=null){var _=i.$$typeof;if(_===re){o.tag=11,o=gE(null,o,i,v,d);break e}else if(_===O){o.tag=14,o=xE(null,o,i,v,d);break e}}throw o=Ie(i)||i,Error(n(306,o,""))}}return o;case 0:return wp(i,o,o.type,o.pendingProps,d);case 1:return v=o.type,_=Ql(v,o.pendingProps),EE(i,o,v,_,d);case 3:e:{if(ye(o,o.stateNode.containerInfo),i===null)throw Error(n(387));v=o.pendingProps;var N=o.memoizedState;_=N.element,zx(i,o),su(o,v,null,d);var L=o.memoizedState;if(v=L.cache,Eo(o,ia,v),v!==N.cache&&Px(o,[ia],d,!0),iu(),v=L.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:L.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=BE(i,o,v,d);break e}else if(v!==_){_=Bs(Error(n(424)),o),$0(_),o=BE(i,o,v,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vn=Ss(i.firstChild),Pa=o,_r=!0,vo=null,_s=!0,d=my(o,null,v,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Fl(),v===_){o=VA(i,o,d);break e}Ha(i,o,v,d)}o=o.child}return o;case 26:return Xh(i,o),i===null?(d=QB(o.type,null,o.pendingProps,null))?o.memoizedState=d:_r||(d=o.type,i=o.pendingProps,v=cd(Ce.current).createElement(d),v[ce]=o,v[he]=i,Va(v,d,i),St(v),o.stateNode=v):o.memoizedState=QB(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&_r&&(v=o.stateNode=kB(o.type,o.pendingProps,Ce.current),Pa=o,_s=!0,_=vn,ko(o.type)?(im=_,vn=Ss(v.firstChild)):vn=_),Ha(i,o,o.pendingProps.children,d),Xh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&_r&&((_=v=vn)&&(v=rN(v,o.type,o.pendingProps,_s),v!==null?(o.stateNode=v,Pa=o,vn=Ss(v.firstChild),_s=!1,_=!0):_=!1),_||yo(o)),_e(o),_=o.type,N=o.pendingProps,L=i!==null?i.memoizedProps:null,v=N.children,em(_,N)?v=null:L!==null&&em(_,L)&&(o.flags|=32),o.memoizedState!==null&&(_=$x(i,o,p6,null,null,d),_u._currentValue=_),Xh(i,o),Ha(i,o,v,d),o.child;case 6:return i===null&&_r&&((i=d=vn)&&(d=nN(d,o.pendingProps,_s),d!==null?(o.stateNode=d,Pa=o,vn=null,i=!0):i=!1),i||yo(o)),null;case 13:return CE(i,o,d);case 4:return ye(o,o.stateNode.containerInfo),v=o.pendingProps,i===null?o.child=Ul(o,null,v,d):Ha(i,o,v,d),o.child;case 11:return gE(i,o,o.type,o.pendingProps,d);case 7:return Ha(i,o,o.pendingProps,d),o.child;case 8:return Ha(i,o,o.pendingProps.children,d),o.child;case 12:return Ha(i,o,o.pendingProps.children,d),o.child;case 10:return v=o.pendingProps,Eo(o,o.type,v.value),Ha(i,o,v.children,d),o.child;case 9:return _=o.type._context,v=o.pendingProps.children,Rl(o),_=ja(_),v=v(_),o.flags|=1,Ha(i,o,v,d),o.child;case 14:return xE(i,o,o.type,o.pendingProps,d);case 15:return pE(i,o,o.type,o.pendingProps,d);case 19:return _E(i,o,d);case 31:return b6(i,o,d);case 22:return mE(i,o,d,o.pendingProps);case 24:return Rl(o),v=ja(ia),i===null?(_=Vx(),_===null&&(_=cn,N=jx(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=d),_=N),o.memoizedState={parent:v,cache:_},Kx(o),Eo(o,ia,_)):((i.lanes&d)!==0&&(zx(i,o),su(o,null,null,d),iu()),_=i.memoizedState,N=o.memoizedState,_.parent!==v?(_={parent:v,cache:v},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Eo(o,ia,v)):(v=N.cache,Eo(o,ia,v),v!==_.cache&&Px(o,[ia],d,!0))),Ha(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function GA(i){i.flags|=4}function Tp(i,o,d,v,_){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(_&335544128)===_)if(i.stateNode.complete)i.flags|=8192;else if(eB())i.flags|=8192;else throw kl=Rh,Gx}else i.flags&=-16777217}function SE(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!VB(o))if(eB())i.flags|=8192;else throw kl=Rh,Gx}function Yh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?fn():536870912,i.lanes|=o,zc|=o)}function fu(i,o){if(!_r)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function yn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,v=0;if(o)for(var _=i.child;_!==null;)d|=_.lanes|_.childLanes,v|=_.subtreeFlags&65011712,v|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)d|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=v,i.childLanes=d,o}function T6(i,o,d){var v=o.pendingProps;switch(kx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return yn(o),null;case 3:return d=o.stateNode,v=null,i!==null&&(v=i.memoizedState.cache),o.memoizedState.cache!==v&&(o.flags|=2048),PA(ia),ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Dc(o)?GA(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mx())),yn(o),null;case 26:var _=o.type,N=o.memoizedState;return i===null?(GA(o),N!==null?(yn(o),SE(o,N)):(yn(o),Tp(o,_,null,v,d))):N?N!==i.memoizedState?(GA(o),yn(o),SE(o,N)):(yn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==v&&GA(o),yn(o),Tp(o,_,i,v,d)),null;case 27:if(Re(o),d=Ce.current,_=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==v&&GA(o);else{if(!v){if(o.stateNode===null)throw Error(n(166));return yn(o),null}i=se.current,Dc(o)?Ay(o):(i=kB(_,v,d),o.stateNode=i,GA(o))}return yn(o),null;case 5:if(Re(o),_=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==v&&GA(o);else{if(!v){if(o.stateNode===null)throw Error(n(166));return yn(o),null}if(N=se.current,Dc(o))Ay(o);else{var L=cd(Ce.current);switch(N){case 1:N=L.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=L.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=L.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=L.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof v.is=="string"?L.createElement("select",{is:v.is}):L.createElement("select"),v.multiple?N.multiple=!0:v.size&&(N.size=v.size);break;default:N=typeof v.is=="string"?L.createElement(_,{is:v.is}):L.createElement(_)}}N[ce]=o,N[he]=v;e:for(L=o.child;L!==null;){if(L.tag===5||L.tag===6)N.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===o)break e;for(;L.sibling===null;){if(L.return===null||L.return===o)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}o.stateNode=N;e:switch(Va(N,_,v),_){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&GA(o)}}return yn(o),Tp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==v&&GA(o);else{if(typeof v!="string"&&o.stateNode===null)throw Error(n(166));if(i=Ce.current,Dc(o)){if(i=o.stateNode,d=o.memoizedProps,v=null,_=Pa,_!==null)switch(_.tag){case 27:case 5:v=_.memoizedProps}i[ce]=o,i=!!(i.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||CB(i.nodeValue,d)),i||yo(o,!0)}else i=cd(i).createTextNode(v),i[ce]=o,o.stateNode=i}return yn(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(v=Dc(o),d!==null){if(i===null){if(!v)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ce]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),i=!1}else d=Mx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(as(o),o):(as(o),null);if((o.flags&128)!==0)throw Error(n(558))}return yn(o),null;case 13:if(v=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=Dc(o),v!==null&&v.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[ce]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),_=!1}else _=Mx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(as(o),o):(as(o),null)}return as(o),(o.flags&128)!==0?(o.lanes=d,o):(d=v!==null,i=i!==null&&i.memoizedState!==null,d&&(v=o.child,_=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(_=v.alternate.memoizedState.cachePool.pool),N=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(N=v.memoizedState.cachePool.pool),N!==_&&(v.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Yh(o,o.updateQueue),yn(o),null);case 4:return ae(),i===null&&Yp(o.stateNode.containerInfo),yn(o),null;case 10:return PA(o.type),yn(o),null;case 19:if(q(Jn),v=o.memoizedState,v===null)return yn(o),null;if(_=(o.flags&128)!==0,N=v.rendering,N===null)if(_)fu(v,!1);else{if(Vn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Uh(i),N!==null){for(o.flags|=128,fu(v,!1),i=N.updateQueue,o.updateQueue=i,Yh(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)ry(d,i),d=d.sibling;return pe(Jn,Jn.current&1|2),_r&&QA(o,v.treeForkCount),o.child}i=i.sibling}v.tail!==null&&tr()>ed&&(o.flags|=128,_=!0,fu(v,!1),o.lanes=4194304)}else{if(!_)if(i=Uh(N),i!==null){if(o.flags|=128,_=!0,i=i.updateQueue,o.updateQueue=i,Yh(o,i),fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!_r)return yn(o),null}else 2*tr()-v.renderingStartTime>ed&&d!==536870912&&(o.flags|=128,_=!0,fu(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(i=v.last,i!==null?i.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=tr(),i.sibling=null,d=Jn.current,pe(Jn,_?d&1|2:d&1),_r&&QA(o,v.treeForkCount),i):(yn(o),null);case 22:case 23:return as(o),qx(),v=o.memoizedState!==null,i!==null?i.memoizedState!==null!==v&&(o.flags|=8192):v&&(o.flags|=8192),v?(d&536870912)!==0&&(o.flags&128)===0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),d=o.updateQueue,d!==null&&Yh(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),v=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),v!==d&&(o.flags|=2048),i!==null&&q(Dl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),PA(ia),yn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function S6(i,o){switch(kx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return PA(ia),ae(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Re(o),null;case 31:if(o.memoizedState!==null){if(as(o),o.alternate===null)throw Error(n(340));Fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(as(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(Jn),null;case 4:return ae(),null;case 10:return PA(o.type),null;case 22:case 23:return as(o),qx(),i!==null&&q(Dl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return PA(ia),null;case 25:return null;default:return null}}function IE(i,o){switch(kx(o),o.tag){case 3:PA(ia),ae();break;case 26:case 27:case 5:Re(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&as(o);break;case 13:as(o);break;case 19:q(Jn);break;case 10:PA(o.type);break;case 22:case 23:as(o),qx(),i!==null&&q(Dl);break;case 24:PA(ia)}}function hu(i,o){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&i)===i){v=void 0;var N=d.create,L=d.inst;v=N(),L.destroy=v}d=d.next}while(d!==_)}}catch(te){Jr(o,o.return,te)}}function So(i,o,d){try{var v=o.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var N=_.next;v=N;do{if((v.tag&i)===i){var L=v.inst,te=L.destroy;if(te!==void 0){L.destroy=void 0,_=o;var Be=d,Pe=te;try{Pe()}catch(tt){Jr(_,Be,tt)}}}v=v.next}while(v!==N)}}catch(tt){Jr(o,o.return,tt)}}function FE(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{vy(o,d)}catch(v){Jr(i,i.return,v)}}}function NE(i,o,d){d.props=Ql(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(v){Jr(i,o,v)}}function du(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var v=i.stateNode;break;case 30:v=i.stateNode;break;default:v=i.stateNode}typeof d=="function"?i.refCleanup=d(v):d.current=v}}catch(_){Jr(i,o,_)}}function fA(i,o){var d=i.ref,v=i.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(_){Jr(i,o,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){Jr(i,o,_)}else d.current=null}function RE(i){var o=i.type,d=i.memoizedProps,v=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(_){Jr(i,i.return,_)}}function Sp(i,o,d){try{var v=i.stateNode;q6(v,i.type,d,o),v[he]=o}catch(_){Jr(i,i.return,_)}}function DE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ko(i.type)||i.tag===4}function Ip(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||DE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ko(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fp(i,o,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=On));else if(v!==4&&(v===27&&ko(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Fp(i,o,d),i=i.sibling;i!==null;)Fp(i,o,d),i=i.sibling}function qh(i,o,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(v!==4&&(v===27&&ko(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(qh(i,o,d),i=i.sibling;i!==null;)qh(i,o,d),i=i.sibling}function OE(i){var o=i.stateNode,d=i.memoizedProps;try{for(var v=i.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);Va(o,v,d),o[ce]=i,o[he]=d}catch(N){Jr(i,i.return,N)}}var KA=!1,oa=!1,Np=!1,kE=typeof WeakSet=="function"?WeakSet:Set,Ta=null;function I6(i,o){if(i=i.containerInfo,Jp=pd,i=W(i),ee(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var _=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var L=0,te=-1,Be=-1,Pe=0,tt=0,it=i,Ge=null;t:for(;;){for(var Ye;it!==d||_!==0&&it.nodeType!==3||(te=L+_),it!==N||v!==0&&it.nodeType!==3||(Be=L+v),it.nodeType===3&&(L+=it.nodeValue.length),(Ye=it.firstChild)!==null;)Ge=it,it=Ye;for(;;){if(it===i)break t;if(Ge===d&&++Pe===_&&(te=L),Ge===N&&++tt===v&&(Be=L),(Ye=it.nextSibling)!==null)break;it=Ge,Ge=it.parentNode}it=Ye}d=te===-1||Be===-1?null:{start:te,end:Be}}else d=null}d=d||{start:0,end:0}}else d=null;for($p={focusedElem:i,selectionRange:d},pd=!1,Ta=o;Ta!==null;)if(o=Ta,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ta=i;else for(;Ta!==null;){switch(o=Ta,N=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)_=i[d],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,_=N.memoizedProps,N=N.memoizedState,v=d.stateNode;try{var Dt=Ql(d.type,_);i=v.getSnapshotBeforeUpdate(Dt,N),v.__reactInternalSnapshotBeforeUpdate=i}catch(Wt){Jr(d,d.return,Wt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)rm(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Ta=i;break}Ta=o.return}}function UE(i,o,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:XA(i,d),v&4&&hu(5,d);break;case 1:if(XA(i,d),v&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(L){Jr(d,d.return,L)}else{var _=Ql(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(_,o,i.__reactInternalSnapshotBeforeUpdate)}catch(L){Jr(d,d.return,L)}}v&64&&FE(d),v&512&&du(d,d.return);break;case 3:if(XA(i,d),v&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{vy(i,o)}catch(L){Jr(d,d.return,L)}}break;case 27:o===null&&v&4&&OE(d);case 26:case 5:XA(i,d),o===null&&v&4&&RE(d),v&512&&du(d,d.return);break;case 12:XA(i,d);break;case 31:XA(i,d),v&4&&LE(i,d);break;case 13:XA(i,d),v&4&&PE(i,d),v&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=Q6.bind(null,d),aN(i,d))));break;case 22:if(v=d.memoizedState!==null||KA,!v){o=o!==null&&o.memoizedState!==null||oa,_=KA;var N=oa;KA=v,(oa=o)&&!N?WA(i,d,(d.subtreeFlags&8772)!==0):XA(i,d),KA=_,oa=N}break;case 30:break;default:XA(i,d)}}function ME(i){var o=i.alternate;o!==null&&(i.alternate=null,ME(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&st(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tn=null,Li=!1;function zA(i,o,d){for(d=d.child;d!==null;)QE(i,o,d),d=d.sibling}function QE(i,o,d){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Mt,d)}catch{}switch(d.tag){case 26:oa||fA(d,o),zA(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:oa||fA(d,o);var v=Tn,_=Li;ko(d.type)&&(Tn=d.stateNode,Li=!1),zA(i,o,d),Bu(d.stateNode),Tn=v,Li=_;break;case 5:oa||fA(d,o);case 6:if(v=Tn,_=Li,Tn=null,zA(i,o,d),Tn=v,Li=_,Tn!==null)if(Li)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(d.stateNode)}catch(N){Jr(d,o,N)}else try{Tn.removeChild(d.stateNode)}catch(N){Jr(d,o,N)}break;case 18:Tn!==null&&(Li?(i=Tn,FB(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),e0(i)):FB(Tn,d.stateNode));break;case 4:v=Tn,_=Li,Tn=d.stateNode.containerInfo,Li=!0,zA(i,o,d),Tn=v,Li=_;break;case 0:case 11:case 14:case 15:So(2,d,o),oa||So(4,d,o),zA(i,o,d);break;case 1:oa||(fA(d,o),v=d.stateNode,typeof v.componentWillUnmount=="function"&&NE(d,o,v)),zA(i,o,d);break;case 21:zA(i,o,d);break;case 22:oa=(v=oa)||d.memoizedState!==null,zA(i,o,d),oa=v;break;default:zA(i,o,d)}}function LE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{e0(i)}catch(d){Jr(o,o.return,d)}}}function PE(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{e0(i)}catch(d){Jr(o,o.return,d)}}function F6(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new kE),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new kE),o;default:throw Error(n(435,i.tag))}}function Zh(i,o){var d=F6(i);o.forEach(function(v){if(!d.has(v)){d.add(v);var _=L6.bind(null,i,v);v.then(_,_)}})}function Pi(i,o){var d=o.deletions;if(d!==null)for(var v=0;v<d.length;v++){var _=d[v],N=i,L=o,te=L;e:for(;te!==null;){switch(te.tag){case 27:if(ko(te.type)){Tn=te.stateNode,Li=!1;break e}break;case 5:Tn=te.stateNode,Li=!1;break e;case 3:case 4:Tn=te.stateNode.containerInfo,Li=!0;break e}te=te.return}if(Tn===null)throw Error(n(160));QE(N,L,_),Tn=null,Li=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)jE(o,i),o=o.sibling}var Xs=null;function jE(i,o){var d=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pi(o,i),ji(i),v&4&&(So(3,i,i.return),hu(3,i),So(5,i,i.return));break;case 1:Pi(o,i),ji(i),v&512&&(oa||d===null||fA(d,d.return)),v&64&&KA&&(i=i.updateQueue,i!==null&&(v=i.callbacks,v!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var _=Xs;if(Pi(o,i),ji(i),v&512&&(oa||d===null||fA(d,d.return)),v&4){var N=d!==null?d.memoizedState:null;if(v=i.memoizedState,d===null)if(v===null)if(i.stateNode===null){e:{v=i.type,d=i.memoizedProps,_=_.ownerDocument||_;t:switch(v){case"title":N=_.getElementsByTagName("title")[0],(!N||N[He]||N[ce]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(v),_.head.insertBefore(N,_.querySelector("head > title"))),Va(N,v,d),N[ce]=i,St(N),v=N;break e;case"link":var L=jB("link","href",_).get(v+(d.href||""));if(L){for(var te=0;te<L.length;te++)if(N=L[te],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(te,1);break t}}N=_.createElement(v),Va(N,v,d),_.head.appendChild(N);break;case"meta":if(L=jB("meta","content",_).get(v+(d.content||""))){for(te=0;te<L.length;te++)if(N=L[te],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(te,1);break t}}N=_.createElement(v),Va(N,v,d),_.head.appendChild(N);break;default:throw Error(n(468,v))}N[ce]=i,St(N),v=N}i.stateNode=v}else HB(_,i.type,i.stateNode);else i.stateNode=PB(_,v,i.memoizedProps);else N!==v?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,v===null?HB(_,i.type,i.stateNode):PB(_,v,i.memoizedProps)):v===null&&i.stateNode!==null&&Sp(i,i.memoizedProps,d.memoizedProps)}break;case 27:Pi(o,i),ji(i),v&512&&(oa||d===null||fA(d,d.return)),d!==null&&v&4&&Sp(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Pi(o,i),ji(i),v&512&&(oa||d===null||fA(d,d.return)),i.flags&32){_=i.stateNode;try{Fi(_,"")}catch(Dt){Jr(i,i.return,Dt)}}v&4&&i.stateNode!=null&&(_=i.memoizedProps,Sp(i,_,d!==null?d.memoizedProps:_)),v&1024&&(Np=!0);break;case 6:if(Pi(o,i),ji(i),v&4){if(i.stateNode===null)throw Error(n(162));v=i.memoizedProps,d=i.stateNode;try{d.nodeValue=v}catch(Dt){Jr(i,i.return,Dt)}}break;case 3:if(hd=null,_=Xs,Xs=ud(o.containerInfo),Pi(o,i),Xs=_,ji(i),v&4&&d!==null&&d.memoizedState.isDehydrated)try{e0(o.containerInfo)}catch(Dt){Jr(i,i.return,Dt)}Np&&(Np=!1,HE(i));break;case 4:v=Xs,Xs=ud(i.stateNode.containerInfo),Pi(o,i),ji(i),Xs=v;break;case 12:Pi(o,i),ji(i);break;case 31:Pi(o,i),ji(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,Zh(i,v)));break;case 13:Pi(o,i),ji(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($h=tr()),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,Zh(i,v)));break;case 22:_=i.memoizedState!==null;var Be=d!==null&&d.memoizedState!==null,Pe=KA,tt=oa;if(KA=Pe||_,oa=tt||Be,Pi(o,i),oa=tt,KA=Pe,ji(i),v&8192)e:for(o=i.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(d===null||Be||KA||oa||Ll(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){Be=d=o;try{if(N=Be.stateNode,_)L=N.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{te=Be.stateNode;var it=Be.memoizedProps.style,Ge=it!=null&&it.hasOwnProperty("display")?it.display:null;te.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Dt){Jr(Be,Be.return,Dt)}}}else if(o.tag===6){if(d===null){Be=o;try{Be.stateNode.nodeValue=_?"":Be.memoizedProps}catch(Dt){Jr(Be,Be.return,Dt)}}}else if(o.tag===18){if(d===null){Be=o;try{var Ye=Be.stateNode;_?NB(Ye,!0):NB(Be.stateNode,!1)}catch(Dt){Jr(Be,Be.return,Dt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}v&4&&(v=i.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,Zh(i,d))));break;case 19:Pi(o,i),ji(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,Zh(i,v)));break;case 30:break;case 21:break;default:Pi(o,i),ji(i)}}function ji(i){var o=i.flags;if(o&2){try{for(var d,v=i.return;v!==null;){if(DE(v)){d=v;break}v=v.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var _=d.stateNode,N=Ip(i);qh(i,N,_);break;case 5:var L=d.stateNode;d.flags&32&&(Fi(L,""),d.flags&=-33);var te=Ip(i);qh(i,te,L);break;case 3:case 4:var Be=d.stateNode.containerInfo,Pe=Ip(i);Fp(i,Pe,Be);break;default:throw Error(n(161))}}catch(tt){Jr(i,i.return,tt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;HE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function XA(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)UE(i,o.alternate,o),o=o.sibling}function Ll(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:So(4,o,o.return),Ll(o);break;case 1:fA(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&NE(o,o.return,d),Ll(o);break;case 27:Bu(o.stateNode);case 26:case 5:fA(o,o.return),Ll(o);break;case 22:o.memoizedState===null&&Ll(o);break;case 30:Ll(o);break;default:Ll(o)}i=i.sibling}}function WA(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var v=o.alternate,_=i,N=o,L=N.flags;switch(N.tag){case 0:case 11:case 15:WA(_,N,d),hu(4,N);break;case 1:if(WA(_,N,d),v=N,_=v.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Pe){Jr(v,v.return,Pe)}if(v=N,_=v.updateQueue,_!==null){var te=v.stateNode;try{var Be=_.shared.hiddenCallbacks;if(Be!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Be.length;_++)wy(Be[_],te)}catch(Pe){Jr(v,v.return,Pe)}}d&&L&64&&FE(N),du(N,N.return);break;case 27:OE(N);case 26:case 5:WA(_,N,d),d&&v===null&&L&4&&RE(N),du(N,N.return);break;case 12:WA(_,N,d);break;case 31:WA(_,N,d),d&&L&4&&LE(_,N);break;case 13:WA(_,N,d),d&&L&4&&PE(_,N);break;case 22:N.memoizedState===null&&WA(_,N,d),du(N,N.return);break;case 30:break;default:WA(_,N,d)}o=o.sibling}}function Rp(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&eu(d))}function Dp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&eu(i))}function Ws(i,o,d,v){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VE(i,o,d,v),o=o.sibling}function VE(i,o,d,v){var _=o.flags;switch(o.tag){case 0:case 11:case 15:Ws(i,o,d,v),_&2048&&hu(9,o);break;case 1:Ws(i,o,d,v);break;case 3:Ws(i,o,d,v),_&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&eu(i)));break;case 12:if(_&2048){Ws(i,o,d,v),i=o.stateNode;try{var N=o.memoizedProps,L=N.id,te=N.onPostCommit;typeof te=="function"&&te(L,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Be){Jr(o,o.return,Be)}}else Ws(i,o,d,v);break;case 31:Ws(i,o,d,v);break;case 13:Ws(i,o,d,v);break;case 23:break;case 22:N=o.stateNode,L=o.alternate,o.memoizedState!==null?N._visibility&2?Ws(i,o,d,v):gu(i,o):N._visibility&2?Ws(i,o,d,v):(N._visibility|=2,Vc(i,o,d,v,(o.subtreeFlags&10256)!==0||!1)),_&2048&&Rp(L,o);break;case 24:Ws(i,o,d,v),_&2048&&Dp(o.alternate,o);break;default:Ws(i,o,d,v)}}function Vc(i,o,d,v,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var N=i,L=o,te=d,Be=v,Pe=L.flags;switch(L.tag){case 0:case 11:case 15:Vc(N,L,te,Be,_),hu(8,L);break;case 23:break;case 22:var tt=L.stateNode;L.memoizedState!==null?tt._visibility&2?Vc(N,L,te,Be,_):gu(N,L):(tt._visibility|=2,Vc(N,L,te,Be,_)),_&&Pe&2048&&Rp(L.alternate,L);break;case 24:Vc(N,L,te,Be,_),_&&Pe&2048&&Dp(L.alternate,L);break;default:Vc(N,L,te,Be,_)}o=o.sibling}}function gu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,v=o,_=v.flags;switch(v.tag){case 22:gu(d,v),_&2048&&Rp(v.alternate,v);break;case 24:gu(d,v),_&2048&&Dp(v.alternate,v);break;default:gu(d,v)}o=o.sibling}}var xu=8192;function Gc(i,o,d){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)GE(i,o,d),i=i.sibling}function GE(i,o,d){switch(i.tag){case 26:Gc(i,o,d),i.flags&xu&&i.memoizedState!==null&&xN(d,Xs,i.memoizedState,i.memoizedProps);break;case 5:Gc(i,o,d);break;case 3:case 4:var v=Xs;Xs=ud(i.stateNode.containerInfo),Gc(i,o,d),Xs=v;break;case 22:i.memoizedState===null&&(v=i.alternate,v!==null&&v.memoizedState!==null?(v=xu,xu=16777216,Gc(i,o,d),xu=v):Gc(i,o,d));break;default:Gc(i,o,d)}}function KE(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function pu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var v=o[d];Ta=v,XE(v,i)}KE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zE(i),i=i.sibling}function zE(i){switch(i.tag){case 0:case 11:case 15:pu(i),i.flags&2048&&So(9,i,i.return);break;case 3:pu(i);break;case 12:pu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Jh(i)):pu(i);break;default:pu(i)}}function Jh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var v=o[d];Ta=v,XE(v,i)}KE(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:So(8,o,o.return),Jh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Jh(o));break;default:Jh(o)}i=i.sibling}}function XE(i,o){for(;Ta!==null;){var d=Ta;switch(d.tag){case 0:case 11:case 15:So(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:eu(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Ta=v;else e:for(d=i;Ta!==null;){v=Ta;var _=v.sibling,N=v.return;if(ME(v),v===d){Ta=null;break e}if(_!==null){_.return=N,Ta=_;break e}Ta=N}}}var N6={getCacheForType:function(i){var o=ja(ia),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return ja(ia).controller.signal}},R6=typeof WeakMap=="function"?WeakMap:Map,Kr=0,cn=null,xr=null,vr=0,Zr=0,is=null,Io=!1,Kc=!1,Op=!1,YA=0,Vn=0,Fo=0,Pl=0,kp=0,ss=0,zc=0,mu=null,Hi=null,Up=!1,$h=0,WE=0,ed=1/0,td=null,No=null,ma=0,Ro=null,Xc=null,qA=0,Mp=0,Qp=null,YE=null,wu=0,Lp=null;function As(){return(Kr&2)!==0&&vr!==0?vr&-vr:ie.T!==null?Kp():J()}function qE(){if(ss===0)if((vr&536870912)===0||_r){var i=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),ss=i}else ss=536870912;return i=ns.current,i!==null&&(i.flags|=32),ss}function Vi(i,o,d){(i===cn&&(Zr===2||Zr===9)||i.cancelPendingCommit!==null)&&(Wc(i,0),Do(i,vr,ss,!1)),Da(i,d),((Kr&2)===0||i!==cn)&&(i===cn&&((Kr&2)===0&&(Pl|=d),Vn===4&&Do(i,vr,ss,!1)),hA(i))}function ZE(i,o,d){if((Kr&6)!==0)throw Error(n(327));var v=!d&&(o&127)===0&&(o&i.expiredLanes)===0||un(i,o),_=v?k6(i,o):jp(i,o,!0),N=v;do{if(_===0){Kc&&!v&&Do(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!D6(d)){_=jp(i,o,!1),N=!1;continue}if(_===2){if(N=o,i.errorRecoveryDisabledLanes&N)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){o=L;e:{var te=i;_=mu;var Be=te.current.memoizedState.isDehydrated;if(Be&&(Wc(te,L).flags|=256),L=jp(te,L,!1),L!==2){if(Op&&!Be){te.errorRecoveryDisabledLanes|=N,Pl|=N,_=4;break e}N=Hi,Hi=_,N!==null&&(Hi===null?Hi=N:Hi.push.apply(Hi,N))}_=L}if(N=!1,_!==2)continue}}if(_===1){Wc(i,0),Do(i,o,0,!0);break}e:{switch(v=i,N=_,N){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Do(v,o,ss,!Io);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(_=$h+300-tr(),10<_)){if(Do(v,o,ss,!Io),Rn(v,0,!0)!==0)break e;qA=o,v.timeoutHandle=SB(JE.bind(null,v,d,Hi,td,Up,o,ss,Pl,zc,Io,N,"Throttled",-0,0),_);break e}JE(v,d,Hi,td,Up,o,ss,Pl,zc,Io,N,null,-0,0)}}break}while(!0);hA(i)}function JE(i,o,d,v,_,N,L,te,Be,Pe,tt,it,Ge,Ye){if(i.timeoutHandle=-1,it=o.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},GE(o,N,it);var Dt=(N&62914560)===N?$h-tr():(N&4194048)===N?WE-tr():0;if(Dt=pN(it,Dt),Dt!==null){qA=N,i.cancelPendingCommit=Dt(sB.bind(null,i,o,N,d,v,_,L,te,Be,tt,it,null,Ge,Ye)),Do(i,N,L,!Pe);return}}sB(i,o,N,d,v,_,L,te,Be)}function D6(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var _=d[v],N=_.getSnapshot;_=_.value;try{if(!E(N(),_))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(i,o,d,v){o&=~kp,o&=~Pl,i.suspendedLanes|=o,i.pingedLanes&=~o,v&&(i.warmLanes|=o),v=i.expirationTimes;for(var _=o;0<_;){var N=31-nt(_),L=1<<N;v[N]=-1,_&=~L}d!==0&&Si(i,d,o)}function rd(){return(Kr&6)===0?(vu(0),!1):!0}function Pp(){if(xr!==null){if(Zr===0)var i=xr.return;else i=xr,LA=Nl=null,rp(i),Qc=null,ru=0,i=xr;for(;i!==null;)IE(i.alternate,i),i=i.return;xr=null}}function Wc(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,$6(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),qA=0,Pp(),cn=i,xr=d=MA(i.current,null),vr=o,Zr=0,is=null,Io=!1,Kc=un(i,o),Op=!1,zc=ss=kp=Pl=Fo=Vn=0,Hi=mu=null,Up=!1,(o&8)!==0&&(o|=o&32);var v=i.entangledLanes;if(v!==0)for(i=i.entanglements,v&=o;0<v;){var _=31-nt(v),N=1<<_;o|=i[_],v&=~N}return YA=o,Bh(),d}function $E(i,o){cr=null,ie.H=cu,o===Mc||o===Nh?(o=gy(),Zr=3):o===Gx?(o=gy(),Zr=4):Zr=o===mp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,is=o,xr===null&&(Vn=1,Kh(i,Bs(o,i.current)))}function eB(){var i=ns.current;return i===null?!0:(vr&4194048)===vr?Ts===null:(vr&62914560)===vr||(vr&536870912)!==0?i===Ts:!1}function tB(){var i=ie.H;return ie.H=cu,i===null?cu:i}function rB(){var i=ie.A;return ie.A=N6,i}function nd(){Vn=4,Io||(vr&4194048)!==vr&&ns.current!==null||(Kc=!0),(Fo&134217727)===0&&(Pl&134217727)===0||cn===null||Do(cn,vr,ss,!1)}function jp(i,o,d){var v=Kr;Kr|=2;var _=tB(),N=rB();(cn!==i||vr!==o)&&(td=null,Wc(i,o)),o=!1;var L=Vn;e:do try{if(Zr!==0&&xr!==null){var te=xr,Be=is;switch(Zr){case 8:Pp(),L=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(o=!0);var Pe=Zr;if(Zr=0,is=null,Yc(i,te,Be,Pe),d&&Kc){L=0;break e}break;default:Pe=Zr,Zr=0,is=null,Yc(i,te,Be,Pe)}}O6(),L=Vn;break}catch(tt){$E(i,tt)}while(!0);return o&&i.shellSuspendCounter++,LA=Nl=null,Kr=v,ie.H=_,ie.A=N,xr===null&&(cn=null,vr=0,Bh()),L}function O6(){for(;xr!==null;)nB(xr)}function k6(i,o){var d=Kr;Kr|=2;var v=tB(),_=rB();cn!==i||vr!==o?(td=null,ed=tr()+500,Wc(i,o)):Kc=un(i,o);e:do try{if(Zr!==0&&xr!==null){o=xr;var N=is;t:switch(Zr){case 1:Zr=0,is=null,Yc(i,o,N,1);break;case 2:case 9:if(hy(N)){Zr=0,is=null,aB(o);break}o=function(){Zr!==2&&Zr!==9||cn!==i||(Zr=7),hA(i)},N.then(o,o);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:hy(N)?(Zr=0,is=null,aB(o)):(Zr=0,is=null,Yc(i,o,N,7));break;case 5:var L=null;switch(xr.tag){case 26:L=xr.memoizedState;case 5:case 27:var te=xr;if(L?VB(L):te.stateNode.complete){Zr=0,is=null;var Be=te.sibling;if(Be!==null)xr=Be;else{var Pe=te.return;Pe!==null?(xr=Pe,ad(Pe)):xr=null}break t}}Zr=0,is=null,Yc(i,o,N,5);break;case 6:Zr=0,is=null,Yc(i,o,N,6);break;case 8:Pp(),Vn=6;break e;default:throw Error(n(462))}}U6();break}catch(tt){$E(i,tt)}while(!0);return LA=Nl=null,ie.H=v,ie.A=_,Kr=d,xr!==null?0:(cn=null,vr=0,Bh(),Vn)}function U6(){for(;xr!==null&&!Ca();)nB(xr)}function nB(i){var o=TE(i.alternate,i,YA);i.memoizedProps=i.pendingProps,o===null?ad(i):xr=o}function aB(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=yE(d,o,o.pendingProps,o.type,void 0,vr);break;case 11:o=yE(d,o,o.pendingProps,o.type.render,o.ref,vr);break;case 5:rp(o);default:IE(d,o),o=xr=ry(o,YA),o=TE(d,o,YA)}i.memoizedProps=i.pendingProps,o===null?ad(i):xr=o}function Yc(i,o,d,v){LA=Nl=null,rp(o),Qc=null,ru=0;var _=o.return;try{if(C6(i,_,o,d,vr)){Vn=1,Kh(i,Bs(d,i.current)),xr=null;return}}catch(N){if(_!==null)throw xr=_,N;Vn=1,Kh(i,Bs(d,i.current)),xr=null;return}o.flags&32768?(_r||v===1?i=!0:Kc||(vr&536870912)!==0?i=!1:(Io=i=!0,(v===2||v===9||v===3||v===6)&&(v=ns.current,v!==null&&v.tag===13&&(v.flags|=16384))),iB(o,i)):ad(o)}function ad(i){var o=i;do{if((o.flags&32768)!==0){iB(o,Io);return}i=o.return;var d=T6(o.alternate,o,YA);if(d!==null){xr=d;return}if(o=o.sibling,o!==null){xr=o;return}xr=o=i}while(o!==null);Vn===0&&(Vn=5)}function iB(i,o){do{var d=S6(i.alternate,i);if(d!==null){d.flags&=32767,xr=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){xr=i;return}xr=i=d}while(i!==null);Vn=6,xr=null}function sB(i,o,d,v,_,N,L,te,Be){i.cancelPendingCommit=null;do id();while(ma!==0);if((Kr&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(N=o.lanes|o.childLanes,N|=Ix,Ir(i,d,N,L,te,Be),i===cn&&(xr=cn=null,vr=0),Xc=o,Ro=i,qA=d,Mp=N,Qp=_,YE=v,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,P6(Ze,function(){return uB(),null})):(i.callbackNode=null,i.callbackPriority=0),v=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||v){v=ie.T,ie.T=null,_=ue.p,ue.p=2,L=Kr,Kr|=4;try{I6(i,o,d)}finally{Kr=L,ue.p=_,ie.T=v}}ma=1,AB(),oB(),lB()}}function AB(){if(ma===1){ma=0;var i=Ro,o=Xc,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=ie.T,ie.T=null;var v=ue.p;ue.p=2;var _=Kr;Kr|=4;try{jE(o,i);var N=$p,L=W(i.containerInfo),te=N.focusedElem,Be=N.selectionRange;if(L!==te&&te&&te.ownerDocument&&Q(te.ownerDocument.documentElement,te)){if(Be!==null&&ee(te)){var Pe=Be.start,tt=Be.end;if(tt===void 0&&(tt=Pe),"selectionStart"in te)te.selectionStart=Pe,te.selectionEnd=Math.min(tt,te.value.length);else{var it=te.ownerDocument||document,Ge=it&&it.defaultView||window;if(Ge.getSelection){var Ye=Ge.getSelection(),Dt=te.textContent.length,Wt=Math.min(Be.start,Dt),sn=Be.end===void 0?Wt:Math.min(Be.end,Dt);!Ye.extend&&Wt>sn&&(L=sn,sn=Wt,Wt=L);var Fe=R(te,Wt),Se=R(te,sn);if(Fe&&Se&&(Ye.rangeCount!==1||Ye.anchorNode!==Fe.node||Ye.anchorOffset!==Fe.offset||Ye.focusNode!==Se.node||Ye.focusOffset!==Se.offset)){var Qe=it.createRange();Qe.setStart(Fe.node,Fe.offset),Ye.removeAllRanges(),Wt>sn?(Ye.addRange(Qe),Ye.extend(Se.node,Se.offset)):(Qe.setEnd(Se.node,Se.offset),Ye.addRange(Qe))}}}}for(it=[],Ye=te;Ye=Ye.parentNode;)Ye.nodeType===1&&it.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<it.length;te++){var at=it[te];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}pd=!!Jp,$p=Jp=null}finally{Kr=_,ue.p=v,ie.T=d}}i.current=o,ma=2}}function oB(){if(ma===2){ma=0;var i=Ro,o=Xc,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=ie.T,ie.T=null;var v=ue.p;ue.p=2;var _=Kr;Kr|=4;try{UE(i,o.alternate,o)}finally{Kr=_,ue.p=v,ie.T=d}}ma=3}}function lB(){if(ma===4||ma===3){ma=0,Wn();var i=Ro,o=Xc,d=qA,v=YE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ma=5:(ma=0,Xc=Ro=null,cB(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(No=null),ka(d),o=o.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Mt,o,void 0,(o.current.flags&128)===128)}catch{}if(v!==null){o=ie.T,_=ue.p,ue.p=2,ie.T=null;try{for(var N=i.onRecoverableError,L=0;L<v.length;L++){var te=v[L];N(te.value,{componentStack:te.stack})}}finally{ie.T=o,ue.p=_}}(qA&3)!==0&&id(),hA(i),_=i.pendingLanes,(d&261930)!==0&&(_&42)!==0?i===Lp?wu++:(wu=0,Lp=i):wu=0,vu(0)}}function cB(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,eu(o)))}function id(){return AB(),oB(),lB(),uB()}function uB(){if(ma!==5)return!1;var i=Ro,o=Mp;Mp=0;var d=ka(qA),v=ie.T,_=ue.p;try{ue.p=32>d?32:d,ie.T=null,d=Qp,Qp=null;var N=Ro,L=qA;if(ma=0,Xc=Ro=null,qA=0,(Kr&6)!==0)throw Error(n(331));var te=Kr;if(Kr|=4,zE(N.current),VE(N,N.current,L,d),Kr=te,vu(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Mt,N)}catch{}return!0}finally{ue.p=_,ie.T=v,cB(i,o)}}function fB(i,o,d){o=Bs(d,o),o=pp(i.stateNode,o,2),i=bo(i,o,2),i!==null&&(Da(i,2),hA(i))}function Jr(i,o,d){if(i.tag===3)fB(i,i,d);else for(;o!==null;){if(o.tag===3){fB(o,i,d);break}else if(o.tag===1){var v=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(No===null||!No.has(v))){i=Bs(d,i),d=hE(2),v=bo(o,d,2),v!==null&&(dE(d,v,o,i),Da(v,2),hA(v));break}}o=o.return}}function Hp(i,o,d){var v=i.pingCache;if(v===null){v=i.pingCache=new R6;var _=new Set;v.set(o,_)}else _=v.get(o),_===void 0&&(_=new Set,v.set(o,_));_.has(d)||(Op=!0,_.add(d),i=M6.bind(null,i,o,d),o.then(i,i))}function M6(i,o,d){var v=i.pingCache;v!==null&&v.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,cn===i&&(vr&d)===d&&(Vn===4||Vn===3&&(vr&62914560)===vr&&300>tr()-$h?(Kr&2)===0&&Wc(i,0):kp|=d,zc===vr&&(zc=0)),hA(i)}function hB(i,o){o===0&&(o=fn()),i=Sl(i,o),i!==null&&(Da(i,o),hA(i))}function Q6(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),hB(i,d)}function L6(i,o){var d=0;switch(i.tag){case 31:case 13:var v=i.stateNode,_=i.memoizedState;_!==null&&(d=_.retryLane);break;case 19:v=i.stateNode;break;case 22:v=i.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(o),hB(i,d)}function P6(i,o){return mr(i,o)}var sd=null,qc=null,Vp=!1,Ad=!1,Gp=!1,Oo=0;function hA(i){i!==qc&&i.next===null&&(qc===null?sd=qc=i:qc=qc.next=i),Ad=!0,Vp||(Vp=!0,H6())}function vu(i,o){if(!Gp&&Ad){Gp=!0;do for(var d=!1,v=sd;v!==null;){if(i!==0){var _=v.pendingLanes;if(_===0)var N=0;else{var L=v.suspendedLanes,te=v.pingedLanes;N=(1<<31-nt(42|i)+1)-1,N&=_&~(L&~te),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,pB(v,N))}else N=vr,N=Rn(v,v===cn?N:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(N&3)===0||un(v,N)||(d=!0,pB(v,N));v=v.next}while(d);Gp=!1}}function j6(){dB()}function dB(){Ad=Vp=!1;var i=0;Oo!==0&&J6()&&(i=Oo);for(var o=tr(),d=null,v=sd;v!==null;){var _=v.next,N=gB(v,o);N===0?(v.next=null,d===null?sd=_:d.next=_,_===null&&(qc=d)):(d=v,(i!==0||(N&3)!==0)&&(Ad=!0)),v=_}ma!==0&&ma!==5||vu(i),Oo!==0&&(Oo=0)}function gB(i,o){for(var d=i.suspendedLanes,v=i.pingedLanes,_=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var L=31-nt(N),te=1<<L,Be=_[L];Be===-1?((te&d)===0||(te&v)!==0)&&(_[L]=Ti(te,o)):Be<=o&&(i.expiredLanes|=te),N&=~te}if(o=cn,d=vr,d=Rn(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v=i.callbackNode,d===0||i===o&&(Zr===2||Zr===9)||i.cancelPendingCommit!==null)return v!==null&&v!==null&&vt(v),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||un(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(v!==null&&vt(v),ka(d)){case 2:case 8:d=Vr;break;case 32:d=Ze;break;case 268435456:d=Tt;break;default:d=Ze}return v=xB.bind(null,i),d=mr(d,v),i.callbackPriority=o,i.callbackNode=d,o}return v!==null&&v!==null&&vt(v),i.callbackPriority=2,i.callbackNode=null,2}function xB(i,o){if(ma!==0&&ma!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(id()&&i.callbackNode!==d)return null;var v=vr;return v=Rn(i,i===cn?v:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),v===0?null:(ZE(i,v,o),gB(i,tr()),i.callbackNode!=null&&i.callbackNode===d?xB.bind(null,i):null)}function pB(i,o){if(id())return null;ZE(i,o,!0)}function H6(){eN(function(){(Kr&6)!==0?mr(Jt,j6):dB()})}function Kp(){if(Oo===0){var i=kc;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Oo=i}return Oo}function mB(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ni(""+i)}function wB(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function V6(i,o,d,v,_){if(o==="submit"&&d&&d.stateNode===_){var N=mB((_[he]||null).action),L=v.submitter;L&&(o=(o=L[he]||null)?mB(o.formAction):L.getAttribute("formAction"),o!==null&&(N=o,L=null));var te=new Ln("action","action",null,v,_);i.push({event:te,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Oo!==0){var Be=L?wB(_,L):new FormData(_);up(d,{pending:!0,data:Be,method:_.method,action:N},null,Be)}}else typeof N=="function"&&(te.preventDefault(),Be=L?wB(_,L):new FormData(_),up(d,{pending:!0,data:Be,method:_.method,action:N},N,Be))},currentTarget:_}]})}}for(var zp=0;zp<Z0.length;zp++){var Xp=Z0[zp],G6=Xp.toLowerCase(),K6=Xp[0].toUpperCase()+Xp.slice(1);zs(G6,"on"+K6)}zs(Qi,"onAnimationEnd"),zs(La,"onAnimationIteration"),zs(Xr,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(pa,"onTransitionRun"),zs(pi,"onTransitionStart"),zs(mo,"onTransitionCancel"),zs(UA,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function vB(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var v=i[d],_=v.event;v=v.listeners;e:{var N=void 0;if(o)for(var L=v.length-1;0<=L;L--){var te=v[L],Be=te.instance,Pe=te.currentTarget;if(te=te.listener,Be!==N&&_.isPropagationStopped())break e;N=te,_.currentTarget=Pe;try{N(_)}catch(tt){Eh(tt)}_.currentTarget=null,N=Be}else for(L=0;L<v.length;L++){if(te=v[L],Be=te.instance,Pe=te.currentTarget,te=te.listener,Be!==N&&_.isPropagationStopped())break e;N=te,_.currentTarget=Pe;try{N(_)}catch(tt){Eh(tt)}_.currentTarget=null,N=Be}}}}function pr(i,o){var d=o[Me];d===void 0&&(d=o[Me]=new Set);var v=i+"__bubble";d.has(v)||(yB(o,i,2,!1),d.add(v))}function Wp(i,o,d){var v=0;o&&(v|=4),yB(d,i,v,o)}var od="_reactListening"+Math.random().toString(36).slice(2);function Yp(i){if(!i[od]){i[od]=!0,Je.forEach(function(d){d!=="selectionchange"&&(z6.has(d)||Wp(d,!1,i),Wp(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[od]||(o[od]=!0,Wp("selectionchange",!1,o))}}function yB(i,o,d,v){switch(qB(o)){case 2:var _=vN;break;case 8:_=yN;break;default:_=cm}d=_.bind(null,o,d,i),_=void 0,!yl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),v?_!==void 0?i.addEventListener(o,d,{capture:!0,passive:_}):i.addEventListener(o,d,!0):_!==void 0?i.addEventListener(o,d,{passive:_}):i.addEventListener(o,d,!1)}function qp(i,o,d,v,_){var N=v;if((o&1)===0&&(o&2)===0&&v!==null)e:for(;;){if(v===null)return;var L=v.tag;if(L===3||L===4){var te=v.stateNode.containerInfo;if(te===_)break;if(L===4)for(L=v.return;L!==null;){var Be=L.tag;if((Be===3||Be===4)&&L.stateNode.containerInfo===_)return;L=L.return}for(;te!==null;){if(L=ct(te),L===null)return;if(Be=L.tag,Be===5||Be===6||Be===26||Be===27){v=N=L;continue e}te=te.parentNode}}v=v.return}bc(function(){var Pe=N,tt=xo(d),it=[];e:{var Ge=yh.get(i);if(Ge!==void 0){var Ye=Ln,Dt=i;switch(i){case"keypress":if(es(d)===0)break e;case"keydown":case"keyup":Ye=DA;break;case"focusin":Dt="focus",Ye=oA;break;case"focusout":Dt="blur",Ye=oA;break;case"beforeblur":case"afterblur":Ye=oA;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=FA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Tc;break;case Qi:case La:case Xr:Ye=$t;break;case UA:Ye=Mi;break;case"scroll":case"scrollend":Ye=El;break;case"wheel":Ye=Sc;break;case"copy":case"cut":case"paste":Ye=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=kr;break;case"toggle":case"beforetoggle":Ye=ys}var Wt=(o&4)!==0,sn=!Wt&&(i==="scroll"||i==="scrollend"),Fe=Wt?Ge!==null?Ge+"Capture":null:Ge;Wt=[];for(var Se=Pe,Qe;Se!==null;){var at=Se;if(Qe=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Qe===null||Fe===null||(at=Gt(Se,Fe),at!=null&&Wt.push(Eu(Se,at,Qe))),sn)break;Se=Se.return}0<Wt.length&&(Ge=new Ye(Ge,Dt,null,d,tt),it.push({event:Ge,listeners:Wt}))}}if((o&7)===0){e:{if(Ge=i==="mouseover"||i==="pointerover",Ye=i==="mouseout"||i==="pointerout",Ge&&d!==sA&&(Dt=d.relatedTarget||d.fromElement)&&(ct(Dt)||Dt[ve]))break e;if((Ye||Ge)&&(Ge=tt.window===tt?tt:(Ge=tt.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Ye?(Dt=d.relatedTarget||d.toElement,Ye=Pe,Dt=Dt?ct(Dt):null,Dt!==null&&(sn=s(Dt),Wt=Dt.tag,Dt!==sn||Wt!==5&&Wt!==27&&Wt!==6)&&(Dt=null)):(Ye=null,Dt=Pe),Ye!==Dt)){if(Wt=Or,at="onMouseLeave",Fe="onMouseEnter",Se="mouse",(i==="pointerout"||i==="pointerover")&&(Wt=kr,at="onPointerLeave",Fe="onPointerEnter",Se="pointer"),sn=Ye==null?Ge:ht(Ye),Qe=Dt==null?Ge:ht(Dt),Ge=new Wt(at,Se+"leave",Ye,d,tt),Ge.target=sn,Ge.relatedTarget=Qe,at=null,ct(tt)===Pe&&(Wt=new Wt(Fe,Se+"enter",Dt,d,tt),Wt.target=Qe,Wt.relatedTarget=sn,at=Wt),sn=at,Ye&&Dt)t:{for(Wt=X6,Fe=Ye,Se=Dt,Qe=0,at=Fe;at;at=Wt(at))Qe++;at=0;for(var Kt=Se;Kt;Kt=Wt(Kt))at++;for(;0<Qe-at;)Fe=Wt(Fe),Qe--;for(;0<at-Qe;)Se=Wt(Se),at--;for(;Qe--;){if(Fe===Se||Se!==null&&Fe===Se.alternate){Wt=Fe;break t}Fe=Wt(Fe),Se=Wt(Se)}Wt=null}else Wt=null;Ye!==null&&EB(it,Ge,Ye,Wt,!1),Dt!==null&&sn!==null&&EB(it,sn,Dt,Wt,!0)}}e:{if(Ge=Pe?ht(Pe):window,Ye=Ge.nodeName&&Ge.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Ge.type==="file")var Pr=ts;else if(Qa(Ge))if(vh)Pr=m;else{Pr=c;var Qt=A}else Ye=Ge.nodeName,!Ye||Ye.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?Pe&&Yr(Pe.elementType)&&(Pr=ts):Pr=u;if(Pr&&(Pr=Pr(i,Pe))){_a(it,Pr,d,tt);break e}Qt&&Qt(i,Ge,Pe),i==="focusout"&&Pe&&Ge.type==="number"&&Pe.memoizedProps.value!=null&&de(Ge,"number",Ge.value)}switch(Qt=Pe?ht(Pe):window,i){case"focusin":(Qa(Qt)||Qt.contentEditable==="true")&&(be=Qt,Te=Pe,De=null);break;case"focusout":De=Te=be=null;break;case"mousedown":Xe=!0;break;case"contextmenu":case"mouseup":case"dragend":Xe=!1,xt(it,d,tt);break;case"selectionchange":if(we)break;case"keydown":case"keyup":xt(it,d,tt)}var hr;if(U)e:{switch(i){case"compositionstart":var yr="onCompositionStart";break e;case"compositionend":yr="onCompositionEnd";break e;case"compositionupdate":yr="onCompositionUpdate";break e}yr=void 0}else fr?Lr(i,d)&&(yr="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(yr="onCompositionStart");yr&&(ke&&d.locale!=="ko"&&(fr||yr!=="onCompositionStart"?yr==="onCompositionEnd"&&fr&&(hr=Oi()):(ti=tt,Di="value"in ti?ti.value:ti.textContent,fr=!0)),Qt=ld(Pe,yr),0<Qt.length&&(yr=new Bl(yr,i,null,d,tt),it.push({event:yr,listeners:Qt}),hr?yr.data=hr:(hr=dn(d),hr!==null&&(yr.data=hr)))),(hr=le?ln(i,d):kn(i,d))&&(yr=ld(Pe,"onBeforeInput"),0<yr.length&&(Qt=new Bl("onBeforeInput","beforeinput",null,d,tt),it.push({event:Qt,listeners:yr}),Qt.data=hr)),V6(it,i,Pe,d,tt)}vB(it,o)})}function Eu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function ld(i,o){for(var d=o+"Capture",v=[];i!==null;){var _=i,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Gt(i,d),_!=null&&v.unshift(Eu(i,_,N)),_=Gt(i,o),_!=null&&v.push(Eu(i,_,N))),i.tag===3)return v;i=i.return}return[]}function X6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function EB(i,o,d,v,_){for(var N=o._reactName,L=[];d!==null&&d!==v;){var te=d,Be=te.alternate,Pe=te.stateNode;if(te=te.tag,Be!==null&&Be===v)break;te!==5&&te!==26&&te!==27||Pe===null||(Be=Pe,_?(Pe=Gt(d,N),Pe!=null&&L.unshift(Eu(d,Pe,Be))):_||(Pe=Gt(d,N),Pe!=null&&L.push(Eu(d,Pe,Be)))),d=d.return}L.length!==0&&i.push({event:o,listeners:L})}var W6=/\r\n?/g,Y6=/\u0000|\uFFFD/g;function BB(i){return(typeof i=="string"?i:""+i).replace(W6,`
`).replace(Y6,"")}function CB(i,o){return o=BB(o),BB(i)===o}function an(i,o,d,v,_,N){switch(d){case"children":typeof v=="string"?o==="body"||o==="textarea"&&v===""||Fi(i,v):(typeof v=="number"||typeof v=="bigint")&&o!=="body"&&Fi(i,""+v);break;case"className":ms(i,"class",v);break;case"tabIndex":ms(i,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(i,d,v);break;case"style":Lt(i,v,N);break;case"data":if(o!=="object"){ms(i,"data",v);break}case"src":case"href":if(v===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(d);break}v=Ni(""+v),i.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&an(i,o,"name",_.name,_,null),an(i,o,"formEncType",_.formEncType,_,null),an(i,o,"formMethod",_.formMethod,_,null),an(i,o,"formTarget",_.formTarget,_,null)):(an(i,o,"encType",_.encType,_,null),an(i,o,"method",_.method,_,null),an(i,o,"target",_.target,_,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(d);break}v=Ni(""+v),i.setAttribute(d,v);break;case"onClick":v!=null&&(i.onclick=On);break;case"onScroll":v!=null&&pr("scroll",i);break;case"onScrollEnd":v!=null&&pr("scrollend",i);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(_.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":i.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){i.removeAttribute("xlink:href");break}d=Ni(""+v),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,""+v):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":v===!0?i.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,v):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?i.setAttribute(d,v):i.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?i.removeAttribute(d):i.setAttribute(d,v);break;case"popover":pr("beforetoggle",i),pr("toggle",i),Mn(i,"popover",v);break;case"xlinkActuate":$a(i,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":$a(i,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":$a(i,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":$a(i,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":$a(i,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":$a(i,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":$a(i,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":$a(i,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":$a(i,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Mn(i,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Cc.get(d)||d,Mn(i,d,v))}}function Zp(i,o,d,v,_,N){switch(d){case"style":Lt(i,v,N);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(_.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof v=="string"?Fi(i,v):(typeof v=="number"||typeof v=="bigint")&&Fi(i,""+v);break;case"onScroll":v!=null&&pr("scroll",i);break;case"onScrollEnd":v!=null&&pr("scrollend",i);break;case"onClick":v!=null&&(i.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),o=d.slice(2,_?d.length-7:void 0),N=i[he]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,_),typeof v=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,v,_);break e}d in i?i[d]=v:v===!0?i.setAttribute(d,""):Mn(i,d,v)}}}function Va(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pr("error",i),pr("load",i);var v=!1,_=!1,N;for(N in d)if(d.hasOwnProperty(N)){var L=d[N];if(L!=null)switch(N){case"src":v=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:an(i,o,N,L,d,null)}}_&&an(i,o,"srcSet",d.srcSet,d,null),v&&an(i,o,"src",d.src,d,null);return;case"input":pr("invalid",i);var te=N=L=_=null,Be=null,Pe=null;for(v in d)if(d.hasOwnProperty(v)){var tt=d[v];if(tt!=null)switch(v){case"name":_=tt;break;case"type":L=tt;break;case"checked":Be=tt;break;case"defaultChecked":Pe=tt;break;case"value":N=tt;break;case"defaultValue":te=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,o));break;default:an(i,o,v,tt,d,null)}}Ue(i,N,te,Be,Pe,L,_,!1);return;case"select":pr("invalid",i),v=L=N=null;for(_ in d)if(d.hasOwnProperty(_)&&(te=d[_],te!=null))switch(_){case"value":N=te;break;case"defaultValue":L=te;break;case"multiple":v=te;default:an(i,o,_,te,d,null)}o=N,d=L,i.multiple=!!v,o!=null?mt(i,!!v,o,!1):d!=null&&mt(i,!!v,d,!0);return;case"textarea":pr("invalid",i),N=_=v=null;for(L in d)if(d.hasOwnProperty(L)&&(te=d[L],te!=null))switch(L){case"value":v=te;break;case"defaultValue":_=te;break;case"children":N=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:an(i,o,L,te,d,null)}Yn(i,v,_,N);return;case"option":for(Be in d)if(d.hasOwnProperty(Be)&&(v=d[Be],v!=null))switch(Be){case"selected":i.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:an(i,o,Be,v,d,null)}return;case"dialog":pr("beforetoggle",i),pr("toggle",i),pr("cancel",i),pr("close",i);break;case"iframe":case"object":pr("load",i);break;case"video":case"audio":for(v=0;v<yu.length;v++)pr(yu[v],i);break;case"image":pr("error",i),pr("load",i);break;case"details":pr("toggle",i);break;case"embed":case"source":case"link":pr("error",i),pr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in d)if(d.hasOwnProperty(Pe)&&(v=d[Pe],v!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:an(i,o,Pe,v,d,null)}return;default:if(Yr(o)){for(tt in d)d.hasOwnProperty(tt)&&(v=d[tt],v!==void 0&&Zp(i,o,tt,v,d,void 0));return}}for(te in d)d.hasOwnProperty(te)&&(v=d[te],v!=null&&an(i,o,te,v,d,null))}function q6(i,o,d,v){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,L=null,te=null,Be=null,Pe=null,tt=null;for(Ye in d){var it=d[Ye];if(d.hasOwnProperty(Ye)&&it!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":Be=it;default:v.hasOwnProperty(Ye)||an(i,o,Ye,null,v,it)}}for(var Ge in v){var Ye=v[Ge];if(it=d[Ge],v.hasOwnProperty(Ge)&&(Ye!=null||it!=null))switch(Ge){case"type":N=Ye;break;case"name":_=Ye;break;case"checked":Pe=Ye;break;case"defaultChecked":tt=Ye;break;case"value":L=Ye;break;case"defaultValue":te=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,o));break;default:Ye!==it&&an(i,o,Ge,Ye,v,it)}}wn(i,L,te,Be,Pe,tt,N,_);return;case"select":Ye=L=te=Ge=null;for(N in d)if(Be=d[N],d.hasOwnProperty(N)&&Be!=null)switch(N){case"value":break;case"multiple":Ye=Be;default:v.hasOwnProperty(N)||an(i,o,N,null,v,Be)}for(_ in v)if(N=v[_],Be=d[_],v.hasOwnProperty(_)&&(N!=null||Be!=null))switch(_){case"value":Ge=N;break;case"defaultValue":te=N;break;case"multiple":L=N;default:N!==Be&&an(i,o,_,N,v,Be)}o=te,d=L,v=Ye,Ge!=null?mt(i,!!d,Ge,!1):!!v!=!!d&&(o!=null?mt(i,!!d,o,!0):mt(i,!!d,d?[]:"",!1));return;case"textarea":Ye=Ge=null;for(te in d)if(_=d[te],d.hasOwnProperty(te)&&_!=null&&!v.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:an(i,o,te,null,v,_)}for(L in v)if(_=v[L],N=d[L],v.hasOwnProperty(L)&&(_!=null||N!=null))switch(L){case"value":Ge=_;break;case"defaultValue":Ye=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(n(91));break;default:_!==N&&an(i,o,L,_,v,N)}hn(i,Ge,Ye);return;case"option":for(var Dt in d)if(Ge=d[Dt],d.hasOwnProperty(Dt)&&Ge!=null&&!v.hasOwnProperty(Dt))switch(Dt){case"selected":i.selected=!1;break;default:an(i,o,Dt,null,v,Ge)}for(Be in v)if(Ge=v[Be],Ye=d[Be],v.hasOwnProperty(Be)&&Ge!==Ye&&(Ge!=null||Ye!=null))switch(Be){case"selected":i.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:an(i,o,Be,Ge,v,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in d)Ge=d[Wt],d.hasOwnProperty(Wt)&&Ge!=null&&!v.hasOwnProperty(Wt)&&an(i,o,Wt,null,v,Ge);for(Pe in v)if(Ge=v[Pe],Ye=d[Pe],v.hasOwnProperty(Pe)&&Ge!==Ye&&(Ge!=null||Ye!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,o));break;default:an(i,o,Pe,Ge,v,Ye)}return;default:if(Yr(o)){for(var sn in d)Ge=d[sn],d.hasOwnProperty(sn)&&Ge!==void 0&&!v.hasOwnProperty(sn)&&Zp(i,o,sn,void 0,v,Ge);for(tt in v)Ge=v[tt],Ye=d[tt],!v.hasOwnProperty(tt)||Ge===Ye||Ge===void 0&&Ye===void 0||Zp(i,o,tt,Ge,v,Ye);return}}for(var Fe in d)Ge=d[Fe],d.hasOwnProperty(Fe)&&Ge!=null&&!v.hasOwnProperty(Fe)&&an(i,o,Fe,null,v,Ge);for(it in v)Ge=v[it],Ye=d[it],!v.hasOwnProperty(it)||Ge===Ye||Ge==null&&Ye==null||an(i,o,it,Ge,v,Ye)}function bB(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var _=d[v],N=_.transferSize,L=_.initiatorType,te=_.duration;if(N&&te&&bB(L)){for(L=0,te=_.responseEnd,v+=1;v<d.length;v++){var Be=d[v],Pe=Be.startTime;if(Pe>te)break;var tt=Be.transferSize,it=Be.initiatorType;tt&&bB(it)&&(Be=Be.responseEnd,L+=tt*(Be<te?1:(te-Pe)/(Be-Pe)))}if(--v,o+=8*(N+L)/(_.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jp=null,$p=null;function cd(i){return i.nodeType===9?i:i.ownerDocument}function _B(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TB(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function em(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tm=null;function J6(){var i=window.event;return i&&i.type==="popstate"?i===tm?!1:(tm=i,!0):(tm=null,!1)}var SB=typeof setTimeout=="function"?setTimeout:void 0,$6=typeof clearTimeout=="function"?clearTimeout:void 0,IB=typeof Promise=="function"?Promise:void 0,eN=typeof queueMicrotask=="function"?queueMicrotask:typeof IB<"u"?function(i){return IB.resolve(null).then(i).catch(tN)}:SB;function tN(i){setTimeout(function(){throw i})}function ko(i){return i==="head"}function FB(i,o){var d=o,v=0;do{var _=d.nextSibling;if(i.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"||d==="/&"){if(v===0){i.removeChild(_),e0(o);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Bu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,Bu(d);for(var N=d.firstChild;N;){var L=N.nextSibling,te=N.nodeName;N[He]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=L}}else d==="body"&&Bu(i.ownerDocument.body);d=_}while(d);e0(o)}function NB(i,o){var d=i;i=0;do{var v=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=v}while(d)}function rm(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":rm(d),st(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function rN(i,o,d,v){for(;i.nodeType===1;){var _=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!v&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(v){if(!i[He])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function nN(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Ss(i.nextSibling),i===null))return null;return i}function RB(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ss(i.nextSibling),i===null))return null;return i}function nm(i){return i.data==="$?"||i.data==="$~"}function am(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aN(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var v=function(){o(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),i._reactRetry=v}}function Ss(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var im=null;function DB(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Ss(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function OB(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function kB(i,o,d){switch(o=cd(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Bu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);st(i)}var Is=new Map,UB=new Set;function ud(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ZA=ue.d;ue.d={f:iN,r:sN,D:AN,C:oN,L:lN,m:cN,X:fN,S:uN,M:hN};function iN(){var i=ZA.f(),o=rd();return i||o}function sN(i){var o=ut(i);o!==null&&o.tag===5&&o.type==="form"?$y(o):ZA.r(i)}var Zc=typeof document>"u"?null:document;function MB(i,o,d){var v=Zc;if(v&&typeof o=="string"&&o){var _=Yt(o);_='link[rel="'+i+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),UB.has(_)||(UB.add(_),i={rel:i,crossOrigin:d,href:o},v.querySelector(_)===null&&(o=v.createElement("link"),Va(o,"link",i),St(o),v.head.appendChild(o)))}}function AN(i){ZA.D(i),MB("dns-prefetch",i,null)}function oN(i,o){ZA.C(i,o),MB("preconnect",i,o)}function lN(i,o,d){ZA.L(i,o,d);var v=Zc;if(v&&i&&o){var _='link[rel="preload"][as="'+Yt(o)+'"]';o==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Yt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Yt(d.imageSizes)+'"]')):_+='[href="'+Yt(i)+'"]';var N=_;switch(o){case"style":N=Jc(i);break;case"script":N=$c(i)}Is.has(N)||(i=y({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Is.set(N,i),v.querySelector(_)!==null||o==="style"&&v.querySelector(Cu(N))||o==="script"&&v.querySelector(bu(N))||(o=v.createElement("link"),Va(o,"link",i),St(o),v.head.appendChild(o)))}}function cN(i,o){ZA.m(i,o);var d=Zc;if(d&&i){var v=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Yt(v)+'"][href="'+Yt(i)+'"]',N=_;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=$c(i)}if(!Is.has(N)&&(i=y({rel:"modulepreload",href:i},o),Is.set(N,i),d.querySelector(_)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(bu(N)))return}v=d.createElement("link"),Va(v,"link",i),St(v),d.head.appendChild(v)}}}function uN(i,o,d){ZA.S(i,o,d);var v=Zc;if(v&&i){var _=pt(v).hoistableStyles,N=Jc(i);o=o||"default";var L=_.get(N);if(!L){var te={loading:0,preload:null};if(L=v.querySelector(Cu(N)))te.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Is.get(N))&&sm(i,d);var Be=L=v.createElement("link");St(Be),Va(Be,"link",i),Be._p=new Promise(function(Pe,tt){Be.onload=Pe,Be.onerror=tt}),Be.addEventListener("load",function(){te.loading|=1}),Be.addEventListener("error",function(){te.loading|=2}),te.loading|=4,fd(L,o,v)}L={type:"stylesheet",instance:L,count:1,state:te},_.set(N,L)}}}function fN(i,o){ZA.X(i,o);var d=Zc;if(d&&i){var v=pt(d).hoistableScripts,_=$c(i),N=v.get(_);N||(N=d.querySelector(bu(_)),N||(i=y({src:i,async:!0},o),(o=Is.get(_))&&Am(i,o),N=d.createElement("script"),St(N),Va(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(_,N))}}function hN(i,o){ZA.M(i,o);var d=Zc;if(d&&i){var v=pt(d).hoistableScripts,_=$c(i),N=v.get(_);N||(N=d.querySelector(bu(_)),N||(i=y({src:i,async:!0,type:"module"},o),(o=Is.get(_))&&Am(i,o),N=d.createElement("script"),St(N),Va(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},v.set(_,N))}}function QB(i,o,d,v){var _=(_=Ce.current)?ud(_):null;if(!_)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Jc(d.href),d=pt(_).hoistableStyles,v=d.get(o),v||(v={type:"style",instance:null,count:0,state:null},d.set(o,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Jc(d.href);var N=pt(_).hoistableStyles,L=N.get(i);if(L||(_=_.ownerDocument||_,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,L),(N=_.querySelector(Cu(i)))&&!N._p&&(L.instance=N,L.state.loading=5),Is.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Is.set(i,d),N||dN(_,i,d,L.state))),o&&v===null)throw Error(n(528,""));return L}if(o&&v!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=$c(d),d=pt(_).hoistableScripts,v=d.get(o),v||(v={type:"script",instance:null,count:0,state:null},d.set(o,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Jc(i){return'href="'+Yt(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function LB(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function dN(i,o,d,v){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?v.loading=1:(o=i.createElement("link"),v.preload=o,o.addEventListener("load",function(){return v.loading|=1}),o.addEventListener("error",function(){return v.loading|=2}),Va(o,"link",d),St(o),i.head.appendChild(o))}function $c(i){return'[src="'+Yt(i)+'"]'}function bu(i){return"script[async]"+i}function PB(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var v=i.querySelector('style[data-href~="'+Yt(d.href)+'"]');if(v)return o.instance=v,St(v),v;var _=y({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(i.ownerDocument||i).createElement("style"),St(v),Va(v,"style",_),fd(v,d.precedence,i),o.instance=v;case"stylesheet":_=Jc(d.href);var N=i.querySelector(Cu(_));if(N)return o.state.loading|=4,o.instance=N,St(N),N;v=LB(d),(_=Is.get(_))&&sm(v,_),N=(i.ownerDocument||i).createElement("link"),St(N);var L=N;return L._p=new Promise(function(te,Be){L.onload=te,L.onerror=Be}),Va(N,"link",v),o.state.loading|=4,fd(N,d.precedence,i),o.instance=N;case"script":return N=$c(d.src),(_=i.querySelector(bu(N)))?(o.instance=_,St(_),_):(v=d,(_=Is.get(N))&&(v=y({},d),Am(v,_)),i=i.ownerDocument||i,_=i.createElement("script"),St(_),Va(_,"link",v),i.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(v=o.instance,o.state.loading|=4,fd(v,d.precedence,i));return o.instance}function fd(i,o,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=v.length?v[v.length-1]:null,N=_,L=0;L<v.length;L++){var te=v[L];if(te.dataset.precedence===o)N=te;else if(N!==_)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function sm(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Am(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hd=null;function jB(i,o,d){if(hd===null){var v=new Map,_=hd=new Map;_.set(d,v)}else _=hd,v=_.get(d),v||(v=new Map,_.set(d,v));if(v.has(i))return v;for(v.set(i,null),d=d.getElementsByTagName(i),_=0;_<d.length;_++){var N=d[_];if(!(N[He]||N[ce]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var L=N.getAttribute(o)||"";L=i+L;var te=v.get(L);te?te.push(N):v.set(L,[N])}}return v}function HB(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function gN(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function VB(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function xN(i,o,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var _=Jc(v.href),N=o.querySelector(Cu(_));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=dd.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=N,St(N);return}N=o.ownerDocument||o,v=LB(v),(_=Is.get(_))&&sm(v,_),N=N.createElement("link"),St(N);var L=N;L._p=new Promise(function(te,Be){L.onload=te,L.onerror=Be}),Va(N,"link",v),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=dd.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var om=0;function pN(i,o){return i.stylesheets&&i.count===0&&xd(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var v=setTimeout(function(){if(i.stylesheets&&xd(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+o);0<i.imgBytes&&om===0&&(om=62500*Z6());var _=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&xd(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>om?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(v),clearTimeout(_)}}:null}function dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gd=null;function xd(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gd=new Map,o.forEach(mN,i),gd=null,dd.call(i))}function mN(i,o){if(!(o.state.loading&4)){var d=gd.get(i);if(d)var v=d.get(null);else{d=new Map,gd.set(i,d);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var L=_[N];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),v=L)}v&&d.set(null,v)}_=o.instance,L=_.getAttribute("data-precedence"),N=d.get(L)||v,N===v&&d.set(null,_),d.set(L,_),this.count++,v=dd.bind(this),_.addEventListener("load",v),_.addEventListener("error",v),N?N.parentNode.insertBefore(_,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),o.state.loading|=4}}var _u={$$typeof:j,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function wN(i,o,d,v,_,N,L,te,Be){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=v,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function GB(i,o,d,v,_,N,L,te,Be,Pe,tt,it){return i=new wN(i,o,d,L,Be,Pe,tt,it,te),o=1,N===!0&&(o|=24),N=rs(3,null,null,o),i.current=N,N.stateNode=i,o=jx(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:v,isDehydrated:d,cache:o},Kx(N),i}function KB(i){return i?(i=Fc,i):Fc}function zB(i,o,d,v,_,N){_=KB(_),v.context===null?v.context=_:v.pendingContext=_,v=Co(o),v.payload={element:d},N=N===void 0?null:N,N!==null&&(v.callback=N),d=bo(i,v,o),d!==null&&(Vi(d,i,o),au(d,i,o))}function XB(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function lm(i,o){XB(i,o),(i=i.alternate)&&XB(i,o)}function WB(i){if(i.tag===13||i.tag===31){var o=Sl(i,67108864);o!==null&&Vi(o,i,67108864),lm(i,67108864)}}function YB(i){if(i.tag===13||i.tag===31){var o=As();o=bn(o);var d=Sl(i,o);d!==null&&Vi(d,i,o),lm(i,o)}}var pd=!0;function vN(i,o,d,v){var _=ie.T;ie.T=null;var N=ue.p;try{ue.p=2,cm(i,o,d,v)}finally{ue.p=N,ie.T=_}}function yN(i,o,d,v){var _=ie.T;ie.T=null;var N=ue.p;try{ue.p=8,cm(i,o,d,v)}finally{ue.p=N,ie.T=_}}function cm(i,o,d,v){if(pd){var _=um(v);if(_===null)qp(i,o,v,md,d),ZB(i,v);else if(BN(_,i,o,d,v))v.stopPropagation();else if(ZB(i,v),o&4&&-1<EN.indexOf(i)){for(;_!==null;){var N=ut(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var L=Gr(N.pendingLanes);if(L!==0){var te=N;for(te.pendingLanes|=2,te.entangledLanes|=2;L;){var Be=1<<31-nt(L);te.entanglements[1]|=Be,L&=~Be}hA(N),(Kr&6)===0&&(ed=tr()+500,vu(0))}}break;case 31:case 13:te=Sl(N,2),te!==null&&Vi(te,N,2),rd(),lm(N,2)}if(N=um(v),N===null&&qp(i,o,v,md,d),N===_)break;_=N}_!==null&&v.stopPropagation()}else qp(i,o,v,null,d)}}function um(i){return i=xo(i),fm(i)}var md=null;function fm(i){if(md=null,i=ct(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=l(o),i!==null)return i;i=null}else if(d===31){if(i=f(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return md=i,null}function qB(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case Jt:return 2;case Vr:return 8;case Ze:case Nt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var hm=!1,Uo=null,Mo=null,Qo=null,Tu=new Map,Su=new Map,Lo=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZB(i,o){switch(i){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Tu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(o.pointerId)}}function Iu(i,o,d,v,_,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:v,nativeEvent:N,targetContainers:[_]},o!==null&&(o=ut(o),o!==null&&WB(o)),i):(i.eventSystemFlags|=v,o=i.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),i)}function BN(i,o,d,v,_){switch(o){case"focusin":return Uo=Iu(Uo,i,o,d,v,_),!0;case"dragenter":return Mo=Iu(Mo,i,o,d,v,_),!0;case"mouseover":return Qo=Iu(Qo,i,o,d,v,_),!0;case"pointerover":var N=_.pointerId;return Tu.set(N,Iu(Tu.get(N)||null,i,o,d,v,_)),!0;case"gotpointercapture":return N=_.pointerId,Su.set(N,Iu(Su.get(N)||null,i,o,d,v,_)),!0}return!1}function JB(i){var o=ct(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){i.blockedOn=o,ne(i.priority,function(){YB(d)});return}}else if(o===31){if(o=f(d),o!==null){i.blockedOn=o,ne(i.priority,function(){YB(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wd(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=um(i.nativeEvent);if(d===null){d=i.nativeEvent;var v=new d.constructor(d.type,d);sA=v,d.target.dispatchEvent(v),sA=null}else return o=ut(d),o!==null&&WB(o),i.blockedOn=d,!1;o.shift()}return!0}function $B(i,o,d){wd(i)&&d.delete(o)}function CN(){hm=!1,Uo!==null&&wd(Uo)&&(Uo=null),Mo!==null&&wd(Mo)&&(Mo=null),Qo!==null&&wd(Qo)&&(Qo=null),Tu.forEach($B),Su.forEach($B)}function vd(i,o){i.blockedOn===o&&(i.blockedOn=null,hm||(hm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CN)))}var yd=null;function eC(i){yd!==i&&(yd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yd===i&&(yd=null);for(var o=0;o<i.length;o+=3){var d=i[o],v=i[o+1],_=i[o+2];if(typeof v!="function"){if(fm(v||d)===null)continue;break}var N=ut(d);N!==null&&(i.splice(o,3),o-=3,up(N,{pending:!0,data:_,method:d.method,action:v},v,_))}}))}function e0(i){function o(Be){return vd(Be,i)}Uo!==null&&vd(Uo,i),Mo!==null&&vd(Mo,i),Qo!==null&&vd(Qo,i),Tu.forEach(o),Su.forEach(o);for(var d=0;d<Lo.length;d++){var v=Lo[d];v.blockedOn===i&&(v.blockedOn=null)}for(;0<Lo.length&&(d=Lo[0],d.blockedOn===null);)JB(d),d.blockedOn===null&&Lo.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var _=d[v],N=d[v+1],L=_[he]||null;if(typeof N=="function")L||eC(d);else if(L){var te=null;if(N&&N.hasAttribute("formAction")){if(_=N,L=N[he]||null)te=L.formAction;else if(fm(_)!==null)continue}else te=L.action;typeof te=="function"?d[v+1]=te:(d.splice(v,3),v-=3),eC(d)}}}function tC(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(L){return _=L})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,_=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function dm(i){this._internalRoot=i}Ed.prototype.render=dm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,v=As();zB(d,v,i,o,null,null)},Ed.prototype.unmount=dm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;zB(i.current,2,null,i,null,null),rd(),o[ve]=null}};function Ed(i){this._internalRoot=i}Ed.prototype.unstable_scheduleHydration=function(i){if(i){var o=J();i={blockedOn:null,target:i,priority:o};for(var d=0;d<Lo.length&&o!==0&&o<Lo[d].priority;d++);Lo.splice(d,0,i),d===0&&JB(i)}};var rC=e.version;if(rC!=="19.2.3")throw Error(n(527,rC,"19.2.3"));ue.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var bN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Mt=Bd.inject(bN),At=Bd}catch{}}return Nu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,v="",_=lE,N=cE,L=uE;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),o=GB(i,1,!1,null,null,d,v,null,_,N,L,tC),i[ve]=o.current,Yp(i),new dm(o)},Nu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var v=!1,_="",N=lE,L=cE,te=uE,Be=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(te=d.onRecoverableError),d.formState!==void 0&&(Be=d.formState)),o=GB(i,1,!0,o,d??null,v,_,Be,N,L,te,tC),o.context=KB(null),d=o.current,v=As(),v=bn(v),_=Co(v),_.callback=null,bo(d,_,v),d=v,o.current.lanes=d,Da(o,d),hA(o),i[ve]=o.current,Yp(i),new Ed(o)},Nu.version="19.2.3",Nu}var fC;function MN(){if(fC)return pm.exports;fC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pm.exports=UN(),pm.exports}var QN=MN();const LN=Kg(QN),PN=({onLoginSuccess:t,settings:e})=>{const[r,n]=Ne.useState(""),[a,s]=Ne.useState(!1),[l,f]=Ne.useState(""),g=h=>{if(h.preventDefault(),f(""),r===e.loginPassword){t({role:"admin",name:e.userName,phone:e.loginPhone,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}});return}const p=e.staffList.find(y=>y.password===r);if(p){t({role:"staff",name:p.name,phone:p.phone,permissions:p.permissions});return}f("   ")};return x.jsx("div",{className:"relative w-full h-screen custom-gradient-bg flex items-center justify-center overflow-hidden",children:x.jsxs("div",{className:"w-full h-full md:max-w-4xl md:h-auto md:flex md:rounded-[3rem] md:overflow-hidden md:shadow-2xl md:bg-[#1a1a1a]",children:[x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-6 pt-12 md:pt-0 md:bg-black/20 md:p-12",children:[x.jsx("h1",{className:"text-white text-3xl md:text-4xl font-bold mb-2",children:"   "}),x.jsx("h2",{className:"text-white text-5xl md:text-6xl font-extrabold tracking-wider",children:"MAMA"}),x.jsx("p",{className:"text-gray-400 mt-4 text-sm font-medium",children:"    "})]}),x.jsxs("div",{className:"bg-[#1a1a1a] rounded-t-[3rem] md:rounded-none w-full px-8 pt-8 pb-12 flex flex-col items-center transition-all duration-500 border-t border-gray-800 md:border-t-0 md:border-r md:w-[450px] md:h-auto h-full mt-auto md:mt-0 justify-center",children:[x.jsx("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mb-10 opacity-30 md:hidden"}),x.jsx("h3",{className:"text-white text-3xl font-bold mb-10",children:" "}),l&&x.jsx("div",{className:"w-full bg-red-500/10 border border-red-500/30 rounded-xl py-3 px-4 mb-6 text-red-500 text-center text-sm font-bold animate-in fade-in slide-in-from-top-2",children:l}),x.jsxs("form",{onSubmit:g,className:"w-full space-y-6",children:[x.jsxs("div",{className:"input-container relative",children:[x.jsx("label",{className:"input-label",children:" "}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:a?"text":"password",placeholder:"  ",className:"custom-input pl-12",value:r,onChange:h=>n(h.target.value),required:!0}),x.jsx("button",{type:"button",className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#57b385] transition-colors",onClick:()=>s(!a),"aria-label":a?"  ":"  ",children:a?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),x.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),x.jsx("button",{type:"submit",className:"w-full btn-gradient py-4 rounded-2xl text-white text-xl font-bold shadow-lg hover:brightness-110 active:scale-[0.98] transition-all",children:" "})]}),x.jsx("div",{className:"mt-20 text-center",children:x.jsxs("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["    ",new Date().getFullYear()," MAMA SYSTEMS"]})})]})]})})},Y3=(t,e)=>{const r=window.open("","_blank");if(!r){alert("     ");return}const n=t.items||[];n.reduce((s,l)=>s+l.count,0);const a=`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
      <head>
        <title> #${t.id}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
          
          * {
            box-sizing: border-box;
          }

          body {
            font-family: 'Tajawal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: white;
            color: black;
            font-size: 12px;
          }
          
          .receipt {
            max-width: ${e.receiptSize==="58mm"?"58mm":"80mm"};
            margin: 0 auto;
            padding: 10px 20px; /* Added significant side padding */
          }
          
          .header {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 10px;
          }
          
          .logo {
            max-width: 60px;
            max-height: 60px;
            margin-bottom: 5px;
          }
          
          .title {
            font-size: 16px;
            font-weight: 800;
            margin: 5px 0;
          }
          
          .info {
            font-size: 10px;
            margin-bottom: 5px;
          }
          
          .customer-info {
            margin-bottom: 10px;
            border-bottom: 1px dashed #000;
            padding-bottom: 5px;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
          }
          
          th {
            text-align: right;
            border-bottom: 1px solid #000;
            font-size: 10px;
            padding: 2px 0;
          }
          
          td {
            text-align: right;
            font-size: 10px;
            padding: 4px 0;
            vertical-align: top;
          }
          
          .col-price { text-align: center; }
          .col-total { text-align: left; }
          
          .totals {
            border-top: 1px dashed #000;
            padding-top: 5px;
            margin-top: 5px;
          }
          
          .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-weight: bold;
          }
          
          .total-row {
            font-size: 14px;
            font-weight: 900;
            margin-top: 5px;
          }
          
          .footer {
            text-align: center;
            margin-top: 15px;
            font-size: 9px;
            border-top: 1px dashed #000;
            padding-top: 10px;
          }

          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="receipt">
          
          <!-- Header -->
          <div class="header">
            ${e.businessLogo?`<img src="${e.businessLogo}" class="logo" />`:""}
            <div class="title">${e.businessName}</div>
            <div class="info">${e.userName}</div>
            <div class="info">: ${new Date().toLocaleString("ar-MA")}</div>
            <div class="info"> : ${t.id}</div>
          </div>

          <!-- Customer -->
          <div class="customer-info">
            <div style="font-weight: bold;">: ${t.name}</div>
            ${t.phone?`<div>: ${t.phone}</div>`:""}
          </div>

          <!-- Items -->
          <table>
            <thead>
              <tr>
                <th width="50%"></th>
                <th width="15%" class="col-price"></th>
                <th width="35%" class="col-total"></th>
              </tr>
            </thead>
            <tbody>
              ${n.map(s=>`
                <tr>
                  <td>${s.productName}</td>
                  <td class="col-price">${s.count}</td>
                  <td class="col-total">${s.total.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <!-- Totals -->
          <div class="totals">
            <div class="row total-row">
              <span> :</span>
              <span>${t.amount.toFixed(2)} .</span>
            </div>
            <div class="row">
              <span> (${t.method==="direct"?"":""}):</span>
              <span>${t.paidAmount.toFixed(2)} .</span>
            </div>
            ${t.remainingAmount>0?`
            <div class="row" style="color: black;">
              <span> ():</span>
              <span>${t.remainingAmount.toFixed(2)} .</span>
            </div>
            `:""}
          </div>

          <!-- Footer -->
          <div class="footer">
            <p> </p>
            <p>Thank you for your visit</p>
            ${e.showBarcode?`
              <div style="margin-top: 10px;">
                <svg id="barcode"></svg>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"><\/script>
              <script>
                try {
                  JsBarcode("#barcode", "${t.id}", {
                    format: "CODE128",
                    width: 1.5,
                    height: 40,
                    displayValue: true,
                    fontSize: 12
                  });
                } catch(e) {}
              <\/script>
            `:""}
          </div>
        </div>

        <script>
          // Print automatically when loaded
          window.onload = function() {
            setTimeout(function() {
              window.print();
              // Optional: window.close();
            }, 500);
          }
        <\/script>
      </body>
    </html>
  `;r.document.write(a),r.document.close()};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d2=function(t,e){return d2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},d2(t,e)};function iA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");d2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g2=function(){return g2=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g2.apply(this,arguments)};function vi(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,[])).next())})}function ii(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function bd(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ao=(function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),zg=function(t,e){return Ao.fromClientRect(t,e.getBoundingClientRect())},jN=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ao(0,0,n,a)},Xg=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},ra=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var l=t[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},hC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HN=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _d=0;_d<hC.length;_d++)HN[hC.charCodeAt(_d)]=_d;var dC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Td=0;Td<dC.length;Td++)Wu[dC.charCodeAt(Td)]=Td;var VN=function(t){var e=t.length*.75,r=t.length,n,a=0,s,l,f,g;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)s=Wu[t.charCodeAt(n)],l=Wu[t.charCodeAt(n+1)],f=Wu[t.charCodeAt(n+2)],g=Wu[t.charCodeAt(n+3)],p[a++]=s<<2|l>>4,p[a++]=(l&15)<<4|f>>2,p[a++]=(f&3)<<6|g&63;return h},GN=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},KN=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ec=5,Sw=11,ym=2,zN=Sw-ec,q3=65536>>ec,XN=1<<ec,Em=XN-1,WN=1024>>ec,YN=q3+WN,qN=YN,ZN=32,JN=qN+ZN,$N=65536>>Sw,e5=1<<zN,t5=e5-1,gC=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},r5=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},n5=function(t,e){var r=VN(t),n=Array.isArray(r)?KN(r):new Uint32Array(r),a=Array.isArray(r)?GN(r):new Uint16Array(r),s=24,l=gC(a,s/2,n[4]/2),f=n[5]===2?gC(a,(s+n[4])/2):r5(n,Math.ceil((s+n[4])/4));return new a5(n[0],n[1],n[2],n[3],l,f)},a5=(function(){function t(e,r,n,a,s,l){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=l}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ec],r=(r<<ym)+(e&Em),this.data[r];if(e<=65535)return r=this.index[q3+(e-55296>>ec)],r=(r<<ym)+(e&Em),this.data[r];if(e<this.highStart)return r=JN-$N+(e>>Sw),r=this.index[r],r+=e>>ec&t5,r=this.index[r],r=(r<<ym)+(e&Em),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),xC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i5=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sd=0;Sd<xC.length;Sd++)i5[xC.charCodeAt(Sd)]=Sd;var s5="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pC=50,A5=1,Z3=2,J3=3,o5=4,l5=5,mC=7,$3=8,wC=9,qo=10,x2=11,vC=12,p2=13,c5=14,Yu=15,m2=16,Id=17,Ru=18,u5=19,yC=20,w2=21,Du=22,Bm=23,t0=24,cs=25,qu=26,Zu=27,r0=28,f5=29,Wl=30,h5=31,Fd=32,Nd=33,v2=34,y2=35,E2=36,Nf=37,B2=38,Z1=39,J1=40,Cm=41,eT=42,d5=43,g5=[9001,65288],tT="!",Er="",Rd="",C2=n5(s5),JA=[Wl,E2],b2=[A5,Z3,J3,l5],rT=[qo,$3],EC=[Zu,qu],x5=b2.concat(rT),BC=[B2,Z1,J1,v2,y2],p5=[Yu,p2],m5=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(s,l){var f=C2.get(s);if(f>pC?(a.push(!0),f-=pC):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(l),r.push(m2);if(f===o5||f===x2){if(l===0)return n.push(l),r.push(Wl);var g=r[l-1];return x5.indexOf(g)===-1?(n.push(n[l-1]),r.push(g)):(n.push(l),r.push(Wl))}if(n.push(l),f===h5)return r.push(e==="strict"?w2:Nf);if(f===eT||f===f5)return r.push(Wl);if(f===d5)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Nf):r.push(Wl);r.push(f)}),[n,r,a]},bm=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var s=r;s<=n.length;){s++;var l=n[s];if(l===e)return!0;if(l!==qo)break}if(a===qo)for(var s=r;s>0;){s--;var f=n[s];if(Array.isArray(t)?t.indexOf(f)!==-1:t===f)for(var g=r;g<=n.length;){g++;var l=n[g];if(l===e)return!0;if(l!==qo)break}if(f!==qo)break}return!1},CC=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===qo)r--;else return n}return 0},w5=function(t,e,r,n,a){if(r[n]===0)return Er;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return Er;var l=s-1,f=s+1,g=e[s],h=l>=0?e[l]:0,p=e[f];if(g===Z3&&p===J3)return Er;if(b2.indexOf(g)!==-1)return tT;if(b2.indexOf(p)!==-1||rT.indexOf(p)!==-1)return Er;if(CC(s,e)===$3)return Rd;if(C2.get(t[s])===x2||(g===Fd||g===Nd)&&C2.get(t[f])===x2||g===mC||p===mC||g===wC||[qo,p2,Yu].indexOf(g)===-1&&p===wC||[Id,Ru,u5,t0,r0].indexOf(p)!==-1||CC(s,e)===Du||bm(Bm,Du,s,e)||bm([Id,Ru],w2,s,e)||bm(vC,vC,s,e))return Er;if(g===qo)return Rd;if(g===Bm||p===Bm)return Er;if(p===m2||g===m2)return Rd;if([p2,Yu,w2].indexOf(p)!==-1||g===c5||h===E2&&p5.indexOf(g)!==-1||g===r0&&p===E2||p===yC||JA.indexOf(p)!==-1&&g===cs||JA.indexOf(g)!==-1&&p===cs||g===Zu&&[Nf,Fd,Nd].indexOf(p)!==-1||[Nf,Fd,Nd].indexOf(g)!==-1&&p===qu||JA.indexOf(g)!==-1&&EC.indexOf(p)!==-1||EC.indexOf(g)!==-1&&JA.indexOf(p)!==-1||[Zu,qu].indexOf(g)!==-1&&(p===cs||[Du,Yu].indexOf(p)!==-1&&e[f+1]===cs)||[Du,Yu].indexOf(g)!==-1&&p===cs||g===cs&&[cs,r0,t0].indexOf(p)!==-1)return Er;if([cs,r0,t0,Id,Ru].indexOf(p)!==-1)for(var y=s;y>=0;){var B=e[y];if(B===cs)return Er;if([r0,t0].indexOf(B)!==-1)y--;else break}if([Zu,qu].indexOf(p)!==-1)for(var y=[Id,Ru].indexOf(g)!==-1?l:s;y>=0;){var B=e[y];if(B===cs)return Er;if([r0,t0].indexOf(B)!==-1)y--;else break}if(B2===g&&[B2,Z1,v2,y2].indexOf(p)!==-1||[Z1,v2].indexOf(g)!==-1&&[Z1,J1].indexOf(p)!==-1||[J1,y2].indexOf(g)!==-1&&p===J1||BC.indexOf(g)!==-1&&[yC,qu].indexOf(p)!==-1||BC.indexOf(p)!==-1&&g===Zu||JA.indexOf(g)!==-1&&JA.indexOf(p)!==-1||g===t0&&JA.indexOf(p)!==-1||JA.concat(cs).indexOf(g)!==-1&&p===Du&&g5.indexOf(t[f])===-1||JA.concat(cs).indexOf(p)!==-1&&g===Ru)return Er;if(g===Cm&&p===Cm){for(var T=r[s],S=1;T>0&&(T--,e[T]===Cm);)S++;if(S%2!==0)return Er}return g===Fd&&p===Nd?Er:Rd},v5=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=m5(t,e.lineBreak),n=r[0],a=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(f){return[cs,Wl,eT].indexOf(f)!==-1?Nf:f}));var l=e.wordBreak==="keep-all"?s.map(function(f,g){return f&&t[g]>=19968&&t[g]<=40959}):void 0;return[n,a,l]},y5=(function(){function t(e,r,n,a){this.codePoints=e,this.required=r===tT,this.start=n,this.end=a}return t.prototype.slice=function(){return ra.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),E5=function(t,e){var r=Xg(t),n=v5(r,e),a=n[0],s=n[1],l=n[2],f=r.length,g=0,h=0;return{next:function(){if(h>=f)return{done:!0,value:null};for(var p=Er;h<f&&(p=w5(r,s,a,++h,l))===Er;);if(p!==Er||h===f){var y=new y5(r,p,g,h);return g=h,{value:y,done:!1}}return{done:!0,value:null}}}},B5=1,C5=2,Jf=4,bC=8,sg=10,_C=47,uf=92,b5=9,_5=32,Dd=34,Ou=61,T5=35,S5=36,I5=37,Od=39,kd=40,ku=41,F5=95,zi=45,N5=33,R5=60,D5=62,O5=64,k5=91,U5=93,M5=61,Q5=123,Ud=63,L5=125,TC=124,P5=126,j5=128,SC=65533,_m=42,ql=43,H5=44,V5=58,G5=59,Rf=46,K5=0,z5=8,X5=11,W5=14,Y5=31,q5=127,dA=-1,nT=48,aT=97,iT=101,Z5=102,J5=117,$5=122,sT=65,AT=69,oT=70,eR=85,tR=90,Ai=function(t){return t>=nT&&t<=57},rR=function(t){return t>=55296&&t<=57343},n0=function(t){return Ai(t)||t>=sT&&t<=oT||t>=aT&&t<=Z5},nR=function(t){return t>=aT&&t<=$5},aR=function(t){return t>=sT&&t<=tR},iR=function(t){return nR(t)||aR(t)},sR=function(t){return t>=j5},Md=function(t){return t===sg||t===b5||t===_5},Ag=function(t){return iR(t)||sR(t)||t===F5},IC=function(t){return Ag(t)||Ai(t)||t===zi},AR=function(t){return t>=K5&&t<=z5||t===X5||t>=W5&&t<=Y5||t===q5},Wo=function(t,e){return t!==uf?!1:e!==sg},Qd=function(t,e,r){return t===zi?Ag(e)||Wo(e,r):Ag(t)?!0:!!(t===uf&&Wo(t,e))},Tm=function(t,e,r){return t===ql||t===zi?Ai(e)?!0:e===Rf&&Ai(r):Ai(t===Rf?e:t)},oR=function(t){var e=0,r=1;(t[e]===ql||t[e]===zi)&&(t[e]===zi&&(r=-1),e++);for(var n=[];Ai(t[e]);)n.push(t[e++]);var a=n.length?parseInt(ra.apply(void 0,n),10):0;t[e]===Rf&&e++;for(var s=[];Ai(t[e]);)s.push(t[e++]);var l=s.length,f=l?parseInt(ra.apply(void 0,s),10):0;(t[e]===AT||t[e]===iT)&&e++;var g=1;(t[e]===ql||t[e]===zi)&&(t[e]===zi&&(g=-1),e++);for(var h=[];Ai(t[e]);)h.push(t[e++]);var p=h.length?parseInt(ra.apply(void 0,h),10):0;return r*(a+f*Math.pow(10,-l))*Math.pow(10,g*p)},lR={type:2},cR={type:3},uR={type:4},fR={type:13},hR={type:8},dR={type:21},gR={type:9},xR={type:10},pR={type:11},mR={type:12},wR={type:14},Ld={type:23},vR={type:1},yR={type:25},ER={type:24},BR={type:26},CR={type:27},bR={type:28},_R={type:29},TR={type:31},_2={type:32},lT=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Xg(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==_2;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Dd:return this.consumeStringToken(Dd);case T5:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(IC(r)||Wo(n,a)){var s=Qd(r,n,a)?C5:B5,l=this.consumeName();return{type:5,value:l,flags:s}}break;case S5:if(this.peekCodePoint(0)===Ou)return this.consumeCodePoint(),fR;break;case Od:return this.consumeStringToken(Od);case kd:return lR;case ku:return cR;case _m:if(this.peekCodePoint(0)===Ou)return this.consumeCodePoint(),wR;break;case ql:if(Tm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case H5:return uR;case zi:var f=e,g=this.peekCodePoint(0),h=this.peekCodePoint(1);if(Tm(f,g,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Qd(f,g,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(g===zi&&h===D5)return this.consumeCodePoint(),this.consumeCodePoint(),ER;break;case Rf:if(Tm(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _C:if(this.peekCodePoint(0)===_m)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===_m&&(p=this.consumeCodePoint(),p===_C))return this.consumeToken();if(p===dA)return this.consumeToken()}break;case V5:return BR;case G5:return CR;case R5:if(this.peekCodePoint(0)===N5&&this.peekCodePoint(1)===zi&&this.peekCodePoint(2)===zi)return this.consumeCodePoint(),this.consumeCodePoint(),yR;break;case O5:var y=this.peekCodePoint(0),B=this.peekCodePoint(1),T=this.peekCodePoint(2);if(Qd(y,B,T)){var l=this.consumeName();return{type:7,value:l}}break;case k5:return bR;case uf:if(Wo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case U5:return _R;case M5:if(this.peekCodePoint(0)===Ou)return this.consumeCodePoint(),hR;break;case Q5:return pR;case L5:return mR;case J5:case eR:var S=this.peekCodePoint(0),F=this.peekCodePoint(1);return S===ql&&(n0(F)||F===Ud)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case TC:if(this.peekCodePoint(0)===Ou)return this.consumeCodePoint(),gR;if(this.peekCodePoint(0)===TC)return this.consumeCodePoint(),dR;break;case P5:if(this.peekCodePoint(0)===Ou)return this.consumeCodePoint(),xR;break;case dA:return _2}return Md(e)?(this.consumeWhiteSpace(),TR):Ai(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ag(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ra(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();n0(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Ud&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(ra.apply(void 0,e.map(function(g){return g===Ud?nT:g})),16),s=parseInt(ra.apply(void 0,e.map(function(g){return g===Ud?oT:g})),16);return{type:30,start:a,end:s}}var l=parseInt(ra.apply(void 0,e),16);if(this.peekCodePoint(0)===zi&&n0(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var f=[];n0(r)&&f.length<6;)f.push(r),r=this.consumeCodePoint();var s=parseInt(ra.apply(void 0,f),16);return{type:30,start:l,end:s}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===kd?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===kd?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===dA)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Od||r===Dd){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===dA||this.peekCodePoint(0)===ku)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Ld)}for(;;){var a=this.consumeCodePoint();if(a===dA||a===ku)return{type:22,value:ra.apply(void 0,e)};if(Md(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===dA||this.peekCodePoint(0)===ku?(this.consumeCodePoint(),{type:22,value:ra.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ld);if(a===Dd||a===Od||a===kd||AR(a))return this.consumeBadUrlRemnants(),Ld;if(a===uf)if(Wo(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ld;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;Md(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ku||e===dA)return;Wo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=ra.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===dA||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===sg)return this._value.splice(0,n),vR;if(a===uf){var s=this._value[n+1];s!==dA&&s!==void 0&&(s===sg?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Wo(a,s)&&(r+=this.consumeStringSlice(n),r+=ra(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Jf,n=this.peekCodePoint(0);for((n===ql||n===zi)&&e.push(this.consumeCodePoint());Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Rf&&Ai(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=bC;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===AT||n===iT)&&((a===ql||a===zi)&&Ai(s)||Ai(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=bC;Ai(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[oR(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),l=this.peekCodePoint(2);if(Qd(a,s,l)){var f=this.consumeName();return{type:15,number:r,flags:n,unit:f}}return a===I5?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(n0(e)){for(var r=ra(e);n0(this.peekCodePoint(0))&&r.length<6;)r+=ra(this.consumeCodePoint());Md(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||rR(n)||n>1114111?SC:n}return e===dA?SC:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(IC(r))e+=ra(r);else if(Wo(r,this.peekCodePoint(0)))e+=ra(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),cT=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new lT;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||IR(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?_2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),$f=function(t){return t.type===15},j0=function(t){return t.type===17},An=function(t){return t.type===20},SR=function(t){return t.type===0},T2=function(t,e){return An(t)&&t.value===e},uT=function(t){return t.type!==31},F0=function(t){return t.type!==31&&t.type!==4},bA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},IR=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},cl=function(t){return t.type===17||t.type===15},ha=function(t){return t.type===16||cl(t)},fT=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Wa={type:17,number:0,flags:Jf},Iw={type:16,number:50,flags:Jf},Zo={type:16,number:100,flags:Jf},Ju=function(t,e,r){var n=t[0],a=t[1];return[xn(n,e),xn(typeof a<"u"?a:n,r)]},xn=function(t,e){if(t.type===16)return t.number/100*e;if($f(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},hT="deg",dT="grad",gT="rad",xT="turn",Wg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case hT:return Math.PI*e.number/180;case dT:return Math.PI/200*e.number;case gT:return e.number;case xT:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},pT=function(t){return t.type===15&&(t.unit===hT||t.unit===dT||t.unit===gT||t.unit===xT)},mT=function(t){var e=t.filter(An).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Wa,Wa];case"to top":case"bottom":return Qs(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Wa,Zo];case"to right":case"left":return Qs(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zo,Zo];case"to bottom":case"top":return Qs(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zo,Wa];case"to left":case"right":return Qs(270)}return 0},Qs=function(t){return Math.PI*t/180},al={name:"color",parse:function(t,e){if(e.type===18){var r=FR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3);return Jo(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),s=e.value.substring(2,3),l=e.value.substring(3,4);return Jo(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6);return Jo(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),s=e.value.substring(4,6),l=e.value.substring(6,8);return Jo(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(l,16)/255)}}if(e.type===20){var f=ao[e.value.toUpperCase()];if(typeof f<"u")return f}return ao.TRANSPARENT}},il=function(t){return(255&t)===0},Sa=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},Jo=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},FC=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},NC=function(t,e){var r=e.filter(F0);if(r.length===3){var n=r.map(FC),a=n[0],s=n[1],l=n[2];return Jo(a,s,l,1)}if(r.length===4){var f=r.map(FC),a=f[0],s=f[1],l=f[2],g=f[3];return Jo(a,s,l,g)}return 0};function Sm(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var RC=function(t,e){var r=e.filter(F0),n=r[0],a=r[1],s=r[2],l=r[3],f=(n.type===17?Qs(n.number):Wg.parse(t,n))/(Math.PI*2),g=ha(a)?a.number/100:0,h=ha(s)?s.number/100:0,p=typeof l<"u"&&ha(l)?xn(l,1):1;if(g===0)return Jo(h*255,h*255,h*255,1);var y=h<=.5?h*(g+1):h+g-h*g,B=h*2-y,T=Sm(B,y,f+1/3),S=Sm(B,y,f),F=Sm(B,y,f-1/3);return Jo(T*255,S*255,F*255,p)},FR={hsl:RC,hsla:RC,rgb:NC,rgba:NC},ff=function(t,e){return al.parse(t,cT.create(e).parseComponentValue())},ao={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},NR={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(An(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RR={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yg=function(t,e){var r=al.parse(t,e[0]),n=e[1];return n&&ha(n)?{color:r,stop:n}:{color:r,stop:null}},DC=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Wa),n.stop===null&&(n.stop=Zo);for(var a=[],s=0,l=0;l<t.length;l++){var f=t[l].stop;if(f!==null){var g=xn(f,e);g>s?a.push(g):a.push(s),s=g}else a.push(null)}for(var h=null,l=0;l<a.length;l++){var p=a[l];if(p===null)h===null&&(h=l);else if(h!==null){for(var y=l-h,B=a[h-1],T=(p-B)/(y+1),S=1;S<=y;S++)a[h+S-1]=T*S;h=null}}return t.map(function(F,D){var P=F.color;return{color:P,stop:Math.max(Math.min(1,a[D]/e),0)}})},DR=function(t,e,r){var n=e/2,a=r/2,s=xn(t[0],e)-n,l=a-xn(t[1],r);return(Math.atan2(l,s)+Math.PI*2)%(Math.PI*2)},OR=function(t,e,r){var n=typeof t=="number"?t:DR(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,l=r/2,f=a/2,g=Math.sin(n-Math.PI/2)*f,h=Math.cos(n-Math.PI/2)*f;return[a,s-h,s+h,l-g,l+g]},$s=function(t,e){return Math.sqrt(t*t+e*e)},OC=function(t,e,r,n,a){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(l,f){var g=f[0],h=f[1],p=$s(r-g,n-h);return(a?p<l.optimumDistance:p>l.optimumDistance)?{optimumCorner:f,optimumDistance:p}:l},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},kR=function(t,e,r,n,a){var s=0,l=0;switch(t.size){case 0:t.shape===0?s=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)s=l=Math.min($s(e,r),$s(e,r-a),$s(e-n,r),$s(e-n,r-a));else if(t.shape===1){var f=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),g=OC(n,a,e,r,!0),h=g[0],p=g[1];s=$s(h-e,(p-r)/f),l=f*s}break;case 1:t.shape===0?s=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)s=l=Math.max($s(e,r),$s(e,r-a),$s(e-n,r),$s(e-n,r-a));else if(t.shape===1){var f=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),y=OC(n,a,e,r,!1),h=y[0],p=y[1];s=$s(h-e,(p-r)/f),l=f*s}break}return Array.isArray(t.size)&&(s=xn(t.size[0],n),l=t.size.length===2?xn(t.size[1],a):s),[s,l]},UR=function(t,e){var r=Qs(180),n=[];return bA(e).forEach(function(a,s){if(s===0){var l=a[0];if(l.type===20&&l.value==="to"){r=mT(a);return}else if(pT(l)){r=Wg.parse(t,l);return}}var f=Yg(t,a);n.push(f)}),{angle:r,stops:n,type:1}},Pd=function(t,e){var r=Qs(180),n=[];return bA(e).forEach(function(a,s){if(s===0){var l=a[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){r=mT(a);return}else if(pT(l)){r=(Wg.parse(t,l)+Qs(270))%Qs(360);return}}var f=Yg(t,a);n.push(f)}),{angle:r,stops:n,type:1}},MR=function(t,e){var r=Qs(180),n=[],a=1,s=0,l=3,f=[];return bA(e).forEach(function(g,h){var p=g[0];if(h===0){if(An(p)&&p.value==="linear"){a=1;return}else if(An(p)&&p.value==="radial"){a=2;return}}if(p.type===18){if(p.name==="from"){var y=al.parse(t,p.values[0]);n.push({stop:Wa,color:y})}else if(p.name==="to"){var y=al.parse(t,p.values[0]);n.push({stop:Zo,color:y})}else if(p.name==="color-stop"){var B=p.values.filter(F0);if(B.length===2){var y=al.parse(t,B[1]),T=B[0];j0(T)&&n.push({stop:{type:16,number:T.number*100,flags:T.flags},color:y})}}}}),a===1?{angle:(r+Qs(180))%Qs(360),stops:n,type:a}:{size:l,shape:s,stops:n,position:f,type:a}},wT="closest-side",vT="farthest-side",yT="closest-corner",ET="farthest-corner",BT="circle",CT="ellipse",bT="cover",_T="contain",QR=function(t,e){var r=0,n=3,a=[],s=[];return bA(e).forEach(function(l,f){var g=!0;if(f===0){var h=!1;g=l.reduce(function(y,B){if(h)if(An(B))switch(B.value){case"center":return s.push(Iw),y;case"top":case"left":return s.push(Wa),y;case"right":case"bottom":return s.push(Zo),y}else(ha(B)||cl(B))&&s.push(B);else if(An(B))switch(B.value){case BT:return r=0,!1;case CT:return r=1,!1;case"at":return h=!0,!1;case wT:return n=0,!1;case bT:case vT:return n=1,!1;case _T:case yT:return n=2,!1;case ET:return n=3,!1}else if(cl(B)||ha(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return y},g)}if(g){var p=Yg(t,l);a.push(p)}}),{size:n,shape:r,stops:a,position:s,type:2}},jd=function(t,e){var r=0,n=3,a=[],s=[];return bA(e).forEach(function(l,f){var g=!0;if(f===0?g=l.reduce(function(p,y){if(An(y))switch(y.value){case"center":return s.push(Iw),!1;case"top":case"left":return s.push(Wa),!1;case"right":case"bottom":return s.push(Zo),!1}else if(ha(y)||cl(y))return s.push(y),!1;return p},g):f===1&&(g=l.reduce(function(p,y){if(An(y))switch(y.value){case BT:return r=0,!1;case CT:return r=1,!1;case _T:case wT:return n=0,!1;case vT:return n=1,!1;case yT:return n=2,!1;case bT:case ET:return n=3,!1}else if(cl(y)||ha(y))return Array.isArray(n)||(n=[]),n.push(y),!1;return p},g)),g){var h=Yg(t,l);a.push(h)}}),{size:n,shape:r,stops:a,position:s,type:2}},LR=function(t){return t.type===1},PR=function(t){return t.type===2},Fw={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=TT[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function jR(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!TT[t.name])}var TT={"linear-gradient":UR,"-moz-linear-gradient":Pd,"-ms-linear-gradient":Pd,"-o-linear-gradient":Pd,"-webkit-linear-gradient":Pd,"radial-gradient":QR,"-moz-radial-gradient":jd,"-ms-radial-gradient":jd,"-o-radial-gradient":jd,"-webkit-radial-gradient":jd,"-webkit-gradient":MR},HR={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return F0(n)&&jR(n)}).map(function(n){return Fw.parse(t,n)})}},VR={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(An(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GR={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return bA(e).map(function(r){return r.filter(ha)}).map(fT)}},KR={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return bA(e).map(function(r){return r.filter(An).map(function(n){return n.value}).join(" ")}).map(zR)}},zR=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},B0;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(B0||(B0={}));var XR={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return bA(e).map(function(r){return r.filter(WR)})}},WR=function(t){return An(t)||ha(t)},qg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},YR=qg("top"),qR=qg("right"),ZR=qg("bottom"),JR=qg("left"),Zg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return fT(r.filter(ha))}}},$R=Zg("top-left"),eD=Zg("top-right"),tD=Zg("bottom-right"),rD=Zg("bottom-left"),Jg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nD=Jg("top"),aD=Jg("right"),iD=Jg("bottom"),sD=Jg("left"),$g=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return $f(r)?r.number:0}}},AD=$g("top"),oD=$g("right"),lD=$g("bottom"),cD=$g("left"),uD={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fD={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},hD={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(An).reduce(function(r,n){return r|dD(n.value)},0)}},dD=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gD={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},xD={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},og;(function(t){t.NORMAL="normal",t.STRICT="strict"})(og||(og={}));var pD={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return og.STRICT;case"normal":default:return og.NORMAL}}},mD={name:"line-height",initialValue:"normal",prefix:!1,type:4},kC=function(t,e){return An(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ha(t)?xn(t,e):e},wD={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Fw.parse(t,e)}},vD={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},S2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ex=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},yD=ex("top"),ED=ex("right"),BD=ex("bottom"),CD=ex("left"),bD={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(An).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},_D={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},tx=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},TD=tx("top"),SD=tx("right"),ID=tx("bottom"),FD=tx("left"),ND={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},RD={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},DD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&T2(e[0],"none")?[]:bA(e).map(function(r){for(var n={color:ao.TRANSPARENT,offsetX:Wa,offsetY:Wa,blur:Wa},a=0,s=0;s<r.length;s++){var l=r[s];cl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:n.blur=l,a++):n.color=al.parse(t,l)}return n})}},OD={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},kD={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=QD[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},UD=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},MD=function(t){var e=t.filter(function(g){return g.type===17}).map(function(g){return g.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],f=e[13];return e[14],e[15],e.length===16?[r,n,a,s,l,f]:null},QD={matrix:UD,matrix3d:MD},UC={type:16,number:50,flags:Jf},LD=[UC,UC],PD={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ha);return r.length!==2?LD:[r[0],r[1]]}},jD={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},hf;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(hf||(hf={}));var HD={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return hf.BREAK_ALL;case"keep-all":return hf.KEEP_ALL;case"normal":default:return hf.NORMAL}}},VD={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(j0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},ST={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},GD={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return j0(e)?e.number:1}},KD={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zD={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(An).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},XD={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},WD={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},YD={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(j0(e))return e.number;if(An(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qD={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(An).map(function(r){return r.value})}},ZD={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},va=function(t,e){return(t&e)!==0},JD={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},$D={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(uT),s=0;s<a.length;s++){var l=a[s],f=a[s+1];if(l.type===20){var g=f&&j0(f)?f.number:1;n.push({counter:l.value,increment:g})}}return n}},eO={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(uT),a=0;a<n.length;a++){var s=n[a],l=n[a+1];if(An(s)&&s.value!=="none"){var f=l&&j0(l)?l.number:0;r.push({counter:s.value,reset:f})}}return r}},tO={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter($f).map(function(r){return ST.parse(t,r)})}},rO={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(SR);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var l=a[s].value,f=a[s+1].value;n.push({open:l,close:f})}return n}},MC=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},nO={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&T2(e[0],"none")?[]:bA(e).map(function(r){for(var n={color:255,offsetX:Wa,offsetY:Wa,blur:Wa,spread:Wa,inset:!1},a=0,s=0;s<r.length;s++){var l=r[s];T2(l,"inset")?n.inset=!0:cl(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:a===2?n.blur=l:n.spread=l,a++):n.color=al.parse(t,l)}return n})}},aO={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(An).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},iO={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},sO={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return $f(e)?e.number:0}},AO=(function(){function t(e,r){var n,a;this.animationDuration=It(e,tO,r.animationDuration),this.backgroundClip=It(e,NR,r.backgroundClip),this.backgroundColor=It(e,RR,r.backgroundColor),this.backgroundImage=It(e,HR,r.backgroundImage),this.backgroundOrigin=It(e,VR,r.backgroundOrigin),this.backgroundPosition=It(e,GR,r.backgroundPosition),this.backgroundRepeat=It(e,KR,r.backgroundRepeat),this.backgroundSize=It(e,XR,r.backgroundSize),this.borderTopColor=It(e,YR,r.borderTopColor),this.borderRightColor=It(e,qR,r.borderRightColor),this.borderBottomColor=It(e,ZR,r.borderBottomColor),this.borderLeftColor=It(e,JR,r.borderLeftColor),this.borderTopLeftRadius=It(e,$R,r.borderTopLeftRadius),this.borderTopRightRadius=It(e,eD,r.borderTopRightRadius),this.borderBottomRightRadius=It(e,tD,r.borderBottomRightRadius),this.borderBottomLeftRadius=It(e,rD,r.borderBottomLeftRadius),this.borderTopStyle=It(e,nD,r.borderTopStyle),this.borderRightStyle=It(e,aD,r.borderRightStyle),this.borderBottomStyle=It(e,iD,r.borderBottomStyle),this.borderLeftStyle=It(e,sD,r.borderLeftStyle),this.borderTopWidth=It(e,AD,r.borderTopWidth),this.borderRightWidth=It(e,oD,r.borderRightWidth),this.borderBottomWidth=It(e,lD,r.borderBottomWidth),this.borderLeftWidth=It(e,cD,r.borderLeftWidth),this.boxShadow=It(e,nO,r.boxShadow),this.color=It(e,uD,r.color),this.direction=It(e,fD,r.direction),this.display=It(e,hD,r.display),this.float=It(e,gD,r.cssFloat),this.fontFamily=It(e,XD,r.fontFamily),this.fontSize=It(e,WD,r.fontSize),this.fontStyle=It(e,ZD,r.fontStyle),this.fontVariant=It(e,qD,r.fontVariant),this.fontWeight=It(e,YD,r.fontWeight),this.letterSpacing=It(e,xD,r.letterSpacing),this.lineBreak=It(e,pD,r.lineBreak),this.lineHeight=It(e,mD,r.lineHeight),this.listStyleImage=It(e,wD,r.listStyleImage),this.listStylePosition=It(e,vD,r.listStylePosition),this.listStyleType=It(e,S2,r.listStyleType),this.marginTop=It(e,yD,r.marginTop),this.marginRight=It(e,ED,r.marginRight),this.marginBottom=It(e,BD,r.marginBottom),this.marginLeft=It(e,CD,r.marginLeft),this.opacity=It(e,GD,r.opacity);var s=It(e,bD,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=It(e,_D,r.overflowWrap),this.paddingTop=It(e,TD,r.paddingTop),this.paddingRight=It(e,SD,r.paddingRight),this.paddingBottom=It(e,ID,r.paddingBottom),this.paddingLeft=It(e,FD,r.paddingLeft),this.paintOrder=It(e,aO,r.paintOrder),this.position=It(e,RD,r.position),this.textAlign=It(e,ND,r.textAlign),this.textDecorationColor=It(e,KD,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=It(e,zD,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=It(e,DD,r.textShadow),this.textTransform=It(e,OD,r.textTransform),this.transform=It(e,kD,r.transform),this.transformOrigin=It(e,PD,r.transformOrigin),this.visibility=It(e,jD,r.visibility),this.webkitTextStrokeColor=It(e,iO,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=It(e,sO,r.webkitTextStrokeWidth),this.wordBreak=It(e,HD,r.wordBreak),this.zIndex=It(e,VD,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return il(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return va(this.display,4)||va(this.display,33554432)||va(this.display,268435456)||va(this.display,536870912)||va(this.display,67108864)||va(this.display,134217728)},t})(),oO=(function(){function t(e,r){this.content=It(e,JD,r.content),this.quotes=It(e,rO,r.quotes)}return t})(),QC=(function(){function t(e,r){this.counterIncrement=It(e,$D,r.counterIncrement),this.counterReset=It(e,eO,r.counterReset)}return t})(),It=function(t,e,r){var n=new lT,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var s=new cT(n.read());switch(e.type){case 2:var l=s.parseComponentValue();return e.parse(t,An(l)?l.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Wg.parse(t,s.parseComponentValue());case"color":return al.parse(t,s.parseComponentValue());case"image":return Fw.parse(t,s.parseComponentValue());case"length":var f=s.parseComponentValue();return cl(f)?f:Wa;case"length-percentage":var g=s.parseComponentValue();return ha(g)?g:Wa;case"time":return ST.parse(t,s.parseComponentValue())}break}},lO="data-html2canvas-debug",cO=function(t){var e=t.getAttribute(lO);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},I2=function(t,e){var r=cO(t);return r===1||e===r},_A=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,I2(r,3))debugger;this.styles=new AO(e,window.getComputedStyle(r,null)),R2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=zg(this.context,r),I2(r,4)&&(this.flags|=16)}return t})(),uO="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",LC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$u=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hd=0;Hd<LC.length;Hd++)$u[LC.charCodeAt(Hd)]=Hd;var fO=function(t){var e=t.length*.75,r=t.length,n,a=0,s,l,f,g;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<r;n+=4)s=$u[t.charCodeAt(n)],l=$u[t.charCodeAt(n+1)],f=$u[t.charCodeAt(n+2)],g=$u[t.charCodeAt(n+3)],p[a++]=s<<2|l>>4,p[a++]=(l&15)<<4|f>>2,p[a++]=(f&3)<<6|g&63;return h},hO=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},dO=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},tc=5,Nw=11,Im=2,gO=Nw-tc,IT=65536>>tc,xO=1<<tc,Fm=xO-1,pO=1024>>tc,mO=IT+pO,wO=mO,vO=32,yO=wO+vO,EO=65536>>Nw,BO=1<<gO,CO=BO-1,PC=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},bO=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},_O=function(t,e){var r=fO(t),n=Array.isArray(r)?dO(r):new Uint32Array(r),a=Array.isArray(r)?hO(r):new Uint16Array(r),s=24,l=PC(a,s/2,n[4]/2),f=n[5]===2?PC(a,(s+n[4])/2):bO(n,Math.ceil((s+n[4])/4));return new TO(n[0],n[1],n[2],n[3],l,f)},TO=(function(){function t(e,r,n,a,s,l){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=l}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>tc],r=(r<<Im)+(e&Fm),this.data[r];if(e<=65535)return r=this.index[IT+(e-55296>>tc)],r=(r<<Im)+(e&Fm),this.data[r];if(e<this.highStart)return r=yO-EO+(e>>Nw),r=this.index[r],r+=e>>tc&CO,r=this.index[r],r=(r<<Im)+(e&Fm),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),jC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SO=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vd=0;Vd<jC.length;Vd++)SO[jC.charCodeAt(Vd)]=Vd;var IO=1,Nm=2,Rm=3,HC=4,VC=5,FO=7,GC=8,Dm=9,Om=10,KC=11,zC=12,XC=13,WC=14,km=15,NO=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((a&1023)<<10)+(s&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},RO=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var l=t[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},DO=_O(uO),ks="",Um="",OO=function(t){return DO.get(t)},kO=function(t,e,r){var n=r-2,a=e[n],s=e[r-1],l=e[r];if(s===Nm&&l===Rm)return ks;if(s===Nm||s===Rm||s===HC||l===Nm||l===Rm||l===HC)return Um;if(s===GC&&[GC,Dm,KC,zC].indexOf(l)!==-1||(s===KC||s===Dm)&&(l===Dm||l===Om)||(s===zC||s===Om)&&l===Om||l===XC||l===VC||l===FO||s===IO)return ks;if(s===XC&&l===WC){for(;a===VC;)a=e[--n];if(a===WC)return ks}if(s===km&&l===km){for(var f=0;a===km;)f++,a=e[--n];if(f%2===0)return ks}return Um},UO=function(t){var e=NO(t),r=e.length,n=0,a=0,s=e.map(OO);return{next:function(){if(n>=r)return{done:!0,value:null};for(var l=ks;n<r&&(l=kO(e,s,++n))===ks;);if(l!==ks||n===r){var f=RO.apply(null,e.slice(a,n));return a=n,{value:f,done:!1}}return{done:!0,value:null}}}},MO=function(t){for(var e=UO(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},QO=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(t.body.removeChild(n),s===e)return!0}}return!1},LO=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=Xg(n.data).map(function(g){return ra(g)}),s=0,l={},f=a.every(function(g,h){r.setStart(n,s),r.setEnd(n,s+g.length);var p=r.getBoundingClientRect();s+=g.length;var y=p.x>l.x||p.y>l.y;return l=p,h===0?!0:y});return t.body.removeChild(e),f},PO=function(){return typeof new Image().crossOrigin<"u"},jO=function(){return typeof new XMLHttpRequest().responseType=="string"},HO=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},YC=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},VO=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=e.toDataURL();a.src=s;var l=F2(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),qC(l).then(function(f){n.drawImage(f,0,0);var g=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var h=t.createElement("div");return h.style.backgroundImage="url("+s+")",h.style.height=r+"px",YC(g)?qC(F2(r,r,0,0,h)):Promise.reject(!1)}).then(function(f){return n.drawImage(f,0,0),YC(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},F2=function(t,e,r,n,a){var s="http://www.w3.org/2000/svg",l=document.createElementNS(s,"svg"),f=document.createElementNS(s,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",e.toString()),f.setAttributeNS(null,"width","100%"),f.setAttributeNS(null,"height","100%"),f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",n.toString()),f.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(f),f.appendChild(a),l},qC=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ga={get SUPPORT_RANGE_BOUNDS(){var t=QO(document);return Object.defineProperty(Ga,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ga.SUPPORT_RANGE_BOUNDS&&LO(document);return Object.defineProperty(Ga,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=HO(document);return Object.defineProperty(Ga,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?VO(document):Promise.resolve(!1);return Object.defineProperty(Ga,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=PO();return Object.defineProperty(Ga,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=jO();return Object.defineProperty(Ga,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ga,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ga,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},df=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),GO=function(t,e,r,n){var a=XO(e,r),s=[],l=0;return a.forEach(function(f){if(r.textDecorationLine.length||f.trim().length>0)if(Ga.SUPPORT_RANGE_BOUNDS){var g=ZC(n,l,f.length).getClientRects();if(g.length>1){var h=Rw(f),p=0;h.forEach(function(B){s.push(new df(B,Ao.fromDOMRectList(t,ZC(n,p+l,B.length).getClientRects()))),p+=B.length})}else s.push(new df(f,Ao.fromDOMRectList(t,g)))}else{var y=n.splitText(f.length);s.push(new df(f,KO(t,n))),n=y}else Ga.SUPPORT_RANGE_BOUNDS||(n=n.splitText(f.length));l+=f.length}),s},KO=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var s=zg(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return Ao.EMPTY},ZC=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},Rw=function(t){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return MO(t)},zO=function(t,e){if(Ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return YO(t,e)},XO=function(t,e){return e.letterSpacing!==0?Rw(t):zO(t,e)},WO=[32,160,4961,65792,65793,4153,4241],YO=function(t,e){for(var r=E5(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,s=function(){if(a.value){var l=a.value.slice(),f=Xg(l),g="";f.forEach(function(h){WO.indexOf(h)===-1?g+=ra(h):(g.length&&n.push(g),n.push(ra(h)),g="")}),g.length&&n.push(g)}};!(a=r.next()).done;)s();return n},qO=(function(){function t(e,r,n){this.text=ZO(r.data,n.textTransform),this.textBounds=GO(e,this.text,n,r)}return t})(),ZO=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(JO,$O);case 2:return t.toUpperCase();default:return t}},JO=/(^|\s|:|-|\(|\))([a-z])/g,$O=function(t,e,r){return t.length>0?e+r.toUpperCase():t},FT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(_A),NT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(_A),RT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=new XMLSerializer,l=zg(r,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(_A),DT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e})(_A),N2=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(_A),ek=[{type:15,flags:0,unit:"px",number:3}],tk=[{type:16,flags:0,number:50}],rk=function(t){return t.width>t.height?new Ao(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ao(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},nk=function(t){var e=t.type===ak?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},lg="checkbox",cg="radio",ak="password",JC=707406591,Dw=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=nk(n),(a.type===lg||a.type===cg)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=rk(a.bounds)),a.type){case lg:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=ek;break;case cg:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=tk;break}return a}return e})(_A),OT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return e})(_A),kT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e})(_A),UT=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=QT(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ff(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ao.TRANSPARENT,l=n.contentWindow.document.body?ff(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ao.TRANSPARENT;a.backgroundColor=il(s)?il(l)?a.styles.backgroundColor:l:s}}catch{}return a}return e})(_A),ik=["OL","UL","MENU"],$1=function(t,e,r,n){for(var a=e.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,LT(a)&&a.data.trim().length>0)r.textNodes.push(new qO(t,a,r.styles));else if(m0(a))if(VT(a)&&a.assignedNodes)a.assignedNodes().forEach(function(f){return $1(t,f,r,n)});else{var l=MT(t,a);l.styles.isVisible()&&(sk(a,l,n)?l.flags|=4:Ak(l.styles)&&(l.flags|=2),ik.indexOf(a.tagName)!==-1&&(l.flags|=8),r.elements.push(l),a.slot,a.shadowRoot?$1(t,a.shadowRoot,l,n):!ug(a)&&!PT(a)&&!fg(a)&&$1(t,a,l,n))}},MT=function(t,e){return D2(e)?new FT(t,e):jT(e)?new NT(t,e):PT(e)?new RT(t,e):ok(e)?new DT(t,e):lk(e)?new N2(t,e):ck(e)?new Dw(t,e):fg(e)?new OT(t,e):ug(e)?new kT(t,e):HT(e)?new UT(t,e):new _A(t,e)},QT=function(t,e){var r=MT(t,e);return r.flags|=4,$1(t,e,r,r),r},sk=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Ow(t)&&r.styles.isTransparent()},Ak=function(t){return t.isPositioned()||t.isFloating()},LT=function(t){return t.nodeType===Node.TEXT_NODE},m0=function(t){return t.nodeType===Node.ELEMENT_NODE},R2=function(t){return m0(t)&&typeof t.style<"u"&&!eg(t)},eg=function(t){return typeof t.className=="object"},ok=function(t){return t.tagName==="LI"},lk=function(t){return t.tagName==="OL"},ck=function(t){return t.tagName==="INPUT"},uk=function(t){return t.tagName==="HTML"},PT=function(t){return t.tagName==="svg"},Ow=function(t){return t.tagName==="BODY"},jT=function(t){return t.tagName==="CANVAS"},$C=function(t){return t.tagName==="VIDEO"},D2=function(t){return t.tagName==="IMG"},HT=function(t){return t.tagName==="IFRAME"},eb=function(t){return t.tagName==="STYLE"},fk=function(t){return t.tagName==="SCRIPT"},ug=function(t){return t.tagName==="TEXTAREA"},fg=function(t){return t.tagName==="SELECT"},VT=function(t){return t.tagName==="SLOT"},tb=function(t){return t.tagName.indexOf("-")>0},hk=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,s=!0;n!==null&&n.forEach(function(f){var g=r.counters[f.counter];g&&f.increment!==0&&(s=!1,g.length||g.push(1),g[Math.max(0,g.length-1)]+=f.increment)});var l=[];return s&&a.forEach(function(f){var g=r.counters[f.counter];l.push(f.counter),g||(g=r.counters[f.counter]=[]),g.push(f.reset)}),l},t})(),rb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},nb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gk={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},a0=function(t,e,r,n,a,s){return t<e||t>r?Df(t,a,s.length>0):n.integers.reduce(function(l,f,g){for(;t>=f;)t-=f,l+=n.values[g];return l},"")+s},GT=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},ea=function(t,e,r,n,a){var s=r-e+1;return(t<0?"-":"")+(GT(Math.abs(t),s,n,function(l){return ra(Math.floor(l%s)+e)})+a)},jl=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return GT(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},f0=1,zo=2,Xo=4,ef=8,$A=function(t,e,r,n,a,s){if(t<-9999||t>9999)return Df(t,4,a.length>0);var l=Math.abs(t),f=a;if(l===0)return e[0]+f;for(var g=0;l>0&&g<=4;g++){var h=l%10;h===0&&va(s,f0)&&f!==""?f=e[h]+f:h>1||h===1&&g===0||h===1&&g===1&&va(s,zo)||h===1&&g===1&&va(s,Xo)&&t>100||h===1&&g>1&&va(s,ef)?f=e[h]+(g>0?r[g-1]:"")+f:h===1&&g>0&&(f=r[g-1]+f),l=Math.floor(l/10)}return(t<0?n:"")+f},ab="",ib="",sb="",Mm="",Df=function(t,e,r){var n=r?". ":"",a=r?"":"",s=r?", ":"",l=r?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var f=ea(t,48,57,!0,n);return f.length<4?"0"+f:f;case 4:return jl(t,"",a);case 6:return a0(t,1,3999,rb,3,n).toLowerCase();case 7:return a0(t,1,3999,rb,3,n);case 8:return ea(t,945,969,!1,n);case 9:return ea(t,97,122,!1,n);case 10:return ea(t,65,90,!1,n);case 11:return ea(t,1632,1641,!0,n);case 12:case 49:return a0(t,1,9999,nb,3,n);case 35:return a0(t,1,9999,nb,3,n).toLowerCase();case 13:return ea(t,2534,2543,!0,n);case 14:case 30:return ea(t,6112,6121,!0,n);case 15:return jl(t,"",a);case 16:return jl(t,"",a);case 17:case 48:return $A(t,"",ab,"",a,zo|Xo|ef);case 47:return $A(t,"",ib,"",a,f0|zo|Xo|ef);case 42:return $A(t,"",ab,"",a,zo|Xo|ef);case 41:return $A(t,"",ib,"",a,f0|zo|Xo|ef);case 26:return $A(t,"","",sb,a,0);case 25:return $A(t,"","",sb,a,f0|zo|Xo);case 31:return $A(t,"","",Mm,s,f0|zo|Xo);case 33:return $A(t,"","",Mm,s,0);case 32:return $A(t,"","",Mm,s,f0|zo|Xo);case 18:return ea(t,2406,2415,!0,n);case 20:return a0(t,1,19999,gk,3,n);case 21:return ea(t,2790,2799,!0,n);case 22:return ea(t,2662,2671,!0,n);case 22:return a0(t,1,10999,dk,3,n);case 23:return jl(t,"");case 24:return jl(t,"");case 27:return ea(t,3302,3311,!0,n);case 28:return jl(t,"",a);case 29:return jl(t,"",a);case 34:return ea(t,3792,3801,!0,n);case 37:return ea(t,6160,6169,!0,n);case 38:return ea(t,4160,4169,!0,n);case 39:return ea(t,2918,2927,!0,n);case 40:return ea(t,1776,1785,!0,n);case 43:return ea(t,3046,3055,!0,n);case 44:return ea(t,3174,3183,!0,n);case 45:return ea(t,3664,3673,!0,n);case 46:return ea(t,3872,3881,!0,n);case 3:default:return ea(t,48,57,!0,n)}},KT="data-html2canvas-ignore",Ab=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new hk,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=xk(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,f=a.contentWindow,g=f.document,h=wk(a).then(function(){return vi(n,void 0,void 0,function(){var p,y;return ii(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(Bk),f&&(f.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(f.scrollY!==r.top||f.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(f.scrollX-r.left,f.scrollY-r.top,0,0))),p=this.options.onclone,y=this.clonedReferenceElement,typeof y>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:g.fonts&&g.fonts.ready?[4,g.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,mk(g)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(g,y)}).then(function(){return a})]:[2,a]}})})});return g.open(),g.write(yk(document.doctype)+"<html></html>"),Ek(this.referenceElement.ownerDocument,s,l),g.replaceChild(g.adoptNode(this.documentElement),g.documentElement),g.close(),h},t.prototype.createElementClone=function(e){if(I2(e,2))debugger;if(jT(e))return this.createCanvasClone(e);if($C(e))return this.createVideoClone(e);if(eb(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return D2(r)&&(D2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),tb(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Qm(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,l){return l&&typeof l.cssText=="string"?s+l.cssText:s},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var s=e.getContext("2d"),l=a.getContext("2d");if(l)if(!this.options.allowTaint&&s)l.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var f=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(f){var g=f.getContextAttributes();(g==null?void 0:g.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!m0(r)||!fk(r)&&!r.hasAttribute(KT)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!m0(r)||!eb(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(m0(s)&&VT(s)&&typeof s.assignedNodes=="function"){var l=s.assignedNodes();l.length&&l.forEach(function(f){return a.appendChildNode(r,f,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(LT(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&m0(e)&&(R2(e)||eg(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var s=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),f=n.getComputedStyle(e,":after");this.referenceElement===e&&R2(a)&&(this.clonedReferenceElement=a),Ow(a)&&_k(a);var g=this.counters.parse(new QC(this.context,s)),h=this.resolvePseudoContent(e,a,l,gf.BEFORE);tb(e)&&(r=!0),$C(e)||this.cloneChildNodes(e,a,r),h&&a.insertBefore(h,a.firstChild);var p=this.resolvePseudoContent(e,a,f,gf.AFTER);return p&&a.appendChild(p),this.counters.pop(g),(s&&(this.options.copyStyles||eg(e))&&!HT(e)||r)&&Qm(s,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(ug(e)||fg(e))&&(ug(a)||fg(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var s=this;if(n){var l=n.content,f=r.ownerDocument;if(!(!f||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new QC(this.context,n));var g=new oO(this.context,n),h=f.createElement("html2canvaspseudoelement");Qm(n,h),g.content.forEach(function(y){if(y.type===0)h.appendChild(f.createTextNode(y.value));else if(y.type===22){var B=f.createElement("img");B.src=y.value,B.style.opacity="1",h.appendChild(B)}else if(y.type===18){if(y.name==="attr"){var T=y.values.filter(An);T.length&&h.appendChild(f.createTextNode(e.getAttribute(T[0].value)||""))}else if(y.name==="counter"){var S=y.values.filter(F0),F=S[0],D=S[1];if(F&&An(F)){var P=s.counters.getCounterValue(F.value),V=D&&An(D)?S2.parse(s.context,D.value):3;h.appendChild(f.createTextNode(Df(P,V,!1)))}}else if(y.name==="counters"){var j=y.values.filter(F0),F=j[0],re=j[1],D=j[2];if(F&&An(F)){var ge=s.counters.getCounterValues(F.value),z=D&&An(D)?S2.parse(s.context,D.value):3,O=re&&re.type===0?re.value:"",M=ge.map(function(Y){return Df(Y,z,!1)}).join(O);h.appendChild(f.createTextNode(M))}}}else if(y.type===20)switch(y.value){case"open-quote":h.appendChild(f.createTextNode(MC(g.quotes,s.quoteDepth++,!0)));break;case"close-quote":h.appendChild(f.createTextNode(MC(g.quotes,--s.quoteDepth,!1)));break;default:h.appendChild(f.createTextNode(y.value))}}),h.className=O2+" "+k2;var p=a===gf.BEFORE?" "+O2:" "+k2;return eg(r)?r.className.baseValue+=p:r.className+=p,h}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),gf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(gf||(gf={}));var xk=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(KT,"true"),t.body.appendChild(r),r},pk=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},mk=function(t){return Promise.all([].slice.call(t.images,0).map(pk))},wk=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},vk=["all","d","content"],Qm=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);vk.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},yk=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Ek=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Bk=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Ck=":before",bk=":after",O2="___html2canvas___pseudoelement_before",k2="___html2canvas___pseudoelement_after",ob=`{
    content: "" !important;
    display: none !important;
}`,_k=function(t){Tk(t,"."+O2+Ck+ob+`
         .`+k2+bk+ob)},Tk=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},zT=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),Sk=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Pm(e)||Rk(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return vi(this,void 0,void 0,function(){var r,n,a,s,l=this;return ii(this,function(f){switch(f.label){case 0:return r=zT.isSameOrigin(e),n=!Lm(e)&&this._options.useCORS===!0&&Ga.SUPPORT_CORS_IMAGES&&!r,a=!Lm(e)&&!r&&!Pm(e)&&typeof this._options.proxy=="string"&&Ga.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Lm(e)&&!Pm(e)&&!a&&!n?[2]:(s=e,a?[4,this.proxy(s)]:[3,2]);case 1:s=f.sent(),f.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(g,h){var p=new Image;p.onload=function(){return g(p)},p.onerror=h,(Dk(s)||n)&&(p.crossOrigin="anonymous"),p.src=s,p.complete===!0&&setTimeout(function(){return g(p)},500),l._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,f.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(s,l){var f=Ga.SUPPORT_RESPONSE_TYPE?"blob":"text",g=new XMLHttpRequest;g.onload=function(){if(g.status===200)if(f==="text")s(g.response);else{var y=new FileReader;y.addEventListener("load",function(){return s(y.result)},!1),y.addEventListener("error",function(B){return l(B)},!1),y.readAsDataURL(g.response)}else l("Failed to proxy resource "+a+" with status code "+g.status)},g.onerror=l;var h=n.indexOf("?")>-1?"&":"?";if(g.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+f),f!=="text"&&g instanceof XMLHttpRequest&&(g.responseType=f),r._options.imageTimeout){var p=r._options.imageTimeout;g.timeout=p,g.ontimeout=function(){return l("Timed out ("+p+"ms) proxying "+a)}}g.send()})},t})(),Ik=/^data:image\/svg\+xml/i,Fk=/^data:image\/.*;base64,/i,Nk=/^data:image\/.*/i,Rk=function(t){return Ga.SUPPORT_SVG_DRAWING||!Ok(t)},Lm=function(t){return Nk.test(t)},Dk=function(t){return Fk.test(t)},Pm=function(t){return t.substr(0,4)==="blob"},Ok=function(t){return t.substr(-3).toLowerCase()==="svg"||Ik.test(t)},bt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),i0=function(t,e,r){return new bt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Gd=(function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=i0(this.start,this.startControl,e),a=i0(this.startControl,this.endControl,e),s=i0(this.endControl,this.end,e),l=i0(n,a,e),f=i0(a,s,e),g=i0(l,f,e);return r?new t(this.start,n,l,g):new t(g,f,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ms=function(t){return t.type===1},kk=(function(){function t(e){var r=e.styles,n=e.bounds,a=Ju(r.borderTopLeftRadius,n.width,n.height),s=a[0],l=a[1],f=Ju(r.borderTopRightRadius,n.width,n.height),g=f[0],h=f[1],p=Ju(r.borderBottomRightRadius,n.width,n.height),y=p[0],B=p[1],T=Ju(r.borderBottomLeftRadius,n.width,n.height),S=T[0],F=T[1],D=[];D.push((s+g)/n.width),D.push((S+y)/n.width),D.push((l+F)/n.height),D.push((h+B)/n.height);var P=Math.max.apply(Math,D);P>1&&(s/=P,l/=P,g/=P,h/=P,y/=P,B/=P,S/=P,F/=P);var V=n.width-g,j=n.height-B,re=n.width-y,ge=n.height-F,z=r.borderTopWidth,O=r.borderRightWidth,M=r.borderBottomWidth,k=r.borderLeftWidth,Z=xn(r.paddingTop,e.bounds.width),Y=xn(r.paddingRight,e.bounds.width),G=xn(r.paddingBottom,e.bounds.width),K=xn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||l>0?Sn(n.left+k/3,n.top+z/3,s-k/3,l-z/3,Wr.TOP_LEFT):new bt(n.left+k/3,n.top+z/3),this.topRightBorderDoubleOuterBox=s>0||l>0?Sn(n.left+V,n.top+z/3,g-O/3,h-z/3,Wr.TOP_RIGHT):new bt(n.left+n.width-O/3,n.top+z/3),this.bottomRightBorderDoubleOuterBox=y>0||B>0?Sn(n.left+re,n.top+j,y-O/3,B-M/3,Wr.BOTTOM_RIGHT):new bt(n.left+n.width-O/3,n.top+n.height-M/3),this.bottomLeftBorderDoubleOuterBox=S>0||F>0?Sn(n.left+k/3,n.top+ge,S-k/3,F-M/3,Wr.BOTTOM_LEFT):new bt(n.left+k/3,n.top+n.height-M/3),this.topLeftBorderDoubleInnerBox=s>0||l>0?Sn(n.left+k*2/3,n.top+z*2/3,s-k*2/3,l-z*2/3,Wr.TOP_LEFT):new bt(n.left+k*2/3,n.top+z*2/3),this.topRightBorderDoubleInnerBox=s>0||l>0?Sn(n.left+V,n.top+z*2/3,g-O*2/3,h-z*2/3,Wr.TOP_RIGHT):new bt(n.left+n.width-O*2/3,n.top+z*2/3),this.bottomRightBorderDoubleInnerBox=y>0||B>0?Sn(n.left+re,n.top+j,y-O*2/3,B-M*2/3,Wr.BOTTOM_RIGHT):new bt(n.left+n.width-O*2/3,n.top+n.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=S>0||F>0?Sn(n.left+k*2/3,n.top+ge,S-k*2/3,F-M*2/3,Wr.BOTTOM_LEFT):new bt(n.left+k*2/3,n.top+n.height-M*2/3),this.topLeftBorderStroke=s>0||l>0?Sn(n.left+k/2,n.top+z/2,s-k/2,l-z/2,Wr.TOP_LEFT):new bt(n.left+k/2,n.top+z/2),this.topRightBorderStroke=s>0||l>0?Sn(n.left+V,n.top+z/2,g-O/2,h-z/2,Wr.TOP_RIGHT):new bt(n.left+n.width-O/2,n.top+z/2),this.bottomRightBorderStroke=y>0||B>0?Sn(n.left+re,n.top+j,y-O/2,B-M/2,Wr.BOTTOM_RIGHT):new bt(n.left+n.width-O/2,n.top+n.height-M/2),this.bottomLeftBorderStroke=S>0||F>0?Sn(n.left+k/2,n.top+ge,S-k/2,F-M/2,Wr.BOTTOM_LEFT):new bt(n.left+k/2,n.top+n.height-M/2),this.topLeftBorderBox=s>0||l>0?Sn(n.left,n.top,s,l,Wr.TOP_LEFT):new bt(n.left,n.top),this.topRightBorderBox=g>0||h>0?Sn(n.left+V,n.top,g,h,Wr.TOP_RIGHT):new bt(n.left+n.width,n.top),this.bottomRightBorderBox=y>0||B>0?Sn(n.left+re,n.top+j,y,B,Wr.BOTTOM_RIGHT):new bt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=S>0||F>0?Sn(n.left,n.top+ge,S,F,Wr.BOTTOM_LEFT):new bt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||l>0?Sn(n.left+k,n.top+z,Math.max(0,s-k),Math.max(0,l-z),Wr.TOP_LEFT):new bt(n.left+k,n.top+z),this.topRightPaddingBox=g>0||h>0?Sn(n.left+Math.min(V,n.width-O),n.top+z,V>n.width+O?0:Math.max(0,g-O),Math.max(0,h-z),Wr.TOP_RIGHT):new bt(n.left+n.width-O,n.top+z),this.bottomRightPaddingBox=y>0||B>0?Sn(n.left+Math.min(re,n.width-k),n.top+Math.min(j,n.height-M),Math.max(0,y-O),Math.max(0,B-M),Wr.BOTTOM_RIGHT):new bt(n.left+n.width-O,n.top+n.height-M),this.bottomLeftPaddingBox=S>0||F>0?Sn(n.left+k,n.top+Math.min(ge,n.height-M),Math.max(0,S-k),Math.max(0,F-M),Wr.BOTTOM_LEFT):new bt(n.left+k,n.top+n.height-M),this.topLeftContentBox=s>0||l>0?Sn(n.left+k+K,n.top+z+Z,Math.max(0,s-(k+K)),Math.max(0,l-(z+Z)),Wr.TOP_LEFT):new bt(n.left+k+K,n.top+z+Z),this.topRightContentBox=g>0||h>0?Sn(n.left+Math.min(V,n.width+k+K),n.top+z+Z,V>n.width+k+K?0:g-k+K,h-(z+Z),Wr.TOP_RIGHT):new bt(n.left+n.width-(O+Y),n.top+z+Z),this.bottomRightContentBox=y>0||B>0?Sn(n.left+Math.min(re,n.width-(k+K)),n.top+Math.min(j,n.height+z+Z),Math.max(0,y-(O+Y)),B-(M+G),Wr.BOTTOM_RIGHT):new bt(n.left+n.width-(O+Y),n.top+n.height-(M+G)),this.bottomLeftContentBox=S>0||F>0?Sn(n.left+k+K,n.top+ge,Math.max(0,S-(k+K)),F-(M+G),Wr.BOTTOM_LEFT):new bt(n.left+k+K,n.top+n.height-(M+G))}return t})(),Wr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Wr||(Wr={}));var Sn=function(t,e,r,n,a){var s=4*((Math.sqrt(2)-1)/3),l=r*s,f=n*s,g=t+r,h=e+n;switch(a){case Wr.TOP_LEFT:return new Gd(new bt(t,h),new bt(t,h-f),new bt(g-l,e),new bt(g,e));case Wr.TOP_RIGHT:return new Gd(new bt(t,e),new bt(t+l,e),new bt(g,h-f),new bt(g,h));case Wr.BOTTOM_RIGHT:return new Gd(new bt(g,e),new bt(g,e+f),new bt(t+l,h),new bt(t,h));case Wr.BOTTOM_LEFT:default:return new Gd(new bt(g,h),new bt(g-l,h),new bt(t,e+f),new bt(t,e))}},hg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Uk=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},dg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Mk=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),Kd=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),Qk=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),Lk=function(t){return t.type===0},XT=function(t){return t.type===1},Pk=function(t){return t.type===2},lb=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},jk=function(t,e,r,n,a){return t.map(function(s,l){switch(l){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+a);case 3:return s.add(e,r+a)}return s})},WT=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),YT=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new kk(this.container),this.container.styles.opacity<1&&this.effects.push(new Qk(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Mk(n,a,s))}if(this.container.styles.overflowX!==0){var l=hg(this.curves),f=dg(this.curves);lb(l,f)?this.effects.push(new Kd(l,6)):(this.effects.push(new Kd(l,2)),this.effects.push(new Kd(f,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(g){return!XT(g)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=hg(n.curves),f=dg(n.curves);lb(l,f)||a.unshift(new Kd(f,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(g){return va(g.target,e)})},t})(),U2=function(t,e,r,n){t.container.elements.forEach(function(a){var s=va(a.flags,4),l=va(a.flags,2),f=new YT(a,t);va(a.styles.display,2048)&&n.push(f);var g=va(a.flags,8)?[]:n;if(s||l){var h=s||a.styles.isPositioned()?r:e,p=new WT(f);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var y=a.styles.zIndex.order;if(y<0){var B=0;h.negativeZIndex.some(function(S,F){return y>S.element.container.styles.zIndex.order?(B=F,!1):B>0}),h.negativeZIndex.splice(B,0,p)}else if(y>0){var T=0;h.positiveZIndex.some(function(S,F){return y>=S.element.container.styles.zIndex.order?(T=F+1,!1):T>0}),h.positiveZIndex.splice(T,0,p)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else a.styles.isFloating()?h.nonPositionedFloats.push(p):h.nonPositionedInlineLevel.push(p);U2(f,p,s?p:r,g)}else a.styles.isInlineLevel()?e.inlineLevel.push(f):e.nonInlineLevel.push(f),U2(f,e,r,g);va(a.flags,8)&&qT(a,g)})},qT=function(t,e){for(var r=t instanceof N2?t.start:1,n=t instanceof N2?t.reversed:!1,a=0;a<e.length;a++){var s=e[a];s.container instanceof DT&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Df(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Hk=function(t){var e=new YT(t,null),r=new WT(e),n=[];return U2(e,r,r,n),qT(e.container,n),r},cb=function(t,e){switch(e){case 0:return Ls(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ls(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ls(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ls(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Vk=function(t,e){switch(e){case 0:return Ls(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ls(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ls(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ls(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Gk=function(t,e){switch(e){case 0:return Ls(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ls(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ls(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ls(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Kk=function(t,e){switch(e){case 0:return zd(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return zd(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return zd(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return zd(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},zd=function(t,e){var r=[];return Ms(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ms(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ls=function(t,e,r,n){var a=[];return Ms(t)?a.push(t.subdivide(.5,!1)):a.push(t),Ms(r)?a.push(r.subdivide(.5,!0)):a.push(r),Ms(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Ms(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},ZT=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},gg=function(t){var e=t.styles,r=t.bounds,n=xn(e.paddingLeft,r.width),a=xn(e.paddingRight,r.width),s=xn(e.paddingTop,r.width),l=xn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+s+l))},zk=function(t,e){return t===0?e.bounds:t===2?gg(e):ZT(e)},Xk=function(t,e){return t===0?e.bounds:t===2?gg(e):ZT(e)},jm=function(t,e,r){var n=zk(h0(t.styles.backgroundOrigin,e),t),a=Xk(h0(t.styles.backgroundClip,e),t),s=Wk(h0(t.styles.backgroundSize,e),r,n),l=s[0],f=s[1],g=Ju(h0(t.styles.backgroundPosition,e),n.width-l,n.height-f),h=Yk(h0(t.styles.backgroundRepeat,e),g,s,n,a),p=Math.round(n.left+g[0]),y=Math.round(n.top+g[1]);return[h,p,y,l,f]},s0=function(t){return An(t)&&t.value===B0.AUTO},Xd=function(t){return typeof t=="number"},Wk=function(t,e,r){var n=e[0],a=e[1],s=e[2],l=t[0],f=t[1];if(!l)return[0,0];if(ha(l)&&f&&ha(f))return[xn(l,r.width),xn(f,r.height)];var g=Xd(s);if(An(l)&&(l.value===B0.CONTAIN||l.value===B0.COVER)){if(Xd(s)){var h=r.width/r.height;return h<s!=(l.value===B0.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var p=Xd(n),y=Xd(a),B=p||y;if(s0(l)&&(!f||s0(f))){if(p&&y)return[n,a];if(!g&&!B)return[r.width,r.height];if(B&&g){var T=p?n:a*s,S=y?a:n/s;return[T,S]}var F=p?n:r.width,D=y?a:r.height;return[F,D]}if(g){var P=0,V=0;return ha(l)?P=xn(l,r.width):ha(f)&&(V=xn(f,r.height)),s0(l)?P=V*s:(!f||s0(f))&&(V=P/s),[P,V]}var j=null,re=null;if(ha(l)?j=xn(l,r.width):f&&ha(f)&&(re=xn(f,r.height)),j!==null&&(!f||s0(f))&&(re=p&&y?j/n*a:r.height),re!==null&&s0(l)&&(j=p&&y?re/a*n:r.width),j!==null&&re!==null)return[j,re];throw new Error("Unable to calculate background-size for element")},h0=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Yk=function(t,e,r,n,a){var s=e[0],l=e[1],f=r[0],g=r[1];switch(t){case 2:return[new bt(Math.round(n.left),Math.round(n.top+l)),new bt(Math.round(n.left+n.width),Math.round(n.top+l)),new bt(Math.round(n.left+n.width),Math.round(g+n.top+l)),new bt(Math.round(n.left),Math.round(g+n.top+l))];case 3:return[new bt(Math.round(n.left+s),Math.round(n.top)),new bt(Math.round(n.left+s+f),Math.round(n.top)),new bt(Math.round(n.left+s+f),Math.round(n.height+n.top)),new bt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new bt(Math.round(n.left+s),Math.round(n.top+l)),new bt(Math.round(n.left+s+f),Math.round(n.top+l)),new bt(Math.round(n.left+s+f),Math.round(n.top+l+g)),new bt(Math.round(n.left+s),Math.round(n.top+l+g))];default:return[new bt(Math.round(a.left),Math.round(a.top)),new bt(Math.round(a.left+a.width),Math.round(a.top)),new bt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new bt(Math.round(a.left),Math.round(a.height+a.top))]}},qk="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ub="Hidden Text",Zk=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),a.src=qk,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ub)),n.appendChild(s),n.appendChild(a);var f=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(ub)),n.style.lineHeight="normal",a.style.verticalAlign="super";var g=a.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:f,middle:g}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),JT=(function(){function t(e,r){this.context=e,this.options=r}return t})(),Jk=1e4,$k=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Zk(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),Pk(r)&&(this.ctx.globalAlpha=r.opacity),Lk(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),XT(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return vi(this,void 0,void 0,function(){var n;return ii(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return vi(this,void 0,void 0,function(){return ii(this,function(n){switch(n.label){case 0:if(va(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var l=Rw(r.text);l.reduce(function(f,g){return s.ctx.fillText(g,f,r.bounds.top+a),f+s.ctx.measureText(g).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),a=aU(r.fontFamily).join(", "),s=$f(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},e.prototype.renderTextNode=function(r,n){return vi(this,void 0,void 0,function(){var a,s,l,f,g,h,p,y,B=this;return ii(this,function(T){return a=this.createFontStyle(n),s=a[0],l=a[1],f=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",g=this.fontMetrics.getMetrics(l,f),h=g.baseline,p=g.middle,y=n.paintOrder,r.textBounds.forEach(function(S){y.forEach(function(F){switch(F){case 0:B.ctx.fillStyle=Sa(n.color),B.renderTextWithLetterSpacing(S,n.letterSpacing,h);var D=n.textShadow;D.length&&S.text.trim().length&&(D.slice(0).reverse().forEach(function(P){B.ctx.shadowColor=Sa(P.color),B.ctx.shadowOffsetX=P.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=P.offsetY.number*B.options.scale,B.ctx.shadowBlur=P.blur.number,B.renderTextWithLetterSpacing(S,n.letterSpacing,h)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=Sa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(P){switch(P){case 1:B.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top+h),S.bounds.width,1);break;case 2:B.ctx.fillRect(S.bounds.left,Math.round(S.bounds.top),S.bounds.width,1);break;case 3:B.ctx.fillRect(S.bounds.left,Math.ceil(S.bounds.top+p),S.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&S.text.trim().length&&(B.ctx.strokeStyle=Sa(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(S.text,S.bounds.left,S.bounds.top+h)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=gg(r),l=dg(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return vi(this,void 0,void 0,function(){var n,a,s,l,f,g,V,V,h,p,y,B,re,T,S,ge,F,D,P,V,j,re,ge;return ii(this,function(z){switch(z.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,l=0,f=n.textNodes,z.label=1;case 1:return l<f.length?(g=f[l],[4,this.renderTextNode(g,s)]):[3,4];case 2:z.sent(),z.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof FT))return[3,8];z.label=5;case 5:return z.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return V=z.sent(),this.renderReplacedElement(n,a,V),[3,8];case 7:return z.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof NT&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof RT))return[3,12];z.label=9;case 9:return z.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return V=z.sent(),this.renderReplacedElement(n,a,V),[3,12];case 11:return z.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof UT&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:p=z.sent(),n.width&&n.height&&this.ctx.drawImage(p,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),z.label=14;case 14:if(n instanceof Dw&&(y=Math.min(n.bounds.width,n.bounds.height),n.type===lg?n.checked&&(this.ctx.save(),this.path([new bt(n.bounds.left+y*.39363,n.bounds.top+y*.79),new bt(n.bounds.left+y*.16,n.bounds.top+y*.5549),new bt(n.bounds.left+y*.27347,n.bounds.top+y*.44071),new bt(n.bounds.left+y*.39694,n.bounds.top+y*.5649),new bt(n.bounds.left+y*.72983,n.bounds.top+y*.23),new bt(n.bounds.left+y*.84,n.bounds.top+y*.34085),new bt(n.bounds.left+y*.39363,n.bounds.top+y*.79)]),this.ctx.fillStyle=Sa(JC),this.ctx.fill(),this.ctx.restore()):n.type===cg&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+y/2,n.bounds.top+y/2,y/4,0,Math.PI*2,!0),this.ctx.fillStyle=Sa(JC),this.ctx.fill(),this.ctx.restore())),eU(n)&&n.value.length){switch(B=this.createFontStyle(s),re=B[0],T=B[1],S=this.fontMetrics.getMetrics(re,T).baseline,this.ctx.font=re,this.ctx.fillStyle=Sa(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=rU(n.styles.textAlign),ge=gg(n),F=0,n.styles.textAlign){case 1:F+=ge.width/2;break;case 2:F+=ge.width;break}D=ge.add(F,0,0,-ge.height/2+1),this.ctx.save(),this.path([new bt(ge.left,ge.top),new bt(ge.left+ge.width,ge.top),new bt(ge.left+ge.width,ge.top+ge.height),new bt(ge.left,ge.top+ge.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new df(n.value,D),s.letterSpacing,S),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!va(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(P=n.styles.listStyleImage,P.type!==0)return[3,18];V=void 0,j=P.url,z.label=15;case 15:return z.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return V=z.sent(),this.ctx.drawImage(V,n.bounds.left-(V.width+10),n.bounds.top),[3,18];case 17:return z.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(re=this.createFontStyle(s)[0],this.ctx.font=re,this.ctx.fillStyle=Sa(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ge=new Ao(n.bounds.left,n.bounds.top+xn(n.styles.paddingTop,n.bounds.width),n.bounds.width,kC(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new df(r.listValue,ge),s.letterSpacing,kC(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return vi(this,void 0,void 0,function(){var n,a,P,s,l,P,f,g,P,h,p,P,y,B,P,T,S,P,F,D,P;return ii(this,function(V){switch(V.label){case 0:if(va(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:V.sent(),n=0,a=r.negativeZIndex,V.label=2;case 2:return n<a.length?(P=a[n],[4,this.renderStack(P)]):[3,5];case 3:V.sent(),V.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:V.sent(),s=0,l=r.nonInlineLevel,V.label=7;case 7:return s<l.length?(P=l[s],[4,this.renderNode(P)]):[3,10];case 8:V.sent(),V.label=9;case 9:return s++,[3,7];case 10:f=0,g=r.nonPositionedFloats,V.label=11;case 11:return f<g.length?(P=g[f],[4,this.renderStack(P)]):[3,14];case 12:V.sent(),V.label=13;case 13:return f++,[3,11];case 14:h=0,p=r.nonPositionedInlineLevel,V.label=15;case 15:return h<p.length?(P=p[h],[4,this.renderStack(P)]):[3,18];case 16:V.sent(),V.label=17;case 17:return h++,[3,15];case 18:y=0,B=r.inlineLevel,V.label=19;case 19:return y<B.length?(P=B[y],[4,this.renderNode(P)]):[3,22];case 20:V.sent(),V.label=21;case 21:return y++,[3,19];case 22:T=0,S=r.zeroOrAutoZIndexOrTransformedOrOpacity,V.label=23;case 23:return T<S.length?(P=S[T],[4,this.renderStack(P)]):[3,26];case 24:V.sent(),V.label=25;case 25:return T++,[3,23];case 26:F=0,D=r.positiveZIndex,V.label=27;case 27:return F<D.length?(P=D[F],[4,this.renderStack(P)]):[3,30];case 28:V.sent(),V.label=29;case 29:return F++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var l=Ms(a)?a.start:a;s===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),Ms(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},e.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var l=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,f=l.createElement("canvas");f.width=Math.max(1,n),f.height=Math.max(1,a);var g=f.getContext("2d");return g.drawImage(r,0,0,r.width,r.height,0,0,n,a),f},e.prototype.renderBackgroundImage=function(r){return vi(this,void 0,void 0,function(){var n,a,s,l,f,g;return ii(this,function(h){switch(h.label){case 0:n=r.styles.backgroundImage.length-1,a=function(p){var y,B,T,Z,ie,ue,K,Ie,M,S,Z,ie,ue,K,Ie,F,D,P,V,j,re,ge,z,O,M,k,Z,Y,G,K,Ie,xe,ie,ue,Ve,Ee,$e,Ae,q,pe,se,me;return ii(this,function(Ce){switch(Ce.label){case 0:if(p.type!==0)return[3,5];y=void 0,B=p.url,Ce.label=1;case 1:return Ce.trys.push([1,3,,4]),[4,s.context.cache.match(B)];case 2:return y=Ce.sent(),[3,4];case 3:return Ce.sent(),s.context.logger.error("Error loading background-image "+B),[3,4];case 4:return y&&(T=jm(r,n,[y.width,y.height,y.width/y.height]),Z=T[0],ie=T[1],ue=T[2],K=T[3],Ie=T[4],M=s.ctx.createPattern(s.resizeImage(y,K,Ie),"repeat"),s.renderRepeat(Z,M,ie,ue)),[3,6];case 5:LR(p)?(S=jm(r,n,[null,null,null]),Z=S[0],ie=S[1],ue=S[2],K=S[3],Ie=S[4],F=OR(p.angle,K,Ie),D=F[0],P=F[1],V=F[2],j=F[3],re=F[4],ge=document.createElement("canvas"),ge.width=K,ge.height=Ie,z=ge.getContext("2d"),O=z.createLinearGradient(P,j,V,re),DC(p.stops,D).forEach(function(ze){return O.addColorStop(ze.stop,Sa(ze.color))}),z.fillStyle=O,z.fillRect(0,0,K,Ie),K>0&&Ie>0&&(M=s.ctx.createPattern(ge,"repeat"),s.renderRepeat(Z,M,ie,ue))):PR(p)&&(k=jm(r,n,[null,null,null]),Z=k[0],Y=k[1],G=k[2],K=k[3],Ie=k[4],xe=p.position.length===0?[Iw]:p.position,ie=xn(xe[0],K),ue=xn(xe[xe.length-1],Ie),Ve=kR(p,ie,ue,K,Ie),Ee=Ve[0],$e=Ve[1],Ee>0&&$e>0&&(Ae=s.ctx.createRadialGradient(Y+ie,G+ue,0,Y+ie,G+ue,Ee),DC(p.stops,Ee*2).forEach(function(ze){return Ae.addColorStop(ze.stop,Sa(ze.color))}),s.path(Z),s.ctx.fillStyle=Ae,Ee!==$e?(q=r.bounds.left+.5*r.bounds.width,pe=r.bounds.top+.5*r.bounds.height,se=$e/Ee,me=1/se,s.ctx.save(),s.ctx.translate(q,pe),s.ctx.transform(1,0,0,se,0,0),s.ctx.translate(-q,-pe),s.ctx.fillRect(Y,me*(G-pe)+pe,K,Ie*me),s.ctx.restore()):s.ctx.fill())),Ce.label=6;case 6:return n--,[2]}})},s=this,l=0,f=r.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return l<f.length?(g=f[l],[5,a(g)]):[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return vi(this,void 0,void 0,function(){return ii(this,function(s){return this.path(cb(a,n)),this.ctx.fillStyle=Sa(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,s){return vi(this,void 0,void 0,function(){var l,f;return ii(this,function(g){switch(g.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return g.sent(),[2];case 2:return l=Vk(s,a),this.path(l),this.ctx.fillStyle=Sa(r),this.ctx.fill(),f=Gk(s,a),this.path(f),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return vi(this,void 0,void 0,function(){var n,a,s,l,f,g,h,p,y=this;return ii(this,function(B){switch(B.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!il(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=tU(h0(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),il(n.backgroundColor)||(this.ctx.fillStyle=Sa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(T){y.ctx.save();var S=hg(r.curves),F=T.inset?0:Jk,D=jk(S,-F+(T.inset?1:-1)*T.spread.number,(T.inset?1:-1)*T.spread.number,T.spread.number*(T.inset?-2:2),T.spread.number*(T.inset?-2:2));T.inset?(y.path(S),y.ctx.clip(),y.mask(D)):(y.mask(S),y.ctx.clip(),y.path(D)),y.ctx.shadowOffsetX=T.offsetX.number+F,y.ctx.shadowOffsetY=T.offsetY.number,y.ctx.shadowColor=Sa(T.color),y.ctx.shadowBlur=T.blur.number,y.ctx.fillStyle=T.inset?Sa(T.color):"rgba(0,0,0,1)",y.ctx.fill(),y.ctx.restore()}),B.label=2;case 2:f=0,g=0,h=s,B.label=3;case 3:return g<h.length?(p=h[g],p.style!==0&&!il(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,f,r.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,f,r.curves,3)];case 6:return B.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,f,r.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,f,r.curves)];case 10:B.sent(),B.label=11;case 11:f++,B.label=12;case 12:return g++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,s,l){return vi(this,void 0,void 0,function(){var f,g,h,p,y,B,T,S,F,D,P,V,j,re,ge,z,ge,z;return ii(this,function(O){return this.ctx.save(),f=Kk(s,a),g=cb(s,a),l===2&&(this.path(g),this.ctx.clip()),Ms(g[0])?(h=g[0].start.x,p=g[0].start.y):(h=g[0].x,p=g[0].y),Ms(g[1])?(y=g[1].end.x,B=g[1].end.y):(y=g[1].x,B=g[1].y),a===0||a===2?T=Math.abs(h-y):T=Math.abs(p-B),this.ctx.beginPath(),l===3?this.formatPath(f):this.formatPath(g.slice(0,2)),S=n<3?n*3:n*2,F=n<3?n*2:n,l===3&&(S=n,F=n),D=!0,T<=S*2?D=!1:T<=S*2+F?(P=T/(2*S+F),S*=P,F*=P):(V=Math.floor((T+F)/(S+F)),j=(T-V*S)/(V-1),re=(T-(V+1)*S)/V,F=re<=0||Math.abs(F-j)<Math.abs(F-re)?j:re),D&&(l===3?this.ctx.setLineDash([0,S+F]):this.ctx.setLineDash([S,F])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Sa(r),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(Ms(g[0])&&(ge=g[3],z=g[0],this.ctx.beginPath(),this.formatPath([new bt(ge.end.x,ge.end.y),new bt(z.start.x,z.start.y)]),this.ctx.stroke()),Ms(g[1])&&(ge=g[1],z=g[2],this.ctx.beginPath(),this.formatPath([new bt(ge.end.x,ge.end.y),new bt(z.start.x,z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return vi(this,void 0,void 0,function(){var n;return ii(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Sa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Hk(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(JT),eU=function(t){return t instanceof kT||t instanceof OT?!0:t instanceof Dw&&t.type!==cg&&t.type!==lg},tU=function(t,e){switch(t){case 0:return hg(e);case 2:return Uk(e);case 1:default:return dg(e)}},rU=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},nU=["-apple-system","system-ui"],aU=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return nU.indexOf(e)===-1}):t},iU=(function(t){iA(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return vi(this,void 0,void 0,function(){var n,a;return ii(this,function(s){switch(s.label){case 0:return n=F2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,sU(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Sa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(JT),sU=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},AU=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,bd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,bd([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,bd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,bd([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),oU=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new AU({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Sk(this,e)}return t.instanceCount=1,t})(),N0=function(t,e){return e===void 0&&(e={}),lU(t,e)};typeof window<"u"&&zT.setContext(window);var lU=function(t,e){return vi(void 0,void 0,void 0,function(){var r,n,a,s,l,f,g,h,p,y,B,T,S,F,D,P,V,j,re,ge,O,z,O,M,k,Z,Y,G,K,Ie,xe,ie,ue,Ve,Ee,$e,Ae,q,pe,se;return ii(this,function(me){switch(me.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(Z=e.useCORS)!==null&&Z!==void 0?Z:!1},s=g2({logging:(Y=e.logging)!==null&&Y!==void 0?Y:!0,cache:e.cache},a),l={windowWidth:(G=e.windowWidth)!==null&&G!==void 0?G:n.innerWidth,windowHeight:(K=e.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:(Ie=e.scrollX)!==null&&Ie!==void 0?Ie:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},f=new Ao(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),g=new oU(s,f),h=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,p={allowTaint:(ue=e.allowTaint)!==null&&ue!==void 0?ue:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},g.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),y=new Ab(g,t,p),B=y.clonedReferenceElement,B?[4,y.toIFrame(r,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return T=me.sent(),S=Ow(B)||uk(B)?jN(B.ownerDocument):zg(g,B),F=S.width,D=S.height,P=S.left,V=S.top,j=cU(g,B,e.backgroundColor),re={canvas:e.canvas,backgroundColor:j,scale:(Ee=(Ve=e.scale)!==null&&Ve!==void 0?Ve:n.devicePixelRatio)!==null&&Ee!==void 0?Ee:1,x:(($e=e.x)!==null&&$e!==void 0?$e:0)+P,y:((Ae=e.y)!==null&&Ae!==void 0?Ae:0)+V,width:(q=e.width)!==null&&q!==void 0?q:Math.ceil(F),height:(pe=e.height)!==null&&pe!==void 0?pe:Math.ceil(D)},h?(g.logger.debug("Document cloned, using foreign object rendering"),O=new iU(g,re),[4,O.render(B)]):[3,3];case 2:return ge=me.sent(),[3,5];case 3:return g.logger.debug("Document cloned, element located at "+P+","+V+" with size "+F+"x"+D+" using computed rendering"),g.logger.debug("Starting DOM parsing"),z=QT(g,B),j===z.styles.backgroundColor&&(z.styles.backgroundColor=ao.TRANSPARENT),g.logger.debug("Starting renderer for element at "+re.x+","+re.y+" with size "+re.width+"x"+re.height),O=new $k(g,re),[4,O.render(z)];case 4:ge=me.sent(),me.label=5;case 5:return(!((se=e.removeContainer)!==null&&se!==void 0)||se)&&(Ab.destroy(T)||g.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),g.logger.debug("Finished rendering"),[2,ge]}})})},cU=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?ff(t,getComputedStyle(n.documentElement).backgroundColor):ao.TRANSPARENT,s=n.body?ff(t,getComputedStyle(n.body).backgroundColor):ao.TRANSPARENT,l=typeof r=="string"?ff(t,r):r===null?ao.TRANSPARENT:4294967295;return e===n.documentElement?il(a)?il(s)?l:s:a:l};const uU=({currentUser:t,onLogout:e,onNavigateToProducts:r,onNavigateToCreateInvoice:n,onNavigateToSettings:a,onNavigateToCustomers:s,onNavigateToNotifications:l,onNavigateToSuppliers:f,onNavigateToClientRequests:g,onNavigateToCheckbook:h,onNavigateToSpecialOrders:p,invoices:y,onEditInvoice:B,onNewInvoiceForCustomer:T,settings:S,unreadNotificationsCount:F})=>{const[D,P]=Ne.useState("unpaid"),[V,j]=Ne.useState(!1),[re,ge]=Ne.useState(""),[z,O]=Ne.useState(!1),[M,k]=Ne.useState(null),Z=Ne.useRef(null);Ne.useEffect(()=>{if(M&&S.showBarcode&&Z.current)try{setTimeout(()=>{const ie=document.getElementById("hidden-barcode");ie&&typeof JsBarcode<"u"&&JsBarcode(ie,M.id,{format:"CODE128",width:1.5,height:40,displayValue:!0,fontSize:12,lineColor:"#000000"})},100)}catch(ie){console.error("Barcode generation failed",ie)}},[M,S.showBarcode]),Ne.useEffect(()=>{M&&window.scrollTo({top:0,behavior:"smooth"})},[M]);const Y=ie=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(ie),G=async()=>{if(!(!M||!Z.current)){O(!0);try{const ie=await N0(Z.current,{scale:3,backgroundColor:"#ffffff",useCORS:!0,logging:!1,width:Z.current.offsetWidth,windowWidth:1e3});let ue=M.phone?M.phone.replace(/\D/g,""):"";(ue.startsWith("06")||ue.startsWith("07")||ue.startsWith("05"))&&(ue="212"+ue.substring(1));const Ve=ue?`https://wa.me/${ue}`:"https://wa.me/";ie.toBlob(async Ee=>{if(!Ee){O(!1),alert("  ");return}try{const $e=new ClipboardItem({"image/png":Ee});await navigator.clipboard.write([$e]),window.open(Ve,"_blank")}catch($e){console.error("Clipboard write failed:",$e),alert("   .   ."),window.open(Ve,"_blank")}finally{O(!1)}},"image/png",1)}catch(ie){console.error("Error generating invoice image:",ie),O(!1)}}},K=()=>{M&&Y3(M,S)},Ie=()=>{P("unpaid"),ge(""),j(!1),k(null)},xe=Ne.useMemo(()=>y.filter(ie=>{const ue=D==="all"?!0:ie.type===D,Ve=ie.name.includes(re)||ie.id.includes(re);return ue&&Ve}).sort((ie,ue)=>ue.createdAt-ie.createdAt),[y,D,re]);return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[M&&x.jsxs("div",{ref:Z,style:{position:"fixed",top:0,left:-9999,width:S.receiptSize==="58mm"?"58mm":"80mm",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",padding:"10px 20px",fontSize:"12px",lineHeight:"1.4",direction:"rtl",zIndex:-1,boxSizing:"border-box"},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"1px dashed #000",paddingBottom:"10px",marginBottom:"10px"},children:[S.businessLogo&&x.jsx("img",{src:S.businessLogo,alt:"Logo",style:{maxWidth:"60px",maxHeight:"60px",marginBottom:"5px"}}),x.jsx("div",{style:{fontSize:"16px",fontWeight:"800",margin:"5px 0"},children:S.businessName}),x.jsx("div",{style:{fontSize:"10px"},children:S.userName}),x.jsxs("div",{style:{fontSize:"10px"},children:[": ",new Date().toLocaleDateString("ar-MA")]}),x.jsxs("div",{style:{fontSize:"10px"},children:[" : ",M.id]})]}),x.jsxs("div",{style:{marginBottom:"10px",borderBottom:"1px dashed #000",paddingBottom:"5px"},children:[x.jsxs("div",{style:{fontWeight:"bold"},children:[": ",M.name]}),M.phone&&x.jsxs("div",{children:[": ",M.phone]})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"10px"},children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #000",padding:"2px 0 8px 0"},children:""}),x.jsx("th",{style:{textAlign:"center",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"15%"},children:""}),x.jsx("th",{style:{textAlign:"left",borderBottom:"1px solid #000",padding:"2px 0 8px 0",width:"35%"},children:""})]})}),x.jsx("tbody",{children:M.items.map((ie,ue)=>x.jsxs("tr",{children:[x.jsx("td",{style:{padding:"4px 0",verticalAlign:"top"},children:ie.productName}),x.jsx("td",{style:{padding:"4px 0",textAlign:"center",verticalAlign:"top"},children:ie.count}),x.jsx("td",{style:{padding:"4px 0",textAlign:"left",verticalAlign:"top"},children:ie.total.toFixed(2)})]},ue))})]}),x.jsxs("div",{style:{borderTop:"1px dashed #000",paddingTop:"5px",marginTop:"5px"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"900",fontSize:"14px",marginTop:"5px"},children:[x.jsx("span",{children:":"}),x.jsxs("span",{children:[M.amount.toFixed(2)," ."]})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[x.jsx("span",{children:":"}),x.jsxs("span",{children:[M.paidAmount.toFixed(2)," ."]})]}),M.remainingAmount>0&&x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[x.jsx("span",{children:":"}),x.jsxs("span",{children:[M.remainingAmount.toFixed(2)," ."]})]})]}),x.jsxs("div",{style:{textAlign:"center",marginTop:"15px",fontSize:"9px",borderTop:"1px dashed #000",paddingTop:"10px"},children:[x.jsx("p",{children:" "}),x.jsx("p",{children:"Thank you for your visit"}),S.showBarcode&&x.jsx("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:x.jsx("svg",{id:"hidden-barcode"})})]})]}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:border-b md:border-gray-800 md:bg-black/90 md:backdrop-blur-md",children:[x.jsxs("h1",{className:"text-xl font-bold text-gray-100",children:["  ",t.name]}),x.jsxs("div",{className:"flex items-center gap-3",children:[t.permissions.viewNotifications&&x.jsxs("button",{onClick:l,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors relative active:scale-95",title:"",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),x.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),F>0&&x.jsx("span",{className:"absolute top-2 right-2.5 w-4 h-4 bg-red-500 rounded-full border border-black text-[8px] flex items-center justify-center text-white font-black animate-bounce",children:F})]}),x.jsx("button",{onClick:a,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-colors active:scale-95",title:"  ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto scroll-smooth custom-scrollbar pb-32 md:px-6",style:{WebkitOverflowScrolling:"touch"},children:[x.jsxs("div",{className:"md:grid md:grid-cols-2 lg:grid-cols-4 md:gap-4 md:mb-6",children:[t.permissions.manageSuppliers&&x.jsx("div",{className:"px-6 md:px-0 pt-4 pb-0 md:py-0",children:x.jsx("button",{onClick:f,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:x.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[x.jsx("div",{className:"w-14 h-14 bg-red-500/10 rounded-2xl flex items-center justify-center text-red-500 border border-red-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14c-.6.6-1 1.5-1 2.3v3.7c0 1.1.9 2 2 2h3.7c.9 0 1.7-.4 2.3-1L15.4 15"}),x.jsx("path",{d:"m11 16 2 2"}),x.jsx("path",{d:"m14 13 4 4"}),x.jsx("path",{d:"M22 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})]})}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-lg font-black text-white",children:""}),x.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageRequests&&x.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:x.jsx("button",{onClick:g,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:x.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[x.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-500 border border-blue-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),x.jsx("path",{d:"M12 11h4"}),x.jsx("path",{d:"M12 16h4"}),x.jsx("path",{d:"M8 11h.01"}),x.jsx("path",{d:"M8 16h.01"})]})}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-lg font-black text-white",children:""}),x.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]})})}),t.permissions.manageCheckbook&&x.jsx("div",{className:"px-6 md:px-0 pt-3 pb-0 md:py-0",children:x.jsx("button",{onClick:h,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:x.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[x.jsx("div",{className:"w-14 h-14 bg-purple-500/10 rounded-2xl flex items-center justify-center text-purple-500 border border-purple-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),x.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-lg font-black text-white",children:""}),x.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})}),t.permissions.manageSpecialOrders&&x.jsx("div",{className:"px-6 md:px-0 pt-3 pb-4 md:py-0",children:x.jsx("button",{onClick:p,className:"w-full bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex items-center justify-between group hover:border-gray-700 transition-all active:scale-[0.98] relative overflow-hidden h-full",children:x.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[x.jsx("div",{className:"w-14 h-14 bg-rose-500/10 rounded-2xl flex items-center justify-center text-rose-500 border border-rose-500/20",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),x.jsxs("div",{className:"text-right",children:[x.jsx("h3",{className:"text-lg font-black text-white",children:""}),x.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})})})]}),x.jsx("div",{className:"px-6 md:px-0 pt-2 pb-2",children:x.jsxs("h2",{className:"text-xl font-extrabold text-gray-200 border-r-[6px] border-[#57b385] pr-4 py-1 flex items-center gap-3",children:[x.jsx("span",{className:"opacity-40",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),x.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),x.jsx("polyline",{points:"10 9 9 9 8 9"})]})})," "]})}),x.jsxs("div",{className:"sticky top-0 bg-[#0c0c0c] z-10 md:static md:bg-transparent",children:[x.jsxs("div",{className:"px-6 md:px-0 flex border-b border-gray-800",children:[x.jsxs("button",{onClick:()=>P("unpaid"),className:`flex-1 py-3 font-bold transition-all relative ${D==="unpaid"?"text-white":"text-gray-500"}`,children:[" ",D==="unpaid"&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),x.jsxs("button",{onClick:()=>P("paid"),className:`flex-1 py-3 font-bold transition-all relative ${D==="paid"?"text-white":"text-gray-500"}`,children:["",D==="paid"&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]}),x.jsxs("button",{onClick:()=>P("all"),className:`flex-1 py-3 font-bold transition-all relative ${D==="all"?"text-white":"text-gray-500"}`,children:["",D==="all"&&x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#57b385]"})]})]}),x.jsx("div",{className:"px-6 md:px-0 py-4 flex items-center justify-between min-h-[72px]",children:V?x.jsxs("div",{className:"flex items-center justify-between w-full gap-3 animate-in slide-in-from-right duration-300",children:[x.jsx("button",{onClick:()=>{j(!1),ge("")},className:"w-10 h-10 min-w-[40px] bg-[#57b385] rounded-xl flex items-center justify-center text-white shadow-lg active:scale-90 transition-transform",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("div",{className:"flex-1 max-w-[180px] relative",children:x.jsx("input",{autoFocus:!0,type:"text",placeholder:"   ...",className:"w-full bg-black/40 border border-gray-800 rounded-full py-2.5 px-4 text-xs text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600",value:re,onChange:ie=>ge(ie.target.value)})}),x.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5 whitespace-nowrap",children:[x.jsx("span",{className:"text-[#57b385] font-black",children:xe.length})," "]})]}):x.jsxs("div",{className:"flex items-center justify-between w-full animate-in fade-in duration-300",children:[x.jsx("button",{onClick:()=>j(!0),className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})}),x.jsxs("div",{className:"text-sm font-bold text-gray-100 flex items-center gap-1.5",children:[x.jsx("span",{className:"text-[#57b385] font-black",children:xe.length}),"  "]})]})})]}),x.jsx("div",{className:"px-4 md:px-0 space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4",children:xe.length>0?xe.map(ie=>x.jsxs("div",{onClick:()=>k(ie),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex md:flex-col items-center gap-4 group hover:border-gray-700 transition-all active:scale-[0.98] cursor-pointer relative overflow-hidden h-full",children:[x.jsxs("div",{className:"flex items-center gap-4 w-full",children:[x.jsx("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-[1.5rem] border border-gray-800 items-center justify-center text-[#7c8b9a] group-hover:scale-105 transition-all shadow-inner group-hover:border-[#57b385]/30 flex",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),x.jsxs("div",{className:"flex-1 flex flex-col items-start justify-center text-right",children:[x.jsx("h4",{className:"text-xl md:text-2xl font-black text-white mb-2 tracking-tight line-clamp-1",children:ie.name}),x.jsx("span",{className:"text-xs text-gray-500 font-bold whitespace-nowrap",children:new Date(ie.createdAt).toLocaleDateString("ar-MA",{day:"numeric",month:"short"})})]})]}),x.jsx("div",{className:"flex flex-col gap-1.5 items-end w-full md:mt-2",children:x.jsxs("div",{className:"bg-[#1a1a1a]/80 px-4 py-2 rounded-full border border-gray-800/50 flex items-center justify-between w-full shadow-lg",children:[x.jsxs("span",{className:`text-sm font-black ${ie.remainingAmount>0?"text-red-400":"text-[#57b385]"} whitespace-nowrap`,children:[Y(ie.remainingAmount>0?ie.remainingAmount:ie.amount)," ."]}),x.jsx("div",{className:"bg-[#1a1a1a] px-2 py-0.5 rounded-lg border border-gray-800 text-[#7c8b9a] font-mono text-[9px] font-bold shadow-inner",children:ie.id})]})})]},ie.id)):x.jsxs("div",{className:"text-center py-10 text-gray-600 flex flex-col items-center gap-4 col-span-full",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20",children:[x.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),x.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),x.jsx("p",{children:"  "})]})})]}),M&&x.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/90 md:backdrop-blur-sm flex flex-col md:items-center md:justify-center animate-in slide-in-from-bottom md:slide-in-from-bottom-10 md:fade-in duration-400 overflow-hidden",children:x.jsxs("div",{className:"w-full h-full md:h-auto md:max-h-[90vh] md:max-w-2xl bg-[#0c0c0c] md:bg-[#111111] md:border md:border-gray-800 md:rounded-[3rem] md:shadow-2xl flex flex-col overflow-hidden",children:[x.jsxs("div",{className:"px-6 pt-10 md:pt-6 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#111111]",children:[x.jsx("button",{onClick:()=>k(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsx("h2",{className:"text-xl font-bold",children:" "}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>T(M.name,M.phone||""),disabled:!t.permissions.createInvoices,className:`p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20 text-blue-500 hover:bg-blue-500 hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,title:"   ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),x.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),x.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})}),x.jsx("button",{onClick:()=>B(M),disabled:!t.permissions.createInvoices,className:`p-3 bg-[#57b385]/10 rounded-2xl border border-[#57b385]/20 text-[#57b385] hover:bg-[#57b385] hover:text-white active:scale-90 transition-all ${t.permissions.createInvoices?"":"opacity-20 grayscale"}`,children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 20h9"}),x.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:M.name.charAt(0)}),x.jsx("h3",{className:"text-2xl font-black text-white",children:M.name}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsxs("div",{className:"flex justify-center gap-2",children:[x.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:M.id}),x.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:M.date})]}),M.creatorName&&x.jsxs("span",{className:"text-[10px] bg-black/40 px-4 py-1 rounded-full border border-gray-800 text-[#57b385] font-black",children:[": ",M.creatorName]})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h4",{className:"text-xs font-bold text-gray-500 border-b border-gray-800 pb-2",children:["  (",M.items.length,")"]}),x.jsx("div",{className:"md:grid md:grid-cols-2 gap-3",children:M.items.map((ie,ue)=>x.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/40 p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-white text-sm mb-1",children:ie.productName}),x.jsxs("div",{className:"text-[10px] text-gray-500 font-mono",children:[x.jsx("span",{className:"text-[#57b385] font-bold",children:ie.count}),"  ",Y(ie.price)]})]}),x.jsx("div",{className:"font-black text-[#57b385]",children:Y(ie.total)})]},ue))})]}),x.jsxs("div",{className:"bg-[#1a1a1a] rounded-[2rem] border border-gray-800 p-5 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-xs text-gray-400 font-bold",children:" "}),x.jsxs("span",{className:"text-lg font-black text-white",children:[Y(M.amount)," ."]})]}),x.jsx("div",{className:"w-full h-px bg-gray-700/50"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),x.jsxs("span",{className:"text-sm font-black text-[#57b385]",children:[Y(M.paidAmount)," ."]})]}),M.remainingAmount>0&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-xs text-gray-400 font-bold",children:""}),x.jsxs("span",{className:"text-sm font-black text-red-500",children:[Y(M.remainingAmount)," ."]})]})]})]}),x.jsxs("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#111111] border-t border-gray-800 pb-10 md:pb-6 flex gap-4",children:[x.jsx("button",{onClick:G,disabled:z,className:`flex-1 bg-[#25D366] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-3 ${z?"opacity-50 cursor-not-allowed":""}`,children:z?x.jsx("span",{className:"text-sm",children:" ..."}):x.jsxs(x.Fragment,{children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),x.jsx("polyline",{points:"16 6 12 2 8 6"}),x.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),""]})}),x.jsx("button",{onClick:K,className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-200 py-4 rounded-2xl font-bold active:scale-95 transition-all flex items-center justify-center",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),x.jsx("button",{onClick:()=>k(null),className:"px-6 bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[x.jsx(Wd,{onClick:Ie,icon:x.jsx(fU,{}),label:"",active:!0}),x.jsx(Wd,{onClick:r,icon:x.jsx(hU,{}),label:""}),x.jsx("div",{className:"relative -top-6",children:x.jsx("button",{onClick:n,disabled:!t.permissions.createInvoices,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all group ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:x.jsxs("svg",{className:"group-hover:stroke-[#57b385] transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),x.jsx(Wd,{onClick:s,icon:x.jsx(dU,{}),label:""}),x.jsx(Wd,{onClick:a,icon:x.jsx(gU,{}),label:""})]})]})},Wd=({icon:t,label:e,active:r=!1,onClick:n})=>x.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[x.jsx("div",{className:r?"scale-110":"",children:t}),x.jsx("span",{className:"text-[10px] font-bold",children:e})]}),fU=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),hU=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),dU=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),gU=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $T=1252,xU=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kw={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Uw=function(t){xU.indexOf(t)!=-1&&($T=kw[0]=t)};function pU(){Uw(1252)}var tA=function(t){Uw(t)};function eS(){tA(1200),pU()}function fb(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function mU(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function tS(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var tf=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?mU(t.slice(2)):e==254&&r==255?tS(t.slice(2)):e==65279?t.slice(1):t},Yd=function(e){return String.fromCharCode(e)},hb=function(e){return String.fromCharCode(e)},Of,$o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function db(t){for(var e="",r=0,n=0,a=0,s=0,l=0,f=0,g=0,h=0;h<t.length;)r=t.charCodeAt(h++),s=r>>2,n=t.charCodeAt(h++),l=(r&3)<<4|n>>4,a=t.charCodeAt(h++),f=(n&15)<<2|a>>6,g=a&63,isNaN(n)?f=g=64:isNaN(a)&&(g=64),e+=$o.charAt(s)+$o.charAt(l)+$o.charAt(f)+$o.charAt(g);return e}function xs(t){var e="",r=0,n=0,a=0,s=0,l=0,f=0,g=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)s=$o.indexOf(t.charAt(h++)),l=$o.indexOf(t.charAt(h++)),r=s<<2|l>>4,e+=String.fromCharCode(r),f=$o.indexOf(t.charAt(h++)),n=(l&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(n)),g=$o.indexOf(t.charAt(h++)),a=(f&3)<<6|g,g!==64&&(e+=String.fromCharCode(a));return e}var Sr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),xc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ul(t){return Sr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function gb(t){return Sr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var eA=function(e){return Sr?xc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function pc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Mw(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Mw(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Yo=Sr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:xc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function wU(t){for(var e=[],r=0,n=t.length+250,a=ul(t.length+255),s=0;s<t.length;++s){var l=t.charCodeAt(s);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var f=t.charCodeAt(++s)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|f>>6&15|(l&3)<<4,a[r++]=128|f&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(e.push(a.slice(0,r)),r=0,a=ul(65535),n=65530)}return e.push(a.slice(0,r)),Yo(e)}var Ci=/\u0000/g,rf=/[\u0001-\u0006]/g;function C0(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function rA(t,e){var r=""+t;return r.length>=e?r:zn("0",e-r.length)+r}function Qw(t,e){var r=""+t;return r.length>=e?r:zn(" ",e-r.length)+r}function xg(t,e){var r=""+t;return r.length>=e?r:r+zn(" ",e-r.length)}function vU(t,e){var r=""+Math.round(t);return r.length>=e?r:zn("0",e-r.length)+r}function yU(t,e){var r=""+t;return r.length>=e?r:zn("0",e-r.length)+r}var xb=Math.pow(2,32);function A0(t,e){if(t>xb||t<-xb)return vU(t,e);var r=Math.round(t);return yU(r,e)}function pg(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var pb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Hm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function EU(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},BU={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mg(t,e,r){for(var n=t<0?-1:1,a=t*n,s=0,l=1,f=0,g=1,h=0,p=0,y=Math.floor(a);h<e&&(y=Math.floor(a),f=y*l+s,p=y*h+g,!(a-y<5e-8));)a=1/(a-y),s=l,l=f,g=h,h=p;if(p>e&&(h>e?(p=g,f=s):(p=h,f=l)),!r)return[0,n*f,p];var B=Math.floor(n*f/p);return[B,n*f-B*p,p]}function Zl(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),s=0,l=[],f={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(n+=1462),f.u>.9999&&(f.u=0,++a==86400&&(f.T=a=0,++n,++f.D)),n===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],s=g.getDay(),n<60&&(s=(s+6)%7),r&&(s=IU(g,l))}return f.y=l[0],f.m=l[1],f.d=l[2],f.S=a%60,a=Math.floor(a/60),f.M=a%60,a=Math.floor(a/60),f.H=a,f.q=s,f}var rS=new Date(1899,11,31,0,0,0),CU=rS.getTime(),bU=new Date(1900,2,1,0,0,0);function nS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=bU&&(r+=1440*60*1e3),(r-(CU+(t.getTimezoneOffset()-rS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Lw(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function _U(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TU(t){var e=t<0?12:11,r=Lw(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function SU(t){var e=Lw(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function kf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=TU(t):e===10?r=t.toFixed(10).substr(0,12):r=SU(t),Lw(_U(r.toUpperCase()))}function sc(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):kf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ps(14,nS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function IU(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function FU(t,e,r,n){var a="",s=0,l=0,f=r.y,g,h=0;switch(t){case 98:f=r.y+543;case 121:switch(e.length){case 1:case 2:g=f%100,h=2;break;default:g=f%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:g=r.m,h=e.length;break;case 3:return Hm[r.m-1][1];case 5:return Hm[r.m-1][0];default:return Hm[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:g=r.d,h=e.length;break;case 3:return pb[r.q][0];default:return pb[r.q][1]}break;case 104:switch(e.length){case 1:case 2:g=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:g=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:g=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?rA(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(a=rA(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:g=f,h=1;break}var p=h>0?rA(g,h):"";return p}function el(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var aS=/%/g;function NU(t,e,r){var n=e.replace(aS,""),a=e.length-n.length;return io(t,n,r*Math.pow(10,2*a))+zn("%",a)}function RU(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return io(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function iS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+iS(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,g,h,p){return g+h+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sS=/# (\?+)( ?)\/( ?)(\d+)/;function DU(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),s=Math.floor(a/n),l=a-s*n,f=n;return r+(s===0?"":""+s)+" "+(l===0?zn(" ",t[1].length+1+t[4].length):Qw(l,t[1].length)+t[2]+"/"+t[3]+rA(f,t[4].length))}function OU(t,e,r){return r+(e===0?"":""+e)+zn(" ",t[1].length+2+t[4].length)}var AS=/^#*0*\.([0#]+)/,oS=/\).*[0#]/,lS=/\(###\) ###\\?-####/;function yi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function wb(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function vb(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function kU(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function UU(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ds(t,e,r){if(t.charCodeAt(0)===40&&!e.match(oS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ds("n",n,r):"("+Ds("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return RU(t,e,r);if(e.indexOf("%")!==-1)return NU(t,e,r);if(e.indexOf("E")!==-1)return iS(e,r);if(e.charCodeAt(0)===36)return"$"+Ds(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,l,f,g=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+A0(g,e.length);if(e.match(/^[#?]+$/))return a=A0(r,0),a==="0"&&(a=""),a.length>e.length?a:yi(e.substr(0,e.length-a.length))+a;if(s=e.match(sS))return DU(s,g,h);if(e.match(/^#+0+$/))return h+A0(g,e.length-e.indexOf("0"));if(s=e.match(AS))return a=wb(r,s[1].length).replace(/^([^\.]+)$/,"$1."+yi(s[1])).replace(/\.$/,"."+yi(s[1])).replace(/\.(\d*)$/,function(S,F){return"."+F+zn("0",yi(s[1]).length-F.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+wb(g,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+el(A0(g,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ds(t,e,-r):el(""+(Math.floor(r)+kU(r,s[1].length)))+"."+rA(vb(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ds(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=C0(Ds(t,e.replace(/[\\-]/g,""),r)),l=0,C0(C0(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(lS))return a=Ds(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),f=mg(g,Math.pow(10,l)-1,!1),a=""+h,p=io("n",s[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=xg(f[2],l),p.length<s[4].length&&(p=yi(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),f=mg(g,Math.pow(10,l)-1,!0),h+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Qw(f[1],l)+s[2]+"/"+s[3]+xg(f[2],l):zn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=A0(r,0),e.length<=a.length?a:yi(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,B=e.length-a.length-y;return yi(e.substr(0,y)+a+e.substr(e.length-B))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=vb(r,s[1].length),r<0?"-"+Ds(t,e,-r):el(UU(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?rA(0,3-S.length):"")+S})+"."+rA(l,s[1].length);switch(e){case"###,##0.00":return Ds(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var T=el(A0(g,0));return T!=="0"?h+T:"";case"###,###.00":return Ds(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ds(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function MU(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return io(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function QU(t,e,r){var n=e.replace(aS,""),a=e.length-n.length;return io(t,n,r*Math.pow(10,2*a))+zn("%",a)}function cS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cS(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,g,h,p){return g+h+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function xA(t,e,r){if(t.charCodeAt(0)===40&&!e.match(oS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xA("n",n,r):"("+xA("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return MU(t,e,r);if(e.indexOf("%")!==-1)return QU(t,e,r);if(e.indexOf("E")!==-1)return cS(e,r);if(e.charCodeAt(0)===36)return"$"+xA(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,l,f,g=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+rA(g,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:yi(e.substr(0,e.length-a.length))+a;if(s=e.match(sS))return OU(s,g,h);if(e.match(/^#+0+$/))return h+rA(g,e.length-e.indexOf("0"));if(s=e.match(AS))return a=(""+r).replace(/^([^\.]+)$/,"$1."+yi(s[1])).replace(/\.$/,"."+yi(s[1])),a=a.replace(/\.(\d*)$/,function(S,F){return"."+F+zn("0",yi(s[1]).length-F.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+el(""+g);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xA(t,e,-r):el(""+r)+"."+zn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return xA(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=C0(xA(t,e.replace(/[\\-]/g,""),r)),l=0,C0(C0(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(e.match(lS))return a=xA(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),f=mg(g,Math.pow(10,l)-1,!1),a=""+h,p=io("n",s[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=xg(f[2],l),p.length<s[4].length&&(p=yi(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),f=mg(g,Math.pow(10,l)-1,!0),h+(f[0]||(f[1]?"":"0"))+" "+(f[1]?Qw(f[1],l)+s[2]+"/"+s[3]+xg(f[2],l):zn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:yi(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var y=e.indexOf(".")-l,B=e.length-a.length-y;return yi(e.substr(0,y)+a+e.substr(e.length-B))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+xA(t,e,-r):el(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?rA(0,3-S.length):"")+S})+"."+rA(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=el(""+g);return T!=="0"?h+T:"";default:if(e.match(/\.[0#?]*$/))return xA(t,e.slice(0,e.lastIndexOf(".")),r)+yi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function io(t,e,r){return(r|0)===r?xA(t,e,r):Ds(t,e,r)}function LU(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var uS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function H0(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":pg(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(uS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function PU(t,e,r,n){for(var a=[],s="",l=0,f="",g="t",h,p,y,B="H";l<t.length;)switch(f=t.charAt(l)){case"G":if(!pg(t,l))throw new Error("unrecognized character "+f+" in "+t);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(y=t.charCodeAt(++l))!==34&&l<t.length;)s+=String.fromCharCode(y);a[a.length]={t:"t",v:s},++l;break;case"\\":var T=t.charAt(++l),S=T==="("||T===")"?T:"t";a[a.length]={t:S,v:T},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=Zl(e,r,t.charAt(l+1)==="2"),h==null))return"";a[a.length]={t:"X",v:t.substr(l,2)},g=f,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Zl(e,r),h==null))return"";for(s=f;++l<t.length&&t.charAt(l).toLowerCase()===f;)s+=f;f==="m"&&g.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=B),a[a.length]={t:f,v:s},g=f;break;case"A":case"a":case"":var F={t:f,v:f};if(h==null&&(h=Zl(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(F.v=h.H>=12?"P":"A"),F.t="T",B="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(F.v=h.H>=12?"PM":"AM"),F.t="T",l+=5,B="h"):t.substr(l,5).toUpperCase()==="/"?(h!=null&&(F.v=h.H>=12?"":""),F.t="T",l+=5,B="h"):(F.t="t",++l),h==null&&F.t==="T")return"";a[a.length]=F,g=f;break;case"[":for(s=f;t.charAt(l++)!=="]"&&l<t.length;)s+=t.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(uS)){if(h==null&&(h=Zl(e,r),h==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},g=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",H0(t)||(a[a.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=f;++l<t.length&&(f=t.charAt(l))==="0";)s+=f;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=f;++l<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(l))>-1;)s+=f;a[a.length]={t:"n",v:s};break;case"?":for(s=f;t.charAt(++l)===f;)s+=f;a[a.length]={t:f,v:s},g=f;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":f,v:f},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=f;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)s+=t.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:f,v:f},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);a[a.length]={t:"t",v:f},++l;break}var D=0,P=0,V;for(l=a.length-1,g="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=B,g="h",D<1&&(D=1);break;case"s":(V=a[l].v.match(/\.0+$/))&&(P=Math.max(P,V[0].length-1)),D<3&&(D=3);case"d":case"y":case"M":case"e":g=a[l].t;break;case"m":g==="s"&&(a[l].t="M",D<2&&(D=2));break;case"X":break;case"Z":D<1&&a[l].v.match(/[Hh]/)&&(D=1),D<2&&a[l].v.match(/[Mm]/)&&(D=2),D<3&&a[l].v.match(/[Ss]/)&&(D=3)}switch(D){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var j="",re;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=FU(a[l].t.charCodeAt(0),a[l].v,h,P),a[l].t="t";break;case"n":case"?":for(re=l+1;a[re]!=null&&((f=a[re].t)==="?"||f==="D"||(f===" "||f==="t")&&a[re+1]!=null&&(a[re+1].t==="?"||a[re+1].t==="t"&&a[re+1].v==="/")||a[l].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(a[re].v==="/"||a[re].v===" "&&a[re+1]!=null&&a[re+1].t=="?"));)a[l].v+=a[re].v,a[re]={v:"",t:";"},++re;j+=a[l].v,l=re-1;break;case"G":a[l].t="t",a[l].v=sc(e,r);break}var ge="",z,O;if(j.length>0){j.charCodeAt(0)==40?(z=e<0&&j.charCodeAt(0)===45?-e:e,O=io("n",j,z)):(z=e<0&&n>1?-e:e,O=io("n",j,z),z<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),re=O.length-1;var M=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){M=l;break}var k=a.length;if(M===a.length&&O.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(re>=a[l].v.length-1?(re-=a[l].v.length,a[l].v=O.substr(re+1,a[l].v.length)):re<0?a[l].v="":(a[l].v=O.substr(0,re+1),re=-1),a[l].t="t",k=l);re>=0&&k<a.length&&(a[k].v=O.substr(0,re+1)+a[k].v)}else if(M!==a.length&&O.indexOf("E")===-1){for(re=O.indexOf(".")-1,l=M;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(p=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")-1:a[l].v.length-1,ge=a[l].v.substr(p+1);p>=0;--p)re>=0&&(a[l].v.charAt(p)==="0"||a[l].v.charAt(p)==="#")&&(ge=O.charAt(re--)+ge);a[l].v=ge,a[l].t="t",k=l}for(re>=0&&k<a.length&&(a[k].v=O.substr(0,re+1)+a[k].v),re=O.indexOf(".")+1,l=M;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==M)){for(p=a[l].v.indexOf(".")>-1&&l===M?a[l].v.indexOf(".")+1:0,ge=a[l].v.substr(0,p);p<a[l].v.length;++p)re<O.length&&(ge+=O.charAt(re++));a[l].v=ge,a[l].t="t",k=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(z=n>1&&e<0&&l>0&&a[l-1].v==="-"?-e:e,a[l].v=io(a[l].t,a[l].v,z),a[l].t="t");var Z="";for(l=0;l!==a.length;++l)a[l]!=null&&(Z+=a[l].v);return Z}var yb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Eb(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function jU(t,e){var r=LU(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(yb),f=r[1].match(yb);return Eb(e,l)?[n,r[0]]:Eb(e,f)?[n,r[1]]:[n,r[l!=null&&f!=null?2:1]]}return[n,s]}function Ps(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ur)[t],n==null&&(n=r.table&&r.table[mb[t]]||ur[mb[t]]),n==null&&(n=BU[t]||"General");break}if(pg(n,0))return sc(e,r);e instanceof Date&&(e=nS(e,r.date1904));var a=jU(n,e);if(pg(a[1]))return sc(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return PU(a[1],e,r,a[0])}function rc(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(ur[r]==null){e<0&&(e=r);continue}if(ur[r]==t){e=r;break}}e<0&&(e=391)}return ur[e]=t,e}function fS(){ur=EU()}var HU={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function VU(t){var e=typeof t=="number"?ur[t]:t;return e=e.replace(hS,"(\\d+)"),new RegExp("^"+e+"$")}function GU(t,e,r){var n=-1,a=-1,s=-1,l=-1,f=-1,g=-1;(e.match(hS)||[]).forEach(function(y,B){var T=parseInt(r[B+1],10);switch(y.toLowerCase().charAt(0)){case"y":n=T;break;case"d":s=T;break;case"h":l=T;break;case"s":g=T;break;case"m":l>=0?f=T:a=T;break}}),g>=0&&f==-1&&a>=0&&(f=a,a=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&f==-1&&g==-1?h:n==-1&&a==-1&&s==-1?p:h+"T"+p}var KU=(function(){var t={};t.version="1.2.0";function e(){for(var O=0,M=new Array(256),k=0;k!=256;++k)O=k,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,M[k]=O;return typeof Int32Array<"u"?new Int32Array(M):M}var r=e();function n(O){var M=0,k=0,Z=0,Y=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)Y[Z]=O[Z];for(Z=0;Z!=256;++Z)for(k=O[Z],M=256+Z;M<4096;M+=256)k=Y[M]=k>>>8^O[k&255];var G=[];for(Z=1;Z!=16;++Z)G[Z-1]=typeof Int32Array<"u"?Y.subarray(Z*256,Z*256+256):Y.slice(Z*256,Z*256+256);return G}var a=n(r),s=a[0],l=a[1],f=a[2],g=a[3],h=a[4],p=a[5],y=a[6],B=a[7],T=a[8],S=a[9],F=a[10],D=a[11],P=a[12],V=a[13],j=a[14];function re(O,M){for(var k=M^-1,Z=0,Y=O.length;Z<Y;)k=k>>>8^r[(k^O.charCodeAt(Z++))&255];return~k}function ge(O,M){for(var k=M^-1,Z=O.length-15,Y=0;Y<Z;)k=j[O[Y++]^k&255]^V[O[Y++]^k>>8&255]^P[O[Y++]^k>>16&255]^D[O[Y++]^k>>>24]^F[O[Y++]]^S[O[Y++]]^T[O[Y++]]^B[O[Y++]]^y[O[Y++]]^p[O[Y++]]^h[O[Y++]]^g[O[Y++]]^f[O[Y++]]^l[O[Y++]]^s[O[Y++]]^r[O[Y++]];for(Z+=15;Y<Z;)k=k>>>8^r[(k^O[Y++])&255];return~k}function z(O,M){for(var k=M^-1,Z=0,Y=O.length,G=0,K=0;Z<Y;)G=O.charCodeAt(Z++),G<128?k=k>>>8^r[(k^G)&255]:G<2048?(k=k>>>8^r[(k^(192|G>>6&31))&255],k=k>>>8^r[(k^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,K=O.charCodeAt(Z++)&1023,k=k>>>8^r[(k^(240|G>>8&7))&255],k=k>>>8^r[(k^(128|G>>2&63))&255],k=k>>>8^r[(k^(128|K>>6&15|(G&3)<<4))&255],k=k>>>8^r[(k^(128|K&63))&255]):(k=k>>>8^r[(k^(224|G>>12&15))&255],k=k>>>8^r[(k^(128|G>>6&63))&255],k=k>>>8^r[(k^(128|G&63))&255]);return~k}return t.table=r,t.bstr=re,t.buf=ge,t.str=z,t})(),Rr=(function(){var e={};e.version="1.2.1";function r(J,ne){for(var oe=J.split("/"),ce=ne.split("/"),he=0,ve=0,Me=Math.min(oe.length,ce.length);he<Me;++he){if(ve=oe[he].length-ce[he].length)return ve;if(oe[he]!=ce[he])return oe[he]<ce[he]?-1:1}return oe.length-ce.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var ne=J.lastIndexOf("/");return ne===-1?J:J.slice(0,ne+1)}function a(J){if(J.charAt(J.length-1)=="/")return a(J.slice(0,-1));var ne=J.lastIndexOf("/");return ne===-1?J:J.slice(ne+1)}function s(J,ne){typeof ne=="string"&&(ne=new Date(ne));var oe=ne.getHours();oe=oe<<6|ne.getMinutes(),oe=oe<<5|ne.getSeconds()>>>1,J.write_shift(2,oe);var ce=ne.getFullYear()-1980;ce=ce<<4|ne.getMonth()+1,ce=ce<<5|ne.getDate(),J.write_shift(2,ce)}function l(J){var ne=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,ce=new Date,he=oe&31;oe>>>=5;var ve=oe&15;oe>>>=4,ce.setMilliseconds(0),ce.setFullYear(oe+1980),ce.setMonth(ve-1),ce.setDate(he);var Me=ne&31;ne>>>=5;var qe=ne&63;return ne>>>=6,ce.setHours(ne),ce.setMinutes(qe),ce.setSeconds(Me<<1),ce}function f(J){za(J,0);for(var ne={},oe=0;J.l<=J.length-4;){var ce=J.read_shift(2),he=J.read_shift(2),ve=J.l+he,Me={};switch(ce){case 21589:oe=J.read_shift(1),oe&1&&(Me.mtime=J.read_shift(4)),he>5&&(oe&2&&(Me.atime=J.read_shift(4)),oe&4&&(Me.ctime=J.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}J.l=ve,ne[ce]=Me}return ne}var g;function h(){return g||(g={})}function p(J,ne){if(J[0]==80&&J[1]==75)return jt(J,ne);if((J[0]|32)==109&&(J[1]|32)==105)return Da(J,ne);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,ce=512,he=0,ve=0,Me=0,qe=0,Oe=0,je=[],He=J.slice(0,512);za(He,0);var st=y(He);switch(oe=st[0],oe){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(st[1]==0)return jt(J,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ce!==512&&(He=J.slice(0,ce),za(He,28));var ct=J.slice(0,ce);B(He,oe);var ut=He.read_shift(4,"i");if(oe===3&&ut!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ut);He.l+=4,Me=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),qe=He.read_shift(4,"i"),he=He.read_shift(4,"i"),Oe=He.read_shift(4,"i"),ve=He.read_shift(4,"i");for(var ht=-1,pt=0;pt<109&&(ht=He.read_shift(4,"i"),!(ht<0));++pt)je[pt]=ht;var St=T(J,ce);D(Oe,ve,St,ce,je);var Je=V(St,Me,je,ce);Je[Me].name="!Directory",he>0&&qe!==K&&(Je[qe].name="!MiniFAT"),Je[je[0]].name="!FAT",Je.fat_addrs=je,Je.ssz=ce;var Fr={},Ht=[],Dn=[],Hs=[];j(Me,Je,St,Ht,he,Fr,Dn,qe),S(Dn,Hs,Ht),Ht.shift();var lr={FileIndex:Dn,FullPaths:Hs};return ne&&ne.raw&&(lr.raw={header:ct,sectors:St}),lr}function y(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(Ie,"Header Signature: "),J.l+=16;var ne=J.read_shift(2,"u");return[J.read_shift(2,"u"),ne]}function B(J,ne){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function T(J,ne){for(var oe=Math.ceil(J.length/ne)-1,ce=[],he=1;he<oe;++he)ce[he-1]=J.slice(he*ne,(he+1)*ne);return ce[oe-1]=J.slice(oe*ne),ce}function S(J,ne,oe){for(var ce=0,he=0,ve=0,Me=0,qe=0,Oe=oe.length,je=[],He=[];ce<Oe;++ce)je[ce]=He[ce]=ce,ne[ce]=oe[ce];for(;qe<He.length;++qe)ce=He[qe],he=J[ce].L,ve=J[ce].R,Me=J[ce].C,je[ce]===ce&&(he!==-1&&je[he]!==he&&(je[ce]=je[he]),ve!==-1&&je[ve]!==ve&&(je[ce]=je[ve])),Me!==-1&&(je[Me]=ce),he!==-1&&ce!=je[ce]&&(je[he]=je[ce],He.lastIndexOf(he)<qe&&He.push(he)),ve!==-1&&ce!=je[ce]&&(je[ve]=je[ce],He.lastIndexOf(ve)<qe&&He.push(ve));for(ce=1;ce<Oe;++ce)je[ce]===ce&&(ve!==-1&&je[ve]!==ve?je[ce]=je[ve]:he!==-1&&je[he]!==he&&(je[ce]=je[he]));for(ce=1;ce<Oe;++ce)if(J[ce].type!==0){if(qe=ce,qe!=je[qe])do qe=je[qe],ne[ce]=ne[qe]+"/"+ne[ce];while(qe!==0&&je[qe]!==-1&&qe!=je[qe]);je[ce]=-1}for(ne[0]+="/",ce=1;ce<Oe;++ce)J[ce].type!==2&&(ne[ce]+="/")}function F(J,ne,oe){for(var ce=J.start,he=J.size,ve=[],Me=ce;oe&&he>0&&Me>=0;)ve.push(ne.slice(Me*G,Me*G+G)),he-=G,Me=Yl(oe,Me*4);return ve.length===0?wa(0):Yo(ve).slice(0,J.size)}function D(J,ne,oe,ce,he){var ve=K;if(J===K){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Me=oe[J],qe=(ce>>>2)-1;if(!Me)return;for(var Oe=0;Oe<qe&&(ve=Yl(Me,Oe*4))!==K;++Oe)he.push(ve);D(Yl(Me,ce-4),ne-1,oe,ce,he)}}function P(J,ne,oe,ce,he){var ve=[],Me=[];he||(he=[]);var qe=ce-1,Oe=0,je=0;for(Oe=ne;Oe>=0;){he[Oe]=!0,ve[ve.length]=Oe,Me.push(J[Oe]);var He=oe[Math.floor(Oe*4/ce)];if(je=Oe*4&qe,ce<4+je)throw new Error("FAT boundary crossed: "+Oe+" 4 "+ce);if(!J[He])break;Oe=Yl(J[He],je)}return{nodes:ve,data:Rb([Me])}}function V(J,ne,oe,ce){var he=J.length,ve=[],Me=[],qe=[],Oe=[],je=ce-1,He=0,st=0,ct=0,ut=0;for(He=0;He<he;++He)if(qe=[],ct=He+ne,ct>=he&&(ct-=he),!Me[ct]){Oe=[];var ht=[];for(st=ct;st>=0;){ht[st]=!0,Me[st]=!0,qe[qe.length]=st,Oe.push(J[st]);var pt=oe[Math.floor(st*4/ce)];if(ut=st*4&je,ce<4+ut)throw new Error("FAT boundary crossed: "+st+" 4 "+ce);if(!J[pt]||(st=Yl(J[pt],ut),ht[st]))break}ve[ct]={nodes:qe,data:Rb([Oe])}}return ve}function j(J,ne,oe,ce,he,ve,Me,qe){for(var Oe=0,je=ce.length?2:0,He=ne[J].data,st=0,ct=0,ut;st<He.length;st+=128){var ht=He.slice(st,st+128);za(ht,64),ct=ht.read_shift(2),ut=Gw(ht,0,ct-je),ce.push(ut);var pt={name:ut,type:ht.read_shift(1),color:ht.read_shift(1),L:ht.read_shift(4,"i"),R:ht.read_shift(4,"i"),C:ht.read_shift(4,"i"),clsid:ht.read_shift(16),state:ht.read_shift(4,"i"),start:0,size:0},St=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);St!==0&&(pt.ct=re(ht,ht.l-8));var Je=ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2)+ht.read_shift(2);Je!==0&&(pt.mt=re(ht,ht.l-8)),pt.start=ht.read_shift(4,"i"),pt.size=ht.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=K,pt.name=""),pt.type===5?(Oe=pt.start,he>0&&Oe!==K&&(ne[Oe].name="!StreamData")):pt.size>=4096?(pt.storage="fat",ne[pt.start]===void 0&&(ne[pt.start]=P(oe,pt.start,ne.fat_addrs,ne.ssz)),ne[pt.start].name=pt.name,pt.content=ne[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Oe!==K&&pt.start!==K&&ne[Oe]&&(pt.content=F(pt,ne[Oe].data,(ne[qe]||{}).data))),pt.content&&za(pt.content,0),ve[ut]=pt,Me.push(pt)}}function re(J,ne){return new Date((fs(J,ne+4)/1e7*Math.pow(2,32)+fs(J,ne)/1e7-11644473600)*1e3)}function ge(J,ne){return h(),p(g.readFileSync(J),ne)}function z(J,ne){var oe=ne&&ne.type;switch(oe||Sr&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return ge(J,ne);case"base64":return p(eA(xs(J)),ne);case"binary":return p(eA(J),ne)}return p(J,ne)}function O(J,ne){var oe=ne||{},ce=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=ce+"/",J.FileIndex[0]={name:ce,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),M(J)}function M(J){var ne="Sh33tJ5";if(!Rr.find(J,"/"+ne)){var oe=wa(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:ne,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+ne),k(J)}}function k(J,ne){O(J);for(var oe=!1,ce=!1,he=J.FullPaths.length-1;he>=0;--he){var ve=J.FileIndex[he];switch(ve.type){case 0:ce?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(ve.R*ve.L*ve.C)&&(oe=!0),ve.R>-1&&ve.L>-1&&ve.R==ve.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!ne)){var Me=new Date(1987,1,19),qe=0,Oe=Object.create?Object.create(null):{},je=[];for(he=0;he<J.FullPaths.length;++he)Oe[J.FullPaths[he]]=!0,J.FileIndex[he].type!==0&&je.push([J.FullPaths[he],J.FileIndex[he]]);for(he=0;he<je.length;++he){var He=n(je[he][0]);ce=Oe[He],ce||(je.push([He,{name:a(He).replace("/",""),type:1,clsid:ie,ct:Me,mt:Me,content:null}]),Oe[He]=!0)}for(je.sort(function(ut,ht){return r(ut[0],ht[0])}),J.FullPaths=[],J.FileIndex=[],he=0;he<je.length;++he)J.FullPaths[he]=je[he][0],J.FileIndex[he]=je[he][1];for(he=0;he<je.length;++he){var st=J.FileIndex[he],ct=J.FullPaths[he];if(st.name=a(ct).replace("/",""),st.L=st.R=st.C=-(st.color=1),st.size=st.content?st.content.length:0,st.start=0,st.clsid=st.clsid||ie,he===0)st.C=je.length>1?1:-1,st.size=0,st.type=5;else if(ct.slice(-1)=="/"){for(qe=he+1;qe<je.length&&n(J.FullPaths[qe])!=ct;++qe);for(st.C=qe>=je.length?-1:qe,qe=he+1;qe<je.length&&n(J.FullPaths[qe])!=n(ct);++qe);st.R=qe>=je.length?-1:qe,st.type=1}else n(J.FullPaths[he+1]||"")==n(ct)&&(st.R=he+1),st.type=2}}}function Z(J,ne){var oe=ne||{};if(oe.fileType=="mad")return Ir(J,oe);switch(k(J),oe.fileType){case"zip":return gr(J,oe)}var ce=(function(ut){for(var ht=0,pt=0,St=0;St<ut.FileIndex.length;++St){var Je=ut.FileIndex[St];if(Je.content){var Fr=Je.content.length;Fr>0&&(Fr<4096?ht+=Fr+63>>6:pt+=Fr+511>>9)}}for(var Ht=ut.FullPaths.length+3>>2,Dn=ht+7>>3,Hs=ht+127>>7,lr=Dn+pt+Ht+Hs,rr=lr+127>>7,ar=rr<=109?0:Math.ceil((rr-109)/127);lr+rr+ar+127>>7>rr;)ar=++rr<=109?0:Math.ceil((rr-109)/127);var Mn=[1,ar,rr,Hs,Ht,pt,ht,0];return ut.FileIndex[0].size=ht<<6,Mn[7]=(ut.FileIndex[0].start=Mn[0]+Mn[1]+Mn[2]+Mn[3]+Mn[4]+Mn[5])+(Mn[6]+7>>3),Mn})(J),he=wa(ce[7]<<9),ve=0,Me=0;{for(ve=0;ve<8;++ve)he.write_shift(1,xe[ve]);for(ve=0;ve<8;++ve)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),ve=0;ve<3;++ve)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,ce[2]),he.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:K),he.write_shift(4,ce[3]),he.write_shift(-4,ce[1]?ce[0]-1:K),he.write_shift(4,ce[1]),ve=0;ve<109;++ve)he.write_shift(-4,ve<ce[2]?ce[1]+ve:-1)}if(ce[1])for(Me=0;Me<ce[1];++Me){for(;ve<236+Me*127;++ve)he.write_shift(-4,ve<ce[2]?ce[1]+ve:-1);he.write_shift(-4,Me===ce[1]-1?K:Me+1)}var qe=function(ut){for(Me+=ut;ve<Me-1;++ve)he.write_shift(-4,ve+1);ut&&(++ve,he.write_shift(-4,K))};for(Me=ve=0,Me+=ce[1];ve<Me;++ve)he.write_shift(-4,ue.DIFSECT);for(Me+=ce[2];ve<Me;++ve)he.write_shift(-4,ue.FATSECT);qe(ce[3]),qe(ce[4]);for(var Oe=0,je=0,He=J.FileIndex[0];Oe<J.FileIndex.length;++Oe)He=J.FileIndex[Oe],He.content&&(je=He.content.length,!(je<4096)&&(He.start=Me,qe(je+511>>9)));for(qe(ce[6]+7>>3);he.l&511;)he.write_shift(-4,ue.ENDOFCHAIN);for(Me=ve=0,Oe=0;Oe<J.FileIndex.length;++Oe)He=J.FileIndex[Oe],He.content&&(je=He.content.length,!(!je||je>=4096)&&(He.start=Me,qe(je+63>>6)));for(;he.l&511;)he.write_shift(-4,ue.ENDOFCHAIN);for(ve=0;ve<ce[4]<<2;++ve){var st=J.FullPaths[ve];if(!st||st.length===0){for(Oe=0;Oe<17;++Oe)he.write_shift(4,0);for(Oe=0;Oe<3;++Oe)he.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)he.write_shift(4,0);continue}He=J.FileIndex[ve],ve===0&&(He.start=He.size?He.start-1:K);var ct=ve===0&&oe.root||He.name;if(je=2*(ct.length+1),he.write_shift(64,ct,"utf16le"),he.write_shift(2,je),he.write_shift(1,He.type),he.write_shift(1,He.color),he.write_shift(-4,He.L),he.write_shift(-4,He.R),he.write_shift(-4,He.C),He.clsid)he.write_shift(16,He.clsid,"hex");else for(Oe=0;Oe<4;++Oe)he.write_shift(4,0);he.write_shift(4,He.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,He.start),he.write_shift(4,He.size),he.write_shift(4,0)}for(ve=1;ve<J.FileIndex.length;++ve)if(He=J.FileIndex[ve],He.size>=4096)if(he.l=He.start+1<<9,Sr&&Buffer.isBuffer(He.content))He.content.copy(he,he.l,0,He.size),he.l+=He.size+511&-512;else{for(Oe=0;Oe<He.size;++Oe)he.write_shift(1,He.content[Oe]);for(;Oe&511;++Oe)he.write_shift(1,0)}for(ve=1;ve<J.FileIndex.length;++ve)if(He=J.FileIndex[ve],He.size>0&&He.size<4096)if(Sr&&Buffer.isBuffer(He.content))He.content.copy(he,he.l,0,He.size),he.l+=He.size+63&-64;else{for(Oe=0;Oe<He.size;++Oe)he.write_shift(1,He.content[Oe]);for(;Oe&63;++Oe)he.write_shift(1,0)}if(Sr)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function Y(J,ne){var oe=J.FullPaths.map(function(Oe){return Oe.toUpperCase()}),ce=oe.map(function(Oe){var je=Oe.split("/");return je[je.length-(Oe.slice(-1)=="/"?2:1)]}),he=!1;ne.charCodeAt(0)===47?(he=!0,ne=oe[0].slice(0,-1)+ne):he=ne.indexOf("/")!==-1;var ve=ne.toUpperCase(),Me=he===!0?oe.indexOf(ve):ce.indexOf(ve);if(Me!==-1)return J.FileIndex[Me];var qe=!ve.match(rf);for(ve=ve.replace(Ci,""),qe&&(ve=ve.replace(rf,"!")),Me=0;Me<oe.length;++Me)if((qe?oe[Me].replace(rf,"!"):oe[Me]).replace(Ci,"")==ve||(qe?ce[Me].replace(rf,"!"):ce[Me]).replace(Ci,"")==ve)return J.FileIndex[Me];return null}var G=64,K=-2,Ie="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:Ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ve(J,ne,oe){h();var ce=Z(J,oe);g.writeFileSync(ne,ce)}function Ee(J){for(var ne=new Array(J.length),oe=0;oe<J.length;++oe)ne[oe]=String.fromCharCode(J[oe]);return ne.join("")}function $e(J,ne){var oe=Z(J,ne);switch(ne&&ne.type||"buffer"){case"file":return h(),g.writeFileSync(ne.filename,oe),oe;case"binary":return typeof oe=="string"?oe:Ee(oe);case"base64":return db(typeof oe=="string"?oe:Ee(oe));case"buffer":if(Sr)return Buffer.isBuffer(oe)?oe:xc(oe);case"array":return typeof oe=="string"?eA(oe):oe}return oe}var Ae;function q(J){try{var ne=J.InflateRaw,oe=new ne;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)Ae=J;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function pe(J,ne){if(!Ae)return Rt(J,ne);var oe=Ae.InflateRaw,ce=new oe,he=ce._processChunk(J.slice(J.l),ce._finishFlushFlag);return J.l+=ce.bytesRead,he}function se(J){return Ae?Ae.deflateRawSync(J):Tt(J)}var me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ze=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(J){var ne=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var ae=typeof Uint8Array<"u",_e=ae?new Uint8Array(256):[],Re=0;Re<256;++Re)_e[Re]=ye(Re);function fe(J,ne){var oe=_e[J&255];return ne<=8?oe>>>8-ne:(oe=oe<<8|_e[J>>8&255],ne<=16?oe>>>16-ne:(oe=oe<<8|_e[J>>16&255],oe>>>24-ne))}function yt(J,ne){var oe=ne&7,ce=ne>>>3;return(J[ce]|(oe<=6?0:J[ce+1]<<8))>>>oe&3}function _t(J,ne){var oe=ne&7,ce=ne>>>3;return(J[ce]|(oe<=5?0:J[ce+1]<<8))>>>oe&7}function et(J,ne){var oe=ne&7,ce=ne>>>3;return(J[ce]|(oe<=4?0:J[ce+1]<<8))>>>oe&15}function gt(J,ne){var oe=ne&7,ce=ne>>>3;return(J[ce]|(oe<=3?0:J[ce+1]<<8))>>>oe&31}function rt(J,ne){var oe=ne&7,ce=ne>>>3;return(J[ce]|(oe<=1?0:J[ce+1]<<8))>>>oe&127}function Ct(J,ne,oe){var ce=ne&7,he=ne>>>3,ve=(1<<oe)-1,Me=J[he]>>>ce;return oe<8-ce||(Me|=J[he+1]<<8-ce,oe<16-ce)||(Me|=J[he+2]<<16-ce,oe<24-ce)||(Me|=J[he+3]<<24-ce),Me&ve}function kt(J,ne,oe){var ce=ne&7,he=ne>>>3;return ce<=5?J[he]|=(oe&7)<<ce:(J[he]|=oe<<ce&255,J[he+1]=(oe&7)>>8-ce),ne+3}function mr(J,ne,oe){var ce=ne&7,he=ne>>>3;return oe=(oe&1)<<ce,J[he]|=oe,ne+1}function vt(J,ne,oe){var ce=ne&7,he=ne>>>3;return oe<<=ce,J[he]|=oe&255,oe>>>=8,J[he+1]=oe,ne+8}function Ca(J,ne,oe){var ce=ne&7,he=ne>>>3;return oe<<=ce,J[he]|=oe&255,oe>>>=8,J[he+1]=oe&255,J[he+2]=oe>>>8,ne+16}function Wn(J,ne){var oe=J.length,ce=2*oe>ne?2*oe:ne+5,he=0;if(oe>=ne)return J;if(Sr){var ve=gb(ce);if(J.copy)J.copy(ve);else for(;he<J.length;++he)ve[he]=J[he];return ve}else if(ae){var Me=new Uint8Array(ce);if(Me.set)Me.set(J);else for(;he<oe;++he)Me[he]=J[he];return Me}return J.length=ce,J}function tr(J){for(var ne=new Array(J),oe=0;oe<J;++oe)ne[oe]=0;return ne}function Cn(J,ne,oe){var ce=1,he=0,ve=0,Me=0,qe=0,Oe=J.length,je=ae?new Uint16Array(32):tr(32);for(ve=0;ve<32;++ve)je[ve]=0;for(ve=Oe;ve<oe;++ve)J[ve]=0;Oe=J.length;var He=ae?new Uint16Array(Oe):tr(Oe);for(ve=0;ve<Oe;++ve)je[he=J[ve]]++,ce<he&&(ce=he),He[ve]=0;for(je[0]=0,ve=1;ve<=ce;++ve)je[ve+16]=qe=qe+je[ve-1]<<1;for(ve=0;ve<Oe;++ve)qe=J[ve],qe!=0&&(He[ve]=je[qe+16]++);var st=0;for(ve=0;ve<Oe;++ve)if(st=J[ve],st!=0)for(qe=fe(He[ve],ce)>>ce-st,Me=(1<<ce+4-st)-1;Me>=0;--Me)ne[qe|Me<<st]=st&15|ve<<4;return ce}var Jt=ae?new Uint16Array(512):tr(512),Vr=ae?new Uint16Array(32):tr(32);if(!ae){for(var Ze=0;Ze<512;++Ze)Jt[Ze]=0;for(Ze=0;Ze<32;++Ze)Vr[Ze]=0}(function(){for(var J=[],ne=0;ne<32;ne++)J.push(5);Cn(J,Vr,32);var oe=[];for(ne=0;ne<=143;ne++)oe.push(8);for(;ne<=255;ne++)oe.push(9);for(;ne<=279;ne++)oe.push(7);for(;ne<=287;ne++)oe.push(8);Cn(oe,Jt,288)})();var Nt=(function(){for(var ne=ae?new Uint8Array(32768):[],oe=0,ce=0;oe<ze.length-1;++oe)for(;ce<ze[oe+1];++ce)ne[ce]=oe;for(;ce<32768;++ce)ne[ce]=29;var he=ae?new Uint8Array(259):[];for(oe=0,ce=0;oe<Ce.length-1;++oe)for(;ce<Ce[oe+1];++ce)he[ce]=oe;function ve(qe,Oe){for(var je=0;je<qe.length;){var He=Math.min(65535,qe.length-je),st=je+He==qe.length;for(Oe.write_shift(1,+st),Oe.write_shift(2,He),Oe.write_shift(2,~He&65535);He-- >0;)Oe[Oe.l++]=qe[je++]}return Oe.l}function Me(qe,Oe){for(var je=0,He=0,st=ae?new Uint16Array(32768):[];He<qe.length;){var ct=Math.min(65535,qe.length-He);if(ct<10){for(je=kt(Oe,je,+(He+ct==qe.length)),je&7&&(je+=8-(je&7)),Oe.l=je/8|0,Oe.write_shift(2,ct),Oe.write_shift(2,~ct&65535);ct-- >0;)Oe[Oe.l++]=qe[He++];je=Oe.l*8;continue}je=kt(Oe,je,+(He+ct==qe.length)+2);for(var ut=0;ct-- >0;){var ht=qe[He];ut=(ut<<5^ht)&32767;var pt=-1,St=0;if((pt=st[ut])&&(pt|=He&-32768,pt>He&&(pt-=32768),pt<He))for(;qe[pt+St]==qe[He+St]&&St<250;)++St;if(St>2){ht=he[St],ht<=22?je=vt(Oe,je,_e[ht+1]>>1)-1:(vt(Oe,je,3),je+=5,vt(Oe,je,_e[ht-23]>>5),je+=3);var Je=ht<8?0:ht-4>>2;Je>0&&(Ca(Oe,je,St-Ce[ht]),je+=Je),ht=ne[He-pt],je=vt(Oe,je,_e[ht]>>3),je-=3;var Fr=ht<4?0:ht-2>>1;Fr>0&&(Ca(Oe,je,He-pt-ze[ht]),je+=Fr);for(var Ht=0;Ht<St;++Ht)st[ut]=He&32767,ut=(ut<<5^qe[He])&32767,++He;ct-=St-1}else ht<=143?ht=ht+48:je=mr(Oe,je,1),je=vt(Oe,je,_e[ht]),st[ut]=He&32767,++He}je=vt(Oe,je,0)-1}return Oe.l=(je+7)/8|0,Oe.l}return function(Oe,je){return Oe.length<8?ve(Oe,je):Me(Oe,je)}})();function Tt(J){var ne=wa(50+Math.floor(J.length*1.1)),oe=Nt(J,ne);return ne.slice(0,oe)}var qt=ae?new Uint16Array(32768):tr(32768),Qr=ae?new Uint16Array(32768):tr(32768),Mt=ae?new Uint16Array(128):tr(128),At=1,Le=1;function nt(J,ne){var oe=gt(J,ne)+257;ne+=5;var ce=gt(J,ne)+1;ne+=5;var he=et(J,ne)+4;ne+=4;for(var ve=0,Me=ae?new Uint8Array(19):tr(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,je=ae?new Uint8Array(8):tr(8),He=ae?new Uint8Array(8):tr(8),st=Me.length,ct=0;ct<he;++ct)Me[me[ct]]=ve=_t(J,ne),Oe<ve&&(Oe=ve),je[ve]++,ne+=3;var ut=0;for(je[0]=0,ct=1;ct<=Oe;++ct)He[ct]=ut=ut+je[ct-1]<<1;for(ct=0;ct<st;++ct)(ut=Me[ct])!=0&&(qe[ct]=He[ut]++);var ht=0;for(ct=0;ct<st;++ct)if(ht=Me[ct],ht!=0){ut=_e[qe[ct]]>>8-ht;for(var pt=(1<<7-ht)-1;pt>=0;--pt)Mt[ut|pt<<ht]=ht&7|ct<<3}var St=[];for(Oe=1;St.length<oe+ce;)switch(ut=Mt[rt(J,ne)],ne+=ut&7,ut>>>=3){case 16:for(ve=3+yt(J,ne),ne+=2,ut=St[St.length-1];ve-- >0;)St.push(ut);break;case 17:for(ve=3+_t(J,ne),ne+=3;ve-- >0;)St.push(0);break;case 18:for(ve=11+rt(J,ne),ne+=7;ve-- >0;)St.push(0);break;default:St.push(ut),Oe<ut&&(Oe=ut);break}var Je=St.slice(0,oe),Fr=St.slice(oe);for(ct=oe;ct<286;++ct)Je[ct]=0;for(ct=ce;ct<30;++ct)Fr[ct]=0;return At=Cn(Je,qt,286),Le=Cn(Fr,Qr,30),ne}function Et(J,ne){if(J[0]==3&&!(J[1]&3))return[ul(ne),2];for(var oe=0,ce=0,he=gb(ne||1<<18),ve=0,Me=he.length>>>0,qe=0,Oe=0;(ce&1)==0;){if(ce=_t(J,oe),oe+=3,ce>>>1)ce>>1==1?(qe=9,Oe=5):(oe=nt(J,oe),qe=At,Oe=Le);else{oe&7&&(oe+=8-(oe&7));var je=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,je>0)for(!ne&&Me<ve+je&&(he=Wn(he,ve+je),Me=he.length);je-- >0;)he[ve++]=J[oe>>>3],oe+=8;continue}for(;;){!ne&&Me<ve+32767&&(he=Wn(he,ve+32767),Me=he.length);var He=Ct(J,oe,qe),st=ce>>>1==1?Jt[He]:qt[He];if(oe+=st&15,st>>>=4,(st>>>8&255)===0)he[ve++]=st;else{if(st==256)break;st-=257;var ct=st<8?0:st-4>>2;ct>5&&(ct=0);var ut=ve+Ce[st];ct>0&&(ut+=Ct(J,oe,ct),oe+=ct),He=Ct(J,oe,Oe),st=ce>>>1==1?Vr[He]:Qr[He],oe+=st&15,st>>>=4;var ht=st<4?0:st-2>>1,pt=ze[st];for(ht>0&&(pt+=Ct(J,oe,ht),oe+=ht),!ne&&Me<ut&&(he=Wn(he,ut+100),Me=he.length);ve<ut;)he[ve]=he[ve-pt],++ve}}}return ne?[he,oe+7>>>3]:[he.slice(0,ve),oe+7>>>3]}function Rt(J,ne){var oe=J.slice(J.l||0),ce=Et(oe,ne);return J.l+=ce[1],ce[0]}function Bt(J,ne){if(J)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function jt(J,ne){var oe=J;za(oe,0);var ce=[],he=[],ve={FileIndex:ce,FullPaths:he};O(ve,{root:ne.root});for(var Me=oe.length-4;(oe[Me]!=80||oe[Me+1]!=75||oe[Me+2]!=5||oe[Me+3]!=6)&&Me>=0;)--Me;oe.l=Me+4,oe.l+=4;var qe=oe.read_shift(2);oe.l+=6;var Oe=oe.read_shift(4);for(oe.l=Oe,Me=0;Me<qe;++Me){oe.l+=20;var je=oe.read_shift(4),He=oe.read_shift(4),st=oe.read_shift(2),ct=oe.read_shift(2),ut=oe.read_shift(2);oe.l+=8;var ht=oe.read_shift(4),pt=f(oe.slice(oe.l+st,oe.l+st+ct));oe.l+=st+ct+ut;var St=oe.l;oe.l=ht+4,Xt(oe,je,He,ve,pt),oe.l=St}return ve}function Xt(J,ne,oe,ce,he){J.l+=2;var ve=J.read_shift(2),Me=J.read_shift(2),qe=l(J);if(ve&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=J.read_shift(4),je=J.read_shift(4),He=J.read_shift(4),st=J.read_shift(2),ct=J.read_shift(2),ut="",ht=0;ht<st;++ht)ut+=String.fromCharCode(J[J.l++]);if(ct){var pt=f(J.slice(J.l,J.l+ct));(pt[21589]||{}).mt&&(qe=pt[21589].mt),((he||{})[21589]||{}).mt&&(qe=he[21589].mt)}J.l+=ct;var St=J.slice(J.l,J.l+je);switch(Me){case 8:St=pe(J,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var Je=!1;ve&8&&(Oe=J.read_shift(4),Oe==134695760&&(Oe=J.read_shift(4),Je=!0),je=J.read_shift(4),He=J.read_shift(4)),je!=ne&&Bt(Je,"Bad compressed size: "+ne+" != "+je),He!=oe&&Bt(Je,"Bad uncompressed size: "+oe+" != "+He),mn(ce,ut,St,{unsafe:!0,mt:qe})}function gr(J,ne){var oe=ne||{},ce=[],he=[],ve=wa(1),Me=oe.compression?8:0,qe=0,Oe=0,je=0,He=0,st=0,ct=J.FullPaths[0],ut=ct,ht=J.FileIndex[0],pt=[],St=0;for(Oe=1;Oe<J.FullPaths.length;++Oe)if(ut=J.FullPaths[Oe].slice(ct.length),ht=J.FileIndex[Oe],!(!ht.size||!ht.content||ut=="Sh33tJ5")){var Je=He,Fr=wa(ut.length);for(je=0;je<ut.length;++je)Fr.write_shift(1,ut.charCodeAt(je)&127);Fr=Fr.slice(0,Fr.l),pt[st]=KU.buf(ht.content,0);var Ht=ht.content;Me==8&&(Ht=se(Ht)),ve=wa(30),ve.write_shift(4,67324752),ve.write_shift(2,20),ve.write_shift(2,qe),ve.write_shift(2,Me),ht.mt?s(ve,ht.mt):ve.write_shift(4,0),ve.write_shift(-4,pt[st]),ve.write_shift(4,Ht.length),ve.write_shift(4,ht.content.length),ve.write_shift(2,Fr.length),ve.write_shift(2,0),He+=ve.length,ce.push(ve),He+=Fr.length,ce.push(Fr),He+=Ht.length,ce.push(Ht),ve=wa(46),ve.write_shift(4,33639248),ve.write_shift(2,0),ve.write_shift(2,20),ve.write_shift(2,qe),ve.write_shift(2,Me),ve.write_shift(4,0),ve.write_shift(-4,pt[st]),ve.write_shift(4,Ht.length),ve.write_shift(4,ht.content.length),ve.write_shift(2,Fr.length),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(4,0),ve.write_shift(4,Je),St+=ve.l,he.push(ve),St+=Fr.length,he.push(Fr),++st}return ve=wa(22),ve.write_shift(4,101010256),ve.write_shift(2,0),ve.write_shift(2,0),ve.write_shift(2,st),ve.write_shift(2,st),ve.write_shift(4,St),ve.write_shift(4,He),ve.write_shift(2,0),Yo([Yo(ce),Yo(he),ve])}var Gr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Rn(J,ne){if(J.ctype)return J.ctype;var oe=J.name||"",ce=oe.match(/\.([^\.]+)$/);return ce&&Gr[ce[1]]||ne&&(ce=(oe=ne).match(/[\.\\]([^\.\\])+$/),ce&&Gr[ce[1]])?Gr[ce[1]]:"application/octet-stream"}function un(J){for(var ne=db(J),oe=[],ce=0;ce<ne.length;ce+=76)oe.push(ne.slice(ce,ce+76));return oe.join(`\r
`)+`\r
`}function Ti(J){var ne=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var He=je.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ce=ne.split(`\r
`),he=0;he<ce.length;++he){var ve=ce[he];if(ve.length==0){oe.push("");continue}for(var Me=0;Me<ve.length;){var qe=76,Oe=ve.slice(Me,Me+qe);Oe.charAt(qe-1)=="="?qe--:Oe.charAt(qe-2)=="="?qe-=2:Oe.charAt(qe-3)=="="&&(qe-=3),Oe=ve.slice(Me,Me+qe),Me+=qe,Me<ve.length&&(Oe+="="),oe.push(Oe)}}return oe.join(`\r
`)}function fn(J){for(var ne=[],oe=0;oe<J.length;++oe){for(var ce=J[oe];oe<=J.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+J[++oe];ne.push(ce)}for(var he=0;he<ne.length;++he)ne[he]=ne[he].replace(/[=][0-9A-Fa-f]{2}/g,function(ve){return String.fromCharCode(parseInt(ve.slice(1),16))});return eA(ne.join(`\r
`))}function aa(J,ne,oe){for(var ce="",he="",ve="",Me,qe=0;qe<10;++qe){var Oe=ne[qe];if(!Oe||Oe.match(/^\s*$/))break;var je=Oe.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":ce=je[2].trim();break;case"content-type":ve=je[2].trim();break;case"content-transfer-encoding":he=je[2].trim();break}}switch(++qe,he.toLowerCase()){case"base64":Me=eA(xs(ne.slice(qe).join("")));break;case"quoted-printable":Me=fn(ne.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var He=mn(J,ce.slice(oe.length),Me,{unsafe:!0});ve&&(He.ctype=ve)}function Da(J,ne){if(Ee(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=ne&&ne.root||"",ce=(Sr&&Buffer.isBuffer(J)?J.toString("binary"):Ee(J)).split(`\r
`),he=0,ve="";for(he=0;he<ce.length;++he)if(ve=ce[he],!!/^Content-Location:/i.test(ve)&&(ve=ve.slice(ve.indexOf("file")),oe||(oe=ve.slice(0,ve.lastIndexOf("/")+1)),ve.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ve.slice(0,oe.length)!=oe););var Me=(ce[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var qe="--"+(Me[1]||""),Oe=[],je=[],He={FileIndex:Oe,FullPaths:je};O(He);var st,ct=0;for(he=0;he<ce.length;++he){var ut=ce[he];ut!==qe&&ut!==qe+"--"||(ct++&&aa(He,ce.slice(st,he),oe),st=he)}return He}function Ir(J,ne){var oe=ne||{},ce=oe.boundary||"SheetJS";ce="------="+ce;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],ve=J.FullPaths[0],Me=ve,qe=J.FileIndex[0],Oe=1;Oe<J.FullPaths.length;++Oe)if(Me=J.FullPaths[Oe].slice(ve.length),qe=J.FileIndex[Oe],!(!qe.size||!qe.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(St){return"_x"+St.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(St){return"_u"+St.charCodeAt(0).toString(16)+"_"});for(var je=qe.content,He=Sr&&Buffer.isBuffer(je)?je.toString("binary"):Ee(je),st=0,ct=Math.min(1024,He.length),ut=0,ht=0;ht<=ct;++ht)(ut=He.charCodeAt(ht))>=32&&ut<128&&++st;var pt=st>=ct*4/5;he.push(ce),he.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Me),he.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),he.push("Content-Type: "+Rn(qe,Me)),he.push(""),he.push(pt?Ti(He):un(He))}return he.push(ce+`--\r
`),he.join(`\r
`)}function Si(J){var ne={};return O(ne,J),ne}function mn(J,ne,oe,ce){var he=ce&&ce.unsafe;he||O(J);var ve=!he&&Rr.find(J,ne);if(!ve){var Me=J.FullPaths[0];ne.slice(0,Me.length)==Me?Me=ne:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+ne).replace("//","/")),ve={name:a(ne),type:2},J.FileIndex.push(ve),J.FullPaths.push(Me),he||Rr.utils.cfb_gc(J)}return ve.content=oe,ve.size=oe?oe.length:0,ce&&(ce.CLSID&&(ve.clsid=ce.CLSID),ce.mt&&(ve.mt=ce.mt),ce.ct&&(ve.ct=ce.ct)),ve}function Oa(J,ne){O(J);var oe=Rr.find(J,ne);if(oe){for(var ce=0;ce<J.FileIndex.length;++ce)if(J.FileIndex[ce]==oe)return J.FileIndex.splice(ce,1),J.FullPaths.splice(ce,1),!0}return!1}function bn(J,ne,oe){O(J);var ce=Rr.find(J,ne);if(ce){for(var he=0;he<J.FileIndex.length;++he)if(J.FileIndex[he]==ce)return J.FileIndex[he].name=a(oe),J.FullPaths[he]=oe,!0}return!1}function ka(J){k(J,!0)}return e.find=Y,e.read=z,e.parse=p,e.write=$e,e.writeFile=Ve,e.utils={cfb_new:Si,cfb_add:mn,cfb_del:Oa,cfb_mov:bn,cfb_gc:ka,ReadShift:xf,CheckField:kS,prep_blob:za,bconcat:Yo,use_zlib:q,_deflateRaw:Tt,_inflateRaw:Rt,consts:ue},e})();function zU(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function EA(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Pw(t){for(var e=[],r=EA(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var wg=new Date(1899,11,30,0,0,0);function _i(t,e){var r=t.getTime(),n=wg.getTime()+(t.getTimezoneOffset()-wg.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var dS=new Date,XU=wg.getTime()+(dS.getTimezoneOffset()-wg.getTimezoneOffset())*6e4,Bb=dS.getTimezoneOffset();function rx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+XU),e.getTimezoneOffset()!==Bb&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Bb)*6e4),e}function WU(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[s],10)}return e}var Cb=new Date("2017-02-19T19:06:09.000Z"),gS=isNaN(Cb.getFullYear())?new Date("2/19/17"):Cb,YU=gS.getFullYear()==2017;function Ra(t,e){var r=new Date(t);if(YU)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(gS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ac(t,e){if(Sr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return af(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return af(tS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return af(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return af(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function Ya(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ya(t[r]));return e}function zn(t,e){for(var r="";r.length<e;)r+=t;return r}function nA(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var qU=["january","february","march","april","may","june","july","august","september","october","november","december"];function R0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&qU.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var ZU=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),l=[s[0]],f=1;f<s.length;++f)l.push(a),l.push(s[f]);return l}})();function xS(t){return t?t.content&&t.type?Ac(t.content,!0):t.data?tf(t.data):t.asNodeBuffer&&Sr?tf(t.asNodeBuffer().toString("binary")):t.asBinary?tf(t.asBinary()):t._data&&t._data.getContent?tf(Ac(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function pS(t){if(!t)return null;if(t.data)return fb(t.data);if(t.asNodeBuffer&&Sr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?fb(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function JU(t){return t&&t.name.slice(-4)===".bin"?pS(t):xS(t)}function Us(t,e){for(var r=t.FullPaths||EA(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var l=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||a==l)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function jw(t,e){var r=Us(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function ua(t,e,r){if(!r)return JU(jw(t,e));if(!e)return null;try{return ua(t,e)}catch{return null}}function hs(t,e,r){if(!r)return xS(jw(t,e));if(!e)return null;try{return hs(t,e)}catch{return null}}function $U(t,e,r){return pS(jw(t,e))}function bb(t){for(var e=t.FullPaths||EA(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function eM(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Sr?n=xc(r):n=wU(r),Rr.utils.cfb_add(t,e,n)}Rr.utils.cfb_add(t,e,r)}else t.file(e,r)}function mS(t,e){switch(e.type){case"base64":return Rr.read(t,{type:"base64"});case"binary":return Rr.read(t,{type:"binary"});case"buffer":case"array":return Rr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function nf(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var wS=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,tM=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,_b=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,rM=/<[^>]*>/g,di=wS.match(_b)?_b:rM,nM=/<\w*:/,aM=/<(\/?)\w+:/;function Zt(t,e,r){for(var n={},a=0,s=0;a!==t.length&&!((s=t.charCodeAt(a))===32||s===10||s===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var l=t.match(tM),f=0,g="",h=0,p="",y="",B=1;if(l)for(h=0;h!=l.length;++h){for(y=l[h],s=0;s!=y.length&&y.charCodeAt(s)!==61;++s);for(p=y.slice(0,s).trim();y.charCodeAt(s+1)==32;)++s;for(B=(a=y.charCodeAt(s+1))==34||a==39?1:0,g=y.slice(s+1+B,y.length-B),f=0;f!=p.length&&p.charCodeAt(f)!==58;++f);if(f===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),n[p]=g,n[p.toLowerCase()]=g;else{var T=(f===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(f+1);if(n[T]&&p.slice(f-3,f)=="ext")continue;n[T]=g,n[T.toLowerCase()]=g}}return n}function TA(t){return t.replace(aM,"<$1")}var vS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iM=Pw(vS),Mr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(t,function(f,g){return vS[f]||String.fromCharCode(parseInt(g,f.indexOf("x")>-1?16:10))||f}).replace(e,function(f,g){return String.fromCharCode(parseInt(g,16))});var l=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,l)+r(a.slice(l+3))}})(),sM=/[&<>'"]/g,AM=/[\u0000-\u001f]/g;function Hw(t){var e=t+"";return e.replace(sM,function(r){return iM[r]}).replace(/\n/g,"<br/>").replace(AM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Tb=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Fn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vm(t){for(var e="",r=0,n=0,a=0,s=0,l=0,f=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,e+=String.fromCharCode(l);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}l=t.charCodeAt(r++),f=((n&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function Sb(t){var e=ul(2*t.length),r,n,a=1,s=0,l=0,f;for(n=0;n<t.length;n+=a)a=1,(f=t.charCodeAt(n))<128?r=f:f<224?(r=(f&31)*64+(t.charCodeAt(n+1)&63),a=2):f<240?(r=(f&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(f&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Ib(t){return xc(t,"binary").toString("utf8")}var qd="foo bar baz",pn=Sr&&(Ib(qd)==Vm(qd)&&Ib||Sb(qd)==Vm(qd)&&Sb)||Vm,af=Sr?function(t){return xc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Uf=(function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),yS=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),oM=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),lM=/<\/?(?:vt:)?variant>/g,cM=/<(?:vt:)([^>]*)>([\s\S]*)</;function Fb(t,e){var r=Zt(t),n=t.match(oM(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var l=s.replace(lM,"").match(cM);l&&a.push({v:pn(l[2]),t:l[1]})}),a}var uM=/(^\s|\s$|\n)/;function fM(t){return EA(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function hM(t,e,r){return"<"+t+(r!=null?fM(r):"")+(e!=null?(e.match(uM)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Vw(t){if(Sr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return pn(pc(Mw(t)));throw new Error("Bad input format: expected Buffer or string")}var Mf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,dM={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},gM=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function xM(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,s=5;s>=0;--s)a=a*256+t[e+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function pM(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,l=n?-e:e;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var f=0;f<=5;++f,s/=256)t[r+f]=s&255;t[r+6]=(a&15)<<4|s&15,t[r+7]=a>>4|n}var Nb=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,s=t[0][n].length;a<s;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},Rb=Sr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:xc(e)})):Nb(t)}:Nb,Db=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(no(t,a)));return n.join("").replace(Ci,"")},Gw=Sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ci,""):Db(t,e,r)}:Db,Ob=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},ES=Sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Ob(t,e,r)}:Ob,kb=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(d0(t,a)));return n.join("")},eh=Sr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):kb(e,r,n)}:kb,BS=function(t,e){var r=fs(t,e);return r>0?eh(t,e+4,e+4+r-1):""},CS=BS,bS=function(t,e){var r=fs(t,e);return r>0?eh(t,e+4,e+4+r-1):""},_S=bS,TS=function(t,e){var r=2*fs(t,e);return r>0?eh(t,e+4,e+4+r-1):""},SS=TS,IS=function(e,r){var n=fs(e,r);return n>0?Gw(e,r+4,r+4+n):""},FS=IS,NS=function(t,e){var r=fs(t,e);return r>0?eh(t,e+4,e+4+r):""},RS=NS,DS=function(t,e){return xM(t,e)},vg=DS,OS=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Sr&&(CS=function(e,r){if(!Buffer.isBuffer(e))return BS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},_S=function(e,r){if(!Buffer.isBuffer(e))return bS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},SS=function(e,r){if(!Buffer.isBuffer(e))return TS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},FS=function(e,r){if(!Buffer.isBuffer(e))return IS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},RS=function(e,r){if(!Buffer.isBuffer(e))return NS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},vg=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):DS(e,r)},OS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var d0=function(t,e){return t[e]},no=function(t,e){return t[e+1]*256+t[e]},mM=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},fs=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Yl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},wM=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function xf(t,e){var r="",n,a,s=[],l,f,g,h;switch(e){case"dbcs":if(h=this.l,Sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(g=0;g<t;++g)r+=String.fromCharCode(no(this,h)),h+=2;t*=2;break;case"utf8":r=eh(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Gw(this,this.l,this.l+t);break;case"wstr":return xf.call(this,t,"dbcs");case"lpstr-ansi":r=CS(this,this.l),t=4+fs(this,this.l);break;case"lpstr-cp":r=_S(this,this.l),t=4+fs(this,this.l);break;case"lpwstr":r=SS(this,this.l),t=4+2*fs(this,this.l);break;case"lpp4":t=4+fs(this,this.l),r=FS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+fs(this,this.l),r=RS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=d0(this,this.l+t++))!==0;)s.push(Yd(l));r=s.join("");break;case"_wstr":for(t=0,r="";(l=no(this,this.l+t))!==0;)s.push(Yd(l)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",h=this.l,g=0;g<t;++g){if(this.lens&&this.lens.indexOf(h)!==-1)return l=d0(this,h),this.l=h+1,f=xf.call(this,t-g,l?"dbcs-cont":"sbcs-cont"),s.join("")+f;s.push(Yd(no(this,h))),h+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,g=0;g!=t;++g){if(this.lens&&this.lens.indexOf(h)!==-1)return l=d0(this,h),this.l=h+1,f=xf.call(this,t-g,l?"dbcs-cont":"sbcs-cont"),s.join("")+f;s.push(Yd(d0(this,h))),h+=1}r=s.join("");break;default:switch(t){case 1:return n=d0(this,this.l),this.l++,n;case 2:return n=(e==="i"?mM:no)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Yl:wM)(this,this.l),this.l+=4,n):(a=fs(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=vg(this,this.l):a=vg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=ES(this,this.l,t);break}}return this.l+=t,r}var vM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},yM=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},EM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function BM(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)EM(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var l=e.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,vM(this,e,this.l);break;case 8:if(n=8,r==="f"){pM(this,e,this.l);break}case 16:break;case-4:n=4,yM(this,e,this.l);break}return this.l+=n,this}function kS(t,e){var r=ES(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function za(t,e){t.l=e,t.read_shift=xf,t.chk=kS,t.write_shift=BM}function hi(t,e){t.l+=e}function wa(t){var e=ul(t);return za(e,0),e}function ho(t,e,r){if(t){var n,a,s;za(t,t.l||0);for(var l=t.length,f=0,g=0;t.l<l;){f=t.read_shift(1),f&128&&(f=(f&127)+((t.read_shift(1)&127)<<7));var h=_g[f]||_g[65535];for(n=t.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=t.read_shift(1))&127)<<7*a;g=t.l+s;var p=h.f&&h.f(t,s,r);if(t.l=g,e(p,h,f))return}}}function M2(){var t=[],e=Sr?256:2048,r=function(h){var p=wa(h);return za(p,0),p},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(a(),n=r(Math.max(h+1,e)))},l=function(){return a(),Yo(t)},f=function(h){a(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:f,end:l,_bufs:t}}function pf(t,e,r){var n=Ya(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ub(t,e,r){var n=Ya(t);return n.s=pf(n.s,e.s,r),n.e=pf(n.e,e.s,r),n}function mf(t,e){if(t.cRel&&t.c<0)for(t=Ya(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ya(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=sr(t);return!t.cRel&&t.cRel!=null&&(r=_M(r)),!t.rRel&&t.rRel!=null&&(r=CM(r)),r}function Gm(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ya(t.s.c)+":"+(t.e.cRel?"":"$")+ya(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+qa(t.s.r)+":"+(t.e.rRel?"":"$")+qa(t.e.r):mf(t.s,e.biff)+":"+mf(t.e,e.biff)}function Kw(t){return parseInt(bM(t),10)-1}function qa(t){return""+(t+1)}function CM(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bM(t){return t.replace(/\$(\d+)$/,"$1")}function zw(t){for(var e=TM(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function ya(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function _M(t){return t.replace(/^([A-Z])/,"$$$1")}function TM(t){return t.replace(/^\$([A-Z])/,"$1")}function SM(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Bi(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function sr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function V0(t){var e=t.indexOf(":");return e==-1?{s:Bi(t),e:Bi(t)}:{s:Bi(t.slice(0,e)),e:Bi(t.slice(e+1))}}function Dr(t,e){return typeof e>"u"||typeof e=="number"?Dr(t.s,t.e):(typeof t!="string"&&(t=sr(t)),typeof e!="string"&&(e=sr(e)),t==e?t:t+":"+e)}function Xn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=t.length;for(r=0;n<s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function Mb(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ps(t.z,r?_i(e):e)}catch{}try{return t.w=Ps((t.XF||{}).numFmtId||(r?14:0),r?_i(e):e)}catch{return""+e}}function oo(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?vc[t.v]||t.v:e==null?Mb(t,t.v):Mb(t,e))}function pl(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function US(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,s=t||(a?[]:{}),l=0,f=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?Bi(n.origin):n.origin;l=g.r,f=g.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Xn(s["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var B=0;B!=e[y].length;++B)if(!(typeof e[y][B]>"u")){var T={v:e[y][B]},S=l+y,F=f+B;if(h.s.r>S&&(h.s.r=S),h.s.c>F&&(h.s.c=F),h.e.r<S&&(h.e.r=S),h.e.c<F&&(h.e.c=F),e[y][B]&&typeof e[y][B]=="object"&&!Array.isArray(e[y][B])&&!(e[y][B]instanceof Date))T=e[y][B];else if(Array.isArray(T.v)&&(T.f=e[y][B][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(n.nullError)T.t="e",T.v=0;else if(n.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=n.dateNF||ur[14],n.cellDates?(T.t="d",T.w=Ps(T.z,_i(T.v))):(T.t="n",T.v=_i(T.v),T.w=Ps(T.z,T.v))):T.t="s";if(a)s[S]||(s[S]=[]),s[S][F]&&s[S][F].z&&(T.z=s[S][F].z),s[S][F]=T;else{var D=sr({c:F,r:S});s[D]&&s[D].z&&(T.z=s[D].z),s[D]=T}}}return h.s.c<1e7&&(s["!ref"]=Dr(h)),s}function G0(t,e){return US(null,t,e)}function IM(t){return t.read_shift(4,"i")}function fi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function FM(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Xw(t,e){var r=t.l,n=t.read_shift(1),a=fi(t),s=[],l={t:a,h:a};if((n&1)!==0){for(var f=t.read_shift(4),g=0;g!=f;++g)s.push(FM(t));l.r=s}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}var NM=Xw;function js(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function mc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var RM=fi;function Ww(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var DM=fi,Q2=Ww;function Yw(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?vg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Yl(e,0)>>2;return r?a/100:a}function MS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var wc=MS;function ci(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function OM(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),s=t.read_shift(2,"i"),l=t.read_shift(1),f=t.read_shift(1),g=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var h=nc[a];h&&(e.rgb=Lf(h));break;case 2:e.rgb=Lf([l,f,g]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function kM(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function QS(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function UM(t){return QS(t,1)}function MM(t){return QS(t,2)}var qw=2,Ki=3,Zd=11,Qb=12,yg=19,Jd=64,QM=65,LM=71,PM=4108,jM=4126,Fa=80,LS=81,HM=[Fa,LS],VM={1:{n:"CodePage",t:qw},2:{n:"Category",t:Fa},3:{n:"PresentationFormat",t:Fa},4:{n:"ByteCount",t:Ki},5:{n:"LineCount",t:Ki},6:{n:"ParagraphCount",t:Ki},7:{n:"SlideCount",t:Ki},8:{n:"NoteCount",t:Ki},9:{n:"HiddenCount",t:Ki},10:{n:"MultimediaClipCount",t:Ki},11:{n:"ScaleCrop",t:Zd},12:{n:"HeadingPairs",t:PM},13:{n:"TitlesOfParts",t:jM},14:{n:"Manager",t:Fa},15:{n:"Company",t:Fa},16:{n:"LinksUpToDate",t:Zd},17:{n:"CharacterCount",t:Ki},19:{n:"SharedDoc",t:Zd},22:{n:"HyperlinksChanged",t:Zd},23:{n:"AppVersion",t:Ki,p:"version"},24:{n:"DigSig",t:QM},26:{n:"ContentType",t:Fa},27:{n:"ContentStatus",t:Fa},28:{n:"Language",t:Fa},29:{n:"Version",t:Fa},255:{},2147483648:{n:"Locale",t:yg},2147483651:{n:"Behavior",t:yg},1919054434:{}},GM={1:{n:"CodePage",t:qw},2:{n:"Title",t:Fa},3:{n:"Subject",t:Fa},4:{n:"Author",t:Fa},5:{n:"Keywords",t:Fa},6:{n:"Comments",t:Fa},7:{n:"Template",t:Fa},8:{n:"LastAuthor",t:Fa},9:{n:"RevNumber",t:Fa},10:{n:"EditTime",t:Jd},11:{n:"LastPrinted",t:Jd},12:{n:"CreatedDate",t:Jd},13:{n:"ModifiedDate",t:Jd},14:{n:"PageCount",t:Ki},15:{n:"WordCount",t:Ki},16:{n:"CharCount",t:Ki},17:{n:"Thumbnail",t:LM},18:{n:"Application",t:Fa},19:{n:"DocSecurity",t:Ki},255:{},2147483648:{n:"Locale",t:yg},2147483651:{n:"Behavior",t:yg},1919054434:{}},Lb={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},KM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var XM=zM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nc=Ya(XM),vc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},PS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Pb={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function WM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function YM(t){var e=WM();if(!t||!t.match)return e;var r={};if((t.match(di)||[]).forEach(function(n){var a=Zt(n);switch(a[0].replace(nM,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[Pb[a.ContentType]]!==void 0&&e[Pb[a.ContentType]].push(a.PartName);break}}),e.xmlns!==dM.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var w0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function L2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function wf(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(di)||[]).forEach(function(a){var s=Zt(a);if(s[0]==="<Relationship"){var l={};l.Type=s.Type,l.Target=s.Target,l.Id=s.Id,s.TargetMode&&(l.TargetMode=s.TargetMode);var f=s.TargetMode==="External"?s.Target:nf(s.Target,e);r[f]=l,n[s.Id]=l}}),r["!id"]=n,r}var qM="application/vnd.oasis.opendocument.spreadsheet";function ZM(t,e){for(var r=Vw(t),n,a;n=Mf.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Zt(n[0],!1),a.path=="/"&&a.type!==qM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var vf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],JM=(function(){for(var t=new Array(vf.length),e=0;e<vf.length;++e){var r=vf[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function jS(t){var e={};t=pn(t);for(var r=0;r<vf.length;++r){var n=vf[r],a=t.match(JM[r]);a!=null&&a.length>0&&(e[n[1]]=Mr(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ra(e[n[1]]))}return e}var $M=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function HS(t,e,r,n){var a=[];if(typeof t=="string")a=Fb(t,n);else for(var s=0;s<t.length;++s)a=a.concat(t[s].map(function(p){return{v:p}}));var l=typeof e=="string"?Fb(e,n).map(function(p){return p.v}):e,f=0,g=0;if(l.length>0)for(var h=0;h!==a.length;h+=2){switch(g=+a[h+1].v,a[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(f,f+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(f,f+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(f,f+g);break}f+=g}}function e9(t,e,r){var n={};return e||(e={}),t=pn(t),$M.forEach(function(a){var s=(t.match(Uf(a[0]))||[])[1];switch(a[2]){case"string":s&&(e[a[1]]=Mr(s));break;case"bool":e[a[1]]=s==="true";break;case"raw":var l=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));l&&l.length>0&&(n[a[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&HS(n.HeadingPairs,n.TitlesOfParts,e,r),e}var t9=/<[^>]+>[^<]*/g;function r9(t,e){var r={},n="",a=t.match(t9);if(a)for(var s=0;s!=a.length;++s){var l=a[s],f=Zt(l);switch(f[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Mr(f.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),h=g[0].slice(4),p=g[1];switch(h){case"lpstr":case"bstr":case"lpwstr":r[n]=Mr(p);break;case"bool":r[n]=Fn(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(p,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(p);break;case"filetime":case"date":r[n]=Ra(p);break;case"cy":case"error":r[n]=Mr(p);break;default:if(h.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,h,g)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return r}var n9={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Km;function a9(t,e,r){Km||(Km=Pw(n9)),e=Km[e]||e,t[e]=r}function Zw(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function VS(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function GS(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function KS(t,e,r){return e===31?GS(t):VS(t,e,r)}function P2(t,e,r){return KS(t,e,r===!1?0:4)}function i9(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return KS(t,e,0)}function s9(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Ci,""),t.l-a&2&&(t.l+=2)}return r}function A9(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Ci,"");return r}function o9(t){var e=t.l,r=Eg(t,LS);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Eg(t,Ki);return[r,n]}function l9(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(o9(t));return r}function jb(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var s=t.read_shift(4),l=t.read_shift(4);n[s]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(Ci,"").replace(rf,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function zS(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function c9(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Eg(t,e,r){var n=t.read_shift(2),a,s=r||{};if(t.l+=2,e!==Qb&&n!==e&&HM.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Qb?n:e){case 2:return a=t.read_shift(2,"i"),s.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return VS(t,n,4).replace(Ci,"");case 31:return GS(t);case 64:return Zw(t);case 65:return zS(t);case 71:return c9(t);case 80:return P2(t,n,!s.raw).replace(Ci,"");case 81:return i9(t,n).replace(Ci,"");case 4108:return l9(t);case 4126:case 4127:return n==4127?s9(t):A9(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function Hb(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),s=[],l=0,f=0,g=-1,h={};for(l=0;l!=a;++l){var p=t.read_shift(4),y=t.read_shift(4);s[l]=[p,y+r]}s.sort(function(V,j){return V[1]-j[1]});var B={};for(l=0;l!=a;++l){if(t.l!==s[l][1]){var T=!0;if(l>0&&e)switch(e[s[l-1][0]].t){case 2:t.l+2===s[l][1]&&(t.l+=2,T=!1);break;case 80:t.l<=s[l][1]&&(t.l=s[l][1],T=!1);break;case 4108:t.l<=s[l][1]&&(t.l=s[l][1],T=!1);break}if((!e||l==0)&&t.l<=s[l][1]&&(T=!1,t.l=s[l][1]),T)throw new Error("Read Error: Expected address "+s[l][1]+" at "+t.l+" :"+l)}if(e){var S=e[s[l][0]];if(B[S.n]=Eg(t,S.t,{raw:!0}),S.p==="version"&&(B[S.n]=String(B[S.n]>>16)+"."+("0000"+String(B[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(B[S.n]){case 0:B[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:tA(f=B[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+B[S.n])}}else if(s[l][0]===1){if(f=B.CodePage=Eg(t,qw),tA(f),g!==-1){var F=t.l;t.l=s[g][1],h=jb(t,f),t.l=F}}else if(s[l][0]===0){if(f===0){g=l,t.l=s[l+1][1];continue}h=jb(t,f)}else{var D=h[s[l][0]],P;switch(t[t.l]){case 65:t.l+=4,P=zS(t);break;case 30:t.l+=4,P=P2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,P=P2(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,P=t.read_shift(4,"i");break;case 19:t.l+=4,P=t.read_shift(4);break;case 5:t.l+=4,P=t.read_shift(8,"f");break;case 11:t.l+=4,P=ta(t,4);break;case 64:t.l+=4,P=Ra(Zw(t));break;default:throw new Error("unparsed value: "+t[t.l])}B[D]=P}}return t.l=r+n,B}function Vb(t,e,r){var n=t.content;if(!n)return{};za(n,0);var a,s,l,f,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var h=n.read_shift(4),p=n.read_shift(16);if(p!==Rr.utils.consts.HEADER_CLSID&&p!==r)throw new Error("Bad PropertySet CLSID "+p);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),f=n.read_shift(4),a===1&&f!==n.l)throw new Error("Length mismatch: "+f+" !== "+n.l);a===2&&(l=n.read_shift(16),g=n.read_shift(4));var y=Hb(n,e),B={SystemIdentifier:h};for(var T in y)B[T]=y[T];if(B.FMTID=s,a===1)return B;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var S;try{S=Hb(n,null)}catch{}for(T in S)B[T]=S[T];return B.FMTID=[s,l],B}function jo(t,e){return t.read_shift(e),null}function u9(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function ta(t,e){return t.read_shift(e)===1}function fa(t){return t.read_shift(2,"u")}function XS(t,e){return u9(t,e,fa)}function f9(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function th(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?t.read_shift(n,a):"";return l}function h9(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,s=1+(r&1),l=0,f,g={};a&&(l=t.read_shift(2)),n&&(f=t.read_shift(4));var h=s==2?"dbcs-cont":"sbcs-cont",p=e===0?"":t.read_shift(e,h);return a&&(t.l+=4*l),n&&(t.l+=f),g.t=p,a||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function oc(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function rh(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):oc(t,n,r)}function yc(t,e,r){if(r.biff>5)return rh(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function d9(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function g9(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Ci,"");return n&&(t.l+=24),a}function x9(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(s>>1,"utf16le").replace(Ci,"");return r+l}function p9(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return g9(t);case"0303000000000000c000000000000046":return x9(t);default:throw new Error("Unsupported Moniker "+r)}}function $d(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Ci,""):"";return r}function m9(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var s,l,f,g,h="",p,y;a&16&&(s=$d(t,r-t.l)),a&128&&(l=$d(t,r-t.l)),(a&257)===257&&(f=$d(t,r-t.l)),(a&257)===1&&(g=p9(t,r-t.l)),a&8&&(h=$d(t,r-t.l)),a&32&&(p=t.read_shift(16)),a&64&&(y=Zw(t)),t.l=r;var B=l||f||g||"";B&&h&&(B+="#"+h),B||(B="#"+h),a&2&&B.charAt(0)=="/"&&B.charAt(1)!="/"&&(B="file://"+B);var T={Target:B};return p&&(T.guid=p),y&&(T.time=y),s&&(T.Tooltip=s),T}function WS(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function YS(t,e){var r=WS(t);return r[3]=0,r}function SA(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function w9(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function v9(t,e,r){return e===0?"":yc(t,e,r)}function y9(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),s=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[a,s,l]}function qS(t){var e=t.read_shift(2),r=Yw(t);return[e,r]}function E9(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=th(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,a}function nx(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function ZS(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var B9=ZS;function JS(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function C9(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function b9(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ni(t){t.l+=2,t.l+=t.read_shift(2)}var _9={0:ni,4:ni,5:ni,6:ni,7:b9,8:ni,9:ni,10:ni,11:ni,12:ni,13:C9,14:ni,15:ni,16:ni,17:ni,18:ni,19:ni,20:ni,21:JS};function T9(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(_9[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function e1(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function S9(t,e){return e===0||t.read_shift(2),1200}function I9(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=yc(t,0,r);return t.read_shift(e+n-t.l),a}function F9(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function N9(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var l=th(t,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:a,dt:s,name:l}}function R9(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),s=[],l=0;l!=a&&t.l<r;++l)s.push(h9(t));return s.Count=n,s.Unique=a,s}function D9(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function O9(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function k9(t){var e=w9(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function U9(t){return t.read_shift(2),t.read_shift(4)}function Gb(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function M9(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),f=t.read_shift(2),g=t.read_shift(2),h=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:s,CurTab:l,FirstTab:f,Selected:g,TabRatio:h}}function Q9(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function L9(){}function P9(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=th(t,0,r),n}function j9(t){var e=SA(t);return e.isst=t.read_shift(4),e}function H9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=SA(t);r.biff==2&&t.l++;var s=rh(t,n-t.l,r);return a.val=s,a}function V9(t,e,r){var n=t.read_shift(2),a=yc(t,0,r);return[n,a]}var G9=yc;function Kb(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,s=t.read_shift(a),l=t.read_shift(a),f=t.read_shift(2),g=t.read_shift(2);return t.l=n,{s:{r:s,c:f},e:{r:l,c:g}}}function K9(t){var e=t.read_shift(2),r=t.read_shift(2),n=qS(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function z9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(qS(t));if(t.l!==r)throw new Error("MulRK read error");var l=t.read_shift(2);if(s.length!=l-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:l,rkrec:s}}function X9(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var l=t.read_shift(2);if(s.length!=l-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:l,ixfe:s}}function W9(t,e,r,n){var a={},s=t.read_shift(4),l=t.read_shift(4),f=t.read_shift(4),g=t.read_shift(2);return a.patternType=KM[f>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=l&15,a.dgRight=l>>4&15,a.dgTop=l>>8&15,a.dgBottom=l>>12&15,a.icvLeft=l>>16&127,a.icvRight=l>>23&127,a.grbitDiag=l>>30&3,a.icvTop=f&127,a.icvBottom=f>>7&127,a.icvDiag=f>>14&127,a.dgDiag=f>>21&15,a.icvFore=g&127,a.icvBack=g>>7&127,a.fsxButton=g>>14&1),a}function Y9(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=W9(t,e,n.fStyle,r),n}function q9(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function zb(t,e,r){var n=SA(t);(r.biff==2||e==9)&&++t.l;var a=f9(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Z9(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=SA(t),a=ci(t);return n.val=a,n}var Xb=v9;function J9(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var l=oc(t,s),f=[];n>t.l;)f.push(rh(t));return[s,a,l,f]}function Wb(t,e,r){var n=t.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=E9(t,e-2,r)),s.body=a||t.read_shift(e-2),typeof a=="string"&&(s.Name=a),s}var $9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Yb(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(1),l=t.read_shift(1),f=t.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),g=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var h=oc(t,l,r);a&32&&(h=$9[h.charCodeAt(0)]);var p=n-t.l;r&&r.biff==2&&--p;var y=n==t.l||f===0||!(p>0)?[]:OP(t,p,r,f);return{chKey:s,Name:h,itab:g,rgce:y}}function $S(t,e,r){if(r.biff<8)return e7(t,e,r);for(var n=[],a=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(y9(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function e7(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=th(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function t7(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),s=oc(t,n,r),l=oc(t,a,r);return[s,l]}function r7(t,e,r){var n=ZS(t);t.l++;var a=t.read_shift(1);return e-=8,[kP(t,e,r),a,n]}function qb(t,e,r){var n=B9(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,RP(t,e,r)]}function n7(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function a7(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),f=yc(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},f,l,s]}}function i7(t,e,r){return a7(t,e,r)}function s7(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(nx(t));return r}function A7(t,e,r){if(r&&r.biff<8)return l7(t,e,r);var n=JS(t),a=T9(t,e-22,n[1]);return{cmo:n,ft:a}}var o7={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function l7(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((o7[n]||hi)(t,e,r)),{cmo:[a,n,s],ft:l}}function c7(t,e,r){var n=t.l,a="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:l=d9(t,6,r);var f=t.read_shift(2);t.read_shift(2),fa(t,2);var g=t.read_shift(2);t.l+=g;for(var h=1;h<t.lens.length-1;++h){if(t.l-n!=t.lens[h])throw new Error("TxO: bad continue record");var p=t[t.l],y=oc(t,t.lens[h+1]-t.lens[h]-1);if(a+=y,a.length>=(p?f:2*f))break}if(a.length!==f&&a.length!==f*2)throw new Error("cchText: "+f+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function u7(t,e){var r=nx(t);t.l+=16;var n=m9(t,e-24);return[r,n]}function f7(t,e){t.read_shift(2);var r=nx(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ci,""),[r,n]}function h7(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=Lb[r]||r,r=t.read_shift(2),e[1]=Lb[r]||r,e}function d7(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(YS(t));return r}function g7(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(YS(t));return r}function x7(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function eI(t,e,r){if(!r.cellStyles)return hi(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),f=t.read_shift(n),g=t.read_shift(2);n==2&&(t.l+=2);var h={s:a,e:s,w:l,ixfe:f,flags:g};return(r.biff>=5||!r.biff)&&(h.level=g>>8&7),h}function p7(t,e){var r={};return e<32||(t.l+=16,r.header=ci(t),r.footer=ci(t),t.l+=2),r}function m7(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}var w7=SA,v7=XS,y7=rh;function E7(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function B7(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=SA(t);++t.l;var a=yc(t,e-7,r);return n.t="str",n.val=a,n}function C7(t){var e=SA(t);++t.l;var r=ci(t);return e.t="n",e.val=r,e}function b7(t){var e=SA(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function _7(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function T7(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function S7(t,e,r){var n=t.l+e,a=SA(t),s=t.read_shift(2),l=oc(t,s,r);return t.l=n,a.t="str",a.val=l,a}var I7=[2,3,48,49,131,139,140,245],Zb=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(f,g){var h=[],p=ul(1);switch(g.type){case"base64":p=eA(xs(f));break;case"binary":p=eA(f);break;case"buffer":case"array":p=f;break}za(p,0);var y=p.read_shift(1),B=!!(y&136),T=!1,S=!1;switch(y){case 2:break;case 3:break;case 48:T=!0,B=!0;break;case 49:T=!0,B=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var F=0,D=521;y==2&&(F=p.read_shift(2)),p.l+=3,y!=2&&(F=p.read_shift(4)),F>1048576&&(F=1e6),y!=2&&(D=p.read_shift(2));var P=p.read_shift(2),V=g.codepage||1252;y!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(V=t[p[p.l]]),p.l+=1,p.l+=2),S&&(p.l+=36);for(var j=[],re={},ge=Math.min(p.length,y==2?521:D-10-(T?264:0)),z=S?32:11;p.l<ge&&p[p.l]!=13;)switch(re={},re.name=Of.utils.decode(V,p.slice(p.l,p.l+z)).replace(/[\u0000\r\n].*$/g,""),p.l+=z,re.type=String.fromCharCode(p.read_shift(1)),y!=2&&!S&&(re.offset=p.read_shift(4)),re.len=p.read_shift(1),y==2&&(re.offset=p.read_shift(2)),re.dec=p.read_shift(1),re.name.length&&j.push(re),y!=2&&(p.l+=S?13:14),re.type){case"B":(!T||re.len!=8)&&g.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+re.type)}if(p[p.l]!==13&&(p.l=D-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=D;var O=0,M=0;for(h[0]=[],M=0;M!=j.length;++M)h[0][M]=j[M].name;for(;F-- >0;){if(p[p.l]===42){p.l+=P;continue}for(++p.l,h[++O]=[],M=0,M=0;M!=j.length;++M){var k=p.slice(p.l,p.l+j[M].len);p.l+=j[M].len,za(k,0);var Z=Of.utils.decode(V,k);switch(j[M].type){case"C":Z.trim().length&&(h[O][M]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?h[O][M]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):h[O][M]=Z;break;case"F":h[O][M]=parseFloat(Z.trim());break;case"+":case"I":h[O][M]=S?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":h[O][M]=!0;break;case"N":case"F":h[O][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!B)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));h[O][M]="##MEMO##"+(S?parseInt(Z.trim(),10):k.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(h[O][M]=+Z||0);break;case"@":h[O][M]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":h[O][M]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":h[O][M]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[O][M]=-k.read_shift(-8,"f");break;case"B":if(T&&j[M].len==8){h[O][M]=k.read_shift(8,"f");break}case"G":case"P":k.l+=j[M].len;break;case"0":if(j[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[M].type)}}}if(y!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return g&&g.sheetRows&&(h=h.slice(0,g.sheetRows)),g.DBF=j,h}function n(f,g){var h=g||{};h.dateNF||(h.dateNF="yyyymmdd");var p=G0(r(f,h),h);return p["!cols"]=h.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete h.DBF,p}function a(f,g){try{return pl(n(f,g),g)}catch(h){if(g&&g.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(f,g){var h=g||{};if(+h.codepage>=0&&tA(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=M2(),y=X2(f,{header:1,raw:!0,cellDates:!0}),B=y[0],T=y.slice(1),S=f["!cols"]||[],F=0,D=0,P=0,V=1;for(F=0;F<B.length;++F){if(((S[F]||{}).DBF||{}).name){B[F]=S[F].DBF.name,++P;continue}if(B[F]!=null){if(++P,typeof B[F]=="number"&&(B[F]=B[F].toString(10)),typeof B[F]!="string")throw new Error("DBF Invalid column name "+B[F]+" |"+typeof B[F]+"|");if(B.indexOf(B[F])!==F){for(D=0;D<1024;++D)if(B.indexOf(B[F]+"_"+D)==-1){B[F]+="_"+D;break}}}}var j=Xn(f["!ref"]),re=[],ge=[],z=[];for(F=0;F<=j.e.c-j.s.c;++F){var O="",M="",k=0,Z=[];for(D=0;D<T.length;++D)T[D][F]!=null&&Z.push(T[D][F]);if(Z.length==0||B[F]==null){re[F]="?";continue}for(D=0;D<Z.length;++D){switch(typeof Z[D]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=Z[D]instanceof Date?"D":"C";break;default:M="C"}k=Math.max(k,String(Z[D]).length),O=O&&O!=M?"C":M}k>250&&(k=250),M=((S[F]||{}).DBF||{}).type,M=="C"&&S[F].DBF.len>k&&(k=S[F].DBF.len),O=="B"&&M=="N"&&(O="N",z[F]=S[F].DBF.dec,k=S[F].DBF.len),ge[F]=O=="C"||M=="N"?k:s[O]||0,V+=ge[F],re[F]=O}var Y=p.next(32);for(Y.write_shift(4,318902576),Y.write_shift(4,T.length),Y.write_shift(2,296+32*P),Y.write_shift(2,V),F=0;F<4;++F)Y.write_shift(4,0);for(Y.write_shift(4,0|(+e[$T]||3)<<8),F=0,D=0;F<B.length;++F)if(B[F]!=null){var G=p.next(32),K=(B[F].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,K,"sbcs"),G.write_shift(1,re[F]=="?"?"C":re[F],"sbcs"),G.write_shift(4,D),G.write_shift(1,ge[F]||s[re[F]]||0),G.write_shift(1,z[F]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),D+=ge[F]||s[re[F]]||0}var Ie=p.next(264);for(Ie.write_shift(4,13),F=0;F<65;++F)Ie.write_shift(4,0);for(F=0;F<T.length;++F){var xe=p.next(V);for(xe.write_shift(1,0),D=0;D<B.length;++D)if(B[D]!=null)switch(re[D]){case"L":xe.write_shift(1,T[F][D]==null?63:T[F][D]?84:70);break;case"B":xe.write_shift(8,T[F][D]||0,"f");break;case"N":var ie="0";for(typeof T[F][D]=="number"&&(ie=T[F][D].toFixed(z[D]||0)),P=0;P<ge[D]-ie.length;++P)xe.write_shift(1,32);xe.write_shift(1,ie,"sbcs");break;case"D":T[F][D]?(xe.write_shift(4,("0000"+T[F][D].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(T[F][D].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+T[F][D].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(T[F][D]!=null?T[F][D]:"").slice(0,ge[D]);for(xe.write_shift(1,ue,"sbcs"),P=0;P<ge[D]-ue.length;++P)xe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}})(),F7=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+EA(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(B,T){var S=t[T];return typeof S=="number"?hb(S):S},n=function(B,T,S){var F=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return F==59?B:hb(F)};t["|"]=254;function a(B,T){switch(T.type){case"base64":return s(xs(B),T);case"binary":return s(B,T);case"buffer":return s(Sr&&Buffer.isBuffer(B)?B.toString("binary"):pc(B),T);case"array":return s(Ac(B),T)}throw new Error("Unrecognized type "+T.type)}function s(B,T){var S=B.split(/[\n\r]+/),F=-1,D=-1,P=0,V=0,j=[],re=[],ge=null,z={},O=[],M=[],k=[],Z=0,Y;for(+T.codepage>=0&&tA(+T.codepage);P!==S.length;++P){Z=0;var G=S[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),K=G.replace(/;;/g,"\0").split(";").map(function(me){return me.replace(/\u0000/g,";")}),Ie=K[0],xe;if(G.length>0)switch(Ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&re.push(G.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,ue=!1,Ve=!1,Ee=!1,$e=-1,Ae=-1;for(V=1;V<K.length;++V)switch(K[V].charAt(0)){case"A":break;case"X":D=parseInt(K[V].slice(1))-1,ue=!0;break;case"Y":for(F=parseInt(K[V].slice(1))-1,ue||(D=0),Y=j.length;Y<=F;++Y)j[Y]=[];break;case"K":xe=K[V].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(nA(xe))?isNaN(R0(xe).getDate())||(xe=Ra(xe)):(xe=nA(xe),ge!==null&&H0(ge)&&(xe=rx(xe))),ie=!0;break;case"E":Ee=!0;var q=b0(K[V].slice(1),{r:F,c:D});j[F][D]=[j[F][D],q];break;case"S":Ve=!0,j[F][D]=[j[F][D],"S5S"];break;case"G":break;case"R":$e=parseInt(K[V].slice(1))-1;break;case"C":Ae=parseInt(K[V].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+G)}if(ie&&(j[F][D]&&j[F][D].length==2?j[F][D][0]=xe:j[F][D]=xe,ge=null),Ve){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var pe=$e>-1&&j[$e][Ae];if(!pe||!pe[1])throw new Error("SYLK shared formula cannot find base");j[F][D][1]=cI(pe[1],{r:F-$e,c:D-Ae})}break;case"F":var se=0;for(V=1;V<K.length;++V)switch(K[V].charAt(0)){case"X":D=parseInt(K[V].slice(1))-1,++se;break;case"Y":for(F=parseInt(K[V].slice(1))-1,Y=j.length;Y<=F;++Y)j[Y]=[];break;case"M":Z=parseInt(K[V].slice(1))/20;break;case"F":break;case"G":break;case"P":ge=re[parseInt(K[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=K[V].slice(1).split(" "),Y=parseInt(k[0],10);Y<=parseInt(k[1],10);++Y)Z=parseInt(k[2],10),M[Y-1]=Z===0?{hidden:!0}:{wch:Z},D0(M[Y-1]);break;case"C":D=parseInt(K[V].slice(1))-1,M[D]||(M[D]={});break;case"R":F=parseInt(K[V].slice(1))-1,O[F]||(O[F]={}),Z>0?(O[F].hpt=Z,O[F].hpx=Pf(Z)):Z===0&&(O[F].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+G)}se<1&&(ge=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+G)}}return O.length>0&&(z["!rows"]=O),M.length>0&&(z["!cols"]=M),T&&T.sheetRows&&(j=j.slice(0,T.sheetRows)),[j,z]}function l(B,T){var S=a(B,T),F=S[0],D=S[1],P=G0(F,T);return EA(D).forEach(function(V){P[V]=D[V]}),P}function f(B,T){return pl(l(B,T),T)}function g(B,T,S,F){var D="C;Y"+(S+1)+";X"+(F+1)+";K";switch(B.t){case"n":D+=B.v||0,B.f&&!B.F&&(D+=";E"+xL(B.f,{r:S,c:F}));break;case"b":D+=B.v?"TRUE":"FALSE";break;case"e":D+=B.w||B.v;break;case"d":D+='"'+(B.w||B.v)+'"';break;case"s":D+='"'+B.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return D}function h(B,T){T.forEach(function(S,F){var D="F;W"+(F+1)+" "+(F+1)+" ";S.hidden?D+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Cg(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=bg(S.wpx)),typeof S.wch=="number"&&(D+=Math.round(S.wch))),D.charAt(D.length-1)!=" "&&B.push(D)})}function p(B,T){T.forEach(function(S,F){var D="F;";S.hidden?D+="M0;":S.hpt?D+="M"+20*S.hpt+";":S.hpx&&(D+="M"+20*AI(S.hpx)+";"),D.length>2&&B.push(D+"R"+(F+1))})}function y(B,T){var S=["ID;PWXL;N;E"],F=[],D=Xn(B["!ref"]),P,V=Array.isArray(B),j=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),B["!cols"]&&h(S,B["!cols"]),B["!rows"]&&p(S,B["!rows"]),S.push("B;Y"+(D.e.r-D.s.r+1)+";X"+(D.e.c-D.s.c+1)+";D"+[D.s.c,D.s.r,D.e.c,D.e.r].join(" "));for(var re=D.s.r;re<=D.e.r;++re)for(var ge=D.s.c;ge<=D.e.c;++ge){var z=sr({r:re,c:ge});P=V?(B[re]||[])[ge]:B[z],!(!P||P.v==null&&(!P.f||P.F))&&F.push(g(P,B,re,ge))}return S.join(j)+j+F.join(j)+j+"E"+j}return{to_workbook:f,to_sheet:l,from_sheet:y}})(),N7=(function(){function t(s,l){switch(l.type){case"base64":return e(xs(s),l);case"binary":return e(s,l);case"buffer":return e(Sr&&Buffer.isBuffer(s)?s.toString("binary"):pc(s),l);case"array":return e(Ac(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var f=s.split(`
`),g=-1,h=-1,p=0,y=[];p!==f.length;++p){if(f[p].trim()==="BOT"){y[++g]=[],h=0;continue}if(!(g<0)){var B=f[p].trim().split(","),T=B[0],S=B[1];++p;for(var F=f[p]||"";(F.match(/["]/g)||[]).length&1&&p<f.length-1;)F+=`
`+f[++p];switch(F=F.trim(),+T){case-1:if(F==="BOT"){y[++g]=[],h=0;continue}else if(F!=="EOD")throw new Error("Unrecognized DIF special command "+F);break;case 0:F==="TRUE"?y[g][h]=!0:F==="FALSE"?y[g][h]=!1:isNaN(nA(S))?isNaN(R0(S).getDate())?y[g][h]=S:y[g][h]=Ra(S):y[g][h]=nA(S),++h;break;case 1:F=F.slice(1,F.length-1),F=F.replace(/""/g,'"'),F&&F.match(/^=".*"$/)&&(F=F.slice(2,-1)),y[g][h++]=F!==""?F:null;break}if(F==="EOD")break}}return l&&l.sheetRows&&(y=y.slice(0,l.sheetRows)),y}function r(s,l){return G0(t(s,l),l)}function n(s,l){return pl(r(s,l),l)}var a=(function(){var s=function(g,h,p,y,B){g.push(h),g.push(p+","+y),g.push('"'+B.replace(/"/g,'""')+'"')},l=function(g,h,p,y){g.push(h+","+p),g.push(h==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(g){var h=[],p=Xn(g["!ref"]),y,B=Array.isArray(g);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,p.e.r-p.s.r+1,""),s(h,"TUPLES",0,p.e.c-p.s.c+1,""),s(h,"DATA",0,0,"");for(var T=p.s.r;T<=p.e.r;++T){l(h,-1,0,"BOT");for(var S=p.s.c;S<=p.e.c;++S){var F=sr({r:T,c:S});if(y=B?(g[T]||[])[S]:g[F],!y){l(h,1,0,"");continue}switch(y.t){case"n":var D=y.w;!D&&y.v!=null&&(D=y.v),D==null?y.f&&!y.F?l(h,1,0,"="+y.f):l(h,1,0,""):l(h,0,D,"V");break;case"b":l(h,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Ps(y.z||ur[14],_i(Ra(y.v)))),l(h,0,y.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var P=`\r
`,V=h.join(P);return V}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),R7=(function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(y,B){for(var T=y.split(`
`),S=-1,F=-1,D=0,P=[];D!==T.length;++D){var V=T[D].trim().split(":");if(V[0]==="cell"){var j=Bi(V[1]);if(P.length<=j.r)for(S=P.length;S<=j.r;++S)P[S]||(P[S]=[]);switch(S=j.r,F=j.c,V[2]){case"t":P[S][F]=t(V[3]);break;case"v":P[S][F]=+V[3];break;case"vtf":var re=V[V.length-1];case"vtc":switch(V[3]){case"nl":P[S][F]=!!+V[4];break;default:P[S][F]=+V[4];break}V[2]=="vtf"&&(P[S][F]=[P[S][F],re])}}}return B&&B.sheetRows&&(P=P.slice(0,B.sheetRows)),P}function n(y,B){return G0(r(y,B),B)}function a(y,B){return pl(n(y,B),B)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function h(y){if(!y||!y["!ref"])return"";for(var B=[],T=[],S,F="",D=V0(y["!ref"]),P=Array.isArray(y),V=D.s.r;V<=D.e.r;++V)for(var j=D.s.c;j<=D.e.c;++j)if(F=sr({r:V,c:j}),S=P?(y[V]||[])[j]:y[F],!(!S||S.v==null||S.t==="z")){switch(T=["cell",F,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var re=_i(Ra(S.v));T[2]="vtc",T[3]="nd",T[4]=""+re,T[5]=S.w||Ps(S.z||ur[14],re);break;case"e":continue}B.push(T.join(":"))}return B.push("sheet:c:"+(D.e.c-D.s.c+1)+":r:"+(D.e.r-D.s.r+1)+":tvf:1"),B.push("valueformat:1:text-wiki"),B.join(`
`)}function p(y){return[s,l,f,l,h(y),g].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:p}})(),Qf=(function(){function t(p,y,B,T,S){S.raw?y[B][T]=p:p===""||(p==="TRUE"?y[B][T]=!0:p==="FALSE"?y[B][T]=!1:isNaN(nA(p))?isNaN(R0(p).getDate())?y[B][T]=p:y[B][T]=Ra(p):y[B][T]=nA(p))}function e(p,y){var B=y||{},T=[];if(!p||p.length===0)return T;for(var S=p.split(/[\r\n]/),F=S.length-1;F>=0&&S[F].length===0;)--F;for(var D=10,P=0,V=0;V<=F;++V)P=S[V].indexOf(" "),P==-1?P=S[V].length:P++,D=Math.max(D,P);for(V=0;V<=F;++V){T[V]=[];var j=0;for(t(S[V].slice(0,D).trim(),T,V,j,B),j=1;j<=(S[V].length-D)/10+1;++j)t(S[V].slice(D+(j-1)*10,D+j*10).trim(),T,V,j,B)}return B.sheetRows&&(T=T.slice(0,B.sheetRows)),T}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(p){for(var y={},B=!1,T=0,S=0;T<p.length;++T)(S=p.charCodeAt(T))==34?B=!B:!B&&S in r&&(y[S]=(y[S]||0)+1);S=[];for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&S.push([y[T],T]);if(!S.length){y=n;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&S.push([y[T],T])}return S.sort(function(F,D){return F[0]-D[0]||n[F[1]]-n[D[1]]}),r[S.pop()[1]]||44}function s(p,y){var B=y||{},T="",S=B.dense?[]:{},F={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(T=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(T=p.charAt(4),p=p.slice(6)):T=a(p.slice(0,1024)):B&&B.FS?T=B.FS:T=a(p.slice(0,1024));var D=0,P=0,V=0,j=0,re=0,ge=T.charCodeAt(0),z=!1,O=0,M=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var k=B.dateNF!=null?VU(B.dateNF):null;function Z(){var Y=p.slice(j,re),G={};if(Y.charAt(0)=='"'&&Y.charAt(Y.length-1)=='"'&&(Y=Y.slice(1,-1).replace(/""/g,'"')),Y.length===0)G.t="z";else if(B.raw)G.t="s",G.v=Y;else if(Y.trim().length===0)G.t="s",G.v=Y;else if(Y.charCodeAt(0)==61)Y.charCodeAt(1)==34&&Y.charCodeAt(Y.length-1)==34?(G.t="s",G.v=Y.slice(2,-1).replace(/""/g,'"')):mL(Y)?(G.t="n",G.f=Y.slice(1)):(G.t="s",G.v=Y);else if(Y=="TRUE")G.t="b",G.v=!0;else if(Y=="FALSE")G.t="b",G.v=!1;else if(!isNaN(V=nA(Y)))G.t="n",B.cellText!==!1&&(G.w=Y),G.v=V;else if(!isNaN(R0(Y).getDate())||k&&Y.match(k)){G.z=B.dateNF||ur[14];var K=0;k&&Y.match(k)&&(Y=GU(Y,B.dateNF,Y.match(k)||[]),K=1),B.cellDates?(G.t="d",G.v=Ra(Y,K)):(G.t="n",G.v=_i(Ra(Y,K))),B.cellText!==!1&&(G.w=Ps(G.z,G.v instanceof Date?_i(G.v):G.v)),B.cellNF||delete G.z}else G.t="s",G.v=Y;if(G.t=="z"||(B.dense?(S[D]||(S[D]=[]),S[D][P]=G):S[sr({c:P,r:D})]=G),j=re+1,M=p.charCodeAt(j),F.e.c<P&&(F.e.c=P),F.e.r<D&&(F.e.r=D),O==ge)++P;else if(P=0,++D,B.sheetRows&&B.sheetRows<=D)return!0}e:for(;re<p.length;++re)switch(O=p.charCodeAt(re)){case 34:M===34&&(z=!z);break;case ge:case 10:case 13:if(!z&&Z())break e;break}return re-j>0&&Z(),S["!ref"]=Dr(F),S}function l(p,y){return!(y&&y.PRN)||y.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,y):G0(e(p,y),y)}function f(p,y){var B="",T=y.type=="string"?[0,0,0,0]:iv(p,y);switch(y.type){case"base64":B=xs(p);break;case"binary":B=p;break;case"buffer":y.codepage==65001?B=p.toString("utf8"):y.codepage&&typeof Of<"u"||(B=Sr&&Buffer.isBuffer(p)?p.toString("binary"):pc(p));break;case"array":B=Ac(p);break;case"string":B=p;break;default:throw new Error("Unrecognized type "+y.type)}return T[0]==239&&T[1]==187&&T[2]==191?B=pn(B.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?B=pn(B):y.type=="binary"&&typeof Of<"u",B.slice(0,19)=="socialcalc:version:"?R7.to_sheet(y.type=="string"?B:pn(B),y):l(B,y)}function g(p,y){return pl(f(p,y),y)}function h(p){for(var y=[],B=Xn(p["!ref"]),T,S=Array.isArray(p),F=B.s.r;F<=B.e.r;++F){for(var D=[],P=B.s.c;P<=B.e.c;++P){var V=sr({r:F,c:P});if(T=S?(p[F]||[])[P]:p[V],!T||T.v==null){D.push("          ");continue}for(var j=(T.w||(oo(T),T.w)||"").slice(0,10);j.length<10;)j+=" ";D.push(j+(P===0?" ":""))}y.push(D.join(""))}return y.join(`
`)}return{to_workbook:g,to_sheet:f,from_sheet:h}})();function D7(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=F7.to_workbook(t,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Qf.to_workbook(t,e)}}var yf=(function(){function t(q,pe,se){if(q){za(q,q.l||0);for(var me=se.Enum||$e;q.l<q.length;){var Ce=q.read_shift(2),ze=me[Ce]||me[65535],ye=q.read_shift(2),ae=q.l+ye,_e=ze.f&&ze.f(q,ye,se);if(q.l=ae,pe(_e,ze,Ce))return}}}function e(q,pe){switch(pe.type){case"base64":return r(eA(xs(q)),pe);case"binary":return r(eA(q),pe);case"buffer":case"array":return r(q,pe)}throw"Unsupported type "+pe.type}function r(q,pe){if(!q)return q;var se=pe||{},me=se.dense?[]:{},Ce="Sheet1",ze="",ye=0,ae={},_e=[],Re=[],fe={s:{r:0,c:0},e:{r:0,c:0}},yt=se.sheetRows||0;if(q[2]==0&&(q[3]==8||q[3]==9)&&q.length>=16&&q[14]==5&&q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(q[2]==2)se.Enum=$e,t(q,function(rt,Ct,kt){switch(kt){case 0:se.vers=rt,rt>=4096&&(se.qpro=!0);break;case 6:fe=rt;break;case 204:rt&&(ze=rt);break;case 222:ze=rt;break;case 15:case 51:se.qpro||(rt[1].v=rt[1].v.slice(1));case 13:case 14:case 16:kt==14&&(rt[2]&112)==112&&(rt[2]&15)>1&&(rt[2]&15)<15&&(rt[1].z=se.dateNF||ur[14],se.cellDates&&(rt[1].t="d",rt[1].v=rx(rt[1].v))),se.qpro&&rt[3]>ye&&(me["!ref"]=Dr(fe),ae[Ce]=me,_e.push(Ce),me=se.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ye=rt[3],Ce=ze||"Sheet"+(ye+1),ze="");var mr=se.dense?(me[rt[0].r]||[])[rt[0].c]:me[sr(rt[0])];if(mr){mr.t=rt[1].t,mr.v=rt[1].v,rt[1].z!=null&&(mr.z=rt[1].z),rt[1].f!=null&&(mr.f=rt[1].f);break}se.dense?(me[rt[0].r]||(me[rt[0].r]=[]),me[rt[0].r][rt[0].c]=rt[1]):me[sr(rt[0])]=rt[1];break}},se);else if(q[2]==26||q[2]==14)se.Enum=Ae,q[2]==14&&(se.qpro=!0,q.l=0),t(q,function(rt,Ct,kt){switch(kt){case 204:Ce=rt;break;case 22:rt[1].v=rt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(rt[3]>ye&&(me["!ref"]=Dr(fe),ae[Ce]=me,_e.push(Ce),me=se.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},ye=rt[3],Ce="Sheet"+(ye+1)),yt>0&&rt[0].r>=yt)break;se.dense?(me[rt[0].r]||(me[rt[0].r]=[]),me[rt[0].r][rt[0].c]=rt[1]):me[sr(rt[0])]=rt[1],fe.e.c<rt[0].c&&(fe.e.c=rt[0].c),fe.e.r<rt[0].r&&(fe.e.r=rt[0].r);break;case 27:rt[14e3]&&(Re[rt[14e3][0]]=rt[14e3][1]);break;case 1537:Re[rt[0]]=rt[1],rt[0]==ye&&(Ce=rt[1]);break}},se);else throw new Error("Unrecognized LOTUS BOF "+q[2]);if(me["!ref"]=Dr(fe),ae[ze||Ce]=me,_e.push(ze||Ce),!Re.length)return{SheetNames:_e,Sheets:ae};for(var _t={},et=[],gt=0;gt<Re.length;++gt)ae[_e[gt]]?(et.push(Re[gt]||_e[gt]),_t[Re[gt]]=ae[Re[gt]]||ae[_e[gt]]):(et.push(Re[gt]),_t[Re[gt]]={"!ref":"A1"});return{SheetNames:et,Sheets:_t}}function n(q,pe){var se=pe||{};if(+se.codepage>=0&&tA(+se.codepage),se.type=="string")throw new Error("Cannot write WK1 to JS string");var me=M2(),Ce=Xn(q["!ref"]),ze=Array.isArray(q),ye=[];qs(me,0,s(1030)),qs(me,6,g(Ce));for(var ae=Math.min(Ce.e.r,8191),_e=Ce.s.r;_e<=ae;++_e)for(var Re=qa(_e),fe=Ce.s.c;fe<=Ce.e.c;++fe){_e===Ce.s.r&&(ye[fe]=ya(fe));var yt=ye[fe]+Re,_t=ze?(q[_e]||[])[fe]:q[yt];if(!(!_t||_t.t=="z"))if(_t.t=="n")(_t.v|0)==_t.v&&_t.v>=-32768&&_t.v<=32767?qs(me,13,T(_e,fe,_t.v)):qs(me,14,F(_e,fe,_t.v));else{var et=oo(_t);qs(me,15,y(_e,fe,et.slice(0,239)))}}return qs(me,1),me.end()}function a(q,pe){var se=pe||{};if(+se.codepage>=0&&tA(+se.codepage),se.type=="string")throw new Error("Cannot write WK3 to JS string");var me=M2();qs(me,0,l(q));for(var Ce=0,ze=0;Ce<q.SheetNames.length;++Ce)(q.Sheets[q.SheetNames[Ce]]||{})["!ref"]&&qs(me,27,Ee(q.SheetNames[Ce],ze++));var ye=0;for(Ce=0;Ce<q.SheetNames.length;++Ce){var ae=q.Sheets[q.SheetNames[Ce]];if(!(!ae||!ae["!ref"])){for(var _e=Xn(ae["!ref"]),Re=Array.isArray(ae),fe=[],yt=Math.min(_e.e.r,8191),_t=_e.s.r;_t<=yt;++_t)for(var et=qa(_t),gt=_e.s.c;gt<=_e.e.c;++gt){_t===_e.s.r&&(fe[gt]=ya(gt));var rt=fe[gt]+et,Ct=Re?(ae[_t]||[])[gt]:ae[rt];if(!(!Ct||Ct.t=="z"))if(Ct.t=="n")qs(me,23,Z(_t,gt,ye,Ct.v));else{var kt=oo(Ct);qs(me,22,O(_t,gt,ye,kt.slice(0,239)))}}++ye}}return qs(me,1),me.end()}function s(q){var pe=wa(2);return pe.write_shift(2,q),pe}function l(q){var pe=wa(26);pe.write_shift(2,4096),pe.write_shift(2,4),pe.write_shift(4,0);for(var se=0,me=0,Ce=0,ze=0;ze<q.SheetNames.length;++ze){var ye=q.SheetNames[ze],ae=q.Sheets[ye];if(!(!ae||!ae["!ref"])){++Ce;var _e=V0(ae["!ref"]);se<_e.e.r&&(se=_e.e.r),me<_e.e.c&&(me=_e.e.c)}}return se>8191&&(se=8191),pe.write_shift(2,se),pe.write_shift(1,Ce),pe.write_shift(1,me),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(1,1),pe.write_shift(1,2),pe.write_shift(4,0),pe.write_shift(4,0),pe}function f(q,pe,se){var me={s:{c:0,r:0},e:{c:0,r:0}};return pe==8&&se.qpro?(me.s.c=q.read_shift(1),q.l++,me.s.r=q.read_shift(2),me.e.c=q.read_shift(1),q.l++,me.e.r=q.read_shift(2),me):(me.s.c=q.read_shift(2),me.s.r=q.read_shift(2),pe==12&&se.qpro&&(q.l+=2),me.e.c=q.read_shift(2),me.e.r=q.read_shift(2),pe==12&&se.qpro&&(q.l+=2),me.s.c==65535&&(me.s.c=me.e.c=me.s.r=me.e.r=0),me)}function g(q){var pe=wa(8);return pe.write_shift(2,q.s.c),pe.write_shift(2,q.s.r),pe.write_shift(2,q.e.c),pe.write_shift(2,q.e.r),pe}function h(q,pe,se){var me=[{c:0,r:0},{t:"n",v:0},0,0];return se.qpro&&se.vers!=20768?(me[0].c=q.read_shift(1),me[3]=q.read_shift(1),me[0].r=q.read_shift(2),q.l+=2):(me[2]=q.read_shift(1),me[0].c=q.read_shift(2),me[0].r=q.read_shift(2)),me}function p(q,pe,se){var me=q.l+pe,Ce=h(q,pe,se);if(Ce[1].t="s",se.vers==20768){q.l++;var ze=q.read_shift(1);return Ce[1].v=q.read_shift(ze,"utf8"),Ce}return se.qpro&&q.l++,Ce[1].v=q.read_shift(me-q.l,"cstr"),Ce}function y(q,pe,se){var me=wa(7+se.length);me.write_shift(1,255),me.write_shift(2,pe),me.write_shift(2,q),me.write_shift(1,39);for(var Ce=0;Ce<me.length;++Ce){var ze=se.charCodeAt(Ce);me.write_shift(1,ze>=128?95:ze)}return me.write_shift(1,0),me}function B(q,pe,se){var me=h(q,pe,se);return me[1].v=q.read_shift(2,"i"),me}function T(q,pe,se){var me=wa(7);return me.write_shift(1,255),me.write_shift(2,pe),me.write_shift(2,q),me.write_shift(2,se,"i"),me}function S(q,pe,se){var me=h(q,pe,se);return me[1].v=q.read_shift(8,"f"),me}function F(q,pe,se){var me=wa(13);return me.write_shift(1,255),me.write_shift(2,pe),me.write_shift(2,q),me.write_shift(8,se,"f"),me}function D(q,pe,se){var me=q.l+pe,Ce=h(q,pe,se);if(Ce[1].v=q.read_shift(8,"f"),se.qpro)q.l=me;else{var ze=q.read_shift(2);re(q.slice(q.l,q.l+ze),Ce),q.l+=ze}return Ce}function P(q,pe,se){var me=pe&32768;return pe&=-32769,pe=(me?q:0)+(pe>=8192?pe-16384:pe),(me?"":"$")+(se?ya(pe):qa(pe))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function re(q,pe){za(q,0);for(var se=[],me=0,Ce="",ze="",ye="",ae="";q.l<q.length;){var _e=q[q.l++];switch(_e){case 0:se.push(q.read_shift(8,"f"));break;case 1:ze=P(pe[0].c,q.read_shift(2),!0),Ce=P(pe[0].r,q.read_shift(2),!1),se.push(ze+Ce);break;case 2:{var Re=P(pe[0].c,q.read_shift(2),!0),fe=P(pe[0].r,q.read_shift(2),!1);ze=P(pe[0].c,q.read_shift(2),!0),Ce=P(pe[0].r,q.read_shift(2),!1),se.push(Re+fe+":"+ze+Ce)}break;case 3:if(q.l<q.length){console.error("WK1 premature formula end");return}break;case 4:se.push("("+se.pop()+")");break;case 5:se.push(q.read_shift(2));break;case 6:{for(var yt="";_e=q[q.l++];)yt+=String.fromCharCode(_e);se.push('"'+yt.replace(/"/g,'""')+'"')}break;case 8:se.push("-"+se.pop());break;case 23:se.push("+"+se.pop());break;case 22:se.push("NOT("+se.pop()+")");break;case 20:case 21:ae=se.pop(),ye=se.pop(),se.push(["AND","OR"][_e-20]+"("+ye+","+ae+")");break;default:if(_e<32&&j[_e])ae=se.pop(),ye=se.pop(),se.push(ye+j[_e]+ae);else if(V[_e]){if(me=V[_e][1],me==69&&(me=q[q.l++]),me>se.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+se.join("|")+"|");return}var _t=se.slice(-me);se.length-=me,se.push(V[_e][0]+"("+_t.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}se.length==1?pe[1].f=""+se[0]:console.error("WK1 bad formula parse |"+se.join("|")+"|")}function ge(q){var pe=[{c:0,r:0},{t:"n",v:0},0];return pe[0].r=q.read_shift(2),pe[3]=q[q.l++],pe[0].c=q[q.l++],pe}function z(q,pe){var se=ge(q);return se[1].t="s",se[1].v=q.read_shift(pe-4,"cstr"),se}function O(q,pe,se,me){var Ce=wa(6+me.length);Ce.write_shift(2,q),Ce.write_shift(1,se),Ce.write_shift(1,pe),Ce.write_shift(1,39);for(var ze=0;ze<me.length;++ze){var ye=me.charCodeAt(ze);Ce.write_shift(1,ye>=128?95:ye)}return Ce.write_shift(1,0),Ce}function M(q,pe){var se=ge(q);se[1].v=q.read_shift(2);var me=se[1].v>>1;if(se[1].v&1)switch(me&7){case 0:me=(me>>3)*5e3;break;case 1:me=(me>>3)*500;break;case 2:me=(me>>3)/20;break;case 3:me=(me>>3)/200;break;case 4:me=(me>>3)/2e3;break;case 5:me=(me>>3)/2e4;break;case 6:me=(me>>3)/16;break;case 7:me=(me>>3)/64;break}return se[1].v=me,se}function k(q,pe){var se=ge(q),me=q.read_shift(4),Ce=q.read_shift(4),ze=q.read_shift(2);if(ze==65535)return me===0&&Ce===3221225472?(se[1].t="e",se[1].v=15):me===0&&Ce===3489660928?(se[1].t="e",se[1].v=42):se[1].v=0,se;var ye=ze&32768;return ze=(ze&32767)-16446,se[1].v=(1-ye*2)*(Ce*Math.pow(2,ze+32)+me*Math.pow(2,ze)),se}function Z(q,pe,se,me){var Ce=wa(14);if(Ce.write_shift(2,q),Ce.write_shift(1,se),Ce.write_shift(1,pe),me==0)return Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(2,65535),Ce;var ze=0,ye=0,ae=0,_e=0;return me<0&&(ze=1,me=-me),ye=Math.log2(me)|0,me/=Math.pow(2,ye-31),_e=me>>>0,(_e&2147483648)==0&&(me/=2,++ye,_e=me>>>0),me-=_e,_e|=2147483648,_e>>>=0,me*=Math.pow(2,32),ae=me>>>0,Ce.write_shift(4,ae),Ce.write_shift(4,_e),ye+=16383+(ze?32768:0),Ce.write_shift(2,ye),Ce}function Y(q,pe){var se=k(q);return q.l+=pe-14,se}function G(q,pe){var se=ge(q),me=q.read_shift(4);return se[1].v=me>>6,se}function K(q,pe){var se=ge(q),me=q.read_shift(8,"f");return se[1].v=me,se}function Ie(q,pe){var se=K(q);return q.l+=pe-10,se}function xe(q,pe){return q[q.l+pe-1]==0?q.read_shift(pe,"cstr"):""}function ie(q,pe){var se=q[q.l++];se>pe-1&&(se=pe-1);for(var me="";me.length<se;)me+=String.fromCharCode(q[q.l++]);return me}function ue(q,pe,se){if(!(!se.qpro||pe<21)){var me=q.read_shift(1);q.l+=17,q.l+=1,q.l+=2;var Ce=q.read_shift(pe-21,"cstr");return[me,Ce]}}function Ve(q,pe){for(var se={},me=q.l+pe;q.l<me;){var Ce=q.read_shift(2);if(Ce==14e3){for(se[Ce]=[0,""],se[Ce][0]=q.read_shift(2);q[q.l];)se[Ce][1]+=String.fromCharCode(q[q.l]),q.l++;q.l++}}return se}function Ee(q,pe){var se=wa(5+q.length);se.write_shift(2,14e3),se.write_shift(2,pe);for(var me=0;me<q.length;++me){var Ce=q.charCodeAt(me);se[se.l++]=Ce>127?95:Ce}return se[se.l++]=0,se}var $e={0:{n:"BOF",f:fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:B},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:D},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},Ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:Y},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:Ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function O7(t){var e={},r=t.match(di),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Zt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=kw[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return e}var k7=(function(){var t=Uf("t"),e=Uf("rPr");function r(s){var l=s.match(t);if(!l)return{t:"s",v:""};var f={t:"s",v:Mr(l[1])},g=s.match(e);return g&&(f.s=O7(g[1])),f}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(a).map(r).filter(function(f){return f.v})}})(),U7=(function(){var e=/(\r\n|\n)/g;function r(a,s,l){var f=[];a.u&&f.push("text-decoration: underline;"),a.uval&&f.push("text-underline-style:"+a.uval+";"),a.sz&&f.push("font-size:"+a.sz+"pt;"),a.outline&&f.push("text-effect: outline;"),a.shadow&&f.push("text-shadow: auto;"),s.push('<span style="'+f.join("")+'">'),a.b&&(s.push("<b>"),l.push("</b>")),a.i&&(s.push("<i>"),l.push("</i>")),a.strike&&(s.push("<s>"),l.push("</s>"));var g=a.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(s.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),M7=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Q7=/<(?:\w+:)?r>/,L7=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Jw(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Mr(pn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=pn(t),r&&(n.h=Hw(n.t))):t.match(Q7)&&(n.r=pn(t),n.t=Mr(pn((t.replace(L7,"").match(M7)||[]).join("").replace(di,""))),r&&(n.h=U7(k7(n.r)))),n):{t:""}}var P7=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,j7=/<(?:\w+:)?(?:si|sstItem)>/g,H7=/<\/(?:\w+:)?(?:si|sstItem)>/;function V7(t,e){var r=[],n="";if(!t)return r;var a=t.match(P7);if(a){n=a[2].replace(j7,"").split(H7);for(var s=0;s!=n.length;++s){var l=Jw(n[s].trim(),e);l!=null&&(r[r.length]=l)}a=Zt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function G7(t){return[t.read_shift(4),t.read_shift(4)]}function K7(t,e){var r=[],n=!1;return ho(t,function(s,l,f){switch(f){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}),r}function tI(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function so(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function z7(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=so(t,4),e.U=so(t,4),e.W=so(t,4),e}function X7(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),s=[];a-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function W7(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(X7(t));return e}function Y7(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function q7(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=so(t,4),e.U=so(t,4),e.W=so(t,4),e}function Z7(t){var e=q7(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function rI(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function nI(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function J7(t){var e=so(t);switch(e.Minor){case 2:return[e.Minor,$7(t)];case 3:return[e.Minor,eQ()];case 4:return[e.Minor,tQ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function $7(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=rI(t,r),a=nI(t,t.length-t.l);return{t:"Std",h:n,v:a}}function eQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function tQ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(di,function(s){var l=Zt(s);switch(TA(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(f){n[f]=l[f]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function rQ(t,e){var r={},n=r.EncryptionVersionInfo=so(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=rI(t,a),e-=a,r.EncryptionVerifier=nI(t,e),r}function nQ(t){var e={},r=e.EncryptionVersionInfo=so(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function aQ(t){var e=0,r,n=tI(t),a=n.length+1,s,l,f,g,h;for(r=ul(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)l=r[s],f=(e&16384)===0?0:1,g=e<<1&32767,h=f|g,e=h^l;return e^52811}var aI=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},a=function(l,f){return n(l^f)},s=function(l){for(var f=e[l.length-1],g=104,h=l.length-1;h>=0;--h)for(var p=l[h],y=0;y!=7;++y)p&64&&(f^=r[g]),p*=2,--g;return f};return function(l){for(var f=tI(l),g=s(f),h=f.length,p=ul(16),y=0;y!=16;++y)p[y]=0;var B,T,S;for((h&1)===1&&(B=g>>8,p[h]=a(t[0],B),--h,B=g&255,T=f[f.length-1],p[h]=a(T,B));h>0;)--h,B=g>>8,p[h]=a(f[h],B),--h,B=g&255,p[h]=a(f[h],B);for(h=15,S=15-f.length;S>0;)B=g>>8,p[h]=a(t[S],B),--h,--S,B=g&255,p[h]=a(f[h],B),--h,--S;return p}})(),iQ=function(t,e,r,n,a){a||(a=e),n||(n=aI(t));var s,l;for(s=0;s!=e.length;++s)l=e[s],l^=n[r],l=(l>>5|l<<3)&255,a[s]=l,++r;return[a,r,n]},sQ=function(t){var e=0,r=aI(t);return function(n){var a=iQ("",n,e,r);return e=a[1],a[0]}};function AQ(t,e,r,n){var a={key:fa(t),verificationBytes:fa(t)};return r.password&&(a.verifier=aQ(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=sQ(r.password)),a}function oQ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=nQ(t):n.Data=rQ(t,e),n}function lQ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?oQ(t,e-2,n):AQ(t,r.biff>=8?e:e-2,r,n),n}var cQ=(function(){function t(a,s){switch(s.type){case"base64":return e(xs(a),s);case"binary":return e(a,s);case"buffer":return e(Sr&&Buffer.isBuffer(a)?a.toString("binary"):pc(a),s);case"array":return e(Ac(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var l=s||{},f=l.dense?[]:{},g=a.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(p,y){Array.isArray(f)&&(f[y]=[]);for(var B=/\\\w+\b/g,T=0,S,F=-1;S=B.exec(p);){switch(S[0]){case"\\cell":var D=p.slice(T,B.lastIndex-S[0].length);if(D[0]==" "&&(D=D.slice(1)),++F,D.length){var P={v:D,t:"s"};Array.isArray(f)?f[y][F]=P:f[sr({r:y,c:F})]=P}break}T=B.lastIndex}F>h.e.c&&(h.e.c=F)}),f["!ref"]=Dr(h),f}function r(a,s){return pl(t(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],l=Xn(a["!ref"]),f,g=Array.isArray(a),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var y=sr({r:h,c:p});f=g?(a[h]||[])[p]:a[y],!(!f||f.v==null&&(!f.f||f.F))&&(s.push(" "+(f.w||(oo(f),f.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function uQ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Lf(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function fQ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),s=Math.min(e,r,n),l=a-s;if(l===0)return[0,0,e];var f=0,g=0,h=a+s;switch(g=l/(h>1?2-h:h),a){case e:f=((r-n)/l+6)%6;break;case r:f=(n-e)/l+2;break;case n:f=(e-r)/l+4;break}return[f/6,g,h/2]}function hQ(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),s=n-a/2,l=[s,s,s],f=6*e,g;if(r!==0)switch(f|0){case 0:case 6:g=a*f,l[0]+=a,l[1]+=g;break;case 1:g=a*(2-f),l[0]+=g,l[1]+=a;break;case 2:g=a*(f-2),l[1]+=a,l[2]+=g;break;case 3:g=a*(4-f),l[1]+=g,l[2]+=a;break;case 4:g=a*(f-4),l[2]+=a,l[0]+=g;break;case 5:g=a*(6-f),l[2]+=g,l[0]+=a;break}for(var h=0;h!=3;++h)l[h]=Math.round(l[h]*255);return l}function Bg(t,e){if(e===0)return t;var r=fQ(uQ(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Lf(hQ(r))}var iI=6,dQ=15,gQ=1,Ei=iI;function Cg(t){return Math.floor((t+Math.round(128/Ei)/256)*Ei)}function bg(t){return Math.floor((t-5)/Ei*100+.5)/100}function j2(t){return Math.round((t*Ei+5)/Ei*256)/256}function zm(t){return j2(bg(Cg(t)))}function $w(t){var e=Math.abs(t-zm(t)),r=Ei;if(e>.005)for(Ei=gQ;Ei<dQ;++Ei)Math.abs(t-zm(t))<=e&&(e=Math.abs(t-zm(t)),r=Ei);Ei=r}function D0(t){t.width?(t.wpx=Cg(t.width),t.wch=bg(t.wpx),t.MDW=Ei):t.wpx?(t.wch=bg(t.wpx),t.width=j2(t.wch),t.MDW=Ei):typeof t.wch=="number"&&(t.width=j2(t.wch),t.wpx=Cg(t.width),t.MDW=Ei),t.customWidth&&delete t.customWidth}var xQ=96,sI=xQ;function AI(t){return t*96/sI}function Pf(t){return t*sI/96}var pQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function mQ(t,e,r,n){e.Borders=[];var a={},s=!1;(t[0].match(di)||[]).forEach(function(l){var f=Zt(l);switch(TA(f[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},f.diagonalUp&&(a.diagonalUp=Fn(f.diagonalUp)),f.diagonalDown&&(a.diagonalDown=Fn(f.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+f[0]+" in borders")}})}function wQ(t,e,r,n){e.Fills=[];var a={},s=!1;(t[0].match(di)||[]).forEach(function(l){var f=Zt(l);switch(TA(f[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":f.patternType&&(a.patternType=f.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),f.indexed&&(a.bgColor.indexed=parseInt(f.indexed,10)),f.theme&&(a.bgColor.theme=parseInt(f.theme,10)),f.tint&&(a.bgColor.tint=parseFloat(f.tint)),f.rgb&&(a.bgColor.rgb=f.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),f.theme&&(a.fgColor.theme=parseInt(f.theme,10)),f.tint&&(a.fgColor.tint=parseFloat(f.tint)),f.rgb!=null&&(a.fgColor.rgb=f.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+f[0]+" in fills")}})}function vQ(t,e,r,n){e.Fonts=[];var a={},s=!1;(t[0].match(di)||[]).forEach(function(l){var f=Zt(l);switch(TA(f[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":f.val&&(a.name=pn(f.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=f.val?Fn(f.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=f.val?Fn(f.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(f.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=f.val?Fn(f.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=f.val?Fn(f.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=f.val?Fn(f.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=f.val?Fn(f.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=f.val?Fn(f.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":f.val&&(a.sz=+f.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":f.val&&(a.vertAlign=f.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":f.val&&(a.family=parseInt(f.val,10));break;case"<family/>":case"</family>":break;case"<scheme":f.val&&(a.scheme=f.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(f.val=="1")break;f.codepage=kw[parseInt(f.val,10)];break;case"<color":if(a.color||(a.color={}),f.auto&&(a.color.auto=Fn(f.auto)),f.rgb)a.color.rgb=f.rgb.slice(-6);else if(f.indexed){a.color.index=parseInt(f.indexed,10);var g=nc[a.color.index];a.color.index==81&&(g=nc[1]),g||(g=nc[1]),a.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else f.theme&&(a.color.theme=parseInt(f.theme,10),f.tint&&(a.color.tint=parseFloat(f.tint)),f.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Bg(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+f[0]+" in fonts")}})}function yQ(t,e,r){e.NumberFmt=[];for(var n=EA(ur),a=0;a<n.length;++a)e.NumberFmt[n[a]]=ur[n[a]];var s=t[0].match(di);if(s)for(a=0;a<s.length;++a){var l=Zt(s[a]);switch(TA(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var f=Mr(pn(l.formatCode)),g=parseInt(l.numFmtId,10);if(e.NumberFmt[g]=f,g>0){if(g>392){for(g=392;g>60&&e.NumberFmt[g]!=null;--g);e.NumberFmt[g]=f}rc(f,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var t1=["numFmtId","fillId","fontId","borderId","xfId"],r1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function EQ(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(di)||[]).forEach(function(s){var l=Zt(s),f=0;switch(TA(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],f=0;f<t1.length;++f)n[t1[f]]&&(n[t1[f]]=parseInt(n[t1[f]],10));for(f=0;f<r1.length;++f)n[r1[f]]&&(n[r1[f]]=Fn(n[r1[f]]));if(e.NumberFmt&&n.numFmtId>392){for(f=392;f>60;--f)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[f]){n.numFmtId=f;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=Fn(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var BQ=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(f,g,h){var p={};if(!f)return p;f=f.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var y;return(y=f.match(e))&&yQ(y,p,h),(y=f.match(a))&&vQ(y,p,g,h),(y=f.match(n))&&wQ(y,p,g,h),(y=f.match(s))&&mQ(y,p,g,h),(y=f.match(r))&&EQ(y,p,h),p}})();function CQ(t,e){var r=t.read_shift(2),n=fi(t);return[r,n]}function bQ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=kM(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var f=t.read_shift(1);f>0&&(n.family=f);var g=t.read_shift(1);switch(g>0&&(n.charset=g),t.l++,n.color=OM(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fi(t),n}var _Q=hi;function TQ(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}var SQ=hi;function IQ(t,e,r){var n={};n.NumberFmt=[];for(var a in ur)n.NumberFmt[a]=ur[a];n.CellXf=[],n.Fonts=[];var s=[],l=!1;return ho(t,function(g,h,p){switch(p){case 44:n.NumberFmt[g[0]]=g[1],rc(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(g.color.rgb=Bg(e.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:s.push(p),l=!0;break;case 38:s.pop(),l=!1;break;default:if(h.T>0)s.push(p);else if(h.T<0)s.pop();else if(!l||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),n}var FQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function NQ(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(di)||[]).forEach(function(a){var s=Zt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[FQ.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function RQ(){}function DQ(){}var OQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,kQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,UQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function MQ(t,e,r){e.themeElements={};var n;[["clrScheme",OQ,NQ],["fontScheme",kQ,RQ],["fmtScheme",UQ,DQ]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var QQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function oI(t,e){(!t||t.length===0)&&(t=LQ());var r,n={};if(!(r=t.match(QQ)))throw new Error("themeElements not found in theme");return MQ(r[0],n,e),n.raw=t,n}function LQ(t,e){var r=[wS];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function PQ(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var l;try{l=mS(s,{type:"array"})}catch{return}var f=hs(l,"theme/theme/theme1.xml",!0);if(f)return oI(f,r)}}function jQ(t){return t.read_shift(4)}function HQ(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=VQ(t,4);break;case 2:e.xclrValue=WS(t);break;case 3:e.xclrValue=jQ(t);break;case 4:t.l+=4;break}return t.l+=8,e}function VQ(t,e){return hi(t,e)}function GQ(t,e){return hi(t,e)}function KQ(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=HQ(t);break;case 6:n[1]=GQ(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function zQ(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),s=[];a-- >0;)s.push(KQ(t,r-t.l));return{ixfe:n,ext:s}}function XQ(t,e){e.forEach(function(r){r[0]})}function WQ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:fi(t)}}function YQ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function qQ(t){return t.l+=4,t.read_shift(4)!=0}function ZQ(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],l=!1,f=2;return ho(t,function(g,h,p){switch(p){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(y){f==1?n.Cell.push({type:n.Types[y[0]-1].name,index:y[1]}):f==0&&n.Value.push({type:n.Types[y[0]-1].name,index:y[1]})});break;case 337:f=g?1:0;break;case 338:f=2;break;case 35:s.push(p),l=!0;break;case 36:s.pop(),l=!1;break;default:if(!h.T){if(!l||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),n}function JQ(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,s=2,l;return t.replace(di,function(f){var g=Zt(f);switch(TA(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<n.Types.length;++h)n.Types[h].name==g.name&&(l=n.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):s==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return f}),n}function $Q(t){var e=[];if(!t)return e;var r=1;return(t.match(di)||[]).forEach(function(n){var a=Zt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function eL(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=sr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function tL(t,e,r){var n=[];return ho(t,function(s,l,f){switch(f){case 63:n.push(s);break;default:if(!l.T)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function rL(t,e,r,n){if(!t)return t;var a=n||{},s=!1;ho(t,function(f,g,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!g.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},a)}function nL(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function Jb(t,e,r,n){var a=Array.isArray(t),s;e.forEach(function(l){var f=Bi(l.ref);if(a?(t[f.r]||(t[f.r]=[]),s=t[f.r][f.c]):s=t[l.ref],!s){s={t:"z"},a?t[f.r][f.c]=s:t[l.ref]=s;var g=Xn(t["!ref"]||"BDWGO1000001:A1");g.s.r>f.r&&(g.s.r=f.r),g.e.r<f.r&&(g.e.r=f.r),g.s.c>f.c&&(g.s.c=f.c),g.e.c<f.c&&(g.e.c=f.c);var h=Dr(g);h!==t["!ref"]&&(t["!ref"]=h)}s.c||(s.c=[]);var p={a:l.author,t:l.t,r:l.r,T:r};l.h&&(p.h=l.h);for(var y=s.c.length-1;y>=0;--y){if(!r&&s.c[y].T)return;r&&!s.c[y].T&&s.c.splice(y,1)}if(r&&n){for(y=0;y<n.length;++y)if(p.a==n[y].id){p.a=n[y].name||p.a;break}}s.c.push(p)})}function aL(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var f=l.match(/<(?:\w+:)?author[^>]*>(.*)/);f&&r.push(f[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var f=l.match(/<(?:\w+:)?comment[^>]*>/);if(f){var g=Zt(f[0]),h={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},p=Bi(g.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var y=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),B=!!y&&!!y[1]&&Jw(y[1])||{r:"",t:"",h:""};h.r=B.r,B.r=="<t></t>"&&(B.t=B.h=""),h.t=(B.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(h.h=B.h),n.push(h)}}}}),n}function iL(t,e){var r=[],n=!1,a={},s=0;return t.replace(di,function(f,g){var h=Zt(f);switch(TA(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=g+f.length;break;case"</text>":a.t=t.slice(s,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return f}),r}function sL(t,e){var r=[],n=!1;return t.replace(di,function(s){var l=Zt(s);switch(TA(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),r}function AL(t){var e={};e.iauthor=t.read_shift(4);var r=wc(t);return e.rfx=r.s,e.ref=sr(r.s),t.l+=16,e}var oL=fi;function lL(t,e){var r=[],n=[],a={},s=!1;return ho(t,function(f,g,h){switch(h){case 632:n.push(f);break;case 635:a=f;break;case 637:a.t=f.t,a.h=f.h,a.r=f.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}var cL="application/vnd.ms-office.vbaProject";function uL(t){var e=Rr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rr.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Rr.write(e)}function fL(){return{"!type":"dialog"}}function hL(){return{"!type":"dialog"}}function dL(){return{"!type":"macro"}}function gL(){return{"!type":"macro"}}var b0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,s,l){var f=!1,g=!1;s.length==0?g=!0:s.charAt(0)=="["&&(g=!0,s=s.slice(1,-1)),l.length==0?f=!0:l.charAt(0)=="["&&(f=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return f?p+=e.c:--p,g?h+=e.r:--h,a+(f?"":"$")+ya(p)+(g?"":"$")+qa(h)}return function(a,s){return e=s,a.replace(t,r)}})(),lI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,xL=(function(){return function(e,r){return e.replace(lI,function(n,a,s,l,f,g){var h=zw(l)-(s?0:r.c),p=Kw(g)-(f?0:r.r),y=p==0?"":f?p+1:"["+p+"]",B=h==0?"":s?h+1:"["+h+"]";return a+"R"+y+"C"+B})}})();function cI(t,e){return t.replace(lI,function(r,n,a,s,l,f){return n+(a=="$"?a+s:ya(zw(s)+e.c))+(l=="$"?l+f:qa(Kw(f)+e.r))})}function pL(t,e,r){var n=V0(e),a=n.s,s=Bi(r),l={r:s.r-a.r,c:s.c-a.c};return cI(t,l)}function mL(t){return t.length!=1}function $b(t){return t.replace(/_xlfn\./g,"")}function la(t){t.l+=1}function fl(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function uI(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return fI(t);r.biff==12&&(n=4)}var a=t.read_shift(n),s=t.read_shift(n),l=fl(t),f=fl(t);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:f[0],cRel:f[1],rRel:f[2]}}}function fI(t){var e=fl(t),r=fl(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function wL(t,e,r){if(r.biff<8)return fI(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),s=fl(t),l=fl(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function hI(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return vL(t);var n=t.read_shift(r&&r.biff==12?4:2),a=fl(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function vL(t){var e=fl(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function yL(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function EL(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BL(t);var a=t.read_shift(n>=12?4:2),s=t.read_shift(2),l=(s&16384)>>14,f=(s&32768)>>15;if(s&=16383,f==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:f}}function BL(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function CL(t,e,r){var n=(t[t.l++]&96)>>5,a=uI(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function bL(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var l=uI(t,s,r);return[n,a,l]}function _L(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function TL(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,a]}function SL(t,e,r){var n=(t[t.l++]&96)>>5,a=wL(t,e-1,r);return[n,a]}function IL(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function e4(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function FL(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function NL(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function RL(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function DL(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function OL(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function dI(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function kL(t){return t.read_shift(2),dI(t)}function UL(t){return t.read_shift(2),dI(t)}function ML(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=hI(t,0,r);return[n,a]}function QL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=EL(t,0,r);return[n,a]}function LL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=hI(t,0,r);return[n,a,s]}function PL(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[jP[a],pI[a],n]}function jL(t,e,r){var n=t[t.l++],a=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:HL(t);return[a,(s[0]===0?pI:PP)[s[1]]]}function HL(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function VL(t,e,r){t.l+=r&&r.biff==2?3:4}function GL(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function KL(t){return t.l++,vc[t.read_shift(1)]}function zL(t){return t.l++,t.read_shift(2)}function XL(t){return t.l++,t.read_shift(1)!==0}function WL(t){return t.l++,ci(t)}function YL(t,e,r){return t.l++,th(t,e-1,r)}function qL(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ta(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=vc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ci(t);break;case 2:r[1]=yc(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ZL(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?wc:nx)(t));return a}function JL(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var f=0;f!=a;++f)l[s][f]=qL(t,r.biff);return l}function $L(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function eP(t,e,r){if(r.biff==5)return tP(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),s=t.read_shift(4);return[n,a,s]}function tP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function rP(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function nP(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function aP(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function iP(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,a]}var sP=hi,AP=hi,oP=hi;function nh(t,e,r){return t.l+=2,[yL(t)]}function ev(t){return t.l+=6,[]}var lP=nh,cP=ev,uP=ev,fP=nh;function gI(t){return t.l+=2,[fa(t),t.read_shift(2)&1]}var hP=nh,dP=gI,gP=ev,xP=nh,pP=nh,mP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wP(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),s=t.read_shift(2),l=mP[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:a,C:s}}function vP(t){return t.l+=2,[t.read_shift(4)]}function yP(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function EP(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function BP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function CP(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bP(t){return t.l+=4,[0,0]}var t4={1:{n:"PtgExp",f:GL},2:{n:"PtgTbl",f:oP},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:YL},26:{n:"PtgSheet",f:yP},27:{n:"PtgEndSheet",f:EP},28:{n:"PtgErr",f:KL},29:{n:"PtgBool",f:XL},30:{n:"PtgInt",f:zL},31:{n:"PtgNum",f:WL},32:{n:"PtgArray",f:IL},33:{n:"PtgFunc",f:PL},34:{n:"PtgFuncVar",f:jL},35:{n:"PtgName",f:$L},36:{n:"PtgRef",f:ML},37:{n:"PtgArea",f:CL},38:{n:"PtgMemArea",f:rP},39:{n:"PtgMemErr",f:sP},40:{n:"PtgMemNoMem",f:AP},41:{n:"PtgMemFunc",f:nP},42:{n:"PtgRefErr",f:aP},43:{n:"PtgAreaErr",f:_L},44:{n:"PtgRefN",f:QL},45:{n:"PtgAreaN",f:SL},46:{n:"PtgMemAreaN",f:BP},47:{n:"PtgMemNoMemN",f:CP},57:{n:"PtgNameX",f:eP},58:{n:"PtgRef3d",f:LL},59:{n:"PtgArea3d",f:bL},60:{n:"PtgRefErr3d",f:iP},61:{n:"PtgAreaErr3d",f:TL},255:{}},_P={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TP={1:{n:"PtgElfLel",f:gI},2:{n:"PtgElfRw",f:xP},3:{n:"PtgElfCol",f:lP},6:{n:"PtgElfRwV",f:pP},7:{n:"PtgElfColV",f:fP},10:{n:"PtgElfRadical",f:hP},11:{n:"PtgElfRadicalS",f:gP},13:{n:"PtgElfColS",f:cP},15:{n:"PtgElfColSV",f:uP},16:{n:"PtgElfRadicalLel",f:dP},25:{n:"PtgList",f:wP},29:{n:"PtgSxName",f:vP},255:{}},SP={0:{n:"PtgAttrNoop",f:bP},1:{n:"PtgAttrSemi",f:OL},2:{n:"PtgAttrIf",f:RL},4:{n:"PtgAttrChoose",f:FL},8:{n:"PtgAttrGoto",f:NL},16:{n:"PtgAttrSum",f:VL},32:{n:"PtgAttrBaxcel",f:e4},33:{n:"PtgAttrBaxcel",f:e4},64:{n:"PtgAttrSpace",f:kL},65:{n:"PtgAttrSpaceSemi",f:UL},128:{n:"PtgAttrIfError",f:DL},255:{}};function ah(t,e,r,n){if(n.biff<8)return hi(t,e);for(var a=t.l+e,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=JL(t,0,n),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=ZL(t,r[l][1],n),s.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=a-t.l,e!==0&&s.push(hi(t,e)),s}function ih(t,e,r){for(var n=t.l+e,a,s,l=[];n!=t.l;)e=n-t.l,s=t[t.l],a=t4[s]||t4[_P[s]],(s===24||s===25)&&(a=(s===24?TP:SP)[t[t.l+1]]),!a||!a.f?hi(t,e):l.push([a.n,a.f(t,e,r)]);return l}function IP(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var FP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function NP(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function xI(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function r4(t,e,r){var n=xI(t,e,r);return n=="#REF"?n:NP(n,r)}function oi(t,e,r,n,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},f=[],g,h,p,y=0,B=0,T,S="";if(!t[0]||!t[0][0])return"";for(var F=-1,D="",P=0,V=t[0].length;P<V;++P){var j=t[0][P];switch(j[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=f.pop(),h=f.pop(),F>=0){switch(t[0][F][1][0]){case 0:D=zn(" ",t[0][F][1][1]);break;case 1:D=zn("\r",t[0][F][1][1]);break;default:if(D="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][F][1][0])}h=h+D,F=-1}f.push(h+FP[j[0]]+g);break;case"PtgIsect":g=f.pop(),h=f.pop(),f.push(h+" "+g);break;case"PtgUnion":g=f.pop(),h=f.pop(),f.push(h+","+g);break;case"PtgRange":g=f.pop(),h=f.pop(),f.push(h+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=pf(j[1][1],l,a),f.push(mf(p,s));break;case"PtgRefN":p=r?pf(j[1][1],r,a):j[1][1],f.push(mf(p,s));break;case"PtgRef3d":y=j[1][1],p=pf(j[1][2],l,a),S=r4(n,y,a),f.push(S+"!"+mf(p,s));break;case"PtgFunc":case"PtgFuncVar":var re=j[1][0],ge=j[1][1];re||(re=0),re&=127;var z=re==0?[]:f.slice(-re);f.length-=re,ge==="User"&&(ge=z.shift()),f.push(ge+"("+z.join(",")+")");break;case"PtgBool":f.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(j[1]);break;case"PtgNum":f.push(String(j[1]));break;case"PtgStr":f.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(j[1]);break;case"PtgAreaN":T=Ub(j[1][1],r?{s:r}:l,a),f.push(Gm(T,a));break;case"PtgArea":T=Ub(j[1][1],l,a),f.push(Gm(T,a));break;case"PtgArea3d":y=j[1][1],T=j[1][2],S=r4(n,y,a),f.push(S+"!"+Gm(T,a));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":B=j[1][2];var O=(n.names||[])[B-1]||(n[0]||[])[B],M=O?O.Name:"SH33TJSNAME"+String(B);M&&M.slice(0,6)=="_xlfn."&&!a.xlfn&&(M=M.slice(6)),f.push(M);break;case"PtgNameX":var k=j[1][1];B=j[1][2];var Z;if(a.biff<=5)k<0&&(k=-k),n[k]&&(Z=n[k][B]);else{var Y="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][B]&&n[k][B].itab>0&&(Y=n.SheetNames[n[k][B].itab-1]+"!"):Y=n.SheetNames[B-1]+"!"),n[k]&&n[k][B])Y+=n[k][B].Name;else if(n[0]&&n[0][B])Y+=n[0][B].Name;else{var G=(xI(n,k,a)||"").split(";;");G[B-1]?Y=G[B-1]:Y+="SH33TJSERRX"}f.push(Y);break}Z||(Z={Name:"SH33TJSERRY"}),f.push(Z.Name);break;case"PtgParen":var K="(",Ie=")";if(F>=0){switch(D="",t[0][F][1][0]){case 2:K=zn(" ",t[0][F][1][1])+K;break;case 3:K=zn("\r",t[0][F][1][1])+K;break;case 4:Ie=zn(" ",t[0][F][1][1])+Ie;break;case 5:Ie=zn("\r",t[0][F][1][1])+Ie;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][F][1][0])}F=-1}f.push(K+f.pop()+Ie);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":p={c:j[1][1],r:j[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[sr(p)]){var ie=n.sharedf[sr(p)];f.push(oi(ie,l,xe,n,a))}else{var ue=!1;for(g=0;g!=n.arrayf.length;++g)if(h=n.arrayf[g],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){f.push(oi(h[1],l,xe,n,a)),ue=!0;break}ue||f.push(j[1])}break;case"PtgArray":f.push("{"+IP(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":F=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var Ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&F>=0&&Ve.indexOf(t[0][P][0])==-1){j=t[0][F];var Ee=!0;switch(j[1][0]){case 4:Ee=!1;case 0:D=zn(" ",j[1][1]);break;case 5:Ee=!1;case 1:D=zn("\r",j[1][1]);break;default:if(D="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}f.push((Ee?D:"")+f.pop()+(Ee?"":D)),F=-1}}if(f.length>1&&a.WTF)throw new Error("bad formula stack");return f[0]}function RP(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,l=t.read_shift(a);if(l==65535)return[[],hi(t,e-2)];var f=ih(t,l,r);return e!==l+a&&(s=ah(t,e-l-a,f,r)),t.l=n,[f,s]}function DP(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,l=t.read_shift(a);if(l==65535)return[[],hi(t,e-2)];var f=ih(t,l,r);return e!==l+a&&(s=ah(t,e-l-a,f,r)),t.l=n,[f,s]}function OP(t,e,r,n){var a=t.l+e,s=ih(t,n,r),l;return a!==t.l&&(l=ah(t,a-t.l,s,r)),[s,l]}function kP(t,e,r){var n=t.l+e,a,s=t.read_shift(2),l=ih(t,s,r);return s==65535?[[],hi(t,e-2)]:(e!==s+2&&(a=ah(t,n-s-2,l,r)),[l,a])}function UP(t){var e;if(no(t,t.l+6)!==65535)return[ci(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Xm(t,e,r){var n=t.l+e,a=SA(t);r.biff==2&&++t.l;var s=UP(t),l=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var f=DP(t,n-t.l,r);return{cell:a,val:s[0],formula:f,shared:l>>3&1,tt:s[1]}}function ax(t,e,r){var n=t.read_shift(4),a=ih(t,n,r),s=t.read_shift(4),l=s>0?ah(t,s,a,r):null;return[a,l]}var MP=ax,ix=ax,QP=ax,LP=ax,PP={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jP={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function n4(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Wm(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ef={},_0={};function Bf(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function mI(t,e,r,n,a,s){try{n.cellNF&&(t.z=ur[e])}catch(f){if(n.WTF)throw f}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ra(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(ur[e]==null&&rc(HU[e]||"General",e),t.t==="e")t.w=t.w||vc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kf(t.v);else if(t.t==="d"){var l=_i(t.v);(l|0)===l?t.w=l.toString(10):t.w=kf(l)}else{if(t.v===void 0)return"";t.w=sc(t.v,_0)}else t.t==="d"?t.w=Ps(e,_i(t.v),_0):t.w=Ps(e,t.v,_0)}catch(f){if(n.WTF)throw f}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Bg(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Bg(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(f){if(n.WTF&&s.Fills)throw f}}}function HP(t,e){var r=Xn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Dr(r))}var VP=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GP=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,KP=/<(?:\w:)?hyperlink [^>]*>/mg,zP=/"(\w*:\w*)"/,XP=/<(?:\w:)?col\b[^>]*[\/]?>/g,WP=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,YP=/<(?:\w:)?pageMargins[^>]*\/>/g,wI=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qP=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,ZP=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function JP(t,e,r,n,a,s,l){if(!t)return t;n||(n={"!id":{}});var f=e.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",p="",y=t.match(GP);y?(h=t.slice(0,y.index),p=t.slice(y.index+y[0].length)):h=p=t;var B=h.match(wI);B?tv(B[0],f,a,r):(B=h.match(qP))&&$P(B[0],B[1]||"",f,a,r);var T=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var S=h.slice(T,T+50).match(zP);S&&HP(f,S[1])}var F=h.match(ZP);F&&F[1]&&ij(F[1],a);var D=[];if(e.cellStyles){var P=h.match(XP);P&&rj(D,P)}y&&sj(y[1],f,e,g,s,l);var V=p.match(WP);V&&(f["!autofilter"]=nj(V[0]));var j=[],re=p.match(VP);if(re)for(T=0;T!=re.length;++T)j[T]=Xn(re[T].slice(re[T].indexOf('"')+1));var ge=p.match(KP);ge&&ej(f,ge,n);var z=p.match(YP);if(z&&(f["!margins"]=tj(Zt(z[0]))),!f["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(f["!ref"]=Dr(g)),e.sheetRows>0&&f["!ref"]){var O=Xn(f["!ref"]);e.sheetRows<=+O.e.r&&(O.e.r=e.sheetRows-1,O.e.r>g.e.r&&(O.e.r=g.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>g.e.c&&(O.e.c=g.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Dr(O))}return D.length>0&&(f["!cols"]=D),j.length>0&&(f["!merges"]=j),f}function tv(t,e,r,n){var a=Zt(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Mr(pn(a.codeName)))}function $P(t,e,r,n,a){tv(t.slice(0,t.indexOf(">")),r,n,a)}function ej(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var s=Zt(pn(e[a]),!0);if(!s.ref)return;var l=((r||{})["!id"]||[])[s.id];l?(s.Target=l.Target,s.location&&(s.Target+="#"+Mr(s.location))):(s.Target="#"+Mr(s.location),l={Target:s.Target,TargetMode:"Internal"}),s.Rel=l,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var f=Xn(s.ref),g=f.s.r;g<=f.e.r;++g)for(var h=f.s.c;h<=f.e.c;++h){var p=sr({c:h,r:g});n?(t[g]||(t[g]=[]),t[g][h]||(t[g][h]={t:"z",v:void 0}),t[g][h].l=s):(t[p]||(t[p]={t:"z",v:void 0}),t[p].l=s)}}}function tj(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function rj(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=Zt(e[n],!0);a.hidden&&(a.hidden=Fn(a.hidden));var s=parseInt(a.min,10)-1,l=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,$w(a.width)),D0(a);s<=l;)t[s++]=Ya(a)}}function nj(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var aj=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ij(t,e){e.Views||(e.Views=[{}]),(t.match(aj)||[]).forEach(function(r,n){var a=Zt(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Fn(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var sj=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Uf("v"),l=Uf("f");return function(g,h,p,y,B,T){for(var S=0,F="",D=[],P=[],V=0,j=0,re=0,ge="",z,O,M=0,k=0,Z,Y,G=0,K=0,Ie=Array.isArray(T.CellXf),xe,ie=[],ue=[],Ve=Array.isArray(h),Ee=[],$e={},Ae=!1,q=!!p.sheetStubs,pe=g.split(e),se=0,me=pe.length;se!=me;++se){F=pe[se].trim();var Ce=F.length;if(Ce!==0){var ze=0;e:for(S=0;S<Ce;++S)switch(F[S]){case">":if(F[S-1]!="/"){++S;break e}if(p&&p.cellStyles){if(O=Zt(F.slice(ze,S),!0),M=O.r!=null?parseInt(O.r,10):M+1,k=-1,p.sheetRows&&p.sheetRows<M)continue;$e={},Ae=!1,O.ht&&(Ae=!0,$e.hpt=parseFloat(O.ht),$e.hpx=Pf($e.hpt)),O.hidden=="1"&&(Ae=!0,$e.hidden=!0),O.outlineLevel!=null&&(Ae=!0,$e.level=+O.outlineLevel),Ae&&(Ee[M-1]=$e)}break;case"<":ze=S;break}if(ze>=S)break;if(O=Zt(F.slice(ze,S),!0),M=O.r!=null?parseInt(O.r,10):M+1,k=-1,!(p.sheetRows&&p.sheetRows<M)){y.s.r>M-1&&(y.s.r=M-1),y.e.r<M-1&&(y.e.r=M-1),p&&p.cellStyles&&($e={},Ae=!1,O.ht&&(Ae=!0,$e.hpt=parseFloat(O.ht),$e.hpx=Pf($e.hpt)),O.hidden=="1"&&(Ae=!0,$e.hidden=!0),O.outlineLevel!=null&&(Ae=!0,$e.level=+O.outlineLevel),Ae&&(Ee[M-1]=$e)),D=F.slice(S).split(t);for(var ye=0;ye!=D.length&&D[ye].trim().charAt(0)=="<";++ye);for(D=D.slice(ye),S=0;S!=D.length;++S)if(F=D[S].trim(),F.length!==0){if(P=F.match(r),V=S,j=0,re=0,F="<c "+(F.slice(0,1)=="<"?">":"")+F,P!=null&&P.length===2){for(V=0,ge=P[1],j=0;j!=ge.length&&!((re=ge.charCodeAt(j)-64)<1||re>26);++j)V=26*V+re;--V,k=V}else++k;for(j=0;j!=F.length&&F.charCodeAt(j)!==62;++j);if(++j,O=Zt(F.slice(0,j),!0),O.r||(O.r=sr({r:M-1,c:k})),ge=F.slice(j),z={t:""},(P=ge.match(s))!=null&&P[1]!==""&&(z.v=Mr(P[1])),p.cellFormula){if((P=ge.match(l))!=null&&P[1]!==""){if(z.f=Mr(pn(P[1])).replace(/\r\n/g,`
`),p.xlfn||(z.f=$b(z.f)),P[0].indexOf('t="array"')>-1)z.F=(ge.match(a)||[])[1],z.F.indexOf(":")>-1&&ie.push([Xn(z.F),z.F]);else if(P[0].indexOf('t="shared"')>-1){Y=Zt(P[0]);var ae=Mr(pn(P[1]));p.xlfn||(ae=$b(ae)),ue[parseInt(Y.si,10)]=[Y,ae,O.r]}}else(P=ge.match(/<f[^>]*\/>/))&&(Y=Zt(P[0]),ue[Y.si]&&(z.f=pL(ue[Y.si][1],ue[Y.si][2],O.r)));var _e=Bi(O.r);for(j=0;j<ie.length;++j)_e.r>=ie[j][0].s.r&&_e.r<=ie[j][0].e.r&&_e.c>=ie[j][0].s.c&&_e.c<=ie[j][0].e.c&&(z.F=ie[j][1])}if(O.t==null&&z.v===void 0)if(z.f||z.F)z.v=0,z.t="n";else if(q)z.t="z";else continue;else z.t=O.t||"n";switch(y.s.c>k&&(y.s.c=k),y.e.c<k&&(y.e.c=k),z.t){case"n":if(z.v==""||z.v==null){if(!q)continue;z.t="z"}else z.v=parseFloat(z.v);break;case"s":if(typeof z.v>"u"){if(!q)continue;z.t="z"}else Z=Ef[parseInt(z.v,10)],z.v=Z.t,z.r=Z.r,p.cellHTML&&(z.h=Z.h);break;case"str":z.t="s",z.v=z.v!=null?pn(z.v):"",p.cellHTML&&(z.h=Hw(z.v));break;case"inlineStr":P=ge.match(n),z.t="s",P!=null&&(Z=Jw(P[1]))?(z.v=Z.t,p.cellHTML&&(z.h=Z.h)):z.v="";break;case"b":z.v=Fn(z.v);break;case"d":p.cellDates?z.v=Ra(z.v,1):(z.v=_i(Ra(z.v,1)),z.t="n");break;case"e":(!p||p.cellText!==!1)&&(z.w=z.v),z.v=PS[z.v];break}if(G=K=0,xe=null,Ie&&O.s!==void 0&&(xe=T.CellXf[O.s],xe!=null&&(xe.numFmtId!=null&&(G=xe.numFmtId),p.cellStyles&&xe.fillId!=null&&(K=xe.fillId))),mI(z,G,K,p,B,T),p.cellDates&&Ie&&z.t=="n"&&H0(ur[G])&&(z.t="d",z.v=rx(z.v)),O.cm&&p.xlmeta){var Re=(p.xlmeta.Cell||[])[+O.cm-1];Re&&Re.type=="XLDAPR"&&(z.D=!0)}if(Ve){var fe=Bi(O.r);h[fe.r]||(h[fe.r]=[]),h[fe.r][fe.c]=z}else h[O.r]=z}}}}Ee.length>0&&(h["!rows"]=Ee)}})();function Aj(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var oj=wc;function lj(){}function cj(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=RM(t),r}function uj(t){var e=js(t);return[e]}function fj(t){var e=mc(t);return[e]}function hj(t){var e=js(t),r=t.read_shift(1);return[e,r,"b"]}function dj(t){var e=mc(t),r=t.read_shift(1);return[e,r,"b"]}function gj(t){var e=js(t),r=t.read_shift(1);return[e,r,"e"]}function xj(t){var e=mc(t),r=t.read_shift(1);return[e,r,"e"]}function pj(t){var e=js(t),r=t.read_shift(4);return[e,r,"s"]}function mj(t){var e=mc(t),r=t.read_shift(4);return[e,r,"s"]}function wj(t){var e=js(t),r=ci(t);return[e,r,"n"]}function vI(t){var e=mc(t),r=ci(t);return[e,r,"n"]}function vj(t){var e=js(t),r=Yw(t);return[e,r,"n"]}function yj(t){var e=mc(t),r=Yw(t);return[e,r,"n"]}function Ej(t){var e=js(t),r=Xw(t);return[e,r,"is"]}function Bj(t){var e=js(t),r=fi(t);return[e,r,"str"]}function Cj(t){var e=mc(t),r=fi(t);return[e,r,"str"]}function bj(t,e,r){var n=t.l+e,a=js(t);a.r=r["!row"];var s=t.read_shift(1),l=[a,s,"b"];if(r.cellFormula){t.l+=2;var f=ix(t,n-t.l,r);l[3]=oi(f,null,a,r.supbooks,r)}else t.l=n;return l}function _j(t,e,r){var n=t.l+e,a=js(t);a.r=r["!row"];var s=t.read_shift(1),l=[a,s,"e"];if(r.cellFormula){t.l+=2;var f=ix(t,n-t.l,r);l[3]=oi(f,null,a,r.supbooks,r)}else t.l=n;return l}function Tj(t,e,r){var n=t.l+e,a=js(t);a.r=r["!row"];var s=ci(t),l=[a,s,"n"];if(r.cellFormula){t.l+=2;var f=ix(t,n-t.l,r);l[3]=oi(f,null,a,r.supbooks,r)}else t.l=n;return l}function Sj(t,e,r){var n=t.l+e,a=js(t);a.r=r["!row"];var s=fi(t),l=[a,s,"str"];if(r.cellFormula){t.l+=2;var f=ix(t,n-t.l,r);l[3]=oi(f,null,a,r.supbooks,r)}else t.l=n;return l}var Ij=wc;function Fj(t,e){var r=t.l+e,n=wc(t),a=Ww(t),s=fi(t),l=fi(t),f=fi(t);t.l=r;var g={rfx:n,relId:a,loc:s,display:f};return l&&(g.Tooltip=l),g}function Nj(){}function Rj(t,e,r){var n=t.l+e,a=MS(t),s=t.read_shift(1),l=[a];if(l[2]=s,r.cellFormula){var f=MP(t,n-t.l,r);l[1]=f}else t.l=n;return l}function Dj(t,e,r){var n=t.l+e,a=wc(t),s=[a];if(r.cellFormula){var l=LP(t,n-t.l,r);s[1]=l,t.l=n}else t.l=n;return s}var Oj=["left","right","top","bottom","header","footer"];function kj(t){var e={};return Oj.forEach(function(r){e[r]=ci(t)}),e}function Uj(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Mj(){}function Qj(){}function Lj(t,e,r,n,a,s,l){if(!t)return t;var f=e||{};n||(n={"!id":{}});var g=f.dense?[]:{},h,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=!1,B=!1,T,S,F,D,P,V,j,re,ge,z=[];f.biff=12,f["!row"]=0;var O=0,M=!1,k=[],Z={},Y=f.supbooks||a.supbooks||[[]];if(Y.sharedf=Z,Y.arrayf=k,Y.SheetNames=a.SheetNames||a.Sheets.map(function(Ve){return Ve.name}),!f.supbooks&&(f.supbooks=Y,a.Names))for(var G=0;G<a.Names.length;++G)Y[0][G+1]=a.Names[G];var K=[],Ie=[],xe=!1;_g[16]={n:"BrtShortReal",f:vI};var ie;if(ho(t,function(Ee,$e,Ae){if(!B)switch(Ae){case 148:h=Ee;break;case 0:T=Ee,f.sheetRows&&f.sheetRows<=T.r&&(B=!0),re=qa(D=T.r),f["!row"]=T.r,(Ee.hidden||Ee.hpt||Ee.level!=null)&&(Ee.hpt&&(Ee.hpx=Pf(Ee.hpt)),Ie[Ee.r]=Ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:Ee[2]},Ee[2]){case"n":S.v=Ee[1];break;case"s":j=Ef[Ee[1]],S.v=j.t,S.r=j.r;break;case"b":S.v=!!Ee[1];break;case"e":S.v=Ee[1],f.cellText!==!1&&(S.w=vc[S.v]);break;case"str":S.t="s",S.v=Ee[1];break;case"is":S.t="s",S.v=Ee[1].t;break}if((F=l.CellXf[Ee[0].iStyleRef])&&mI(S,F.numFmtId,null,f,s,l),P=Ee[0].c==-1?P+1:Ee[0].c,f.dense?(g[D]||(g[D]=[]),g[D][P]=S):g[ya(P)+re]=S,f.cellFormula){for(M=!1,O=0;O<k.length;++O){var q=k[O];T.r>=q[0].s.r&&T.r<=q[0].e.r&&P>=q[0].s.c&&P<=q[0].e.c&&(S.F=Dr(q[0]),M=!0)}!M&&Ee.length>3&&(S.f=Ee[3])}if(p.s.r>T.r&&(p.s.r=T.r),p.s.c>P&&(p.s.c=P),p.e.r<T.r&&(p.e.r=T.r),p.e.c<P&&(p.e.c=P),f.cellDates&&F&&S.t=="n"&&H0(ur[F.numFmtId])){var pe=Zl(S.v);pe&&(S.t="d",S.v=new Date(pe.y,pe.m-1,pe.d,pe.H,pe.M,pe.S,pe.u))}ie&&(ie.type=="XLDAPR"&&(S.D=!0),ie=void 0);break;case 1:case 12:if(!f.sheetStubs||y)break;S={t:"z",v:void 0},P=Ee[0].c==-1?P+1:Ee[0].c,f.dense?(g[D]||(g[D]=[]),g[D][P]=S):g[ya(P)+re]=S,p.s.r>T.r&&(p.s.r=T.r),p.s.c>P&&(p.s.c=P),p.e.r<T.r&&(p.e.r=T.r),p.e.c<P&&(p.e.c=P),ie&&(ie.type=="XLDAPR"&&(S.D=!0),ie=void 0);break;case 176:z.push(Ee);break;case 49:ie=((f.xlmeta||{}).Cell||[])[Ee-1];break;case 494:var se=n["!id"][Ee.relId];for(se?(Ee.Target=se.Target,Ee.loc&&(Ee.Target+="#"+Ee.loc),Ee.Rel=se):Ee.relId==""&&(Ee.Target="#"+Ee.loc),D=Ee.rfx.s.r;D<=Ee.rfx.e.r;++D)for(P=Ee.rfx.s.c;P<=Ee.rfx.e.c;++P)f.dense?(g[D]||(g[D]=[]),g[D][P]||(g[D][P]={t:"z",v:void 0}),g[D][P].l=Ee):(V=sr({c:P,r:D}),g[V]||(g[V]={t:"z",v:void 0}),g[V].l=Ee);break;case 426:if(!f.cellFormula)break;k.push(Ee),ge=f.dense?g[D][P]:g[ya(P)+re],ge.f=oi(Ee[1],p,{r:T.r,c:P},Y,f),ge.F=Dr(Ee[0]);break;case 427:if(!f.cellFormula)break;Z[sr(Ee[0].s)]=Ee[1],ge=f.dense?g[D][P]:g[ya(P)+re],ge.f=oi(Ee[1],p,{r:T.r,c:P},Y,f);break;case 60:if(!f.cellStyles)break;for(;Ee.e>=Ee.s;)K[Ee.e--]={width:Ee.w/256,hidden:!!(Ee.flags&1),level:Ee.level},xe||(xe=!0,$w(Ee.w/256)),D0(K[Ee.e+1]);break;case 161:g["!autofilter"]={ref:Dr(Ee)};break;case 476:g["!margins"]=Ee;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),Ee.name&&(a.Sheets[r].CodeName=Ee.name),(Ee.above||Ee.left)&&(g["!outline"]={above:Ee.above,left:Ee.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),Ee.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:y=!0;break;case 36:y=!1;break;case 37:y=!0;break;case 38:y=!1;break;default:if(!$e.T){if(!y||f.WTF)throw new Error("Unexpected record 0x"+Ae.toString(16))}}},f),delete f.supbooks,delete f["!row"],!g["!ref"]&&(p.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(g["!ref"]=Dr(h||p)),f.sheetRows&&g["!ref"]){var ue=Xn(g["!ref"]);f.sheetRows<=+ue.e.r&&(ue.e.r=f.sheetRows-1,ue.e.r>p.e.r&&(ue.e.r=p.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>p.e.c&&(ue.e.c=p.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Dr(ue))}return z.length>0&&(g["!merges"]=z),K.length>0&&(g["!cols"]=K),Ie.length>0&&(g["!rows"]=Ie),g}function Pj(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var l=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=r?+l[2]:l[2])});var a=Mr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,a,n]}function jj(t,e,r,n,a,s){var l=s||{"!type":"chart"};if(!t)return s;var f=0,g=0,h="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(y){var B=Pj(y);p.s.r=p.s.c=0,p.e.c=f,h=ya(f),B[0].forEach(function(T,S){l[h+qa(S)]={t:"n",v:T,z:B[1]},g=S}),p.e.r<g&&(p.e.r=g),++f}),f>0&&(l["!ref"]=Dr(p)),l}function Hj(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l,f=t.match(wI);return f&&tv(f[0],s,a,r),(l=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=l[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Vj(t,e){t.l+=10;var r=fi(t);return{name:r}}function Gj(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l=!1;return ho(t,function(g,h,p){switch(p){case 550:s["!rel"]=g;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),g.name&&(a.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var yI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Kj=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zj=[],Xj=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function a4(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var s=e[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Fn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function i4(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Fn(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function EI(t){i4(t.WBProps,yI),i4(t.CalcPr,Xj),a4(t.WBView,Kj),a4(t.Sheets,zj),_0.date1904=Fn(t.WBProps.date1904)}var Wj="][*?/\\".split("");function Yj(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Wj.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var qj=/<\w+:workbook/;function Zj(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},l=0;if(t.replace(di,function(g,h){var p=Zt(g);switch(TA(p[0])){case"<?xml":break;case"<workbook":g.match(qj)&&(a="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=p[a];break;case"</workbook>":break;case"<fileVersion":delete p[0],r.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":yI.forEach(function(y){if(p[y[0]]!=null)switch(y[2]){case"bool":r.WBProps[y[0]]=Fn(p[y[0]]);break;case"int":r.WBProps[y[0]]=parseInt(p[y[0]],10);break;default:r.WBProps[y[0]]=p[y[0]]}}),p.codeName&&(r.WBProps.CodeName=pn(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],r.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Mr(pn(p.name)),delete p[0],r.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=pn(p.name),p.comment&&(s.Comment=p.comment),p.localSheetId&&(s.Sheet=+p.localSheetId),Fn(p.hidden||"0")&&(s.Hidden=!0),l=h+g.length;break;case"</definedName>":s.Ref=Mr(pn(t.slice(l,h))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete p[0],r.CalcPr=p;break;case"<calcPr/>":delete p[0],r.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return g}),gM.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return EI(r),r}function Jj(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Q2(t),r.name=fi(t),r}function $j(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?fi(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function eH(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function tH(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),s=DM(t),l=QP(t,0,r),f=Ww(t);t.l=n;var g={Name:s,Ptg:l};return a<268435455&&(g.Sheet=a),f&&(g.Comment=f),g}function rH(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var s=[],l=[[]];return l.SheetNames=[],l.XTI=[],_g[16]={n:"BrtFRTArchID$",f:eH},ho(t,function(g,h,p){switch(p){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(e.SID=g.Sheet),g.Ref=oi(g.Ptg,null,null,l,e),delete e.SID,delete g.Ptg,s.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([p,g]):l[0]=[p,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(p),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(p),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!h.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),EI(r),r.Names=s,r.supbooks=l,r}function nH(t,e,r){return e.slice(-4)===".bin"?rH(t,r):Zj(t,r)}function aH(t,e,r,n,a,s,l,f){return e.slice(-4)===".bin"?Lj(t,n,r,a,s,l,f):JP(t,n,r,a,s,l,f)}function iH(t,e,r,n,a,s,l,f){return e.slice(-4)===".bin"?Gj(t,n,r,a,s):Hj(t,n,r,a,s)}function sH(t,e,r,n,a,s,l,f){return e.slice(-4)===".bin"?dL():gL()}function AH(t,e,r,n,a,s,l,f){return e.slice(-4)===".bin"?fL():hL()}function oH(t,e,r,n){return e.slice(-4)===".bin"?IQ(t,r,n):BQ(t,r,n)}function lH(t,e,r){return oI(t,r)}function cH(t,e,r){return e.slice(-4)===".bin"?K7(t,r):V7(t,r)}function uH(t,e,r){return e.slice(-4)===".bin"?lL(t,r):aL(t,r)}function fH(t,e,r){return e.slice(-4)===".bin"?tL(t):$Q(t)}function hH(t,e,r,n){return r.slice(-4)===".bin"?rL(t,e,r,n):void 0}function dH(t,e,r){return e.slice(-4)===".bin"?ZQ(t,e,r):JQ(t,e,r)}var BI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,CI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ys(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(BI),s,l,f,g;if(a)for(g=0;g!=a.length;++g)s=a[g].match(CI),(l=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?f="xmlns"+s[1].slice(6):f=s[1].slice(l+1),n[f]=s[2].slice(1,s[2].length-1));return n}function gH(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(BI),a,s,l,f;if(n)for(f=0;f!=n.length;++f)a=n[f].match(CI),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?l="xmlns"+a[1].slice(6):l=a[1].slice(s+1),r[l]=a[2].slice(1,a[2].length-1));return r}var Cf;function xH(t,e){var r=Cf[t]||Mr(t);return r==="General"?sc(e):Ps(r,e)}function pH(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Fn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ra(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Mr(e)]=a}function mH(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||vc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kf(t.v):t.w=sc(t.v):t.w=xH(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=Cf[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&H0(n)){var a=Zl(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function wH(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=pQ[n.Pattern]||n.Pattern)}t[e.ID]=e}function vH(t,e,r,n,a,s,l,f,g,h){var p="General",y=n.StyleID,B={};h=h||{};var T=[],S=0;for(y===void 0&&f&&(y=f.StyleID),y===void 0&&l&&(y=l.StyleID);s[y]!==void 0&&(s[y].nf&&(p=s[y].nf),s[y].Interior&&T.push(s[y].Interior),!!s[y].Parent);)y=s[y].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Fn(t);break;case"String":n.t="s",n.r=Tb(Mr(t)),n.v=t.indexOf("<")>-1?Mr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ra(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Mr(t):n.v<60&&(n.v=n.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=PS[t],h.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=Tb(e||t));break}if(mH(n,p,h),h.cellFormula!==!1)if(n.Formula){var F=Mr(n.Formula);F.charCodeAt(0)==61&&(F=F.slice(1)),n.f=b0(F,a),delete n.Formula,n.ArrayRange=="RC"?n.F=b0("RC:RC",a):n.ArrayRange&&(n.F=b0(n.ArrayRange,a),g.push([Xn(n.F),n.F]))}else for(S=0;S<g.length;++S)a.r>=g[S][0].s.r&&a.r<=g[S][0].e.r&&a.c>=g[S][0].s.c&&a.c<=g[S][0].e.c&&(n.F=g[S][1]);h.cellStyles&&(T.forEach(function(D){!B.patternType&&D.patternType&&(B.patternType=D.patternType)}),n.s=B),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yH(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Ym(t,e){var r=e||{};fS();var n=tf(Vw(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=pn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var l=Ya(r);return l.type="string",Qf.to_workbook(n,l)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ct){a.indexOf("<"+Ct)>=0&&(s=!0)}),s)return FH(n,r);Cf={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var f,g=[],h,p={},y=[],B=r.dense?[]:{},T="",S={},F={},D=Ys('<Data ss:Type="String">'),P=0,V=0,j=0,re={s:{r:2e6,c:2e6},e:{r:0,c:0}},ge={},z={},O="",M=0,k=[],Z={},Y={},G=0,K=[],Ie=[],xe={},ie=[],ue,Ve=!1,Ee=[],$e=[],Ae={},q=0,pe=0,se={Sheets:[],WBProps:{date1904:!1}},me={};Mf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Ce="";f=Mf.exec(n);)switch(f[3]=(Ce=f[3]).toLowerCase()){case"data":if(Ce=="data"){if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&g.push([f[3],!0]);break}if(g[g.length-1][1])break;f[1]==="/"?vH(n.slice(P,f.index),O,D,g[g.length-1][0]=="comment"?xe:S,{c:V,r:j},ge,ie[V],F,Ee,r):(O="",D=Ys(f[0]),P=f.index+f[0].length);break;case"cell":if(f[1]==="/")if(Ie.length>0&&(S.c=Ie),(!r.sheetRows||r.sheetRows>j)&&S.v!==void 0&&(r.dense?(B[j]||(B[j]=[]),B[j][V]=S):B[ya(V)+qa(j)]=S),S.HRef&&(S.l={Target:Mr(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(q=V+(parseInt(S.MergeAcross,10)|0),pe=j+(parseInt(S.MergeDown,10)|0),k.push({s:{c:V,r:j},e:{c:q,r:pe}})),!r.sheetStubs)S.MergeAcross?V=q+1:++V;else if(S.MergeAcross||S.MergeDown){for(var ze=V;ze<=q;++ze)for(var ye=j;ye<=pe;++ye)(ze>V||ye>j)&&(r.dense?(B[ye]||(B[ye]=[]),B[ye][ze]={t:"z"}):B[ya(ze)+qa(ye)]={t:"z"});V=q+1}else++V;else S=gH(f[0]),S.Index&&(V=+S.Index-1),V<re.s.c&&(re.s.c=V),V>re.e.c&&(re.e.c=V),f[0].slice(-2)==="/>"&&++V,Ie=[];break;case"row":f[1]==="/"||f[0].slice(-2)==="/>"?(j<re.s.r&&(re.s.r=j),j>re.e.r&&(re.e.r=j),f[0].slice(-2)==="/>"&&(F=Ys(f[0]),F.Index&&(j=+F.Index-1)),V=0,++j):(F=Ys(f[0]),F.Index&&(j=+F.Index-1),Ae={},(F.AutoFitHeight=="0"||F.Height)&&(Ae.hpx=parseInt(F.Height,10),Ae.hpt=AI(Ae.hpx),$e[j]=Ae),F.Hidden=="1"&&(Ae.hidden=!0,$e[j]=Ae));break;case"worksheet":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"));y.push(T),re.s.r<=re.e.r&&re.s.c<=re.e.c&&(B["!ref"]=Dr(re),r.sheetRows&&r.sheetRows<=re.e.r&&(B["!fullref"]=B["!ref"],re.e.r=r.sheetRows-1,B["!ref"]=Dr(re))),k.length&&(B["!merges"]=k),ie.length>0&&(B["!cols"]=ie),$e.length>0&&(B["!rows"]=$e),p[T]=B}else re={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=V=0,g.push([f[3],!1]),h=Ys(f[0]),T=Mr(h.Name),B=r.dense?[]:{},k=[],Ee=[],$e=[],me={name:T,Hidden:0},se.Sheets.push(me);break;case"table":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else{if(f[0].slice(-2)=="/>")break;g.push([f[3],!1]),ie=[],Ve=!1}break;case"style":f[1]==="/"?wH(ge,z,r):z=Ys(f[0]);break;case"numberformat":z.nf=Mr(Ys(f[0]).Format||"General"),Cf[z.nf]&&(z.nf=Cf[z.nf]);for(var ae=0;ae!=392&&ur[ae]!=z.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(ur[ae]==null){rc(z.nf,ae);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(ue=Ys(f[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!Ve&&ue.wpx>10){Ve=!0,Ei=iI;for(var _e=0;_e<ie.length;++_e)ie[_e]&&D0(ie[_e])}Ve&&D0(ue),ie[ue.Index-1||ie.length]=ue;for(var Re=0;Re<+ue.Span;++Re)ie[ie.length]=Ya(ue);break;case"namedrange":if(f[1]==="/")break;se.Names||(se.Names=[]);var fe=Zt(f[0]),yt={Name:fe.Name,Ref:b0(fe.RefersTo.slice(1),{r:0,c:0})};se.Sheets.length>0&&(yt.Sheet=se.Sheets.length-1),se.Names.push(yt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(f[0].slice(-2)==="/>")break;f[1]==="/"?O+=n.slice(M,f.index):M=f.index+f[0].length;break;case"interior":if(!r.cellStyles)break;z.Interior=Ys(f[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(f[0].slice(-2)==="/>")break;f[1]==="/"?a9(Z,Ce,n.slice(G,f.index)):G=f.index+f[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else g.push([f[3],!1]);break;case"comment":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"));yH(xe),Ie.push(xe)}else g.push([f[3],!1]),h=Ys(f[0]),xe={a:h.Author};break;case"autofilter":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else if(f[0].charAt(f[0].length-2)!=="/"){var _t=Ys(f[0]);B["!autofilter"]={ref:b0(_t.Range).replace(/\$/g,"")},g.push([f[3],!0])}break;case"name":break;case"datavalidation":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&g.push([f[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(f[1]==="/"){if((h=g.pop())[0]!==f[3])throw new Error("Bad state: "+h.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&g.push([f[3],!0]);break;case"null":break;default:if(g.length==0&&f[3]=="document"||g.length==0&&f[3]=="uof")return u4(n,r);var et=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(f[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:et=!1}break;case"componentoptions":switch(f[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:et=!1}break;case"excelworkbook":switch(f[3]){case"date1904":se.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:et=!1}break;case"workbookoptions":switch(f[3]){case"owcversion":break;case"height":break;case"width":break;default:et=!1}break;case"worksheetoptions":switch(f[3]){case"visible":if(f[0].slice(-2)!=="/>")if(f[1]==="/")switch(n.slice(G,f.index)){case"SheetHidden":me.Hidden=1;break;case"SheetVeryHidden":me.Hidden=2;break}else G=f.index+f[0].length;break;case"header":B["!margins"]||Bf(B["!margins"]={},"xlml"),isNaN(+Zt(f[0]).Margin)||(B["!margins"].header=+Zt(f[0]).Margin);break;case"footer":B["!margins"]||Bf(B["!margins"]={},"xlml"),isNaN(+Zt(f[0]).Margin)||(B["!margins"].footer=+Zt(f[0]).Margin);break;case"pagemargins":var gt=Zt(f[0]);B["!margins"]||Bf(B["!margins"]={},"xlml"),isNaN(+gt.Top)||(B["!margins"].top=+gt.Top),isNaN(+gt.Left)||(B["!margins"].left=+gt.Left),isNaN(+gt.Right)||(B["!margins"].right=+gt.Right),isNaN(+gt.Bottom)||(B["!margins"].bottom=+gt.Bottom);break;case"displayrighttoleft":se.Views||(se.Views=[]),se.Views[0]||(se.Views[0]={}),se.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":B["!outline"]||(B["!outline"]={}),B["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":B["!outline"]||(B["!outline"]={}),B["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:et=!1}break;case"pivottable":case"pivotcache":switch(f[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:et=!1}break;case"pagebreaks":switch(f[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:et=!1}break;case"autofilter":switch(f[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:et=!1}break;case"querytable":switch(f[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:et=!1}break;case"datavalidation":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:et=!1}break;case"sorting":case"conditionalformatting":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:et=!1}break;case"mapinfo":case"schema":case"data":switch(f[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:et=!1}break;case"smarttags":break;default:et=!1;break}if(et||f[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+f[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(f[0].slice(-2)==="/>")break;f[1]==="/"?pH(Y,Ce,K,n.slice(G,f.index)):(K=f,G=f.index+f[0].length);break}if(r.WTF)throw"Unrecognized tag: "+f[3]+"|"+g.join("|")}var rt={};return!r.bookSheets&&!r.bookProps&&(rt.Sheets=p),rt.SheetNames=y,rt.Workbook=se,rt.SSF=Ya(ur),rt.Props=Z,rt.Custprops=Y,rt}function H2(t,e){switch(av(e=e||{}),e.type||"base64"){case"base64":return Ym(xs(t),e);case"binary":case"buffer":case"file":return Ym(t,e);case"array":return Ym(pc(t),e)}}function EH(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=UM(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=MM(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var BH=[60,1084,2066,2165,2175];function CH(t,e,r,n,a){var s=n,l=[],f=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&f.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(f)}l.push(f),r.l+=s;for(var g=no(r,r.l),h=V2[g],p=0;h!=null&&BH.indexOf(g)>-1;)s=no(r,r.l+2),p=r.l+4,g==2066?p+=4:(g==2165||g==2175)&&(p+=12),f=r.slice(p,r.l+4+s),l.push(f),r.l+=4+s,h=V2[g=no(r,r.l)];var y=Yo(l);za(y,0);var B=0;y.lens=[];for(var T=0;T<l.length;++T)y.lens.push(B),B+=l[T].length;if(y.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+y.length+" < "+n;return e.f(y,y.length,a)}function gA(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=ur[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||vc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=kf(t.v):t.w=sc(t.v):t.w=Ps(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&H0(ur[n]||String(n))){var a=Zl(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function n1(t,e,r){return{v:t,ixfe:e,t:r}}function bH(t,e){var r={opts:{}},n={},a=e.dense?[]:{},s={},l={},f=null,g=[],h="",p={},y,B="",T,S,F,D,P={},V=[],j,re,ge=[],z=[],O={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},k=function(Tt){return Tt<8?nc[Tt]:Tt<64&&z[Tt-8]||nc[Tt]},Z=function(Tt,qt,Qr){var Mt=qt.XF.data;if(!(!Mt||!Mt.patternType||!Qr||!Qr.cellStyles)){qt.s={},qt.s.patternType=Mt.patternType;var At;(At=Lf(k(Mt.icvFore)))&&(qt.s.fgColor={rgb:At}),(At=Lf(k(Mt.icvBack)))&&(qt.s.bgColor={rgb:At})}},Y=function(Tt,qt,Qr){if(!(Ae>1)&&!(Qr.sheetRows&&Tt.r>=Qr.sheetRows)){if(Qr.cellStyles&&qt.XF&&qt.XF.data&&Z(Tt,qt,Qr),delete qt.ixfe,delete qt.XF,y=Tt,B=sr(Tt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),Tt.r<l.s.r&&(l.s.r=Tt.r),Tt.c<l.s.c&&(l.s.c=Tt.c),Tt.r+1>l.e.r&&(l.e.r=Tt.r+1),Tt.c+1>l.e.c&&(l.e.c=Tt.c+1),Qr.cellFormula&&qt.f){for(var Mt=0;Mt<V.length;++Mt)if(!(V[Mt][0].s.c>Tt.c||V[Mt][0].s.r>Tt.r)&&!(V[Mt][0].e.c<Tt.c||V[Mt][0].e.r<Tt.r)){qt.F=Dr(V[Mt][0]),(V[Mt][0].s.c!=Tt.c||V[Mt][0].s.r!=Tt.r)&&delete qt.f,qt.f&&(qt.f=""+oi(V[Mt][1],l,Tt,Ee,G));break}}Qr.dense?(a[Tt.r]||(a[Tt.r]=[]),a[Tt.r][Tt.c]=qt):a[B]=qt}},G={enc:!1,sbcch:0,snames:[],sharedf:P,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(G.password=e.password);var K,Ie=[],xe=[],ie=[],ue=[],Ve=!1,Ee=[];Ee.SheetNames=G.snames,Ee.sharedf=G.sharedf,Ee.arrayf=G.arrayf,Ee.names=[],Ee.XTI=[];var $e=0,Ae=0,q=0,pe=[],se=[],me;G.codepage=1200,tA(1200);for(var Ce=!1;t.l<t.length-1;){var ze=t.l,ye=t.read_shift(2);if(ye===0&&$e===10)break;var ae=t.l===t.length?0:t.read_shift(2),_e=V2[ye];if(_e&&_e.f){if(e.bookSheets&&$e===133&&ye!==133)break;if($e=ye,_e.r===2||_e.r==12){var Re=t.read_shift(2);if(ae-=2,!G.enc&&Re!==ye&&((Re&255)<<8|Re>>8)!==ye)throw new Error("rt mismatch: "+Re+"!="+ye);_e.r==12&&(t.l+=10,ae-=10)}var fe={};if(ye===10?fe=_e.f(t,ae,G):fe=CH(ye,_e,t,ae,G),Ae==0&&[9,521,1033,2057].indexOf($e)===-1)continue;switch(ye){case 34:r.opts.Date1904=O.WBProps.date1904=fe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(G.enc||(t.l=0),G.enc=fe,!e.password)throw new Error("File is password-protected");if(fe.valid==null)throw new Error("Encryption scheme unsupported");if(!fe.valid)throw new Error("Password is incorrect");break;case 92:G.lastuser=fe;break;case 66:var yt=Number(fe);switch(yt){case 21010:yt=1200;break;case 32768:yt=1e4;break;case 32769:yt=1252;break}tA(G.codepage=yt),Ce=!0;break;case 317:G.rrtabid=fe;break;case 25:G.winlocked=fe;break;case 439:r.opts.RefreshAll=fe;break;case 12:r.opts.CalcCount=fe;break;case 16:r.opts.CalcDelta=fe;break;case 17:r.opts.CalcIter=fe;break;case 13:r.opts.CalcMode=fe;break;case 14:r.opts.CalcPrecision=fe;break;case 95:r.opts.CalcSaveRecalc=fe;break;case 15:G.CalcRefMode=fe;break;case 2211:r.opts.FullCalc=fe;break;case 129:fe.fDialog&&(a["!type"]="dialog"),fe.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),fe.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:ge.push(fe);break;case 430:Ee.push([fe]),Ee[Ee.length-1].XTI=[];break;case 35:case 547:Ee[Ee.length-1].push(fe);break;case 24:case 536:me={Name:fe.Name,Ref:oi(fe.rgce,l,null,Ee,G)},fe.itab>0&&(me.Sheet=fe.itab-1),Ee.names.push(me),Ee[0]||(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].push(fe),fe.Name=="_xlnm._FilterDatabase"&&fe.itab>0&&fe.rgce&&fe.rgce[0]&&fe.rgce[0][0]&&fe.rgce[0][0][0]=="PtgArea3d"&&(se[fe.itab-1]={ref:Dr(fe.rgce[0][0][1][2])});break;case 22:G.ExternCount=fe;break;case 23:Ee.length==0&&(Ee[0]=[],Ee[0].XTI=[]),Ee[Ee.length-1].XTI=Ee[Ee.length-1].XTI.concat(fe),Ee.XTI=Ee.XTI.concat(fe);break;case 2196:if(G.biff<8)break;me!=null&&(me.Comment=fe[1]);break;case 18:a["!protect"]=fe;break;case 19:fe!==0&&G.WTF&&console.error("Password verifier: "+fe);break;case 133:s[fe.pos]=fe,G.snames.push(fe.name);break;case 10:{if(--Ae)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,a["!ref"]=Dr(l),e.sheetRows&&e.sheetRows<=l.e.r){var _t=l.e.r;l.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Dr(l),l.e.r=_t}l.e.r++,l.e.c++}Ie.length>0&&(a["!merges"]=Ie),xe.length>0&&(a["!objects"]=xe),ie.length>0&&(a["!cols"]=ie),ue.length>0&&(a["!rows"]=ue),O.Sheets.push(M)}h===""?p=a:n[h]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(G.biff===8&&(G.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[fe.BIFFVer]||8),G.biffguess=fe.BIFFVer==0,fe.BIFFVer==0&&fe.dt==4096&&(G.biff=5,Ce=!0,tA(G.codepage=28591)),G.biff==8&&fe.BIFFVer==0&&fe.dt==16&&(G.biff=2),Ae++)break;if(a=e.dense?[]:{},G.biff<8&&!Ce&&(Ce=!0,tA(G.codepage=e.codepage||1252)),G.biff<5||fe.BIFFVer==0&&fe.dt==4096){h===""&&(h="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var et={pos:t.l-ae,name:h};s[et.pos]=et,G.snames.push(h)}else h=(s[ze]||{name:""}).name;fe.dt==32&&(a["!type"]="chart"),fe.dt==64&&(a["!type"]="macro"),Ie=[],xe=[],G.arrayf=V=[],ie=[],ue=[],Ve=!1,M={Hidden:(s[ze]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[fe.r]||[])[fe.c]:a[sr({c:fe.c,r:fe.r})])&&++fe.c,j={ixfe:fe.ixfe,XF:ge[fe.ixfe]||{},v:fe.val,t:"n"},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e);break;case 5:case 517:j={ixfe:fe.ixfe,XF:ge[fe.ixfe],v:fe.val,t:fe.t},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e);break;case 638:j={ixfe:fe.ixfe,XF:ge[fe.ixfe],v:fe.rknum,t:"n"},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e);break;case 189:for(var gt=fe.c;gt<=fe.C;++gt){var rt=fe.rkrec[gt-fe.c][0];j={ixfe:rt,XF:ge[rt],v:fe.rkrec[gt-fe.c][1],t:"n"},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:gt,r:fe.r},j,e)}break;case 6:case 518:case 1030:{if(fe.val=="String"){f=fe;break}if(j=n1(fe.val,fe.cell.ixfe,fe.tt),j.XF=ge[j.ixfe],e.cellFormula){var Ct=fe.formula;if(Ct&&Ct[0]&&Ct[0][0]&&Ct[0][0][0]=="PtgExp"){var kt=Ct[0][0][1][0],mr=Ct[0][0][1][1],vt=sr({r:kt,c:mr});P[vt]?j.f=""+oi(fe.formula,l,fe.cell,Ee,G):j.F=((e.dense?(a[kt]||[])[mr]:a[vt])||{}).F}else j.f=""+oi(fe.formula,l,fe.cell,Ee,G)}q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y(fe.cell,j,e),f=fe}break;case 7:case 519:if(f)f.val=fe,j=n1(fe,f.cell.ixfe,"s"),j.XF=ge[j.ixfe],e.cellFormula&&(j.f=""+oi(f.formula,l,f.cell,Ee,G)),q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y(f.cell,j,e),f=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(fe);var Ca=sr(fe[0].s);if(T=e.dense?(a[fe[0].s.r]||[])[fe[0].s.c]:a[Ca],e.cellFormula&&T){if(!f||!Ca||!T)break;T.f=""+oi(fe[1],l,fe[0],Ee,G),T.F=Dr(fe[0])}}break;case 1212:{if(!e.cellFormula)break;if(B){if(!f)break;P[sr(f.cell)]=fe[0],T=e.dense?(a[f.cell.r]||[])[f.cell.c]:a[sr(f.cell)],(T||{}).f=""+oi(fe[0],l,y,Ee,G)}}break;case 253:j=n1(g[fe.isst].t,fe.ixfe,"s"),g[fe.isst].h&&(j.h=g[fe.isst].h),j.XF=ge[j.ixfe],q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e);break;case 513:e.sheetStubs&&(j={ixfe:fe.ixfe,XF:ge[fe.ixfe],t:"z"},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e));break;case 190:if(e.sheetStubs)for(var Wn=fe.c;Wn<=fe.C;++Wn){var tr=fe.ixfe[Wn-fe.c];j={ixfe:tr,XF:ge[tr],t:"z"},q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:Wn,r:fe.r},j,e)}break;case 214:case 516:case 4:j=n1(fe.val,fe.ixfe,"s"),j.XF=ge[j.ixfe],q>0&&(j.z=pe[j.ixfe>>8&63]),gA(j,e,r.opts.Date1904),Y({c:fe.c,r:fe.r},j,e);break;case 0:case 512:Ae===1&&(l=fe);break;case 252:g=fe;break;case 1054:if(G.biff==4){pe[q++]=fe[1];for(var Cn=0;Cn<q+163&&ur[Cn]!=fe[1];++Cn);Cn>=163&&rc(fe[1],q+163)}else rc(fe[1],fe[0]);break;case 30:{pe[q++]=fe;for(var Jt=0;Jt<q+163&&ur[Jt]!=fe;++Jt);Jt>=163&&rc(fe,q+163)}break;case 229:Ie=Ie.concat(fe);break;case 93:xe[fe.cmo[0]]=G.lastobj=fe;break;case 438:G.lastobj.TxO=fe;break;case 127:G.lastobj.ImData=fe;break;case 440:for(D=fe[0].s.r;D<=fe[0].e.r;++D)for(F=fe[0].s.c;F<=fe[0].e.c;++F)T=e.dense?(a[D]||[])[F]:a[sr({c:F,r:D})],T&&(T.l=fe[1]);break;case 2048:for(D=fe[0].s.r;D<=fe[0].e.r;++D)for(F=fe[0].s.c;F<=fe[0].e.c;++F)T=e.dense?(a[D]||[])[F]:a[sr({c:F,r:D})],T&&T.l&&(T.l.Tooltip=fe[1]);break;case 28:{if(G.biff<=5&&G.biff>=2)break;T=e.dense?(a[fe[0].r]||[])[fe[0].c]:a[sr(fe[0])];var Vr=xe[fe[2]];T||(e.dense?(a[fe[0].r]||(a[fe[0].r]=[]),T=a[fe[0].r][fe[0].c]={t:"z"}):T=a[sr(fe[0])]={t:"z"},l.e.r=Math.max(l.e.r,fe[0].r),l.s.r=Math.min(l.s.r,fe[0].r),l.e.c=Math.max(l.e.c,fe[0].c),l.s.c=Math.min(l.s.c,fe[0].c)),T.c||(T.c=[]),S={a:fe[1],t:Vr.TxO.t},T.c.push(S)}break;case 2173:XQ(ge[fe.ixfe],fe.ext);break;case 125:{if(!G.cellStyles)break;for(;fe.e>=fe.s;)ie[fe.e--]={width:fe.w/256,level:fe.level||0,hidden:!!(fe.flags&1)},Ve||(Ve=!0,$w(fe.w/256)),D0(ie[fe.e+1])}break;case 520:{var Ze={};fe.level!=null&&(ue[fe.r]=Ze,Ze.level=fe.level),fe.hidden&&(ue[fe.r]=Ze,Ze.hidden=!0),fe.hpt&&(ue[fe.r]=Ze,Ze.hpt=fe.hpt,Ze.hpx=Pf(fe.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Bf(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=fe;break;case 161:a["!margins"]||Bf(a["!margins"]={}),a["!margins"].header=fe.header,a["!margins"].footer=fe.footer;break;case 574:fe.RTL&&(O.Views[0].RTL=!0);break;case 146:z=fe;break;case 2198:K=fe;break;case 140:re=fe;break;case 442:h?M.CodeName=fe||M.name:O.WBProps.CodeName=fe||"ThisWorkbook";break}}else _e||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),t.l+=ae}return r.SheetNames=EA(s).sort(function(Nt,Tt){return Number(Nt)-Number(Tt)}).map(function(Nt){return s[Nt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&p["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=p)):r.Preamble=p,r.Sheets&&se.forEach(function(Nt,Tt){r.Sheets[r.SheetNames[Tt]]["!autofilter"]=Nt}),r.Strings=g,r.SSF=Ya(ur),G.enc&&(r.Encryption=G.enc),K&&(r.Themes=K),r.Metadata={},re!==void 0&&(r.Metadata.Country=re),Ee.names.length>0&&(O.Names=Ee.names),r.Workbook=O,r}var s4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _H(t,e,r){var n=Rr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Vb(n,VM,s4.DSI);for(var s in a)e[s]=a[s]}catch(h){if(r.WTF)throw h}var l=Rr.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var f=Vb(l,GM,s4.SI);for(var g in f)e[g]==null&&(e[g]=f[g])}catch(h){if(r.WTF)throw h}e.HeadingPairs&&e.TitlesOfParts&&(HS(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function bI(t,e){e||(e={}),av(e),eS(),e.codepage&&Uw(e.codepage);var r,n;if(t.FullPaths){if(Rr.find(t,"/encryption"))throw new Error("File is password-protected");r=Rr.find(t,"!CompObj"),n=Rr.find(t,"/Workbook")||Rr.find(t,"/Book")}else{switch(e.type){case"base64":t=eA(xs(t));break;case"binary":t=eA(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}za(t,0),n={content:t}}var a,s;if(r&&EH(r),e.bookProps&&!e.bookSheets)a={};else{var l=Sr?"buffer":"array";if(n&&n.content)a=bH(n.content,e);else if((s=Rr.find(t,"PerfectOffice_MAIN"))&&s.content)a=yf.to_workbook(s.content,(e.type=l,e));else if((s=Rr.find(t,"NativeContent_MAIN"))&&s.content)a=yf.to_workbook(s.content,(e.type=l,e));else throw(s=Rr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Rr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=uL(t))}var f={};return t.FullPaths&&_H(t,f,e),a.Props=a.Custprops=f,e.bookFiles&&(a.cfb=t),a}var _g={0:{f:Aj},1:{f:uj},2:{f:vj},3:{f:gj},4:{f:hj},5:{f:wj},6:{f:Bj},7:{f:pj},8:{f:Sj},9:{f:Tj},10:{f:bj},11:{f:_j},12:{f:fj},13:{f:yj},14:{f:xj},15:{f:dj},16:{f:vI},17:{f:Cj},18:{f:mj},19:{f:Xw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tH},40:{},42:{},43:{f:bQ},44:{f:CQ},45:{f:_Q},46:{f:SQ},47:{f:TQ},48:{},49:{f:IM},50:{},51:{f:YQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eI},62:{f:Ej},63:{f:eL},64:{f:Mj},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Uj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cj},148:{f:oj,p:16},151:{f:Nj},152:{},153:{f:$j},154:{},155:{},156:{f:Jj},157:{},158:{},159:{T:1,f:G7},160:{T:-1},161:{T:1,f:wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ij},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:WQ},336:{T:-1},337:{f:qQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Q2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$S},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Rj},427:{f:Dj},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:kj},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lj},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fj},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Q2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oL},633:{T:1},634:{T:-1},635:{T:1,f:AL},636:{T:-1},637:{f:NM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Vj},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qj},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},V2={6:{f:Xm},10:{f:jo},12:{f:fa},13:{f:fa},14:{f:ta},15:{f:ta},16:{f:ci},17:{f:ta},18:{f:ta},19:{f:fa},20:{f:Xb},21:{f:Xb},23:{f:$S},24:{f:Yb},25:{f:ta},26:{},27:{},28:{f:i7},29:{},34:{f:ta},35:{f:Wb},38:{f:ci},39:{f:ci},40:{f:ci},41:{f:ci},42:{f:ta},43:{f:ta},47:{f:lQ},49:{f:P9},51:{f:fa},60:{},61:{f:M9},64:{f:ta},65:{f:L9},66:{f:fa},77:{},80:{},81:{},82:{},85:{f:fa},89:{},90:{},91:{},92:{f:I9},93:{f:A7},94:{},95:{f:ta},96:{},97:{},99:{f:ta},125:{f:eI},128:{f:q9},129:{f:F9},130:{f:fa},131:{f:ta},132:{f:ta},133:{f:N9},134:{},140:{f:h7},141:{f:fa},144:{},146:{f:g7},151:{},152:{},153:{},154:{},155:{},156:{f:fa},157:{},158:{},160:{f:v7},161:{f:p7},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:z9},190:{f:X9},193:{f:jo},197:{},198:{},199:{},200:{},201:{},202:{f:ta},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fa},220:{},221:{f:ta},222:{},224:{f:Y9},225:{f:S9},226:{f:jo},227:{},229:{f:s7},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:R9},253:{f:j9},255:{f:D9},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:XS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ta},353:{f:jo},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:J9},431:{f:ta},432:{},433:{},434:{},437:{},438:{f:c7},439:{f:ta},440:{f:u7},441:{},442:{f:rh},443:{},444:{f:fa},445:{},446:{},448:{f:jo},449:{f:U9,r:2},450:{f:jo},512:{f:Kb},513:{f:w7},515:{f:Z9},516:{f:H9},517:{f:zb},519:{f:y7},520:{f:O9},523:{},545:{f:qb},549:{f:Gb},566:{},574:{f:Q9},638:{f:K9},659:{},1048:{},1054:{f:V9},1084:{},1212:{f:r7},2048:{f:f7},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:e1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:jo},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:x7,r:12},2173:{f:zQ,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ta,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:t7,r:12},2197:{},2198:{f:PQ,r:12},2199:{},2200:{},2201:{},2202:{f:n7,r:12},2203:{f:jo},2204:{},2205:{},2206:{},2207:{},2211:{f:k9},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:m7},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:d7},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Kb},1:{},2:{f:b7},3:{f:C7},4:{f:B7},5:{f:zb},7:{f:_7},8:{},9:{f:e1},11:{},22:{f:fa},30:{f:G9},31:{},32:{},33:{f:qb},36:{},37:{f:Gb},50:{f:T7},62:{},52:{},67:{},68:{f:fa},69:{},86:{},126:{},127:{f:E7},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:S7},223:{},234:{},354:{},421:{},518:{f:Xm},521:{f:e1},536:{f:Yb},547:{f:Wb},561:{},579:{},1030:{f:Xm},1033:{f:e1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function qs(t,e,r,n){var a=e;if(!isNaN(a)){var s=(r||[]).length||0,l=t.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&OS(r)&&t.push(r)}}function A4(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),l=a.index,f=s&&s.index||t.length,g=ZU(t.slice(l,f),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,p=0,y=0,B=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(l=0;l<g.length;++l){var F=g[l].trim(),D=F.slice(0,3).toLowerCase();if(D=="<tr"){if(++h,r.sheetRows&&r.sheetRows<=h){--h;break}p=0;continue}if(!(D!="<td"&&D!="<th")){var P=F.split(/<\/t[dh]>/i);for(f=0;f<P.length;++f){var V=P[f].trim();if(V.match(/<t[dh]/i)){for(var j=V,re=0;j.charAt(0)=="<"&&(re=j.indexOf(">"))>-1;)j=j.slice(re+1);for(var ge=0;ge<S.length;++ge){var z=S[ge];z.s.c==p&&z.s.r<h&&h<=z.e.r&&(p=z.e.c+1,ge=-1)}var O=Zt(V.slice(0,V.indexOf(">")));B=O.colspan?+O.colspan:1,((y=+O.rowspan)>1||B>1)&&S.push({s:{r:h,c:p},e:{r:h+(y||1)-1,c:p+B-1}});var M=O.t||O["data-t"]||"";if(!j.length){p+=B;continue}if(j=yS(j),T.s.r>h&&(T.s.r=h),T.e.r<h&&(T.e.r=h),T.s.c>p&&(T.s.c=p),T.e.c<p&&(T.e.c=p),!j.length){p+=B;continue}var k={t:"s",v:j};r.raw||!j.trim().length||M=="s"||(j==="TRUE"?k={t:"b",v:!0}:j==="FALSE"?k={t:"b",v:!1}:isNaN(nA(j))?isNaN(R0(j).getDate())||(k={t:"d",v:Ra(j)},r.cellDates||(k={t:"n",v:_i(k.v)}),k.z=r.dateNF||ur[14]):k={t:"n",v:nA(j)}),r.dense?(n[h]||(n[h]=[]),n[h][p]=k):n[sr({r:h,c:p})]=k,p+=B}}}}return n["!ref"]=Dr(T),S.length&&(n["!merges"]=S),n}function TH(t,e,r,n){for(var a=t["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var f=0,g=0,h=0;h<a.length;++h)if(!(a[h].s.r>r||a[h].s.c>l)&&!(a[h].e.r<r||a[h].e.c<l)){if(a[h].s.r<r||a[h].s.c<l){f=-1;break}f=a[h].e.r-a[h].s.r+1,g=a[h].e.c-a[h].s.c+1;break}if(!(f<0)){var p=sr({r,c:l}),y=n.dense?(t[r]||[])[l]:t[p],B=y&&y.v!=null&&(y.h||Hw(y.w||(oo(y),y.w)||""))||"",T={};f>1&&(T.rowspan=f),g>1&&(T.colspan=g),n.editable?B='<span contenteditable="true">'+B+"</span>":y&&(T["data-t"]=y&&y.t||"z",y.v!=null&&(T["data-v"]=y.v),y.z!=null&&(T["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(B='<a href="'+y.l.Target+'">'+B+"</a>")),T.id=(n.id||"sjs")+"-"+p,s.push(hM("td",B,T))}}var S="<tr>";return S+s.join("")+"</tr>"}var SH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IH="</body></html>";function FH(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return pl(A4(r[0],e),e);var n=sv();return r.forEach(function(a,s){Av(n,A4(a,e),"Sheet"+(s+1))}),n}function NH(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function RH(t,e){var r=e||{},n=r.header!=null?r.header:SH,a=r.footer!=null?r.footer:IH,s=[n],l=V0(t["!ref"]);r.dense=Array.isArray(t),s.push(NH(t,l,r));for(var f=l.s.r;f<=l.e.r;++f)s.push(TH(t,l,f,r));return s.push("</table>"+a),s.join("")}function _I(t,e,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Bi(n.origin):n.origin;a=l.r,s=l.c}var f=e.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,f.length),h={s:{r:0,c:0},e:{r:a,c:s}};if(t["!ref"]){var p=V0(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),a==-1&&(h.e.r=a=p.e.r+1)}var y=[],B=0,T=t["!rows"]||(t["!rows"]=[]),S=0,F=0,D=0,P=0,V=0,j=0;for(t["!cols"]||(t["!cols"]=[]);S<f.length&&F<g;++S){var re=f[S];if(o4(re)){if(n.display)continue;T[F]={hidden:!0}}var ge=re.children;for(D=P=0;D<ge.length;++D){var z=ge[D];if(!(n.display&&o4(z))){var O=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):yS(z.innerHTML),M=z.getAttribute("data-z")||z.getAttribute("z");for(B=0;B<y.length;++B){var k=y[B];k.s.c==P+s&&k.s.r<F+a&&F+a<=k.e.r&&(P=k.e.c+1-s,B=-1)}j=+z.getAttribute("colspan")||1,((V=+z.getAttribute("rowspan")||1)>1||j>1)&&y.push({s:{r:F+a,c:P+s},e:{r:F+a+(V||1)-1,c:P+s+(j||1)-1}});var Z={t:"s",v:O},Y=z.getAttribute("data-t")||z.getAttribute("t")||"";O!=null&&(O.length==0?Z.t=Y||"z":n.raw||O.trim().length==0||Y=="s"||(O==="TRUE"?Z={t:"b",v:!0}:O==="FALSE"?Z={t:"b",v:!1}:isNaN(nA(O))?isNaN(R0(O).getDate())||(Z={t:"d",v:Ra(O)},n.cellDates||(Z={t:"n",v:_i(Z.v)}),Z.z=n.dateNF||ur[14]):Z={t:"n",v:nA(O)})),Z.z===void 0&&M!=null&&(Z.z=M);var G="",K=z.getElementsByTagName("A");if(K&&K.length)for(var Ie=0;Ie<K.length&&!(K[Ie].hasAttribute("href")&&(G=K[Ie].getAttribute("href"),G.charAt(0)!="#"));++Ie);G&&G.charAt(0)!="#"&&(Z.l={Target:G}),n.dense?(t[F+a]||(t[F+a]=[]),t[F+a][P+s]=Z):t[sr({c:P+s,r:F+a})]=Z,h.e.c<P+s&&(h.e.c=P+s),P+=j}}++F}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),h.e.r=Math.max(h.e.r,F-1+a),t["!ref"]=Dr(h),F>=g&&(t["!fullref"]=Dr((h.e.r=f.length-S+F-1+a,h))),t}function TI(t,e){var r=e||{},n=r.dense?[]:{};return _I(n,t,e)}function DH(t,e){return pl(TI(t,e),e)}function o4(t){var e="",r=OH(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function OH(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function kH(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Mr(e.replace(/<[^>]*>/g,""));return[r]}var l4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function SI(t,e){var r=e||{},n=Vw(t),a=[],s,l,f={name:""},g="",h=0,p,y,B={},T=[],S=r.dense?[]:{},F,D,P={value:""},V="",j=0,re=[],ge=-1,z=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,k={},Z=[],Y={},G=0,K=0,Ie=[],xe=1,ie=1,ue=[],Ve={Names:[]},Ee={},$e=["",""],Ae=[],q={},pe="",se=0,me=!1,Ce=!1,ze=0;for(Mf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");F=Mf.exec(n);)switch(F[3]=F[3].replace(/_.*$/,"")){case"table":case"":F[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?S["!ref"]=Dr(O):S["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=O.e.r&&(S["!fullref"]=S["!ref"],O.e.r=r.sheetRows-1,S["!ref"]=Dr(O)),Z.length&&(S["!merges"]=Z),Ie.length&&(S["!rows"]=Ie),p.name=p.||p.name,typeof JSON<"u"&&JSON.stringify(p),T.push(p.name),B[p.name]=S,Ce=!1):F[0].charAt(F[0].length-2)!=="/"&&(p=Zt(F[0],!1),ge=z=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,S=r.dense?[]:{},Z=[],Ie=[],Ce=!0);break;case"table-row-group":F[1]==="/"?--M:++M;break;case"table-row":case"":if(F[1]==="/"){ge+=xe,xe=1;break}if(y=Zt(F[0],!1),y.?ge=y.-1:ge==-1&&(ge=0),xe=+y["number-rows-repeated"]||1,xe<10)for(ze=0;ze<xe;++ze)M>0&&(Ie[ge+ze]={level:M});z=-1;break;case"covered-table-cell":F[1]!=="/"&&++z,r.sheetStubs&&(r.dense?(S[ge]||(S[ge]=[]),S[ge][z]={t:"z"}):S[sr({r:ge,c:z})]={t:"z"}),V="",re=[];break;case"table-cell":case"":if(F[0].charAt(F[0].length-2)==="/")++z,P=Zt(F[0],!1),ie=parseInt(P["number-columns-repeated"]||"1",10),D={t:"z",v:null},P.formula&&r.cellFormula!=!1&&(D.f=n4(Mr(P.formula))),(P.||P["value-type"])=="string"&&(D.t="s",D.v=Mr(P["string-value"]||""),r.dense?(S[ge]||(S[ge]=[]),S[ge][z]=D):S[sr({r:ge,c:z})]=D),z+=ie-1;else if(F[1]!=="/"){++z,V="",j=0,re=[],ie=1;var ye=xe?ge+xe-1:ge;if(z>O.e.c&&(O.e.c=z),z<O.s.c&&(O.s.c=z),ge<O.s.r&&(O.s.r=ge),ye>O.e.r&&(O.e.r=ye),P=Zt(F[0],!1),Ae=[],q={},D={t:P.||P["value-type"],v:null},r.cellFormula)if(P.formula&&(P.formula=Mr(P.formula)),P["number-matrix-columns-spanned"]&&P["number-matrix-rows-spanned"]&&(G=parseInt(P["number-matrix-rows-spanned"],10)||0,K=parseInt(P["number-matrix-columns-spanned"],10)||0,Y={s:{r:ge,c:z},e:{r:ge+G-1,c:z+K-1}},D.F=Dr(Y),ue.push([Y,D.F])),P.formula)D.f=n4(P.formula);else for(ze=0;ze<ue.length;++ze)ge>=ue[ze][0].s.r&&ge<=ue[ze][0].e.r&&z>=ue[ze][0].s.c&&z<=ue[ze][0].e.c&&(D.F=ue[ze][1]);switch((P["number-columns-spanned"]||P["number-rows-spanned"])&&(G=parseInt(P["number-rows-spanned"],10)||0,K=parseInt(P["number-columns-spanned"],10)||0,Y={s:{r:ge,c:z},e:{r:ge+G-1,c:z+K-1}},Z.push(Y)),P["number-columns-repeated"]&&(ie=parseInt(P["number-columns-repeated"],10)),D.t){case"boolean":D.t="b",D.v=Fn(P["boolean-value"]);break;case"float":D.t="n",D.v=parseFloat(P.value);break;case"percentage":D.t="n",D.v=parseFloat(P.value);break;case"currency":D.t="n",D.v=parseFloat(P.value);break;case"date":D.t="d",D.v=Ra(P["date-value"]),r.cellDates||(D.t="n",D.v=_i(D.v)),D.z="m/d/yy";break;case"time":D.t="n",D.v=WU(P["time-value"])/86400,r.cellDates&&(D.t="d",D.v=rx(D.v)),D.z="HH:MM:SS";break;case"number":D.t="n",D.v=parseFloat(P.);break;default:if(D.t==="string"||D.t==="text"||!D.t)D.t="s",P["string-value"]!=null&&(V=Mr(P["string-value"]),re=[]);else throw new Error("Unsupported value type "+D.t)}}else{if(me=!1,D.t==="s"&&(D.v=V||"",re.length&&(D.R=re),me=j==0),Ee.Target&&(D.l=Ee),Ae.length>0&&(D.c=Ae,Ae=[]),V&&r.cellText!==!1&&(D.w=V),me&&(D.t="z",delete D.v),(!me||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=ge))for(var ae=0;ae<xe;++ae){if(ie=parseInt(P["number-columns-repeated"]||"1",10),r.dense)for(S[ge+ae]||(S[ge+ae]=[]),S[ge+ae][z]=ae==0?D:Ya(D);--ie>0;)S[ge+ae][z+ie]=Ya(D);else for(S[sr({r:ge+ae,c:z})]=D;--ie>0;)S[sr({r:ge+ae,c:z+ie})]=Ya(D);O.e.c<=z&&(O.e.c=z)}ie=parseInt(P["number-columns-repeated"]||"1",10),z+=ie-1,ie=0,D={},V="",re=[]}Ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(F[1]==="/"){if((s=a.pop())[0]!==F[3])throw"Bad state: "+s}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!0]);break;case"annotation":if(F[1]==="/"){if((s=a.pop())[0]!==F[3])throw"Bad state: "+s;q.t=V,re.length&&(q.R=re),q.a=pe,Ae.push(q)}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!1]);pe="",se=0,V="",j=0,re=[];break;case"creator":F[1]==="/"?pe=n.slice(se,F.index):se=F.index+F[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(F[1]==="/"){if((s=a.pop())[0]!==F[3])throw"Bad state: "+s}else F[0].charAt(F[0].length-2)!=="/"&&a.push([F[3],!1]);V="",j=0,re=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(F[1]==="/"){if(k[f.name]=g,(s=a.pop())[0]!==F[3])throw"Bad state: "+s}else F[0].charAt(F[0].length-2)!=="/"&&(g="",f=Zt(F[0],!1),a.push([F[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":l=Zt(F[0],!1),g+=l4[F[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":l=Zt(F[0],!1),g+=l4[F[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(F[0].slice(-2)==="/>")break;if(F[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(h,F.index);break}else h=F.index+F[0].length;break;case"named-range":l=Zt(F[0],!1),$e=Wm(l["cell-range-address"]);var _e={Name:l.name,Ref:$e[0]+"!"+$e[1]};Ce&&(_e.Sheet=T.length),Ve.Names.push(_e);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(F[1]==="/"&&(!P||!P["string-value"])){var Re=kH(n.slice(j,F.index));V=(V.length>0?V+`
`:"")+Re[0]}else Zt(F[0],!1),j=F.index+F[0].length;break;case"s":break;case"database-range":if(F[1]==="/")break;try{$e=Wm(Zt(F[0])["target-range-address"]),B[$e[0]]["!autofilter"]={ref:$e[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(F[1]!=="/"){if(Ee=Zt(F[0],!1),!Ee.href)break;Ee.Target=Mr(Ee.href),delete Ee.href,Ee.Target.charAt(0)=="#"&&Ee.Target.indexOf(".")>-1?($e=Wm(Ee.Target.slice(1)),Ee.Target="#"+$e[0]+"!"+$e[1]):Ee.Target.match(/^\.\.[\\\/]/)&&(Ee.Target=Ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(F[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(F)}}var fe={Sheets:B,SheetNames:T,Workbook:Ve};return r.bookSheets&&delete fe.Sheets,fe}function c4(t,e){e=e||{},Us(t,"META-INF/manifest.xml")&&ZM(ua(t,"META-INF/manifest.xml"),e);var r=hs(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=SI(pn(r),e);return Us(t,"meta.xml")&&(n.Props=jS(ua(t,"meta.xml"))),n}function u4(t,e){return SI(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function G2(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):pn(pc(t))}function K2(t){var e=t.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function f4(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function UH(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function jf(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ea(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ui(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=jf(t,r),s=a&7;a=Math.floor(a/8);var l=0,f;if(a==0)break;switch(s){case 0:{for(var g=r[0];t[r[0]++]>=128;);f=t.slice(g,r[0])}break;case 5:l=4,f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=jf(t,r),f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var h={data:f,type:s};e[a]==null?e[a]=[h]:e[a].push(h)}return e}function nv(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function MH(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=jf(t,n),s=ui(t.slice(n[0],n[0]+a));n[0]+=a;var l={id:Ea(s[1][0].data),messages:[]};s[2].forEach(function(f){var g=ui(f.data),h=Ea(g[3][0].data);l.messages.push({meta:g,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=Ea(s[3][0].data)>>>0>0),r.push(l)}return r}function QH(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=jf(e,r),a=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var f=l-59;l=e[r[0]],f>1&&(l|=e[r[0]+1]<<8),f>2&&(l|=e[r[0]+2]<<16),f>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=f}a.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,h=0;if(s==1?(h=(e[r[0]]>>2&7)+4,g=(e[r[0]++]&224)<<3,g|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,s==2?(g=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(g=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[K2(a)],g==0)throw new Error("Invalid offset 0");if(g>a[0].length)throw new Error("Invalid offset beyond length");if(h>=g)for(a.push(a[0].slice(-g)),h-=g;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-g,-g+h))}}var p=K2(a);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function LH(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(QH(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return K2(e)}function PH(t,e,r,n){var a=rv(t),s=a.getUint32(4,!0),l=(n>1?12:8)+f4(s&(n>1?3470:398))*4,f=-1,g=-1,h=NaN,p=new Date(2001,0,1);s&512&&(f=a.getUint32(l,!0),l+=4),l+=f4(s&(n>1?12288:4096))*4,s&16&&(g=a.getUint32(l,!0),l+=4),s&32&&(h=a.getFloat64(l,!0),l+=8),s&64&&(p.setTime(p.getTime()+a.getFloat64(l,!0)*1e3),l+=8);var y;switch(t[2]){case 0:break;case 2:y={t:"n",v:h};break;case 3:y={t:"s",v:e[g]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:h>0};break;case 7:y={t:"n",v:h/86400};break;case 8:y={t:"e",v:0};break;case 9:if(f>-1)y={t:"s",v:r[f]};else if(g>-1)y={t:"s",v:e[g]};else if(!isNaN(h))y={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return y}function jH(t,e,r){var n=rv(t),a=n.getUint32(8,!0),s=12,l=-1,f=-1,g=NaN,h=NaN,p=new Date(2001,0,1);a&1&&(g=UH(t,s),s+=16),a&2&&(h=n.getFloat64(s,!0),s+=8),a&4&&(p.setTime(p.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(f=n.getUint32(s,!0),s+=4),a&16&&(l=n.getUint32(s,!0),s+=4);var y;switch(t[1]){case 0:break;case 2:y={t:"n",v:g};break;case 3:y={t:"s",v:e[f]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:h>0};break;case 7:y={t:"n",v:h/86400};break;case 8:y={t:"e",v:0};break;case 9:if(l>-1)y={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:y={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return y}function HH(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return PH(t,e,r,t[0]);case 5:return jH(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function sl(t){var e=ui(t);return jf(e[1][0].data)}function h4(t,e){var r=ui(e.data),n=Ea(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(l){var f=ui(l.data),g=Ea(f[1][0].data)>>>0;switch(n){case 1:s[g]=G2(f[3][0].data);break;case 8:{var h=t[sl(f[9][0].data)][0],p=ui(h.data),y=t[sl(p[1][0].data)][0],B=Ea(y.meta[1][0].data);if(B!=2001)throw new Error("2000 unexpected reference to ".concat(B));var T=ui(y.data);s[g]=T[3].map(function(S){return G2(S.data)}).join("")}break}}),s}function VH(t,e){var r,n,a,s,l,f,g,h,p,y,B,T,S,F,D=ui(t),P=Ea(D[1][0].data)>>>0,V=Ea(D[2][0].data)>>>0,j=((n=(r=D[8])==null?void 0:r[0])==null?void 0:n.data)&&Ea(D[8][0].data)>0||!1,re,ge;if((s=(a=D[7])==null?void 0:a[0])!=null&&s.data&&e!=0)re=(f=(l=D[7])==null?void 0:l[0])==null?void 0:f.data,ge=(h=(g=D[6])==null?void 0:g[0])==null?void 0:h.data;else if((y=(p=D[4])==null?void 0:p[0])!=null&&y.data&&e!=1)re=(T=(B=D[4])==null?void 0:B[0])==null?void 0:T.data,ge=(F=(S=D[3])==null?void 0:S[0])==null?void 0:F.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var z=j?4:1,O=rv(re),M=[],k=0;k<re.length/2;++k){var Z=O.getUint16(k*2,!0);Z<65535&&M.push([k,Z])}if(M.length!=V)throw"Expected ".concat(V," cells, found ").concat(M.length);var Y=[];for(k=0;k<M.length-1;++k)Y[M[k][0]]=ge.subarray(M[k][1]*z,M[k+1][1]*z);return M.length>=1&&(Y[M[M.length-1][0]]=ge.subarray(M[M.length-1][1]*z)),{R:P,cells:Y}}function GH(t,e){var r,n=ui(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ea(n[7][0].data)>>>0>0?1:0:-1,s=nv(n[5],function(l){return VH(l,a)});return{nrows:Ea(n[4][0].data)>>>0,data:s.reduce(function(l,f){return l[f.R]||(l[f.R]=[]),f.cells.forEach(function(g,h){if(l[f.R][h])throw new Error("Duplicate cell r=".concat(f.R," c=").concat(h));l[f.R][h]=g}),l},[])}}function KH(t,e,r){var n,a=ui(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ea(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Ea(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Dr(s);var l=ui(a[4][0].data),f=h4(t,t[sl(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?h4(t,t[sl(l[17][0].data)][0]):[],h=ui(l[3][0].data),p=0;h[1].forEach(function(y){var B=ui(y.data),T=t[sl(B[2][0].data)][0],S=Ea(T.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var F=GH(t,T);F.data.forEach(function(D,P){D.forEach(function(V,j){var re=sr({r:p+P,c:j}),ge=HH(V,f,g);ge&&(r[re]=ge)})}),p+=F.nrows})}function zH(t,e){var r=ui(e.data),n={"!ref":"A1"},a=t[sl(r[2][0].data)],s=Ea(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return KH(t,a[0],n),n}function XH(t,e){var r,n=ui(e.data),a={name:(r=n[1])!=null&&r[0]?G2(n[1][0].data):"",sheets:[]},s=nv(n[2],sl);return s.forEach(function(l){t[l].forEach(function(f){var g=Ea(f.meta[1][0].data);g==6e3&&a.sheets.push(zH(t,f))})}),a}function WH(t,e){var r=sv(),n=ui(e.data),a=nv(n[1],sl);if(a.forEach(function(s){t[s].forEach(function(l){var f=Ea(l.meta[1][0].data);if(f==2){var g=XH(t,l);g.sheets.forEach(function(h,p){Av(r,h,p==0?g.name:g.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function qm(t){var e,r,n,a,s={},l=[];if(t.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var h;try{h=LH(g.content)}catch(y){return console.log("?? "+g.content.length+" "+(y.message||y))}var p;try{p=MH(h)}catch(y){return console.log("## "+(y.message||y))}p.forEach(function(y){s[y.id]=y.messages,l.push(y.id)})}}),!l.length)throw new Error("File has no messages");var f=((a=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ea(s[1][0].meta[1][0].data)==1&&s[1][0];if(f||l.forEach(function(g){s[g].forEach(function(h){var p=Ea(h.meta[1][0].data)>>>0;if(p==1)if(!f)f=h;else throw new Error("Document has multiple roots")})}),!f)throw new Error("Cannot find Document root");return WH(s,f)}function YH(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function av(t){YH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function qH(t){return w0.WS.indexOf(t)>-1?"sheet":t==w0.CS?"chart":t==w0.DS?"dialog":t==w0.MS?"macro":t&&t.length?t:"sheet"}function ZH(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,qH(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function JH(t,e,r,n,a,s,l,f,g,h,p,y){try{s[n]=wf(hs(t,r,!0),e);var B=ua(t,e),T;switch(f){case"sheet":T=aH(B,e,a,g,s[n],h,p,y);break;case"chart":if(T=iH(B,e,a,g,s[n],h,p,y),!T||!T["!drawel"])break;var S=nf(T["!drawel"].Target,e),F=L2(S),D=nL(hs(t,S,!0),wf(hs(t,F,!0),S)),P=nf(D,S),V=L2(P);T=jj(hs(t,P,!0),P,g,wf(hs(t,V,!0),P),h,T);break;case"macro":T=sH(B,e,a,g,s[n],h,p,y);break;case"dialog":T=AH(B,e,a,g,s[n],h,p,y);break;default:throw new Error("Unrecognized sheet type "+f)}l[n]=T;var j=[];s&&s[n]&&EA(s[n]).forEach(function(re){var ge="";if(s[n][re].Type==w0.CMNT){ge=nf(s[n][re].Target,e);var z=uH(ua(t,ge,!0),ge,g);if(!z||!z.length)return;Jb(T,z,!1)}s[n][re].Type==w0.TCMNT&&(ge=nf(s[n][re].Target,e),j=j.concat(iL(ua(t,ge,!0),g)))}),j&&j.length&&Jb(T,j,!0,g.people||[])}catch(re){if(g.WTF)throw re}}function Fs(t){return t.charAt(0)=="/"?t.slice(1):t}function $H(t,e){if(fS(),e=e||{},av(e),Us(t,"META-INF/manifest.xml")||Us(t,"objectdata.xml"))return c4(t,e);if(Us(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof qm<"u"){if(t.FileIndex)return qm(t);var r=Rr.utils.cfb_new();return bb(t).forEach(function(Ie){eM(r,Ie,$U(t,Ie))}),qm(r)}throw new Error("Unsupported NUMBERS file")}if(!Us(t,"[Content_Types].xml"))throw Us(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Us(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=bb(t),a=YM(hs(t,"[Content_Types].xml")),s=!1,l,f;if(a.workbooks.length===0&&(f="xl/workbook.xml",ua(t,f,!0)&&a.workbooks.push(f)),a.workbooks.length===0){if(f="xl/workbook.bin",!ua(t,f,!0))throw new Error("Could not find workbook");a.workbooks.push(f),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var g={},h={};if(!e.bookSheets&&!e.bookProps){if(Ef=[],a.sst)try{Ef=cH(ua(t,Fs(a.sst)),a.sst,e)}catch(Ie){if(e.WTF)throw Ie}e.cellStyles&&a.themes.length&&(g=lH(hs(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(h=oH(ua(t,Fs(a.style)),a.style,g,e))}a.links.map(function(Ie){try{var xe=wf(hs(t,L2(Fs(Ie))),Ie);return hH(ua(t,Fs(Ie)),xe,Ie,e)}catch{}});var p=nH(ua(t,Fs(a.workbooks[0])),a.workbooks[0],e),y={},B="";a.coreprops.length&&(B=ua(t,Fs(a.coreprops[0]),!0),B&&(y=jS(B)),a.extprops.length!==0&&(B=ua(t,Fs(a.extprops[0]),!0),B&&e9(B,y,e)));var T={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(B=hs(t,Fs(a.custprops[0]),!0),B&&(T=r9(B,e)));var S={};if((e.bookSheets||e.bookProps)&&(p.Sheets?l=p.Sheets.map(function(xe){return xe.name}):y.Worksheets&&y.SheetNames.length>0&&(l=y.SheetNames),e.bookProps&&(S.Props=y,S.Custprops=T),e.bookSheets&&typeof l<"u"&&(S.SheetNames=l),e.bookSheets?S.SheetNames:e.bookProps))return S;l={};var F={};e.bookDeps&&a.calcchain&&(F=fH(ua(t,Fs(a.calcchain)),a.calcchain));var D=0,P={},V,j;{var re=p.Sheets;y.Worksheets=re.length,y.SheetNames=[];for(var ge=0;ge!=re.length;++ge)y.SheetNames[ge]=re[ge].name}var z=s?"bin":"xml",O=a.workbooks[0].lastIndexOf("/"),M=(a.workbooks[0].slice(0,O+1)+"_rels/"+a.workbooks[0].slice(O+1)+".rels").replace(/^\//,"");Us(t,M)||(M="xl/_rels/workbook."+z+".rels");var k=wf(hs(t,M,!0),M.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=dH(ua(t,Fs(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=sL(ua(t,Fs(a.people[0])),e)),k&&(k=ZH(k,p.Sheets));var Z=ua(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(D=0;D!=y.Worksheets;++D){var Y="sheet";if(k&&k[D]?(V="xl/"+k[D][1].replace(/[\/]?xl\//,""),Us(t,V)||(V=k[D][1]),Us(t,V)||(V=M.replace(/_rels\/.*$/,"")+k[D][1]),Y=k[D][2]):(V="xl/worksheets/sheet"+(D+1-Z)+"."+z,V=V.replace(/sheet0\./,"sheet.")),j=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(D!=e.sheets)continue e;break;case"string":if(y.SheetNames[D].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var G=!1,K=0;K!=e.sheets.length;++K)typeof e.sheets[K]=="number"&&e.sheets[K]==D&&(G=1),typeof e.sheets[K]=="string"&&e.sheets[K].toLowerCase()==y.SheetNames[D].toLowerCase()&&(G=1);if(!G)continue e}}JH(t,V,j,y.SheetNames[D],D,P,l,Y,e,p,g,h)}return S={Directory:a,Workbook:p,Props:y,Custprops:T,Deps:F,Sheets:l,SheetNames:y.SheetNames,Strings:Ef,Styles:h,Themes:g,SSF:Ya(ur)},e&&e.bookFiles&&(t.files?(S.keys=n,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(Ie,xe){Ie=Ie.replace(/^Root Entry[\/]/,""),S.keys.push(Ie),S.files[Ie]=t.FileIndex[xe]}))),e&&e.bookVBA&&(a.vba.length>0?S.vbaraw=ua(t,Fs(a.vba[0]),!0):a.defaults&&a.defaults.bin===cL&&(S.vbaraw=ua(t,"xl/vbaProject.bin",!0))),S}function eV(t,e){var r=e||{},n="Workbook",a=Rr.find(t,n);try{if(n="/!DataSpaces/Version",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(z7(a.content),n="/!DataSpaces/DataSpaceMap",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=W7(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Y7(a.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Z7(a.content)}catch{}if(n="/EncryptionInfo",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var f=J7(a.content);if(n="/EncryptedPackage",a=Rr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(f[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(f[1],a.content,r.password||"",r);if(f[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(f[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function iv(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=xs(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function tV(t,e){return Rr.find(t,"EncryptedPackage")?eV(t,e):bI(t,e)}function rV(t,e){var r,n=t,a=e||{};return a.type||(a.type=Sr&&Buffer.isBuffer(t)?"buffer":"base64"),r=mS(n,a),$H(r,a)}function II(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return H2(t.slice(r),e);default:break e}return Qf.to_workbook(t,e)}function nV(t,e){var r="",n=iv(t,e);switch(e.type){case"base64":r=xs(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Ac(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=pn(r)),e.type="binary",II(r,e)}function aV(t,e){var r=t;return e.type=="base64"&&(r=xs(r)),r=Of.utils.decode(1200,r.slice(2),"str"),e.type="binary",II(r,e)}function iV(t){return t.match(/[^\x00-\x7F]/)?af(t):t}function Zm(t,e,r,n){return n?(r.type="string",Qf.to_workbook(t,r)):Qf.to_workbook(e,r)}function z2(t,e){eS();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return z2(new Uint8Array(t),(r=Ya(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),_0={},r.dateNF&&(_0.dateNF=r.dateNF),r.type||(r.type=Sr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Sr?"buffer":"binary",n=zU(t),typeof Uint8Array<"u"&&!Sr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=iV(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),f=new Uint8Array(l);if(f.foo="bar",!f.foo)return r=Ya(r),r.type="array",z2(Mw(n),r)}switch((a=iv(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return tV(Rr.read(n,r),r);break;case 9:if(a[1]<=8)return bI(n,r);break;case 60:return H2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return D7(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return N7.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?rV(n,r):Zm(t,n,r,s);case 239:return a[3]===60?H2(n,r):Zm(t,n,r,s);case 255:if(a[1]===254)return aV(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return yf.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return yf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Zb.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return cQ.to_workbook(n,r);break;case 10:case 13:case 32:return nV(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return I7.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Zb.to_workbook(n,r):Zm(t,n,r,s)}function sV(t,e,r,n,a,s,l,f){var g=qa(r),h=f.defval,p=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),y=!0,B=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(B,"__rowNum__",{value:r,enumerable:!1})}catch{B.__rowNum__=r}else B.__rowNum__=r;if(!l||t[r])for(var T=e.s.c;T<=e.e.c;++T){var S=l?t[r][T]:t[n[T]+g];if(S===void 0||S.t===void 0){if(h===void 0)continue;s[T]!=null&&(B[s[T]]=h);continue}var F=S.v;switch(S.t){case"z":if(F==null)break;continue;case"e":F=F==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[T]!=null){if(F==null)if(S.t=="e"&&F===null)B[s[T]]=null;else if(h!==void 0)B[s[T]]=h;else if(p&&F===null)B[s[T]]=null;else continue;else B[s[T]]=p&&(S.t!=="n"||S.t==="n"&&f.rawNumbers!==!1)?F:oo(S,F,f);F!=null&&(y=!1)}}return{row:B,isempty:y}}function X2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],l=0,f="",g={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":g=Xn(p);break;case"number":g=Xn(t["!ref"]),g.s.r=p;break;default:g=p}n>0&&(a=0);var y=qa(g.s.r),B=[],T=[],S=0,F=0,D=Array.isArray(t),P=g.s.r,V=0,j={};D&&!t[P]&&(t[P]=[]);var re=h.skipHidden&&t["!cols"]||[],ge=h.skipHidden&&t["!rows"]||[];for(V=g.s.c;V<=g.e.c;++V)if(!(re[V]||{}).hidden)switch(B[V]=ya(V),r=D?t[P][V]:t[B[V]+y],n){case 1:s[V]=V-g.s.c;break;case 2:s[V]=B[V];break;case 3:s[V]=h.header[V-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),f=l=oo(r,null,h),F=j[l]||0,!F)j[l]=1;else{do f=l+"_"+F++;while(j[f]);j[l]=F,j[f]=1}s[V]=f}for(P=g.s.r+a;P<=g.e.r;++P)if(!(ge[P]||{}).hidden){var z=sV(t,g,P,B,n,s,D,h);(z.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(T[S++]=z.row)}return T.length=S,T}var d4=/"/g;function AV(t,e,r,n,a,s,l,f){for(var g=!0,h=[],p="",y=qa(r),B=e.s.c;B<=e.e.c;++B)if(n[B]){var T=f.dense?(t[r]||[])[B]:t[n[B]+y];if(T==null)p="";else if(T.v!=null){g=!1,p=""+(f.rawNumbers&&T.t=="n"?T.v:oo(T,null,f));for(var S=0,F=0;S!==p.length;++S)if((F=p.charCodeAt(S))===a||F===s||F===34||f.forceQuotes){p='"'+p.replace(d4,'""')+'"';break}p=="ID"&&(p='"ID"')}else T.f!=null&&!T.F?(g=!1,p="="+T.f,p.indexOf(",")>=0&&(p='"'+p.replace(d4,'""')+'"')):p="";h.push(p)}return f.blankrows===!1&&g?null:h.join(l)}function FI(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=Xn(t["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),f=n.RS!==void 0?n.RS:`
`,g=f.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),p="",y=[];n.dense=Array.isArray(t);for(var B=n.skipHidden&&t["!cols"]||[],T=n.skipHidden&&t["!rows"]||[],S=a.s.c;S<=a.e.c;++S)(B[S]||{}).hidden||(y[S]=ya(S));for(var F=0,D=a.s.r;D<=a.e.r;++D)(T[D]||{}).hidden||(p=AV(t,a,D,y,l,g,s,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((F++?f:"")+p)));return delete n.dense,r.join("")}function oV(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=FI(t,e);return r}function lV(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=Xn(t["!ref"]),s="",l=[],f,g=[],h=Array.isArray(t);for(f=a.s.c;f<=a.e.c;++f)l[f]=ya(f);for(var p=a.s.r;p<=a.e.r;++p)for(s=qa(p),f=a.s.c;f<=a.e.c;++f)if(e=l[f]+s,r=h?(t[p]||[])[f]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=e+"="+n}return g}function NI(t,e,r){var n=r||{},a=+!n.skipHeader,s=t||{},l=0,f=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?Bi(n.origin):n.origin;l=g.r,f=g.c}var h,p={s:{c:0,r:0},e:{c:f,r:l+e.length-1+a}};if(s["!ref"]){var y=Xn(s["!ref"]);p.e.c=Math.max(p.e.c,y.e.c),p.e.r=Math.max(p.e.r,y.e.r),l==-1&&(l=y.e.r+1,p.e.r=l+e.length-1+a)}else l==-1&&(l=0,p.e.r=e.length-1+a);var B=n.header||[],T=0;e.forEach(function(F,D){EA(F).forEach(function(P){(T=B.indexOf(P))==-1&&(B[T=B.length]=P);var V=F[P],j="z",re="",ge=sr({c:f+T,r:l+D+a});h=Hf(s,ge),V&&typeof V=="object"&&!(V instanceof Date)?s[ge]=V:(typeof V=="number"?j="n":typeof V=="boolean"?j="b":typeof V=="string"?j="s":V instanceof Date?(j="d",n.cellDates||(j="n",V=_i(V)),re=n.dateNF||ur[14]):V===null&&n.nullError&&(j="e",V=0),h?(h.t=j,h.v=V,delete h.w,delete h.R,re&&(h.z=re)):s[ge]=h={t:j,v:V},re&&(h.z=re))})}),p.e.c=Math.max(p.e.c,f+B.length-1);var S=qa(l);if(a)for(T=0;T<B.length;++T)s[ya(T+f)+S]={t:"s",v:B[T]};return s["!ref"]=Dr(p),s}function cV(t,e){return NI(null,t,e)}function Hf(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Bi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Hf(t,sr(e)):Hf(t,sr({r:e,c:r||0}))}function uV(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function sv(){return{SheetNames:[],Sheets:{}}}function Av(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=l+a)!=-1;++a);}if(Yj(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function fV(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=uV(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function hV(t,e){return t.z=e,t}function RI(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function dV(t,e,r){return RI(t,"#"+e,r)}function gV(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function xV(t,e,r,n){for(var a=typeof e!="string"?e:Xn(e),s=typeof e=="string"?e:Dr(e),l=a.s.r;l<=a.e.r;++l)for(var f=a.s.c;f<=a.e.c;++f){var g=Hf(t,l,f);g.t="n",g.F=s,delete g.v,l==a.s.r&&f==a.s.c&&(g.f=r,n&&(g.D=!0))}return t}var pV={encode_col:ya,encode_row:qa,encode_cell:sr,encode_range:Dr,decode_col:zw,decode_row:Kw,split_cell:SM,decode_cell:Bi,decode_range:V0,format_cell:oo,sheet_add_aoa:US,sheet_add_json:NI,sheet_add_dom:_I,aoa_to_sheet:G0,json_to_sheet:cV,table_to_sheet:TI,table_to_book:DH,sheet_to_csv:FI,sheet_to_txt:oV,sheet_to_json:X2,sheet_to_html:RH,sheet_to_formulae:lV,sheet_to_row_object_array:X2,sheet_get_cell:Hf,book_new:sv,book_append_sheet:Av,book_set_sheet_visibility:fV,cell_set_number_format:hV,cell_set_hyperlink:RI,cell_set_internal_link:dV,cell_add_comment:gV,sheet_set_array_formula:xV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Ft;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ft||(Ft={}));var g4=new Map([[Ft.QR_CODE,"QR_CODE"],[Ft.AZTEC,"AZTEC"],[Ft.CODABAR,"CODABAR"],[Ft.CODE_39,"CODE_39"],[Ft.CODE_93,"CODE_93"],[Ft.CODE_128,"CODE_128"],[Ft.DATA_MATRIX,"DATA_MATRIX"],[Ft.MAXICODE,"MAXICODE"],[Ft.ITF,"ITF"],[Ft.EAN_13,"EAN_13"],[Ft.EAN_8,"EAN_8"],[Ft.PDF_417,"PDF_417"],[Ft.RSS_14,"RSS_14"],[Ft.RSS_EXPANDED,"RSS_EXPANDED"],[Ft.UPC_A,"UPC_A"],[Ft.UPC_E,"UPC_E"],[Ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),x4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(x4||(x4={}));function mV(t){return Object.values(Ft).includes(t)}var Tg;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Tg||(Tg={}));var wV=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Tg.SCAN_TYPE_CAMERA,Tg.SCAN_TYPE_FILE],t})(),DI=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!g4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,g4.get(e))},t})(),p4=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),W2;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(W2||(W2={}));var vV=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:W2.UNKWOWN_ERROR}},t})(),yV=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function ro(t){return typeof t>"u"||t===null}var v0=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),OI=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(a),l=Object.keys(e),f=0,g=l;f<g.length;f++){var h=g[f];if(s.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t})(),sf={exports:{}},EV=sf.exports,m4;function BV(){return m4||(m4=1,(function(t,e){(function(r,n){n(e)})(EV,(function(r){function n(X){return X==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,A){X.__proto__=A}||function(X,A){for(var c in A)A.hasOwnProperty(c)&&(X[c]=A[c])};function s(X,A){a(X,A);function c(){this.constructor=X}X.prototype=A===null?Object.create(A):(c.prototype=A.prototype,new c)}function l(X,A){var c=Object.setPrototypeOf;c?c(X,A):X.__proto__=A}function f(X,A){A===void 0&&(A=X.constructor);var c=Error.captureStackTrace;c&&c(X,A)}var g=(function(X){s(A,X);function A(c){var u=this.constructor,m=X.call(this,c)||this;return Object.defineProperty(m,"name",{value:u.name,enumerable:!1}),l(m,u.prototype),f(m),m}return A})(Error);class h extends g{constructor(A=void 0){super(A),this.message=A}getKind(){return this.constructor.kind}}h.kind="Exception";class p extends h{}p.kind="ArgumentException";class y extends h{}y.kind="IllegalArgumentException";class B{constructor(A){if(this.binarizer=A,A===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(A,c){return this.binarizer.getBlackRow(A,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(A,c,u,m){const w=this.binarizer.getLuminanceSource().crop(A,c,u,m);return new B(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(A))}rotateCounterClockwise45(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(A))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends h{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class S{constructor(A){this.source=A}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(A,c,u,m,w){for(;w--;)u[m++]=A[c++]}static currentTimeMillis(){return Date.now()}}class D extends h{}D.kind="IndexOutOfBoundsException";class P extends D{constructor(A=void 0,c=void 0){super(c),this.index=A,this.message=c}}P.kind="ArrayIndexOutOfBoundsException";class V{static fill(A,c){for(let u=0,m=A.length;u<m;u++)A[u]=c}static fillWithin(A,c,u,m){V.rangeCheck(A.length,c,u);for(let w=c;w<u;w++)A[w]=m}static rangeCheck(A,c,u){if(c>u)throw new y("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new P(c);if(u>A)throw new P(u)}static asList(...A){return A}static create(A,c,u){return Array.from({length:A}).map(w=>Array.from({length:c}).fill(u))}static createInt32Array(A,c,u){return Array.from({length:A}).map(w=>Int32Array.from({length:c}).fill(u))}static equals(A,c){if(!A||!c||!A.length||!c.length||A.length!==c.length)return!1;for(let u=0,m=A.length;u<m;u++)if(A[u]!==c[u])return!1;return!0}static hashCode(A){if(A===null)return 0;let c=1;for(const u of A)c=31*c+u;return c}static fillUint8Array(A,c){for(let u=0;u!==A.length;u++)A[u]=c}static copyOf(A,c){return A.slice(0,c)}static copyOfUint8Array(A,c){if(A.length<=c){const u=new Uint8Array(c);return u.set(A),u}return A.slice(0,c)}static copyOfRange(A,c,u){const m=u-c,w=new Int32Array(m);return F.arraycopy(A,c,w,0,m),w}static binarySearch(A,c,u){u===void 0&&(u=V.numberComparator);let m=0,w=A.length-1;for(;m<=w;){const E=w+m>>1,C=u(c,A[E]);if(C>0)m=E+1;else if(C<0)w=E-1;else return E}return-m-1}static numberComparator(A,c){return A-c}}class j{static numberOfTrailingZeros(A){let c;if(A===0)return 32;let u=31;return c=A<<16,c!==0&&(u-=16,A=c),c=A<<8,c!==0&&(u-=8,A=c),c=A<<4,c!==0&&(u-=4,A=c),c=A<<2,c!==0&&(u-=2,A=c),u-(A<<1>>>31)}static numberOfLeadingZeros(A){if(A===0)return 32;let c=1;return A>>>16||(c+=16,A<<=16),A>>>24||(c+=8,A<<=8),A>>>28||(c+=4,A<<=4),A>>>30||(c+=2,A<<=2),c-=A>>>31,c}static toHexString(A){return A.toString(16)}static toBinaryString(A){return String(parseInt(String(A),2))}static bitCount(A){return A=A-(A>>>1&1431655765),A=(A&858993459)+(A>>>2&858993459),A=A+(A>>>4)&252645135,A=A+(A>>>8),A=A+(A>>>16),A&63}static truncDivision(A,c){return Math.trunc(A/c)}static parseInt(A,c=void 0){return parseInt(A,c)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(A,c){A===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=A,c==null?this.bits=re.makeArray(A):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(A){if(A>this.bits.length*32){const c=re.makeArray(A);F.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(A){return(this.bits[Math.floor(A/32)]&1<<(A&31))!==0}set(A){this.bits[Math.floor(A/32)]|=1<<(A&31)}flip(A){this.bits[Math.floor(A/32)]^=1<<(A&31)}getNextSet(A){const c=this.size;if(A>=c)return c;const u=this.bits;let m=Math.floor(A/32),w=u[m];w&=~((1<<(A&31))-1);const E=u.length;for(;w===0;){if(++m===E)return c;w=u[m]}const C=m*32+j.numberOfTrailingZeros(w);return C>c?c:C}getNextUnset(A){const c=this.size;if(A>=c)return c;const u=this.bits;let m=Math.floor(A/32),w=~u[m];w&=~((1<<(A&31))-1);const E=u.length;for(;w===0;){if(++m===E)return c;w=~u[m]}const C=m*32+j.numberOfTrailingZeros(w);return C>c?c:C}setBulk(A,c){this.bits[Math.floor(A/32)]=c}setRange(A,c){if(c<A||A<0||c>this.size)throw new y;if(c===A)return;c--;const u=Math.floor(A/32),m=Math.floor(c/32),w=this.bits;for(let E=u;E<=m;E++){const C=E>u?0:A&31,R=(2<<(E<m?31:c&31))-(1<<C);w[E]|=R}}clear(){const A=this.bits.length,c=this.bits;for(let u=0;u<A;u++)c[u]=0}isRange(A,c,u){if(c<A||A<0||c>this.size)throw new y;if(c===A)return!0;c--;const m=Math.floor(A/32),w=Math.floor(c/32),E=this.bits;for(let C=m;C<=w;C++){const I=C>m?0:A&31,Q=(2<<(C<w?31:c&31))-(1<<I)&4294967295;if((E[C]&Q)!==(u?Q:0))return!1}return!0}appendBit(A){this.ensureCapacity(this.size+1),A&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(A,c){if(c<0||c>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((A>>u-1&1)===1)}appendBitArray(A){const c=A.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(A.get(u))}xor(A){if(this.size!==A.size)throw new y("Sizes don't match");const c=this.bits;for(let u=0,m=c.length;u<m;u++)c[u]^=A.bits[u]}toBytes(A,c,u,m){for(let w=0;w<m;w++){let E=0;for(let C=0;C<8;C++)this.get(A)&&(E|=1<<7-C),A++;c[u+w]=E}}getBitArray(){return this.bits}reverse(){const A=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,m=this.bits;for(let w=0;w<u;w++){let E=m[w];E=E>>1&1431655765|(E&1431655765)<<1,E=E>>2&858993459|(E&858993459)<<2,E=E>>4&252645135|(E&252645135)<<4,E=E>>8&16711935|(E&16711935)<<8,E=E>>16&65535|(E&65535)<<16,A[c-w]=E}if(this.size!==u*32){const w=u*32-this.size;let E=A[0]>>>w;for(let C=1;C<u;C++){const I=A[C];E|=I<<32-w,A[C-1]=E,E=I>>>w}A[u-1]=E}this.bits=A}static makeArray(A){return new Int32Array(Math.floor((A+31)/32))}equals(A){if(!(A instanceof re))return!1;const c=A;return this.size===c.size&&V.equals(this.bits,c.bits)}hashCode(){return 31*this.size+V.hashCode(this.bits)}toString(){let A="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(A+=" "),A+=this.get(c)?"X":".";return A}clone(){return new re(this.size,this.bits.slice())}}var ge;(function(X){X[X.OTHER=0]="OTHER",X[X.PURE_BARCODE=1]="PURE_BARCODE",X[X.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",X[X.TRY_HARDER=3]="TRY_HARDER",X[X.CHARACTER_SET=4]="CHARACTER_SET",X[X.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",X[X.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",X[X.ASSUME_GS1=7]="ASSUME_GS1",X[X.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",X[X.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",X[X.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ge||(ge={}));var z=ge;class O extends h{static getFormatInstance(){return new O}}O.kind="FormatException";var M;(function(X){X[X.Cp437=0]="Cp437",X[X.ISO8859_1=1]="ISO8859_1",X[X.ISO8859_2=2]="ISO8859_2",X[X.ISO8859_3=3]="ISO8859_3",X[X.ISO8859_4=4]="ISO8859_4",X[X.ISO8859_5=5]="ISO8859_5",X[X.ISO8859_6=6]="ISO8859_6",X[X.ISO8859_7=7]="ISO8859_7",X[X.ISO8859_8=8]="ISO8859_8",X[X.ISO8859_9=9]="ISO8859_9",X[X.ISO8859_10=10]="ISO8859_10",X[X.ISO8859_11=11]="ISO8859_11",X[X.ISO8859_13=12]="ISO8859_13",X[X.ISO8859_14=13]="ISO8859_14",X[X.ISO8859_15=14]="ISO8859_15",X[X.ISO8859_16=15]="ISO8859_16",X[X.SJIS=16]="SJIS",X[X.Cp1250=17]="Cp1250",X[X.Cp1251=18]="Cp1251",X[X.Cp1252=19]="Cp1252",X[X.Cp1256=20]="Cp1256",X[X.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",X[X.UTF8=22]="UTF8",X[X.ASCII=23]="ASCII",X[X.Big5=24]="Big5",X[X.GB18030=25]="GB18030",X[X.EUC_KR=26]="EUC_KR"})(M||(M={}));class k{constructor(A,c,u,...m){this.valueIdentifier=A,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=m,k.VALUE_IDENTIFIER_TO_ECI.set(A,this),k.NAME_TO_ECI.set(u,this);const w=this.values;for(let E=0,C=w.length;E!==C;E++){const I=w[E];k.VALUES_TO_ECI.set(I,this)}for(const E of m)k.NAME_TO_ECI.set(E,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(A){if(A<0||A>=900)throw new O("incorect value");const c=k.VALUES_TO_ECI.get(A);if(c===void 0)throw new O("incorect value");return c}static getCharacterSetECIByName(A){const c=k.NAME_TO_ECI.get(A);if(c===void 0)throw new O("incorect value");return c}equals(A){if(!(A instanceof k))return!1;const c=A;return this.getName()===c.getName()}}k.VALUE_IDENTIFIER_TO_ECI=new Map,k.VALUES_TO_ECI=new Map,k.NAME_TO_ECI=new Map,k.Cp437=new k(M.Cp437,Int32Array.from([0,2]),"Cp437"),k.ISO8859_1=new k(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),k.ISO8859_2=new k(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),k.ISO8859_3=new k(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),k.ISO8859_4=new k(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),k.ISO8859_5=new k(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),k.ISO8859_6=new k(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),k.ISO8859_7=new k(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),k.ISO8859_8=new k(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),k.ISO8859_9=new k(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),k.ISO8859_10=new k(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),k.ISO8859_11=new k(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),k.ISO8859_13=new k(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),k.ISO8859_14=new k(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),k.ISO8859_15=new k(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),k.ISO8859_16=new k(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),k.SJIS=new k(M.SJIS,20,"SJIS","Shift_JIS"),k.Cp1250=new k(M.Cp1250,21,"Cp1250","windows-1250"),k.Cp1251=new k(M.Cp1251,22,"Cp1251","windows-1251"),k.Cp1252=new k(M.Cp1252,23,"Cp1252","windows-1252"),k.Cp1256=new k(M.Cp1256,24,"Cp1256","windows-1256"),k.UnicodeBigUnmarked=new k(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),k.UTF8=new k(M.UTF8,26,"UTF8","UTF-8"),k.ASCII=new k(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),k.Big5=new k(M.Big5,28,"Big5"),k.GB18030=new k(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),k.EUC_KR=new k(M.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends h{}Z.kind="UnsupportedOperationException";class Y{static decode(A,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(A,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(A,u):new TextDecoder(u).decode(A)}static shouldDecodeOnFallback(A){return!Y.isBrowser()&&A==="ISO-8859-1"}static encode(A,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(A,u):typeof TextEncoder>"u"?this.encodeFallback(A):new TextEncoder().encode(A)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(A){return typeof A=="string"?A:A.getName()}static encodingCharacterSet(A){return A instanceof k?A:k.getCharacterSetECIByName(A)}static decodeFallback(A,c){const u=this.encodingCharacterSet(c);if(Y.isDecodeFallbackSupported(u)){let m="";for(let w=0,E=A.length;w<E;w++){let C=A[w].toString(16);C.length<2&&(C="0"+C),m+="%"+C}return decodeURIComponent(m)}if(u.equals(k.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(A.buffer));throw new Z(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(A){return A.equals(k.UTF8)||A.equals(k.ISO8859_1)||A.equals(k.ASCII)}static encodeFallback(A){const u=btoa(unescape(encodeURIComponent(A))).split(""),m=[];for(let w=0;w<u.length;w++)m.push(u[w].charCodeAt(0));return new Uint8Array(m)}}class G{static castAsNonUtf8Char(A,c=null){const u=c?c.getName():this.ISO88591;return Y.decode(new Uint8Array([A]),u)}static guessEncoding(A,c){if(c!=null&&c.get(z.CHARACTER_SET)!==void 0)return c.get(z.CHARACTER_SET).toString();const u=A.length;let m=!0,w=!0,E=!0,C=0,I=0,R=0,Q=0,W=0,ee=0,we=0,be=0,Te=0,De=0,Xe=0;const xt=A.length>3&&A[0]===239&&A[1]===187&&A[2]===191;for(let dt=0;dt<u&&(m||w||E);dt++){const lt=A[dt]&255;E&&(C>0?(lt&128)===0?E=!1:C--:(lt&128)!==0&&((lt&64)===0?E=!1:(C++,(lt&32)===0?I++:(C++,(lt&16)===0?R++:(C++,(lt&8)===0?Q++:E=!1))))),m&&(lt>127&&lt<160?m=!1:lt>159&&(lt<192||lt===215||lt===247)&&Xe++),w&&(W>0?lt<64||lt===127||lt>252?w=!1:W--:lt===128||lt===160||lt>239?w=!1:lt>160&&lt<224?(ee++,be=0,we++,we>Te&&(Te=we)):lt>127?(W++,we=0,be++,be>De&&(De=be)):(we=0,be=0))}return E&&C>0&&(E=!1),w&&W>0&&(w=!1),E&&(xt||I+R+Q>0)?G.UTF8:w&&(G.ASSUME_SHIFT_JIS||Te>=3||De>=3)?G.SHIFT_JIS:m&&w?Te===2&&ee===2||Xe*10>=u?G.SHIFT_JIS:G.ISO88591:m?G.ISO88591:w?G.SHIFT_JIS:E?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(A,...c){let u=-1;function m(E,C,I,R,Q,W){if(E==="%%")return"%";if(c[++u]===void 0)return;E=R?parseInt(R.substr(1)):void 0;let ee=Q?parseInt(Q.substr(1)):void 0,we;switch(W){case"s":we=c[u];break;case"c":we=c[u][0];break;case"f":we=parseFloat(c[u]).toFixed(E);break;case"p":we=parseFloat(c[u]).toPrecision(E);break;case"e":we=parseFloat(c[u]).toExponential(E);break;case"x":we=parseInt(c[u]).toString(ee||16);break;case"d":we=parseFloat(parseInt(c[u],ee||10).toPrecision(E)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(ee);let be=parseInt(I),Te=I&&I[0]+""=="0"?"0":" ";for(;we.length<be;)we=C!==void 0?we+Te:Te+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(w,m)}static getBytes(A,c){return Y.encode(A,c)}static getCharCode(A,c=0){return A.charCodeAt(c)}static getCharAt(A){return String.fromCharCode(A)}}G.SHIFT_JIS=k.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=k.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=k.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class K{constructor(A=""){this.value=A}enableDecoding(A){return this.encoding=A,this}append(A){return typeof A=="string"?this.value+=A.toString():this.encoding?this.value+=G.castAsNonUtf8Char(A,this.encoding):this.value+=String.fromCharCode(A),this}appendChars(A,c,u){for(let m=c;c<c+u;m++)this.append(A[m]);return this}length(){return this.value.length}charAt(A){return this.value.charAt(A)}deleteCharAt(A){this.value=this.value.substr(0,A)+this.value.substring(A+1)}setCharAt(A,c){this.value=this.value.substr(0,A)+c+this.value.substr(A+1)}substring(A,c){return this.value.substring(A,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(A,c){this.value=this.value.substr(0,A)+c+this.value.substr(A+c.length)}}class Ie{constructor(A,c,u,m){if(this.width=A,this.height=c,this.rowSize=u,this.bits=m,c==null&&(c=A),this.height=c,A<1||c<1)throw new y("Both dimensions must be greater than 0");u==null&&(u=Math.floor((A+31)/32)),this.rowSize=u,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(A){const c=A.length,u=A[0].length,m=new Ie(u,c);for(let w=0;w<c;w++){const E=A[w];for(let C=0;C<u;C++)E[C]&&m.set(C,w)}return m}static parseFromString(A,c,u){if(A===null)throw new y("stringRepresentation cannot be null");const m=new Array(A.length);let w=0,E=0,C=-1,I=0,R=0;for(;R<A.length;)if(A.charAt(R)===`
`||A.charAt(R)==="\r"){if(w>E){if(C===-1)C=w-E;else if(w-E!==C)throw new y("row lengths do not match");E=w,I++}R++}else if(A.substring(R,R+c.length)===c)R+=c.length,m[w]=!0,w++;else if(A.substring(R,R+u.length)===u)R+=u.length,m[w]=!1,w++;else throw new y("illegal character encountered: "+A.substring(R));if(w>E){if(C===-1)C=w-E;else if(w-E!==C)throw new y("row lengths do not match");I++}const Q=new Ie(C,I);for(let W=0;W<w;W++)m[W]&&Q.set(Math.floor(W%C),Math.floor(W/C));return Q}get(A,c){const u=c*this.rowSize+Math.floor(A/32);return(this.bits[u]>>>(A&31)&1)!==0}set(A,c){const u=c*this.rowSize+Math.floor(A/32);this.bits[u]|=1<<(A&31)&4294967295}unset(A,c){const u=c*this.rowSize+Math.floor(A/32);this.bits[u]&=~(1<<(A&31)&4294967295)}flip(A,c){const u=c*this.rowSize+Math.floor(A/32);this.bits[u]^=1<<(A&31)&4294967295}xor(A){if(this.width!==A.getWidth()||this.height!==A.getHeight()||this.rowSize!==A.getRowSize())throw new y("input matrix dimensions do not match");const c=new re(Math.floor(this.width/32)+1),u=this.rowSize,m=this.bits;for(let w=0,E=this.height;w<E;w++){const C=w*u,I=A.getRow(w,c).getBitArray();for(let R=0;R<u;R++)m[C+R]^=I[R]}}clear(){const A=this.bits,c=A.length;for(let u=0;u<c;u++)A[u]=0}setRegion(A,c,u,m){if(c<0||A<0)throw new y("Left and top must be nonnegative");if(m<1||u<1)throw new y("Height and width must be at least 1");const w=A+u,E=c+m;if(E>this.height||w>this.width)throw new y("The region must fit inside the matrix");const C=this.rowSize,I=this.bits;for(let R=c;R<E;R++){const Q=R*C;for(let W=A;W<w;W++)I[Q+Math.floor(W/32)]|=1<<(W&31)&4294967295}}getRow(A,c){c==null||c.getSize()<this.width?c=new re(this.width):c.clear();const u=this.rowSize,m=this.bits,w=A*u;for(let E=0;E<u;E++)c.setBulk(E*32,m[w+E]);return c}setRow(A,c){F.arraycopy(c.getBitArray(),0,this.bits,A*this.rowSize,this.rowSize)}rotate180(){const A=this.getWidth(),c=this.getHeight();let u=new re(A),m=new re(A);for(let w=0,E=Math.floor((c+1)/2);w<E;w++)u=this.getRow(w,u),m=this.getRow(c-1-w,m),u.reverse(),m.reverse(),this.setRow(w,m),this.setRow(c-1-w,u)}getEnclosingRectangle(){const A=this.width,c=this.height,u=this.rowSize,m=this.bits;let w=A,E=c,C=-1,I=-1;for(let R=0;R<c;R++)for(let Q=0;Q<u;Q++){const W=m[R*u+Q];if(W!==0){if(R<E&&(E=R),R>I&&(I=R),Q*32<w){let ee=0;for(;(W<<31-ee&4294967295)===0;)ee++;Q*32+ee<w&&(w=Q*32+ee)}if(Q*32+31>C){let ee=31;for(;!(W>>>ee);)ee--;Q*32+ee>C&&(C=Q*32+ee)}}}return C<w||I<E?null:Int32Array.from([w,E,C-w+1,I-E+1])}getTopLeftOnBit(){const A=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const m=u/A;let w=u%A*32;const E=c[u];let C=0;for(;(E<<31-C&4294967295)===0;)C++;return w+=C,Int32Array.from([w,m])}getBottomRightOnBit(){const A=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const m=Math.floor(u/A);let w=Math.floor(u%A)*32;const E=c[u];let C=31;for(;!(E>>>C);)C--;return w+=C,Int32Array.from([w,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(A){if(!(A instanceof Ie))return!1;const c=A;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&V.equals(this.bits,c.bits)}hashCode(){let A=this.width;return A=31*A+this.width,A=31*A+this.height,A=31*A+this.rowSize,A=31*A+V.hashCode(this.bits),A}toString(A="X ",c="  ",u=`
`){return this.buildToString(A,c,u)}buildToString(A,c,u){let m=new K;for(let w=0,E=this.height;w<E;w++){for(let C=0,I=this.width;C<I;C++)m.append(this.get(C,w)?A:c);m.append(u)}return m.toString()}clone(){return new Ie(this.width,this.height,this.rowSize,this.bits.slice())}}class xe extends h{static getNotFoundInstance(){return new xe}}xe.kind="NotFoundException";class ie extends S{constructor(A){super(A),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(A,c){const u=this.getLuminanceSource(),m=u.getWidth();c==null||c.getSize()<m?c=new re(m):c.clear(),this.initArrays(m);const w=u.getRow(A,this.luminances),E=this.buckets;for(let I=0;I<m;I++)E[(w[I]&255)>>ie.LUMINANCE_SHIFT]++;const C=ie.estimateBlackPoint(E);if(m<3)for(let I=0;I<m;I++)(w[I]&255)<C&&c.set(I);else{let I=w[0]&255,R=w[1]&255;for(let Q=1;Q<m-1;Q++){const W=w[Q+1]&255;(R*4-I-W)/2<C&&c.set(Q),I=R,R=W}}return c}getBlackMatrix(){const A=this.getLuminanceSource(),c=A.getWidth(),u=A.getHeight(),m=new Ie(c,u);this.initArrays(c);const w=this.buckets;for(let I=1;I<5;I++){const R=Math.floor(u*I/5),Q=A.getRow(R,this.luminances),W=Math.floor(c*4/5);for(let ee=Math.floor(c/5);ee<W;ee++){const we=Q[ee]&255;w[we>>ie.LUMINANCE_SHIFT]++}}const E=ie.estimateBlackPoint(w),C=A.getMatrix();for(let I=0;I<u;I++){const R=I*c;for(let Q=0;Q<c;Q++)(C[R+Q]&255)<E&&m.set(Q,I)}return m}createBinarizer(A){return new ie(A)}initArrays(A){this.luminances.length<A&&(this.luminances=new Uint8ClampedArray(A));const c=this.buckets;for(let u=0;u<ie.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(A){const c=A.length;let u=0,m=0,w=0;for(let Q=0;Q<c;Q++)A[Q]>w&&(m=Q,w=A[Q]),A[Q]>u&&(u=A[Q]);let E=0,C=0;for(let Q=0;Q<c;Q++){const W=Q-m,ee=A[Q]*W*W;ee>C&&(E=Q,C=ee)}if(m>E){const Q=m;m=E,E=Q}if(E-m<=c/16)throw new xe;let I=E-1,R=-1;for(let Q=E-1;Q>m;Q--){const W=Q-m,ee=W*W*(E-Q)*(u-A[Q]);ee>R&&(I=Q,R=ee)}return I<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class ue extends ie{constructor(A){super(A),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const A=this.getLuminanceSource(),c=A.getWidth(),u=A.getHeight();if(c>=ue.MINIMUM_DIMENSION&&u>=ue.MINIMUM_DIMENSION){const m=A.getMatrix();let w=c>>ue.BLOCK_SIZE_POWER;(c&ue.BLOCK_SIZE_MASK)!==0&&w++;let E=u>>ue.BLOCK_SIZE_POWER;(u&ue.BLOCK_SIZE_MASK)!==0&&E++;const C=ue.calculateBlackPoints(m,w,E,c,u),I=new Ie(c,u);ue.calculateThresholdForBlock(m,w,E,c,u,C,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(A){return new ue(A)}static calculateThresholdForBlock(A,c,u,m,w,E,C){const I=w-ue.BLOCK_SIZE,R=m-ue.BLOCK_SIZE;for(let Q=0;Q<u;Q++){let W=Q<<ue.BLOCK_SIZE_POWER;W>I&&(W=I);const ee=ue.cap(Q,2,u-3);for(let we=0;we<c;we++){let be=we<<ue.BLOCK_SIZE_POWER;be>R&&(be=R);const Te=ue.cap(we,2,c-3);let De=0;for(let xt=-2;xt<=2;xt++){const dt=E[ee+xt];De+=dt[Te-2]+dt[Te-1]+dt[Te]+dt[Te+1]+dt[Te+2]}const Xe=De/25;ue.thresholdBlock(A,be,W,Xe,m,C)}}}static cap(A,c,u){return A<c?c:A>u?u:A}static thresholdBlock(A,c,u,m,w,E){for(let C=0,I=u*w+c;C<ue.BLOCK_SIZE;C++,I+=w)for(let R=0;R<ue.BLOCK_SIZE;R++)(A[I+R]&255)<=m&&E.set(c+R,u+C)}static calculateBlackPoints(A,c,u,m,w){const E=w-ue.BLOCK_SIZE,C=m-ue.BLOCK_SIZE,I=new Array(u);for(let R=0;R<u;R++){I[R]=new Int32Array(c);let Q=R<<ue.BLOCK_SIZE_POWER;Q>E&&(Q=E);for(let W=0;W<c;W++){let ee=W<<ue.BLOCK_SIZE_POWER;ee>C&&(ee=C);let we=0,be=255,Te=0;for(let Xe=0,xt=Q*m+ee;Xe<ue.BLOCK_SIZE;Xe++,xt+=m){for(let dt=0;dt<ue.BLOCK_SIZE;dt++){const lt=A[xt+dt]&255;we+=lt,lt<be&&(be=lt),lt>Te&&(Te=lt)}if(Te-be>ue.MIN_DYNAMIC_RANGE)for(Xe++,xt+=m;Xe<ue.BLOCK_SIZE;Xe++,xt+=m)for(let dt=0;dt<ue.BLOCK_SIZE;dt++)we+=A[xt+dt]&255}let De=we>>ue.BLOCK_SIZE_POWER*2;if(Te-be<=ue.MIN_DYNAMIC_RANGE&&(De=be/2,R>0&&W>0)){const Xe=(I[R-1][W]+2*I[R][W-1]+I[R-1][W-1])/4;be<Xe&&(De=Xe)}I[R][W]=De}}return I}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class Ve{constructor(A,c){this.width=A,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(A,c,u,m){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const A=new Uint8ClampedArray(this.width);let c=new K;for(let u=0;u<this.height;u++){const m=this.getRow(u,A);for(let w=0;w<this.width;w++){const E=m[w]&255;let C;E<64?C="#":E<128?C="+":E<192?C=".":C=" ",c.append(C)}c.append(`
`)}return c.toString()}}class Ee extends Ve{constructor(A){super(A.getWidth(),A.getHeight()),this.delegate=A}getRow(A,c){const u=this.delegate.getRow(A,c),m=this.getWidth();for(let w=0;w<m;w++)u[w]=255-(u[w]&255);return u}getMatrix(){const A=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let m=0;m<c;m++)u[m]=255-(A[m]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(A,c,u,m){return new Ee(this.delegate.crop(A,c,u,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ee(this.delegate.rotateCounterClockwise45())}}class $e extends Ve{constructor(A){super(A.width,A.height),this.canvas=A,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(A)}static makeBufferFromCanvasImageData(A){const c=A.getContext("2d").getImageData(0,0,A.width,A.height);return $e.toGrayscaleBuffer(c.data,A.width,A.height)}static toGrayscaleBuffer(A,c,u){const m=new Uint8ClampedArray(c*u);for(let w=0,E=0,C=A.length;w<C;w+=4,E++){let I;if(A[w+3]===0)I=255;else{const Q=A[w],W=A[w+1],ee=A[w+2];I=306*Q+601*W+117*ee+512>>10}m[E]=I}return m}getRow(A,c){if(A<0||A>=this.getHeight())throw new y("Requested row is outside the image: "+A);const u=this.getWidth(),m=A*u;return c===null?c=this.buffer.slice(m,m+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(m,m+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(A,c,u,m){return super.crop(A,c,u,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const A=this.canvas.ownerDocument.createElement("canvas");A.width=this.canvas.width,A.height=this.canvas.height,this.tempCanvasElement=A}return this.tempCanvasElement}rotate(A){const c=this.getTempCanvasElement(),u=c.getContext("2d"),m=A*$e.DEGREE_TO_RADIANS,w=this.canvas.width,E=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(m))*w+Math.abs(Math.sin(m))*E),I=Math.ceil(Math.abs(Math.sin(m))*w+Math.abs(Math.cos(m))*E);return c.width=C,c.height=I,u.translate(C/2,I/2),u.rotate(m),u.drawImage(this.canvas,w/-2,E/-2),this.buffer=$e.makeBufferFromCanvasImageData(c),this}invert(){return new Ee(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class Ae{constructor(A,c,u){this.deviceId=A,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var q=(globalThis||Cd||self||window||void 0)&&(globalThis||Cd||self||window||void 0).__awaiter||function(X,A,c,u){function m(w){return w instanceof c?w:new c(function(E){E(w)})}return new(c||(c=Promise))(function(w,E){function C(Q){try{R(u.next(Q))}catch(W){E(W)}}function I(Q){try{R(u.throw(Q))}catch(W){E(W)}}function R(Q){Q.done?w(Q.value):m(Q.value).then(C,I)}R((u=u.apply(X,A||[])).next())})};class pe{constructor(A,c=500,u){this.reader=A,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(A){this._timeBetweenDecodingAttempts=A<0?0:A}set hints(A){this._hints=A||null}get hints(){return this._hints}listVideoInputDevices(){return q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const A=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of A){const m=u.kind==="video"?"videoinput":u.kind;if(m!=="videoinput")continue;const w=u.deviceId||u.id,E=u.label||`Video device ${c.length+1}`,C=u.groupId,I={deviceId:w,label:E,kind:m,groupId:C};c.push(I)}return c})}getVideoInputDevices(){return q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new Ae(c.deviceId,c.label))})}findDeviceById(A){return q(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===A):null})}decodeFromInputVideoDevice(A,c){return q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(A,c)})}decodeOnceFromVideoDevice(A,c){return q(this,void 0,void 0,function*(){this.reset();let u;A?u={deviceId:{exact:A}}:u={facingMode:"environment"};const m={video:u};return yield this.decodeOnceFromConstraints(m,c)})}decodeOnceFromConstraints(A,c){return q(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(A,c){return q(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(A,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(A,c,u){return q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(A,c,u)})}decodeFromVideoDevice(A,c,u){return q(this,void 0,void 0,function*(){let m;A?m={deviceId:{exact:A}}:m={facingMode:"environment"};const w={video:m};return yield this.decodeFromConstraints(w,c,u)})}decodeFromConstraints(A,c,u){return q(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeFromStream(m,c,u)})}decodeFromStream(A,c,u){return q(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(A,c);return yield this.decodeContinuously(m,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(A,c){return q(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,A),this.videoElement=u,this.stream=A,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(A){return new Promise((c,u)=>this.playVideoOnLoad(A,()=>c()))}playVideoOnLoad(A,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(A),A.addEventListener("ended",this.videoEndedListener),A.addEventListener("canplay",this.videoCanPlayListener),A.addEventListener("playing",c),this.tryPlayVideo(A)}isVideoPlaying(A){return A.currentTime>0&&!A.paused&&!A.ended&&A.readyState>2}tryPlayVideo(A){return q(this,void 0,void 0,function*(){if(this.isVideoPlaying(A)){console.warn("Trying to play video that is already playing.");return}try{yield A.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(A,c){const u=document.getElementById(A);if(!u)throw new p(`element with id '${A}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new p(`element with id '${A}' must be an ${c} element`);return u}decodeFromImage(A,c){if(!A&&!c)throw new p("either imageElement with a src set or an url must be provided");return c&&!A?this.decodeFromImageUrl(c):this.decodeFromImageElement(A)}decodeFromVideo(A,c){if(!A&&!c)throw new p("Either an element with a src set or an URL must be provided");return c&&!A?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(A)}decodeFromVideoContinuously(A,c,u){if(A===void 0&&c===void 0)throw new p("Either an element with a src set or an URL must be provided");return c&&!A?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(A,u)}decodeFromImageElement(A){if(!A)throw new p("An image element must be provided.");this.reset();const c=this.prepareImageElement(A);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(A){const c=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(A,c){const u=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(A){if(!A)throw new p("A video element must be provided.");this.reset();const c=this.prepareVideoElement(A);return this.videoElement=c,c}decodeFromImageUrl(A){if(!A)throw new p("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=A,u}decodeFromVideoUrl(A){if(!A)throw new p("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=A,u}decodeFromVideoUrlContinuously(A,c){if(!A)throw new p("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(u,c);return u.src=A,m}_decodeOnLoadImage(A){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(A,!1,!0).then(c,u),A.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(A){return q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(A),yield this.decodeOnce(A)})}_decodeOnLoadVideoContinuously(A,c){return q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(A),this.decodeContinuously(A,c)})}isImageLoaded(A){return!(!A.complete||A.naturalWidth===0)}prepareImageElement(A){let c;return typeof A>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof A=="string"&&(c=this.getMediaElement(A,"img")),A instanceof HTMLImageElement&&(c=A),c}prepareVideoElement(A){let c;return!A&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof A=="string"&&(c=this.getMediaElement(A,"video")),A instanceof HTMLVideoElement&&(c=A),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(A,c=!0,u=!0){this._stopAsyncDecode=!1;const m=(w,E)=>{if(this._stopAsyncDecode){E(new xe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(A);w(C)}catch(C){const I=c&&C instanceof xe,Q=(C instanceof T||C instanceof O)&&u;if(I||Q)return setTimeout(m,this._timeBetweenDecodingAttempts,w,E);E(C)}};return new Promise((w,E)=>m(w,E))}decodeContinuously(A,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(A);c(m,null),setTimeout(u,this.timeBetweenScansMillis)}catch(m){c(null,m);const w=m instanceof T||m instanceof O,E=m instanceof xe;(w||E)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(A){const c=this.createBinaryBitmap(A);return this.decodeBitmap(c)}_isHTMLVideoElement(A){return A.videoWidth!==0}drawFrameOnCanvas(A,c,u){c||(c={sx:0,sy:0,sWidth:A.videoWidth,sHeight:A.videoHeight,dx:0,dy:0,dWidth:A.videoWidth,dHeight:A.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(A,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(A,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:A.naturalWidth,sHeight:A.naturalHeight,dx:0,dy:0,dWidth:A.naturalWidth,dHeight:A.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(A,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(A){this.getCaptureCanvasContext(A),this._isHTMLVideoElement(A)?this.drawFrameOnCanvas(A):this.drawImageOnCanvas(A);const c=this.getCaptureCanvas(A),u=new $e(c),m=new ue(u);return new B(m)}getCaptureCanvasContext(A){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(A).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(A){if(!this.captureCanvas){const c=this.createCaptureCanvas(A);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(A){return this.reader.decode(A,this._hints)}createCaptureCanvas(A){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,m;return typeof A<"u"&&(A instanceof HTMLVideoElement?(u=A.videoWidth,m=A.videoHeight):A instanceof HTMLImageElement&&(u=A.naturalWidth||A.width,m=A.naturalHeight||A.height)),c.style.width=u+"px",c.style.height=m+"px",c.width=u,c.height=m,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(A=>A.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(A,c){try{A.srcObject=c}catch{A.src=URL.createObjectURL(c)}}cleanVideoSource(A){try{A.srcObject=null}catch{A.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(A,c,u=c==null?0:8*c.length,m,w,E=F.currentTimeMillis()){this.text=A,this.rawBytes=c,this.numBits=u,this.resultPoints=m,this.format=w,this.timestamp=E,this.text=A,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=m,this.format=w,this.resultMetadata=null,E==null?this.timestamp=F.currentTimeMillis():this.timestamp=E}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(A,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(A,c)}putAllMetadata(A){A!==null&&(this.resultMetadata===null?this.resultMetadata=A:this.resultMetadata=new Map(A))}addResultPoints(A){const c=this.resultPoints;if(c===null)this.resultPoints=A;else if(A!==null&&A.length>0){const u=new Array(c.length+A.length);F.arraycopy(c,0,u,0,c.length),F.arraycopy(A,0,u,c.length,A.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var me;(function(X){X[X.AZTEC=0]="AZTEC",X[X.CODABAR=1]="CODABAR",X[X.CODE_39=2]="CODE_39",X[X.CODE_93=3]="CODE_93",X[X.CODE_128=4]="CODE_128",X[X.DATA_MATRIX=5]="DATA_MATRIX",X[X.EAN_8=6]="EAN_8",X[X.EAN_13=7]="EAN_13",X[X.ITF=8]="ITF",X[X.MAXICODE=9]="MAXICODE",X[X.PDF_417=10]="PDF_417",X[X.QR_CODE=11]="QR_CODE",X[X.RSS_14=12]="RSS_14",X[X.RSS_EXPANDED=13]="RSS_EXPANDED",X[X.UPC_A=14]="UPC_A",X[X.UPC_E=15]="UPC_E",X[X.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(me||(me={}));var Ce=me,ze;(function(X){X[X.OTHER=0]="OTHER",X[X.ORIENTATION=1]="ORIENTATION",X[X.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",X[X.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",X[X.ISSUE_NUMBER=4]="ISSUE_NUMBER",X[X.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",X[X.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",X[X.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",X[X.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",X[X.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",X[X.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ze||(ze={}));var ye=ze;class ae{constructor(A,c,u,m,w=-1,E=-1){this.rawBytes=A,this.text=c,this.byteSegments=u,this.ecLevel=m,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=E,this.numBits=A==null?0:8*A.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(A){this.numBits=A}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(A){this.errorsCorrected=A}getErasures(){return this.erasures}setErasures(A){this.erasures=A}getOther(){return this.other}setOther(A){this.other=A}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class _e{exp(A){return this.expTable[A]}log(A){if(A===0)throw new y;return this.logTable[A]}static addOrSubtract(A,c){return A^c}}class Re{constructor(A,c){if(c.length===0)throw new y;this.field=A;const u=c.length;if(u>1&&c[0]===0){let m=1;for(;m<u&&c[m]===0;)m++;m===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-m),F.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(A===1){u=0;for(let E=0,C=c.length;E!==C;E++){const I=c[E];u=_e.addOrSubtract(u,I)}return u}u=c[0];const m=c.length,w=this.field;for(let E=1;E<m;E++)u=_e.addOrSubtract(w.multiply(A,u),c[E]);return u}addOrSubtract(A){if(!this.field.equals(A.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return A;if(A.isZero())return this;let c=this.coefficients,u=A.coefficients;if(c.length>u.length){const E=c;c=u,u=E}let m=new Int32Array(u.length);const w=u.length-c.length;F.arraycopy(u,0,m,0,w);for(let E=w;E<u.length;E++)m[E]=_e.addOrSubtract(c[E-w],u[E]);return new Re(this.field,m)}multiply(A){if(!this.field.equals(A.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||A.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,m=A.coefficients,w=m.length,E=new Int32Array(u+w-1),C=this.field;for(let I=0;I<u;I++){const R=c[I];for(let Q=0;Q<w;Q++)E[I+Q]=_e.addOrSubtract(E[I+Q],C.multiply(R,m[Q]))}return new Re(C,E)}multiplyScalar(A){if(A===0)return this.field.getZero();if(A===1)return this;const c=this.coefficients.length,u=this.field,m=new Int32Array(c),w=this.coefficients;for(let E=0;E<c;E++)m[E]=u.multiply(w[E],A);return new Re(u,m)}multiplyByMonomial(A,c){if(A<0)throw new y;if(c===0)return this.field.getZero();const u=this.coefficients,m=u.length,w=new Int32Array(m+A),E=this.field;for(let C=0;C<m;C++)w[C]=E.multiply(u[C],c);return new Re(E,w)}divide(A){if(!this.field.equals(A.field))throw new y("GenericGFPolys do not have same GenericGF field");if(A.isZero())throw new y("Divide by 0");const c=this.field;let u=c.getZero(),m=this;const w=A.getCoefficient(A.getDegree()),E=c.inverse(w);for(;m.getDegree()>=A.getDegree()&&!m.isZero();){const C=m.getDegree()-A.getDegree(),I=c.multiply(m.getCoefficient(m.getDegree()),E),R=A.multiplyByMonomial(C,I),Q=c.buildMonomial(C,I);u=u.addOrSubtract(Q),m=m.addOrSubtract(R)}return[u,m]}toString(){let A="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(A+=" - ",u=-u):A.length>0&&(A+=" + "),c===0||u!==1){const m=this.field.log(u);m===0?A+="1":m===1?A+="a":(A+="a^",A+=m)}c!==0&&(c===1?A+="x":(A+="x^",A+=c))}}return A}}class fe extends h{}fe.kind="ArithmeticException";class yt extends _e{constructor(A,c,u){super(),this.primitive=A,this.size=c,this.generatorBase=u;const m=new Int32Array(c);let w=1;for(let C=0;C<c;C++)m[C]=w,w*=2,w>=c&&(w^=A,w&=c-1);this.expTable=m;const E=new Int32Array(c);for(let C=0;C<c-1;C++)E[m[C]]=C;this.logTable=E,this.zero=new Re(this,Int32Array.from([0])),this.one=new Re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,c){if(A<0)throw new y;if(c===0)return this.zero;const u=new Int32Array(A+1);return u[0]=c,new Re(this,u)}inverse(A){if(A===0)throw new fe;return this.expTable[this.size-this.logTable[A]-1]}multiply(A,c){return A===0||c===0?0:this.expTable[(this.logTable[A]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(A){return A===this}}yt.AZTEC_DATA_12=new yt(4201,4096,1),yt.AZTEC_DATA_10=new yt(1033,1024,1),yt.AZTEC_DATA_6=new yt(67,64,1),yt.AZTEC_PARAM=new yt(19,16,1),yt.QR_CODE_FIELD_256=new yt(285,256,0),yt.DATA_MATRIX_FIELD_256=new yt(301,256,1),yt.AZTEC_DATA_8=yt.DATA_MATRIX_FIELD_256,yt.MAXICODE_FIELD_64=yt.AZTEC_DATA_6;class _t extends h{}_t.kind="ReedSolomonException";class et extends h{}et.kind="IllegalStateException";class gt{constructor(A){this.field=A}decode(A,c){const u=this.field,m=new Re(u,A),w=new Int32Array(c);let E=!0;for(let we=0;we<c;we++){const be=m.evaluateAt(u.exp(we+u.getGeneratorBase()));w[w.length-1-we]=be,be!==0&&(E=!1)}if(E)return;const C=new Re(u,w),I=this.runEuclideanAlgorithm(u.buildMonomial(c,1),C,c),R=I[0],Q=I[1],W=this.findErrorLocations(R),ee=this.findErrorMagnitudes(Q,W);for(let we=0;we<W.length;we++){const be=A.length-1-u.log(W[we]);if(be<0)throw new _t("Bad error location");A[be]=yt.addOrSubtract(A[be],ee[we])}}runEuclideanAlgorithm(A,c,u){if(A.getDegree()<c.getDegree()){const we=A;A=c,c=we}const m=this.field;let w=A,E=c,C=m.getZero(),I=m.getOne();for(;E.getDegree()>=(u/2|0);){let we=w,be=C;if(w=E,C=I,w.isZero())throw new _t("r_{i-1} was zero");E=we;let Te=m.getZero();const De=w.getCoefficient(w.getDegree()),Xe=m.inverse(De);for(;E.getDegree()>=w.getDegree()&&!E.isZero();){const xt=E.getDegree()-w.getDegree(),dt=m.multiply(E.getCoefficient(E.getDegree()),Xe);Te=Te.addOrSubtract(m.buildMonomial(xt,dt)),E=E.addOrSubtract(w.multiplyByMonomial(xt,dt))}if(I=Te.multiply(C).addOrSubtract(be),E.getDegree()>=w.getDegree())throw new et("Division algorithm failed to reduce polynomial?")}const R=I.getCoefficient(0);if(R===0)throw new _t("sigmaTilde(0) was zero");const Q=m.inverse(R),W=I.multiplyScalar(Q),ee=E.multiplyScalar(Q);return[W,ee]}findErrorLocations(A){const c=A.getDegree();if(c===1)return Int32Array.from([A.getCoefficient(1)]);const u=new Int32Array(c);let m=0;const w=this.field;for(let E=1;E<w.getSize()&&m<c;E++)A.evaluateAt(E)===0&&(u[m]=w.inverse(E),m++);if(m!==c)throw new _t("Error locator degree does not match number of roots");return u}findErrorMagnitudes(A,c){const u=c.length,m=new Int32Array(u),w=this.field;for(let E=0;E<u;E++){const C=w.inverse(c[E]);let I=1;for(let R=0;R<u;R++)if(E!==R){const Q=w.multiply(c[R],C),W=(Q&1)===0?Q|1:Q&-2;I=w.multiply(I,W)}m[E]=w.multiply(A.evaluateAt(C),w.inverse(I)),w.getGeneratorBase()!==0&&(m[E]=w.multiply(m[E],C))}return m}}var rt;(function(X){X[X.UPPER=0]="UPPER",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.DIGIT=3]="DIGIT",X[X.PUNCT=4]="PUNCT",X[X.BINARY=5]="BINARY"})(rt||(rt={}));class Ct{decode(A){this.ddata=A;let c=A.getBits(),u=this.extractBits(c),m=this.correctBits(u),w=Ct.convertBoolArrayToByteArray(m),E=Ct.getEncodedData(m),C=new ae(w,E,null,null);return C.setNumBits(m.length),C}static highLevelDecode(A){return this.getEncodedData(A)}static getEncodedData(A){let c=A.length,u=rt.UPPER,m=rt.UPPER,w="",E=0;for(;E<c;)if(m===rt.BINARY){if(c-E<5)break;let C=Ct.readCode(A,E,5);if(E+=5,C===0){if(c-E<11)break;C=Ct.readCode(A,E,11)+31,E+=11}for(let I=0;I<C;I++){if(c-E<8){E=c;break}const R=Ct.readCode(A,E,8);w+=G.castAsNonUtf8Char(R),E+=8}m=u}else{let C=m===rt.DIGIT?4:5;if(c-E<C)break;let I=Ct.readCode(A,E,C);E+=C;let R=Ct.getCharacter(m,I);R.startsWith("CTRL_")?(u=m,m=Ct.getTable(R.charAt(5)),R.charAt(6)==="L"&&(u=m)):(w+=R,m=u)}return w}static getTable(A){switch(A){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}}static getCharacter(A,c){switch(A){case rt.UPPER:return Ct.UPPER_TABLE[c];case rt.LOWER:return Ct.LOWER_TABLE[c];case rt.MIXED:return Ct.MIXED_TABLE[c];case rt.PUNCT:return Ct.PUNCT_TABLE[c];case rt.DIGIT:return Ct.DIGIT_TABLE[c];default:throw new et("Bad table")}}correctBits(A){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=yt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=yt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=yt.AZTEC_DATA_10):(u=12,c=yt.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),w=A.length/u;if(w<m)throw new O;let E=A.length%u,C=new Int32Array(w);for(let ee=0;ee<w;ee++,E+=u)C[ee]=Ct.readCode(A,E,u);try{new gt(c).decode(C,w-m)}catch(ee){throw new O(ee)}let I=(1<<u)-1,R=0;for(let ee=0;ee<m;ee++){let we=C[ee];if(we===0||we===I)throw new O;(we===1||we===I-1)&&R++}let Q=new Array(m*u-R),W=0;for(let ee=0;ee<m;ee++){let we=C[ee];if(we===1||we===I-1)Q.fill(we>1,W,W+u-1),W+=u-1;else for(let be=u-1;be>=0;--be)Q[W++]=(we&1<<be)!==0}return Q}extractBits(A){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),m=(c?11:14)+u*4,w=new Int32Array(m),E=new Array(this.totalBitsInLayer(u,c));if(c)for(let C=0;C<w.length;C++)w[C]=C;else{let C=m+1+2*j.truncDivision(j.truncDivision(m,2)-1,15),I=m/2,R=j.truncDivision(C,2);for(let Q=0;Q<I;Q++){let W=Q+j.truncDivision(Q,15);w[I-Q-1]=R-W-1,w[I+Q]=R+W+1}}for(let C=0,I=0;C<u;C++){let R=(u-C)*4+(c?9:12),Q=C*2,W=m-1-Q;for(let ee=0;ee<R;ee++){let we=ee*2;for(let be=0;be<2;be++)E[I+we+be]=A.get(w[Q+be],w[Q+ee]),E[I+2*R+we+be]=A.get(w[Q+ee],w[W-be]),E[I+4*R+we+be]=A.get(w[W-be],w[W-ee]),E[I+6*R+we+be]=A.get(w[W-ee],w[Q+be])}I+=R*8}return E}static readCode(A,c,u){let m=0;for(let w=c;w<c+u;w++)m<<=1,A[w]&&(m|=1);return m}static readByte(A,c){let u=A.length-c;return u>=8?Ct.readCode(A,c,8):Ct.readCode(A,c,u)<<8-u}static convertBoolArrayToByteArray(A){let c=new Uint8Array((A.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Ct.readByte(A,8*u);return c}totalBitsInLayer(A,c){return((c?88:112)+16*A)*A}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class kt{constructor(){}static round(A){return A===NaN?0:A<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:A>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:A+(A<0?-.5:.5)|0}static distance(A,c,u,m){const w=A-u,E=c-m;return Math.sqrt(w*w+E*E)}static sum(A){let c=0;for(let u=0,m=A.length;u!==m;u++){const w=A[u];c+=w}return c}}class mr{static floatToIntBits(A){return A}}mr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class vt{constructor(A,c){this.x=A,this.y=c}getX(){return this.x}getY(){return this.y}equals(A){if(A instanceof vt){const c=A;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*mr.floatToIntBits(this.x)+mr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(A){const c=this.distance(A[0],A[1]),u=this.distance(A[1],A[2]),m=this.distance(A[0],A[2]);let w,E,C;if(u>=c&&u>=m?(E=A[0],w=A[1],C=A[2]):m>=u&&m>=c?(E=A[1],w=A[0],C=A[2]):(E=A[2],w=A[0],C=A[1]),this.crossProductZ(w,E,C)<0){const I=w;w=C,C=I}A[0]=w,A[1]=E,A[2]=C}static distance(A,c){return kt.distance(A.x,A.y,c.x,c.y)}static crossProductZ(A,c,u){const m=c.x,w=c.y;return(u.x-m)*(A.y-w)-(u.y-w)*(A.x-m)}}class Ca{constructor(A,c){this.bits=A,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Wn extends Ca{constructor(A,c,u,m,w){super(A,c),this.compact=u,this.nbDatablocks=m,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tr{constructor(A,c,u,m){this.image=A,this.height=A.getHeight(),this.width=A.getWidth(),c==null&&(c=tr.INIT_SIZE),u==null&&(u=A.getWidth()/2|0),m==null&&(m=A.getHeight()/2|0);const w=c/2|0;if(this.leftInit=u-w,this.rightInit=u+w,this.upInit=m-w,this.downInit=m+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}detect(){let A=this.leftInit,c=this.rightInit,u=this.upInit,m=this.downInit,w=!1,E=!0,C=!1,I=!1,R=!1,Q=!1,W=!1;const ee=this.width,we=this.height;for(;E;){E=!1;let be=!0;for(;(be||!I)&&c<ee;)be=this.containsBlackPoint(u,m,c,!1),be?(c++,E=!0,I=!0):I||c++;if(c>=ee){w=!0;break}let Te=!0;for(;(Te||!R)&&m<we;)Te=this.containsBlackPoint(A,c,m,!0),Te?(m++,E=!0,R=!0):R||m++;if(m>=we){w=!0;break}let De=!0;for(;(De||!Q)&&A>=0;)De=this.containsBlackPoint(u,m,A,!1),De?(A--,E=!0,Q=!0):Q||A--;if(A<0){w=!0;break}let Xe=!0;for(;(Xe||!W)&&u>=0;)Xe=this.containsBlackPoint(A,c,u,!0),Xe?(u--,E=!0,W=!0):W||u--;if(u<0){w=!0;break}E&&(C=!0)}if(!w&&C){const be=c-A;let Te=null;for(let dt=1;Te===null&&dt<be;dt++)Te=this.getBlackPointOnSegment(A,m-dt,A+dt,m);if(Te==null)throw new xe;let De=null;for(let dt=1;De===null&&dt<be;dt++)De=this.getBlackPointOnSegment(A,u+dt,A+dt,u);if(De==null)throw new xe;let Xe=null;for(let dt=1;Xe===null&&dt<be;dt++)Xe=this.getBlackPointOnSegment(c,u+dt,c-dt,u);if(Xe==null)throw new xe;let xt=null;for(let dt=1;xt===null&&dt<be;dt++)xt=this.getBlackPointOnSegment(c,m-dt,c-dt,m);if(xt==null)throw new xe;return this.centerEdges(xt,Te,Xe,De)}else throw new xe}getBlackPointOnSegment(A,c,u,m){const w=kt.round(kt.distance(A,c,u,m)),E=(u-A)/w,C=(m-c)/w,I=this.image;for(let R=0;R<w;R++){const Q=kt.round(A+R*E),W=kt.round(c+R*C);if(I.get(Q,W))return new vt(Q,W)}return null}centerEdges(A,c,u,m){const w=A.getX(),E=A.getY(),C=c.getX(),I=c.getY(),R=u.getX(),Q=u.getY(),W=m.getX(),ee=m.getY(),we=tr.CORR;return w<this.width/2?[new vt(W-we,ee+we),new vt(C+we,I+we),new vt(R-we,Q-we),new vt(w+we,E-we)]:[new vt(W+we,ee+we),new vt(C+we,I-we),new vt(R-we,Q+we),new vt(w-we,E-we)]}containsBlackPoint(A,c,u,m){const w=this.image;if(m){for(let E=A;E<=c;E++)if(w.get(E,u))return!0}else for(let E=A;E<=c;E++)if(w.get(u,E))return!0;return!1}}tr.INIT_SIZE=10,tr.CORR=1;class Cn{static checkAndNudgePoints(A,c){const u=A.getWidth(),m=A.getHeight();let w=!0;for(let E=0;E<c.length&&w;E+=2){const C=Math.floor(c[E]),I=Math.floor(c[E+1]);if(C<-1||C>u||I<-1||I>m)throw new xe;w=!1,C===-1?(c[E]=0,w=!0):C===u&&(c[E]=u-1,w=!0),I===-1?(c[E+1]=0,w=!0):I===m&&(c[E+1]=m-1,w=!0)}w=!0;for(let E=c.length-2;E>=0&&w;E-=2){const C=Math.floor(c[E]),I=Math.floor(c[E+1]);if(C<-1||C>u||I<-1||I>m)throw new xe;w=!1,C===-1?(c[E]=0,w=!0):C===u&&(c[E]=u-1,w=!0),I===-1?(c[E+1]=0,w=!0):I===m&&(c[E+1]=m-1,w=!0)}}}class Jt{constructor(A,c,u,m,w,E,C,I,R){this.a11=A,this.a21=c,this.a31=u,this.a12=m,this.a22=w,this.a32=E,this.a13=C,this.a23=I,this.a33=R}static quadrilateralToQuadrilateral(A,c,u,m,w,E,C,I,R,Q,W,ee,we,be,Te,De){const Xe=Jt.quadrilateralToSquare(A,c,u,m,w,E,C,I);return Jt.squareToQuadrilateral(R,Q,W,ee,we,be,Te,De).times(Xe)}transformPoints(A){const c=A.length,u=this.a11,m=this.a12,w=this.a13,E=this.a21,C=this.a22,I=this.a23,R=this.a31,Q=this.a32,W=this.a33;for(let ee=0;ee<c;ee+=2){const we=A[ee],be=A[ee+1],Te=w*we+I*be+W;A[ee]=(u*we+E*be+R)/Te,A[ee+1]=(m*we+C*be+Q)/Te}}transformPointsWithValues(A,c){const u=this.a11,m=this.a12,w=this.a13,E=this.a21,C=this.a22,I=this.a23,R=this.a31,Q=this.a32,W=this.a33,ee=A.length;for(let we=0;we<ee;we++){const be=A[we],Te=c[we],De=w*be+I*Te+W;A[we]=(u*be+E*Te+R)/De,c[we]=(m*be+C*Te+Q)/De}}static squareToQuadrilateral(A,c,u,m,w,E,C,I){const R=A-u+w-C,Q=c-m+E-I;if(R===0&&Q===0)return new Jt(u-A,w-u,A,m-c,E-m,c,0,0,1);{const W=u-w,ee=C-w,we=m-E,be=I-E,Te=W*be-ee*we,De=(R*be-ee*Q)/Te,Xe=(W*Q-R*we)/Te;return new Jt(u-A+De*u,C-A+Xe*C,A,m-c+De*m,I-c+Xe*I,c,De,Xe,1)}}static quadrilateralToSquare(A,c,u,m,w,E,C,I){return Jt.squareToQuadrilateral(A,c,u,m,w,E,C,I).buildAdjoint()}buildAdjoint(){return new Jt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(A){return new Jt(this.a11*A.a11+this.a21*A.a12+this.a31*A.a13,this.a11*A.a21+this.a21*A.a22+this.a31*A.a23,this.a11*A.a31+this.a21*A.a32+this.a31*A.a33,this.a12*A.a11+this.a22*A.a12+this.a32*A.a13,this.a12*A.a21+this.a22*A.a22+this.a32*A.a23,this.a12*A.a31+this.a22*A.a32+this.a32*A.a33,this.a13*A.a11+this.a23*A.a12+this.a33*A.a13,this.a13*A.a21+this.a23*A.a22+this.a33*A.a23,this.a13*A.a31+this.a23*A.a32+this.a33*A.a33)}}class Vr extends Cn{sampleGrid(A,c,u,m,w,E,C,I,R,Q,W,ee,we,be,Te,De,Xe,xt,dt){const lt=Jt.quadrilateralToQuadrilateral(m,w,E,C,I,R,Q,W,ee,we,be,Te,De,Xe,xt,dt);return this.sampleGridWithTransform(A,c,u,lt)}sampleGridWithTransform(A,c,u,m){if(c<=0||u<=0)throw new xe;const w=new Ie(c,u),E=new Float32Array(2*c);for(let C=0;C<u;C++){const I=E.length,R=C+.5;for(let Q=0;Q<I;Q+=2)E[Q]=Q/2+.5,E[Q+1]=R;m.transformPoints(E),Cn.checkAndNudgePoints(A,E);try{for(let Q=0;Q<I;Q+=2)A.get(Math.floor(E[Q]),Math.floor(E[Q+1]))&&w.set(Q/2,C)}catch{throw new xe}}return w}}class Ze{static setGridSampler(A){Ze.gridSampler=A}static getInstance(){return Ze.gridSampler}}Ze.gridSampler=new Vr;class Nt{constructor(A,c){this.x=A,this.y=c}toResultPoint(){return new vt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tt{constructor(A){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=A}detect(){return this.detectMirror(!1)}detectMirror(A){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(A){let E=u[0];u[0]=u[2],u[2]=E}this.extractParameters(u);let m=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),w=this.getMatrixCornerPoints(u);return new Wn(m,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(A){if(!this.isValidPoint(A[0])||!this.isValidPoint(A[1])||!this.isValidPoint(A[2])||!this.isValidPoint(A[3]))throw new xe;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(A[0],A[1],c),this.sampleLine(A[1],A[2],c),this.sampleLine(A[2],A[3],c),this.sampleLine(A[3],A[0],c)]);this.shift=this.getRotation(u,c);let m=0;for(let E=0;E<4;E++){let C=u[(this.shift+E)%4];this.compact?(m<<=7,m+=C>>1&127):(m<<=10,m+=(C>>2&992)+(C>>1&31))}let w=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(A,c){let u=0;A.forEach((m,w,E)=>{let C=(m>>c-2<<1)+(m&1);u=(u<<3)+C}),u=((u&1)<<11)+(u>>1);for(let m=0;m<4;m++)if(j.bitCount(u^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new xe}getCorrectedParameterData(A,c){let u,m;c?(u=7,m=2):(u=10,m=4);let w=u-m,E=new Int32Array(u);for(let I=u-1;I>=0;--I)E[I]=A&15,A>>=4;try{new gt(yt.AZTEC_PARAM).decode(E,w)}catch{throw new xe}let C=0;for(let I=0;I<m;I++)C=(C<<4)+E[I];return C}getBullsEyeCorners(A){let c=A,u=A,m=A,w=A,E=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let W=this.getFirstDifferent(c,E,1,-1),ee=this.getFirstDifferent(u,E,1,1),we=this.getFirstDifferent(m,E,-1,1),be=this.getFirstDifferent(w,E,-1,-1);if(this.nbCenterLayers>2){let Te=this.distancePoint(be,W)*this.nbCenterLayers/(this.distancePoint(w,c)*(this.nbCenterLayers+2));if(Te<.75||Te>1.25||!this.isWhiteOrBlackRectangle(W,ee,we,be))break}c=W,u=ee,m=we,w=be,E=!E}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;let C=new vt(c.getX()+.5,c.getY()-.5),I=new vt(u.getX()+.5,u.getY()+.5),R=new vt(m.getX()-.5,m.getY()+.5),Q=new vt(w.getX()-.5,w.getY()-.5);return this.expandSquare([C,I,R,Q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let A,c,u,m;try{let C=new tr(this.image).detect();A=C[0],c=C[1],u=C[2],m=C[3]}catch{let I=this.image.getWidth()/2,R=this.image.getHeight()/2;A=this.getFirstDifferent(new Nt(I+7,R-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Nt(I+7,R+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Nt(I-7,R+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Nt(I-7,R-7),!1,-1,-1).toResultPoint()}let w=kt.round((A.getX()+m.getX()+c.getX()+u.getX())/4),E=kt.round((A.getY()+m.getY()+c.getY()+u.getY())/4);try{let C=new tr(this.image,15,w,E).detect();A=C[0],c=C[1],u=C[2],m=C[3]}catch{A=this.getFirstDifferent(new Nt(w+7,E-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Nt(w+7,E+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Nt(w-7,E+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Nt(w-7,E-7),!1,-1,-1).toResultPoint()}return w=kt.round((A.getX()+m.getX()+c.getX()+u.getX())/4),E=kt.round((A.getY()+m.getY()+c.getY()+u.getY())/4),new Nt(w,E)}getMatrixCornerPoints(A){return this.expandSquare(A,2*this.nbCenterLayers,this.getDimension())}sampleGrid(A,c,u,m,w){let E=Ze.getInstance(),C=this.getDimension(),I=C/2-this.nbCenterLayers,R=C/2+this.nbCenterLayers;return E.sampleGrid(A,C,C,I,I,R,I,R,R,I,R,c.getX(),c.getY(),u.getX(),u.getY(),m.getX(),m.getY(),w.getX(),w.getY())}sampleLine(A,c,u){let m=0,w=this.distanceResultPoint(A,c),E=w/u,C=A.getX(),I=A.getY(),R=E*(c.getX()-A.getX())/w,Q=E*(c.getY()-A.getY())/w;for(let W=0;W<u;W++)this.image.get(kt.round(C+W*R),kt.round(I+W*Q))&&(m|=1<<u-W-1);return m}isWhiteOrBlackRectangle(A,c,u,m){let w=3;A=new Nt(A.getX()-w,A.getY()+w),c=new Nt(c.getX()-w,c.getY()-w),u=new Nt(u.getX()+w,u.getY()-w),m=new Nt(m.getX()+w,m.getY()+w);let E=this.getColor(m,A);if(E===0)return!1;let C=this.getColor(A,c);return C!==E||(C=this.getColor(c,u),C!==E)?!1:(C=this.getColor(u,m),C===E)}getColor(A,c){let u=this.distancePoint(A,c),m=(c.getX()-A.getX())/u,w=(c.getY()-A.getY())/u,E=0,C=A.getX(),I=A.getY(),R=this.image.get(A.getX(),A.getY()),Q=Math.ceil(u);for(let ee=0;ee<Q;ee++)C+=m,I+=w,this.image.get(kt.round(C),kt.round(I))!==R&&E++;let W=E/u;return W>.1&&W<.9?0:W<=.1===R?1:-1}getFirstDifferent(A,c,u,m){let w=A.getX()+u,E=A.getY()+m;for(;this.isValid(w,E)&&this.image.get(w,E)===c;)w+=u,E+=m;for(w-=u,E-=m;this.isValid(w,E)&&this.image.get(w,E)===c;)w+=u;for(w-=u;this.isValid(w,E)&&this.image.get(w,E)===c;)E+=m;return E-=m,new Nt(w,E)}expandSquare(A,c,u){let m=u/(2*c),w=A[0].getX()-A[2].getX(),E=A[0].getY()-A[2].getY(),C=(A[0].getX()+A[2].getX())/2,I=(A[0].getY()+A[2].getY())/2,R=new vt(C+m*w,I+m*E),Q=new vt(C-m*w,I-m*E);w=A[1].getX()-A[3].getX(),E=A[1].getY()-A[3].getY(),C=(A[1].getX()+A[3].getX())/2,I=(A[1].getY()+A[3].getY())/2;let W=new vt(C+m*w,I+m*E),ee=new vt(C-m*w,I-m*E);return[R,W,Q,ee]}isValid(A,c){return A>=0&&A<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(A){let c=kt.round(A.getX()),u=kt.round(A.getY());return this.isValid(c,u)}distancePoint(A,c){return kt.distance(A.getX(),A.getY(),c.getX(),c.getY())}distanceResultPoint(A,c){return kt.distance(A.getX(),A.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(A,c=null){let u=null,m=new Tt(A.getBlackMatrix()),w=null,E=null;try{let Q=m.detectMirror(!1);w=Q.getPoints(),this.reportFoundResultPoints(c,w),E=new Ct().decode(Q)}catch(Q){u=Q}if(E==null)try{let Q=m.detectMirror(!0);w=Q.getPoints(),this.reportFoundResultPoints(c,w),E=new Ct().decode(Q)}catch(Q){throw u??Q}let C=new se(E.getText(),E.getRawBytes(),E.getNumBits(),w,Ce.AZTEC,F.currentTimeMillis()),I=E.getByteSegments();I!=null&&C.putMetadata(ye.BYTE_SEGMENTS,I);let R=E.getECLevel();return R!=null&&C.putMetadata(ye.ERROR_CORRECTION_LEVEL,R),C}reportFoundResultPoints(A,c){if(A!=null){let u=A.get(z.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((m,w,E)=>{u.foundPossibleResultPoint(m)})}}reset(){}}class Qr extends pe{constructor(A=500){super(new qt,A)}}class Mt{decode(A,c){try{return this.doDecode(A,c)}catch{if(c&&c.get(z.TRY_HARDER)===!0&&A.isRotateSupported()){const w=A.rotateCounterClockwise(),E=this.doDecode(w,c),C=E.getResultMetadata();let I=270;C!==null&&C.get(ye.ORIENTATION)===!0&&(I=I+C.get(ye.ORIENTATION)%360),E.putMetadata(ye.ORIENTATION,I);const R=E.getResultPoints();if(R!==null){const Q=w.getHeight();for(let W=0;W<R.length;W++)R[W]=new vt(Q-R[W].getY()-1,R[W].getX())}return E}else throw new xe}}reset(){}doDecode(A,c){const u=A.getWidth(),m=A.getHeight();let w=new re(u);const E=c&&c.get(z.TRY_HARDER)===!0,C=Math.max(1,m>>(E?8:5));let I;E?I=m:I=15;const R=Math.trunc(m/2);for(let Q=0;Q<I;Q++){const W=Math.trunc((Q+1)/2),ee=(Q&1)===0,we=R+C*(ee?W:-W);if(we<0||we>=m)break;try{w=A.getBlackRow(we,w)}catch{continue}for(let be=0;be<2;be++){if(be===1&&(w.reverse(),c&&c.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const Te=new Map;c.forEach((De,Xe)=>Te.set(Xe,De)),Te.delete(z.NEED_RESULT_POINT_CALLBACK),c=Te}try{const Te=this.decodeRow(we,w,c);if(be===1){Te.putMetadata(ye.ORIENTATION,180);const De=Te.getResultPoints();De!==null&&(De[0]=new vt(u-De[0].getX()-1,De[0].getY()),De[1]=new vt(u-De[1].getX()-1,De[1].getY()))}return Te}catch{}}}throw new xe}static recordPattern(A,c,u){const m=u.length;for(let R=0;R<m;R++)u[R]=0;const w=A.getSize();if(c>=w)throw new xe;let E=!A.get(c),C=0,I=c;for(;I<w;){if(A.get(I)!==E)u[C]++;else{if(++C===m)break;u[C]=1,E=!E}I++}if(!(C===m||C===m-1&&I===w))throw new xe}static recordPatternInReverse(A,c,u){let m=u.length,w=A.get(c);for(;c>0&&m>=0;)A.get(--c)!==w&&(m--,w=!w);if(m>=0)throw new xe;Mt.recordPattern(A,c+1,u)}static patternMatchVariance(A,c,u){const m=A.length;let w=0,E=0;for(let R=0;R<m;R++)w+=A[R],E+=c[R];if(w<E)return Number.POSITIVE_INFINITY;const C=w/E;u*=C;let I=0;for(let R=0;R<m;R++){const Q=A[R],W=c[R]*C,ee=Q>W?Q-W:W-Q;if(ee>u)return Number.POSITIVE_INFINITY;I+=ee}return I/w}}class At extends Mt{static findStartPattern(A){const c=A.getSize(),u=A.getNextSet(0);let m=0,w=Int32Array.from([0,0,0,0,0,0]),E=u,C=!1;const I=6;for(let R=u;R<c;R++)if(A.get(R)!==C)w[m]++;else{if(m===I-1){let Q=At.MAX_AVG_VARIANCE,W=-1;for(let ee=At.CODE_START_A;ee<=At.CODE_START_C;ee++){const we=Mt.patternMatchVariance(w,At.CODE_PATTERNS[ee],At.MAX_INDIVIDUAL_VARIANCE);we<Q&&(Q=we,W=ee)}if(W>=0&&A.isRange(Math.max(0,E-(R-E)/2),E,!1))return Int32Array.from([E,R,W]);E+=w[0]+w[1],w=w.slice(2,w.length-1),w[m-1]=0,w[m]=0,m--}else m++;w[m]=1,C=!C}throw new xe}static decodeCode(A,c,u){Mt.recordPattern(A,u,c);let m=At.MAX_AVG_VARIANCE,w=-1;for(let E=0;E<At.CODE_PATTERNS.length;E++){const C=At.CODE_PATTERNS[E],I=this.patternMatchVariance(c,C,At.MAX_INDIVIDUAL_VARIANCE);I<m&&(m=I,w=E)}if(w>=0)return w;throw new xe}decodeRow(A,c,u){const m=u&&u.get(z.ASSUME_GS1)===!0,w=At.findStartPattern(c),E=w[2];let C=0;const I=new Uint8Array(20);I[C++]=E;let R;switch(E){case At.CODE_START_A:R=At.CODE_CODE_A;break;case At.CODE_START_B:R=At.CODE_CODE_B;break;case At.CODE_START_C:R=At.CODE_CODE_C;break;default:throw new O}let Q=!1,W=!1,ee="",we=w[0],be=w[1];const Te=Int32Array.from([0,0,0,0,0,0]);let De=0,Xe=0,xt=E,dt=0,lt=!0,dr=!1,nr=!1;for(;!Q;){const UA=W;switch(W=!1,De=Xe,Xe=At.decodeCode(c,Te,be),I[C++]=Xe,Xe!==At.CODE_STOP&&(lt=!0),Xe!==At.CODE_STOP&&(dt++,xt+=dt*Xe),we=be,be+=Te.reduce((yh,Z0)=>yh+Z0,0),Xe){case At.CODE_START_A:case At.CODE_START_B:case At.CODE_START_C:throw new O}switch(R){case At.CODE_CODE_A:if(Xe<64)nr===dr?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),nr=!1;else if(Xe<96)nr===dr?ee+=String.fromCharCode(Xe-64):ee+=String.fromCharCode(Xe+64),nr=!1;else switch(Xe!==At.CODE_STOP&&(lt=!1),Xe){case At.CODE_FNC_1:m&&(ee.length===0?ee+="]C1":ee+="");break;case At.CODE_FNC_2:case At.CODE_FNC_3:break;case At.CODE_FNC_4_A:!dr&&nr?(dr=!0,nr=!1):dr&&nr?(dr=!1,nr=!1):nr=!0;break;case At.CODE_SHIFT:W=!0,R=At.CODE_CODE_B;break;case At.CODE_CODE_B:R=At.CODE_CODE_B;break;case At.CODE_CODE_C:R=At.CODE_CODE_C;break;case At.CODE_STOP:Q=!0;break}break;case At.CODE_CODE_B:if(Xe<96)nr===dr?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),nr=!1;else switch(Xe!==At.CODE_STOP&&(lt=!1),Xe){case At.CODE_FNC_1:m&&(ee.length===0?ee+="]C1":ee+="");break;case At.CODE_FNC_2:case At.CODE_FNC_3:break;case At.CODE_FNC_4_B:!dr&&nr?(dr=!0,nr=!1):dr&&nr?(dr=!1,nr=!1):nr=!0;break;case At.CODE_SHIFT:W=!0,R=At.CODE_CODE_A;break;case At.CODE_CODE_A:R=At.CODE_CODE_A;break;case At.CODE_CODE_C:R=At.CODE_CODE_C;break;case At.CODE_STOP:Q=!0;break}break;case At.CODE_CODE_C:if(Xe<100)Xe<10&&(ee+="0"),ee+=Xe;else switch(Xe!==At.CODE_STOP&&(lt=!1),Xe){case At.CODE_FNC_1:m&&(ee.length===0?ee+="]C1":ee+="");break;case At.CODE_CODE_A:R=At.CODE_CODE_A;break;case At.CODE_CODE_B:R=At.CODE_CODE_B;break;case At.CODE_STOP:Q=!0;break}break}UA&&(R=R===At.CODE_CODE_A?At.CODE_CODE_B:At.CODE_CODE_A)}const jn=be-we;if(be=c.getNextUnset(be),!c.isRange(be,Math.min(c.getSize(),be+(be-we)/2),!1))throw new xe;if(xt-=dt*De,xt%103!==De)throw new T;const Qi=ee.length;if(Qi===0)throw new xe;Qi>0&&lt&&(R===At.CODE_CODE_C?ee=ee.substring(0,Qi-2):ee=ee.substring(0,Qi-1));const La=(w[1]+w[0])/2,Xr=we+jn/2,pa=I.length,pi=new Uint8Array(pa);for(let UA=0;UA<pa;UA++)pi[UA]=I[UA];const mo=[new vt(La,A),new vt(Xr,A)];return new se(ee,pi,0,mo,Ce.CODE_128,new Date().getTime())}}At.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],At.MAX_AVG_VARIANCE=.25,At.MAX_INDIVIDUAL_VARIANCE=.7,At.CODE_SHIFT=98,At.CODE_CODE_C=99,At.CODE_CODE_B=100,At.CODE_CODE_A=101,At.CODE_FNC_1=102,At.CODE_FNC_2=97,At.CODE_FNC_3=96,At.CODE_FNC_4_A=101,At.CODE_FNC_4_B=100,At.CODE_START_A=103,At.CODE_START_B=104,At.CODE_START_C=105,At.CODE_STOP=106;class Le extends Mt{constructor(A=!1,c=!1){super(),this.usingCheckDigit=A,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(A,c,u){let m=this.counters;m.fill(0),this.decodeRowResult="";let w=Le.findAsteriskPattern(c,m),E=c.getNextSet(w[1]),C=c.getSize(),I,R;do{Le.recordPattern(c,E,m);let Te=Le.toNarrowWidePattern(m);if(Te<0)throw new xe;I=Le.patternToChar(Te),this.decodeRowResult+=I,R=E;for(let De of m)E+=De;E=c.getNextSet(E)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Q=0;for(let Te of m)Q+=Te;let W=E-R-Q;if(E!==C&&W*2<Q)throw new xe;if(this.usingCheckDigit){let Te=this.decodeRowResult.length-1,De=0;for(let Xe=0;Xe<Te;Xe++)De+=Le.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Xe));if(this.decodeRowResult.charAt(Te)!==Le.ALPHABET_STRING.charAt(De%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,Te)}if(this.decodeRowResult.length===0)throw new xe;let ee;this.extendedMode?ee=Le.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;let we=(w[1]+w[0])/2,be=R+Q/2;return new se(ee,null,0,[new vt(we,A),new vt(be,A)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(A,c){let u=A.getSize(),m=A.getNextSet(0),w=0,E=m,C=!1,I=c.length;for(let R=m;R<u;R++)if(A.get(R)!==C)c[w]++;else{if(w===I-1){if(this.toNarrowWidePattern(c)===Le.ASTERISK_ENCODING&&A.isRange(Math.max(0,E-Math.floor((R-E)/2)),E,!1))return[E,R];E+=c[0]+c[1],c.copyWithin(0,2,2+w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,C=!C}throw new xe}static toNarrowWidePattern(A){let c=A.length,u=0,m;do{let w=2147483647;for(let I of A)I<w&&I>u&&(w=I);u=w,m=0;let E=0,C=0;for(let I=0;I<c;I++){let R=A[I];R>u&&(C|=1<<c-1-I,m++,E+=R)}if(m===3){for(let I=0;I<c&&m>0;I++){let R=A[I];if(R>u&&(m--,R*2>=E))return-1}return C}}while(m>3);return-1}static patternToChar(A){for(let c=0;c<Le.CHARACTER_ENCODINGS.length;c++)if(Le.CHARACTER_ENCODINGS[c]===A)return Le.ALPHABET_STRING.charAt(c);if(A===Le.ASTERISK_ENCODING)return"*";throw new xe}static decodeExtended(A){let c=A.length,u="";for(let m=0;m<c;m++){let w=A.charAt(m);if(w==="+"||w==="$"||w==="%"||w==="/"){let E=A.charAt(m+1),C="\0";switch(w){case"+":if(E>="A"&&E<="Z")C=String.fromCharCode(E.charCodeAt(0)+32);else throw new O;break;case"$":if(E>="A"&&E<="Z")C=String.fromCharCode(E.charCodeAt(0)-64);else throw new O;break;case"%":if(E>="A"&&E<="E")C=String.fromCharCode(E.charCodeAt(0)-38);else if(E>="F"&&E<="J")C=String.fromCharCode(E.charCodeAt(0)-11);else if(E>="K"&&E<="O")C=String.fromCharCode(E.charCodeAt(0)+16);else if(E>="P"&&E<="T")C=String.fromCharCode(E.charCodeAt(0)+43);else if(E==="U")C="\0";else if(E==="V")C="@";else if(E==="W")C="`";else if(E==="X"||E==="Y"||E==="Z")C="";else throw new O;break;case"/":if(E>="A"&&E<="O")C=String.fromCharCode(E.charCodeAt(0)-32);else if(E==="Z")C=":";else throw new O;break}u+=C,m++}else u+=w}return u}}Le.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Le.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Le.ASTERISK_ENCODING=148;class nt extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(A,c,u){let m=this.decodeStart(c),w=this.decodeEnd(c),E=new K;nt.decodeMiddle(c,m[1],w[0],E);let C=E.toString(),I=null;u!=null&&(I=u.get(z.ALLOWED_LENGTHS)),I==null&&(I=nt.DEFAULT_ALLOWED_LENGTHS);let R=C.length,Q=!1,W=0;for(let be of I){if(R===be){Q=!0;break}be>W&&(W=be)}if(!Q&&R>W&&(Q=!0),!Q)throw new O;const ee=[new vt(m[1],A),new vt(w[0],A)];return new se(C,null,0,ee,Ce.ITF,new Date().getTime())}static decodeMiddle(A,c,u,m){let w=new Int32Array(10),E=new Int32Array(5),C=new Int32Array(5);for(w.fill(0),E.fill(0),C.fill(0);c<u;){Mt.recordPattern(A,c,w);for(let R=0;R<5;R++){let Q=2*R;E[R]=w[Q],C[R]=w[Q+1]}let I=nt.decodeDigit(E);m.append(I.toString()),I=this.decodeDigit(C),m.append(I.toString()),w.forEach(function(R){c+=R})}}decodeStart(A){let c=nt.skipWhiteSpace(A),u=nt.findGuardPattern(A,c,nt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(A,u[0]),u}validateQuietZone(A,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let m=c-1;u>0&&m>=0&&!A.get(m);m--)u--;if(u!==0)throw new xe}static skipWhiteSpace(A){const c=A.getSize(),u=A.getNextSet(0);if(u===c)throw new xe;return u}decodeEnd(A){A.reverse();try{let c=nt.skipWhiteSpace(A),u;try{u=nt.findGuardPattern(A,c,nt.END_PATTERN_REVERSED[0])}catch(w){w instanceof xe&&(u=nt.findGuardPattern(A,c,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(A,u[0]);let m=u[0];return u[0]=A.getSize()-u[1],u[1]=A.getSize()-m,u}finally{A.reverse()}}static findGuardPattern(A,c,u){let m=u.length,w=new Int32Array(m),E=A.getSize(),C=!1,I=0,R=c;w.fill(0);for(let Q=c;Q<E;Q++)if(A.get(Q)!==C)w[I]++;else{if(I===m-1){if(Mt.patternMatchVariance(w,u,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[R,Q];R+=w[0]+w[1],F.arraycopy(w,2,w,0,I-1),w[I-1]=0,w[I]=0,I--}else I++;w[I]=1,C=!C}throw new xe}static decodeDigit(A){let c=nt.MAX_AVG_VARIANCE,u=-1,m=nt.PATTERNS.length;for(let w=0;w<m;w++){let E=nt.PATTERNS[w],C=Mt.patternMatchVariance(A,E,nt.MAX_INDIVIDUAL_VARIANCE);C<c?(c=C,u=w):C===c&&(u=-1)}if(u>=0)return u%10;throw new xe}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Et extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(A){let c=!1,u,m=0,w=Int32Array.from([0,0,0]);for(;!c;){w=Int32Array.from([0,0,0]),u=Et.findGuardPattern(A,m,!1,this.START_END_PATTERN,w);let E=u[0];m=u[1];let C=E-(m-E);C>=0&&(c=A.isRange(C,E,!1))}return u}static checkChecksum(A){return Et.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let c=A.length;if(c===0)return!1;let u=parseInt(A.charAt(c-1),10);return Et.getStandardUPCEANChecksum(A.substring(0,c-1))===u}static getStandardUPCEANChecksum(A){let c=A.length,u=0;for(let m=c-1;m>=0;m-=2){let w=A.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new O;u+=w}u*=3;for(let m=c-2;m>=0;m-=2){let w=A.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new O;u+=w}return(1e3-u)%10}static decodeEnd(A,c){return Et.findGuardPattern(A,c,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(A,c,u,m){return this.findGuardPattern(A,c,u,m,new Int32Array(m.length))}static findGuardPattern(A,c,u,m,w){let E=A.getSize();c=u?A.getNextUnset(c):A.getNextSet(c);let C=0,I=c,R=m.length,Q=u;for(let W=c;W<E;W++)if(A.get(W)!==Q)w[C]++;else{if(C===R-1){if(Mt.patternMatchVariance(w,m,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return Int32Array.from([I,W]);I+=w[0]+w[1];let ee=w.slice(2,w.length-1);for(let we=0;we<C-1;we++)w[we]=ee[we];w[C-1]=0,w[C]=0,C--}else C++;w[C]=1,Q=!Q}throw new xe}static decodeDigit(A,c,u,m){this.recordPattern(A,u,c);let w=this.MAX_AVG_VARIANCE,E=-1,C=m.length;for(let I=0;I<C;I++){let R=m[I],Q=Mt.patternMatchVariance(c,R,Et.MAX_INDIVIDUAL_VARIANCE);Q<w&&(w=Q,E=I)}if(E>=0)return E;throw new xe}}Et.MAX_AVG_VARIANCE=.48,Et.MAX_INDIVIDUAL_VARIANCE=.7,Et.START_END_PATTERN=Int32Array.from([1,1,1]),Et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Rt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,c,u){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(c,u,m),E=m.toString(),C=Rt.parseExtensionString(E),I=[new vt((u[0]+u[1])/2,A),new vt(w,A)],R=new se(E,null,0,I,Ce.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&R.putAllMetadata(C),R}decodeMiddle(A,c,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=A.getSize(),E=c[1],C=0;for(let R=0;R<5&&E<w;R++){let Q=Et.decodeDigit(A,m,E,Et.L_AND_G_PATTERNS);u+=String.fromCharCode(48+Q%10);for(let W of m)E+=W;Q>=10&&(C|=1<<4-R),R!==4&&(E=A.getNextSet(E),E=A.getNextUnset(E))}if(u.length!==5)throw new xe;let I=this.determineCheckDigit(C);if(Rt.extensionChecksum(u.toString())!==I)throw new xe;return E}static extensionChecksum(A){let c=A.length,u=0;for(let m=c-2;m>=0;m-=2)u+=A.charAt(m).charCodeAt(0)-48;u*=3;for(let m=c-1;m>=0;m-=2)u+=A.charAt(m).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(A){for(let c=0;c<10;c++)if(A===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new xe}static parseExtensionString(A){if(A.length!==5)return null;let c=Rt.parseExtension5String(A);return c==null?null:new Map([[ye.SUGGESTED_PRICE,c]])}static parseExtension5String(A){let c;switch(A.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(A){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(A.substring(1)),m=(u/100).toString(),w=u%100,E=w<10?"0"+w:w.toString();return c+m+"."+E}}class Bt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,c,u){let m=this.decodeRowStringBuffer,w=this.decodeMiddle(c,u,m),E=m.toString(),C=Bt.parseExtensionString(E),I=[new vt((u[0]+u[1])/2,A),new vt(w,A)],R=new se(E,null,0,I,Ce.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&R.putAllMetadata(C),R}decodeMiddle(A,c,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=A.getSize(),E=c[1],C=0;for(let I=0;I<2&&E<w;I++){let R=Et.decodeDigit(A,m,E,Et.L_AND_G_PATTERNS);u+=String.fromCharCode(48+R%10);for(let Q of m)E+=Q;R>=10&&(C|=1<<1-I),I!==1&&(E=A.getNextSet(E),E=A.getNextUnset(E))}if(u.length!==2)throw new xe;if(parseInt(u.toString())%4!==C)throw new xe;return E}static parseExtensionString(A){return A.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(A)]])}}class jt{static decodeRow(A,c,u){let m=Et.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Rt().decodeRow(A,c,m)}catch{return new Bt().decodeRow(A,c,m)}}}jt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xt extends Et{constructor(){super(),this.decodeRowStringBuffer="",Xt.L_AND_G_PATTERNS=Xt.L_PATTERNS.map(A=>Int32Array.from(A));for(let A=10;A<20;A++){let c=Xt.L_PATTERNS[A-10],u=new Int32Array(c.length);for(let m=0;m<c.length;m++)u[m]=c[c.length-m-1];Xt.L_AND_G_PATTERNS[A]=u}}decodeRow(A,c,u){let m=Xt.findStartGuardPattern(c),w=u==null?null:u.get(z.NEED_RESULT_POINT_CALLBACK);if(w!=null){const lt=new vt((m[0]+m[1])/2,A);w.foundPossibleResultPoint(lt)}let E=this.decodeMiddle(c,m,this.decodeRowStringBuffer),C=E.rowOffset,I=E.resultString;if(w!=null){const lt=new vt(C,A);w.foundPossibleResultPoint(lt)}let R=this.decodeEnd(c,C);if(w!=null){const lt=new vt((R[0]+R[1])/2,A);w.foundPossibleResultPoint(lt)}let Q=R[1],W=Q+(Q-R[0]);if(W>=c.getSize()||!c.isRange(Q,W,!1))throw new xe;let ee=I.toString();if(ee.length<8)throw new O;if(!Xt.checkChecksum(ee))throw new T;let we=(m[1]+m[0])/2,be=(R[1]+R[0])/2,Te=this.getBarcodeFormat(),De=[new vt(we,A),new vt(be,A)],Xe=new se(ee,null,0,De,Te,new Date().getTime()),xt=0;try{let lt=jt.decodeRow(A,c,R[1]);Xe.putMetadata(ye.UPC_EAN_EXTENSION,lt.getText()),Xe.putAllMetadata(lt.getResultMetadata()),Xe.addResultPoints(lt.getResultPoints()),xt=lt.getText().length}catch{}let dt=u==null?null:u.get(z.ALLOWED_EAN_EXTENSIONS);if(dt!=null){let lt=!1;for(let dr in dt)if(xt.toString()===dr){lt=!0;break}if(!lt)throw new xe}return Xe}decodeEnd(A,c){return Xt.findGuardPattern(A,c,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static checkChecksum(A){return Xt.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let c=A.length;if(c===0)return!1;let u=parseInt(A.charAt(c-1),10);return Xt.getStandardUPCEANChecksum(A.substring(0,c-1))===u}static getStandardUPCEANChecksum(A){let c=A.length,u=0;for(let m=c-1;m>=0;m-=2){let w=A.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new O;u+=w}u*=3;for(let m=c-2;m>=0;m-=2){let w=A.charAt(m).charCodeAt(0)-48;if(w<0||w>9)throw new O;u+=w}return(1e3-u)%10}}class gr extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,c,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=A.getSize(),E=c[1],C=0;for(let R=0;R<6&&E<w;R++){let Q=Xt.decodeDigit(A,m,E,Xt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+Q%10);for(let W of m)E+=W;Q>=10&&(C|=1<<5-R)}u=gr.determineFirstDigit(u,C),E=Xt.findGuardPattern(A,E,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let R=0;R<6&&E<w;R++){let Q=Xt.decodeDigit(A,m,E,Xt.L_PATTERNS);u+=String.fromCharCode(48+Q);for(let W of m)E+=W}return{rowOffset:E,resultString:u}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(A,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return A=String.fromCharCode(48+u)+A,A;throw new xe}}gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gr extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,c,u){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=A.getSize(),E=c[1];for(let I=0;I<4&&E<w;I++){let R=Xt.decodeDigit(A,m,E,Xt.L_PATTERNS);u+=String.fromCharCode(48+R);for(let Q of m)E+=Q}E=Xt.findGuardPattern(A,E,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&E<w;I++){let R=Xt.decodeDigit(A,m,E,Xt.L_PATTERNS);u+=String.fromCharCode(48+R);for(let Q of m)E+=Q}return{rowOffset:E,resultString:u}}getBarcodeFormat(){return Ce.EAN_8}}class Rn extends Xt{constructor(){super(...arguments),this.ean13Reader=new gr}getBarcodeFormat(){return Ce.UPC_A}decode(A,c){return this.maybeReturnResult(this.ean13Reader.decode(A))}decodeRow(A,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(A,c,u))}decodeMiddle(A,c,u){return this.ean13Reader.decodeMiddle(A,c,u)}maybeReturnResult(A){let c=A.getText();if(c.charAt(0)==="0"){let u=new se(c.substring(1),null,null,A.getResultPoints(),Ce.UPC_A);return A.getResultMetadata()!=null&&u.putAllMetadata(A.getResultMetadata()),u}else throw new xe}reset(){this.ean13Reader.reset()}}class un extends Xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(A,c,u){const m=this.decodeMiddleCounters.map(R=>R);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const w=A.getSize();let E=c[1],C=0;for(let R=0;R<6&&E<w;R++){const Q=un.decodeDigit(A,m,E,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+Q%10);for(let W of m)E+=W;Q>=10&&(C|=1<<5-R)}let I=un.determineNumSysAndCheckDigit(u,C);return{rowOffset:E,resultString:I}}decodeEnd(A,c){return un.findGuardPatternWithoutCounters(A,c,!0,un.MIDDLE_END_PATTERN)}checkChecksum(A){return Xt.checkChecksum(un.convertUPCEtoUPCA(A))}static determineNumSysAndCheckDigit(A,c){for(let u=0;u<=1;u++)for(let m=0;m<10;m++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][m]){let w=String.fromCharCode(48+u),E=String.fromCharCode(48+m);return w+A+E}throw xe.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(A){const c=A.slice(1,7).split("").map(w=>w.charCodeAt(0)),u=new K;u.append(A.charAt(0));let m=c[5];switch(m){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(m),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(m);break}return A.length>=8&&u.append(A.charAt(7)),u.toString()}}un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ti extends Mt{constructor(A){super();let c=A==null?null:A.get(z.POSSIBLE_FORMATS),u=[];n(c)?(u.push(new gr),u.push(new Rn),u.push(new Gr),u.push(new un)):(c.indexOf(Ce.EAN_13)>-1&&u.push(new gr),c.indexOf(Ce.UPC_A)>-1&&u.push(new Rn),c.indexOf(Ce.EAN_8)>-1&&u.push(new Gr),c.indexOf(Ce.UPC_E)>-1&&u.push(new un)),this.readers=u}decodeRow(A,c,u){for(let m of this.readers)try{const w=m.decodeRow(A,c,u),E=w.getBarcodeFormat()===Ce.EAN_13&&w.getText().charAt(0)==="0",C=u==null?null:u.get(z.POSSIBLE_FORMATS),I=C==null||C.includes(Ce.UPC_A);if(E&&I){const R=w.getRawBytes(),Q=new se(w.getText().substring(1),R,R?R.length:null,w.getResultPoints(),Ce.UPC_A);return Q.putAllMetadata(w.getResultMetadata()),Q}return w}catch{}throw new xe}reset(){for(let A of this.readers)A.reset()}}class fn extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(A,c){for(let u=0;u<c.length;u++)if(Mt.patternMatchVariance(A,c[u],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return u;throw new xe}static count(A){return kt.sum(new Int32Array(A))}static increment(A,c){let u=0,m=c[0];for(let w=1;w<A.length;w++)c[w]>m&&(m=c[w],u=w);A[u]++}static decrement(A,c){let u=0,m=c[0];for(let w=1;w<A.length;w++)c[w]<m&&(m=c[w],u=w);A[u]--}static isFinderPattern(A){let c=A[0]+A[1],u=c+A[2]+A[3],m=c/u;if(m>=fn.MIN_FINDER_PATTERN_RATIO&&m<=fn.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER;for(let C of A)C>E&&(E=C),C<w&&(w=C);return E<10*w}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class aa{constructor(A,c){this.value=A,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(A){if(!(A instanceof aa))return!1;const c=A;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Da{constructor(A,c,u,m,w){this.value=A,this.startEnd=c,this.value=A,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new vt(u,w)),this.resultPoints.push(new vt(m,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(A){if(!(A instanceof Da))return!1;const c=A;return this.value===c.value}hashCode(){return this.value}}class Ir{constructor(){}static getRSSvalue(A,c,u){let m=0;for(let I of A)m+=I;let w=0,E=0,C=A.length;for(let I=0;I<C-1;I++){let R;for(R=1,E|=1<<I;R<A[I];R++,E&=~(1<<I)){let Q=Ir.combins(m-R-1,C-I-2);if(u&&E===0&&m-R-(C-I-1)>=C-I-1&&(Q-=Ir.combins(m-R-(C-I),C-I-2)),C-I-1>1){let W=0;for(let ee=m-R-(C-I-2);ee>c;ee--)W+=Ir.combins(m-R-ee-1,C-I-3);Q-=W*(C-1-I)}else m-R>c&&Q--;w+=Q}m-=R}return w}static combins(A,c){let u,m;A-c>c?(m=c,u=A-c):(m=A-c,u=c);let w=1,E=1;for(let C=A;C>u;C--)w*=C,E<=m&&(w/=E,E++);for(;E<=m;)w/=E,E++;return w}}class Si{static buildBitArray(A){let c=A.length*2-1;A[A.length-1].getRightChar()==null&&(c-=1);let u=12*c,m=new re(u),w=0,C=A[0].getRightChar().getValue();for(let I=11;I>=0;--I)(C&1<<I)!=0&&m.set(w),w++;for(let I=1;I<A.length;++I){let R=A[I],Q=R.getLeftChar().getValue();for(let W=11;W>=0;--W)(Q&1<<W)!=0&&m.set(w),w++;if(R.getRightChar()!=null){let W=R.getRightChar().getValue();for(let ee=11;ee>=0;--ee)(W&1<<ee)!=0&&m.set(w),w++}}return m}}class mn{constructor(A,c){c?this.decodedInformation=null:(this.finished=A,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Oa{constructor(A){this.newPosition=A}getNewPosition(){return this.newPosition}}class bn extends Oa{constructor(A,c){super(A),this.value=c}getValue(){return this.value}isFNC1(){return this.value===bn.FNC1}}bn.FNC1="$";class ka extends Oa{constructor(A,c,u){super(A),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class J extends Oa{constructor(A,c,u){if(super(A),c<0||c>10||u<0||u>10)throw new O;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===J.FNC1}isSecondDigitFNC1(){return this.secondDigit===J.FNC1}isAnyFNC1(){return this.firstDigit===J.FNC1||this.secondDigit===J.FNC1}}J.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(A){if(!A)return null;if(A.length<2)throw new xe;let c=A.substring(0,2);for(let w of ne.TWO_DIGIT_DATA_LENGTH)if(w[0]===c)return w[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,w[2],A):ne.processFixedAI(2,w[1],A);if(A.length<3)throw new xe;let u=A.substring(0,3);for(let w of ne.THREE_DIGIT_DATA_LENGTH)if(w[0]===u)return w[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,w[2],A):ne.processFixedAI(3,w[1],A);for(let w of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===u)return w[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,w[2],A):ne.processFixedAI(4,w[1],A);if(A.length<4)throw new xe;let m=A.substring(0,4);for(let w of ne.FOUR_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,w[2],A):ne.processFixedAI(4,w[1],A);throw new xe}static processFixedAI(A,c,u){if(u.length<A)throw new xe;let m=u.substring(0,A);if(u.length<A+c)throw new xe;let w=u.substring(A,A+c),E=u.substring(A+c),C="("+m+")"+w,I=ne.parseFieldsInGeneralPurpose(E);return I==null?C:C+I}static processVariableAI(A,c,u){let m=u.substring(0,A),w;u.length<A+c?w=u.length:w=A+c;let E=u.substring(A,w),C=u.substring(w),I="("+m+")"+E,R=ne.parseFieldsInGeneralPurpose(C);return R==null?I:I+R}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class oe{constructor(A){this.buffer=new K,this.information=A}decodeAllCodes(A,c){let u=c,m=null;do{let w=this.decodeGeneralPurposeField(u,m),E=ne.parseFieldsInGeneralPurpose(w.getNewString());if(E!=null&&A.append(E),w.isRemaining()?m=""+w.getRemainingValue():m=null,u===w.getNewPosition())break;u=w.getNewPosition()}while(!0);return A.toString()}isStillNumeric(A){if(A+7>this.information.getSize())return A+4<=this.information.getSize();for(let c=A;c<A+3;++c)if(this.information.get(c))return!0;return this.information.get(A+3)}decodeNumeric(A){if(A+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(A,4);return w===0?new J(this.information.getSize(),J.FNC1,J.FNC1):new J(this.information.getSize(),w-1,J.FNC1)}let c=this.extractNumericValueFromBitArray(A,7),u=(c-8)/11,m=(c-8)%11;return new J(A+7,u,m)}extractNumericValueFromBitArray(A,c){return oe.extractNumericValueFromBitArray(this.information,A,c)}static extractNumericValueFromBitArray(A,c,u){let m=0;for(let w=0;w<u;++w)A.get(c+w)&&(m|=1<<u-w-1);return m}decodeGeneralPurposeField(A,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(A);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new ka(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new ka(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let A,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),A=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),A=c.isFinished()):(c=this.parseNumericBlock(),A=c.isFinished()),!(u!==this.current.getPosition())&&!A)break}while(!A);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let A=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFirstDigitFNC1()){let c;return A.isSecondDigitFNC1()?c=new ka(this.current.getPosition(),this.buffer.toString()):c=new ka(this.current.getPosition(),this.buffer.toString(),A.getSecondDigit()),new mn(!0,c)}if(this.buffer.append(A.getFirstDigit()),A.isSecondDigitFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new mn(!0,c)}this.buffer.append(A.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new mn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let A=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new mn(!0,c)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new mn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let A=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let c=new ka(this.current.getPosition(),this.buffer.toString());return new mn(!0,c)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new mn(!1)}isStillIsoIec646(A){if(A+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(A,5);if(c>=5&&c<16)return!0;if(A+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(A,7);if(u>=64&&u<116)return!0;if(A+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(A,8);return m>=232&&m<253}decodeIsoIec646(A){let c=this.extractNumericValueFromBitArray(A,5);if(c===15)return new bn(A+5,bn.FNC1);if(c>=5&&c<15)return new bn(A+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(A,7);if(u>=64&&u<90)return new bn(A+7,""+(u+1));if(u>=90&&u<116)return new bn(A+7,""+(u+7));let m=this.extractNumericValueFromBitArray(A,8),w;switch(m){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new O}return new bn(A+8,w)}isStillAlpha(A){if(A+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(A,5);if(c>=5&&c<16)return!0;if(A+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(A,6);return u>=16&&u<63}decodeAlphanumeric(A){let c=this.extractNumericValueFromBitArray(A,5);if(c===15)return new bn(A+5,bn.FNC1);if(c>=5&&c<15)return new bn(A+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(A,6);if(u>=32&&u<58)return new bn(A+6,""+(u+33));let m;switch(u){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new et("Decoding invalid alphanumeric value: "+u)}return new bn(A+6,m)}isAlphaTo646ToAlphaLatch(A){if(A+1>this.information.getSize())return!1;for(let c=0;c<5&&c+A<this.information.getSize();++c)if(c===2){if(!this.information.get(A+2))return!1}else if(this.information.get(A+c))return!1;return!0}isAlphaOr646ToNumericLatch(A){if(A+3>this.information.getSize())return!1;for(let c=A;c<A+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(A){if(A+1>this.information.getSize())return!1;for(let c=0;c<4&&c+A<this.information.getSize();++c)if(this.information.get(A+c))return!1;return!0}}class ce{constructor(A){this.information=A,this.generalDecoder=new oe(A)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class he extends ce{constructor(A){super(A)}encodeCompressedGtin(A,c){A.append("(01)");let u=A.length();A.append("9"),this.encodeCompressedGtinWithoutAI(A,c,u)}encodeCompressedGtinWithoutAI(A,c,u){for(let m=0;m<4;++m){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*m,10);w/100===0&&A.append("0"),w/10===0&&A.append("0"),A.append(w)}he.appendCheckDigit(A,u)}static appendCheckDigit(A,c){let u=0;for(let m=0;m<13;m++){let w=A.charAt(m+c).charCodeAt(0)-48;u+=(m&1)===0?3*w:w}u=10-u%10,u===10&&(u=0),A.append(u)}}he.GTIN_SIZE=40;class ve extends he{constructor(A){super(A)}parseInformation(){let A=new K;A.append("(01)");let c=A.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(ve.HEADER_SIZE,4);return A.append(u),this.encodeCompressedGtinWithoutAI(A,ve.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(A,ve.HEADER_SIZE+44)}}ve.HEADER_SIZE=4;class Me extends ce{constructor(A){super(A)}parseInformation(){let A=new K;return this.getGeneralDecoder().decodeAllCodes(A,Me.HEADER_SIZE)}}Me.HEADER_SIZE=5;class qe extends he{constructor(A){super(A)}encodeCompressedWeight(A,c,u){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(A,m);let w=this.checkWeight(m),E=1e5;for(let C=0;C<5;++C)w/E===0&&A.append("0"),E/=10;A.append(w)}}class Oe extends qe{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()!=Oe.HEADER_SIZE+qe.GTIN_SIZE+Oe.WEIGHT_SIZE)throw new xe;let A=new K;return this.encodeCompressedGtin(A,Oe.HEADER_SIZE),this.encodeCompressedWeight(A,Oe.HEADER_SIZE+qe.GTIN_SIZE,Oe.WEIGHT_SIZE),A.toString()}}Oe.HEADER_SIZE=5,Oe.WEIGHT_SIZE=15;class je extends Oe{constructor(A){super(A)}addWeightCode(A,c){A.append("(3103)")}checkWeight(A){return A}}class He extends Oe{constructor(A){super(A)}addWeightCode(A,c){c<1e4?A.append("(3202)"):A.append("(3203)")}checkWeight(A){return A<1e4?A:A-1e4}}class st extends he{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<st.HEADER_SIZE+he.GTIN_SIZE)throw new xe;let A=new K;this.encodeCompressedGtin(A,st.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(st.HEADER_SIZE+he.GTIN_SIZE,st.LAST_DIGIT_SIZE);A.append("(392"),A.append(c),A.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(st.HEADER_SIZE+he.GTIN_SIZE+st.LAST_DIGIT_SIZE,null);return A.append(u.getNewString()),A.toString()}}st.HEADER_SIZE=8,st.LAST_DIGIT_SIZE=2;class ct extends he{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<ct.HEADER_SIZE+he.GTIN_SIZE)throw new xe;let A=new K;this.encodeCompressedGtin(A,ct.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+he.GTIN_SIZE,ct.LAST_DIGIT_SIZE);A.append("(393"),A.append(c),A.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+he.GTIN_SIZE+ct.LAST_DIGIT_SIZE,ct.FIRST_THREE_DIGITS_SIZE);u/100==0&&A.append("0"),u/10==0&&A.append("0"),A.append(u);let m=this.getGeneralDecoder().decodeGeneralPurposeField(ct.HEADER_SIZE+he.GTIN_SIZE+ct.LAST_DIGIT_SIZE+ct.FIRST_THREE_DIGITS_SIZE,null);return A.append(m.getNewString()),A.toString()}}ct.HEADER_SIZE=8,ct.LAST_DIGIT_SIZE=2,ct.FIRST_THREE_DIGITS_SIZE=10;class ut extends qe{constructor(A,c,u){super(A),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE+ut.DATE_SIZE)throw new xe;let A=new K;return this.encodeCompressedGtin(A,ut.HEADER_SIZE),this.encodeCompressedWeight(A,ut.HEADER_SIZE+ut.GTIN_SIZE,ut.WEIGHT_SIZE),this.encodeCompressedDate(A,ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE),A.toString()}encodeCompressedDate(A,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,ut.DATE_SIZE);if(u==38400)return;A.append("("),A.append(this.dateCode),A.append(")");let m=u%32;u/=32;let w=u%12+1;u/=12;let E=u;E/10==0&&A.append("0"),A.append(E),w/10==0&&A.append("0"),A.append(w),m/10==0&&A.append("0"),A.append(m)}addWeightCode(A,c){A.append("("),A.append(this.firstAIdigits),A.append(c/1e5),A.append(")")}checkWeight(A){return A%1e5}}ut.HEADER_SIZE=8,ut.WEIGHT_SIZE=20,ut.DATE_SIZE=16;function ht(X){try{if(X.get(1))return new ve(X);if(!X.get(2))return new Me(X);switch(oe.extractNumericValueFromBitArray(X,1,4)){case 4:return new je(X);case 5:return new He(X)}switch(oe.extractNumericValueFromBitArray(X,1,5)){case 12:return new st(X);case 13:return new ct(X)}switch(oe.extractNumericValueFromBitArray(X,1,7)){case 56:return new ut(X,"310","11");case 57:return new ut(X,"320","11");case 58:return new ut(X,"310","13");case 59:return new ut(X,"320","13");case 60:return new ut(X,"310","15");case 61:return new ut(X,"320","15");case 62:return new ut(X,"310","17");case 63:return new ut(X,"320","17")}}catch(A){throw console.log(A),new et("unknown decoder: "+X)}}class pt{constructor(A,c,u,m){this.leftchar=A,this.rightchar=c,this.finderpattern=u,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(A,c){return A instanceof pt?pt.equalsOrNull(A.leftchar,c.leftchar)&&pt.equalsOrNull(A.rightchar,c.rightchar)&&pt.equalsOrNull(A.finderpattern,c.finderpattern):!1}static equalsOrNull(A,c){return A===null?c===null:pt.equals(A,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class St{constructor(A,c,u){this.pairs=A,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(A){return this.checkEqualitity(this,A)}toString(){return"{ "+this.pairs+" }"}equals(A,c){return A instanceof St?this.checkEqualitity(A,c)&&A.wasReversed===c.wasReversed:!1}checkEqualitity(A,c){if(!A||!c)return;let u;return A.forEach((m,w)=>{c.forEach(E=>{m.getLeftChar().getValue()===E.getLeftChar().getValue()&&m.getRightChar().getValue()===E.getRightChar().getValue()&&m.getFinderPatter().getValue()===E.getFinderPatter().getValue()&&(u=!0)})}),u}}class Je extends fn{constructor(A){super(...arguments),this.pairs=new Array(Je.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=A===!0}decodeRow(A,c,u){this.pairs.length=0,this.startFromEven=!1;try{return Je.constructResult(this.decodeRow2pairs(A,c))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,Je.constructResult(this.decodeRow2pairs(A,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(A,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,A))}catch(w){if(w instanceof xe){if(!this.pairs.length)throw new xe;u=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(A,!1),m){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new xe}checkRowsBoolean(A){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,A&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return A&&(this.rows=this.rows.reverse()),c}checkRows(A,c){for(let u=c;u<this.rows.length;u++){let m=this.rows[u];this.pairs.length=0;for(let E of A)this.pairs.push(E.getPairs());if(this.pairs.push(m.getPairs()),!Je.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(A);w.push(m);try{return this.checkRows(w,u+1)}catch(E){this.verbose&&console.log(E)}}throw new xe}static isValidSequence(A){for(let c of Je.FINDER_PATTERN_SEQUENCES){if(A.length>c.length)continue;let u=!0;for(let m=0;m<A.length;m++)if(A[m].getFinderPattern().getValue()!=c[m]){u=!1;break}if(u)return!0}return!1}storeRow(A,c){let u=0,m=!1,w=!1;for(;u<this.rows.length;){let E=this.rows[u];if(E.getRowNumber()>A){w=E.isEquivalent(this.pairs);break}m=E.isEquivalent(this.pairs),u++}w||m||Je.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new St(this.pairs,A,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(A,c){for(let u of c)if(u.getPairs().length!==A.length){for(let m of u.getPairs())for(let w of A)if(pt.equals(m,w))break}}static isPartialRow(A,c){for(let u of c){let m=!0;for(let w of A){let E=!1;for(let C of u.getPairs())if(w.equals(C)){E=!0;break}if(!E){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(A){let c=Si.buildBitArray(A),m=ht(c).parseInformation(),w=A[0].getFinderPattern().getResultPoints(),E=A[A.length-1].getFinderPattern().getResultPoints(),C=[w[0],w[1],E[0],E[1]];return new se(m,null,null,C,Ce.RSS_EXPANDED,null)}checkChecksum(){let A=this.pairs.get(0),c=A.getLeftChar(),u=A.getRightChar();if(u==null)return!1;let m=u.getChecksumPortion(),w=2;for(let C=1;C<this.pairs.size();++C){let I=this.pairs.get(C);m+=I.getLeftChar().getChecksumPortion(),w++;let R=I.getRightChar();R!=null&&(m+=R.getChecksumPortion(),w++)}return m%=211,211*(w-4)+m==c.getValue()}static getNextSecondBar(A,c){let u;return A.get(c)?(u=A.getNextUnset(c),u=A.getNextSet(u)):(u=A.getNextSet(c),u=A.getNextUnset(u)),u}retrieveNextPair(A,c,u){let m=c.length%2==0;this.startFromEven&&(m=!m);let w,E=!0,C=-1;do this.findNextPair(A,c,C),w=this.parseFoundFinderPattern(A,u,m),w==null?C=Je.getNextSecondBar(A,this.startEnd[0]):E=!1;while(E);let I=this.decodeDataCharacter(A,w,m,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new xe;let R;try{R=this.decodeDataCharacter(A,w,m,!1)}catch(Q){R=null,this.verbose&&console.log(Q)}return new pt(I,R,w,!0)}isEmptyPair(A){return A.length===0}findNextPair(A,c,u){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let w=A.getSize(),E;u>=0?E=u:this.isEmptyPair(c)?E=0:E=c[c.length-1].getFinderPattern().getStartEnd()[1];let C=c.length%2!=0;this.startFromEven&&(C=!C);let I=!1;for(;E<w&&(I=!A.get(E),!!I);)E++;let R=0,Q=E;for(let W=E;W<w;W++)if(A.get(W)!=I)m[R]++;else{if(R==3){if(C&&Je.reverseCounters(m),Je.isFinderPattern(m)){this.startEnd[0]=Q,this.startEnd[1]=W;return}C&&Je.reverseCounters(m),Q+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,R--}else R++;m[R]=1,I=!I}throw new xe}static reverseCounters(A){let c=A.length;for(let u=0;u<c/2;++u){let m=A[u];A[u]=A[c-u-1],A[c-u-1]=m}}parseFoundFinderPattern(A,c,u){let m,w,E;if(u){let R=this.startEnd[0]-1;for(;R>=0&&!A.get(R);)R--;R++,m=this.startEnd[0]-R,w=R,E=this.startEnd[1]}else w=this.startEnd[0],E=A.getNextUnset(this.startEnd[1]+1),m=E-this.startEnd[1];let C=this.getDecodeFinderCounters();F.arraycopy(C,0,C,1,C.length-1),C[0]=m;let I;try{I=this.parseFinderValue(C,Je.FINDER_PATTERNS)}catch{return null}return new Da(I,[w,E],w,E,c)}decodeDataCharacter(A,c,u,m){let w=this.getDataCharacterCounters();for(let Xr=0;Xr<w.length;Xr++)w[Xr]=0;if(m)Je.recordPatternInReverse(A,c.getStartEnd()[0],w);else{Je.recordPattern(A,c.getStartEnd()[1],w);for(let Xr=0,pa=w.length-1;Xr<pa;Xr++,pa--){let pi=w[Xr];w[Xr]=w[pa],w[pa]=pi}}let E=17,C=kt.sum(new Int32Array(w))/E,I=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(C-I)/I>.3)throw new xe;let R=this.getOddCounts(),Q=this.getEvenCounts(),W=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let Xr=0;Xr<w.length;Xr++){let pa=1*w[Xr]/C,pi=pa+.5;if(pi<1){if(pa<.3)throw new xe;pi=1}else if(pi>8){if(pa>8.7)throw new xe;pi=8}let mo=Xr/2;(Xr&1)==0?(R[mo]=pi,W[mo]=pa-pi):(Q[mo]=pi,ee[mo]=pa-pi)}this.adjustOddEvenCounts(E);let we=4*c.getValue()+(u?0:2)+(m?0:1)-1,be=0,Te=0;for(let Xr=R.length-1;Xr>=0;Xr--){if(Je.isNotA1left(c,u,m)){let pa=Je.WEIGHTS[we][2*Xr];Te+=R[Xr]*pa}be+=R[Xr]}let De=0;for(let Xr=Q.length-1;Xr>=0;Xr--)if(Je.isNotA1left(c,u,m)){let pa=Je.WEIGHTS[we][2*Xr+1];De+=Q[Xr]*pa}let Xe=Te+De;if((be&1)!=0||be>13||be<4)throw new xe;let xt=(13-be)/2,dt=Je.SYMBOL_WIDEST[xt],lt=9-dt,dr=Ir.getRSSvalue(R,dt,!0),nr=Ir.getRSSvalue(Q,lt,!1),jn=Je.EVEN_TOTAL_SUBSET[xt],Qi=Je.GSUM[xt],La=dr*jn+nr+Qi;return new aa(La,Xe)}static isNotA1left(A,c,u){return!(A.getValue()==0&&c&&u)}adjustOddEvenCounts(A){let c=kt.sum(new Int32Array(this.getOddCounts())),u=kt.sum(new Int32Array(this.getEvenCounts())),m=!1,w=!1;c>13?w=!0:c<4&&(m=!0);let E=!1,C=!1;u>13?C=!0:u<4&&(E=!0);let I=c+u-A,R=(c&1)==1,Q=(u&1)==0;if(I==1)if(R){if(Q)throw new xe;w=!0}else{if(!Q)throw new xe;C=!0}else if(I==-1)if(R){if(Q)throw new xe;m=!0}else{if(!Q)throw new xe;E=!0}else if(I==0){if(R){if(!Q)throw new xe;c<u?(m=!0,C=!0):(w=!0,E=!0)}else if(Q)throw new xe}else throw new xe;if(m){if(w)throw new xe;Je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new xe;Je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Je.SYMBOL_WIDEST=[7,5,4,3,1],Je.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Je.GSUM=[0,348,1388,2948,3988],Je.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Je.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Je.FINDER_PAT_A=0,Je.FINDER_PAT_B=1,Je.FINDER_PAT_C=2,Je.FINDER_PAT_D=3,Je.FINDER_PAT_E=4,Je.FINDER_PAT_F=5,Je.FINDER_PATTERN_SEQUENCES=[[Je.FINDER_PAT_A,Je.FINDER_PAT_A],[Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B],[Je.FINDER_PAT_A,Je.FINDER_PAT_C,Je.FINDER_PAT_B,Je.FINDER_PAT_D],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_C],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_D,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_E,Je.FINDER_PAT_B,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_D],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_E],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F],[Je.FINDER_PAT_A,Je.FINDER_PAT_A,Je.FINDER_PAT_B,Je.FINDER_PAT_B,Je.FINDER_PAT_C,Je.FINDER_PAT_D,Je.FINDER_PAT_D,Je.FINDER_PAT_E,Je.FINDER_PAT_E,Je.FINDER_PAT_F,Je.FINDER_PAT_F]],Je.MAX_PAIRS=11;class Fr extends aa{constructor(A,c,u){super(A,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ht extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(A,c,u){const m=this.decodePair(c,!1,A,u);Ht.addOrTally(this.possibleLeftPairs,m),c.reverse();let w=this.decodePair(c,!0,A,u);Ht.addOrTally(this.possibleRightPairs,w),c.reverse();for(let E of this.possibleLeftPairs)if(E.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&Ht.checkChecksum(E,C))return Ht.constructResult(E,C)}throw new xe}static addOrTally(A,c){if(c==null)return;let u=!1;for(let m of A)if(m.getValue()===c.getValue()){m.incrementCount(),u=!0;break}u||A.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(A,c){let u=4537077*A.getValue()+c.getValue(),m=new String(u).toString(),w=new K;for(let R=13-m.length;R>0;R--)w.append("0");w.append(m);let E=0;for(let R=0;R<13;R++){let Q=w.charAt(R).charCodeAt(0)-48;E+=(R&1)===0?3*Q:Q}E=10-E%10,E===10&&(E=0),w.append(E.toString());let C=A.getFinderPattern().getResultPoints(),I=c.getFinderPattern().getResultPoints();return new se(w.toString(),null,0,[C[0],C[1],I[0],I[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(A,c){let u=(A.getChecksumPortion()+16*c.getChecksumPortion())%79,m=9*A.getFinderPattern().getValue()+c.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,u===m}decodePair(A,c,u,m){try{let w=this.findFinderPattern(A,c),E=this.parseFoundFinderPattern(A,u,c,w),C=m==null?null:m.get(z.NEED_RESULT_POINT_CALLBACK);if(C!=null){let Q=(w[0]+w[1])/2;c&&(Q=A.getSize()-1-Q),C.foundPossibleResultPoint(new vt(Q,u))}let I=this.decodeDataCharacter(A,E,!0),R=this.decodeDataCharacter(A,E,!1);return new Fr(1597*I.getValue()+R.getValue(),I.getChecksumPortion()+4*R.getChecksumPortion(),E)}catch{return null}}decodeDataCharacter(A,c,u){let m=this.getDataCharacterCounters();for(let De=0;De<m.length;De++)m[De]=0;if(u)Mt.recordPatternInReverse(A,c.getStartEnd()[0],m);else{Mt.recordPattern(A,c.getStartEnd()[1]+1,m);for(let De=0,Xe=m.length-1;De<Xe;De++,Xe--){let xt=m[De];m[De]=m[Xe],m[Xe]=xt}}let w=u?16:15,E=kt.sum(new Int32Array(m))/w,C=this.getOddCounts(),I=this.getEvenCounts(),R=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let De=0;De<m.length;De++){let Xe=m[De]/E,xt=Math.floor(Xe+.5);xt<1?xt=1:xt>8&&(xt=8);let dt=Math.floor(De/2);(De&1)===0?(C[dt]=xt,R[dt]=Xe-xt):(I[dt]=xt,Q[dt]=Xe-xt)}this.adjustOddEvenCounts(u,w);let W=0,ee=0;for(let De=C.length-1;De>=0;De--)ee*=9,ee+=C[De],W+=C[De];let we=0,be=0;for(let De=I.length-1;De>=0;De--)we*=9,we+=I[De],be+=I[De];let Te=ee+3*we;if(u){if((W&1)!==0||W>12||W<4)throw new xe;let De=(12-W)/2,Xe=Ht.OUTSIDE_ODD_WIDEST[De],xt=9-Xe,dt=Ir.getRSSvalue(C,Xe,!1),lt=Ir.getRSSvalue(I,xt,!0),dr=Ht.OUTSIDE_EVEN_TOTAL_SUBSET[De],nr=Ht.OUTSIDE_GSUM[De];return new aa(dt*dr+lt+nr,Te)}else{if((be&1)!==0||be>10||be<4)throw new xe;let De=(10-be)/2,Xe=Ht.INSIDE_ODD_WIDEST[De],xt=9-Xe,dt=Ir.getRSSvalue(C,Xe,!0),lt=Ir.getRSSvalue(I,xt,!1),dr=Ht.INSIDE_ODD_TOTAL_SUBSET[De],nr=Ht.INSIDE_GSUM[De];return new aa(lt*dr+dt+nr,Te)}}findFinderPattern(A,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let m=A.getSize(),w=!1,E=0;for(;E<m&&(w=!A.get(E),c!==w);)E++;let C=0,I=E;for(let R=E;R<m;R++)if(A.get(R)!==w)u[C]++;else{if(C===3){if(fn.isFinderPattern(u))return[I,R];I+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,w=!w}throw new xe}parseFoundFinderPattern(A,c,u,m){let w=A.get(m[0]),E=m[0]-1;for(;E>=0&&w!==A.get(E);)E--;E++;const C=m[0]-E,I=this.getDecodeFinderCounters(),R=new Int32Array(I.length);F.arraycopy(I,0,R,1,I.length-1),R[0]=C;const Q=this.parseFinderValue(R,Ht.FINDER_PATTERNS);let W=E,ee=m[1];return u&&(W=A.getSize()-1-W,ee=A.getSize()-1-ee),new Da(Q,[E,m[1]],W,ee,c)}adjustOddEvenCounts(A,c){let u=kt.sum(new Int32Array(this.getOddCounts())),m=kt.sum(new Int32Array(this.getEvenCounts())),w=!1,E=!1,C=!1,I=!1;A?(u>12?E=!0:u<4&&(w=!0),m>12?I=!0:m<4&&(C=!0)):(u>11?E=!0:u<5&&(w=!0),m>10?I=!0:m<4&&(C=!0));let R=u+m-c,Q=(u&1)===(A?1:0),W=(m&1)===1;if(R===1)if(Q){if(W)throw new xe;E=!0}else{if(!W)throw new xe;I=!0}else if(R===-1)if(Q){if(W)throw new xe;w=!0}else{if(!W)throw new xe;C=!0}else if(R===0){if(Q){if(!W)throw new xe;u<m?(w=!0,I=!0):(E=!0,C=!0)}else if(W)throw new xe}else throw new xe;if(w){if(E)throw new xe;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(E&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(I)throw new xe;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ht.OUTSIDE_GSUM=[0,161,961,2015,2715],Ht.INSIDE_GSUM=[0,336,1036,1516],Ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ht.INSIDE_ODD_WIDEST=[2,4,6,8],Ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Dn extends Mt{constructor(A,c){super(),this.readers=[],this.verbose=c===!0;const u=A?A.get(z.POSSIBLE_FORMATS):null,m=A&&A.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ce.EAN_13)||u.includes(Ce.UPC_A)||u.includes(Ce.EAN_8)||u.includes(Ce.UPC_E))&&this.readers.push(new Ti(A)),u.includes(Ce.CODE_39)&&this.readers.push(new Le(m)),u.includes(Ce.CODE_128)&&this.readers.push(new At),u.includes(Ce.ITF)&&this.readers.push(new nt),u.includes(Ce.RSS_14)&&this.readers.push(new Ht),u.includes(Ce.RSS_EXPANDED)&&this.readers.push(new Je(this.verbose))):(this.readers.push(new Ti(A)),this.readers.push(new Le),this.readers.push(new Ti(A)),this.readers.push(new At),this.readers.push(new nt),this.readers.push(new Ht),this.readers.push(new Je(this.verbose)))}decodeRow(A,c,u){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(A,c,u)}catch{}throw new xe}reset(){this.readers.forEach(A=>A.reset())}}class Hs extends pe{constructor(A=500,c){super(new Dn(c),A,c)}}class lr{constructor(A,c,u){this.ecCodewords=A,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rr{constructor(A,c){this.count=A,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ar{constructor(A,c,u,m,w,E){this.versionNumber=A,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=w,this.ecBlocks=E;let C=0;const I=E.getECCodewords(),R=E.getECBlocks();for(let Q of R)C+=Q.getCount()*(Q.getDataCodewords()+I);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(A,c){if((A&1)!==0||(c&1)!==0)throw new O;for(let u of ar.VERSIONS)if(u.symbolSizeRows===A&&u.symbolSizeColumns===c)return u;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new ar(1,10,10,8,8,new lr(5,new rr(1,3))),new ar(2,12,12,10,10,new lr(7,new rr(1,5))),new ar(3,14,14,12,12,new lr(10,new rr(1,8))),new ar(4,16,16,14,14,new lr(12,new rr(1,12))),new ar(5,18,18,16,16,new lr(14,new rr(1,18))),new ar(6,20,20,18,18,new lr(18,new rr(1,22))),new ar(7,22,22,20,20,new lr(20,new rr(1,30))),new ar(8,24,24,22,22,new lr(24,new rr(1,36))),new ar(9,26,26,24,24,new lr(28,new rr(1,44))),new ar(10,32,32,14,14,new lr(36,new rr(1,62))),new ar(11,36,36,16,16,new lr(42,new rr(1,86))),new ar(12,40,40,18,18,new lr(48,new rr(1,114))),new ar(13,44,44,20,20,new lr(56,new rr(1,144))),new ar(14,48,48,22,22,new lr(68,new rr(1,174))),new ar(15,52,52,24,24,new lr(42,new rr(2,102))),new ar(16,64,64,14,14,new lr(56,new rr(2,140))),new ar(17,72,72,16,16,new lr(36,new rr(4,92))),new ar(18,80,80,18,18,new lr(48,new rr(4,114))),new ar(19,88,88,20,20,new lr(56,new rr(4,144))),new ar(20,96,96,22,22,new lr(68,new rr(4,174))),new ar(21,104,104,24,24,new lr(56,new rr(6,136))),new ar(22,120,120,18,18,new lr(68,new rr(6,175))),new ar(23,132,132,20,20,new lr(62,new rr(8,163))),new ar(24,144,144,22,22,new lr(62,new rr(8,156),new rr(2,155))),new ar(25,8,18,6,16,new lr(7,new rr(1,5))),new ar(26,8,32,6,14,new lr(11,new rr(1,10))),new ar(27,12,26,10,24,new lr(14,new rr(1,16))),new ar(28,12,36,10,16,new lr(18,new rr(1,22))),new ar(29,16,36,14,16,new lr(24,new rr(1,32))),new ar(30,16,48,14,22,new lr(28,new rr(1,49)))]}}ar.VERSIONS=ar.buildVersions();class Mn{constructor(A){const c=A.getHeight();if(c<8||c>144||(c&1)!==0)throw new O;this.version=Mn.readVersion(A),this.mappingBitMatrix=this.extractDataRegion(A),this.readMappingMatrix=new Ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(A){const c=A.getHeight(),u=A.getWidth();return ar.getVersionForDimensions(c,u)}readCodewords(){const A=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,m=0;const w=this.mappingBitMatrix.getHeight(),E=this.mappingBitMatrix.getWidth();let C=!1,I=!1,R=!1,Q=!1;do if(u===w&&m===0&&!C)A[c++]=this.readCorner1(w,E)&255,u-=2,m+=2,C=!0;else if(u===w-2&&m===0&&(E&3)!==0&&!I)A[c++]=this.readCorner2(w,E)&255,u-=2,m+=2,I=!0;else if(u===w+4&&m===2&&(E&7)===0&&!R)A[c++]=this.readCorner3(w,E)&255,u-=2,m+=2,R=!0;else if(u===w-2&&m===0&&(E&7)===4&&!Q)A[c++]=this.readCorner4(w,E)&255,u-=2,m+=2,Q=!0;else{do u<w&&m>=0&&!this.readMappingMatrix.get(m,u)&&(A[c++]=this.readUtah(u,m,w,E)&255),u-=2,m+=2;while(u>=0&&m<E);u+=1,m+=3;do u>=0&&m<E&&!this.readMappingMatrix.get(m,u)&&(A[c++]=this.readUtah(u,m,w,E)&255),u+=2,m-=2;while(u<w&&m>=0);u+=3,m+=1}while(u<w||m<E);if(c!==this.version.getTotalCodewords())throw new O;return A}readModule(A,c,u,m){return A<0&&(A+=u,c+=4-(u+4&7)),c<0&&(c+=m,A+=4-(m+4&7)),this.readMappingMatrix.set(c,A),this.mappingBitMatrix.get(c,A)}readUtah(A,c,u,m){let w=0;return this.readModule(A-2,c-2,u,m)&&(w|=1),w<<=1,this.readModule(A-2,c-1,u,m)&&(w|=1),w<<=1,this.readModule(A-1,c-2,u,m)&&(w|=1),w<<=1,this.readModule(A-1,c-1,u,m)&&(w|=1),w<<=1,this.readModule(A-1,c,u,m)&&(w|=1),w<<=1,this.readModule(A,c-2,u,m)&&(w|=1),w<<=1,this.readModule(A,c-1,u,m)&&(w|=1),w<<=1,this.readModule(A,c,u,m)&&(w|=1),w}readCorner1(A,c){let u=0;return this.readModule(A-1,0,A,c)&&(u|=1),u<<=1,this.readModule(A-1,1,A,c)&&(u|=1),u<<=1,this.readModule(A-1,2,A,c)&&(u|=1),u<<=1,this.readModule(0,c-2,A,c)&&(u|=1),u<<=1,this.readModule(0,c-1,A,c)&&(u|=1),u<<=1,this.readModule(1,c-1,A,c)&&(u|=1),u<<=1,this.readModule(2,c-1,A,c)&&(u|=1),u<<=1,this.readModule(3,c-1,A,c)&&(u|=1),u}readCorner2(A,c){let u=0;return this.readModule(A-3,0,A,c)&&(u|=1),u<<=1,this.readModule(A-2,0,A,c)&&(u|=1),u<<=1,this.readModule(A-1,0,A,c)&&(u|=1),u<<=1,this.readModule(0,c-4,A,c)&&(u|=1),u<<=1,this.readModule(0,c-3,A,c)&&(u|=1),u<<=1,this.readModule(0,c-2,A,c)&&(u|=1),u<<=1,this.readModule(0,c-1,A,c)&&(u|=1),u<<=1,this.readModule(1,c-1,A,c)&&(u|=1),u}readCorner3(A,c){let u=0;return this.readModule(A-1,0,A,c)&&(u|=1),u<<=1,this.readModule(A-1,c-1,A,c)&&(u|=1),u<<=1,this.readModule(0,c-3,A,c)&&(u|=1),u<<=1,this.readModule(0,c-2,A,c)&&(u|=1),u<<=1,this.readModule(0,c-1,A,c)&&(u|=1),u<<=1,this.readModule(1,c-3,A,c)&&(u|=1),u<<=1,this.readModule(1,c-2,A,c)&&(u|=1),u<<=1,this.readModule(1,c-1,A,c)&&(u|=1),u}readCorner4(A,c){let u=0;return this.readModule(A-3,0,A,c)&&(u|=1),u<<=1,this.readModule(A-2,0,A,c)&&(u|=1),u<<=1,this.readModule(A-1,0,A,c)&&(u|=1),u<<=1,this.readModule(0,c-2,A,c)&&(u|=1),u<<=1,this.readModule(0,c-1,A,c)&&(u|=1),u<<=1,this.readModule(1,c-1,A,c)&&(u|=1),u<<=1,this.readModule(2,c-1,A,c)&&(u|=1),u<<=1,this.readModule(3,c-1,A,c)&&(u|=1),u}extractDataRegion(A){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(A.getHeight()!==c)throw new y("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),E=c/m|0,C=u/w|0,I=E*m,R=C*w,Q=new Ie(R,I);for(let W=0;W<E;++W){const ee=W*m;for(let we=0;we<C;++we){const be=we*w;for(let Te=0;Te<m;++Te){const De=W*(m+2)+1+Te,Xe=ee+Te;for(let xt=0;xt<w;++xt){const dt=we*(w+2)+1+xt;if(A.get(dt,De)){const lt=be+xt;Q.set(lt,Xe)}}}}}return Q}}class ms{constructor(A,c){this.numDataCodewords=A,this.codewords=c}static getDataBlocks(A,c){const u=c.getECBlocks();let m=0;const w=u.getECBlocks();for(let Te of w)m+=Te.getCount();const E=new Array(m);let C=0;for(let Te of w)for(let De=0;De<Te.getCount();De++){const Xe=Te.getDataCodewords(),xt=u.getECCodewords()+Xe;E[C++]=new ms(Xe,new Uint8Array(xt))}const R=E[0].codewords.length-u.getECCodewords(),Q=R-1;let W=0;for(let Te=0;Te<Q;Te++)for(let De=0;De<C;De++)E[De].codewords[Te]=A[W++];const ee=c.getVersionNumber()===24,we=ee?8:C;for(let Te=0;Te<we;Te++)E[Te].codewords[R-1]=A[W++];const be=E[0].codewords.length;for(let Te=R;Te<be;Te++)for(let De=0;De<C;De++){const Xe=ee?(De+8)%C:De,xt=ee&&Xe>7?Te-1:Te;E[Xe].codewords[xt]=A[W++]}if(W!==A.length)throw new y;return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class $a{constructor(A){this.bytes=A,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(A){if(A<1||A>32||A>this.available())throw new y(""+A);let c=0,u=this.bitOffset,m=this.byteOffset;const w=this.bytes;if(u>0){const E=8-u,C=A<E?A:E,I=E-C,R=255>>8-C<<I;c=(w[m]&R)>>I,A-=C,u+=C,u===8&&(u=0,m++)}if(A>0){for(;A>=8;)c=c<<8|w[m]&255,m++,A-=8;if(A>0){const E=8-A,C=255>>E<<E;c=c<<A|(w[m]&C)>>E,u+=A}}return this.bitOffset=u,this.byteOffset=m,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var br;(function(X){X[X.PAD_ENCODE=0]="PAD_ENCODE",X[X.ASCII_ENCODE=1]="ASCII_ENCODE",X[X.C40_ENCODE=2]="C40_ENCODE",X[X.TEXT_ENCODE=3]="TEXT_ENCODE",X[X.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",X[X.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",X[X.BASE256_ENCODE=6]="BASE256_ENCODE"})(br||(br={}));class Ji{static decode(A){const c=new $a(A),u=new K,m=new K,w=new Array;let E=br.ASCII_ENCODE;do if(E===br.ASCII_ENCODE)E=this.decodeAsciiSegment(c,u,m);else{switch(E){case br.C40_ENCODE:this.decodeC40Segment(c,u);break;case br.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case br.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case br.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case br.BASE256_ENCODE:this.decodeBase256Segment(c,u,w);break;default:throw new O}E=br.ASCII_ENCODE}while(E!==br.PAD_ENCODE&&c.available()>0);return m.length()>0&&u.append(m.toString()),new ae(A,u.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(A,c,u){let m=!1;do{let w=A.readBits(8);if(w===0)throw new O;if(w<=128)return m&&(w+=128),c.append(String.fromCharCode(w-1)),br.ASCII_ENCODE;if(w===129)return br.PAD_ENCODE;if(w<=229){const E=w-130;E<10&&c.append("0"),c.append(""+E)}else switch(w){case 230:return br.C40_ENCODE;case 231:return br.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return br.ANSIX12_ENCODE;case 239:return br.TEXT_ENCODE;case 240:return br.EDIFACT_ENCODE;case 241:break;default:if(w!==254||A.available()!==0)throw new O;break}}while(A.available()>0);return br.ASCII_ENCODE}static decodeC40Segment(A,c){let u=!1;const m=[];let w=0;do{if(A.available()===8)return;const E=A.readBits(8);if(E===254)return;this.parseTwoBytes(E,A.readBits(8),m);for(let C=0;C<3;C++){const I=m[C];switch(w){case 0:if(I<3)w=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const R=this.C40_BASIC_SET_CHARS[I];u?(c.append(String.fromCharCode(R.charCodeAt(0)+128)),u=!1):c.append(R)}else throw new O;break;case 1:u?(c.append(String.fromCharCode(I+128)),u=!1):c.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const R=this.C40_SHIFT2_SET_CHARS[I];u?(c.append(String.fromCharCode(R.charCodeAt(0)+128)),u=!1):c.append(R)}else switch(I){case 27:c.append("");break;case 30:u=!0;break;default:throw new O}w=0;break;case 3:u?(c.append(String.fromCharCode(I+224)),u=!1):c.append(String.fromCharCode(I+96)),w=0;break;default:throw new O}}}while(A.available()>0)}static decodeTextSegment(A,c){let u=!1,m=[],w=0;do{if(A.available()===8)return;const E=A.readBits(8);if(E===254)return;this.parseTwoBytes(E,A.readBits(8),m);for(let C=0;C<3;C++){const I=m[C];switch(w){case 0:if(I<3)w=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const R=this.TEXT_BASIC_SET_CHARS[I];u?(c.append(String.fromCharCode(R.charCodeAt(0)+128)),u=!1):c.append(R)}else throw new O;break;case 1:u?(c.append(String.fromCharCode(I+128)),u=!1):c.append(String.fromCharCode(I)),w=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const R=this.TEXT_SHIFT2_SET_CHARS[I];u?(c.append(String.fromCharCode(R.charCodeAt(0)+128)),u=!1):c.append(R)}else switch(I){case 27:c.append("");break;case 30:u=!0;break;default:throw new O}w=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const R=this.TEXT_SHIFT3_SET_CHARS[I];u?(c.append(String.fromCharCode(R.charCodeAt(0)+128)),u=!1):c.append(R),w=0}else throw new O;break;default:throw new O}}}while(A.available()>0)}static decodeAnsiX12Segment(A,c){const u=[];do{if(A.available()===8)return;const m=A.readBits(8);if(m===254)return;this.parseTwoBytes(m,A.readBits(8),u);for(let w=0;w<3;w++){const E=u[w];switch(E){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(E<14)c.append(String.fromCharCode(E+44));else if(E<40)c.append(String.fromCharCode(E+51));else throw new O;break}}}while(A.available()>0)}static parseTwoBytes(A,c,u){let m=(A<<8)+c-1,w=Math.floor(m/1600);u[0]=w,m-=w*1600,w=Math.floor(m/40),u[1]=w,u[2]=m-w*40}static decodeEdifactSegment(A,c){do{if(A.available()<=16)return;for(let u=0;u<4;u++){let m=A.readBits(6);if(m===31){const w=8-A.getBitOffset();w!==8&&A.readBits(w);return}(m&32)===0&&(m|=64),c.append(String.fromCharCode(m))}}while(A.available()>0)}static decodeBase256Segment(A,c,u){let m=1+A.getByteOffset();const w=this.unrandomize255State(A.readBits(8),m++);let E;if(w===0?E=A.available()/8|0:w<250?E=w:E=250*(w-249)+this.unrandomize255State(A.readBits(8),m++),E<0)throw new O;const C=new Uint8Array(E);for(let I=0;I<E;I++){if(A.available()<8)throw new O;C[I]=this.unrandomize255State(A.readBits(8),m++)}u.push(C);try{c.append(Y.decode(C,G.ISO88591))}catch(I){throw new et("Platform does not support required encoding: "+I.message)}}static unrandomize255State(A,c){const u=149*c%255+1,m=A-u;return m>=0?m:m+256}}Ji.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ji.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ji.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ji.TEXT_SHIFT2_SET_CHARS=Ji.C40_SHIFT2_SET_CHARS,Ji.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Y0{constructor(){this.rsDecoder=new gt(yt.DATA_MATRIX_FIELD_256)}decode(A){const c=new Mn(A),u=c.getVersion(),m=c.readCodewords(),w=ms.getDataBlocks(m,u);let E=0;for(let R of w)E+=R.getNumDataCodewords();const C=new Uint8Array(E),I=w.length;for(let R=0;R<I;R++){const Q=w[R],W=Q.getCodewords(),ee=Q.getNumDataCodewords();this.correctErrors(W,ee);for(let we=0;we<ee;we++)C[we*I+R]=W[we]}return Ji.decode(C)}correctErrors(A,c){const u=new Int32Array(A);try{this.rsDecoder.decode(u,A.length-c)}catch{throw new T}for(let m=0;m<c;m++)A[m]=u[m]}}class en{constructor(A){this.image=A,this.rectangleDetector=new tr(this.image)}detect(){const A=this.rectangleDetector.detect();let c=this.detectSolid1(A);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new xe;c=this.shiftToModuleCenter(c);const u=c[0],m=c[1],w=c[2],E=c[3];let C=this.transitionsBetween(u,E)+1,I=this.transitionsBetween(w,E)+1;(C&1)===1&&(C+=1),(I&1)===1&&(I+=1),4*C<7*I&&4*I<7*C&&(C=I=Math.max(C,I));let R=en.sampleGrid(this.image,u,m,w,E,C,I);return new Ca(R,[u,m,w,E])}static shiftPoint(A,c,u){let m=(c.getX()-A.getX())/(u+1),w=(c.getY()-A.getY())/(u+1);return new vt(A.getX()+m,A.getY()+w)}static moveAway(A,c,u){let m=A.getX(),w=A.getY();return m<c?m-=1:m+=1,w<u?w-=1:w+=1,new vt(m,w)}detectSolid1(A){let c=A[0],u=A[1],m=A[3],w=A[2],E=this.transitionsBetween(c,u),C=this.transitionsBetween(u,m),I=this.transitionsBetween(m,w),R=this.transitionsBetween(w,c),Q=E,W=[w,c,u,m];return Q>C&&(Q=C,W[0]=c,W[1]=u,W[2]=m,W[3]=w),Q>I&&(Q=I,W[0]=u,W[1]=m,W[2]=w,W[3]=c),Q>R&&(W[0]=m,W[1]=w,W[2]=c,W[3]=u),W}detectSolid2(A){let c=A[0],u=A[1],m=A[2],w=A[3],E=this.transitionsBetween(c,w),C=en.shiftPoint(u,m,(E+1)*4),I=en.shiftPoint(m,u,(E+1)*4),R=this.transitionsBetween(C,c),Q=this.transitionsBetween(I,w);return R<Q?(A[0]=c,A[1]=u,A[2]=m,A[3]=w):(A[0]=u,A[1]=m,A[2]=w,A[3]=c),A}correctTopRight(A){let c=A[0],u=A[1],m=A[2],w=A[3],E=this.transitionsBetween(c,w),C=this.transitionsBetween(u,w),I=en.shiftPoint(c,u,(C+1)*4),R=en.shiftPoint(m,u,(E+1)*4);E=this.transitionsBetween(I,w),C=this.transitionsBetween(R,w);let Q=new vt(w.getX()+(m.getX()-u.getX())/(E+1),w.getY()+(m.getY()-u.getY())/(E+1)),W=new vt(w.getX()+(c.getX()-u.getX())/(C+1),w.getY()+(c.getY()-u.getY())/(C+1));if(!this.isValid(Q))return this.isValid(W)?W:null;if(!this.isValid(W))return Q;let ee=this.transitionsBetween(I,Q)+this.transitionsBetween(R,Q),we=this.transitionsBetween(I,W)+this.transitionsBetween(R,W);return ee>we?Q:W}shiftToModuleCenter(A){let c=A[0],u=A[1],m=A[2],w=A[3],E=this.transitionsBetween(c,w)+1,C=this.transitionsBetween(m,w)+1,I=en.shiftPoint(c,u,C*4),R=en.shiftPoint(m,u,E*4);E=this.transitionsBetween(I,w)+1,C=this.transitionsBetween(R,w)+1,(E&1)===1&&(E+=1),(C&1)===1&&(C+=1);let Q=(c.getX()+u.getX()+m.getX()+w.getX())/4,W=(c.getY()+u.getY()+m.getY()+w.getY())/4;c=en.moveAway(c,Q,W),u=en.moveAway(u,Q,W),m=en.moveAway(m,Q,W),w=en.moveAway(w,Q,W);let ee,we;return I=en.shiftPoint(c,u,C*4),I=en.shiftPoint(I,w,E*4),ee=en.shiftPoint(u,c,C*4),ee=en.shiftPoint(ee,m,E*4),R=en.shiftPoint(m,w,C*4),R=en.shiftPoint(R,u,E*4),we=en.shiftPoint(w,m,C*4),we=en.shiftPoint(we,c,E*4),[I,ee,R,we]}isValid(A){return A.getX()>=0&&A.getX()<this.image.getWidth()&&A.getY()>0&&A.getY()<this.image.getHeight()}static sampleGrid(A,c,u,m,w,E,C){return Ze.getInstance().sampleGrid(A,E,C,.5,.5,E-.5,.5,E-.5,C-.5,.5,C-.5,c.getX(),c.getY(),w.getX(),w.getY(),m.getX(),m.getY(),u.getX(),u.getY())}transitionsBetween(A,c){let u=Math.trunc(A.getX()),m=Math.trunc(A.getY()),w=Math.trunc(c.getX()),E=Math.trunc(c.getY()),C=Math.abs(E-m)>Math.abs(w-u);if(C){let Te=u;u=m,m=Te,Te=w,w=E,E=Te}let I=Math.abs(w-u),R=Math.abs(E-m),Q=-I/2,W=m<E?1:-1,ee=u<w?1:-1,we=0,be=this.image.get(C?m:u,C?u:m);for(let Te=u,De=m;Te!==w;Te+=ee){let Xe=this.image.get(C?De:Te,C?Te:De);if(Xe!==be&&(we++,be=Xe),Q+=R,Q>0){if(De===E)break;De+=W,Q-=I}}return we}}class Ii{constructor(){this.decoder=new Y0}decode(A,c=null){let u,m;if(c!=null&&c.has(z.PURE_BARCODE)){const R=Ii.extractPureBits(A.getBlackMatrix());u=this.decoder.decode(R),m=Ii.NO_POINTS}else{const R=new en(A.getBlackMatrix()).detect();u=this.decoder.decode(R.getBits()),m=R.getPoints()}const w=u.getRawBytes(),E=new se(u.getText(),w,8*w.length,m,Ce.DATA_MATRIX,F.currentTimeMillis()),C=u.getByteSegments();C!=null&&E.putMetadata(ye.BYTE_SEGMENTS,C);const I=u.getECLevel();return I!=null&&E.putMetadata(ye.ERROR_CORRECTION_LEVEL,I),E}reset(){}static extractPureBits(A){const c=A.getTopLeftOnBit(),u=A.getBottomRightOnBit();if(c==null||u==null)throw new xe;const m=this.moduleSize(c,A);let w=c[1];const E=u[1];let C=c[0];const R=(u[0]-C+1)/m,Q=(E-w+1)/m;if(R<=0||Q<=0)throw new xe;const W=m/2;w+=W,C+=W;const ee=new Ie(R,Q);for(let we=0;we<Q;we++){const be=w+we*m;for(let Te=0;Te<R;Te++)A.get(C+Te*m,be)&&ee.set(Te,we)}return ee}static moduleSize(A,c){const u=c.getWidth();let m=A[0];const w=A[1];for(;m<u&&c.get(m,w);)m++;if(m===u)throw new xe;const E=m-A[0];if(E===0)throw new xe;return E}}Ii.NO_POINTS=[];class go extends pe{constructor(A=500){super(new Ii,A)}}var ei;(function(X){X[X.L=0]="L",X[X.M=1]="M",X[X.Q=2]="Q",X[X.H=3]="H"})(ei||(ei={}));class Yt{constructor(A,c,u){this.value=A,this.stringValue=c,this.bits=u,Yt.FOR_BITS.set(u,this),Yt.FOR_VALUE.set(A,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(A){switch(A){case"L":return Yt.L;case"M":return Yt.M;case"Q":return Yt.Q;case"H":return Yt.H;default:throw new p(A+"not available")}}toString(){return this.stringValue}equals(A){if(!(A instanceof Yt))return!1;const c=A;return this.value===c.value}static forBits(A){if(A<0||A>=Yt.FOR_BITS.size)throw new y;return Yt.FOR_BITS.get(A)}}Yt.FOR_BITS=new Map,Yt.FOR_VALUE=new Map,Yt.L=new Yt(ei.L,"L",1),Yt.M=new Yt(ei.M,"M",0),Yt.Q=new Yt(ei.Q,"Q",3),Yt.H=new Yt(ei.H,"H",2);class wn{constructor(A){this.errorCorrectionLevel=Yt.forBits(A>>3&3),this.dataMask=A&7}static numBitsDiffering(A,c){return j.bitCount(A^c)}static decodeFormatInformation(A,c){const u=wn.doDecodeFormatInformation(A,c);return u!==null?u:wn.doDecodeFormatInformation(A^wn.FORMAT_INFO_MASK_QR,c^wn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(A,c){let u=Number.MAX_SAFE_INTEGER,m=0;for(const w of wn.FORMAT_INFO_DECODE_LOOKUP){const E=w[0];if(E===A||E===c)return new wn(w[1]);let C=wn.numBitsDiffering(A,E);C<u&&(m=w[1],u=C),A!==c&&(C=wn.numBitsDiffering(c,E),C<u&&(m=w[1],u=C))}return u<=3?new wn(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(A){if(!(A instanceof wn))return!1;const c=A;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}wn.FORMAT_INFO_MASK_QR=21522,wn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ue{constructor(A,...c){this.ecCodewordsPerBlock=A,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let A=0;const c=this.ecBlocks;for(const u of c)A+=u.getCount();return A}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class de{constructor(A,c){this.count=A,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(A,c,...u){this.versionNumber=A,this.alignmentPatternCenters=c,this.ecBlocks=u;let m=0;const w=u[0].getECCodewordsPerBlock(),E=u[0].getECBlocks();for(const C of E)m+=C.getCount()*(C.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(A){return this.ecBlocks[A.getValue()]}static getProvisionalVersionForDimension(A){if(A%4!==1)throw new O;try{return this.getVersionForNumber((A-17)/4)}catch{throw new O}}static getVersionForNumber(A){if(A<1||A>40)throw new y;return mt.VERSIONS[A-1]}static decodeVersionInformation(A){let c=Number.MAX_SAFE_INTEGER,u=0;for(let m=0;m<mt.VERSION_DECODE_INFO.length;m++){const w=mt.VERSION_DECODE_INFO[m];if(w===A)return mt.getVersionForNumber(m+7);const E=wn.numBitsDiffering(A,w);E<c&&(u=m+7,c=E)}return c<=3?mt.getVersionForNumber(u):null}buildFunctionPattern(){const A=this.getDimensionForVersion(),c=new Ie(A);c.setRegion(0,0,9,9),c.setRegion(A-8,0,8,9),c.setRegion(0,A-8,9,8);const u=this.alignmentPatternCenters.length;for(let m=0;m<u;m++){const w=this.alignmentPatternCenters[m]-2;for(let E=0;E<u;E++)m===0&&(E===0||E===u-1)||m===u-1&&E===0||c.setRegion(this.alignmentPatternCenters[E]-2,w,5,5)}return c.setRegion(6,9,1,A-17),c.setRegion(9,6,A-17,1),this.versionNumber>6&&(c.setRegion(A-11,0,3,6),c.setRegion(0,A-11,6,3)),c}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new Ue(7,new de(1,19)),new Ue(10,new de(1,16)),new Ue(13,new de(1,13)),new Ue(17,new de(1,9))),new mt(2,Int32Array.from([6,18]),new Ue(10,new de(1,34)),new Ue(16,new de(1,28)),new Ue(22,new de(1,22)),new Ue(28,new de(1,16))),new mt(3,Int32Array.from([6,22]),new Ue(15,new de(1,55)),new Ue(26,new de(1,44)),new Ue(18,new de(2,17)),new Ue(22,new de(2,13))),new mt(4,Int32Array.from([6,26]),new Ue(20,new de(1,80)),new Ue(18,new de(2,32)),new Ue(26,new de(2,24)),new Ue(16,new de(4,9))),new mt(5,Int32Array.from([6,30]),new Ue(26,new de(1,108)),new Ue(24,new de(2,43)),new Ue(18,new de(2,15),new de(2,16)),new Ue(22,new de(2,11),new de(2,12))),new mt(6,Int32Array.from([6,34]),new Ue(18,new de(2,68)),new Ue(16,new de(4,27)),new Ue(24,new de(4,19)),new Ue(28,new de(4,15))),new mt(7,Int32Array.from([6,22,38]),new Ue(20,new de(2,78)),new Ue(18,new de(4,31)),new Ue(18,new de(2,14),new de(4,15)),new Ue(26,new de(4,13),new de(1,14))),new mt(8,Int32Array.from([6,24,42]),new Ue(24,new de(2,97)),new Ue(22,new de(2,38),new de(2,39)),new Ue(22,new de(4,18),new de(2,19)),new Ue(26,new de(4,14),new de(2,15))),new mt(9,Int32Array.from([6,26,46]),new Ue(30,new de(2,116)),new Ue(22,new de(3,36),new de(2,37)),new Ue(20,new de(4,16),new de(4,17)),new Ue(24,new de(4,12),new de(4,13))),new mt(10,Int32Array.from([6,28,50]),new Ue(18,new de(2,68),new de(2,69)),new Ue(26,new de(4,43),new de(1,44)),new Ue(24,new de(6,19),new de(2,20)),new Ue(28,new de(6,15),new de(2,16))),new mt(11,Int32Array.from([6,30,54]),new Ue(20,new de(4,81)),new Ue(30,new de(1,50),new de(4,51)),new Ue(28,new de(4,22),new de(4,23)),new Ue(24,new de(3,12),new de(8,13))),new mt(12,Int32Array.from([6,32,58]),new Ue(24,new de(2,92),new de(2,93)),new Ue(22,new de(6,36),new de(2,37)),new Ue(26,new de(4,20),new de(6,21)),new Ue(28,new de(7,14),new de(4,15))),new mt(13,Int32Array.from([6,34,62]),new Ue(26,new de(4,107)),new Ue(22,new de(8,37),new de(1,38)),new Ue(24,new de(8,20),new de(4,21)),new Ue(22,new de(12,11),new de(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new Ue(30,new de(3,115),new de(1,116)),new Ue(24,new de(4,40),new de(5,41)),new Ue(20,new de(11,16),new de(5,17)),new Ue(24,new de(11,12),new de(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new Ue(22,new de(5,87),new de(1,88)),new Ue(24,new de(5,41),new de(5,42)),new Ue(30,new de(5,24),new de(7,25)),new Ue(24,new de(11,12),new de(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new Ue(24,new de(5,98),new de(1,99)),new Ue(28,new de(7,45),new de(3,46)),new Ue(24,new de(15,19),new de(2,20)),new Ue(30,new de(3,15),new de(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new Ue(28,new de(1,107),new de(5,108)),new Ue(28,new de(10,46),new de(1,47)),new Ue(28,new de(1,22),new de(15,23)),new Ue(28,new de(2,14),new de(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new Ue(30,new de(5,120),new de(1,121)),new Ue(26,new de(9,43),new de(4,44)),new Ue(28,new de(17,22),new de(1,23)),new Ue(28,new de(2,14),new de(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new Ue(28,new de(3,113),new de(4,114)),new Ue(26,new de(3,44),new de(11,45)),new Ue(26,new de(17,21),new de(4,22)),new Ue(26,new de(9,13),new de(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new Ue(28,new de(3,107),new de(5,108)),new Ue(26,new de(3,41),new de(13,42)),new Ue(30,new de(15,24),new de(5,25)),new Ue(28,new de(15,15),new de(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new Ue(28,new de(4,116),new de(4,117)),new Ue(26,new de(17,42)),new Ue(28,new de(17,22),new de(6,23)),new Ue(30,new de(19,16),new de(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new Ue(28,new de(2,111),new de(7,112)),new Ue(28,new de(17,46)),new Ue(30,new de(7,24),new de(16,25)),new Ue(24,new de(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new Ue(30,new de(4,121),new de(5,122)),new Ue(28,new de(4,47),new de(14,48)),new Ue(30,new de(11,24),new de(14,25)),new Ue(30,new de(16,15),new de(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new Ue(30,new de(6,117),new de(4,118)),new Ue(28,new de(6,45),new de(14,46)),new Ue(30,new de(11,24),new de(16,25)),new Ue(30,new de(30,16),new de(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new Ue(26,new de(8,106),new de(4,107)),new Ue(28,new de(8,47),new de(13,48)),new Ue(30,new de(7,24),new de(22,25)),new Ue(30,new de(22,15),new de(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new Ue(28,new de(10,114),new de(2,115)),new Ue(28,new de(19,46),new de(4,47)),new Ue(28,new de(28,22),new de(6,23)),new Ue(30,new de(33,16),new de(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new Ue(30,new de(8,122),new de(4,123)),new Ue(28,new de(22,45),new de(3,46)),new Ue(30,new de(8,23),new de(26,24)),new Ue(30,new de(12,15),new de(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new Ue(30,new de(3,117),new de(10,118)),new Ue(28,new de(3,45),new de(23,46)),new Ue(30,new de(4,24),new de(31,25)),new Ue(30,new de(11,15),new de(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new Ue(30,new de(7,116),new de(7,117)),new Ue(28,new de(21,45),new de(7,46)),new Ue(30,new de(1,23),new de(37,24)),new Ue(30,new de(19,15),new de(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new Ue(30,new de(5,115),new de(10,116)),new Ue(28,new de(19,47),new de(10,48)),new Ue(30,new de(15,24),new de(25,25)),new Ue(30,new de(23,15),new de(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new Ue(30,new de(13,115),new de(3,116)),new Ue(28,new de(2,46),new de(29,47)),new Ue(30,new de(42,24),new de(1,25)),new Ue(30,new de(23,15),new de(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new Ue(30,new de(17,115)),new Ue(28,new de(10,46),new de(23,47)),new Ue(30,new de(10,24),new de(35,25)),new Ue(30,new de(19,15),new de(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new Ue(30,new de(17,115),new de(1,116)),new Ue(28,new de(14,46),new de(21,47)),new Ue(30,new de(29,24),new de(19,25)),new Ue(30,new de(11,15),new de(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new Ue(30,new de(13,115),new de(6,116)),new Ue(28,new de(14,46),new de(23,47)),new Ue(30,new de(44,24),new de(7,25)),new Ue(30,new de(59,16),new de(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ue(30,new de(12,121),new de(7,122)),new Ue(28,new de(12,47),new de(26,48)),new Ue(30,new de(39,24),new de(14,25)),new Ue(30,new de(22,15),new de(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ue(30,new de(6,121),new de(14,122)),new Ue(28,new de(6,47),new de(34,48)),new Ue(30,new de(46,24),new de(10,25)),new Ue(30,new de(2,15),new de(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ue(30,new de(17,122),new de(4,123)),new Ue(28,new de(29,46),new de(14,47)),new Ue(30,new de(49,24),new de(10,25)),new Ue(30,new de(24,15),new de(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ue(30,new de(4,122),new de(18,123)),new Ue(28,new de(13,46),new de(32,47)),new Ue(30,new de(48,24),new de(14,25)),new Ue(30,new de(42,15),new de(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ue(30,new de(20,117),new de(4,118)),new Ue(28,new de(40,47),new de(7,48)),new Ue(30,new de(43,24),new de(22,25)),new Ue(30,new de(10,15),new de(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ue(30,new de(19,118),new de(6,119)),new Ue(28,new de(18,47),new de(31,48)),new Ue(30,new de(34,24),new de(34,25)),new Ue(30,new de(20,15),new de(61,16)))];var hn;(function(X){X[X.DATA_MASK_000=0]="DATA_MASK_000",X[X.DATA_MASK_001=1]="DATA_MASK_001",X[X.DATA_MASK_010=2]="DATA_MASK_010",X[X.DATA_MASK_011=3]="DATA_MASK_011",X[X.DATA_MASK_100=4]="DATA_MASK_100",X[X.DATA_MASK_101=5]="DATA_MASK_101",X[X.DATA_MASK_110=6]="DATA_MASK_110",X[X.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));class Yn{constructor(A,c){this.value=A,this.isMasked=c}unmaskBitMatrix(A,c){for(let u=0;u<c;u++)for(let m=0;m<c;m++)this.isMasked(u,m)&&A.flip(m,u)}}Yn.values=new Map([[hn.DATA_MASK_000,new Yn(hn.DATA_MASK_000,(X,A)=>(X+A&1)===0)],[hn.DATA_MASK_001,new Yn(hn.DATA_MASK_001,(X,A)=>(X&1)===0)],[hn.DATA_MASK_010,new Yn(hn.DATA_MASK_010,(X,A)=>A%3===0)],[hn.DATA_MASK_011,new Yn(hn.DATA_MASK_011,(X,A)=>(X+A)%3===0)],[hn.DATA_MASK_100,new Yn(hn.DATA_MASK_100,(X,A)=>(Math.floor(X/2)+Math.floor(A/3)&1)===0)],[hn.DATA_MASK_101,new Yn(hn.DATA_MASK_101,(X,A)=>X*A%6===0)],[hn.DATA_MASK_110,new Yn(hn.DATA_MASK_110,(X,A)=>X*A%6<3)],[hn.DATA_MASK_111,new Yn(hn.DATA_MASK_111,(X,A)=>(X+A+X*A%3&1)===0)]]);class Fi{constructor(A){const c=A.getHeight();if(c<21||(c&3)!==1)throw new O;this.bitMatrix=A}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let A=0;for(let w=0;w<6;w++)A=this.copyBit(w,8,A);A=this.copyBit(7,8,A),A=this.copyBit(8,8,A),A=this.copyBit(8,7,A);for(let w=5;w>=0;w--)A=this.copyBit(8,w,A);const c=this.bitMatrix.getHeight();let u=0;const m=c-7;for(let w=c-1;w>=m;w--)u=this.copyBit(8,w,u);for(let w=c-8;w<c;w++)u=this.copyBit(w,8,u);if(this.parsedFormatInfo=wn.decodeFormatInformation(A,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const A=this.bitMatrix.getHeight(),c=Math.floor((A-17)/4);if(c<=6)return mt.getVersionForNumber(c);let u=0;const m=A-11;for(let E=5;E>=0;E--)for(let C=A-9;C>=m;C--)u=this.copyBit(C,E,u);let w=mt.decodeVersionInformation(u);if(w!==null&&w.getDimensionForVersion()===A)return this.parsedVersion=w,w;u=0;for(let E=5;E>=0;E--)for(let C=A-9;C>=m;C--)u=this.copyBit(E,C,u);if(w=mt.decodeVersionInformation(u),w!==null&&w.getDimensionForVersion()===A)return this.parsedVersion=w,w;throw new O}copyBit(A,c,u){return(this.isMirror?this.bitMatrix.get(c,A):this.bitMatrix.get(A,c))?u<<1|1:u<<1}readCodewords(){const A=this.readFormatInformation(),c=this.readVersion(),u=Yn.values.get(A.getDataMask()),m=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,m);const w=c.buildFunctionPattern();let E=!0;const C=new Uint8Array(c.getTotalCodewords());let I=0,R=0,Q=0;for(let W=m-1;W>0;W-=2){W===6&&W--;for(let ee=0;ee<m;ee++){const we=E?m-1-ee:ee;for(let be=0;be<2;be++)w.get(W-be,we)||(Q++,R<<=1,this.bitMatrix.get(W-be,we)&&(R|=1),Q===8&&(C[I++]=R,Q=0,R=0))}E=!E}if(I!==c.getTotalCodewords())throw new O;return C}remask(){if(this.parsedFormatInfo===null)return;const A=Yn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();A.unmaskBitMatrix(this.bitMatrix,c)}setMirror(A){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=A}mirror(){const A=this.bitMatrix;for(let c=0,u=A.getWidth();c<u;c++)for(let m=c+1,w=A.getHeight();m<w;m++)A.get(c,m)!==A.get(m,c)&&(A.flip(m,c),A.flip(c,m))}}class vl{constructor(A,c){this.numDataCodewords=A,this.codewords=c}static getDataBlocks(A,c,u){if(A.length!==c.getTotalCodewords())throw new y;const m=c.getECBlocksForLevel(u);let w=0;const E=m.getECBlocks();for(const be of E)w+=be.getCount();const C=new Array(w);let I=0;for(const be of E)for(let Te=0;Te<be.getCount();Te++){const De=be.getDataCodewords(),Xe=m.getECCodewordsPerBlock()+De;C[I++]=new vl(De,new Uint8Array(Xe))}const R=C[0].codewords.length;let Q=C.length-1;for(;Q>=0&&C[Q].codewords.length!==R;)Q--;Q++;const W=R-m.getECCodewordsPerBlock();let ee=0;for(let be=0;be<W;be++)for(let Te=0;Te<I;Te++)C[Te].codewords[be]=A[ee++];for(let be=Q;be<I;be++)C[be].codewords[W]=A[ee++];const we=C[0].codewords.length;for(let be=W;be<we;be++)for(let Te=0;Te<I;Te++){const De=Te<Q?be:be+1;C[Te].codewords[De]=A[ee++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ba;(function(X){X[X.TERMINATOR=0]="TERMINATOR",X[X.NUMERIC=1]="NUMERIC",X[X.ALPHANUMERIC=2]="ALPHANUMERIC",X[X.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",X[X.BYTE=4]="BYTE",X[X.ECI=5]="ECI",X[X.KANJI=6]="KANJI",X[X.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",X[X.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",X[X.HANZI=9]="HANZI"})(ba||(ba={}));class Lt{constructor(A,c,u,m){this.value=A,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=m,Lt.FOR_BITS.set(m,this),Lt.FOR_VALUE.set(A,this)}static forBits(A){const c=Lt.FOR_BITS.get(A);if(c===void 0)throw new y;return c}getCharacterCountBits(A){const c=A.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(A){if(!(A instanceof Lt))return!1;const c=A;return this.value===c.value}toString(){return this.stringValue}}Lt.FOR_BITS=new Map,Lt.FOR_VALUE=new Map,Lt.TERMINATOR=new Lt(ba.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Lt.NUMERIC=new Lt(ba.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Lt.ALPHANUMERIC=new Lt(ba.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Lt.STRUCTURED_APPEND=new Lt(ba.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Lt.BYTE=new Lt(ba.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Lt.ECI=new Lt(ba.ECI,"ECI",Int32Array.from([0,0,0]),7),Lt.KANJI=new Lt(ba.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Lt.FNC1_FIRST_POSITION=new Lt(ba.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Lt.FNC1_SECOND_POSITION=new Lt(ba.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Lt.HANZI=new Lt(ba.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yr{static decode(A,c,u,m){const w=new $a(A);let E=new K;const C=new Array;let I=-1,R=-1;try{let Q=null,W=!1,ee;do{if(w.available()<4)ee=Lt.TERMINATOR;else{const we=w.readBits(4);ee=Lt.forBits(we)}switch(ee){case Lt.TERMINATOR:break;case Lt.FNC1_FIRST_POSITION:case Lt.FNC1_SECOND_POSITION:W=!0;break;case Lt.STRUCTURED_APPEND:if(w.available()<16)throw new O;I=w.readBits(8),R=w.readBits(8);break;case Lt.ECI:const we=Yr.parseECIValue(w);if(Q=k.getCharacterSetECIByValue(we),Q===null)throw new O;break;case Lt.HANZI:const be=w.readBits(4),Te=w.readBits(ee.getCharacterCountBits(c));be===Yr.GB2312_SUBSET&&Yr.decodeHanziSegment(w,E,Te);break;default:const De=w.readBits(ee.getCharacterCountBits(c));switch(ee){case Lt.NUMERIC:Yr.decodeNumericSegment(w,E,De);break;case Lt.ALPHANUMERIC:Yr.decodeAlphanumericSegment(w,E,De,W);break;case Lt.BYTE:Yr.decodeByteSegment(w,E,De,Q,C,m);break;case Lt.KANJI:Yr.decodeKanjiSegment(w,E,De);break;default:throw new O}break}}while(ee!==Lt.TERMINATOR)}catch{throw new O}return new ae(A,E.toString(),C.length===0?null:C,u===null?null:u.toString(),I,R)}static decodeHanziSegment(A,c,u){if(u*13>A.available())throw new O;const m=new Uint8Array(2*u);let w=0;for(;u>0;){const E=A.readBits(13);let C=E/96<<8&4294967295|E%96;C<959?C+=41377:C+=42657,m[w]=C>>8&255,m[w+1]=C&255,w+=2,u--}try{c.append(Y.decode(m,G.GB2312))}catch(E){throw new O(E)}}static decodeKanjiSegment(A,c,u){if(u*13>A.available())throw new O;const m=new Uint8Array(2*u);let w=0;for(;u>0;){const E=A.readBits(13);let C=E/192<<8&4294967295|E%192;C<7936?C+=33088:C+=49472,m[w]=C>>8,m[w+1]=C,w+=2,u--}try{c.append(Y.decode(m,G.SHIFT_JIS))}catch(E){throw new O(E)}}static decodeByteSegment(A,c,u,m,w,E){if(8*u>A.available())throw new O;const C=new Uint8Array(u);for(let R=0;R<u;R++)C[R]=A.readBits(8);let I;m===null?I=G.guessEncoding(C,E):I=m.getName();try{c.append(Y.decode(C,I))}catch(R){throw new O(R)}w.push(C)}static toAlphaNumericChar(A){if(A>=Yr.ALPHANUMERIC_CHARS.length)throw new O;return Yr.ALPHANUMERIC_CHARS[A]}static decodeAlphanumericSegment(A,c,u,m){const w=c.length();for(;u>1;){if(A.available()<11)throw new O;const E=A.readBits(11);c.append(Yr.toAlphaNumericChar(Math.floor(E/45))),c.append(Yr.toAlphaNumericChar(E%45)),u-=2}if(u===1){if(A.available()<6)throw new O;c.append(Yr.toAlphaNumericChar(A.readBits(6)))}if(m)for(let E=w;E<c.length();E++)c.charAt(E)==="%"&&(E<c.length()-1&&c.charAt(E+1)==="%"?c.deleteCharAt(E+1):c.setCharAt(E,""))}static decodeNumericSegment(A,c,u){for(;u>=3;){if(A.available()<10)throw new O;const m=A.readBits(10);if(m>=1e3)throw new O;c.append(Yr.toAlphaNumericChar(Math.floor(m/100))),c.append(Yr.toAlphaNumericChar(Math.floor(m/10)%10)),c.append(Yr.toAlphaNumericChar(m%10)),u-=3}if(u===2){if(A.available()<7)throw new O;const m=A.readBits(7);if(m>=100)throw new O;c.append(Yr.toAlphaNumericChar(Math.floor(m/10))),c.append(Yr.toAlphaNumericChar(m%10))}else if(u===1){if(A.available()<4)throw new O;const m=A.readBits(4);if(m>=10)throw new O;c.append(Yr.toAlphaNumericChar(m))}}static parseECIValue(A){const c=A.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=A.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=A.readBits(16);return(c&31)<<16&4294967295|u}throw new O}}Yr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yr.GB2312_SUBSET=1;class Cc{constructor(A){this.mirrored=A}isMirrored(){return this.mirrored}applyMirroredCorrection(A){if(!this.mirrored||A===null||A.length<3)return;const c=A[0];A[0]=A[2],A[2]=c}}class q0{constructor(){this.rsDecoder=new gt(yt.QR_CODE_FIELD_256)}decodeBooleanArray(A,c){return this.decodeBitMatrix(Ie.parseFromBooleanArray(A),c)}decodeBitMatrix(A,c){const u=new Fi(A);let m=null;try{return this.decodeBitMatrixParser(u,c)}catch(w){m=w}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const w=this.decodeBitMatrixParser(u,c);return w.setOther(new Cc(!0)),w}catch(w){throw m!==null?m:w}}decodeBitMatrixParser(A,c){const u=A.readVersion(),m=A.readFormatInformation().getErrorCorrectionLevel(),w=A.readCodewords(),E=vl.getDataBlocks(w,u,m);let C=0;for(const Q of E)C+=Q.getNumDataCodewords();const I=new Uint8Array(C);let R=0;for(const Q of E){const W=Q.getCodewords(),ee=Q.getNumDataCodewords();this.correctErrors(W,ee);for(let we=0;we<ee;we++)I[R++]=W[we]}return Yr.decode(I,u,m,c)}correctErrors(A,c){const u=new Int32Array(A);try{this.rsDecoder.decode(u,A.length-c)}catch{throw new T}for(let m=0;m<c;m++)A[m]=u[m]}}class Ni extends vt{constructor(A,c,u){super(A,c),this.estimatedModuleSize=u}aboutEquals(A,c,u){if(Math.abs(c-this.getY())<=A&&Math.abs(u-this.getX())<=A){const m=Math.abs(A-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(A,c,u){const m=(this.getX()+c)/2,w=(this.getY()+A)/2,E=(this.estimatedModuleSize+u)/2;return new Ni(m,w,E)}}class On{constructor(A,c,u,m,w,E,C){this.image=A,this.startX=c,this.startY=u,this.width=m,this.height=w,this.moduleSize=E,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const A=this.startX,c=this.height,u=this.width,m=A+u,w=this.startY+c/2,E=new Int32Array(3),C=this.image;for(let I=0;I<c;I++){const R=w+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));E[0]=0,E[1]=0,E[2]=0;let Q=A;for(;Q<m&&!C.get(Q,R);)Q++;let W=0;for(;Q<m;){if(C.get(Q,R))if(W===1)E[1]++;else if(W===2){if(this.foundPatternCross(E)){const ee=this.handlePossibleCenter(E,R,Q);if(ee!==null)return ee}E[0]=E[2],E[1]=1,E[2]=0,W=1}else E[++W]++;else W===1&&W++,E[W]++;Q++}if(this.foundPatternCross(E)){const ee=this.handlePossibleCenter(E,R,m);if(ee!==null)return ee}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe}static centerFromEnd(A,c){return c-A[2]-A[1]/2}foundPatternCross(A){const c=this.moduleSize,u=c/2;for(let m=0;m<3;m++)if(Math.abs(c-A[m])>=u)return!1;return!0}crossCheckVertical(A,c,u,m){const w=this.image,E=w.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let I=A;for(;I>=0&&w.get(c,I)&&C[1]<=u;)C[1]++,I--;if(I<0||C[1]>u)return NaN;for(;I>=0&&!w.get(c,I)&&C[0]<=u;)C[0]++,I--;if(C[0]>u)return NaN;for(I=A+1;I<E&&w.get(c,I)&&C[1]<=u;)C[1]++,I++;if(I===E||C[1]>u)return NaN;for(;I<E&&!w.get(c,I)&&C[2]<=u;)C[2]++,I++;if(C[2]>u)return NaN;const R=C[0]+C[1]+C[2];return 5*Math.abs(R-m)>=2*m?NaN:this.foundPatternCross(C)?On.centerFromEnd(C,I):NaN}handlePossibleCenter(A,c,u){const m=A[0]+A[1]+A[2],w=On.centerFromEnd(A,u),E=this.crossCheckVertical(c,w,2*A[1],m);if(!isNaN(E)){const C=(A[0]+A[1]+A[2])/3;for(const R of this.possibleCenters)if(R.aboutEquals(C,E,w))return R.combineEstimate(E,w,C);const I=new Ni(w,E,C);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class sA extends vt{constructor(A,c,u,m){super(A,c),this.estimatedModuleSize=u,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(A,c,u){if(Math.abs(c-this.getY())<=A&&Math.abs(u-this.getX())<=A){const m=Math.abs(A-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(A,c,u){const m=this.count+1,w=(this.count*this.getX()+c)/m,E=(this.count*this.getY()+A)/m,C=(this.count*this.estimatedModuleSize+u)/m;return new sA(w,E,C,m)}}class xo{constructor(A){this.bottomLeft=A[0],this.topLeft=A[1],this.topRight=A[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(A,c){this.image=A,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(A){const c=A!=null&&A.get(z.TRY_HARDER)!==void 0,u=A!=null&&A.get(z.PURE_BARCODE)!==void 0,m=this.image,w=m.getHeight(),E=m.getWidth();let C=Math.floor(3*w/(4*tn.MAX_MODULES));(C<tn.MIN_SKIP||c)&&(C=tn.MIN_SKIP);let I=!1;const R=new Int32Array(5);for(let W=C-1;W<w&&!I;W+=C){R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0;let ee=0;for(let we=0;we<E;we++)if(m.get(we,W))(ee&1)===1&&ee++,R[ee]++;else if((ee&1)===0)if(ee===4)if(tn.foundPatternCross(R)){if(this.handlePossibleCenter(R,W,we,u)===!0)if(C=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Te=this.findRowSkip();Te>R[2]&&(W+=Te-R[2]-C,we=E-1)}else{R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,ee=3;continue}ee=0,R[0]=0,R[1]=0,R[2]=0,R[3]=0,R[4]=0}else R[0]=R[2],R[1]=R[3],R[2]=R[4],R[3]=1,R[4]=0,ee=3;else R[++ee]++;else R[ee]++;tn.foundPatternCross(R)&&this.handlePossibleCenter(R,W,E,u)===!0&&(C=R[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const Q=this.selectBestPatterns();return vt.orderBestPatterns(Q),new xo(Q)}static centerFromEnd(A,c){return c-A[4]-A[3]-A[2]/2}static foundPatternCross(A){let c=0;for(let w=0;w<5;w++){const E=A[w];if(E===0)return!1;c+=E}if(c<7)return!1;const u=c/7,m=u/2;return Math.abs(u-A[0])<m&&Math.abs(u-A[1])<m&&Math.abs(3*u-A[2])<3*m&&Math.abs(u-A[3])<m&&Math.abs(u-A[4])<m}getCrossCheckStateCount(){const A=this.crossCheckStateCount;return A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A}crossCheckDiagonal(A,c,u,m){const w=this.getCrossCheckStateCount();let E=0;const C=this.image;for(;A>=E&&c>=E&&C.get(c-E,A-E);)w[2]++,E++;if(A<E||c<E)return!1;for(;A>=E&&c>=E&&!C.get(c-E,A-E)&&w[1]<=u;)w[1]++,E++;if(A<E||c<E||w[1]>u)return!1;for(;A>=E&&c>=E&&C.get(c-E,A-E)&&w[0]<=u;)w[0]++,E++;if(w[0]>u)return!1;const I=C.getHeight(),R=C.getWidth();for(E=1;A+E<I&&c+E<R&&C.get(c+E,A+E);)w[2]++,E++;if(A+E>=I||c+E>=R)return!1;for(;A+E<I&&c+E<R&&!C.get(c+E,A+E)&&w[3]<u;)w[3]++,E++;if(A+E>=I||c+E>=R||w[3]>=u)return!1;for(;A+E<I&&c+E<R&&C.get(c+E,A+E)&&w[4]<u;)w[4]++,E++;if(w[4]>=u)return!1;const Q=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(Q-m)<2*m&&tn.foundPatternCross(w)}crossCheckVertical(A,c,u,m){const w=this.image,E=w.getHeight(),C=this.getCrossCheckStateCount();let I=A;for(;I>=0&&w.get(c,I);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(c,I)&&C[1]<=u;)C[1]++,I--;if(I<0||C[1]>u)return NaN;for(;I>=0&&w.get(c,I)&&C[0]<=u;)C[0]++,I--;if(C[0]>u)return NaN;for(I=A+1;I<E&&w.get(c,I);)C[2]++,I++;if(I===E)return NaN;for(;I<E&&!w.get(c,I)&&C[3]<u;)C[3]++,I++;if(I===E||C[3]>=u)return NaN;for(;I<E&&w.get(c,I)&&C[4]<u;)C[4]++,I++;if(C[4]>=u)return NaN;const R=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(R-m)>=2*m?NaN:tn.foundPatternCross(C)?tn.centerFromEnd(C,I):NaN}crossCheckHorizontal(A,c,u,m){const w=this.image,E=w.getWidth(),C=this.getCrossCheckStateCount();let I=A;for(;I>=0&&w.get(I,c);)C[2]++,I--;if(I<0)return NaN;for(;I>=0&&!w.get(I,c)&&C[1]<=u;)C[1]++,I--;if(I<0||C[1]>u)return NaN;for(;I>=0&&w.get(I,c)&&C[0]<=u;)C[0]++,I--;if(C[0]>u)return NaN;for(I=A+1;I<E&&w.get(I,c);)C[2]++,I++;if(I===E)return NaN;for(;I<E&&!w.get(I,c)&&C[3]<u;)C[3]++,I++;if(I===E||C[3]>=u)return NaN;for(;I<E&&w.get(I,c)&&C[4]<u;)C[4]++,I++;if(C[4]>=u)return NaN;const R=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(R-m)>=m?NaN:tn.foundPatternCross(C)?tn.centerFromEnd(C,I):NaN}handlePossibleCenter(A,c,u,m){const w=A[0]+A[1]+A[2]+A[3]+A[4];let E=tn.centerFromEnd(A,u),C=this.crossCheckVertical(c,Math.floor(E),A[2],w);if(!isNaN(C)&&(E=this.crossCheckHorizontal(Math.floor(E),Math.floor(C),A[2],w),!isNaN(E)&&(!m||this.crossCheckDiagonal(Math.floor(C),Math.floor(E),A[2],w)))){const I=w/7;let R=!1;const Q=this.possibleCenters;for(let W=0,ee=Q.length;W<ee;W++){const we=Q[W];if(we.aboutEquals(I,C,E)){Q[W]=we.combineEstimate(C,E,I),R=!0;break}}if(!R){const W=new sA(E,C,I);Q.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=tn.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let A=0,c=0;const u=this.possibleCenters.length;for(const E of this.possibleCenters)E.getCount()>=tn.CENTER_QUORUM&&(A++,c+=E.getEstimatedModuleSize());if(A<3)return!1;const m=c/u;let w=0;for(const E of this.possibleCenters)w+=Math.abs(E.getEstimatedModuleSize()-m);return w<=.05*c}selectBestPatterns(){const A=this.possibleCenters.length;if(A<3)throw new xe;const c=this.possibleCenters;let u;if(A>3){let m=0,w=0;for(const I of this.possibleCenters){const R=I.getEstimatedModuleSize();m+=R,w+=R*R}u=m/A;let E=Math.sqrt(w/A-u*u);c.sort((I,R)=>{const Q=Math.abs(R.getEstimatedModuleSize()-u),W=Math.abs(I.getEstimatedModuleSize()-u);return Q<W?-1:Q>W?1:0});const C=Math.max(.2*u,E);for(let I=0;I<c.length&&c.length>3;I++){const R=c[I];Math.abs(R.getEstimatedModuleSize()-u)>C&&(c.splice(I,1),I--)}}if(c.length>3){let m=0;for(const w of c)m+=w.getEstimatedModuleSize();u=m/c.length,c.sort((w,E)=>{if(E.getCount()===w.getCount()){const C=Math.abs(E.getEstimatedModuleSize()-u),I=Math.abs(w.getEstimatedModuleSize()-u);return C<I?1:C>I?-1:0}else return E.getCount()-w.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class xa{constructor(A){this.image=A}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(A){this.resultPointCallback=A==null?null:A.get(z.NEED_RESULT_POINT_CALLBACK);const u=new tn(this.image,this.resultPointCallback).find(A);return this.processFinderPatternInfo(u)}processFinderPatternInfo(A){const c=A.getTopLeft(),u=A.getTopRight(),m=A.getBottomLeft(),w=this.calculateModuleSize(c,u,m);if(w<1)throw new xe("No pattern found in proccess finder.");const E=xa.computeDimension(c,u,m,w),C=mt.getProvisionalVersionForDimension(E),I=C.getDimensionForVersion()-7;let R=null;if(C.getAlignmentPatternCenters().length>0){const we=u.getX()-c.getX()+m.getX(),be=u.getY()-c.getY()+m.getY(),Te=1-3/I,De=Math.floor(c.getX()+Te*(we-c.getX())),Xe=Math.floor(c.getY()+Te*(be-c.getY()));for(let xt=4;xt<=16;xt<<=1)try{R=this.findAlignmentInRegion(w,De,Xe,xt);break}catch(dt){if(!(dt instanceof xe))throw dt}}const Q=xa.createTransform(c,u,m,R,E),W=xa.sampleGrid(this.image,Q,E);let ee;return R===null?ee=[m,c,u]:ee=[m,c,u,R],new Ca(W,ee)}static createTransform(A,c,u,m,w){const E=w-3.5;let C,I,R,Q;return m!==null?(C=m.getX(),I=m.getY(),R=E-3,Q=R):(C=c.getX()-A.getX()+u.getX(),I=c.getY()-A.getY()+u.getY(),R=E,Q=E),Jt.quadrilateralToQuadrilateral(3.5,3.5,E,3.5,R,Q,3.5,E,A.getX(),A.getY(),c.getX(),c.getY(),C,I,u.getX(),u.getY())}static sampleGrid(A,c,u){return Ze.getInstance().sampleGridWithTransform(A,u,u,c)}static computeDimension(A,c,u,m){const w=kt.round(vt.distance(A,c)/m),E=kt.round(vt.distance(A,u)/m);let C=Math.floor((w+E)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new xe("Dimensions could be not found.")}return C}calculateModuleSize(A,c,u){return(this.calculateModuleSizeOneWay(A,c)+this.calculateModuleSizeOneWay(A,u))/2}calculateModuleSizeOneWay(A,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(A.getX()),Math.floor(A.getY()),Math.floor(c.getX()),Math.floor(c.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(A.getX()),Math.floor(A.getY()));return isNaN(u)?m/7:isNaN(m)?u/7:(u+m)/14}sizeOfBlackWhiteBlackRunBothWays(A,c,u,m){let w=this.sizeOfBlackWhiteBlackRun(A,c,u,m),E=1,C=A-(u-A);C<0?(E=A/(A-C),C=0):C>=this.image.getWidth()&&(E=(this.image.getWidth()-1-A)/(C-A),C=this.image.getWidth()-1);let I=Math.floor(c-(m-c)*E);return E=1,I<0?(E=c/(c-I),I=0):I>=this.image.getHeight()&&(E=(this.image.getHeight()-1-c)/(I-c),I=this.image.getHeight()-1),C=Math.floor(A+(C-A)*E),w+=this.sizeOfBlackWhiteBlackRun(A,c,C,I),w-1}sizeOfBlackWhiteBlackRun(A,c,u,m){const w=Math.abs(m-c)>Math.abs(u-A);if(w){let we=A;A=c,c=we,we=u,u=m,m=we}const E=Math.abs(u-A),C=Math.abs(m-c);let I=-E/2;const R=A<u?1:-1,Q=c<m?1:-1;let W=0;const ee=u+R;for(let we=A,be=c;we!==ee;we+=R){const Te=w?be:we,De=w?we:be;if(W===1===this.image.get(Te,De)){if(W===2)return kt.distance(we,be,A,c);W++}if(I+=C,I>0){if(be===m)break;be+=Q,I-=E}}return W===2?kt.distance(u+R,m,A,c):NaN}findAlignmentInRegion(A,c,u,m){const w=Math.floor(m*A),E=Math.max(0,c-w),C=Math.min(this.image.getWidth()-1,c+w);if(C-E<A*3)throw new xe("Alignment top exceeds estimated module size.");const I=Math.max(0,u-w),R=Math.min(this.image.getHeight()-1,u+w);if(R-I<A*3)throw new xe("Alignment bottom exceeds estimated module size.");return new On(this.image,E,I,C-E,R-I,A,this.resultPointCallback).find()}}class $i{constructor(){this.decoder=new q0}getDecoder(){return this.decoder}decode(A,c){let u,m;if(c!=null&&c.get(z.PURE_BARCODE)!==void 0){const I=$i.extractPureBits(A.getBlackMatrix());u=this.decoder.decodeBitMatrix(I,c),m=$i.NO_POINTS}else{const I=new xa(A.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(I.getBits(),c),m=I.getPoints()}u.getOther()instanceof Cc&&u.getOther().applyMirroredCorrection(m);const w=new se(u.getText(),u.getRawBytes(),void 0,m,Ce.QR_CODE,void 0),E=u.getByteSegments();E!==null&&w.putMetadata(ye.BYTE_SEGMENTS,E);const C=u.getECLevel();return C!==null&&w.putMetadata(ye.ERROR_CORRECTION_LEVEL,C),u.hasStructuredAppend()&&(w.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),w.putMetadata(ye.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),w}reset(){}static extractPureBits(A){const c=A.getTopLeftOnBit(),u=A.getBottomRightOnBit();if(c===null||u===null)throw new xe;const m=this.moduleSize(c,A);let w=c[1],E=u[1],C=c[0],I=u[0];if(C>=I||w>=E)throw new xe;if(E-w!==I-C&&(I=C+(E-w),I>=A.getWidth()))throw new xe;const R=Math.round((I-C+1)/m),Q=Math.round((E-w+1)/m);if(R<=0||Q<=0)throw new xe;if(Q!==R)throw new xe;const W=Math.floor(m/2);w+=W,C+=W;const ee=C+Math.floor((R-1)*m)-I;if(ee>0){if(ee>W)throw new xe;C-=ee}const we=w+Math.floor((Q-1)*m)-E;if(we>0){if(we>W)throw new xe;w-=we}const be=new Ie(R,Q);for(let Te=0;Te<Q;Te++){const De=w+Math.floor(Te*m);for(let Xe=0;Xe<R;Xe++)A.get(C+Math.floor(Xe*m),De)&&be.set(Xe,Te)}return be}static moduleSize(A,c){const u=c.getHeight(),m=c.getWidth();let w=A[0],E=A[1],C=!0,I=0;for(;w<m&&E<u;){if(C!==c.get(w,E)){if(++I===5)break;C=!C}w++,E++}if(w===m||E===u)throw new xe;return(w-A[0])/7}}$i.NO_POINTS=new Array;class Vt{PDF417Common(){}static getBitCountSum(A){return kt.sum(A)}static toIntArray(A){if(A==null||!A.length)return Vt.EMPTY_INT_ARRAY;const c=new Int32Array(A.length);let u=0;for(const m of A)c[u++]=m;return c}static getCodeword(A){const c=V.binarySearch(Vt.SYMBOL_TABLE,A&262143);return c<0?-1:(Vt.CODEWORD_TABLE[c]-1)%Vt.NUMBER_OF_CODEWORDS}}Vt.NUMBER_OF_CODEWORDS=929,Vt.MAX_CODEWORDS_IN_BARCODE=Vt.NUMBER_OF_CODEWORDS-1,Vt.MIN_ROWS_IN_BARCODE=3,Vt.MAX_ROWS_IN_BARCODE=90,Vt.MODULES_IN_CODEWORD=17,Vt.MODULES_IN_STOP_PATTERN=18,Vt.BARS_IN_MODULE=8,Vt.EMPTY_INT_ARRAY=new Int32Array([]),Vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bc{constructor(A,c){this.bits=A,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Gt{static detectMultiple(A,c,u){let m=A.getBlackMatrix(),w=Gt.detect(u,m);return w.length||(m=m.clone(),m.rotate180(),w=Gt.detect(u,m)),new bc(m,w)}static detect(A,c){const u=new Array;let m=0,w=0,E=!1;for(;m<c.getHeight();){const C=Gt.findVertices(c,m,w);if(C[0]==null&&C[3]==null){if(!E)break;E=!1,w=0;for(const I of u)I[1]!=null&&(m=Math.trunc(Math.max(m,I[1].getY()))),I[3]!=null&&(m=Math.max(m,Math.trunc(I[3].getY())));m+=Gt.ROW_STEP;continue}if(E=!0,u.push(C),!A)break;C[2]!=null?(w=Math.trunc(C[2].getX()),m=Math.trunc(C[2].getY())):(w=Math.trunc(C[4].getX()),m=Math.trunc(C[4].getY()))}return u}static findVertices(A,c,u){const m=A.getHeight(),w=A.getWidth(),E=new Array(8);return Gt.copyToResult(E,Gt.findRowsWithPattern(A,m,w,c,u,Gt.START_PATTERN),Gt.INDEXES_START_PATTERN),E[4]!=null&&(u=Math.trunc(E[4].getX()),c=Math.trunc(E[4].getY())),Gt.copyToResult(E,Gt.findRowsWithPattern(A,m,w,c,u,Gt.STOP_PATTERN),Gt.INDEXES_STOP_PATTERN),E}static copyToResult(A,c,u){for(let m=0;m<u.length;m++)A[u[m]]=c[m]}static findRowsWithPattern(A,c,u,m,w,E){const C=new Array(4);let I=!1;const R=new Int32Array(E.length);for(;m<c;m+=Gt.ROW_STEP){let W=Gt.findGuardPattern(A,w,m,u,!1,E,R);if(W!=null){for(;m>0;){const ee=Gt.findGuardPattern(A,w,--m,u,!1,E,R);if(ee!=null)W=ee;else{m++;break}}C[0]=new vt(W[0],m),C[1]=new vt(W[1],m),I=!0;break}}let Q=m+1;if(I){let W=0,ee=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;Q<c;Q++){const we=Gt.findGuardPattern(A,ee[0],Q,u,!1,E,R);if(we!=null&&Math.abs(ee[0]-we[0])<Gt.MAX_PATTERN_DRIFT&&Math.abs(ee[1]-we[1])<Gt.MAX_PATTERN_DRIFT)ee=we,W=0;else{if(W>Gt.SKIPPED_ROW_COUNT_MAX)break;W++}}Q-=W+1,C[2]=new vt(ee[0],Q),C[3]=new vt(ee[1],Q)}return Q-m<Gt.BARCODE_MIN_HEIGHT&&V.fill(C,null),C}static findGuardPattern(A,c,u,m,w,E,C){V.fillWithin(C,0,C.length,0);let I=c,R=0;for(;A.get(I,u)&&I>0&&R++<Gt.MAX_PIXEL_DRIFT;)I--;let Q=I,W=0,ee=E.length;for(let we=w;Q<m;Q++)if(A.get(Q,u)!==we)C[W]++;else{if(W===ee-1){if(Gt.patternMatchVariance(C,E,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return new Int32Array([I,Q]);I+=C[0]+C[1],F.arraycopy(C,2,C,0,W-1),C[W-1]=0,C[W]=0,W--}else W++;C[W]=1,we=!we}return W===ee-1&&Gt.patternMatchVariance(C,E,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE?new Int32Array([I,Q-1]):null}static patternMatchVariance(A,c,u){let m=A.length,w=0,E=0;for(let R=0;R<m;R++)w+=A[R],E+=c[R];if(w<E)return 1/0;let C=w/E;u*=C;let I=0;for(let R=0;R<m;R++){let Q=A[R],W=c[R]*C,ee=Q>W?Q-W:W-Q;if(ee>u)return 1/0;I+=ee}return I/w}}Gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Gt.MAX_AVG_VARIANCE=.42,Gt.MAX_INDIVIDUAL_VARIANCE=.8,Gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Gt.MAX_PIXEL_DRIFT=3,Gt.MAX_PATTERN_DRIFT=5,Gt.SKIPPED_ROW_COUNT_MAX=25,Gt.ROW_STEP=5,Gt.BARCODE_MIN_HEIGHT=10;class qr{constructor(A,c){if(c.length===0)throw new y;this.field=A;let u=c.length;if(u>1&&c[0]===0){let m=1;for(;m<u&&c[m]===0;)m++;m===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-m),F.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);if(A===1){let m=0;for(let w of this.coefficients)m=this.field.add(m,w);return m}let c=this.coefficients[0],u=this.coefficients.length;for(let m=1;m<u;m++)c=this.field.add(this.field.multiply(A,c),this.coefficients[m]);return c}add(A){if(!this.field.equals(A.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return A;if(A.isZero())return this;let c=this.coefficients,u=A.coefficients;if(c.length>u.length){let E=c;c=u,u=E}let m=new Int32Array(u.length),w=u.length-c.length;F.arraycopy(u,0,m,0,w);for(let E=w;E<u.length;E++)m[E]=this.field.add(c[E-w],u[E]);return new qr(this.field,m)}subtract(A){if(!this.field.equals(A.field))throw new y("ModulusPolys do not have same ModulusGF field");return A.isZero()?this:this.add(A.negative())}multiply(A){return A instanceof qr?this.multiplyOther(A):this.multiplyScalar(A)}multiplyOther(A){if(!this.field.equals(A.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||A.isZero())return new qr(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,m=A.coefficients,w=m.length,E=new Int32Array(u+w-1);for(let C=0;C<u;C++){let I=c[C];for(let R=0;R<w;R++)E[C+R]=this.field.add(E[C+R],this.field.multiply(I,m[R]))}return new qr(this.field,E)}negative(){let A=this.coefficients.length,c=new Int32Array(A);for(let u=0;u<A;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new qr(this.field,c)}multiplyScalar(A){if(A===0)return new qr(this.field,new Int32Array([0]));if(A===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let m=0;m<c;m++)u[m]=this.field.multiply(this.coefficients[m],A);return new qr(this.field,u)}multiplyByMonomial(A,c){if(A<0)throw new y;if(c===0)return new qr(this.field,new Int32Array([0]));let u=this.coefficients.length,m=new Int32Array(u+A);for(let w=0;w<u;w++)m[w]=this.field.multiply(this.coefficients[w],c);return new qr(this.field,m)}toString(){let A=new K;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(A.append(" - "),u=-u):A.length()>0&&A.append(" + "),(c===0||u!==1)&&A.append(u),c!==0&&(c===1?A.append("x"):(A.append("x^"),A.append(c))))}return A.toString()}}class yl{add(A,c){return(A+c)%this.modulus}subtract(A,c){return(this.modulus+A-c)%this.modulus}exp(A){return this.expTable[A]}log(A){if(A===0)throw new y;return this.logTable[A]}inverse(A){if(A===0)throw new fe;return this.expTable[this.modulus-this.logTable[A]-1]}multiply(A,c){return A===0||c===0?0:this.expTable[(this.logTable[A]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(A){return A===this}}class Ri extends yl{constructor(A,c){super(),this.modulus=A,this.expTable=new Int32Array(A),this.logTable=new Int32Array(A);let u=1;for(let m=0;m<A;m++)this.expTable[m]=u,u=u*c%A;for(let m=0;m<A-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new qr(this,new Int32Array([0])),this.one=new qr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,c){if(A<0)throw new y;if(c===0)return this.zero;let u=new Int32Array(A+1);return u[0]=c,new qr(this,u)}}Ri.PDF417_GF=new Ri(Vt.NUMBER_OF_CODEWORDS,3);class ti{constructor(){this.field=Ri.PDF417_GF}decode(A,c,u){let m=new qr(this.field,A),w=new Int32Array(c),E=!1;for(let be=c;be>0;be--){let Te=m.evaluateAt(this.field.exp(be));w[c-be]=Te,Te!==0&&(E=!0)}if(!E)return 0;let C=this.field.getOne();if(u!=null)for(const be of u){let Te=this.field.exp(A.length-1-be),De=new qr(this.field,new Int32Array([this.field.subtract(0,Te),1]));C=C.multiply(De)}let I=new qr(this.field,w),R=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),I,c),Q=R[0],W=R[1],ee=this.findErrorLocations(Q),we=this.findErrorMagnitudes(W,Q,ee);for(let be=0;be<ee.length;be++){let Te=A.length-1-this.field.log(ee[be]);if(Te<0)throw T.getChecksumInstance();A[Te]=this.field.subtract(A[Te],we[be])}return ee.length}runEuclideanAlgorithm(A,c,u){if(A.getDegree()<c.getDegree()){let ee=A;A=c,c=ee}let m=A,w=c,E=this.field.getZero(),C=this.field.getOne();for(;w.getDegree()>=Math.round(u/2);){let ee=m,we=E;if(m=w,E=C,m.isZero())throw T.getChecksumInstance();w=ee;let be=this.field.getZero(),Te=m.getCoefficient(m.getDegree()),De=this.field.inverse(Te);for(;w.getDegree()>=m.getDegree()&&!w.isZero();){let Xe=w.getDegree()-m.getDegree(),xt=this.field.multiply(w.getCoefficient(w.getDegree()),De);be=be.add(this.field.buildMonomial(Xe,xt)),w=w.subtract(m.multiplyByMonomial(Xe,xt))}C=be.multiply(E).subtract(we).negative()}let I=C.getCoefficient(0);if(I===0)throw T.getChecksumInstance();let R=this.field.inverse(I),Q=C.multiply(R),W=w.multiply(R);return[Q,W]}findErrorLocations(A){let c=A.getDegree(),u=new Int32Array(c),m=0;for(let w=1;w<this.field.getSize()&&m<c;w++)A.evaluateAt(w)===0&&(u[m]=this.field.inverse(w),m++);if(m!==c)throw T.getChecksumInstance();return u}findErrorMagnitudes(A,c,u){let m=c.getDegree(),w=new Int32Array(m);for(let R=1;R<=m;R++)w[m-R]=this.field.multiply(R,c.getCoefficient(R));let E=new qr(this.field,w),C=u.length,I=new Int32Array(C);for(let R=0;R<C;R++){let Q=this.field.inverse(u[R]),W=this.field.subtract(0,A.evaluateAt(Q)),ee=this.field.inverse(E.evaluateAt(Q));I[R]=this.field.multiply(W,ee)}return I}}class Di{constructor(A,c,u,m,w){A instanceof Di?this.constructor_2(A):this.constructor_1(A,c,u,m,w)}constructor_1(A,c,u,m,w){const E=c==null||u==null,C=m==null||w==null;if(E&&C)throw new xe;E?(c=new vt(0,m.getY()),u=new vt(0,w.getY())):C&&(m=new vt(A.getWidth()-1,c.getY()),w=new vt(A.getWidth()-1,u.getY())),this.image=A,this.topLeft=c,this.bottomLeft=u,this.topRight=m,this.bottomRight=w,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(m.getX(),w.getX())),this.minY=Math.trunc(Math.min(c.getY(),m.getY())),this.maxY=Math.trunc(Math.max(u.getY(),w.getY()))}constructor_2(A){this.image=A.image,this.topLeft=A.getTopLeft(),this.bottomLeft=A.getBottomLeft(),this.topRight=A.getTopRight(),this.bottomRight=A.getBottomRight(),this.minX=A.getMinX(),this.maxX=A.getMaxX(),this.minY=A.getMinY(),this.maxY=A.getMaxY()}static merge(A,c){return A==null?c:c==null?A:new Di(A.image,A.topLeft,A.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(A,c,u){let m=this.topLeft,w=this.bottomLeft,E=this.topRight,C=this.bottomRight;if(A>0){let I=u?this.topLeft:this.topRight,R=Math.trunc(I.getY()-A);R<0&&(R=0);let Q=new vt(I.getX(),R);u?m=Q:E=Q}if(c>0){let I=u?this.bottomLeft:this.bottomRight,R=Math.trunc(I.getY()+c);R>=this.image.getHeight()&&(R=this.image.getHeight()-1);let Q=new vt(I.getX(),R);u?w=Q:C=Q}return new Di(this.image,m,w,E,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ws{constructor(A,c,u,m){this.columnCount=A,this.errorCorrectionLevel=m,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Oi{constructor(){this.buffer=""}static form(A,c){let u=-1;function m(E,C,I,R,Q,W){if(E==="%%")return"%";if(c[++u]===void 0)return;E=R?parseInt(R.substr(1)):void 0;let ee=Q?parseInt(Q.substr(1)):void 0,we;switch(W){case"s":we=c[u];break;case"c":we=c[u][0];break;case"f":we=parseFloat(c[u]).toFixed(E);break;case"p":we=parseFloat(c[u]).toPrecision(E);break;case"e":we=parseFloat(c[u]).toExponential(E);break;case"x":we=parseInt(c[u]).toString(ee||16);break;case"d":we=parseFloat(parseInt(c[u],ee||10).toPrecision(E)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(ee);let be=parseInt(I),Te=I&&I[0]+""=="0"?"0":" ";for(;we.length<be;)we=C!==void 0?we+Te:Te+we;return we}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(w,m)}format(A,...c){this.buffer+=Oi.form(A,c)}toString(){return this.buffer}}class es{constructor(A){this.boundingBox=new Di(A),this.codewords=new Array(A.getMaxY()-A.getMinY()+1)}getCodewordNearby(A){let c=this.getCodeword(A);if(c!=null)return c;for(let u=1;u<es.MAX_NEARBY_DISTANCE;u++){let m=this.imageRowToCodewordIndex(A)-u;if(m>=0&&(c=this.codewords[m],c!=null)||(m=this.imageRowToCodewordIndex(A)+u,m<this.codewords.length&&(c=this.codewords[m],c!=null)))return c}return null}imageRowToCodewordIndex(A){return A-this.boundingBox.getMinY()}setCodeword(A,c){this.codewords[this.imageRowToCodewordIndex(A)]=c}getCodeword(A){return this.codewords[this.imageRowToCodewordIndex(A)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const A=new Oi;let c=0;for(const u of this.codewords){if(u==null){A.format("%3d:    |   %n",c++);continue}A.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return A.toString()}}es.MAX_NEARBY_DISTANCE=5;class ki{constructor(){this.values=new Map}setValue(A){A=Math.trunc(A);let c=this.values.get(A);c==null&&(c=0),c++,this.values.set(A,c)}getValue(){let A=-1,c=new Array;for(const[u,m]of this.values.entries()){const w={getKey:()=>u,getValue:()=>m};w.getValue()>A?(A=w.getValue(),c=[],c.push(w.getKey())):w.getValue()===A&&c.push(w.getKey())}return Vt.toIntArray(c)}getConfidence(A){return this.values.get(A)}}class rn extends es{constructor(A,c){super(A),this._isLeft=c}setRowNumbers(){for(let A of this.getCodewords())A!=null&&A.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(A){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,A);let u=this.getBoundingBox(),m=this._isLeft?u.getTopLeft():u.getTopRight(),w=this._isLeft?u.getBottomLeft():u.getBottomRight(),E=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.imageRowToCodewordIndex(Math.trunc(w.getY())),I=-1,R=1,Q=0;for(let W=E;W<C;W++){if(c[W]==null)continue;let ee=c[W],we=ee.getRowNumber()-I;if(we===0)Q++;else if(we===1)R=Math.max(R,Q),Q=1,I=ee.getRowNumber();else if(we<0||ee.getRowNumber()>=A.getRowCount()||we>W)c[W]=null;else{let be;R>2?be=(R-2)*we:be=we;let Te=be>=W;for(let De=1;De<=be&&!Te;De++)Te=c[W-De]!=null;Te?c[W]=null:(I=ee.getRowNumber(),Q=1)}}}getRowHeights(){let A=this.getBarcodeMetadata();if(A==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(A);let c=new Int32Array(A.getRowCount());for(let u of this.getCodewords())if(u!=null){let m=u.getRowNumber();if(m>=c.length)continue;c[m]++}return c}adjustIncompleteIndicatorColumnRowNumbers(A){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(u.getY())),E=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.getCodewords(),I=-1;for(let R=w;R<E;R++){if(C[R]==null)continue;let Q=C[R];Q.setRowNumberAsRowIndicatorColumn();let W=Q.getRowNumber()-I;W===0||(W===1?I=Q.getRowNumber():Q.getRowNumber()>=A.getRowCount()?C[R]=null:I=Q.getRowNumber())}}getBarcodeMetadata(){let A=this.getCodewords(),c=new ki,u=new ki,m=new ki,w=new ki;for(let C of A){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let I=C.getValue()%30,R=C.getRowNumber();switch(this._isLeft||(R+=2),R%3){case 0:u.setValue(I*3+1);break;case 1:w.setValue(I/3),m.setValue(I%3);break;case 2:c.setValue(I+1);break}}if(c.getValue().length===0||u.getValue().length===0||m.getValue().length===0||w.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+m.getValue()[0]<Vt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+m.getValue()[0]>Vt.MAX_ROWS_IN_BARCODE)return null;let E=new ws(c.getValue()[0],u.getValue()[0],m.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(A,E),E}removeIncorrectCodewords(A,c){for(let u=0;u<A.length;u++){let m=A[u];if(A[u]==null)continue;let w=m.getValue()%30,E=m.getRowNumber();if(E>c.getRowCount()){A[u]=null;continue}switch(this._isLeft||(E+=2),E%3){case 0:w*3+1!==c.getRowCountUpperPart()&&(A[u]=null);break;case 1:(Math.trunc(w/3)!==c.getErrorCorrectionLevel()||w%3!==c.getRowCountLowerPart())&&(A[u]=null);break;case 2:w+1!==c.getColumnCount()&&(A[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qn{constructor(A,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=A,this.barcodeColumnCount=A.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let A=Vt.MAX_CODEWORDS_IN_BARCODE,c;do c=A,A=this.adjustRowNumbersAndGetCount();while(A>0&&A<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(A){A!=null&&A.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let A=this.adjustRowNumbersByRow();if(A===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let m=0;m<u.length;m++)u[m]!=null&&(u[m].hasValidRowNumber()||this.adjustRowNumbers(c,m,u))}return A}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let A=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<A.length;u++)if(A[u]!=null&&c[u]!=null&&A[u].getRowNumber()===c[u].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let w=this.detectionResultColumns[m].getCodewords()[u];w!=null&&(w.setRowNumber(A[u].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let A=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let m=c[u].getRowNumber(),w=0;for(let E=this.barcodeColumnCount+1;E>0&&w<this.ADJUST_ROW_NUMBER_SKIP;E--){let C=this.detectionResultColumns[E].getCodewords()[u];C!=null&&(w=Qn.adjustRowNumberIfValid(m,w,C),C.hasValidRowNumber()||A++)}}return A}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let A=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let m=c[u].getRowNumber(),w=0;for(let E=1;E<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;E++){let C=this.detectionResultColumns[E].getCodewords()[u];C!=null&&(w=Qn.adjustRowNumberIfValid(m,w,C),C.hasValidRowNumber()||A++)}}return A}static adjustRowNumberIfValid(A,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(A)?(u.setRowNumber(A),c=0):++c),c}adjustRowNumbers(A,c,u){if(!this.detectionResultColumns[A-1])return;let m=u[c],w=this.detectionResultColumns[A-1].getCodewords(),E=w;this.detectionResultColumns[A+1]!=null&&(E=this.detectionResultColumns[A+1].getCodewords());let C=new Array(14);C[2]=w[c],C[3]=E[c],c>0&&(C[0]=u[c-1],C[4]=w[c-1],C[5]=E[c-1]),c>1&&(C[8]=u[c-2],C[10]=w[c-2],C[11]=E[c-2]),c<u.length-1&&(C[1]=u[c+1],C[6]=w[c+1],C[7]=E[c+1]),c<u.length-2&&(C[9]=u[c+2],C[12]=w[c+2],C[13]=E[c+2]);for(let I of C)if(Qn.adjustRowNumber(m,I))return}static adjustRowNumber(A,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===A.getBucket()?(A.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(A){this.boundingBox=A}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(A,c){this.detectionResultColumns[A]=c}getDetectionResultColumn(A){return this.detectionResultColumns[A]}toString(){let A=this.detectionResultColumns[0];A==null&&(A=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Oi;for(let u=0;u<A.getCodewords().length;u++){c.format("CW %3d:",u);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){c.format("    |   ");continue}let w=this.detectionResultColumns[m].getCodewords()[u];if(w==null){c.format("    |   ");continue}c.format(" %3d|%3d",w.getRowNumber(),w.getValue())}c.format("%n")}return c.toString()}}class gi{constructor(A,c,u,m){this.rowNumber=gi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(A),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(A){return A!==gi.BARCODE_ROW_UNKNOWN&&this.bucket===A%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(A){this.rowNumber=A}toString(){return this.rowNumber+"|"+this.value}}gi.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let A=0;A<Vt.SYMBOL_TABLE.length;A++){let c=Vt.SYMBOL_TABLE[A],u=c&1;for(let m=0;m<Vt.BARS_IN_MODULE;m++){let w=0;for(;(c&1)===u;)w+=1,c>>=1;u=c&1,Ln.RATIOS_TABLE[A]||(Ln.RATIOS_TABLE[A]=new Array(Vt.BARS_IN_MODULE)),Ln.RATIOS_TABLE[A][Vt.BARS_IN_MODULE-m-1]=Math.fround(w/Vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(A){let c=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(A));return c!==-1?c:Ln.getClosestDecodedValue(A)}static sampleBitCounts(A){let c=kt.sum(A),u=new Int32Array(Vt.BARS_IN_MODULE),m=0,w=0;for(let E=0;E<Vt.MODULES_IN_CODEWORD;E++){let C=c/(2*Vt.MODULES_IN_CODEWORD)+E*c/Vt.MODULES_IN_CODEWORD;w+A[m]<=C&&(w+=A[m],m++),u[m]++}return u}static getDecodedCodewordValue(A){let c=Ln.getBitValue(A);return Vt.getCodeword(c)===-1?-1:c}static getBitValue(A){let c=0;for(let u=0;u<A.length;u++)for(let m=0;m<A[u];m++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(A){let c=kt.sum(A),u=new Array(Vt.BARS_IN_MODULE);if(c>1)for(let E=0;E<u.length;E++)u[E]=Math.fround(A[E]/c);let m=mr.MAX_VALUE,w=-1;this.bSymbolTableReady||Ln.initialize();for(let E=0;E<Ln.RATIOS_TABLE.length;E++){let C=0,I=Ln.RATIOS_TABLE[E];for(let R=0;R<Vt.BARS_IN_MODULE;R++){let Q=Math.fround(I[R]-u[R]);if(C+=Math.fround(Q*Q),C>=m)break}C<m&&(m=C,w=Vt.SYMBOL_TABLE[E])}return w}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(Vt.SYMBOL_TABLE.length).map(X=>new Array(Vt.BARS_IN_MODULE));class Vs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(A){this.segmentIndex=A}getFileId(){return this.fileId}setFileId(A){this.fileId=A}getOptionalData(){return this.optionalData}setOptionalData(A){this.optionalData=A}isLastSegment(){return this.lastSegment}setLastSegment(A){this.lastSegment=A}getSegmentCount(){return this.segmentCount}setSegmentCount(A){this.segmentCount=A}getSender(){return this.sender||null}setSender(A){this.sender=A}getAddressee(){return this.addressee||null}setAddressee(A){this.addressee=A}getFileName(){return this.fileName}setFileName(A){this.fileName=A}getFileSize(){return this.fileSize}setFileSize(A){this.fileSize=A}getChecksum(){return this.checksum}setChecksum(A){this.checksum=A}getTimestamp(){return this.timestamp}setTimestamp(A){this.timestamp=A}}class El{static parseLong(A,c=void 0){return parseInt(A,c)}}class Gs extends h{}Gs.kind="NullPointerException";class po{writeBytes(A){this.writeBytesOffset(A,0,A.length)}writeBytesOffset(A,c,u){if(A==null)throw new Gs;if(c<0||c>A.length||u<0||c+u>A.length||c+u<0)throw new D;if(u===0)return;for(let m=0;m<u;m++)this.write(A[c+m])}flush(){}close(){}}class Ua extends h{}class IA extends po{constructor(A=32){if(super(),this.count=0,A<0)throw new y("Negative initial size: "+A);this.buf=new Uint8Array(A)}ensureCapacity(A){A-this.buf.length>0&&this.grow(A)}grow(A){let u=this.buf.length<<1;if(u-A<0&&(u=A),u<0){if(A<0)throw new Ua;u=j.MAX_VALUE}this.buf=V.copyOfUint8Array(this.buf,u)}write(A){this.ensureCapacity(this.count+1),this.buf[this.count]=A,this.count+=1}writeBytesOffset(A,c,u){if(c<0||c>A.length||u<0||c+u-A.length>0)throw new D;this.ensureCapacity(this.count+u),F.arraycopy(A,c,this.buf,this.count,u),this.count+=u}writeTo(A){A.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return V.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(A){return A?typeof A=="string"?this.toString_string(A):this.toString_number(A):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(A){return new String(this.buf).toString()}toString_number(A){return new String(this.buf).toString()}close(){}}var Or;(function(X){X[X.ALPHA=0]="ALPHA",X[X.LOWER=1]="LOWER",X[X.MIXED=2]="MIXED",X[X.PUNCT=3]="PUNCT",X[X.ALPHA_SHIFT=4]="ALPHA_SHIFT",X[X.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function AA(){if(typeof window<"u")return window.BigInt||null;if(typeof Cd<"u")return Cd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let FA;function Ui(X){if(typeof FA>"u"&&(FA=AA()),FA===null)throw new Error("BigInt is not supported!");return FA(X)}function oA(){let X=[];X[0]=Ui(1);let A=Ui(900);X[1]=A;for(let c=2;c<16;c++)X[c]=X[c-1]*A;return X}class Ke{static decode(A,c){let u=new K(""),m=k.ISO8859_1;u.enableDecoding(m);let w=1,E=A[w++],C=new Vs;for(;w<A[0];){switch(E){case Ke.TEXT_COMPACTION_MODE_LATCH:w=Ke.textCompaction(A,w,u);break;case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:w=Ke.byteCompaction(E,A,m,w,u);break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(A[w++]);break;case Ke.NUMERIC_COMPACTION_MODE_LATCH:w=Ke.numericCompaction(A,w,u);break;case Ke.ECI_CHARSET:k.getCharacterSetECIByValue(A[w++]);break;case Ke.ECI_GENERAL_PURPOSE:w+=2;break;case Ke.ECI_USER_DEFINED:w++;break;case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=Ke.decodeMacroBlock(A,w,C);break;case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:throw new O;default:w--,w=Ke.textCompaction(A,w,u);break}if(w<A.length)E=A[w++];else throw O.getFormatInstance()}if(u.length()===0)throw O.getFormatInstance();let I=new ae(null,u.toString(),null,c);return I.setOther(C),I}static decodeMacroBlock(A,c,u){if(c+Ke.NUMBER_OF_SEQUENCE_CODEWORDS>A[0])throw O.getFormatInstance();let m=new Int32Array(Ke.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<Ke.NUMBER_OF_SEQUENCE_CODEWORDS;C++,c++)m[C]=A[c];u.setSegmentIndex(j.parseInt(Ke.decodeBase900toBase10(m,Ke.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new K;c=Ke.textCompaction(A,c,w),u.setFileId(w.toString());let E=-1;for(A[c]===Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(E=c+1);c<A[0];)switch(A[c]){case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,A[c]){case Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new K;c=Ke.textCompaction(A,c+1,C),u.setFileName(C.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new K;c=Ke.textCompaction(A,c+1,I),u.setSender(I.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let R=new K;c=Ke.textCompaction(A,c+1,R),u.setAddressee(R.toString());break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let Q=new K;c=Ke.numericCompaction(A,c+1,Q),u.setSegmentCount(j.parseInt(Q.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let W=new K;c=Ke.numericCompaction(A,c+1,W),u.setTimestamp(El.parseLong(W.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ee=new K;c=Ke.numericCompaction(A,c+1,ee),u.setChecksum(j.parseInt(ee.toString()));break;case Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let we=new K;c=Ke.numericCompaction(A,c+1,we),u.setFileSize(El.parseLong(we.toString()));break;default:throw O.getFormatInstance()}break;case Ke.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(E!==-1){let C=c-E;u.isLastSegment()&&C--,u.setOptionalData(V.copyOfRange(A,E,E+C))}return c}static textCompaction(A,c,u){let m=new Int32Array((A[0]-c)*2),w=new Int32Array((A[0]-c)*2),E=0,C=!1;for(;c<A[0]&&!C;){let I=A[c++];if(I<Ke.TEXT_COMPACTION_MODE_LATCH)m[E]=I/30,m[E+1]=I%30,E+=2;else switch(I){case Ke.TEXT_COMPACTION_MODE_LATCH:m[E++]=Ke.TEXT_COMPACTION_MODE_LATCH;break;case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:c--,C=!0;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[E]=Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=A[c++],w[E]=I,E++;break}}return Ke.decodeTextCompaction(m,w,E,u),c}static decodeTextCompaction(A,c,u,m){let w=Or.ALPHA,E=Or.ALPHA,C=0;for(;C<u;){let I=A[C],R="";switch(w){case Or.ALPHA:if(I<26)R=String.fromCharCode(65+I);else switch(I){case 26:R=" ";break;case Ke.LL:w=Or.LOWER;break;case Ke.ML:w=Or.MIXED;break;case Ke.PS:E=w,w=Or.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break;case Or.LOWER:if(I<26)R=String.fromCharCode(97+I);else switch(I){case 26:R=" ";break;case Ke.AS:E=w,w=Or.ALPHA_SHIFT;break;case Ke.ML:w=Or.MIXED;break;case Ke.PS:E=w,w=Or.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break;case Or.MIXED:if(I<Ke.PL)R=Ke.MIXED_CHARS[I];else switch(I){case Ke.PL:w=Or.PUNCT;break;case 26:R=" ";break;case Ke.LL:w=Or.LOWER;break;case Ke.AL:w=Or.ALPHA;break;case Ke.PS:E=w,w=Or.PUNCT_SHIFT;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break;case Or.PUNCT:if(I<Ke.PAL)R=Ke.PUNCT_CHARS[I];else switch(I){case Ke.PAL:w=Or.ALPHA;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(w=E,I<26)R=String.fromCharCode(65+I);else switch(I){case 26:R=" ";break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(w=E,I<Ke.PAL)R=Ke.PUNCT_CHARS[I];else switch(I){case Ke.PAL:w=Or.ALPHA;break;case Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case Ke.TEXT_COMPACTION_MODE_LATCH:w=Or.ALPHA;break}break}R!==""&&m.append(R),C++}}static byteCompaction(A,c,u,m,w){let E=new IA,C=0,I=0,R=!1;switch(A){case Ke.BYTE_COMPACTION_MODE_LATCH:let Q=new Int32Array(6),W=c[m++];for(;m<c[0]&&!R;)switch(Q[C++]=W,I=900*I+W,W=c[m++],W){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:m--,R=!0;break;default:if(C%5===0&&C>0){for(let ee=0;ee<6;++ee)E.write(Number(Ui(I)>>Ui(8*(5-ee))));I=0,C=0}break}m===c[0]&&W<Ke.TEXT_COMPACTION_MODE_LATCH&&(Q[C++]=W);for(let ee=0;ee<C;ee++)E.write(Q[ee]);break;case Ke.BYTE_COMPACTION_MODE_LATCH_6:for(;m<c[0]&&!R;){let ee=c[m++];if(ee<Ke.TEXT_COMPACTION_MODE_LATCH)C++,I=900*I+ee;else switch(ee){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.NUMERIC_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:m--,R=!0;break}if(C%5===0&&C>0){for(let we=0;we<6;++we)E.write(Number(Ui(I)>>Ui(8*(5-we))));I=0,C=0}}break}return w.append(Y.decode(E.toByteArray(),u)),m}static numericCompaction(A,c,u){let m=0,w=!1,E=new Int32Array(Ke.MAX_NUMERIC_CODEWORDS);for(;c<A[0]&&!w;){let C=A[c++];if(c===A[0]&&(w=!0),C<Ke.TEXT_COMPACTION_MODE_LATCH)E[m]=C,m++;else switch(C){case Ke.TEXT_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH:case Ke.BYTE_COMPACTION_MODE_LATCH_6:case Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ke.MACRO_PDF417_TERMINATOR:c--,w=!0;break}(m%Ke.MAX_NUMERIC_CODEWORDS===0||C===Ke.NUMERIC_COMPACTION_MODE_LATCH||w)&&m>0&&(u.append(Ke.decodeBase900toBase10(E,m)),m=0)}return c}static decodeBase900toBase10(A,c){let u=Ui(0);for(let w=0;w<c;w++)u+=Ke.EXP900[c-w-1]*Ui(A[w]);let m=u.toString();if(m.charAt(0)!=="1")throw new O;return m.substring(1)}}Ke.TEXT_COMPACTION_MODE_LATCH=900,Ke.BYTE_COMPACTION_MODE_LATCH=901,Ke.NUMERIC_COMPACTION_MODE_LATCH=902,Ke.BYTE_COMPACTION_MODE_LATCH_6=924,Ke.ECI_USER_DEFINED=925,Ke.ECI_GENERAL_PURPOSE=926,Ke.ECI_CHARSET=927,Ke.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ke.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ke.MACRO_PDF417_TERMINATOR=922,Ke.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ke.MAX_NUMERIC_CODEWORDS=15,Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ke.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ke.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ke.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ke.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ke.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ke.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ke.PL=25,Ke.LL=27,Ke.AS=27,Ke.ML=28,Ke.AL=28,Ke.PS=29,Ke.PAL=29,Ke.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ke.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ke.EXP900=AA()?oA():[],Ke.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $t{constructor(){}static decode(A,c,u,m,w,E,C){let I=new Di(A,c,u,m,w),R=null,Q=null,W;for(let be=!0;;be=!1){if(c!=null&&(R=$t.getRowIndicatorColumn(A,I,c,!0,E,C)),m!=null&&(Q=$t.getRowIndicatorColumn(A,I,m,!1,E,C)),W=$t.merge(R,Q),W==null)throw xe.getNotFoundInstance();let Te=W.getBoundingBox();if(be&&Te!=null&&(Te.getMinY()<I.getMinY()||Te.getMaxY()>I.getMaxY()))I=Te;else break}W.setBoundingBox(I);let ee=W.getBarcodeColumnCount()+1;W.setDetectionResultColumn(0,R),W.setDetectionResultColumn(ee,Q);let we=R!=null;for(let be=1;be<=ee;be++){let Te=we?be:ee-be;if(W.getDetectionResultColumn(Te)!==void 0)continue;let De;Te===0||Te===ee?De=new rn(I,Te===0):De=new es(I),W.setDetectionResultColumn(Te,De);let Xe=-1,xt=Xe;for(let dt=I.getMinY();dt<=I.getMaxY();dt++){if(Xe=$t.getStartColumn(W,Te,dt,we),Xe<0||Xe>I.getMaxX()){if(xt===-1)continue;Xe=xt}let lt=$t.detectCodeword(A,I.getMinX(),I.getMaxX(),we,Xe,dt,E,C);lt!=null&&(De.setCodeword(dt,lt),xt=Xe,E=Math.min(E,lt.getWidth()),C=Math.max(C,lt.getWidth()))}}return $t.createDecoderResult(W)}static merge(A,c){if(A==null&&c==null)return null;let u=$t.getBarcodeMetadata(A,c);if(u==null)return null;let m=Di.merge($t.adjustBoundingBox(A),$t.adjustBoundingBox(c));return new Qn(u,m)}static adjustBoundingBox(A){if(A==null)return null;let c=A.getRowHeights();if(c==null)return null;let u=$t.getMax(c),m=0;for(let C of c)if(m+=u-C,C>0)break;let w=A.getCodewords();for(let C=0;m>0&&w[C]==null;C++)m--;let E=0;for(let C=c.length-1;C>=0&&(E+=u-c[C],!(c[C]>0));C--);for(let C=w.length-1;E>0&&w[C]==null;C--)E--;return A.getBoundingBox().addMissingRows(m,E,A.isLeft())}static getMax(A){let c=-1;for(let u of A)c=Math.max(c,u);return c}static getBarcodeMetadata(A,c){let u;if(A==null||(u=A.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let m;return c==null||(m=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==m.getColumnCount()&&u.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&u.getRowCount()!==m.getRowCount()?null:u}static getRowIndicatorColumn(A,c,u,m,w,E){let C=new rn(c,m);for(let I=0;I<2;I++){let R=I===0?1:-1,Q=Math.trunc(Math.trunc(u.getX()));for(let W=Math.trunc(Math.trunc(u.getY()));W<=c.getMaxY()&&W>=c.getMinY();W+=R){let ee=$t.detectCodeword(A,0,A.getWidth(),m,Q,W,w,E);ee!=null&&(C.setCodeword(W,ee),m?Q=ee.getStartX():Q=ee.getEndX())}}return C}static adjustCodewordCount(A,c){let u=c[0][1],m=u.getValue(),w=A.getBarcodeColumnCount()*A.getBarcodeRowCount()-$t.getNumberOfECCodeWords(A.getBarcodeECLevel());if(m.length===0){if(w<1||w>Vt.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();u.setValue(w)}else m[0]!==w&&u.setValue(w)}static createDecoderResult(A){let c=$t.createBarcodeMatrix(A);$t.adjustCodewordCount(A,c);let u=new Array,m=new Int32Array(A.getBarcodeRowCount()*A.getBarcodeColumnCount()),w=[],E=new Array;for(let I=0;I<A.getBarcodeRowCount();I++)for(let R=0;R<A.getBarcodeColumnCount();R++){let Q=c[I][R+1].getValue(),W=I*A.getBarcodeColumnCount()+R;Q.length===0?u.push(W):Q.length===1?m[W]=Q[0]:(E.push(W),w.push(Q))}let C=new Array(w.length);for(let I=0;I<C.length;I++)C[I]=w[I];return $t.createDecoderResultFromAmbiguousValues(A.getBarcodeECLevel(),m,Vt.toIntArray(u),Vt.toIntArray(E),C)}static createDecoderResultFromAmbiguousValues(A,c,u,m,w){let E=new Int32Array(m.length),C=100;for(;C-- >0;){for(let I=0;I<E.length;I++)c[m[I]]=w[I][E[I]];try{return $t.decodeCodewords(c,A,u)}catch(I){if(!(I instanceof T))throw I}if(E.length===0)throw T.getChecksumInstance();for(let I=0;I<E.length;I++)if(E[I]<w[I].length-1){E[I]++;break}else if(E[I]=0,I===E.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(A){let c=Array.from({length:A.getBarcodeRowCount()},()=>new Array(A.getBarcodeColumnCount()+2));for(let m=0;m<c.length;m++)for(let w=0;w<c[m].length;w++)c[m][w]=new ki;let u=0;for(let m of A.getDetectionResultColumns()){if(m!=null){for(let w of m.getCodewords())if(w!=null){let E=w.getRowNumber();if(E>=0){if(E>=c.length)continue;c[E][u].setValue(w.getValue())}}}u++}return c}static isValidBarcodeColumn(A,c){return c>=0&&c<=A.getBarcodeColumnCount()+1}static getStartColumn(A,c,u,m){let w=m?1:-1,E=null;if($t.isValidBarcodeColumn(A,c-w)&&(E=A.getDetectionResultColumn(c-w).getCodeword(u)),E!=null)return m?E.getEndX():E.getStartX();if(E=A.getDetectionResultColumn(c).getCodewordNearby(u),E!=null)return m?E.getStartX():E.getEndX();if($t.isValidBarcodeColumn(A,c-w)&&(E=A.getDetectionResultColumn(c-w).getCodewordNearby(u)),E!=null)return m?E.getEndX():E.getStartX();let C=0;for(;$t.isValidBarcodeColumn(A,c-w);){c-=w;for(let I of A.getDetectionResultColumn(c).getCodewords())if(I!=null)return(m?I.getEndX():I.getStartX())+w*C*(I.getEndX()-I.getStartX());C++}return m?A.getBoundingBox().getMinX():A.getBoundingBox().getMaxX()}static detectCodeword(A,c,u,m,w,E,C,I){w=$t.adjustCodewordStartColumn(A,c,u,m,w,E);let R=$t.getModuleBitCount(A,c,u,m,w,E);if(R==null)return null;let Q,W=kt.sum(R);if(m)Q=w+W;else{for(let be=0;be<R.length/2;be++){let Te=R[be];R[be]=R[R.length-1-be],R[R.length-1-be]=Te}Q=w,w=Q-W}if(!$t.checkCodewordSkew(W,C,I))return null;let ee=Ln.getDecodedValue(R),we=Vt.getCodeword(ee);return we===-1?null:new gi(w,Q,$t.getCodewordBucketNumber(ee),we)}static getModuleBitCount(A,c,u,m,w,E){let C=w,I=new Int32Array(8),R=0,Q=m?1:-1,W=m;for(;(m?C<u:C>=c)&&R<I.length;)A.get(C,E)===W?(I[R]++,C+=Q):(R++,W=!W);return R===I.length||C===(m?u:c)&&R===I.length-1?I:null}static getNumberOfECCodeWords(A){return 2<<A}static adjustCodewordStartColumn(A,c,u,m,w,E){let C=w,I=m?-1:1;for(let R=0;R<2;R++){for(;(m?C>=c:C<u)&&m===A.get(C,E);){if(Math.abs(w-C)>$t.CODEWORD_SKEW_SIZE)return w;C+=I}I=-I,m=!m}return C}static checkCodewordSkew(A,c,u){return c-$t.CODEWORD_SKEW_SIZE<=A&&A<=u+$t.CODEWORD_SKEW_SIZE}static decodeCodewords(A,c,u){if(A.length===0)throw O.getFormatInstance();let m=1<<c+1,w=$t.correctErrors(A,u,m);$t.verifyCodewordCount(A,m);let E=Ke.decode(A,""+c);return E.setErrorsCorrected(w),E.setErasures(u.length),E}static correctErrors(A,c,u){if(c!=null&&c.length>u/2+$t.MAX_ERRORS||u<0||u>$t.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return $t.errorCorrection.decode(A,u,c)}static verifyCodewordCount(A,c){if(A.length<4)throw O.getFormatInstance();let u=A[0];if(u>A.length)throw O.getFormatInstance();if(u===0)if(c<A.length)A[0]=A.length-c;else throw O.getFormatInstance()}static getBitCountForCodeword(A){let c=new Int32Array(8),u=0,m=c.length-1;for(;!((A&1)!==u&&(u=A&1,m--,m<0));)c[m]++,A>>=1;return c}static getCodewordBucketNumber(A){return A instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(A):this.getCodewordBucketNumber_number(A)}static getCodewordBucketNumber_number(A){return $t.getCodewordBucketNumber($t.getBitCountForCodeword(A))}static getCodewordBucketNumber_Int32Array(A){return(A[0]-A[2]+A[4]-A[6]+9)%9}static toString(A){let c=new Oi;for(let u=0;u<A.length;u++){c.format("Row %2d: ",u);for(let m=0;m<A[u].length;m++){let w=A[u][m];w.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}c.format("%n")}return c.toString()}}$t.CODEWORD_SKEW_SIZE=2,$t.MAX_ERRORS=3,$t.MAX_EC_CODEWORDS=512,$t.errorCorrection=new ti;class qn{decode(A,c=null){let u=qn.decode(A,c,!1);if(u==null||u.length===0||u[0]==null)throw xe.getNotFoundInstance();return u[0]}decodeMultiple(A,c=null){try{return qn.decode(A,c,!0)}catch(u){throw u instanceof O||u instanceof T?xe.getNotFoundInstance():u}}static decode(A,c,u){const m=new Array,w=Gt.detectMultiple(A,c,u);for(const E of w.getPoints()){const C=$t.decode(w.getBits(),E[4],E[5],E[6],E[7],qn.getMinCodewordWidth(E),qn.getMaxCodewordWidth(E)),I=new se(C.getText(),C.getRawBytes(),void 0,E,Ce.PDF_417);I.putMetadata(ye.ERROR_CORRECTION_LEVEL,C.getECLevel());const R=C.getOther();R!=null&&I.putMetadata(ye.PDF417_EXTRA_METADATA,R),m.push(I)}return m.map(E=>E)}static getMaxWidth(A,c){return A==null||c==null?0:Math.trunc(Math.abs(A.getX()-c.getX()))}static getMinWidth(A,c){return A==null||c==null?j.MAX_VALUE:Math.trunc(Math.abs(A.getX()-c.getX()))}static getMaxCodewordWidth(A){return Math.floor(Math.max(Math.max(qn.getMaxWidth(A[0],A[4]),qn.getMaxWidth(A[6],A[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.max(qn.getMaxWidth(A[1],A[5]),qn.getMaxWidth(A[7],A[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(A){return Math.floor(Math.min(Math.min(qn.getMinWidth(A[0],A[4]),qn.getMinWidth(A[6],A[2])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN),Math.min(qn.getMinWidth(A[1],A[5]),qn.getMinWidth(A[7],A[3])*Vt.MODULES_IN_CODEWORD/Vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class NA extends h{}NA.kind="ReaderException";class lA{constructor(A,c){this.verbose=A===!0,c&&this.setHints(c)}decode(A,c){return c&&this.setHints(c),this.decodeInternal(A)}decodeWithState(A){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(A)}setHints(A){this.hints=A;const c=!n(A)&&A.get(z.TRY_HARDER)===!0,u=n(A)?null:A.get(z.POSSIBLE_FORMATS),m=new Array;if(!n(u)){const w=u.some(E=>E===Ce.UPC_A||E===Ce.UPC_E||E===Ce.EAN_13||E===Ce.EAN_8||E===Ce.CODABAR||E===Ce.CODE_39||E===Ce.CODE_93||E===Ce.CODE_128||E===Ce.ITF||E===Ce.RSS_14||E===Ce.RSS_EXPANDED);w&&!c&&m.push(new Dn(A,this.verbose)),u.includes(Ce.QR_CODE)&&m.push(new $i),u.includes(Ce.DATA_MATRIX)&&m.push(new Ii),u.includes(Ce.AZTEC)&&m.push(new qt),u.includes(Ce.PDF_417)&&m.push(new qn),w&&c&&m.push(new Dn(A,this.verbose))}m.length===0&&(c||m.push(new Dn(A,this.verbose)),m.push(new $i),m.push(new Ii),m.push(new qt),m.push(new qn),c&&m.push(new Dn(A,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const A of this.readers)A.reset()}decodeInternal(A){if(this.readers===null)throw new NA("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(A,this.hints)}catch(u){if(u instanceof NA)continue}throw new xe("No MultiFormat Readers were able to detect the code.")}}class Bl extends pe{constructor(A=null,c=500){const u=new lA;u.setHints(A),super(u,c)}decodeBitmap(A){return this.reader.decodeWithState(A)}}class _c extends pe{constructor(A=500){super(new qn,A)}}class Cl extends pe{constructor(A=500){super(new $i,A)}}var RA;(function(X){X[X.ERROR_CORRECTION=0]="ERROR_CORRECTION",X[X.CHARACTER_SET=1]="CHARACTER_SET",X[X.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",X[X.MIN_SIZE=3]="MIN_SIZE",X[X.MAX_SIZE=4]="MAX_SIZE",X[X.MARGIN=5]="MARGIN",X[X.PDF417_COMPACT=6]="PDF417_COMPACT",X[X.PDF417_COMPACTION=7]="PDF417_COMPACTION",X[X.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",X[X.AZTEC_LAYERS=9]="AZTEC_LAYERS",X[X.QR_VERSION=10]="QR_VERSION"})(RA||(RA={}));var _n=RA;class vs{constructor(A){this.field=A,this.cachedGenerators=[],this.cachedGenerators.push(new Re(A,Int32Array.from([1])))}buildGenerator(A){const c=this.cachedGenerators;if(A>=c.length){let u=c[c.length-1];const m=this.field;for(let w=c.length;w<=A;w++){const E=u.multiply(new Re(m,Int32Array.from([1,m.exp(w-1+m.getGeneratorBase())])));c.push(E),u=E}}return c[A]}encode(A,c){if(c===0)throw new y("No error correction bytes");const u=A.length-c;if(u<=0)throw new y("No data bytes provided");const m=this.buildGenerator(c),w=new Int32Array(u);F.arraycopy(A,0,w,0,u);let E=new Re(this.field,w);E=E.multiplyByMonomial(c,1);const I=E.divide(m)[1].getCoefficients(),R=c-I.length;for(let Q=0;Q<R;Q++)A[u+Q]=0;F.arraycopy(I,0,A,u+R,I.length)}}class on{constructor(){}static applyMaskPenaltyRule1(A){return on.applyMaskPenaltyRule1Internal(A,!0)+on.applyMaskPenaltyRule1Internal(A,!1)}static applyMaskPenaltyRule2(A){let c=0;const u=A.getArray(),m=A.getWidth(),w=A.getHeight();for(let E=0;E<w-1;E++){const C=u[E];for(let I=0;I<m-1;I++){const R=C[I];R===C[I+1]&&R===u[E+1][I]&&R===u[E+1][I+1]&&c++}}return on.N2*c}static applyMaskPenaltyRule3(A){let c=0;const u=A.getArray(),m=A.getWidth(),w=A.getHeight();for(let E=0;E<w;E++)for(let C=0;C<m;C++){const I=u[E];C+6<m&&I[C]===1&&I[C+1]===0&&I[C+2]===1&&I[C+3]===1&&I[C+4]===1&&I[C+5]===0&&I[C+6]===1&&(on.isWhiteHorizontal(I,C-4,C)||on.isWhiteHorizontal(I,C+7,C+11))&&c++,E+6<w&&u[E][C]===1&&u[E+1][C]===0&&u[E+2][C]===1&&u[E+3][C]===1&&u[E+4][C]===1&&u[E+5][C]===0&&u[E+6][C]===1&&(on.isWhiteVertical(u,C,E-4,E)||on.isWhiteVertical(u,C,E+7,E+11))&&c++}return c*on.N3}static isWhiteHorizontal(A,c,u){c=Math.max(c,0),u=Math.min(u,A.length);for(let m=c;m<u;m++)if(A[m]===1)return!1;return!0}static isWhiteVertical(A,c,u,m){u=Math.max(u,0),m=Math.min(m,A.length);for(let w=u;w<m;w++)if(A[w][c]===1)return!1;return!0}static applyMaskPenaltyRule4(A){let c=0;const u=A.getArray(),m=A.getWidth(),w=A.getHeight();for(let I=0;I<w;I++){const R=u[I];for(let Q=0;Q<m;Q++)R[Q]===1&&c++}const E=A.getHeight()*A.getWidth();return Math.floor(Math.abs(c*2-E)*10/E)*on.N4}static getDataMaskBit(A,c,u){let m,w;switch(A){case 0:m=u+c&1;break;case 1:m=u&1;break;case 2:m=c%3;break;case 3:m=(u+c)%3;break;case 4:m=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:w=u*c,m=(w&1)+w%3;break;case 6:w=u*c,m=(w&1)+w%3&1;break;case 7:w=u*c,m=w%3+(u+c&1)&1;break;default:throw new y("Invalid mask pattern: "+A)}return m===0}static applyMaskPenaltyRule1Internal(A,c){let u=0;const m=c?A.getHeight():A.getWidth(),w=c?A.getWidth():A.getHeight(),E=A.getArray();for(let C=0;C<m;C++){let I=0,R=-1;for(let Q=0;Q<w;Q++){const W=c?E[C][Q]:E[Q][C];W===R?I++:(I>=5&&(u+=on.N1+(I-5)),I=1,R=W)}I>=5&&(u+=on.N1+(I-5))}return u}}on.N1=3,on.N2=3,on.N3=40,on.N4=10;class DA{constructor(A,c){this.width=A,this.height=c;const u=new Array(c);for(let m=0;m!==c;m++)u[m]=new Uint8Array(A);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(A,c){return this.bytes[c][A]}getArray(){return this.bytes}setNumber(A,c,u){this.bytes[c][A]=u}setBoolean(A,c,u){this.bytes[c][A]=u?1:0}clear(A){for(const c of this.bytes)V.fill(c,A)}equals(A){if(!(A instanceof DA))return!1;const c=A;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,m=this.height;u<m;++u){const w=this.bytes[u],E=c.bytes[u];for(let C=0,I=this.width;C<I;++C)if(w[C]!==E[C])return!1}return!0}toString(){const A=new K;for(let c=0,u=this.height;c<u;++c){const m=this.bytes[c];for(let w=0,E=this.width;w<E;++w)switch(m[w]){case 0:A.append(" 0");break;case 1:A.append(" 1");break;default:A.append("  ");break}A.append(`
`)}return A.toString()}}class Ma{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const A=new K;return A.append(`<<
`),A.append(" mode: "),A.append(this.mode?this.mode.toString():"null"),A.append(`
 ecLevel: `),A.append(this.ecLevel?this.ecLevel.toString():"null"),A.append(`
 version: `),A.append(this.version?this.version.toString():"null"),A.append(`
 maskPattern: `),A.append(this.maskPattern.toString()),this.matrix?(A.append(`
 matrix:
`),A.append(this.matrix.toString())):A.append(`
 matrix: null
`),A.append(`>>
`),A.toString()}setMode(A){this.mode=A}setECLevel(A){this.ecLevel=A}setVersion(A){this.version=A}setMaskPattern(A){this.maskPattern=A}setMatrix(A){this.matrix=A}static isValidMaskPattern(A){return A>=0&&A<Ma.NUM_MASK_PATTERNS}}Ma.NUM_MASK_PATTERNS=8;class kr extends h{}kr.kind="WriterException";class Pt{constructor(){}static clearMatrix(A){A.clear(255)}static buildMatrix(A,c,u,m,w){Pt.clearMatrix(w),Pt.embedBasicPatterns(u,w),Pt.embedTypeInfo(c,m,w),Pt.maybeEmbedVersionInfo(u,w),Pt.embedDataBits(A,m,w)}static embedBasicPatterns(A,c){Pt.embedPositionDetectionPatternsAndSeparators(c),Pt.embedDarkDotAtLeftBottomCorner(c),Pt.maybeEmbedPositionAdjustmentPatterns(A,c),Pt.embedTimingPatterns(c)}static embedTypeInfo(A,c,u){const m=new re;Pt.makeTypeInfoBits(A,c,m);for(let w=0,E=m.getSize();w<E;++w){const C=m.get(m.getSize()-1-w),I=Pt.TYPE_INFO_COORDINATES[w],R=I[0],Q=I[1];if(u.setBoolean(R,Q,C),w<8){const W=u.getWidth()-w-1;u.setBoolean(W,8,C)}else{const ee=u.getHeight()-7+(w-8);u.setBoolean(8,ee,C)}}}static maybeEmbedVersionInfo(A,c){if(A.getVersionNumber()<7)return;const u=new re;Pt.makeVersionInfoBits(A,u);let m=17;for(let w=0;w<6;++w)for(let E=0;E<3;++E){const C=u.get(m);m--,c.setBoolean(w,c.getHeight()-11+E,C),c.setBoolean(c.getHeight()-11+E,w,C)}}static embedDataBits(A,c,u){let m=0,w=-1,E=u.getWidth()-1,C=u.getHeight()-1;for(;E>0;){for(E===6&&(E-=1);C>=0&&C<u.getHeight();){for(let I=0;I<2;++I){const R=E-I;if(!Pt.isEmpty(u.get(R,C)))continue;let Q;m<A.getSize()?(Q=A.get(m),++m):Q=!1,c!==255&&on.getDataMaskBit(c,R,C)&&(Q=!Q),u.setBoolean(R,C,Q)}C+=w}w=-w,C+=w,E-=2}if(m!==A.getSize())throw new kr("Not all bits consumed: "+m+"/"+A.getSize())}static findMSBSet(A){return 32-j.numberOfLeadingZeros(A)}static calculateBCHCode(A,c){if(c===0)throw new y("0 polynomial");const u=Pt.findMSBSet(c);for(A<<=u-1;Pt.findMSBSet(A)>=u;)A^=c<<Pt.findMSBSet(A)-u;return A}static makeTypeInfoBits(A,c,u){if(!Ma.isValidMaskPattern(c))throw new kr("Invalid mask pattern");const m=A.getBits()<<3|c;u.appendBits(m,5);const w=Pt.calculateBCHCode(m,Pt.TYPE_INFO_POLY);u.appendBits(w,10);const E=new re;if(E.appendBits(Pt.TYPE_INFO_MASK_PATTERN,15),u.xor(E),u.getSize()!==15)throw new kr("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(A,c){c.appendBits(A.getVersionNumber(),6);const u=Pt.calculateBCHCode(A.getVersionNumber(),Pt.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new kr("should not happen but we got: "+c.getSize())}static isEmpty(A){return A===255}static embedTimingPatterns(A){for(let c=8;c<A.getWidth()-8;++c){const u=(c+1)%2;Pt.isEmpty(A.get(c,6))&&A.setNumber(c,6,u),Pt.isEmpty(A.get(6,c))&&A.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(A){if(A.get(8,A.getHeight()-8)===0)throw new kr;A.setNumber(8,A.getHeight()-8,1)}static embedHorizontalSeparationPattern(A,c,u){for(let m=0;m<8;++m){if(!Pt.isEmpty(u.get(A+m,c)))throw new kr;u.setNumber(A+m,c,0)}}static embedVerticalSeparationPattern(A,c,u){for(let m=0;m<7;++m){if(!Pt.isEmpty(u.get(A,c+m)))throw new kr;u.setNumber(A,c+m,0)}}static embedPositionAdjustmentPattern(A,c,u){for(let m=0;m<5;++m){const w=Pt.POSITION_ADJUSTMENT_PATTERN[m];for(let E=0;E<5;++E)u.setNumber(A+E,c+m,w[E])}}static embedPositionDetectionPattern(A,c,u){for(let m=0;m<7;++m){const w=Pt.POSITION_DETECTION_PATTERN[m];for(let E=0;E<7;++E)u.setNumber(A+E,c+m,w[E])}}static embedPositionDetectionPatternsAndSeparators(A){const c=Pt.POSITION_DETECTION_PATTERN[0].length;Pt.embedPositionDetectionPattern(0,0,A),Pt.embedPositionDetectionPattern(A.getWidth()-c,0,A),Pt.embedPositionDetectionPattern(0,A.getWidth()-c,A);const u=8;Pt.embedHorizontalSeparationPattern(0,u-1,A),Pt.embedHorizontalSeparationPattern(A.getWidth()-u,u-1,A),Pt.embedHorizontalSeparationPattern(0,A.getWidth()-u,A);const m=7;Pt.embedVerticalSeparationPattern(m,0,A),Pt.embedVerticalSeparationPattern(A.getHeight()-m-1,0,A),Pt.embedVerticalSeparationPattern(m,A.getHeight()-m,A)}static maybeEmbedPositionAdjustmentPatterns(A,c){if(A.getVersionNumber()<2)return;const u=A.getVersionNumber()-1,m=Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let w=0,E=m.length;w!==E;w++){const C=m[w];if(C>=0)for(let I=0;I!==E;I++){const R=m[I];R>=0&&Pt.isEmpty(c.get(R,C))&&Pt.embedPositionAdjustmentPattern(R-2,C-2,c)}}}}Pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pt.VERSION_INFO_POLY=7973,Pt.TYPE_INFO_POLY=1335,Pt.TYPE_INFO_MASK_PATTERN=21522;class Tc{constructor(A,c){this.dataBytes=A,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class zr{constructor(){}static calculateMaskPenalty(A){return on.applyMaskPenaltyRule1(A)+on.applyMaskPenaltyRule2(A)+on.applyMaskPenaltyRule3(A)+on.applyMaskPenaltyRule4(A)}static encode(A,c,u=null){let m=zr.DEFAULT_BYTE_MODE_ENCODING;const w=u!==null&&u.get(_n.CHARACTER_SET)!==void 0;w&&(m=u.get(_n.CHARACTER_SET).toString());const E=this.chooseMode(A,m),C=new re;if(E===Lt.BYTE&&(w||zr.DEFAULT_BYTE_MODE_ENCODING!==m)){const dt=k.getCharacterSetECIByName(m);dt!==void 0&&this.appendECI(dt,C)}this.appendModeInfo(E,C);const I=new re;this.appendBytes(A,E,I,m);let R;if(u!==null&&u.get(_n.QR_VERSION)!==void 0){const dt=Number.parseInt(u.get(_n.QR_VERSION).toString(),10);R=mt.getVersionForNumber(dt);const lt=this.calculateBitsNeeded(E,C,I,R);if(!this.willFit(lt,R,c))throw new kr("Data too big for requested version")}else R=this.recommendVersion(c,E,C,I);const Q=new re;Q.appendBitArray(C);const W=E===Lt.BYTE?I.getSizeInBytes():A.length;this.appendLengthInfo(W,R,E,Q),Q.appendBitArray(I);const ee=R.getECBlocksForLevel(c),we=R.getTotalCodewords()-ee.getTotalECCodewords();this.terminateBits(we,Q);const be=this.interleaveWithECBytes(Q,R.getTotalCodewords(),we,ee.getNumBlocks()),Te=new Ma;Te.setECLevel(c),Te.setMode(E),Te.setVersion(R);const De=R.getDimensionForVersion(),Xe=new DA(De,De),xt=this.chooseMaskPattern(be,c,R,Xe);return Te.setMaskPattern(xt),Pt.buildMatrix(be,c,R,xt,Xe),Te.setMatrix(Xe),Te}static recommendVersion(A,c,u,m){const w=this.calculateBitsNeeded(c,u,m,mt.getVersionForNumber(1)),E=this.chooseVersion(w,A),C=this.calculateBitsNeeded(c,u,m,E);return this.chooseVersion(C,A)}static calculateBitsNeeded(A,c,u,m){return c.getSize()+A.getCharacterCountBits(m)+u.getSize()}static getAlphanumericCode(A){return A<zr.ALPHANUMERIC_TABLE.length?zr.ALPHANUMERIC_TABLE[A]:-1}static chooseMode(A,c=null){if(k.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(A))return Lt.KANJI;let u=!1,m=!1;for(let w=0,E=A.length;w<E;++w){const C=A.charAt(w);if(zr.isDigit(C))u=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)m=!0;else return Lt.BYTE}return m?Lt.ALPHANUMERIC:u?Lt.NUMERIC:Lt.BYTE}static isOnlyDoubleByteKanji(A){let c;try{c=Y.encode(A,k.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let m=0;m<u;m+=2){const w=c[m]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(A,c,u,m){let w=Number.MAX_SAFE_INTEGER,E=-1;for(let C=0;C<Ma.NUM_MASK_PATTERNS;C++){Pt.buildMatrix(A,c,u,C,m);let I=this.calculateMaskPenalty(m);I<w&&(w=I,E=C)}return E}static chooseVersion(A,c){for(let u=1;u<=40;u++){const m=mt.getVersionForNumber(u);if(zr.willFit(A,m,c))return m}throw new kr("Data too big")}static willFit(A,c,u){const m=c.getTotalCodewords(),E=c.getECBlocksForLevel(u).getTotalECCodewords(),C=m-E,I=(A+7)/8;return C>=I}static terminateBits(A,c){const u=A*8;if(c.getSize()>u)throw new kr("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let E=0;E<4&&c.getSize()<u;++E)c.appendBit(!1);const m=c.getSize()&7;if(m>0)for(let E=m;E<8;E++)c.appendBit(!1);const w=A-c.getSizeInBytes();for(let E=0;E<w;++E)c.appendBits((E&1)===0?236:17,8);if(c.getSize()!==u)throw new kr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(A,c,u,m,w,E){if(m>=u)throw new kr("Block ID too large");const C=A%u,I=u-C,R=Math.floor(A/u),Q=R+1,W=Math.floor(c/u),ee=W+1,we=R-W,be=Q-ee;if(we!==be)throw new kr("EC bytes mismatch");if(u!==I+C)throw new kr("RS blocks mismatch");if(A!==(W+we)*I+(ee+be)*C)throw new kr("Total bytes mismatch");m<I?(w[0]=W,E[0]=we):(w[0]=ee,E[0]=be)}static interleaveWithECBytes(A,c,u,m){if(A.getSizeInBytes()!==u)throw new kr("Number of bits and data bytes does not match");let w=0,E=0,C=0;const I=new Array;for(let Q=0;Q<m;++Q){const W=new Int32Array(1),ee=new Int32Array(1);zr.getNumDataBytesAndNumECBytesForBlockID(c,u,m,Q,W,ee);const we=W[0],be=new Uint8Array(we);A.toBytes(8*w,be,0,we);const Te=zr.generateECBytes(be,ee[0]);I.push(new Tc(be,Te)),E=Math.max(E,we),C=Math.max(C,Te.length),w+=W[0]}if(u!==w)throw new kr("Data bytes does not match offset");const R=new re;for(let Q=0;Q<E;++Q)for(const W of I){const ee=W.getDataBytes();Q<ee.length&&R.appendBits(ee[Q],8)}for(let Q=0;Q<C;++Q)for(const W of I){const ee=W.getErrorCorrectionBytes();Q<ee.length&&R.appendBits(ee[Q],8)}if(c!==R.getSizeInBytes())throw new kr("Interleaving error: "+c+" and "+R.getSizeInBytes()+" differ.");return R}static generateECBytes(A,c){const u=A.length,m=new Int32Array(u+c);for(let E=0;E<u;E++)m[E]=A[E]&255;new vs(yt.QR_CODE_FIELD_256).encode(m,c);const w=new Uint8Array(c);for(let E=0;E<c;E++)w[E]=m[u+E];return w}static appendModeInfo(A,c){c.appendBits(A.getBits(),4)}static appendLengthInfo(A,c,u,m){const w=u.getCharacterCountBits(c);if(A>=1<<w)throw new kr(A+" is bigger than "+((1<<w)-1));m.appendBits(A,w)}static appendBytes(A,c,u,m){switch(c){case Lt.NUMERIC:zr.appendNumericBytes(A,u);break;case Lt.ALPHANUMERIC:zr.appendAlphanumericBytes(A,u);break;case Lt.BYTE:zr.append8BitBytes(A,u,m);break;case Lt.KANJI:zr.appendKanjiBytes(A,u);break;default:throw new kr("Invalid mode: "+c)}}static getDigit(A){return A.charCodeAt(0)-48}static isDigit(A){const c=zr.getDigit(A);return c>=0&&c<=9}static appendNumericBytes(A,c){const u=A.length;let m=0;for(;m<u;){const w=zr.getDigit(A.charAt(m));if(m+2<u){const E=zr.getDigit(A.charAt(m+1)),C=zr.getDigit(A.charAt(m+2));c.appendBits(w*100+E*10+C,10),m+=3}else if(m+1<u){const E=zr.getDigit(A.charAt(m+1));c.appendBits(w*10+E,7),m+=2}else c.appendBits(w,4),m++}}static appendAlphanumericBytes(A,c){const u=A.length;let m=0;for(;m<u;){const w=zr.getAlphanumericCode(A.charCodeAt(m));if(w===-1)throw new kr;if(m+1<u){const E=zr.getAlphanumericCode(A.charCodeAt(m+1));if(E===-1)throw new kr;c.appendBits(w*45+E,11),m+=2}else c.appendBits(w,6),m++}}static append8BitBytes(A,c,u){let m;try{m=Y.encode(A,u)}catch(w){throw new kr(w)}for(let w=0,E=m.length;w!==E;w++){const C=m[w];c.appendBits(C,8)}}static appendKanjiBytes(A,c){let u;try{u=Y.encode(A,k.SJIS)}catch(w){throw new kr(w)}const m=u.length;for(let w=0;w<m;w+=2){const E=u[w]&255,C=u[w+1]&255,I=E<<8&4294967295|C;let R=-1;if(I>=33088&&I<=40956?R=I-33088:I>=57408&&I<=60351&&(R=I-49472),R===-1)throw new kr("Invalid byte sequence");const Q=(R>>8)*192+(R&255);c.appendBits(Q,13)}}static appendECI(A,c){c.appendBits(Lt.ECI.getBits(),4),c.appendBits(A.getValue(),8)}}zr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),zr.DEFAULT_BYTE_MODE_ENCODING=k.UTF8.getName();class Mi{write(A,c,u,m=null){if(A.length===0)throw new y("Found empty contents");if(c<0||u<0)throw new y("Requested dimensions are too small: "+c+"x"+u);let w=Yt.L,E=Mi.QUIET_ZONE_SIZE;m!==null&&(m.get(_n.ERROR_CORRECTION)!==void 0&&(w=Yt.fromString(m.get(_n.ERROR_CORRECTION).toString())),m.get(_n.MARGIN)!==void 0&&(E=Number.parseInt(m.get(_n.MARGIN).toString(),10)));const C=zr.encode(A,w,m);return this.renderResult(C,c,u,E)}writeToDom(A,c,u,m,w=null){typeof A=="string"&&(A=document.querySelector(A));const E=this.write(c,u,m,w);A&&A.appendChild(E)}renderResult(A,c,u,m){const w=A.getMatrix();if(w===null)throw new et;const E=w.getWidth(),C=w.getHeight(),I=E+m*2,R=C+m*2,Q=Math.max(c,I),W=Math.max(u,R),ee=Math.min(Math.floor(Q/I),Math.floor(W/R)),we=Math.floor((Q-E*ee)/2),be=Math.floor((W-C*ee)/2),Te=this.createSVGElement(Q,W);for(let De=0,Xe=be;De<C;De++,Xe+=ee)for(let xt=0,dt=we;xt<E;xt++,dt+=ee)if(w.get(xt,De)===1){const lt=this.createSvgRectElement(dt,Xe,ee,ee);Te.appendChild(lt)}return Te}createSVGElement(A,c){const u=document.createElementNS(Mi.SVG_NS,"svg");return u.setAttributeNS(null,"height",A.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(A,c,u,m){const w=document.createElementNS(Mi.SVG_NS,"rect");return w.setAttributeNS(null,"x",A.toString()),w.setAttributeNS(null,"y",c.toString()),w.setAttributeNS(null,"height",u.toString()),w.setAttributeNS(null,"width",m.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Mi.QUIET_ZONE_SIZE=4,Mi.SVG_NS="http://www.w3.org/2000/svg";class Pn{encode(A,c,u,m,w){if(A.length===0)throw new y("Found empty contents");if(c!==Ce.QR_CODE)throw new y("Can only encode QR_CODE, but got "+c);if(u<0||m<0)throw new y(`Requested dimensions are too small: ${u}x${m}`);let E=Yt.L,C=Pn.QUIET_ZONE_SIZE;w!==null&&(w.get(_n.ERROR_CORRECTION)!==void 0&&(E=Yt.fromString(w.get(_n.ERROR_CORRECTION).toString())),w.get(_n.MARGIN)!==void 0&&(C=Number.parseInt(w.get(_n.MARGIN).toString(),10)));const I=zr.encode(A,E,w);return Pn.renderResult(I,u,m,C)}static renderResult(A,c,u,m){const w=A.getMatrix();if(w===null)throw new et;const E=w.getWidth(),C=w.getHeight(),I=E+m*2,R=C+m*2,Q=Math.max(c,I),W=Math.max(u,R),ee=Math.min(Math.floor(Q/I),Math.floor(W/R)),we=Math.floor((Q-E*ee)/2),be=Math.floor((W-C*ee)/2),Te=new Ie(Q,W);for(let De=0,Xe=be;De<C;De++,Xe+=ee)for(let xt=0,dt=we;xt<E;xt++,dt+=ee)w.get(xt,De)===1&&Te.setRegion(dt,Xe,ee,ee);return Te}}Pn.QUIET_ZONE_SIZE=4;class Sc{encode(A,c,u,m,w){let E;switch(c){case Ce.QR_CODE:E=new Pn;break;default:throw new y("No encoder available for format "+c)}return E.encode(A,c,u,m,w)}}class xi extends Ve{constructor(A,c,u,m,w,E,C,I){if(super(E,C),this.yuvData=A,this.dataWidth=c,this.dataHeight=u,this.left=m,this.top=w,m+E>c||w+C>u)throw new y("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(E,C)}getRow(A,c){if(A<0||A>=this.getHeight())throw new y("Requested row is outside the image: "+A);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const m=(A+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,m,c,0,u),c}getMatrix(){const A=this.getWidth(),c=this.getHeight();if(A===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=A*c,m=new Uint8ClampedArray(u);let w=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return F.arraycopy(this.yuvData,w,m,0,u),m;for(let E=0;E<c;E++){const C=E*A;F.arraycopy(this.yuvData,w,m,C,A),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(A,c,u,m){return new xi(this.yuvData,this.dataWidth,this.dataHeight,this.left+A,this.top+c,u,m,!1)}renderThumbnail(){const A=this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(A*c),m=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let E=0;E<c;E++){const C=E*A;for(let I=0;I<A;I++){const R=m[w+I*xi.THUMBNAIL_SCALE_FACTOR]&255;u[C+I]=4278190080|R*65793}w+=this.dataWidth*xi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/xi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(A,c){const u=this.yuvData;for(let m=0,w=this.top*this.dataWidth+this.left;m<c;m++,w+=this.dataWidth){const E=w+A/2;for(let C=w,I=w+A-1;C<E;C++,I--){const R=u[C];u[C]=u[I],u[I]=R}}}invert(){return new Ee(this)}}xi.THUMBNAIL_SCALE_FACTOR=2;class ys extends Ve{constructor(A,c,u,m,w,E,C){if(super(c,u),this.dataWidth=m,this.dataHeight=w,this.left=E,this.top=C,A.BYTES_PER_ELEMENT===4){const I=c*u,R=new Uint8ClampedArray(I);for(let Q=0;Q<I;Q++){const W=A[Q],ee=W>>16&255,we=W>>7&510,be=W&255;R[Q]=(ee+we+be)/4&255}this.luminances=R}else this.luminances=A;if(m===void 0&&(this.dataWidth=c),w===void 0&&(this.dataHeight=u),E===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(A,c){if(A<0||A>=this.getHeight())throw new y("Requested row is outside the image: "+A);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const m=(A+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,m,c,0,u),c}getMatrix(){const A=this.getWidth(),c=this.getHeight();if(A===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=A*c,m=new Uint8ClampedArray(u);let w=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return F.arraycopy(this.luminances,w,m,0,u),m;for(let E=0;E<c;E++){const C=E*A;F.arraycopy(this.luminances,w,m,C,A),w+=this.dataWidth}return m}isCropSupported(){return!0}crop(A,c,u,m){return new ys(this.luminances,u,m,this.dataWidth,this.dataHeight,this.left+A,this.top+c)}invert(){return new Ee(this)}}class b extends k{static forName(A){return this.getCharacterSetECIByName(A)}}class U{}U.ISO_8859_1=k.ISO8859_1;class H{isCompact(){return this.compact}setCompact(A){this.compact=A}getSize(){return this.size}setSize(A){this.size=A}getLayers(){return this.layers}setLayers(A){this.layers=A}getCodeWords(){return this.codeWords}setCodeWords(A){this.codeWords=A}getMatrix(){return this.matrix}setMatrix(A){this.matrix=A}}class le{static singletonList(A){return[A]}static min(A,c){return A.sort(c)[0]}}class ke{constructor(A){this.previous=A}getPrevious(){return this.previous}}class We extends ke{constructor(A,c,u){super(A),this.value=c,this.bitCount=u}appendTo(A,c){A.appendBits(this.value,this.bitCount)}add(A,c){return new We(this,A,c)}addBinaryShift(A,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new We(this,A,c)}toString(){let A=this.value&(1<<this.bitCount)-1;return A|=1<<this.bitCount,"<"+j.toBinaryString(A|1<<this.bitCount).substring(1)+">"}}class wt extends We{constructor(A,c,u){super(A,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(A,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(A.appendBits(31,5),this.binaryShiftByteCount>62?A.appendBits(this.binaryShiftByteCount-31,16):u===0?A.appendBits(Math.min(this.binaryShiftByteCount,31),5):A.appendBits(this.binaryShiftByteCount-31,5)),A.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(A,c){return new wt(this,A,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Lr(X,A,c){return new wt(X,A,c)}function dn(X,A,c){return new We(X,A,c)}const fr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ln=0,kn=1,Zn=2,Qa=3,_a=4,Ks=new We(null,0,0),OA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Sx(X){for(let A of X)V.fill(A,-1);return X[ln][_a]=0,X[kn][_a]=0,X[kn][ln]=28,X[Qa][_a]=0,X[Zn][_a]=0,X[Zn][ln]=15,X}const bl=Sx(V.createInt32Array(6,6));class ts{constructor(A,c,u,m){this.token=A,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(A,c){let u=this.bitCount,m=this.token;if(A!==this.mode){let E=OA[this.mode][A];m=dn(m,E&65535,E>>16),u+=E>>16}let w=A===Zn?4:5;return m=dn(m,c,w),new ts(m,A,0,u+w)}shiftAndAppend(A,c){let u=this.token,m=this.mode===Zn?4:5;return u=dn(u,bl[this.mode][A],m),u=dn(u,c,5),new ts(u,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(A){let c=this.token,u=this.mode,m=this.bitCount;if(this.mode===_a||this.mode===Zn){let C=OA[u][ln];c=dn(c,C&65535,C>>16),m+=C>>16,u=ln}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,E=new ts(c,u,this.binaryShiftByteCount+1,m+w);return E.binaryShiftByteCount===2078&&(E=E.endBinaryShift(A+1)),E}endBinaryShift(A){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Lr(c,A-this.binaryShiftByteCount,this.binaryShiftByteCount),new ts(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(A){let c=this.bitCount+(OA[this.mode][A.mode]>>16);return this.binaryShiftByteCount<A.binaryShiftByteCount?c+=ts.calculateBinaryShiftCost(A)-ts.calculateBinaryShiftCost(this):this.binaryShiftByteCount>A.binaryShiftByteCount&&A.binaryShiftByteCount>0&&(c+=10),c<=A.bitCount}toBitArray(A){let c=[];for(let m=this.endBinaryShift(A.length).token;m!==null;m=m.getPrevious())c.unshift(m);let u=new re;for(const m of c)m.appendTo(u,A);return u}toString(){return G.format("%s bits=%d bytes=%d",fr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(A){return A.binaryShiftByteCount>62?21:A.binaryShiftByteCount>31?20:A.binaryShiftByteCount>0?10:0}}ts.INITIAL_STATE=new ts(Ks,ln,0,0);function vh(X){const A=G.getCharCode(" "),c=G.getCharCode("."),u=G.getCharCode(",");X[ln][A]=1;const m=G.getCharCode("Z"),w=G.getCharCode("A");for(let ee=w;ee<=m;ee++)X[ln][ee]=ee-w+2;X[kn][A]=1;const E=G.getCharCode("z"),C=G.getCharCode("a");for(let ee=C;ee<=E;ee++)X[kn][ee]=ee-C+2;X[Zn][A]=1;const I=G.getCharCode("9"),R=G.getCharCode("0");for(let ee=R;ee<=I;ee++)X[Zn][ee]=ee-R+2;X[Zn][u]=12,X[Zn][c]=13;const Q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ee=0;ee<Q.length;ee++)X[Qa][G.getCharCode(Q[ee])]=ee;const W=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ee=0;ee<W.length;ee++)G.getCharCode(W[ee])>0&&(X[_a][G.getCharCode(W[ee])]=ee);return X}const _l=vh(V.createInt32Array(5,256));class kA{constructor(A){this.text=A}encode(){const A=G.getCharCode(" "),c=G.getCharCode(`
`);let u=le.singletonList(ts.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let E,C=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case G.getCharCode("\r"):E=C===c?2:0;break;case G.getCharCode("."):E=C===A?3:0;break;case G.getCharCode(","):E=C===A?4:0;break;case G.getCharCode(":"):E=C===A?5:0;break;default:E=0}E>0?(u=kA.updateStateListForPair(u,w,E),w++):u=this.updateStateListForChar(u,w)}return le.min(u,(w,E)=>w.getBitCount()-E.getBitCount()).toBitArray(this.text)}updateStateListForChar(A,c){const u=[];for(let m of A)this.updateStateForChar(m,c,u);return kA.simplifyStates(u)}updateStateForChar(A,c,u){let m=this.text[c]&255,w=_l[A.getMode()][m]>0,E=null;for(let C=0;C<=_a;C++){let I=_l[C][m];if(I>0){if(E==null&&(E=A.endBinaryShift(c)),!w||C===A.getMode()||C===Zn){const R=E.latchAndAppend(C,I);u.push(R)}if(!w&&bl[A.getMode()][C]>=0){const R=E.shiftAndAppend(C,I);u.push(R)}}}if(A.getBinaryShiftByteCount()>0||_l[A.getMode()][m]===0){let C=A.addBinaryShiftChar(c);u.push(C)}}static updateStateListForPair(A,c,u){const m=[];for(let w of A)this.updateStateForPair(w,c,u,m);return this.simplifyStates(m)}static updateStateForPair(A,c,u,m){let w=A.endBinaryShift(c);if(m.push(w.latchAndAppend(_a,u)),A.getMode()!==_a&&m.push(w.shiftAndAppend(_a,u)),u===3||u===4){let E=w.latchAndAppend(Zn,16-u).latchAndAppend(Zn,1);m.push(E)}if(A.getBinaryShiftByteCount()>0){let E=A.addBinaryShiftChar(c).addBinaryShiftChar(c+1);m.push(E)}}static simplifyStates(A){let c=[];for(const u of A){let m=!0;for(const w of c){if(w.isBetterThanOrEqualTo(u)){m=!1;break}u.isBetterThanOrEqualTo(w)&&(c=c.filter(E=>E!==w))}m&&c.push(u)}return c}}class wr{constructor(){}static encodeBytes(A){return wr.encode(A,wr.DEFAULT_EC_PERCENT,wr.DEFAULT_AZTEC_LAYERS)}static encode(A,c,u){let m=new kA(A).encode(),w=j.truncDivision(m.getSize()*c,100)+11,E=m.getSize()+w,C,I,R,Q,W;if(u!==wr.DEFAULT_AZTEC_LAYERS){if(C=u<0,I=Math.abs(u),I>(C?wr.MAX_NB_BITS_COMPACT:wr.MAX_NB_BITS))throw new y(G.format("Illegal value %s for layers",u));R=wr.totalBitsInLayer(I,C),Q=wr.WORD_SIZE[I];let lt=R-R%Q;if(W=wr.stuffBits(m,Q),W.getSize()+w>lt)throw new y("Data to large for user specified layer");if(C&&W.getSize()>Q*64)throw new y("Data to large for user specified layer")}else{Q=0,W=null;for(let lt=0;;lt++){if(lt>wr.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(C=lt<=3,I=C?lt+1:lt,R=wr.totalBitsInLayer(I,C),E>R)continue;(W==null||Q!==wr.WORD_SIZE[I])&&(Q=wr.WORD_SIZE[I],W=wr.stuffBits(m,Q));let dr=R-R%Q;if(!(C&&W.getSize()>Q*64)&&W.getSize()+w<=dr)break}}let ee=wr.generateCheckWords(W,R,Q),we=W.getSize()/Q,be=wr.generateModeMessage(C,I,we),Te=(C?11:14)+I*4,De=new Int32Array(Te),Xe;if(C){Xe=Te;for(let lt=0;lt<De.length;lt++)De[lt]=lt}else{Xe=Te+1+2*j.truncDivision(j.truncDivision(Te,2)-1,15);let lt=j.truncDivision(Te,2),dr=j.truncDivision(Xe,2);for(let nr=0;nr<lt;nr++){let jn=nr+j.truncDivision(nr,15);De[lt-nr-1]=dr-jn-1,De[lt+nr]=dr+jn+1}}let xt=new Ie(Xe);for(let lt=0,dr=0;lt<I;lt++){let nr=(I-lt)*4+(C?9:12);for(let jn=0;jn<nr;jn++){let Qi=jn*2;for(let La=0;La<2;La++)ee.get(dr+Qi+La)&&xt.set(De[lt*2+La],De[lt*2+jn]),ee.get(dr+nr*2+Qi+La)&&xt.set(De[lt*2+jn],De[Te-1-lt*2-La]),ee.get(dr+nr*4+Qi+La)&&xt.set(De[Te-1-lt*2-La],De[Te-1-lt*2-jn]),ee.get(dr+nr*6+Qi+La)&&xt.set(De[Te-1-lt*2-jn],De[lt*2+La])}dr+=nr*8}if(wr.drawModeMessage(xt,C,Xe,be),C)wr.drawBullsEye(xt,j.truncDivision(Xe,2),5);else{wr.drawBullsEye(xt,j.truncDivision(Xe,2),7);for(let lt=0,dr=0;lt<j.truncDivision(Te,2)-1;lt+=15,dr+=16)for(let nr=j.truncDivision(Xe,2)&1;nr<Xe;nr+=2)xt.set(j.truncDivision(Xe,2)-dr,nr),xt.set(j.truncDivision(Xe,2)+dr,nr),xt.set(nr,j.truncDivision(Xe,2)-dr),xt.set(nr,j.truncDivision(Xe,2)+dr)}let dt=new H;return dt.setCompact(C),dt.setSize(Xe),dt.setLayers(I),dt.setCodeWords(we),dt.setMatrix(xt),dt}static drawBullsEye(A,c,u){for(let m=0;m<u;m+=2)for(let w=c-m;w<=c+m;w++)A.set(w,c-m),A.set(w,c+m),A.set(c-m,w),A.set(c+m,w);A.set(c-u,c-u),A.set(c-u+1,c-u),A.set(c-u,c-u+1),A.set(c+u,c-u),A.set(c+u,c-u+1),A.set(c+u,c+u-1)}static generateModeMessage(A,c,u){let m=new re;return A?(m.appendBits(c-1,2),m.appendBits(u-1,6),m=wr.generateCheckWords(m,28,4)):(m.appendBits(c-1,5),m.appendBits(u-1,11),m=wr.generateCheckWords(m,40,4)),m}static drawModeMessage(A,c,u,m){let w=j.truncDivision(u,2);if(c)for(let E=0;E<7;E++){let C=w-3+E;m.get(E)&&A.set(C,w-5),m.get(E+7)&&A.set(w+5,C),m.get(20-E)&&A.set(C,w+5),m.get(27-E)&&A.set(w-5,C)}else for(let E=0;E<10;E++){let C=w-5+E+j.truncDivision(E,5);m.get(E)&&A.set(C,w-7),m.get(E+10)&&A.set(w+7,C),m.get(29-E)&&A.set(C,w+7),m.get(39-E)&&A.set(w-7,C)}}static generateCheckWords(A,c,u){let m=A.getSize()/u,w=new vs(wr.getGF(u)),E=j.truncDivision(c,u),C=wr.bitsToWords(A,u,E);w.encode(C,E-m);let I=c%u,R=new re;R.appendBits(0,I);for(const Q of Array.from(C))R.appendBits(Q,u);return R}static bitsToWords(A,c,u){let m=new Int32Array(u),w,E;for(w=0,E=A.getSize()/c;w<E;w++){let C=0;for(let I=0;I<c;I++)C|=A.get(w*c+I)?1<<c-I-1:0;m[w]=C}return m}static getGF(A){switch(A){case 4:return yt.AZTEC_PARAM;case 6:return yt.AZTEC_DATA_6;case 8:return yt.AZTEC_DATA_8;case 10:return yt.AZTEC_DATA_10;case 12:return yt.AZTEC_DATA_12;default:throw new y("Unsupported word size "+A)}}static stuffBits(A,c){let u=new re,m=A.getSize(),w=(1<<c)-2;for(let E=0;E<m;E+=c){let C=0;for(let I=0;I<c;I++)(E+I>=m||A.get(E+I))&&(C|=1<<c-1-I);(C&w)===w?(u.appendBits(C&w,c),E--):(C&w)===0?(u.appendBits(C|1,c),E--):u.appendBits(C,c)}return u}static totalBitsInLayer(A,c){return((c?88:112)+16*A)*A}}wr.DEFAULT_EC_PERCENT=33,wr.DEFAULT_AZTEC_LAYERS=0,wr.MAX_NB_BITS=32,wr.MAX_NB_BITS_COMPACT=4,wr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Tl{encode(A,c,u,m){return this.encodeWithHints(A,c,u,m,null)}encodeWithHints(A,c,u,m,w){let E=U.ISO_8859_1,C=wr.DEFAULT_EC_PERCENT,I=wr.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(_n.CHARACTER_SET)&&(E=b.forName(w.get(_n.CHARACTER_SET).toString())),w.has(_n.ERROR_CORRECTION)&&(C=j.parseInt(w.get(_n.ERROR_CORRECTION).toString())),w.has(_n.AZTEC_LAYERS)&&(I=j.parseInt(w.get(_n.AZTEC_LAYERS).toString()))),Tl.encodeLayers(A,c,u,m,E,C,I)}static encodeLayers(A,c,u,m,w,E,C){if(c!==Ce.AZTEC)throw new y("Can only encode AZTEC, but got "+c);let I=wr.encode(G.getBytes(A,w),E,C);return Tl.renderResult(I,u,m)}static renderResult(A,c,u){let m=A.getMatrix();if(m==null)throw new et;let w=m.getWidth(),E=m.getHeight(),C=Math.max(c,w),I=Math.max(u,E),R=Math.min(C/w,I/E),Q=(C-w*R)/2,W=(I-E*R)/2,ee=new Ie(C,I);for(let we=0,be=W;we<E;we++,be+=R)for(let Te=0,De=Q;Te<w;Te++,De+=R)m.get(Te,we)&&ee.setRegion(De,be,R,R);return ee}}r.AbstractExpandedDecoder=ce,r.ArgumentException=p,r.ArithmeticException=fe,r.AztecCode=H,r.AztecCodeReader=qt,r.AztecCodeWriter=Tl,r.AztecDecoder=Ct,r.AztecDetector=Tt,r.AztecDetectorResult=Wn,r.AztecEncoder=wr,r.AztecHighLevelEncoder=kA,r.AztecPoint=Nt,r.BarcodeFormat=Ce,r.Binarizer=S,r.BinaryBitmap=B,r.BitArray=re,r.BitMatrix=Ie,r.BitSource=$a,r.BrowserAztecCodeReader=Qr,r.BrowserBarcodeReader=Hs,r.BrowserCodeReader=pe,r.BrowserDatamatrixCodeReader=go,r.BrowserMultiFormatReader=Bl,r.BrowserPDF417Reader=_c,r.BrowserQRCodeReader=Cl,r.BrowserQRCodeSvgWriter=Mi,r.CharacterSetECI=k,r.ChecksumException=T,r.Code128Reader=At,r.Code39Reader=Le,r.DataMatrixDecodedBitStreamParser=Ji,r.DataMatrixReader=Ii,r.DecodeHintType=z,r.DecoderResult=ae,r.DefaultGridSampler=Vr,r.DetectorResult=Ca,r.EAN13Reader=gr,r.EncodeHintType=_n,r.Exception=h,r.FormatException=O,r.GenericGF=yt,r.GenericGFPoly=Re,r.GlobalHistogramBinarizer=ie,r.GridSampler=Cn,r.GridSamplerInstance=Ze,r.HTMLCanvasElementLuminanceSource=$e,r.HybridBinarizer=ue,r.ITFReader=nt,r.IllegalArgumentException=y,r.IllegalStateException=et,r.InvertedLuminanceSource=Ee,r.LuminanceSource=Ve,r.MathUtils=kt,r.MultiFormatOneDReader=Dn,r.MultiFormatReader=lA,r.MultiFormatWriter=Sc,r.NotFoundException=xe,r.OneDReader=Mt,r.PDF417DecodedBitStreamParser=Ke,r.PDF417DecoderErrorCorrection=ti,r.PDF417Reader=qn,r.PDF417ResultMetadata=Vs,r.PerspectiveTransform=Jt,r.PlanarYUVLuminanceSource=xi,r.QRCodeByteMatrix=DA,r.QRCodeDataMask=Yn,r.QRCodeDecodedBitStreamParser=Yr,r.QRCodeDecoderErrorCorrectionLevel=Yt,r.QRCodeDecoderFormatInformation=wn,r.QRCodeEncoder=zr,r.QRCodeEncoderQRCode=Ma,r.QRCodeMaskUtil=on,r.QRCodeMatrixUtil=Pt,r.QRCodeMode=Lt,r.QRCodeReader=$i,r.QRCodeVersion=mt,r.QRCodeWriter=Pn,r.RGBLuminanceSource=ys,r.RSS14Reader=Ht,r.RSSExpandedReader=Je,r.ReaderException=NA,r.ReedSolomonDecoder=gt,r.ReedSolomonEncoder=vs,r.ReedSolomonException=_t,r.Result=se,r.ResultMetadataType=ye,r.ResultPoint=vt,r.StringUtils=G,r.UnsupportedOperationException=Z,r.VideoInputDevice=Ae,r.WhiteRectangleDetector=tr,r.WriterException=kr,r.ZXingArrays=V,r.ZXingCharset=b,r.ZXingInteger=j,r.ZXingStandardCharsets=U,r.ZXingStringBuilder=K,r.ZXingStringEncoding=Y,r.ZXingSystem=F,r.createAbstractExpandedDecoder=ht,Object.defineProperty(r,"__esModule",{value:!0})}))})(sf,sf.exports)),sf.exports}var En=BV();const CV=Kg(En),bV=TN({__proto__:null,default:CV},[En]);var w4=(function(){function t(e,r,n){if(this.formatMap=new Map([[Ft.QR_CODE,En.BarcodeFormat.QR_CODE],[Ft.AZTEC,En.BarcodeFormat.AZTEC],[Ft.CODABAR,En.BarcodeFormat.CODABAR],[Ft.CODE_39,En.BarcodeFormat.CODE_39],[Ft.CODE_93,En.BarcodeFormat.CODE_93],[Ft.CODE_128,En.BarcodeFormat.CODE_128],[Ft.DATA_MATRIX,En.BarcodeFormat.DATA_MATRIX],[Ft.MAXICODE,En.BarcodeFormat.MAXICODE],[Ft.ITF,En.BarcodeFormat.ITF],[Ft.EAN_13,En.BarcodeFormat.EAN_13],[Ft.EAN_8,En.BarcodeFormat.EAN_8],[Ft.PDF_417,En.BarcodeFormat.PDF_417],[Ft.RSS_14,En.BarcodeFormat.RSS_14],[Ft.RSS_EXPANDED,En.BarcodeFormat.RSS_EXPANDED],[Ft.UPC_A,En.BarcodeFormat.UPC_A],[Ft.UPC_E,En.BarcodeFormat.UPC_E],[Ft.UPC_EAN_EXTENSION,En.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!bV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(e),s=new Map;s.set(En.DecodeHintType.POSSIBLE_FORMATS,a),s.set(En.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,a){try{n(r.decode(e))}catch(s){a(s)}})},t.prototype.decode=function(e){var r=new En.MultiFormatReader(this.verbose,this.hints),n=new En.HTMLCanvasElementLuminanceSource(e),a=new En.BinaryBitmap(new En.HybridBinarizer(n)),s=r.decode(a);return{text:s.text,format:DI.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,a){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,a=e;n<a.length;n++){var s=a[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),_V=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,e||[])).next())})},TV=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},v4=(function(){function t(e,r,n){if(this.formatMap=new Map([[Ft.QR_CODE,"qr_code"],[Ft.AZTEC,"aztec"],[Ft.CODABAR,"codabar"],[Ft.CODE_39,"code_39"],[Ft.CODE_93,"code_93"],[Ft.CODE_128,"code_128"],[Ft.DATA_MATRIX,"data_matrix"],[Ft.ITF,"itf"],[Ft.EAN_13,"ean_13"],[Ft.EAN_8,"ean_8"],[Ft.PDF_417,"pdf417"],[Ft.UPC_A,"upc_a"],[Ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return _V(this,void 0,void 0,function(){var r,n;return TV(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:DI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,a=0,s=e;a<s.length;a++){var l=s[a],f=l.boundingBox.width*l.boundingBox.height;f>n&&(n=f,r=l)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,a=e;n<a.length;n++){var s=a[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,a){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),y4=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,e||[])).next())})},E4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},SV=(function(){function t(e,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&v4.isSupported()?(this.primaryDecoder=new v4(e,n,a),this.secondaryDecoder=new w4(e,n,a)):this.primaryDecoder=new w4(e,n,a)}return t.prototype.decodeAsync=function(e){return y4(this,void 0,void 0,function(){var r;return E4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return y4(this,void 0,void 0,function(){var r,n;return E4(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];e+=a}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),ov=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Sg=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,e||[])).next())})},Ig=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kI=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),IV=(function(t){ov(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(kI),FV=(function(t){ov(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(IV),NV=(function(t){ov(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(kI),RV=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new FV(this.track)},t.prototype.torchFeature=function(){return new NV(this.track)},t})(),DV=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,a),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,a){return Sg(this,void 0,void 0,function(){var s,l;return Ig(this,function(f){switch(f.label){case 0:return s=new t(e,r,a),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Sg(this,void 0,void 0,function(){return Ig(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var a=e.mediaStream.getVideoTracks(),s=a.length,l=0;e.mediaStream.getVideoTracks().forEach(function(f){e.mediaStream.removeTrack(f),f.stop(),++l,l>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new RV(this.getFirstTrackOrFail())},t})(),OV=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Sg(this,void 0,void 0,function(){return Ig(this,function(a){return[2,DV.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Sg(this,void 0,void 0,function(){var r,n;return Ig(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new t(n)]}})})},t})(),B4=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,e||[])).next())})},C4=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kV=(function(){function t(){}return t.failIfNotSupported=function(){return B4(this,void 0,void 0,function(){return C4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return B4(this,void 0,void 0,function(){return C4(this,function(r){return[2,OV.create(e)]})})},t})(),UV=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function f(p){try{h(n.next(p))}catch(y){l(y)}}function g(p){try{h(n.throw(p))}catch(y){l(y)}}function h(p){p.done?s(p.value):a(p.value).then(f,g)}h((n=n.apply(t,e||[])).next())})},MV=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(p){return g([h,p])}}function g(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){r.label=h[1];break}if(h[0]===6&&r.label<s[1]){r.label=s[1],s=h;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(h);break}s[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},QV=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=v0.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=v0.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return UV(this,void 0,void 0,function(){var e,r,n,a,s,l,f;return MV(this,function(g){switch(g.label){case 0:return e=function(h){for(var p=h.getVideoTracks(),y=0,B=p;y<B.length;y++){var T=B[y];T.enabled=!1,T.stop(),h.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),a=[],s=0,l=n;s<l.length;s++)f=l[s],f.kind==="videoinput"&&a.push({id:f.deviceId,label:f.label});return e(r),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var l=[],f=0,g=s;f<g.length;f++){var h=g[f];h.kind==="video"&&l.push({id:h.id,label:h.label})}e(l)},a=MediaStreamTrack;a.getSources(n)})},t})(),Kn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Kn||(Kn={}));var LV=(function(){function t(){this.state=Kn.NOT_STARTED,this.onGoingTransactionNewState=Kn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Kn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Kn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Kn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Kn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Kn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Kn.UNKNOWN:throw"Transition from unknown is not allowed";case Kn.NOT_STARTED:this.failIfNewStateIs(e,[Kn.PAUSED]);break;case Kn.SCANNING:break;case Kn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,a=r;n<a.length;n++){var s=a[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),PV=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Kn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Kn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Kn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Kn.PAUSED},t})(),jV=(function(){function t(){}return t.create=function(){return new PV(new LV)},t})(),HV=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),us=(function(t){HV(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(wV),VV=(function(){function t(e,r){this.logger=r,this.fps=us.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=us.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?OI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!ro(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),UI=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new yV(this.verbose),this.qrcode=new SV(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jV.create()}return t.prototype.start=function(e,r,n,a){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;a?l=a:l=this.verbose?this.logger.log:function(){};var f=VV.create(r,this.logger);this.clearElement();var g=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=g,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:us.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var y=this,B=this.stateManagerProxy.startTransition(Kn.SCANNING);return new Promise(function(T,S){var F=h?f.videoConstraints:y.createVideoConstraints(e);if(!F){B.cancel(),S("videoConstraints should be defined");return}var D={};(!h||f.aspectRatio)&&(D.aspectRatio=f.aspectRatio);var P={onRenderSurfaceReady:function(V,j){y.setupUi(V,j,f),y.isScanning=!0,y.foreverScan(f,n,l)}};kV.failIfNotSupported().then(function(V){V.create(F).then(function(j){return j.render(s.element,D,P).then(function(re){y.renderedCamera=re,B.execute(),T(null)}).catch(function(re){B.cancel(),S(re)})}).catch(function(j){B.cancel(),S(v0.errorGettingUserMedia(j))})}).catch(function(V){B.cancel(),S(v0.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Kn.PAUSED),this.showPausedState(),(ro(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Kn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Kn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(us.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ro(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var f=l.width,g=l.height,h=document.getElementById(n.elementId),p=h.clientWidth?h.clientWidth:us.DEFAULT_WIDTH,y=Math.max(h.clientHeight?h.clientHeight:g,us.FILE_SCAN_MIN_HEIGHT),B=n.computeCanvasDrawConfig(f,g,p,y);if(r){var T=n.createCanvasElement(p,y,"qr-canvas-visible");T.style.display="inline-block",h.appendChild(T);var S=T.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=p,S.canvas.height=y,S.drawImage(l,0,0,f,g,B.x,B.y,B.width,B.height)}var F=us.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(l.width,B.width),P=Math.max(l.height,B.height),V=D+2*F,j=P+2*F,re=n.createCanvasElement(V,j);h.appendChild(re);var ge=re.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=V,ge.canvas.height=j,ge.drawImage(l,0,0,f,g,F,F,D,P);try{n.qrcode.decodeRobustlyAsync(re).then(function(z){a(p4.createFromQrcodeResult(z))}).catch(s)}catch(z){s("QR code parse error, error = ".concat(z))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return QV.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!OI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Ft.QR_CODE,Ft.AZTEC,Ft.CODABAR,Ft.CODE_39,Ft.CODE_93,Ft.CODE_128,Ft.DATA_MATRIX,Ft.MAXICODE,Ft.ITF,Ft.EAN_13,Ft.EAN_8,Ft.PDF_417,Ft.RSS_14,Ft.RSS_EXPANDED,Ft.UPC_A,Ft.UPC_E,Ft.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,s=e.formatsToSupport;a<s.length;a++){var l=s[a];mV(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ro(e))return!0;if(!ro(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ro(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return ro(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var a=this,s=n.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(e,r,s),f=function(h){if(h<us.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(us.MIN_QR_BOX_SIZE,"px.")},g=function(h){return h>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};f(l.width),f(l.height),l.width=g(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var a=ro(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(e,r,a);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:e,height:r},g=l?this.getShadedRegionBounds(e,r,s):f,h=this.createCanvasElement(g.width,g.height),p={willReadFrequently:!0},y=h.getContext("2d",p);y.canvas.width=g.width,y.canvas.height=g.height,this.element.append(h),l&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=y,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=v0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,p4.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var s=v0.codeParseError(a);return r(s,vV.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,h=this.qrRegion.height*f,p=this.qrRegion.x*l,y=this.qrRegion.y*f;this.context.drawImage(s,p,y,g,h,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,r,n)},a.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(T){!T&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){B()})):B()}).catch(function(T){a.logger.logError("Error happend while scanning context",T),B()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},s="exact",l=function(S){if(S in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},f=Object.keys(e);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var g=Object.keys(e)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var h=e.facingMode;if(typeof h=="string"){if(l(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(l(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var p=typeof h;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var y=e.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(s in y)return{deviceId:{exact:y["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var B=typeof y;throw"Invalid type of 'deviceId' = ".concat(B)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,r,n,a){if(e<=n&&r<=a){var s=(n-e)/2,l=(a-r)/2;return{x:s,y:l,width:e,height:r}}else{var f=e,g=r;return e>n&&(r=n/e*r,e=n),r>a&&(e=a/r*e,r=a),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(g)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?us.BORDER_SHADER_MATCH_COLOR:us.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var a=e,s=r,l=document.createElement("canvas");return l.style.width="".concat(a,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=ro(n)?"qr-canvas":n,l},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,a){if(!(r-a.width<1||n-a.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(r-a.width)/2,f=(n-a.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(us.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var g=5,h=40;this.insertShaderBorders(s,h,g,-g,null,0,!0),this.insertShaderBorders(s,h,g,-g,null,0,!1),this.insertShaderBorders(s,h,g,null,-g,0,!0),this.insertShaderBorders(s,h,g,null,-g,0,!1),this.insertShaderBorders(s,g,h+g,-g,null,-g,!0),this.insertShaderBorders(s,g,h+g,null,-g,-g,!0),this.insertShaderBorders(s,g,h+g,-g,null,-g,!1),this.insertShaderBorders(s,g,h+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,a,s,l,f){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=us.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),a!==null&&(g.style.top="".concat(a,"px")),s!==null&&(g.style.bottom="".concat(s,"px")),f?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),b4;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(b4||(b4={}));const GV=({currentUser:t,products:e,onAddProduct:r,onUpdateProduct:n,onLogout:a,onNavigateToHome:s,onNavigateToCreateInvoice:l,onNavigateToCustomers:f,onNavigateToSettings:g,isSelectionMode:h=!1,onSelectProduct:p,selectedItems:y=[],settings:B})=>{const[T,S]=Ne.useState(""),[F,D]=Ne.useState(!1),[P,V]=Ne.useState(!1),[j,re]=Ne.useState(!1),[ge,z]=Ne.useState(!1),[O,M]=Ne.useState(null),k=Ne.useRef(null),Z=Ne.useRef(null),[Y,G]=Ne.useState(null),[K,Ie]=Ne.useState(null),[xe,ie]=Ne.useState(null),[ue,Ve]=Ne.useState(1),Ee=Ne.useRef(null),$e=Ne.useRef(!1),Ae=Ne.useRef(null),q=Ne.useRef(null),pe=Ne.useRef(null),[se,me]=Ne.useState({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",image:""}),Ce=async()=>{try{return(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(Nt=>Nt.stop()),!0}catch(Ze){return console.error("Camera permission denied",Ze),!1}};Ne.useEffect(()=>{let Ze=null,Nt=!0;return F&&(async()=>{if(F&&(await new Promise(qt=>setTimeout(qt,400)),!(!Nt||!document.getElementById("reader"))))try{if(!await Ce()){alert("        ."),D(!1);return}Ze=new UI("reader"),q.current=Ze;const Qr={fps:10,qrbox:{width:250,height:250}};await Ze.start({facingMode:"environment"},Qr,Mt=>{if(!Nt)return;S(Mt),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(Le=>{}),D(!1)},Mt=>{})}catch(qt){console.error("Error starting scanner",qt),Nt&&(alert("  .       (HTTPS)    ."),D(!1))}})(),()=>{Nt=!1,Ze&&Ze.isScanning&&Ze.stop().catch(console.error)}},[F]),Ne.useEffect(()=>{if(O&&Z.current){k.current&&k.current.destroy();const Ze=new Cropper(Z.current,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});k.current=Ze}return()=>{k.current&&(k.current.destroy(),k.current=null)}},[O]),Ne.useEffect(()=>{K&&pe.current&&setTimeout(()=>{try{typeof JsBarcode<"u"&&JsBarcode(pe.current,K.code,{format:"CODE128",lineColor:"#000000",width:2,height:50,displayValue:!0,fontSize:14,fontOptions:"bold",background:"#ffffff",margin:0})}catch(Ze){console.error("Error generating barcode:",Ze)}},50)},[K]);const ze={name:[" "," ","","name","product","designation","label","article"],price:[" ","",""," ","price","selling price","prix","pv","prix vente"],wholesalePrice:[" ",""," ","wholesale","prix gros","prix de gros"],purchasePrice:[" ",""," ","purchase","prix achat","pa","prix d achat"],stock:["","","","","stock","qty","quantite","qte","quantity"],category:["","","","category","type","categorie"],code:["","","","code","barcode","ean","ref","reference"," "]},ye=(Ze,Nt)=>{const Tt=Object.keys(Ze);for(const qt of Nt){const Qr=Tt.find(Mt=>Mt.trim().toLowerCase()===qt.trim().toLowerCase());if(Qr!==void 0)return Ze[Qr]}},ae=Ze=>{var Qr;const Nt=(Qr=Ze.target.files)==null?void 0:Qr[0];if(!Nt)return;const Tt=Nt.name.toLowerCase();if(!Tt.endsWith(".xlsx")&&!Tt.endsWith(".xls")&&!Tt.endsWith(".csv")){alert("    .    Excel (.xlsx)  CSV.");return}z(!0);const qt=new FileReader;qt.onload=async Mt=>{var At;try{const Le=(At=Mt.target)==null?void 0:At.result,nt=z2(Le,{type:"array"}),Et=nt.SheetNames[0],Rt=nt.Sheets[Et],Bt=pV.sheet_to_json(Rt,{defval:""});if(Bt.length===0)throw new Error("  .");let jt=0,Xt=0,gr=0;for(const Gr of Bt){const Rn=ye(Gr,ze.name),un=ye(Gr,ze.price),Ti=ye(Gr,ze.wholesalePrice),fn=ye(Gr,ze.purchasePrice),aa=ye(Gr,ze.stock),Da=ye(Gr,ze.category)||"",Ir=ye(Gr,ze.code),Si=he=>{if(he==null||he==="")return 0;if(typeof he=="number")return he;const ve=he.toString().replace(/[^\d.,]/g,"").replace(",",".");return parseFloat(ve)||0},mn=Rn==null?void 0:Rn.toString().trim(),Oa=Si(un),bn=Si(Ti),ka=Si(fn),J=Math.floor(Si(aa)),ne=(Ir==null?void 0:Ir.toString().trim())||`ID-${Math.floor(Math.random()*9e4)+1e4}`;if(!mn||mn===""||Oa<=0){Xt++;continue}if(e.some(he=>he.name.trim().toLowerCase()===mn.toLowerCase())){gr++;continue}const ce={id:`prd-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,name:mn,code:ne,price:Oa,wholesalePrice:bn,purchasePrice:ka,stock:J,category:Da.toString().trim()};await r(ce),jt++}alert(`   :
---------------------------------
  : ${jt}
   : ${Xt}
  : ${gr}

    .`)}catch(Le){console.error("Excel Import Logic Error:",Le),alert("   .       (  ).")}finally{z(!1),Ae.current&&(Ae.current.value="")}},qt.readAsArrayBuffer(Nt)},_e=Ze=>{var Tt;const Nt=(Tt=Ze.target.files)==null?void 0:Tt[0];if(Nt){const qt=new FileReader;qt.onloadend=()=>{M(qt.result)},qt.readAsDataURL(Nt)}Ze.target.value=""},Re=()=>{if(k.current){const Nt=k.current.getCroppedCanvas({width:600,height:600}).toDataURL("image/jpeg",.8);me(Tt=>({...Tt,image:Nt})),M(null)}},fe=()=>{M(null)},yt=Ze=>Ze===0?{label:" ",colorClass:"text-red-500 bg-red-500/10 border-red-500/30",dotColor:"bg-red-500"}:Ze<B.stockThreshold?{label:"  ",colorClass:"text-orange-500 bg-orange-500/10 border-orange-500/30",dotColor:"bg-orange-500"}:{label:"",colorClass:"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/30",dotColor:"bg-[#57b385]"},_t=Ne.useMemo(()=>e.filter(Ze=>Ze.name.toLowerCase().includes(T.toLowerCase())||Ze.code.toLowerCase().includes(T.toLowerCase())),[T,e]),et=Ze=>{var Nt;return((Nt=y.find(Tt=>Tt.id===Ze))==null?void 0:Nt.count)||0},gt=Ze=>{$e.current=!1,Ee.current=setTimeout(()=>{$e.current=!0,G(Ze),Ve(1),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50)},500)},rt=()=>{Ee.current&&(clearTimeout(Ee.current),Ee.current=null)},Ct=()=>{Ee.current&&(clearTimeout(Ee.current),Ee.current=null)},kt=Ze=>{$e.current||(h&&p?(p({id:Ze.id,name:Ze.name,price:Ze.price},1),typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(20)):Ie(Ze))},mr=()=>{Y&&p&&(p({id:Y.id,name:Y.name,price:Y.price},ue),G(null))},vt=()=>{t.permissions.editProducts&&(me({name:"",code:"",price:"",wholesalePrice:"",purchasePrice:"",stock:"",category:"",image:void 0}),V(!0))},Ca=Ze=>{t.permissions.editProducts&&(me({name:Ze.name,code:Ze.code,price:Ze.price.toString(),wholesalePrice:Ze.wholesalePrice.toString(),purchasePrice:Ze.purchasePrice.toString(),stock:Ze.stock.toString(),category:Ze.category,image:Ze.image}),ie(Ze.id),Ie(null),re(!0))},Wn=()=>{if(!se.name||!se.price)return;const Ze={id:Date.now().toString(),name:se.name,code:se.code||`PRD-${Math.floor(Math.random()*1e4)}`,price:parseFloat(se.price),wholesalePrice:parseFloat(se.wholesalePrice||"0"),purchasePrice:parseFloat(se.purchasePrice||"0"),stock:parseInt(se.stock||"0"),category:se.category,image:se.image};r(Ze),V(!1)},tr=Ze=>{const Nt={id:Ze,name:se.name,code:se.code,price:parseFloat(se.price),wholesalePrice:parseFloat(se.wholesalePrice||"0"),purchasePrice:parseFloat(se.purchasePrice||"0"),stock:parseInt(se.stock||"0"),category:se.category,image:se.image};n(Nt),re(!1),ie(null)},Cn=()=>{D(!0)},Jt=()=>{D(!1)},Vr=Ze=>{const Nt=window.open("","_blank","width=400,height=400");if(!Nt){alert("     ");return}const Tt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Barcode - ${Ze.name}</title>
        <style>
          body { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            background: white;
            font-family: sans-serif;
          }
          .container { 
            text-align: center; 
            border: 1px dashed #ccc;
            padding: 10px;
            border-radius: 8px;
          }
          h3 { margin: 5px 0 10px 0; font-size: 12px; max-width: 200px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        </style>
        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
      </head>
      <body>
        <div class="container">
          <h3>${Ze.name}</h3>
          <svg id="barcode"></svg>
        </div>
        <script>
          try {
            JsBarcode("#barcode", "${Ze.code}", {
              format: "CODE128",
              width: 2,
              height: 50,
              displayValue: true,
              fontSize: 16,
              margin: 0
            });
            window.onload = function() {
              setTimeout(function() {
                window.print();
                window.close();
              }, 500);
            };
          } catch(e) {
            document.body.innerHTML = "Error generating barcode";
          }
        <\/script>
      </body>
      </html>
    `;Nt.document.write(Tt),Nt.document.close()};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsx("input",{type:"file",ref:Ae,onChange:ae,accept:".xlsx, .xls, .csv",className:"hidden"}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:h?" ":""}),h&&x.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[h&&x.jsxs("button",{onClick:l,className:"bg-[#57b385] px-4 py-2 rounded-xl text-xs font-black text-white shadow-lg active:scale-95 transition-all flex items-center gap-2",children:[x.jsx("span",{children:" "}),x.jsx("div",{className:"bg-white/20 px-2 py-0.5 rounded-md",children:y.reduce((Ze,Nt)=>Ze+Nt.count,0)})]}),!h&&x.jsxs("div",{className:"flex items-center gap-2",children:[t.permissions.editProducts&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>{var Ze;return(Ze=Ae.current)==null?void 0:Ze.click()},disabled:ge,className:`p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] hover:bg-[#57b385] hover:text-white transition-all active:scale-90 ${ge?"animate-pulse":""}`,title:"  ",children:ge?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14.5 2 14.5 8 20 8"}),x.jsx("path",{d:"M8 13h2"}),x.jsx("path",{d:"M8 17h2"}),x.jsx("path",{d:"M14 13h2"}),x.jsx("path",{d:"M14 17h2"})]})}),x.jsx("button",{onClick:vt,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-[#57b385] hover:bg-[#57b385] hover:text-white transition-all active:scale-90",title:"  ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),x.jsx("button",{onClick:Cn,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-[#57b385] transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),x.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),x.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),x.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})]})]}),x.jsx("div",{className:"px-6 py-4 md:pt-6",children:x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-14 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:T,onChange:Ze=>S(Ze.target.value)}),x.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})}),x.jsx("button",{onClick:Cn,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 text-gray-500 hover:text-[#57b385] transition-colors active:scale-90 hover:bg-white/5 rounded-xl",title:" ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),x.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),x.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),x.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})})]})}),x.jsx("div",{className:"flex-1 px-4 md:px-6 overflow-y-auto space-y-4 md:space-y-0 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 pb-32 custom-scrollbar",children:_t.length>0?_t.map(Ze=>{const Nt=yt(Ze.stock),Tt=et(Ze.id);return x.jsxs("div",{onClick:()=>kt(Ze),onTouchStart:()=>gt(Ze),onTouchEnd:rt,onTouchMove:Ct,onMouseDown:()=>gt(Ze),onMouseUp:rt,onMouseLeave:rt,onContextMenu:qt=>qt.preventDefault(),className:`bg-[#111111] rounded-[2.5rem] border ${Tt>0?"border-[#57b385]":"border-gray-800/40"} p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.97] select-none cursor-pointer h-full hover:border-gray-600`,children:[Tt>0&&x.jsxs("div",{className:"absolute top-0 right-0 bg-[#57b385] text-white text-[12px] font-black px-4 py-1.5 rounded-bl-3xl shadow-lg animate-in zoom-in duration-300",children:[": ",Tt]}),x.jsx("div",{className:`absolute top-0 left-0 px-4 py-1.5 rounded-br-2xl text-[10px] font-bold border-r border-b ${Nt.colorClass}`,children:Nt.label}),x.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[x.jsxs("div",{className:"w-16 h-16 min-w-[64px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-[#57b385] shadow-inner relative overflow-hidden",children:[Ze.image?x.jsx("img",{src:Ze.image,alt:Ze.name,className:"w-full h-full object-cover"}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),x.jsx("span",{className:`absolute top-1 right-1 w-2.5 h-2.5 rounded-full border border-black ${Nt.dotColor}`})]}),x.jsxs("div",{className:"flex-1 text-right",children:[x.jsx("h4",{className:"text-xl font-bold text-white mb-1 leading-tight line-clamp-1",children:Ze.name}),x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-mono",children:Ze.code}),x.jsx("span",{className:"text-[10px] bg-[#1a1a1a] px-2 py-0.5 rounded-md text-[#57b385] font-bold border border-[#57b385]/20",children:Ze.category})]})]})]}),x.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-2xl p-3 border border-gray-800/50 mt-auto",children:[x.jsxs("div",{className:"flex flex-col items-start",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold mb-0.5",children:" "}),x.jsxs("div",{className:"text-lg font-black text-white leading-none",children:[Ze.price.toFixed(2)," ."]})]}),x.jsxs("div",{className:"flex flex-col items-end",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold mb-0.5",children:""}),x.jsxs("div",{className:`text-sm font-black ${Ze.stock>0?"text-gray-200":"text-red-500"}`,children:[Ze.stock," "]})]})]})]},Ze.id)}):x.jsxs("div",{className:"text-center py-20 flex flex-col items-center gap-4 text-gray-600 opacity-30 col-span-full",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),x.jsx("p",{className:"font-bold",children:"    "})]})}),O&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[x.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:x.jsx("img",{ref:Z,src:O,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),x.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 justify-center",children:[x.jsx("button",{onClick:Re,className:"flex-1 max-w-xs bg-[#57b385] text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:"  "}),x.jsx("button",{onClick:fe,className:"flex-1 max-w-xs bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),(P||j)&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm md:max-w-2xl bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-4 animate-in slide-in-from-bottom duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("button",{onClick:()=>{V(!1),re(!1)},className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-xl font-black",children:P?"  ":"  "})]}),x.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-8",children:[x.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 bg-[#1a1a1a] rounded-[2.5rem] border-2 border-dashed border-gray-800 flex items-center justify-center overflow-hidden",children:se.image?x.jsx("img",{src:se.image,alt:"Preview",className:"w-full h-full object-cover"}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"1.5",children:[x.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),x.jsx("circle",{cx:"9",cy:"9",r:"2"}),x.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),x.jsxs("label",{className:"absolute -bottom-2 -right-2 w-11 h-11 bg-[#57b385] rounded-2xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all border-4 border-[#161616]",children:[x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:_e}),x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[x.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),x.jsx("circle",{cx:"12",cy:"13",r:"4"})]})]}),se.image&&x.jsx("button",{onClick:()=>me(Ze=>({...Ze,image:void 0})),className:"absolute -top-2 -left-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center shadow-lg active:scale-90 border-2 border-[#161616]",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})})]}),x.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:" "})]}),x.jsxs("div",{className:"space-y-3 md:space-y-2",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:" "}),x.jsx("input",{type:"text",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold md:text-sm",value:se.name,onChange:Ze=>me({...se,name:Ze.target.value}),autoFocus:!0})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[9px] text-gray-500 font-bold block text-center uppercase",children:" "}),x.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-1 text-white focus:border-[#57b385] outline-none transition-all text-center font-black text-sm",value:se.price,onChange:Ze=>me({...se,price:Ze.target.value})})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[9px] text-gray-500 font-bold block text-center uppercase",children:" "}),x.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-1 text-white focus:border-orange-500 outline-none transition-all text-center font-black text-sm",value:se.wholesalePrice,onChange:Ze=>me({...se,wholesalePrice:Ze.target.value})})]}),t.permissions.viewPurchasePrice&&x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[9px] text-gray-500 font-bold block text-center uppercase",children:" "}),x.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-1 text-white focus:border-red-500 outline-none transition-all text-center font-black text-sm",value:se.purchasePrice,onChange:Ze=>me({...se,purchasePrice:Ze.target.value})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:" "}),x.jsx("input",{type:"text",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white focus:border-[#57b385] outline-none transition-all text-center font-mono font-bold md:text-sm",value:se.code,onChange:Ze=>me({...se,code:Ze.target.value})})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:" "}),x.jsx("input",{type:"number",className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white focus:border-[#57b385] outline-none transition-all text-center font-black md:text-sm",value:se.stock,onChange:Ze=>me({...se,stock:Ze.target.value})})]})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:" (Category)"}),x.jsxs("select",{className:"w-full bg-black/60 border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold appearance-none md:text-sm",value:se.category,onChange:Ze=>me({...se,category:Ze.target.value}),children:[x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"",children:""}),x.jsx("option",{value:"",children:""})]})]})]})]}),x.jsx("button",{onClick:()=>{P?Wn():xe&&tr(xe)},className:"w-full bg-[#57b385] py-5 md:py-3.5 rounded-2xl text-white font-black text-lg shadow-xl shadow-green-900/10 active:scale-95 transition-all mt-4",children:P?"  ":" "})]})}),K&&x.jsx("div",{className:"fixed inset-0 z-[400] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm md:max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-8 animate-in slide-in-from-bottom duration-300 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#57b385]/5 rounded-bl-full -mr-10 -mt-10"}),x.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[t.permissions.editProducts&&x.jsxs("button",{onClick:()=>Ca(K),className:"p-3 bg-orange-500/10 rounded-2xl border border-orange-500/20 text-orange-500 hover:bg-orange-500 hover:text-white transition-all active:scale-90 flex items-center gap-2",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 20h9"}),x.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),x.jsx("span",{className:"text-xs font-bold",children:""})]}),x.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-[2rem] border border-[#57b385]/30 flex items-center justify-center text-[#57b385] overflow-hidden shadow-2xl",children:K.image?x.jsx("img",{src:K.image,alt:K.name,className:"w-full h-full object-cover"}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]})})]}),x.jsxs("div",{className:"text-center space-y-2 relative z-10",children:[x.jsx("h3",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest mb-1",children:" "}),x.jsx("p",{className:"text-2xl font-black text-white leading-tight",children:K.name}),x.jsx("div",{className:"mt-2 inline-block bg-[#57b385]/10 px-3 py-1 rounded-full border border-[#57b385]/20 text-[#57b385] text-[10px] font-bold",children:K.category})]}),x.jsxs("div",{className:"space-y-4 relative z-10",children:[x.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[x.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsx("div",{className:"text-sm font-black text-[#57b385]",children:K.price.toFixed(2)})]}),x.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsx("div",{className:"text-sm font-black text-orange-400",children:K.wholesalePrice.toFixed(2)})]}),t.permissions.viewPurchasePrice&&x.jsxs("div",{className:"bg-black/40 rounded-3xl p-3 border border-gray-800 text-center",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsx("div",{className:"text-sm font-black text-red-400",children:K.purchasePrice.toFixed(2)})]})]}),x.jsxs("div",{className:"bg-black/40 rounded-3xl p-5 border border-gray-800 space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-gray-400 font-bold text-sm",children:K.code}),x.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:"  (Barcode)"})]}),x.jsx("div",{className:"h-px bg-gray-800 w-full"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("span",{className:`text-sm font-black ${K.stock>0?"text-white":"text-red-500"}`,children:[K.stock," "]}),x.jsx("span",{className:"text-[10px] text-gray-600 font-bold",children:" "})]})]}),x.jsxs("div",{className:"bg-white rounded-3xl p-3 flex flex-col items-center justify-center relative overflow-hidden group",children:[x.jsx("div",{className:"w-full flex items-center justify-center",children:x.jsx("svg",{ref:pe,className:"w-full h-auto max-h-20"})}),x.jsx("button",{onClick:()=>Vr(K),className:"absolute top-2 right-2 p-2 bg-black/10 hover:bg-black/20 text-black rounded-full transition-colors",title:" ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})})]})]}),x.jsx("button",{onClick:()=>Ie(null),className:"w-full bg-[#1a1a1a] border border-gray-800 text-gray-400 py-4 rounded-2xl font-black text-lg active:scale-95 transition-all",children:" "})]})}),Y&&x.jsx("div",{className:"fixed inset-0 z-[300] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-8 animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("h3",{className:"text-gray-400 text-sm font-bold",children:"  "}),x.jsx("p",{className:"text-xl font-black text-white leading-tight",children:Y.name})]}),x.jsxs("div",{className:"flex flex-col items-center gap-6",children:[x.jsxs("div",{className:"flex items-center justify-between w-full bg-black/40 rounded-3xl p-4 border border-gray-800",children:[x.jsx("button",{onClick:()=>Ve(Ze=>Math.max(1,Ze+1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white active:scale-90 transition-all shadow-lg",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("input",{type:"number",className:"w-20 bg-transparent text-center text-4xl font-black text-[#57b385] outline-none",value:ue,onChange:Ze=>Ve(parseInt(Ze.target.value)||1)}),x.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:""})]}),x.jsx("button",{onClick:()=>Ve(Ze=>Math.max(1,Ze-1)),className:"w-14 h-14 bg-gray-800 rounded-2xl flex items-center justify-center text-white active:scale-90 transition-all shadow-lg",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),x.jsxs("div",{className:"w-full text-center py-2",children:[x.jsx("p",{className:"text-xs text-gray-500 font-bold",children:"   "}),x.jsxs("p",{className:"text-2xl font-black text-white",children:[(Y.price*ue).toFixed(2)," ."]})]})]}),x.jsxs("div",{className:"flex gap-4 pt-2",children:[x.jsx("button",{onClick:mr,className:"flex-1 btn-gradient py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>G(null),className:"px-6 bg-[#222222] text-gray-400 py-4 rounded-2xl font-bold border border-gray-700 active:scale-95",children:""})]})]})}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[x.jsx(a1,{onClick:s,icon:x.jsx(KV,{}),label:""}),x.jsx(a1,{icon:x.jsx(zV,{}),label:"",active:!h}),x.jsx("div",{className:"relative -top-6",children:x.jsx("button",{disabled:!t.permissions.createInvoices,onClick:l,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 transition-all group ${t.permissions.createInvoices?h?"bg-[#57b385]":"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:x.jsx("svg",{className:"transition-colors",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h?x.jsx("path",{d:"M20 6L9 17l-5-5"}):x.jsxs(x.Fragment,{children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})}),x.jsx(a1,{onClick:f,icon:x.jsx(XV,{}),label:""}),x.jsx(a1,{onClick:g,icon:x.jsx(WV,{}),label:""})]}),F&&x.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[x.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[x.jsx("button",{onClick:Jt,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsx("div",{className:"w-10"})]}),x.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[x.jsx("div",{id:"reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),x.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:x.jsx("div",{className:"w-64 h-32 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),x.jsx("button",{onClick:Jt,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]})]})},a1=({icon:t,label:e,active:r=!1,onClick:n})=>x.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[x.jsx("div",{className:r?"scale-110":"",children:t}),x.jsx("span",{className:"text-[10px] font-bold",children:e})]}),KV=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),zV=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),XV=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),WV=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),YV=({currentUser:t,onNavigateToHome:e,onNavigateToProductSelection:r,items:n,onUpdateQuantity:a,onClearInvoice:s,onAddManualItem:l,onSaveInvoice:f,initialInvoice:g,settings:h,onUpdateItem:p,customerName:y,setCustomerName:B,customerPhone:T,setCustomerPhone:S})=>{const[F,D]=Ne.useState(new Date().toISOString().split("T")[0]),[P,V]=Ne.useState(!1),[j,re]=Ne.useState(""),[ge,z]=Ne.useState(""),[O,M]=Ne.useState(""),[k,Z]=Ne.useState(""),[Y,G]=Ne.useState(null),[K,Ie]=Ne.useState({name:"",price:"",count:1}),[xe,ie]=Ne.useState(!1),[ue,Ve]=Ne.useState("direct"),[Ee,$e]=Ne.useState(""),[Ae,q]=Ne.useState(!1);Ne.useEffect(()=>{g?(D(g.date),re(g.id),ie(g.type==="paid"),Ve(g.method),q(g.type==="partial"),$e(g.paidAmount>0?g.paidAmount.toString():"")):re(`INV-${Math.floor(1e5+Math.random()*9e5)}`)},[g]);const pe=Ne.useMemo(()=>n.reduce((Re,fe)=>Re+fe.total,0),[n]),se=Ne.useMemo(()=>Ae?parseFloat(Ee)||0:xe?pe:0,[xe,Ae,Ee,pe]),me=Ne.useMemo(()=>Math.max(0,pe-se),[pe,se]),Ce=Re=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(Re),ze=()=>{ge&&O&&k!==""&&(l(ge,parseFloat(O),parseFloat(k.toString())),z(""),M(""),Z(""),V(!1))},ye=Re=>{G(Re),Ie({name:Re.productName,price:Re.price.toString(),count:Re.count})},ae=()=>{Y&&K.name&&K.price&&(p(Y.id,{productName:K.name,price:parseFloat(K.price),count:K.count}),G(null))},_e=(Re=!1)=>{const fe=se,yt=me;let _t="unpaid";yt<=0?_t="paid":fe>0&&(_t="partial");const et={id:j,creatorName:g&&g.creatorName||t.name,name:y||" ",phone:T,amount:pe,paidAmount:fe,remainingAmount:yt,date:F,type:_t,method:ue,createdAt:g?g.createdAt:Date.now(),items:[...n],payments:g?g.payments:fe>0?[{id:`init-${Date.now()}`,amount:fe,timestamp:Date.now(),method:ue}]:[]};Re&&Y3(et,h),f(et)};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none border-gray-800 font-['Tajawal']",children:[x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsx("h1",{className:"text-xl font-bold",children:g?" ":" "}),x.jsx("button",{onClick:s,className:"text-red-500 text-xs font-bold px-2 py-1 hover:bg-red-500/10 rounded-lg transition-all",children:""})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-48 md:pb-32 space-y-6 custom-scrollbar md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[x.jsxs("div",{className:"space-y-6 md:h-full md:flex md:flex-col",children:[x.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx("div",{className:"w-8 h-8 bg-[#57b385]/10 rounded-lg flex items-center justify-center border border-[#57b385]/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#57b385",strokeWidth:"2.5",children:[x.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),x.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"text",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:y,onChange:Re=>B(Re.target.value)}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsx("input",{type:"tel",placeholder:" ",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:T,onChange:Re=>S(Re.target.value)}),x.jsx("input",{type:"date",className:"w-full bg-black/40 border border-gray-800 rounded-xl py-3 md:py-2.5 px-4 text-sm text-white focus:border-[#57b385] outline-none transition-all text-right",value:F,onChange:Re=>D(Re.target.value)})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-[#57b385]/30 transition-all active:scale-95",children:[x.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385]",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),x.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),x.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),x.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]})}),x.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]}),x.jsxs("button",{onClick:()=>V(!0),className:"flex flex-col items-center justify-center gap-2 bg-[#111111] border border-gray-800 rounded-[1.5rem] py-4 md:py-3 hover:border-blue-500/30 transition-all active:scale-95",children:[x.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),x.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),x.jsx("span",{className:"text-xs font-bold text-gray-300",children:" "})]})]}),n.length>0&&x.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4 animate-in slide-in-from-bottom duration-300",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded-lg flex items-center justify-center border border-blue-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",children:[x.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),x.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),x.jsx("h2",{className:"text-sm font-bold text-gray-400",children:" "})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),x.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[x.jsx("button",{onClick:()=>{ie(!0),q(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${xe&&!Ae?"bg-[#57b385] text-white":"text-gray-500"}`,children:""}),x.jsx("button",{onClick:()=>q(!0),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${Ae?"bg-orange-500 text-white":"text-gray-500"}`,children:""}),x.jsx("button",{onClick:()=>{ie(!1),q(!1)},className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${!xe&&!Ae?"bg-red-500 text-white":"text-gray-500"}`,children:""})]})]}),Ae&&x.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top duration-200",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:"   (.)"}),x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 md:py-2 px-4 text-white text-center font-black",value:Ee,onChange:Re=>$e(Re.target.value),placeholder:"0.00"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold block mr-1",children:" "}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1.5 rounded-2xl border border-gray-800",children:[x.jsx("button",{onClick:()=>Ve("direct"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ue==="direct"?"bg-white text-black":"text-gray-500"}`,children:" (Cash)"}),x.jsx("button",{onClick:()=>Ve("cheque"),className:`py-3 md:py-2 rounded-xl text-[10px] font-bold transition-all ${ue==="cheque"?"bg-blue-600 text-white":"text-gray-500"}`,children:" (Cheque)"})]})]})]})]}),x.jsxs("div",{className:"space-y-4 md:flex md:flex-col md:h-full",children:[x.jsx("div",{className:"flex items-center gap-2 px-1",children:x.jsxs("h2",{className:"text-sm font-bold text-gray-500",children:["  (",n.length,")"]})}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] md:bg-transparent rounded-2xl md:rounded-none md:border-none border border-gray-800/40 p-4 md:p-0",children:n.length>0?x.jsx("div",{className:"space-y-3",children:n.map(Re=>x.jsxs("div",{onClick:()=>ye(Re),className:"bg-[#111111] md:bg-[#161616] rounded-2xl border border-gray-800/40 p-4 flex flex-col gap-3 group animate-in slide-in-from-left duration-300 active:scale-[0.98] transition-all cursor-pointer hover:border-gray-700",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsx("button",{onClick:fe=>{fe.stopPropagation(),a(Re.id,-Re.count)},className:"text-red-500/50 hover:text-red-500 p-1 transition-colors z-10 relative",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}),x.jsxs("div",{className:"text-right flex-1 pr-3",children:[x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Re.isManual&&x.jsx("span",{className:"text-[8px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded border border-blue-500/30",children:""}),x.jsx("h3",{className:"font-bold text-white text-base",children:Re.productName})]}),x.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:[Ce(Re.price)," "]})]})]}),x.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-xl p-2 border border-gray-800/30",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:fe=>{fe.stopPropagation(),a(Re.id,1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),x.jsx("span",{className:"text-lg font-black min-w-[30px] text-center",children:Re.count}),x.jsx("button",{onClick:fe=>{fe.stopPropagation(),a(Re.id,-1)},className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center text-white active:scale-90 transition-all z-10 relative",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]}),x.jsxs("div",{className:"text-left",children:[x.jsx("span",{className:"text-xs text-gray-500 font-bold ml-1",children:":"}),x.jsxs("span",{className:"text-[#57b385] font-black",children:[Ce(Re.total)," ."]})]})]})]},Re.id))}):x.jsxs("div",{onClick:r,className:"border-2 border-dashed border-gray-800 rounded-[2rem] py-12 flex flex-col items-center justify-center gap-4 text-gray-600 cursor-pointer hover:border-[#57b385]/30 hover:bg-[#57b385]/5 transition-all h-full",children:[x.jsx("div",{className:"w-12 h-12 bg-gray-800/30 rounded-full flex items-center justify-center",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),x.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),x.jsx("p",{className:"font-bold text-sm",children:"  "})]})})]})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-[#0c0c0c]/80 backdrop-blur-xl border-t border-gray-800 p-6 z-30 md:static md:w-full md:max-w-4xl md:mx-auto md:bg-transparent md:border-none",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black/60 p-4 rounded-2xl border border-gray-800/50",children:[x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),x.jsxs("h3",{className:"text-2xl font-black text-[#57b385]",children:[Ce(pe)," ",x.jsx("span",{className:"text-sm",children:"."})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-500 font-bold",children:""}),x.jsxs("h3",{className:`text-xl font-black ${me>0?"text-red-500":"text-gray-500"}`,children:[Ce(me)," ."]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("button",{onClick:()=>_e(!0),disabled:n.length===0,className:`flex-1 py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#1a1a1a] border border-gray-700 hover:bg-gray-800"}`,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})," "]}),x.jsxs("button",{onClick:()=>_e(!1),disabled:n.length===0,className:`flex-[1.5] py-4 md:py-3 rounded-2xl text-white text-lg font-black shadow-xl transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${n.length===0?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-[#57b385] hover:brightness-110"}`,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),x.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),x.jsx("polyline",{points:"7 3 7 8 15 8"})]})," "]})]})]}),P&&x.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center text-blue-500 mx-auto border border-blue-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),x.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),x.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),x.jsx("p",{className:"text-xs text-gray-500",children:"    "})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  / "}),x.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold",value:ge,onChange:Re=>z(Re.target.value),autoFocus:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-center font-black",value:O,onChange:Re=>M(Re.target.value)})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),x.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[x.jsx("button",{onClick:()=>Z(Re=>(parseInt(Re.toString())||0)+1),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),x.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:k,placeholder:"0",onChange:Re=>Z(Re.target.value)}),x.jsx("button",{onClick:()=>Z(Re=>Math.max(1,(parseInt(Re.toString())||0)-1)),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("button",{onClick:ze,disabled:!ge||!O||k==="",className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!ge||!O||k===""?"bg-gray-800 opacity-50":"bg-blue-600 hover:bg-blue-500"}`,children:" "}),x.jsx("button",{onClick:()=>{V(!1),Z("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),Y&&x.jsx("div",{className:"fixed inset-0 z-[300] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center text-orange-500 mx-auto border border-orange-500/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 20h9"}),x.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})}),x.jsx("h3",{className:"text-xl font-black text-white",children:" "}),x.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-right font-bold",value:K.name,onChange:Re=>Ie({...K,name:Re.target.value}),autoFocus:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-orange-500 outline-none transition-all text-center font-black",value:K.price,onChange:Re=>Ie({...K,price:Re.target.value})})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:""}),x.jsxs("div",{className:"flex items-center bg-black rounded-2xl border border-gray-800 overflow-hidden",children:[x.jsx("button",{onClick:()=>Ie(Re=>({...Re,count:Math.max(1,Re.count+1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),x.jsx("input",{type:"number",className:"flex-1 bg-transparent text-center font-black text-white h-[58px] md:h-[46px] outline-none",value:K.count,onChange:Re=>Ie(fe=>({...fe,count:Math.max(1,parseInt(Re.target.value)||1)}))}),x.jsx("button",{onClick:()=>Ie(Re=>({...Re,count:Math.max(1,Re.count-1)})),className:"w-10 h-[58px] md:h-[46px] flex items-center justify-center text-white bg-gray-900 active:bg-gray-800",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("button",{onClick:ae,disabled:!K.name||!K.price,className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!K.name||!K.price?"bg-gray-800 opacity-50":"bg-orange-500 hover:bg-orange-400"}`,children:" "}),x.jsx("button",{onClick:()=>G(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},qV=({currentUser:t,onNavigateToHome:e,settings:r,onUpdateSettings:n,onTriggerManualBackup:a,invoices:s,onEditInvoice:l,onNavigateToProducts:f,onNavigateToCustomers:g,onNavigateToCreateInvoice:h,onLogout:p})=>{var ue,Ve,Ee,$e,Ae,q,pe,se,me,Ce,ze,ye;const[y,B]=Ne.useState(!1),[T,S]=Ne.useState(!1),[F,D]=Ne.useState(null),[P,V]=Ne.useState(null),[j,re]=Ne.useState(null),[ge,z]=Ne.useState({name:"",phone:"",password:""}),O=Ne.useRef(null),M=async()=>{try{return(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(_e=>_e.stop()),!0}catch(ae){return console.error("Camera permission denied",ae),!1}};Ne.useEffect(()=>{let ae=null,_e=!0;return y&&(async()=>{if(y&&(await new Promise(fe=>setTimeout(fe,400)),!(!_e||!document.getElementById("invoice-reader"))))try{if(!await M()){alert("    ."),B(!1);return}ae=new UI("invoice-reader"),O.current=ae,await ae.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},yt=>{const _t=s.find(et=>et.id===yt);_t&&(new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{}),B(!1),V(_t))},yt=>{})}catch(fe){console.error("Scanner Error",fe),_e&&(alert("  .       (HTTPS)  ."),B(!1))}})(),()=>{_e=!1,ae&&ae.isScanning&&ae.stop().catch(console.error)}},[y,s]);const k=ae=>{var Re;const _e=(Re=ae.target.files)==null?void 0:Re[0];if(_e){const fe=new FileReader;fe.onloadend=()=>{n(yt=>({...yt,businessLogo:fe.result}))},fe.readAsDataURL(_e)}},Z=(ae,_e)=>{n(Re=>({...Re,[ae]:_e}))},Y=()=>{B(!0)},G=()=>{B(!1)},K=()=>{if(!ge.name||!ge.phone||!ge.password)return;const ae={id:Date.now().toString(),name:ge.name,phone:ge.phone,password:ge.password,permissions:{manageDebt:!1,editProducts:!1,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!1,viewPurchasePrice:!1,manageSuppliers:!1,manageRequests:!1,manageCheckbook:!1,manageSpecialOrders:!1,viewAllWork:!1,isManager:!1}};n(_e=>({..._e,staffList:[ae,..._e.staffList]})),z({name:"",phone:"",password:""}),S(!1)},Ie=(ae,_e)=>{n(Re=>({...Re,staffList:Re.staffList.map(fe=>fe.id===ae?_e==="isManager"?fe.permissions.isManager?{...fe,permissions:{...fe.permissions,isManager:!1}}:{...fe,permissions:{manageDebt:!0,editProducts:!0,createInvoices:!0,viewNotifications:!0,viewAdminInvoices:!0,viewPurchasePrice:!0,manageSuppliers:!0,manageRequests:!0,manageCheckbook:!0,manageSpecialOrders:!0,viewAllWork:!0,isManager:!0}}:{...fe,permissions:{...fe.permissions,[_e]:!fe.permissions[_e]}}:fe)}))},xe=()=>{j&&(n(ae=>({...ae,staffList:ae.staffList.filter(_e=>_e.id!==j)})),re(null),D(null))},ie=t.role==="admin"||t.permissions.isManager;return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsx("button",{onClick:e,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsx("h1",{className:"text-xl font-bold",children:""}),x.jsx("div",{className:"w-10"})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-32 space-y-6 custom-scrollbar pt-2 md:grid md:grid-cols-2 md:gap-6 md:space-y-0 md:auto-rows-min",children:[ie&&x.jsxs(x.Fragment,{children:[x.jsx(i1,{title:"  ",icon:x.jsx(ZV,{}),children:x.jsxs("div",{className:"space-y-4",children:[x.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-2 uppercase tracking-wider",children:"     "}),x.jsx("div",{className:"space-y-3",children:(r.staffList||[]).map(ae=>x.jsxs("div",{onClick:()=>D(ae),className:"bg-black/40 p-4 rounded-2xl border border-gray-800 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black ${ae.permissions.isManager?"bg-orange-500/20 text-orange-500 border border-orange-500/30":"bg-[#57b385]/10 text-[#57b385]"}`,children:ae.name.charAt(0)}),x.jsxs("div",{className:"text-right",children:[x.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[ae.name,ae.permissions.isManager&&x.jsx("span",{className:"text-[8px] bg-orange-500 text-white px-1.5 py-0.5 rounded-md",children:""})]}),x.jsx("span",{className:"text-[9px] text-gray-500",children:ae.phone})]})]}),x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-700 group-hover:text-gray-400 transition-colors",children:x.jsx("path",{d:"m9 18 6-6-6-6"})})]},ae.id))}),x.jsxs("button",{onClick:()=>S(!0),className:"w-full bg-[#57b385]/10 border border-[#57b385]/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-2 text-[#57b385] font-black text-sm active:scale-95 transition-all",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"   "]})]})}),x.jsx(i1,{title:"  ()",icon:x.jsx(JV,{}),children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Ho,{label:"  ",value:r.loginPhone,onChange:ae=>Z("loginPhone",ae)}),x.jsx(Ho,{label:"  ",value:r.loginPassword,onChange:ae=>Z("loginPassword",ae)})]})})]}),x.jsx(i1,{title:" ",icon:x.jsx($V,{}),children:x.jsxs("button",{onClick:Y,className:"w-full bg-[#1a1a1a] border border-gray-800 hover:border-[#57b385]/50 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-4 transition-all active:scale-95 group",children:[x.jsx("div",{className:"w-10 h-10 bg-[#57b385]/10 rounded-xl flex items-center justify-center text-[#57b385] group-hover:scale-110 transition-transform",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),x.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),x.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),x.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]})}),x.jsx("span",{className:"text-sm font-bold text-gray-200",children:"  "})]})}),ie&&x.jsx(i1,{title:" ",icon:x.jsx(eG,{}),children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex flex-col items-center gap-3 py-2",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("div",{className:"w-24 h-24 bg-[#1a1a1a] rounded-3xl border-2 border-dashed border-gray-700 flex items-center justify-center overflow-hidden",children:r.businessLogo?x.jsx("img",{src:r.businessLogo,alt:"Logo",className:"w-full h-full object-contain p-2"}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#4b5563",strokeWidth:"2",children:[x.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),x.jsx("circle",{cx:"9",cy:"9",r:"2"}),x.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]})}),x.jsxs("label",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-[#57b385] rounded-xl flex items-center justify-center cursor-pointer shadow-lg active:scale-90 transition-all",children:[x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k}),x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 20h9"}),x.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})]})]}),x.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"  "})]}),x.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:[x.jsx(Ho,{label:"  ",value:r.userName,onChange:ae=>Z("userName",ae)}),x.jsx(Ho,{label:" ",value:r.businessName,onChange:ae=>Z("businessName",ae)}),x.jsx("div",{className:"md:col-span-2",children:x.jsx(Ho,{label:"   ()",value:r.specialOrderLabel||" ",onChange:ae=>Z("specialOrderLabel",ae)})})]})]})}),x.jsx("div",{className:"pt-4 md:col-span-2",children:x.jsxs("button",{onClick:p,className:"w-full bg-red-500/10 border border-red-500/20 py-4 md:py-3 rounded-2xl flex items-center justify-center gap-3 text-red-500 font-black text-sm active:scale-95 transition-all hover:bg-red-500 hover:text-white group",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:stroke-white transition-colors",children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"   "]})}),x.jsx("div",{className:"text-center pt-2 pb-12 opacity-30 md:col-span-2",children:x.jsx("p",{className:"text-[10px] font-bold",children:"MAMA System v2.1.0"})})]}),T&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in slide-in-from-bottom duration-300",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("button",{onClick:()=>S(!1),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-xl font-black",children:" "})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Ho,{label:" ",value:ge.name,onChange:ae=>z({...ge,name:ae})}),x.jsx(Ho,{label:" ",value:ge.phone,onChange:ae=>z({...ge,phone:ae})}),x.jsx(Ho,{label:" ",value:ge.password,onChange:ae=>z({...ge,password:ae})})]}),x.jsx("button",{onClick:K,className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all",children:" "})]})}),F&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-md bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("button",{onClick:()=>D(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsxs("h2",{className:"text-xl font-black text-orange-500",children:[" ",F.name]})]}),x.jsxs("div",{className:"space-y-5 bg-black/40 p-6 rounded-[2rem] border border-gray-800",children:[x.jsx("div",{className:"bg-orange-500/10 border border-orange-500/30 p-3 rounded-2xl",children:x.jsx(Ns,{label:"  (Full Admin)",description:"     ",enabled:((ue=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:ue.permissions.isManager)||!1,onToggle:()=>Ie(F.id,"isManager")})}),x.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),x.jsx(Ns,{label:"  ",description:"      ",enabled:((Ve=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:Ve.permissions.viewAllWork)||!1,onToggle:()=>Ie(F.id,"viewAllWork")}),x.jsx(Ns,{label:"  ()",description:"      ",enabled:((Ee=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:Ee.permissions.manageDebt)||!1,onToggle:()=>Ie(F.id,"manageDebt")}),x.jsx(Ns,{label:"  ",description:"      ",enabled:(($e=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:$e.permissions.editProducts)||!1,onToggle:()=>Ie(F.id,"editProducts")}),x.jsx(Ns,{label:" ",description:"    ",enabled:((Ae=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:Ae.permissions.createInvoices)||!1,onToggle:()=>Ie(F.id,"createInvoices")}),x.jsx(Ns,{label:" ",description:"    ",enabled:((q=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:q.permissions.viewNotifications)||!1,onToggle:()=>Ie(F.id,"viewNotifications")}),x.jsx(Ns,{label:"  ",description:"      ()",enabled:((pe=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:pe.permissions.viewAdminInvoices)||!1,onToggle:()=>Ie(F.id,"viewAdminInvoices")}),x.jsx(Ns,{label:"  ",description:"     ",enabled:((se=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:se.permissions.viewPurchasePrice)||!1,onToggle:()=>Ie(F.id,"viewPurchasePrice")}),x.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),x.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"  "}),x.jsx(Ns,{label:"  ",description:"   (Supplier Invoices)",enabled:((me=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:me.permissions.manageSuppliers)||!1,onToggle:()=>Ie(F.id,"manageSuppliers")}),x.jsx(Ns,{label:"  (Demand)",description:"   (Client Requests)",enabled:((Ce=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:Ce.permissions.manageRequests)||!1,onToggle:()=>Ie(F.id,"manageRequests")}),x.jsx(Ns,{label:"  ",description:"    ",enabled:((ze=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:ze.permissions.manageCheckbook)||!1,onToggle:()=>Ie(F.id,"manageCheckbook")}),x.jsx(Ns,{label:"  ",description:"    (Special Orders)",enabled:((ye=(r.staffList||[]).find(ae=>ae.id===F.id))==null?void 0:ye.permissions.manageSpecialOrders)||!1,onToggle:()=>Ie(F.id,"manageSpecialOrders")})]}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsx("button",{onClick:()=>D(null),className:"w-full bg-[#57b385] py-4 rounded-2xl text-white font-black active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>re(F.id),className:"w-full bg-red-500/10 text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all hover:bg-red-500 hover:text-white",children:" "})]})]})}),j&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("line",{x1:"18",y1:"8",x2:"23",y2:"13"}),x.jsx("line",{x1:"23",y1:"8",x2:"18",y2:"13"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:xe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),y&&x.jsxs("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:[x.jsxs("div",{className:"absolute top-10 left-6 right-6 flex justify-between items-center z-10",children:[x.jsx("button",{onClick:G,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white active:scale-90 transition-all",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-lg font-bold",children:" "}),x.jsx("div",{className:"w-10"})]}),x.jsxs("div",{className:"relative w-full h-[60%] flex items-center justify-center overflow-hidden",children:[x.jsx("div",{id:"invoice-reader",className:"w-full h-full object-cover rounded-3xl overflow-hidden"}),x.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:x.jsx("div",{className:"w-64 h-64 border-2 border-[#57b385] rounded-3xl shadow-[0_0_0_1000px_rgba(0,0,0,0.6)] relative",children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("div",{className:"w-full h-0.5 bg-red-500/50 animate-pulse"})})})})]}),x.jsx("button",{onClick:G,className:"mt-10 px-10 py-4 bg-white/10 rounded-2xl text-white font-bold",children:""})]}),P&&x.jsx("div",{className:"fixed inset-0 z-[700] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 text-center",children:[x.jsx("div",{className:"w-20 h-20 bg-[#57b385]/10 rounded-full flex items-center justify-center mx-auto border border-[#57b385]/20 text-[#57b385]",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("polyline",{points:"20 6 9 17 4 12"})})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white",children:"   "}),x.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[P.name," - ",P.date]}),x.jsx("p",{className:"text-gray-500 text-xs font-mono mt-1",children:P.id})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>{V(null),l(P)},className:"flex-1 bg-[#57b385] text-white py-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>V(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},i1=({title:t,icon:e,children:r})=>x.jsxs("div",{className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-gray-400",children:e}),x.jsx("h3",{className:"text-lg font-bold text-gray-200",children:t})]}),r]}),Ho=({label:t,value:e,onChange:r,type:n="text"})=>x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2 uppercase tracking-wider",children:t}),x.jsx("input",{type:n,className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-3 px-4 text-white focus:border-[#57b385] outline-none transition-all text-right font-bold text-sm",value:e,onChange:a=>r(a.target.value)})]}),Ns=({label:t,description:e,enabled:r,onToggle:n})=>x.jsxs("div",{className:"flex items-center justify-between py-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h4",{className:"text-sm font-bold text-white mb-0.5",children:t}),x.jsx("p",{className:"text-[10px] text-gray-500 leading-tight",children:e})]}),x.jsx("button",{onClick:n,className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${r?"bg-[#57b385]":"bg-gray-800"}`,children:x.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-md transition-all duration-300 ${r?"translate-x-0":"-translate-x-5"}`})})]}),ZV=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),JV=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),$V=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),eG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),x.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),x.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),x.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),tG=({currentUser:t,onNavigateToHome:e,onNavigateToProducts:r,onNavigateToSettings:n,onNavigateToCreateInvoice:a,invoices:s,generalPayments:l,onAddGeneralPayment:f,onDeleteGeneralPayment:g,onProcessPayment:h,onEditInvoice:p,settings:y})=>{const[B,T]=Ne.useState(""),[S,F]=Ne.useState(null),[D,P]=Ne.useState(null),[V,j]=Ne.useState("full"),[re,ge]=Ne.useState(""),[z,O]=Ne.useState("direct"),[M,k]=Ne.useState(""),[Z,Y]=Ne.useState("direct"),[G,K]=Ne.useState(null),[Ie,xe]=Ne.useState(!1),ie=Ne.useRef(null),[ue,Ve]=Ne.useState(!1),Ee=Ne.useRef(null),$e=Ne.useMemo(()=>{const ye=new Map;return s.forEach(ae=>{const _e=ye.get(ae.name)||{name:ae.name,phone:ae.phone,totalPurchased:0,totalPaid:0,totalDebt:0,lastInvoiceDate:ae.date,lastInvoiceTimestamp:ae.createdAt,invoiceCount:0,invoices:[],generalPayments:[]};_e.totalPurchased+=ae.amount,_e.totalPaid+=ae.paidAmount,_e.totalDebt+=ae.remainingAmount,_e.invoiceCount+=1,_e.invoices.push(ae),ae.createdAt>=_e.lastInvoiceTimestamp&&(_e.lastInvoiceDate=ae.date,_e.lastInvoiceTimestamp=ae.createdAt,ae.phone&&(_e.phone=ae.phone)),ye.set(ae.name,_e)}),l.forEach(ae=>{const _e=ye.get(ae.customerName);if(_e)_e.totalDebt-=ae.amount,_e.totalPaid+=ae.amount,_e.generalPayments||(_e.generalPayments=[]),_e.generalPayments.push(ae);else{const Re={name:ae.customerName,totalPurchased:0,totalPaid:ae.amount,totalDebt:-ae.amount,lastInvoiceDate:ae.date,lastInvoiceTimestamp:ae.timestamp,invoiceCount:0,invoices:[],generalPayments:[ae]};ye.set(ae.customerName,Re)}}),Array.from(ye.values()).filter(ae=>ae.name.includes(B)).sort((ae,_e)=>_e.lastInvoiceTimestamp-ae.lastInvoiceTimestamp)},[s,l,B]),Ae=Ne.useMemo(()=>S&&$e.find(ye=>ye.name===S)||null,[$e,S]);Ne.useEffect(()=>{S&&window.scrollTo({top:0,behavior:"smooth"})},[S]);const q=ye=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(ye),pe=()=>{if(!D)return;const ye=V==="full"?D.remainingAmount:parseFloat(re)||0;ye>0&&(h(D.id,ye,z),P(null),ge(""),j("full"))},se=()=>{const ye=parseFloat(M);if(!ye||ye<=0||!Ae)return;const ae={id:`gen-pay-${Date.now()}`,customerName:Ae.name,amount:ye,date:new Date().toISOString().split("T")[0],timestamp:Date.now(),method:Z};f(ae),k(""),new Audio("https://www.soundjay.com/button/beep-07.mp3").play().catch(()=>{})},me=()=>{G&&(g(G),K(null))},Ce=async()=>{if(!(!Ae||!ie.current)){xe(!0);try{(await N0(ie.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async ae=>{if(!ae){xe(!1),alert("  ");return}try{const _e=new ClipboardItem({"image/png":ae});await navigator.clipboard.write([_e]);let Re=Ae.phone?Ae.phone.replace(/\D/g,""):"";(Re.startsWith("06")||Re.startsWith("07")||Re.startsWith("05"))&&(Re="212"+Re.substring(1));const fe=Re?`https://wa.me/${Re}`:"https://wa.me/";window.open(fe,"_blank")}catch(_e){console.error("Clipboard write failed:",_e),alert("   ."),window.open("https://wa.me/","_blank")}finally{xe(!1)}},"image/png",1)}catch(ye){console.error("Error creating debt image:",ye),xe(!1)}}},ze=async()=>{if(!(!Ae||!Ee.current)){Ve(!0);try{(await N0(Ee.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async ae=>{if(!ae){Ve(!1),alert("  ");return}try{const _e=new ClipboardItem({"image/png":ae});await navigator.clipboard.write([_e]);let Re=Ae.phone?Ae.phone.replace(/\D/g,""):"";(Re.startsWith("06")||Re.startsWith("07")||Re.startsWith("05"))&&(Re="212"+Re.substring(1));const fe=Re?`https://wa.me/${Re}`:"https://wa.me/";window.open(fe,"_blank")}catch(_e){console.error("Clipboard write failed:",_e),alert("   ."),window.open("https://wa.me/","_blank")}finally{Ve(!1)}},"image/png",1)}catch(ye){console.error("Error creating summary image:",ye),Ve(!1)}}};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:rounded-[3rem] border border-gray-800 font-['Tajawal']",children:[Ae&&x.jsxs("div",{ref:ie,style:{position:"fixed",top:0,left:-9999,width:"400px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,borderRadius:"12px",border:"1px solid #eee"},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[x.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 5px 0"},children:y.businessName}),x.jsx("h1",{style:{fontSize:"24px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),x.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",new Date().toLocaleDateString("ar-MA")]})]}),x.jsxs("div",{style:{marginBottom:"25px"},children:[x.jsx("p",{style:{fontSize:"16px",margin:"0 0 5px 0",color:"#666"},children:"():"}),x.jsx("h2",{style:{fontSize:"22px",fontWeight:"bold",margin:0},children:Ae.name}),Ae.phone&&x.jsx("p",{style:{fontSize:"14px",color:"#888",margin:"5px 0 0 0"},children:Ae.phone})]}),x.jsxs("div",{style:{backgroundColor:"#fff0f0",border:"2px solid #ffcccc",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[x.jsx("p",{style:{fontSize:"16px",fontWeight:"bold",margin:"0 0 10px 0",color:"#cc0000"},children:"  ( )"}),x.jsxs("div",{style:{fontSize:"32px",fontWeight:"900",color:"#cc0000",direction:"ltr"},children:[q(Ae.totalDebt)," ",x.jsx("span",{style:{fontSize:"18px"},children:"DH"})]})]}),x.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888",borderTop:"1px solid #eee",paddingTop:"10px"},children:x.jsxs("p",{children:["   - ",y.signatureName||"MAMA App"]})})]}),Ae&&x.jsxs("div",{ref:Ee,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1,border:"1px solid #eee"},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[x.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:y.businessName}),x.jsx("h1",{style:{fontSize:"26px",fontWeight:"900",margin:"0 0 5px 0"},children:" "}),x.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[": ",Ae.name]}),x.jsxs("p",{style:{fontSize:"14px",color:"#555",margin:0},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[x.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),x.jsx("th",{style:{padding:"10px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:" "})]})}),x.jsx("tbody",{children:Ae.invoices.sort((ye,ae)=>ye.createdAt-ae.createdAt).map((ye,ae)=>x.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[x.jsx("td",{style:{padding:"10px",fontSize:"16px",fontWeight:"bold"},children:ye.date}),x.jsx("td",{style:{padding:"10px",fontSize:"18px",fontWeight:"900",textAlign:"left"},children:q(ye.amount)})]},ae))})]}),x.jsxs("div",{style:{borderTop:"2px solid #000",paddingTop:"15px",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" :"}),x.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[q(Ae.totalPurchased)," ."]})]}),Ae.generalPayments&&Ae.generalPayments.length>0&&x.jsxs("div",{style:{marginTop:"20px"},children:[x.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"2px solid #ddd",paddingBottom:"5px",marginBottom:"10px"},children:"  "}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{backgroundColor:"#e6fffa"},children:[x.jsx("th",{style:{padding:"8px",textAlign:"right",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""}),x.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"14px",borderBottom:"1px solid #ddd"},children:" "}),x.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"14px",borderBottom:"1px solid #ddd"},children:""})]})}),x.jsx("tbody",{children:Ae.generalPayments.sort((ye,ae)=>ye.timestamp-ae.timestamp).map((ye,ae)=>x.jsxs("tr",{style:{borderBottom:"1px dashed #eee"},children:[x.jsx("td",{style:{padding:"8px",fontSize:"14px"},children:new Date(ye.date).toLocaleDateString("ar-MA")}),x.jsx("td",{style:{padding:"8px",fontSize:"14px",textAlign:"center"},children:ye.method==="direct"?"":""}),x.jsx("td",{style:{padding:"8px",fontSize:"14px",fontWeight:"bold",textAlign:"left",color:"#059669"},children:q(ye.amount)})]},ae))})]})]}),x.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"15px",borderRadius:"8px",marginTop:"20px",border:"1px solid #eee"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[x.jsx("span",{style:{fontWeight:"bold"},children:" :"}),x.jsxs("span",{style:{fontWeight:"bold",color:"#059669"},children:[q(Ae.totalPaid)," ."]})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"20px",marginTop:"10px",borderTop:"1px solid #ccc",paddingTop:"10px"},children:[x.jsx("span",{style:{fontWeight:"900",color:"#dc2626"},children:"  ( ):"}),x.jsxs("span",{style:{fontWeight:"900",color:"#dc2626",direction:"ltr"},children:[q(Ae.totalDebt)," DH"]})]})]}),x.jsx("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"12px",color:"#888"},children:x.jsx("p",{children:y.signatureName||"MAMA App"})})]}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),x.jsx("span",{className:"text-[10px] text-[#57b385] font-bold",children:"   "})]}),x.jsx("div",{className:"w-10 h-10 bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-[#57b385]",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})]}),x.jsx("div",{className:"px-6 py-4",children:x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"   ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-12 pl-4 text-white focus:border-[#57b385] outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:B,onChange:ye=>T(ye.target.value)}),x.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-[#57b385] transition-colors",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),x.jsx("div",{className:"flex-1 px-4 overflow-y-auto space-y-4 pb-32 custom-scrollbar",children:$e.length>0?$e.map(ye=>{const ae=ye.totalPurchased>0?Math.max(0,ye.totalDebt)/ye.totalPurchased*100:0;return x.jsxs("div",{onClick:()=>F(ye.name),className:"bg-[#111111] rounded-[2.5rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-gray-500 group-hover:text-[#57b385] transition-all",children:x.jsx("span",{className:"text-xl font-black",children:ye.name.charAt(0)})}),x.jsxs("div",{className:"flex-1 text-right",children:[x.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1",children:ye.name}),x.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",ye.lastInvoiceDate]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsxs("div",{className:"text-sm font-black text-white",children:[q(ye.totalPurchased)," ."]})]}),x.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsxs("div",{className:`text-sm font-black ${ye.totalDebt>0?"text-red-500":"text-[#57b385]"}`,children:[q(ye.totalDebt)," ."]})]})]}),ye.totalPurchased>0&&x.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:x.jsx("div",{className:`h-full transition-all duration-1000 ${ye.totalDebt>0?"bg-red-500":"bg-[#57b385]"}`,style:{width:`${Math.max(2,ae)}%`}})})]},ye.name)}):x.jsx("div",{className:"text-center py-20 text-gray-600",children:x.jsx("p",{className:"font-bold",children:"    "})})}),Ae&&x.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] flex flex-col animate-in slide-in-from-bottom duration-400",children:[x.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c]",children:[x.jsx("button",{onClick:()=>{F(null),k("")},className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsx("h2",{className:"text-xl font-bold",children:"  "}),x.jsx("div",{className:"w-10"})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-[#57b385]",children:Ae.name.charAt(0)}),x.jsx("h3",{className:"text-2xl font-black",children:Ae.name}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[Ae.phone&&x.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1a1a] px-4 py-1.5 rounded-full border border-gray-800 text-[#57b385] font-black text-xs",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),x.jsx("a",{href:`tel:${Ae.phone}`,children:Ae.phone})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[Ae.invoiceCount," "]}),x.jsxs("div",{className:`flex items-center gap-2 px-1.5 py-1 rounded-full border ${Ae.totalDebt>0?"bg-red-500/10 border-red-500/20":"bg-green-500/10 border-green-500/20"}`,children:[x.jsxs("span",{className:`text-[10px] font-bold px-2 ${Ae.totalDebt>0?"text-red-500":"text-green-500"}`,children:[" : ",q(Ae.totalDebt)," ."]}),Ae.totalDebt>0&&x.jsx("button",{onClick:Ce,disabled:Ie,className:`w-7 h-7 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-md active:scale-90 transition-all ${Ie?"opacity-50 cursor-wait":""}`,children:Ie?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]})]})]})]}),Ae.totalDebt>0&&t.permissions.manageDebt&&x.jsxs("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 p-5 space-y-4 shadow-xl",children:[x.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700/50 pb-2",children:[x.jsx("div",{className:"w-8 h-8 bg-green-500/10 rounded-lg flex items-center justify-center text-green-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("path",{d:"M12 2v20"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),x.jsx("h3",{className:"font-bold text-white text-sm",children:"  "})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-700 rounded-xl py-3 pr-4 pl-12 text-white font-black text-center focus:border-green-500 outline-none transition-colors",placeholder:" (.)",value:M,onChange:ye=>k(ye.target.value)}),x.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs font-bold",children:"DH"})]}),x.jsx("button",{onClick:()=>Y(ye=>ye==="direct"?"cheque":"direct"),className:`w-12 rounded-xl flex items-center justify-center border font-bold text-xs transition-all ${Z==="direct"?"bg-white text-black border-white":"bg-blue-600 text-white border-blue-600"}`,children:Z==="direct"?"":""})]}),parseFloat(M)>0&&x.jsxs("div",{className:"text-center text-[10px] text-gray-400",children:["  : ",x.jsxs("span",{className:"text-white font-bold",children:[q(Math.max(0,Ae.totalDebt-parseFloat(M)))," ."]})]}),x.jsxs("button",{onClick:se,disabled:!M||parseFloat(M)<=0,className:`w-full py-3 rounded-xl font-black text-sm shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${M?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("polyline",{points:"20 6 9 17 4 12"})})," "]})]}),Ae.generalPayments&&Ae.generalPayments.length>0&&x.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[x.jsxs("h4",{className:"text-sm font-bold text-green-500 border-b border-gray-800/30 pb-3 flex items-center gap-2",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),x.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"  "]}),x.jsx("div",{className:"space-y-3",children:Ae.generalPayments.sort((ye,ae)=>ae.timestamp-ye.timestamp).map(ye=>x.jsxs("div",{className:"bg-green-500/5 p-4 rounded-2xl border border-green-500/10 flex justify-between items-center group",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-white font-black text-sm",children:[q(ye.amount)," ."]}),x.jsxs("div",{className:"text-[10px] text-gray-500 flex gap-2",children:[x.jsx("span",{children:new Date(ye.date).toLocaleDateString("ar-MA")}),x.jsxs("span",{className:"text-green-600/70 font-bold",children:["(",ye.method==="direct"?"":"",")"]})]})]}),t.permissions.manageDebt&&x.jsx("button",{onClick:()=>K(ye.id),className:"p-2 text-gray-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},ye.id))})]}),x.jsxs("div",{className:"bg-[#111111] rounded-3xl border border-gray-800 p-5 space-y-4",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:"  "}),x.jsx("div",{className:"space-y-3",children:Ae.invoices.sort((ye,ae)=>ae.createdAt-ye.createdAt).map(ye=>x.jsxs("div",{className:"bg-black/40 p-4 rounded-2xl border border-gray-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("div",{className:"text-right",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-xs font-black text-white",children:ye.id}),x.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded border font-bold ${ye.type==="paid"?"bg-green-500/10 text-green-500 border-green-500/20":ye.type==="partial"?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:ye.type==="paid"?"":ye.type==="partial"?" ":""})]}),x.jsx("span",{className:"text-[10px] text-gray-500",children:ye.date})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[ye.type!=="paid"&&t.permissions.manageDebt&&x.jsx("button",{onClick:()=>P(ye),className:"flex items-center gap-1.5 px-3 h-9 bg-gray-800 hover:bg-gray-700 rounded-xl text-gray-300 shadow-lg active:scale-90 transition-all border border-gray-700",children:x.jsx("span",{className:"text-[10px] font-bold",children:" "})}),x.jsx("button",{disabled:!t.permissions.createInvoices,onClick:()=>p(ye),className:`w-9 h-9 bg-[#1a1a1a] rounded-xl flex items-center justify-center text-gray-500 hover:text-white border border-gray-800 transition-colors ${t.permissions.createInvoices?"":"opacity-20 cursor-not-allowed"}`,children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 20h9"}),x.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-2 border-t border-gray-800/50 pt-3",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),x.jsx("span",{className:"text-[10px] font-black text-white",children:q(ye.amount)})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),x.jsx("span",{className:"text-[10px] font-black text-[#57b385]",children:q(ye.paidAmount)})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("span",{className:"text-[8px] text-gray-500 block uppercase",children:""}),x.jsx("span",{className:"text-[10px] font-black text-red-500",children:q(ye.remainingAmount)})]})]}),ye.payments&&ye.payments.length>0&&x.jsxs("div",{className:"mt-3 bg-black/20 rounded-xl p-2 space-y-1",children:[x.jsx("span",{className:"text-[8px] text-gray-600 font-bold block mb-1",children:" :"}),ye.payments.map((ae,_e)=>x.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[x.jsx("span",{className:"text-gray-400",children:new Date(ae.timestamp).toLocaleDateString("ar-MA")}),x.jsxs("span",{className:"text-[#57b385] font-bold",children:["+",q(ae.amount)," . (",ae.method==="direct"?"":"",")"]})]},_e))]})]},ye.id))})]})]}),x.jsxs("div",{className:"p-6 bg-[#0c0c0c] border-t border-gray-800 pb-10 relative",children:[x.jsx("button",{onClick:()=>{F(null),k("")},className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "}),x.jsx("div",{className:"absolute bottom-24 right-6 z-50",children:x.jsx("button",{onClick:ze,disabled:ue||Ae.invoices.length===0,className:`w-14 h-14 bg-[#25D366] hover:bg-[#20b858] rounded-full flex items-center justify-center text-white shadow-2xl shadow-green-900/40 active:scale-90 transition-all border-4 border-[#0c0c0c] ${ue?"opacity-50 cursor-wait":""}`,children:ue?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})})]})]}),G&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"           ."})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>K(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),D&&x.jsx("div",{className:"fixed inset-0 z-[250] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-16 h-16 bg-[#57b385]/10 rounded-full flex items-center justify-center text-[#57b385] mx-auto border border-[#57b385]/20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polyline",{points:"16 12 12 8 8 12"}),x.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),x.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["  : ",x.jsxs("span",{className:"text-red-500 font-black",children:[q(D.remainingAmount)," ."]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-1 rounded-2xl border border-gray-800",children:[x.jsx("button",{onClick:()=>j("full"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${V==="full"?"bg-[#57b385] text-white shadow-lg":"text-gray-500"}`,children:"  "}),x.jsx("button",{onClick:()=>j("partial"),className:`py-2.5 rounded-xl text-xs font-bold transition-all ${V==="partial"?"bg-orange-500 text-white shadow-lg":"text-gray-500"}`,children:" "})]}),V==="partial"&&x.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-200",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),x.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-black border border-gray-800 rounded-xl py-4 px-4 text-white focus:border-[#57b385] outline-none text-center font-black text-lg",value:re,onChange:ye=>ge(ye.target.value),autoFocus:!0})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx("button",{onClick:()=>O("direct"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${z==="direct"?"bg-white text-black border-white":"bg-transparent text-gray-500 border-gray-800"}`,children:""}),x.jsx("button",{onClick:()=>O("cheque"),className:`py-2 rounded-xl text-[10px] font-bold border transition-all ${z==="cheque"?"bg-blue-600 text-white border-blue-600":"bg-transparent text-gray-500 border-gray-800"}`,children:""})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("button",{onClick:pe,disabled:V==="partial"&&(!re||parseFloat(re)<=0),className:`w-full py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${V==="partial"&&(!re||parseFloat(re)<=0)?"bg-gray-800 opacity-50":"bg-[#57b385]"}`,children:"  "}),x.jsx("button",{onClick:()=>P(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-30",children:[x.jsx(s1,{onClick:e,icon:x.jsx(rG,{}),label:""}),x.jsx(s1,{onClick:r,icon:x.jsx(nG,{}),label:""}),x.jsx("div",{className:"relative -top-6",children:x.jsx("button",{disabled:!t.permissions.createInvoices,onClick:a,className:`p-4 rounded-2xl border border-gray-700 shadow-2xl hover:scale-110 active:scale-95 transition-all ${t.permissions.createInvoices?"bg-[#1a1a1a]":"bg-gray-800 opacity-50 cursor-not-allowed"}`,children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),x.jsx(s1,{icon:x.jsx(aG,{}),label:"",active:!0}),x.jsx(s1,{onClick:n,icon:x.jsx(iG,{}),label:""})]})]})},s1=({icon:t,label:e,active:r=!1,onClick:n})=>x.jsxs("button",{onClick:n,className:`flex flex-col items-center gap-1 transition-all ${r?"text-[#57b385]":"text-gray-500 hover:text-gray-300"}`,children:[x.jsx("div",{className:r?"scale-110":"",children:t}),x.jsx("span",{className:"text-[10px] font-bold",children:e})]}),rG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),nG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),aG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),iG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),sG=({onNavigateToHome:t,notifications:e,onMarkAllAsRead:r,onClearAll:n,onMarkAsRead:a})=>{const[s,l]=Ne.useState("all"),[f,g]=Ne.useState(!1),h=Ne.useMemo(()=>s==="all"?e:e.filter(S=>S.type===s),[e,s]),p=Ne.useMemo(()=>({unread:e.filter(S=>!S.isRead).length,debt:e.filter(S=>S.type==="debt").length,stock:e.filter(S=>S.type==="stock").length,sale:e.filter(S=>S.type==="sale").length}),[e]),y=S=>{const F=Date.now()-S,D=Math.floor(F/6e4);if(D<1)return"";if(D<60)return` ${D} `;const P=Math.floor(D/60);return P<24?` ${P} `:new Date(S).toLocaleDateString("ar-MA")},B=S=>{switch(S){case"debt":return{bg:"bg-red-500/10",border:"border-red-500/20",iconColor:"text-red-500",iconBg:"bg-red-500/20",dot:"bg-red-500"};case"stock":return{bg:"bg-orange-500/10",border:"border-orange-500/20",iconColor:"text-orange-500",iconBg:"bg-orange-500/20",dot:"bg-orange-500"};case"sale":return{bg:"bg-[#57b385]/10",border:"border-[#57b385]/20",iconColor:"text-[#57b385]",iconBg:"bg-[#57b385]/20",dot:"bg-[#57b385]"}}},T=()=>{n(),g(!1)};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center bg-[#0c0c0c] border-b border-gray-800/50 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md z-20",children:[x.jsx("button",{onClick:t,className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white transition-all active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h1",{className:"text-xl font-black",children:" "}),x.jsxs("span",{className:"text-[10px] text-[#57b385] font-bold",children:[" ",p.unread,"  "]})]}),x.jsx("button",{onClick:()=>g(!0),className:"p-3 bg-red-500/10 rounded-2xl border border-red-500/20 text-red-500 hover:bg-red-500 hover:text-white transition-all active:scale-90",title:" ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]}),x.jsxs("div",{className:"px-6 py-4 flex gap-2 overflow-x-auto custom-scrollbar no-scrollbar md:justify-center",children:[x.jsx(A1,{active:s==="all",label:"",count:e.length,onClick:()=>l("all"),color:"gray"}),x.jsx(A1,{active:s==="debt",label:"",count:p.debt,onClick:()=>l("debt"),color:"red"}),x.jsx(A1,{active:s==="stock",label:"",count:p.stock,onClick:()=>l("stock"),color:"orange"}),x.jsx(A1,{active:s==="sale",label:"",count:p.sale,onClick:()=>l("sale"),color:"green"})]}),x.jsx("div",{className:"px-6 pb-4 md:max-w-lg md:mx-auto",children:x.jsxs("button",{onClick:r,className:"w-full py-3 bg-[#1a1a1a] border border-gray-800 rounded-2xl text-xs font-bold text-gray-400 hover:text-white transition-all flex items-center justify-center gap-2 active:scale-[0.98]",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M20 6L9 17l-5-5"})}),"  "]})}),x.jsx("div",{className:"flex-1 overflow-y-auto px-6 space-y-4 pb-32 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:h.length>0?h.map(S=>{const F=B(S.type);return x.jsxs("div",{onClick:()=>a(S.id),className:`relative group p-5 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer h-full ${S.isRead?"bg-[#111111] border-gray-800/40":`${F.bg} ${F.border} shadow-lg shadow-black/20`}`,children:[!S.isRead&&x.jsx("div",{className:`absolute top-5 left-5 w-2 h-2 rounded-full ${F.dot} animate-pulse shadow-lg`}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:`w-12 h-12 min-w-[48px] rounded-2xl flex items-center justify-center ${F.iconBg} ${F.iconColor} shadow-inner`,children:[S.type==="debt"&&x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 2v20"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),S.type==="stock"&&x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),S.type==="sale"&&x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M20 6L9 17l-5-5"})})]}),x.jsxs("div",{className:"flex-1 text-right space-y-1",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:y(S.timestamp)}),x.jsx("h4",{className:`text-base font-black ${S.isRead?"text-gray-200":"text-white"}`,children:S.title})]}),x.jsx("p",{className:`text-xs leading-relaxed ${S.isRead?"text-gray-500":"text-gray-300 font-medium"}`,children:S.message})]})]})]},S.id)}):x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600 space-y-4 col-span-full",children:[x.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full flex items-center justify-center opacity-20",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),x.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]})}),x.jsx("p",{className:"font-bold text-sm",children:"   "})]})}),f&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"         ."})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:T,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#0c0c0c]/90 backdrop-blur-xl border-t border-gray-800 px-4 py-3 flex justify-between items-center z-10",children:[x.jsx(o1,{onClick:t,icon:x.jsx(AG,{}),label:""}),x.jsx(o1,{onClick:()=>{},icon:x.jsx(oG,{}),label:""}),x.jsx("div",{className:"relative -top-6",children:x.jsx("button",{className:"bg-[#1a1a1a] p-4 rounded-2xl border border-gray-700 shadow-2xl transition-all",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})}),x.jsx(o1,{onClick:()=>{},icon:x.jsx(lG,{}),label:""}),x.jsx(o1,{onClick:()=>{},icon:x.jsx(cG,{}),label:""})]})]})},A1=({active:t,label:e,count:r,onClick:n,color:a})=>{const s={red:t?"bg-red-500 text-white shadow-red-900/20":"text-red-500 bg-red-500/10 border-red-500/20",orange:t?"bg-orange-500 text-white shadow-orange-900/20":"text-orange-500 bg-orange-500/10 border-orange-500/20",green:t?"bg-[#57b385] text-white shadow-green-900/20":"text-[#57b385] bg-[#57b385]/10 border-[#57b385]/20",gray:t?"bg-white text-black shadow-white/10":"text-gray-400 bg-white/5 border-white/10"};return x.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-2xl border text-xs font-black transition-all flex items-center gap-2 whitespace-nowrap active:scale-95 ${s[a]}`,children:[e,x.jsx("span",{className:`px-1.5 py-0.5 rounded-lg text-[10px] ${t?"bg-black/20 text-white":"bg-black/40"}`,children:r})]})},o1=({icon:t,label:e,onClick:r})=>x.jsxs("button",{onClick:r,className:"flex flex-col items-center gap-1 text-gray-500 hover:text-gray-300 transition-all",children:[x.jsx("div",{className:"",children:t}),x.jsx("span",{className:"text-[10px] font-bold",children:e})]}),AG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),oG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),lG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 6 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),cG=()=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),uG=({onNavigateToHome:t,onAddInvoice:e,onUpdateInvoice:r,onDeleteInvoice:n,invoices:a})=>{const[s,l]=Ne.useState(!1),[f,g]=Ne.useState(null),[h,p]=Ne.useState(null),[y,B]=Ne.useState(""),[T,S]=Ne.useState(null),[F,D]=Ne.useState([]),[P,V]=Ne.useState(null),[j,re]=Ne.useState([]),[ge,z]=Ne.useState(null),O=Ne.useRef(null),M=Ne.useRef(null),k=Ne.useRef(null),[Z,Y]=Ne.useState(null),[G,K]=Ne.useState(""),[Ie,xe]=Ne.useState(""),[ie,ue]=Ne.useState(""),[Ve,Ee]=Ne.useState(""),[$e,Ae]=Ne.useState(new Date().toISOString().split("T")[0]),[q,pe]=Ne.useState(new Date().toISOString().split("T")[0]),se=Ne.useMemo(()=>{const et=new Map;return a.forEach(gt=>{const rt=et.get(gt.supplierName)||{name:gt.supplierName,totalAmount:0,totalPaid:0,totalRemaining:0,lastInvoiceDate:gt.date,invoiceCount:0,invoices:[]},Ct=gt.amount-(gt.paidAmount||0);rt.totalAmount+=gt.amount,rt.totalPaid+=gt.paidAmount||0,rt.totalRemaining+=Ct,rt.invoiceCount+=1,rt.invoices.push(gt),new Date(gt.date)>new Date(rt.lastInvoiceDate)&&(rt.lastInvoiceDate=gt.date),et.set(gt.supplierName,rt)}),Array.from(et.values()).filter(gt=>gt.name.includes(y)).sort((gt,rt)=>new Date(rt.lastInvoiceDate).getTime()-new Date(gt.lastInvoiceDate).getTime())},[a,y]),me=Ne.useMemo(()=>h&&se.find(et=>et.name===h)||null,[se,h]);Ne.useEffect(()=>{if(T&&M.current){O.current&&O.current.destroy();const et=new Cropper(M.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});O.current=et}return()=>{O.current&&(O.current.destroy(),O.current=null)}},[T]);const Ce=et=>{const gt=et.target.files;if(gt&&gt.length>0){const rt=[];Array.from(gt).forEach(Ct=>{rt.push(new Promise(kt=>{const mr=new FileReader;mr.onloadend=()=>kt(mr.result),mr.readAsDataURL(Ct)}))}),Promise.all(rt).then(Ct=>{S(Ct[0]),re(Ct.slice(1))})}et.target.value=""},ze=()=>{if(O.current){const gt=O.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);D(rt=>[...rt,gt]),j.length>0?(S(j[0]),re(rt=>rt.slice(1))):S(null)}},ye=()=>{j.length>0?(S(j[0]),re(et=>et.slice(1))):S(null)},ae=et=>{D(gt=>gt.filter((rt,Ct)=>Ct!==et))},_e=et=>new Intl.NumberFormat("ar-MA",{style:"decimal",minimumFractionDigits:2}).format(et),Re=()=>{K(h||""),xe(""),ue(""),Ee(""),D([]),re([]),pe(new Date().toISOString().split("T")[0]),Ae(new Date().toISOString().split("T")[0]),Y(null)},fe=et=>{Y(et.id),K(et.supplierName),xe(et.amount.toString()),ue(et.paidAmount?et.paidAmount.toString():""),Ee(""),Ae(new Date().toISOString().split("T")[0]),pe(et.date),et.images&&et.images.length>0?D(et.images):et.image?D([et.image]):D([]),l(!0)},yt=()=>{if(!G||!Ie)return;const et=parseFloat(ie)||0,gt=parseFloat(Ve)||0,rt=et+gt,Ct=a.find(vt=>vt.id===Z);let kt=(Ct==null?void 0:Ct.payments)||[];!Z&&rt>0?kt=[{id:`pay-${Date.now()}`,amount:rt,timestamp:new Date(q).getTime(),method:"direct"}]:Z&&gt>0&&(kt=[...kt,{id:`pay-${Date.now()}`,amount:gt,timestamp:new Date($e).getTime(),method:"direct"}]);const mr={id:Z||`sup-${Date.now()}`,supplierName:G,amount:parseFloat(Ie),paidAmount:rt,date:q,image:F.length>0?F[0]:void 0,images:F,createdAt:Z&&(Ct==null?void 0:Ct.createdAt)||Date.now(),payments:kt};Z?r(mr):e(mr),l(!1),Re()},_t=se.reduce((et,gt)=>et+gt.totalRemaining,0);return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),x.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"    "})]}),x.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),x.jsxs("div",{className:"px-6 py-4 space-y-4 md:grid md:grid-cols-2 md:gap-4 md:space-y-0",children:[x.jsxs("div",{className:"bg-red-500/5 rounded-2xl p-4 border border-red-500/20 flex justify-between items-center shadow-lg",children:[x.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"  "}),x.jsxs("span",{className:"text-xl font-black text-red-500",children:[_e(_t)," ."]})]}),x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-4 pr-10 pl-4 text-white focus:border-red-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium",value:y,onChange:et=>B(et.target.value)}),x.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:se.length>0?se.map(et=>x.jsxs("div",{onClick:()=>p(et.name),className:"bg-[#111111] rounded-[2rem] border border-gray-800/40 p-5 flex flex-col gap-4 group transition-all relative overflow-hidden active:scale-[0.98] cursor-pointer h-full",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-14 h-14 min-w-[56px] bg-[#1a1a1a] rounded-2xl border border-gray-800 flex items-center justify-center text-red-500 group-hover:scale-105 transition-all shadow-inner",children:x.jsx("span",{className:"text-xl font-black",children:et.name.charAt(0)})}),x.jsxs("div",{className:"flex-1 text-right",children:[x.jsx("h4",{className:"text-xl font-black text-white leading-none mb-1 line-clamp-1",children:et.name}),x.jsxs("p",{className:"text-[10px] text-gray-500 font-bold",children:[" : ",et.invoiceCount]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-auto",children:[x.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsx("div",{className:"text-sm font-black text-white",children:_e(et.totalAmount)})]}),x.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 border border-gray-800/50",children:[x.jsx("span",{className:"text-[9px] text-gray-500 font-bold block mb-1",children:" "}),x.jsx("div",{className:`text-sm font-black ${et.totalRemaining>0?"text-red-500":"text-[#57b385]"}`,children:_e(et.totalRemaining)})]})]}),x.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${Math.min(100,et.totalRemaining/Math.max(1,et.totalAmount)*100)}%`}})})]},et.name)):x.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"})]}),x.jsx("p",{children:"    "})]})}),x.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30",children:x.jsxs("button",{onClick:()=>{Re(),l(!0)},className:"bg-red-600 hover:bg-red-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-red-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x.jsx("span",{children:"  "})]})}),me&&x.jsx("div",{className:"fixed inset-0 z-[150] bg-[#0c0c0c] md:bg-black/95 md:backdrop-blur-sm flex flex-col items-center justify-center animate-in slide-in-from-bottom duration-400",children:x.jsxs("div",{className:"w-full h-full md:max-w-2xl md:h-[90vh] md:bg-[#161616] md:rounded-[3rem] md:border md:border-gray-800 flex flex-col overflow-hidden",children:[x.jsxs("div",{className:"px-6 pt-10 pb-6 flex justify-between items-center border-b border-gray-800/50 bg-[#0c0c0c] md:bg-[#161616]",children:[x.jsx("button",{onClick:()=>p(null),className:"p-3 bg-[#1a1a1a] rounded-2xl border border-gray-800 text-gray-400 hover:text-white active:scale-90 transition-all",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})}),x.jsx("h2",{className:"text-xl font-bold",children:"  "}),x.jsx("div",{className:"w-10"})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-6 custom-scrollbar pb-32",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-[2rem] border border-gray-800 mx-auto flex items-center justify-center text-4xl font-black text-red-500 shadow-xl",children:me.name.charAt(0)}),x.jsx("h3",{className:"text-2xl font-black",children:me.name}),x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsxs("span",{className:"text-[10px] bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20 text-red-500 font-bold",children:[" : ",_e(me.totalRemaining)," ."]}),x.jsxs("span",{className:"text-[10px] bg-[#1a1a1a] px-3 py-1 rounded-full border border-gray-800 text-gray-400 font-bold",children:[me.invoiceCount," "]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h4",{className:"text-sm font-bold text-gray-500 border-b border-gray-800/30 pb-3",children:" "}),x.jsx("div",{className:"space-y-3 md:grid md:grid-cols-2 md:gap-3 md:space-y-0",children:me.invoices.sort((et,gt)=>new Date(gt.date).getTime()-new Date(et.date).getTime()).map(et=>{const gt=et.amount-(et.paidAmount||0);return x.jsxs("div",{onClick:()=>g(et),className:"bg-[#111111] md:bg-black/40 p-4 rounded-2xl border border-gray-800 flex justify-between items-center active:scale-95 transition-all cursor-pointer group hover:border-gray-600",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-black/40 rounded-xl flex items-center justify-center text-gray-500 group-hover:text-red-500 transition-colors",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),x.jsx("path",{d:"M14 2v6h6"})]})}),x.jsxs("div",{children:[x.jsx("div",{className:"text-white font-bold text-sm",children:et.date}),x.jsxs("div",{className:"text-[10px] text-gray-500",children:[" : ",_e(et.paidAmount||0)]})]})]}),x.jsxs("div",{className:"text-left",children:[x.jsxs("div",{className:"text-white font-black text-sm",children:[_e(et.amount)," ."]}),x.jsx("div",{className:`text-[10px] font-bold ${gt>0?"text-red-500":"text-green-500"}`,children:gt>0?`: ${_e(gt)}`:""})]})]},et.id)})})]})]}),x.jsx("div",{className:"p-6 bg-[#0c0c0c] md:bg-[#161616] border-t border-gray-800 pb-10 md:pb-6",children:x.jsx("button",{onClick:()=>p(null),className:"w-full bg-[#1a1a1a] text-gray-400 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:" "})})]})}),f&&x.jsx("div",{className:"fixed inset-0 z-[450] bg-black/90 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800/50 pb-4",children:[x.jsx("button",{onClick:()=>g(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-xl font-black text-white",children:" "})]}),x.jsxs("div",{className:"text-center space-y-1",children:[x.jsx("div",{className:"w-20 h-20 bg-[#1a1a1a] rounded-full mx-auto flex items-center justify-center text-red-500 border border-red-500/20 mb-2",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),x.jsx("path",{d:"M14 2v6h6"}),x.jsx("path",{d:"M16 13H8"}),x.jsx("path",{d:"M16 17H8"}),x.jsx("path",{d:"M10 9H8"})]})}),x.jsx("h3",{className:"text-2xl font-black text-white",children:f.supplierName}),x.jsx("p",{className:"text-sm text-gray-500 font-bold",children:f.date})]}),x.jsxs("div",{className:"bg-[#111111] rounded-2xl border border-gray-800/50 p-4 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" "}),x.jsx("span",{className:"text-lg font-black text-white",children:_e(f.amount)})]}),x.jsx("div",{className:"w-full h-px bg-gray-800"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),x.jsx("span",{className:"text-sm font-black text-[#57b385]",children:_e(f.paidAmount||0)})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""}),x.jsx("span",{className:`text-sm font-black ${f.amount-(f.paidAmount||0)>0?"text-red-500":"text-gray-500"}`,children:_e(f.amount-(f.paidAmount||0))})]})]}),f.images&&f.images.length>0&&x.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.images.map((et,gt)=>x.jsx("div",{className:"aspect-square bg-black rounded-xl overflow-hidden border border-gray-800",onClick:()=>V(et),children:x.jsx("img",{src:et,alt:"Bon",className:"w-full h-full object-cover"})},gt))}),x.jsxs("div",{className:"flex gap-3 pt-2",children:[x.jsx("button",{onClick:()=>fe(f),className:"flex-1 bg-orange-500 hover:bg-orange-400 text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-all",children:""}),x.jsx("button",{onClick:()=>{n(f.id),g(null)},className:"flex-1 bg-[#1a1a1a] text-red-500 border border-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),s&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-xl font-black text-white mb-1",children:Z?" ":"  "}),x.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),F.length>0&&x.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:F.map((et,gt)=>x.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[x.jsx("img",{src:et,alt:`Img ${gt}`,className:"w-full h-full object-cover"}),x.jsx("button",{onClick:()=>ae(gt),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},gt))}),x.jsxs("div",{onClick:()=>{var et;return(et=k.current)==null?void 0:et.click()},className:"w-full h-16 bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-800 flex items-center justify-center hover:border-red-500/50 transition-all cursor-pointer",children:[x.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),x.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),x.jsx("span",{className:"text-[10px] font-bold",children:" "})]}),x.jsx("input",{ref:k,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Ce})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none transition-all text-right font-bold md:text-sm",value:G,onChange:et=>K(et.target.value),autoFocus:!0})]}),x.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  (.)"}),x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-center font-black text-lg md:text-sm",value:Ie,onChange:et=>xe(et.target.value)})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:Z?" ":" "}),x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] text-center font-black text-lg md:text-sm opacity-70",value:ie,onChange:et=>ue(et.target.value),readOnly:!!Z})]})]}),Z&&x.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2 duration-300",children:[x.jsx("label",{className:"text-[10px] text-[#57b385] font-bold mr-2",children:"  ( )"}),x.jsx("input",{type:"number",className:"w-full bg-[#57b385]/10 border border-[#57b385]/50 rounded-2xl py-3 md:py-2 px-4 text-[#57b385] outline-none text-center font-black text-lg md:text-sm placeholder:text-[#57b385]/30",value:Ve,onChange:et=>Ee(et.target.value),placeholder:"0.00"})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"date",className:"w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2 px-4 text-white focus:border-red-500 outline-none text-right md:text-sm",value:q,onChange:et=>pe(et.target.value)})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("button",{onClick:yt,disabled:!G||!Ie,className:"w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg bg-red-600 hover:bg-red-500 disabled:bg-gray-800 active:scale-95 transition-all",children:""}),x.jsx("button",{onClick:()=>{l(!1),Re()},className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),T&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[x.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:x.jsx("img",{ref:M,src:T,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),x.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4",children:[x.jsx("button",{onClick:ze,className:"flex-1 bg-red-600 text-white py-4 rounded-2xl font-black text-lg active:scale-95",children:" "}),x.jsx("button",{onClick:ye,className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95",children:""})]})]})}),P&&x.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex items-center justify-center p-2 animate-in fade-in duration-300",onClick:()=>V(null),children:[x.jsx("img",{src:P,alt:"Full",className:"max-w-full max-h-full object-contain"}),x.jsx("button",{className:"absolute top-6 right-6 p-4 bg-white/10 rounded-full text-white",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("path",{d:"M18 6 6 18M6 6l12 12"})})})]})]})},fG=({onNavigateToHome:t,requests:e,onAddRequest:r,onUpdateRequest:n,onDeleteRequest:a,settings:s})=>{const[l,f]=Ne.useState(!1),[g,h]=Ne.useState(null),[p,y]=Ne.useState(""),[B,T]=Ne.useState(null),[S,F]=Ne.useState(""),[D,P]=Ne.useState([]),[V,j]=Ne.useState(null),[re,ge]=Ne.useState([]),[z,O]=Ne.useState(null),[M,k]=Ne.useState(null),[Z,Y]=Ne.useState(!1),G=Ne.useRef(null),K=Ne.useRef(null),Ie=Ne.useRef(null),xe=Ne.useRef(null);Ne.useEffect(()=>{if(V&&xe.current){Ie.current&&Ie.current.destroy();const ae=new Cropper(xe.current,{viewMode:1,dragMode:"move",autoCropArea:.9,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1});Ie.current=ae}return()=>{Ie.current&&(Ie.current.destroy(),Ie.current=null)}},[V]);const ie=Ne.useMemo(()=>e.filter(ae=>ae.status==="pending").filter(ae=>ae.productName.includes(p)),[e,p]),ue=()=>{F(""),P([]),ge([]),T(null)},Ve=()=>{ue(),f(!0)},Ee=ae=>{T(ae.id),F(ae.productName),ae.images&&ae.images.length>0?P(ae.images):ae.image?P([ae.image]):P([]),f(!0),h(null)},$e=ae=>{const _e=ae.target.files;if(_e&&_e.length>0){const Re=[];Array.from(_e).forEach(fe=>{Re.push(new Promise(yt=>{const _t=new FileReader;_t.onloadend=()=>yt(_t.result),_t.readAsDataURL(fe)}))}),Promise.all(Re).then(fe=>{j(fe[0]),ge(fe.slice(1))})}ae.target.value=""},Ae=()=>{if(Ie.current){const _e=Ie.current.getCroppedCanvas({maxWidth:1024,maxHeight:1024}).toDataURL("image/jpeg",.8);P(Re=>[...Re,_e]),re.length>0?(j(re[0]),ge(Re=>Re.slice(1))):j(null)}},q=()=>{re.length>0?(j(re[0]),ge(ae=>ae.slice(1))):j(null)},pe=ae=>{P(_e=>_e.filter((Re,fe)=>fe!==ae))},se=()=>{var _e;if(!S)return;const ae={id:B||`req-${Date.now()}`,productName:S,image:D.length>0?D[0]:void 0,images:D,status:"pending",createdAt:B&&((_e=e.find(Re=>Re.id===B))==null?void 0:_e.createdAt)||Date.now()};B?n(ae):r(ae),f(!1),ue()},me=()=>{M&&(a(M),k(null),h(null))},Ce=ae=>{h(ae)},ze=()=>{if(ie.length===0){alert("   ");return}const ae=window.open("","_blank");if(!ae){alert("     ");return}const _e=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title> </title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body {
              font-family: 'Tajawal', sans-serif;
              padding: 20px;
              direction: rtl;
              text-align: right;
            }
            .header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #000;
              padding-bottom: 10px;
            }
            h1 { margin: 0; font-size: 24px; }
            .date { color: #666; font-size: 14px; margin-top: 5px; }
            ul {
              list-style-type: none;
              padding: 0;
            }
            li {
              padding: 8px 0;
              border-bottom: 1px dashed #ccc;
              font-size: 16px;
              font-weight: bold;
              display: flex;
              align-items: center;
            }
            li:before {
              content: "";
              margin-left: 10px;
              font-size: 20px;
            }
            @media print {
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h1> </h1>
            <div class="date"> : ${new Date().toLocaleDateString("ar-MA")}</div>
            <div class="date"> : ${ie.length}</div>
          </div>
          <ul>
            ${ie.map(Re=>`<li>${Re.productName}</li>`).join("")}
          </ul>
          <script>
            window.onload = function() {
              setTimeout(function() {
                window.print();
                window.close();
              }, 500);
            }
          <\/script>
        </body>
      </html>
    `;ae.document.write(_e),ae.document.close()},ye=async()=>{if(!(ie.length===0||!G.current)){Y(!0);try{(await N0(G.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async _e=>{if(!_e){Y(!1),alert("  ");return}try{const Re=new ClipboardItem({"image/png":_e});await navigator.clipboard.write([Re]),window.open("https://wa.me/","_blank")}catch(Re){console.error("Clipboard write failed:",Re),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{Y(!1)}},"image/png",1)}catch(ae){console.error("Error generating image:",ae),Y(!1)}}};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsxs("div",{ref:G,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[x.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),x.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:"  (Demand)"}),x.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[x.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),x.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px",width:"30%"},children:""})]})}),x.jsx("tbody",{children:ie.map((ae,_e)=>x.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[x.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:ae.productName}),x.jsx("td",{style:{padding:"12px 10px",fontSize:"16px",fontWeight:"normal",textAlign:"center"},children:" "})]},_e))})]}),x.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[x.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:["  : ",ie.length]}),x.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),x.jsx("span",{className:"text-[10px] text-blue-500 font-bold",children:"  "})]}),x.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),x.jsx("div",{className:"px-6 py-4",children:x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"  ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-blue-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:p,onChange:ae=>y(ae.target.value)}),x.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-48 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:ie.length>0?ie.map(ae=>{const _e=ae.images&&ae.images.length>0?ae.images[0]:ae.image,Re=ae.images?ae.images.length:ae.image?1:0;return x.jsxs("div",{onClick:()=>Ce(ae),className:"bg-[#111111] rounded-[2rem] border border-gray-800/60 flex flex-col relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[x.jsx("div",{className:"w-full h-48 bg-[#1a1a1a] relative flex items-center justify-center overflow-hidden border-b border-gray-800/50",children:_e?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:_e,alt:ae.productName,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),Re>1&&x.jsxs("div",{className:"absolute bottom-2 right-2 bg-blue-600/90 backdrop-blur-sm text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg",children:["+",Re-1," "]})]}):x.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-600",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),x.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),x.jsx("path",{d:"M12 22V12"})]}),x.jsx("span",{className:"text-[10px] font-bold",children:"  "})]})}),x.jsxs("div",{className:"p-5 flex flex-col flex-1 justify-between",children:[x.jsx("div",{children:x.jsx("h3",{className:"font-black text-lg text-white leading-snug mb-2 line-clamp-2",children:ae.productName})}),x.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-800/50",children:[x.jsxs("span",{className:"text-[10px] text-gray-500 font-bold bg-black/20 px-2 py-1 rounded-lg flex items-center gap-1.5",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),x.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),x.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),x.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),new Date(ae.createdAt).toLocaleDateString("ar-MA")]}),x.jsx("div",{className:"w-8 h-8 rounded-full bg-[#1a1a1a] flex items-center justify-center border border-gray-800 group-hover:bg-blue-600 group-hover:border-blue-500 group-hover:text-white transition-all text-gray-500",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]})]})]},ae.id)}):x.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),x.jsx("path",{d:"M12 11h4"}),x.jsx("path",{d:"M12 16h4"}),x.jsx("path",{d:"M8 11h.01"}),x.jsx("path",{d:"M8 16h.01"})]}),x.jsx("p",{children:"   "})]})}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex flex-col items-center gap-3 pb-8 z-30",children:[x.jsxs("button",{onClick:Ve,className:"pointer-events-auto w-full max-w-[240px] bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-blue-900/30 active:scale-95 transition-all flex items-center justify-center gap-2 border-4 border-[#0c0c0c]",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x.jsx("span",{children:" "})]}),x.jsxs("div",{className:"flex gap-3 w-full max-w-[240px] pointer-events-auto",children:[x.jsxs("button",{onClick:ze,className:"flex-1 bg-[#1a1a1a] hover:bg-[#252525] text-gray-300 hover:text-white py-3 rounded-full font-bold shadow-xl border border-gray-800 active:scale-95 transition-all flex items-center justify-center gap-2",title:"",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),x.jsx("span",{children:""})]}),x.jsxs("button",{onClick:ye,disabled:Z||ie.length===0,className:`flex-1 bg-[#25D366] hover:bg-[#20b858] text-white py-3 rounded-full font-bold shadow-xl border border-[#25D366]/20 active:scale-95 transition-all flex items-center justify-center gap-2 ${Z?"opacity-50 cursor-wait":""}`,title:"",children:[Z?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),x.jsx("span",{children:""})]})]})]}),g&&x.jsx("div",{className:"fixed inset-0 z-[400] bg-black/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[3rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("button",{onClick:()=>h(null),className:"p-2 bg-[#1a1a1a] rounded-xl text-gray-500 hover:text-white transition-all active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})}),x.jsx("h2",{className:"text-xl font-black",children:" "})]}),x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("div",{className:"w-20 h-20 bg-blue-600/10 rounded-full mx-auto flex items-center justify-center text-blue-500 border border-blue-600/20 mb-2",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),x.jsx("path",{d:"M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"}),x.jsx("path",{d:"M12 11h4"}),x.jsx("path",{d:"M12 16h4"}),x.jsx("path",{d:"M8 11h.01"}),x.jsx("path",{d:"M8 16h.01"})]})}),x.jsx("h3",{className:"text-2xl font-black text-white",children:g.productName}),x.jsx("p",{className:"text-sm text-gray-500 font-bold",children:new Date(g.createdAt).toLocaleDateString("ar-MA")})]}),(g.images&&g.images.length>0||g.image)&&x.jsx("div",{className:"grid grid-cols-2 gap-2",children:(g.images&&g.images.length>0?g.images:[g.image]).map((ae,_e)=>x.jsx("div",{onClick:()=>O(ae),className:"aspect-square bg-black rounded-2xl overflow-hidden border border-gray-800 cursor-zoom-in active:scale-95 transition-all",children:x.jsx("img",{src:ae,alt:"Detail",className:"w-full h-full object-cover"})},_e))}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{onClick:()=>Ee(g),className:"flex-1 bg-[#1a1a1a] border border-gray-800 hover:border-gray-600 text-white py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""}),x.jsx("button",{onClick:()=>k(g.id),className:"flex-1 bg-red-500/10 text-red-500 border border-red-500/20 hover:bg-red-500/20 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),M&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:me,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>k(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})}),z&&x.jsxs("div",{className:"fixed inset-0 z-[700] bg-black flex flex-col animate-in fade-in duration-300",children:[x.jsx("div",{className:"absolute top-6 right-6 z-50",children:x.jsx("button",{onClick:()=>O(null),className:"p-4 bg-white/10 backdrop-blur-md border border-white/10 rounded-full text-white shadow-2xl active:scale-90 transition-all",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})}),x.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",onClick:()=>O(null),children:x.jsx("img",{src:z,alt:"Full",className:"max-w-full max-h-full object-contain"})})]}),V&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black flex flex-col items-center justify-center animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full h-full relative bg-black flex flex-col",children:[x.jsx("div",{className:"flex-1 relative overflow-hidden flex items-center justify-center bg-[#111111]",children:x.jsx("img",{ref:xe,src:V,alt:"Crop",className:"max-w-full max-h-full object-contain"})}),x.jsxs("div",{className:"p-6 bg-black border-t border-gray-800 flex gap-4 items-center",children:[x.jsx("div",{className:"flex-1",children:x.jsx("button",{onClick:Ae,className:"w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-all",children:re.length>0?" ":" "})}),x.jsx("div",{className:"flex-1",children:x.jsx("button",{onClick:q,className:"w-full bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:re.length>0?"":""})})]}),re.length>0&&x.jsx("div",{className:"absolute top-4 left-0 right-0 flex justify-center pointer-events-none",children:x.jsxs("span",{className:"bg-black/60 text-white px-4 py-2 rounded-full text-xs font-bold backdrop-blur-md border border-white/10",children:[" ",re.length,"   "]})})]})}),l&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-xl font-black text-white mb-1",children:B?" ":" "}),x.jsx("p",{className:"text-xs text-gray-500",children:"     "})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),D.length>0&&x.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:D.map((ae,_e)=>x.jsxs("div",{className:"relative flex-shrink-0 w-20 h-24 bg-[#1a1a1a] rounded-xl border border-gray-800 overflow-hidden",children:[x.jsx("img",{src:ae,alt:`Img ${_e}`,className:"w-full h-full object-cover"}),x.jsx("button",{onClick:()=>pe(_e),className:"absolute top-1 right-1 w-6 h-6 bg-red-600/90 text-white rounded-full flex items-center justify-center active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},_e))}),x.jsx("div",{onClick:()=>{var ae;return(ae=K.current)==null?void 0:ae.click()},className:`w-full ${D.length>0?"h-16 flex-row gap-4":"h-32 flex-col gap-2"} bg-[#1a1a1a] rounded-[1.5rem] border-2 border-dashed border-gray-700 hover:border-blue-500 hover:bg-blue-500/5 transition-all cursor-pointer flex items-center justify-center relative overflow-hidden group`,children:x.jsxs("div",{className:"flex items-center gap-2 text-gray-500 group-hover:text-blue-500 transition-colors",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:D.length>0?"24":"32",height:D.length>0?"24":"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),x.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),x.jsx("span",{className:"text-[10px] font-bold",children:D.length>0?" ":" "})]})}),x.jsx("input",{ref:K,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:$e})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:"  "}),x.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white focus:border-blue-500 outline-none transition-all text-right font-bold text-lg md:text-sm",value:S,onChange:ae=>F(ae.target.value),placeholder:"  ...",autoFocus:!0})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("button",{onClick:se,disabled:!S,className:`w-full py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${S?"bg-blue-600 hover:bg-blue-500":"bg-gray-800 opacity-50"}`,children:" "}),x.jsx("button",{onClick:()=>f(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})})]})},hG=({onNavigateToHome:t,checks:e,onAddCheck:r,onUpdateCheck:n,onDeleteCheck:a,settings:s})=>{const[l,f]=Ne.useState("primary"),[g,h]=Ne.useState(!1),[p,y]=Ne.useState(""),[B,T]=Ne.useState(null),[S,F]=Ne.useState(null),[D,P]=Ne.useState(!1),V=Ne.useRef(null),[j,re]=Ne.useState(null),[ge,z]=Ne.useState(new Date().toISOString().split("T")[0]),[O,M]=Ne.useState(""),[k,Z]=Ne.useState(""),[Y,G]=Ne.useState(new Date().toISOString().split("T")[0]),[K,Ie]=Ne.useState(""),xe=new Date().toISOString().split("T")[0],ie=Ne.useMemo(()=>l==="primary"?{name:"  1",accentColor:"text-purple-500",bgColor:"bg-purple-600",btnBg:"bg-purple-600 hover:bg-purple-500",borderColor:"focus:border-purple-500",shadow:"shadow-purple-900/30",lightBg:"bg-purple-500/10",lightText:"text-purple-400",borderLight:"border-purple-500/20"}:{name:"  2",accentColor:"text-blue-500",bgColor:"bg-blue-600",btnBg:"bg-blue-600 hover:bg-blue-500",borderColor:"focus:border-blue-500",shadow:"shadow-blue-900/30",lightBg:"bg-blue-500/10",lightText:"text-blue-400",borderLight:"border-blue-500/20"},[l]),ue=Ne.useMemo(()=>e.filter(ye=>{if((ye.checkbookType||"primary")!==l||!(ye.name.includes(p)||ye.amount.toString().includes(p)||ye.serialNumber&&ye.serialNumber.includes(p)))return!1;if(S!==null)try{if(parseInt(ye.paymentDate.split("-")[1],10)!==S)return!1}catch{return!1}return!0}),[e,p,S,l]),Ve=Ne.useMemo(()=>ue.reduce((ye,ae)=>ae.paymentDate<xe?ye:ye+ae.amount,0),[ue,xe]),Ee=()=>{const ye=new Date;if(z(ye.toISOString().split("T")[0]),M(""),Z(""),S!==null){const ae=ye.getFullYear(),_e=new Date(ae,S,0).getDate(),Re=Math.min(ye.getDate(),_e),fe=S.toString().padStart(2,"0"),yt=Re.toString().padStart(2,"0");G(`${ae}-${fe}-${yt}`)}else G(ye.toISOString().split("T")[0]);Ie(""),T(null)},$e=()=>{Ee(),h(!0)},Ae=ye=>{T(ye.id),z(ye.creationDate),M(ye.name),Z(ye.amount.toString()),G(ye.paymentDate),Ie(ye.serialNumber||""),h(!0)},q=()=>{var ae;if(!O||!k)return;const ye={id:B||`chk-${Date.now()}`,creationDate:ge,name:O,amount:parseFloat(k),paymentDate:Y,serialNumber:K,checkbookType:l,createdAt:B&&((ae=e.find(_e=>_e.id===B))==null?void 0:ae.createdAt)||Date.now()};B?n(ye):r(ye),h(!1),Ee()},pe=()=>{j&&(a(j),re(null),h(!1),Ee())},se=()=>{if(ue.length===0){alert("   ");return}const ye=window.open("","_blank");if(!ye){alert("   ");return}const ae=S?` ${S}`:" ",_e=l==="primary"?"  1":"  2",Re=`
        <!DOCTYPE html>
        <html lang="ar" dir="rtl">
        <head>
            <title> </title>
            <style>
                @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
                body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
                .header { text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #000; padding-bottom: 10px; }
                h2 { margin: 0; font-size: 20px; }
                p { margin: 5px 0 0; color: #555; font-size: 14px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th { border-bottom: 2px solid #000; padding: 8px; font-weight: 800; font-size: 14px; }
                td { padding: 8px; border-bottom: 1px solid #ddd; font-size: 14px; }
                .amount-col { text-align: left; font-weight: bold; }
                .status-paid { color: green; font-size: 12px; }
                .total { margin-top: 30px; border-top: 2px solid #000; padding-top: 15px; font-weight: 900; font-size: 18px; display: flex; justify-content: space-between; }
                @media print {
                   @page { margin: 0; size: A4; }
                   body { padding: 1cm; }
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h3>${s.businessName}</h3>
                <h2>   - ${_e}</h2>
                <p>: ${ae}</p>
                <p> : ${new Date().toLocaleDateString("ar-MA")}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th style="text-align: right;"> </th>
                        <th style="text-align: center;"></th>
                        <th style="text-align: left;"> (.)</th>
                    </tr>
                </thead>
                <tbody>
                    ${ue.map(fe=>{const yt=fe.paymentDate<xe;return`
                        <tr>
                            <td>${fe.name} ${yt?'<span class="status-paid">( )</span>':""}</td>
                            <td style="text-align: center;">${fe.paymentDate}</td>
                            <td class="amount-col">${fe.amount.toFixed(2)}</td>
                        </tr>
                    `}).join("")}
                </tbody>
            </table>
            <div class="total">
                <span> ( ):</span>
                <span>${Ve.toFixed(2)} .</span>
            </div>
            <script>
                window.onload = function() { window.print(); setTimeout(function(){ window.close() }, 500); }
            <\/script>
        </body>
        </html>
    `;ye.document.write(Re),ye.document.close()},me=async()=>{if(ue.length!==0&&V.current){P(!0);try{(await N0(V.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async ae=>{if(!ae){alert("  "),P(!1);return}try{const _e=new ClipboardItem({"image/png":ae});await navigator.clipboard.write([_e]),window.open("https://wa.me/","_blank")}catch(_e){console.error("Clipboard failed",_e),alert("  .      ."),window.open("https://wa.me/","_blank")}finally{P(!1)}},"image/png",1)}catch(ye){console.error("Error generating report image",ye),P(!1),alert("    ")}}},Ce=S?` ${S}`:" ",ze=l==="primary"?"  1":"  2";return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[x.jsxs("div",{ref:V,style:{position:"fixed",top:0,left:-9999,width:"600px",padding:"40px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"3px solid #000",paddingBottom:"20px",marginBottom:"20px"},children:[x.jsx("h3",{style:{fontSize:"22px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),x.jsxs("h1",{style:{fontSize:"28px",fontWeight:"900",margin:0,color:"#000"},children:["  (",ze,")"]}),x.jsxs("p",{style:{fontSize:"18px",color:"#555",marginTop:"10px"},children:[": ",Ce]}),x.jsxs("p",{style:{fontSize:"14px",color:"#777"},children:[" : ",new Date().toLocaleDateString("ar-MA")]})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[x.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"right",fontSize:"16px"},children:""}),x.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"center",fontSize:"16px"},children:""}),x.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #000",textAlign:"left",fontSize:"16px"},children:""})]})}),x.jsx("tbody",{children:ue.map((ye,ae)=>{const _e=ye.paymentDate<xe;return x.jsxs("tr",{style:{borderBottom:"1px solid #ddd",backgroundColor:_e?"#f0fff4":"transparent"},children:[x.jsxs("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"bold"},children:[ye.name,_e&&x.jsx("span",{style:{color:"green",fontSize:"12px",marginRight:"5px"},children:"( )"})]}),x.jsx("td",{style:{padding:"12px",fontSize:"14px",textAlign:"center",fontFamily:"monospace"},children:ye.paymentDate}),x.jsx("td",{style:{padding:"12px",fontSize:"16px",textAlign:"left",fontWeight:"900"},children:ye.amount.toFixed(2)})]},ae)})})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#000",color:"white",padding:"15px 20px",borderRadius:"12px"},children:[x.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:" ( ):"}),x.jsxs("span",{style:{fontSize:"24px",fontWeight:"900"},children:[Ve.toFixed(2)," ."]})]})]}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),x.jsxs("span",{className:`text-[10px] ${ie.accentColor} font-bold transition-colors`,children:[ie.name," -  "]})]}),x.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),x.jsx("div",{className:"px-6 pb-4 md:pt-4",children:x.jsxs("div",{className:"flex bg-[#1a1a1a] p-1 rounded-2xl border border-gray-800 relative max-w-lg md:mx-auto",children:[x.jsx("button",{onClick:()=>f("primary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${l==="primary"?"bg-purple-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  1"}),x.jsx("button",{onClick:()=>f("secondary"),className:`flex-1 py-3 rounded-xl text-xs font-bold transition-all relative z-10 ${l==="secondary"?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"  2"})]})}),x.jsx("div",{className:"px-6 pb-4",children:x.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 border border-gray-800 flex justify-between items-center shadow-lg transition-all md:max-w-lg md:mx-auto",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-8 h-8 ${ie.lightBg} rounded-lg flex items-center justify-center ${ie.accentColor} transition-colors`,children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("path",{d:"M12 2v20"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",ie.name]}),x.jsx("span",{className:"text-[9px] text-gray-600",children:"(   )"})]})]}),x.jsxs("span",{className:"text-xl font-black text-white tracking-tight",children:[Ve.toFixed(2)," ",x.jsx("span",{className:`text-xs ${ie.accentColor}`,children:"."})]})]})}),x.jsxs("div",{className:"px-6 pb-4 md:grid md:grid-cols-2 md:gap-4 md:items-start",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"    ...",className:`w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white ${ie.borderColor} outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm`,value:p,onChange:ye=>y(ye.target.value)}),x.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})})]}),x.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2 overflow-x-auto custom-scrollbar pb-2 no-scrollbar",children:[x.jsx("button",{onClick:()=>F(null),className:`px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap flex-shrink-0 ${S===null?`${ie.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:""}),Array.from({length:12},(ye,ae)=>ae+1).map(ye=>x.jsx("button",{onClick:()=>F(ye===S?null:ye),className:`w-10 h-10 min-w-[40px] rounded-xl text-xs font-bold flex items-center justify-center transition-all flex-shrink-0 ${S===ye?`${ie.bgColor} text-white shadow-lg`:"bg-[#1a1a1a] text-gray-500 border border-gray-800"}`,children:ye},ye))]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:ue.length>0?ue.map(ye=>{const ae=ye.paymentDate<xe;return x.jsxs("div",{onClick:()=>Ae(ye),className:`bg-[#111111] rounded-2xl border p-4 flex flex-col gap-2 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full ${ae?"border-green-500/30 bg-green-900/5":"border-gray-800/60"}`,children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-12 h-12 rounded-xl border flex items-center justify-center ${ae?"bg-green-500/10 border-green-500/20 text-green-500":`bg-[#1a1a1a] border-gray-800 ${ie.accentColor}`}`,children:ae?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M20 6 9 17l-5-5"})}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),x.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]})}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("h3",{className:`font-bold text-base leading-tight mb-0.5 line-clamp-1 ${ae?"text-green-100":"text-white"}`,children:ye.name}),ye.serialNumber&&x.jsxs("span",{className:`text-[10px] ${ie.lightBg} ${ie.lightText} px-1.5 py-0.5 rounded border ${ie.borderLight} font-mono`,children:["#",ye.serialNumber]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[" : ",ye.paymentDate]}),ae&&x.jsx("span",{className:"text-[8px] bg-green-500 text-white px-1.5 py-0.5 rounded-full font-bold",children:" "})]})]})]}),x.jsxs("div",{className:"text-left",children:[x.jsx("span",{className:`text-lg font-black ${ae?"text-green-500":"text-white"}`,children:ye.amount.toFixed(2)}),x.jsx("span",{className:"text-[10px] text-gray-500 block font-bold",children:"."})]})]}),x.jsx("div",{className:"w-full h-px bg-gray-800/50 my-1 mt-auto"}),x.jsx("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:x.jsxs("span",{children:[" : ",ye.creationDate]})})]},ye.id)}):x.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[x.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),x.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),x.jsx("p",{children:"   "})]})}),x.jsxs("div",{className:"fixed bottom-32 right-6 z-40 flex flex-col gap-3",children:[x.jsx("button",{onClick:se,className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-black shadow-lg shadow-white/10 active:scale-90 transition-all border border-gray-200",title:" ",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),x.jsx("button",{onClick:me,disabled:D,className:`w-12 h-12 bg-[#25D366] rounded-full flex items-center justify-center text-white shadow-lg shadow-green-900/20 active:scale-90 transition-all ${D?"opacity-50 cursor-wait":""}`,title:"   ",children:D?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:x.jsxs("button",{onClick:$e,className:`pointer-events-auto ${ie.btnBg} text-white px-8 py-4 rounded-full font-black ${ie.shadow} shadow-2xl active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]`,children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x.jsx("span",{children:" "})]})}),g&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h3",{className:"text-xl font-black text-white mb-1",children:B?" ":" "}),x.jsx("p",{className:`text-xs ${ie.accentColor} font-bold`,children:ie.name})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ie.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:ge,onChange:ye=>z(ye.target.value)})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ie.borderColor} outline-none transition-all text-right font-bold font-mono md:text-sm`,value:K,onChange:ye=>Ie(ye.target.value),placeholder:"  "})]})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" ()"}),x.jsx("input",{type:"text",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ie.borderColor} outline-none transition-all text-right font-bold text-lg md:text-sm`,value:O,onChange:ye=>M(ye.target.value),placeholder:"  ...",autoFocus:!0})]}),x.jsxs("div",{className:"md:grid md:grid-cols-2 md:gap-3",children:[x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" (.)"}),x.jsx("input",{type:"number",className:`w-full bg-black border border-gray-800 rounded-2xl py-4 md:py-2.5 px-4 text-white ${ie.borderColor} outline-none transition-all text-center font-black text-lg md:text-sm`,value:k,onChange:ye=>Z(ye.target.value),placeholder:"0.00"})]}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("label",{className:"text-[10px] text-gray-500 font-bold mr-2",children:" "}),x.jsx("input",{type:"date",className:`w-full bg-black border border-gray-800 rounded-2xl py-3 md:py-2.5 px-4 text-white ${ie.borderColor} outline-none transition-all text-right font-medium md:text-sm`,value:Y,onChange:ye=>G(ye.target.value)})]})]})]}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[x.jsx("div",{className:"flex gap-2",children:x.jsx("button",{onClick:q,disabled:!O||!k,className:`flex-1 py-4 md:py-3 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${!O||!k?"bg-gray-800 opacity-50":`${ie.btnBg}`}`,children:""})}),B&&x.jsx("button",{onClick:()=>re(B),className:"w-full bg-red-500/10 text-red-500 py-3 md:py-2.5 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),x.jsx("button",{onClick:()=>h(!1),className:"w-full bg-[#1a1a1a] text-gray-400 py-3 md:py-2.5 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})}),j&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:pe,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>re(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})},dG=({onNavigateToHome:t,orders:e,onAddOrder:r,onUpdateOrder:n,onDeleteOrder:a,settings:s})=>{const[l,f]=Ne.useState(!1),[g,h]=Ne.useState(""),[p,y]=Ne.useState(null),[B,T]=Ne.useState(null),[S,F]=Ne.useState([]),[D,P]=Ne.useState(""),[V,j]=Ne.useState(""),[re,ge]=Ne.useState(!1),z=Ne.useRef(null),O=Ne.useMemo(()=>e.filter(ue=>{const Ve=ue.items.some($e=>$e.name.includes(g)),Ee=ue.productName&&ue.productName.includes(g);return Ve||Ee}).sort((ue,Ve)=>Ve.createdAt-ue.createdAt),[e,g]),M=()=>{F([]),P(""),j(""),y(null)},k=()=>{M(),f(!0)},Z=ue=>{y(ue.id),P(""),j(""),ue.items&&ue.items.length>0?F([...ue.items]):ue.productName?F([{id:`legacy-${Date.now()}`,name:ue.productName,quantity:ue.quantity||1}]):F([]),f(!0)},Y=()=>{if(!D||!V)return;const ue={id:`item-${Date.now()}-${Math.random()}`,name:D,quantity:parseFloat(V)};F(Ve=>[...Ve,ue]),P(""),j("")},G=ue=>{F(Ve=>Ve.filter(Ee=>Ee.id!==ue))},K=()=>{var Ve;if(S.length===0)return;const ue={id:p||`ord-${Date.now()}`,items:S,productName:void 0,quantity:void 0,status:"pending",createdAt:p&&((Ve=e.find(Ee=>Ee.id===p))==null?void 0:Ve.createdAt)||Date.now()};p?n(ue):r(ue),f(!1),M()},Ie=()=>{B&&(a(B),T(null),f(!1),M())},xe=()=>{if(S.length===0)return;const ue=window.open("","_blank");if(!ue){alert("   ");return}const Ve=s.specialOrderLabel||" ",Ee=`
      <!DOCTYPE html>
      <html lang="ar" dir="rtl">
        <head>
          <title>${Ve}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');
            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; text-align: right; }
            .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            h2 { margin: 0; }
            ul { list-style: none; padding: 0; }
            li { padding: 10px 0; border-bottom: 1px dashed #ccc; display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; }
          </style>
        </head>
        <body>
          <div class="header">
            <h3>${s.businessName}</h3>
            <h2>${Ve}</h2>
            <p>: ${new Date().toLocaleDateString("ar-MA")}</p>
          </div>
          <ul>
            ${S.map($e=>`<li><span>${$e.name}</span><span>${$e.quantity}</span></li>`).join("")}
          </ul>
          <script>window.onload = function() { window.print(); setTimeout(() => window.close(), 500); }<\/script>
        </body>
      </html>
    `;ue.document.write(Ee),ue.document.close()},ie=async()=>{if(!(S.length===0||!z.current)){ge(!0);try{(await N0(z.current,{scale:2.5,backgroundColor:"#ffffff",useCORS:!0,logging:!1})).toBlob(async Ve=>{if(!Ve){ge(!1),alert("  ");return}try{const Ee=new ClipboardItem({"image/png":Ve});await navigator.clipboard.write([Ee]),window.open("https://wa.me/","_blank")}catch(Ee){console.error("Clipboard write failed:",Ee),alert("   .    ."),window.open("https://wa.me/","_blank")}finally{ge(!1)}},"image/png",1)}catch(ue){console.error("Error generating image:",ue),ge(!1)}}};return x.jsxs("div",{className:"w-full min-h-screen md:h-auto bg-[#0c0c0c] text-white flex flex-col overflow-hidden relative shadow-2xl md:shadow-none font-['Tajawal']",children:[l&&x.jsxs("div",{ref:z,style:{position:"fixed",top:0,left:-9999,width:"450px",padding:"30px",backgroundColor:"white",color:"black",fontFamily:"'Tajawal', sans-serif",direction:"rtl",zIndex:-1},children:[x.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid #000",paddingBottom:"15px",marginBottom:"20px"},children:[x.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0"},children:s.businessName}),x.jsx("h1",{style:{fontSize:"28px",fontWeight:"900",margin:"0 0 10px 0"},children:s.specialOrderLabel||" "}),x.jsxs("p",{style:{fontSize:"16px",margin:0,color:"#444"},children:[": ",new Date().toLocaleDateString("ar-MA",{year:"numeric",month:"long",day:"numeric"})]})]}),x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[x.jsx("th",{style:{textAlign:"right",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:" "}),x.jsx("th",{style:{textAlign:"center",padding:"10px",borderBottom:"2px solid #000",fontSize:"18px"},children:""})]})}),x.jsx("tbody",{children:S.map((ue,Ve)=>x.jsxs("tr",{style:{borderBottom:"1px dashed #ccc"},children:[x.jsx("td",{style:{padding:"12px 10px",fontSize:"18px",fontWeight:"bold"},children:ue.name}),x.jsx("td",{style:{padding:"12px 10px",fontSize:"20px",fontWeight:"900",textAlign:"center"},children:ue.quantity})]},Ve))})]}),x.jsxs("div",{style:{marginTop:"30px",borderTop:"2px solid #000",paddingTop:"15px",textAlign:"center"},children:[x.jsxs("p",{style:{fontSize:"14px",fontWeight:"bold"},children:[" : ",S.length]}),x.jsx("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"    MAMA"})]})]}),x.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center bg-[#0c0c0c] z-20 md:sticky md:top-0 md:bg-black/90 md:backdrop-blur-md md:border-b md:border-gray-800",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:" "}),x.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:"   "})]}),x.jsx("button",{onClick:t,className:"p-2.5 bg-[#1a1a1a] rounded-xl border border-gray-800 text-gray-400 hover:text-white transition-colors active:scale-90",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]}),x.jsx("div",{className:"px-6 py-4",children:x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"text",placeholder:"    ...",className:"w-full bg-[#111111] border border-gray-800 rounded-2xl py-3 pr-10 pl-4 text-white focus:border-rose-500 outline-none transition-all text-right placeholder:text-gray-600 font-medium text-sm",value:g,onChange:ue=>h(ue.target.value)}),x.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 pb-32 space-y-3 custom-scrollbar md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-4 md:space-y-0",children:O.length>0?O.map(ue=>x.jsxs("div",{onClick:()=>Z(ue),className:"bg-[#111111] rounded-2xl border border-gray-800/60 p-4 flex justify-between items-start gap-3 relative overflow-hidden group transition-all active:scale-[0.98] cursor-pointer h-full hover:border-gray-600",children:[x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"w-12 h-12 min-w-[48px] bg-[#1a1a1a] rounded-xl border border-gray-800 flex items-center justify-center text-rose-500 mt-1",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:x.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h3",{className:"font-black text-sm text-gray-400 mb-1",children:new Date(ue.createdAt).toLocaleDateString("ar-MA")}),x.jsxs("div",{className:"space-y-1",children:[ue.items.slice(0,2).map((Ve,Ee)=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-white font-bold text-sm",children:Ve.name}),x.jsxs("span",{className:"text-[10px] text-rose-500 bg-rose-500/10 px-1.5 py-0.5 rounded font-mono",children:["x",Ve.quantity]})]},Ee)),ue.items.length>2&&x.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",ue.items.length-2,"  ..."]})]})]})]}),x.jsx("div",{className:"bg-[#1a1a1a] px-2 py-1 rounded-lg border border-gray-800",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"text-gray-500",children:x.jsx("path",{d:"m15 18-6-6 6-6"})})})]},ue.id)):x.jsxs("div",{className:"text-center py-20 text-gray-600 flex flex-col items-center gap-2 opacity-50 col-span-full",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:x.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),x.jsx("p",{children:"    "})]})}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none flex justify-center pb-8 z-30",children:x.jsxs("button",{onClick:k,className:"pointer-events-auto bg-rose-600 hover:bg-rose-500 text-white px-8 py-4 rounded-full font-black shadow-2xl shadow-rose-900/30 active:scale-95 transition-all flex items-center gap-2 border-4 border-[#0c0c0c]",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),x.jsx("span",{children:"  "})]})}),l&&x.jsx("div",{className:"fixed inset-0 z-[500] bg-black/90 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[x.jsxs("div",{className:"text-center flex-shrink-0",children:[x.jsx("h3",{className:"text-xl font-black text-white mb-1",children:p?" ":"  "}),x.jsx("p",{className:"text-xs text-rose-500 font-bold",children:"   "})]}),x.jsxs("div",{className:"flex gap-2 items-center flex-shrink-0",children:[x.jsx("div",{className:"flex-1 space-y-1",children:x.jsx("input",{type:"text",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-3 text-white focus:border-rose-500 outline-none transition-all text-right font-bold text-sm",value:D,onChange:ue=>P(ue.target.value),placeholder:" ...",onKeyDown:ue=>ue.key==="Enter"&&Y()})}),x.jsx("div",{className:"w-20 space-y-1",children:x.jsx("input",{type:"number",className:"w-full bg-black border border-gray-800 rounded-xl py-3 px-1 text-white focus:border-rose-500 outline-none transition-all text-center font-black text-sm",value:V,onChange:ue=>j(ue.target.value),placeholder:"",onKeyDown:ue=>ue.key==="Enter"&&Y()})}),x.jsx("button",{onClick:Y,disabled:!D||!V,className:`w-12 h-[46px] rounded-xl flex items-center justify-center text-white transition-all active:scale-90 ${!D||!V?"bg-gray-800 text-gray-500":"bg-rose-600 hover:bg-rose-500 shadow-lg"}`,children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#111111] rounded-2xl border border-gray-800 p-3 space-y-2 min-h-[150px]",children:S.length>0?S.map(ue=>x.jsxs("div",{className:"flex justify-between items-center bg-[#1a1a1a] p-3 rounded-xl border border-gray-800/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>G(ue.id),className:"text-red-500 hover:text-red-400 p-1 active:scale-90",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),x.jsx("span",{className:"text-white font-bold text-sm",children:ue.name})]}),x.jsx("span",{className:"text-rose-500 bg-rose-500/10 px-2 py-1 rounded font-mono font-bold text-xs",children:ue.quantity})]},ue.id)):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 text-xs gap-2",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),x.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),x.jsx("p",{children:"  "})]})}),x.jsxs("div",{className:"flex flex-col gap-3 pt-2 flex-shrink-0",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:K,disabled:S.length===0,className:`flex-[2] py-4 rounded-2xl text-white font-black text-lg shadow-xl active:scale-95 transition-all ${S.length===0?"bg-gray-800 opacity-50":"bg-rose-600 hover:bg-rose-500"}`,children:""}),x.jsx("button",{onClick:xe,disabled:S.length===0,className:"w-14 bg-[#1a1a1a] hover:bg-white/10 text-white rounded-2xl flex items-center justify-center border border-gray-800 active:scale-90 transition-all disabled:opacity-50",title:"",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[x.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),x.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),x.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]})}),x.jsx("button",{onClick:ie,disabled:S.length===0||re,className:`w-14 bg-[#25D366] hover:bg-[#20b858] text-white rounded-2xl flex items-center justify-center border border-[#25D366]/20 active:scale-90 transition-all disabled:opacity-50 ${re?"opacity-50 cursor-wait":""}`,title:"  ",children:re?x.jsx("svg",{className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})})]}),x.jsxs("div",{className:"flex gap-2",children:[p&&x.jsx("button",{onClick:()=>T(p),className:"flex-1 bg-red-500/10 text-red-500 py-3 rounded-2xl font-bold border border-red-500/20 active:scale-95 transition-all hover:bg-red-500/20",children:" "}),x.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-[#1a1a1a] text-gray-400 py-3 rounded-2xl font-bold border border-gray-800 active:scale-95 transition-all",children:""})]})]})]})}),B&&x.jsx("div",{className:"fixed inset-0 z-[600] bg-black/90 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-sm bg-[#161616] rounded-[2.5rem] border border-gray-800 p-8 shadow-2xl space-y-6 animate-in zoom-in duration-200",children:[x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mx-auto border border-red-500/20 text-red-500",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),x.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),x.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),x.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),x.jsx("p",{className:"text-sm text-gray-400",children:"       "})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:Ie,className:"flex-1 bg-red-600 hover:bg-red-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:" "}),x.jsx("button",{onClick:()=>T(null),className:"flex-1 bg-[#1a1a1a] text-gray-400 border border-gray-800 py-4 rounded-2xl font-bold active:scale-95 transition-all",children:""})]})]})})]})};var _4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},gG=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],l=t[r++],f=t[r++],g=((a&7)<<18|(s&63)<<12|(l&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(g>>10)),e[n++]=String.fromCharCode(56320+(g&1023))}else{const s=t[r++],l=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},QI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,f=l?t[a+1]:0,g=a+2<t.length,h=g?t[a+2]:0,p=s>>2,y=(s&3)<<4|f>>4;let B=(f&15)<<2|h>>6,T=h&63;g||(T=64,l||(B=64)),n.push(r[p],r[y],r[B],r[T])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],f=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const y=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||f==null||h==null||y==null)throw new xG;const B=s<<2|f>>4;if(n.push(B),h!==64){const T=f<<4&240|h>>2;if(n.push(T),y!==64){const S=h<<6&192|y;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pG=function(t){const e=MI(t);return QI.encodeByteArray(e,!0)},Fg=function(t){return pG(t).replace(/\./g,"")},mG=function(t){try{return QI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=()=>wG().__FIREBASE_DEFAULTS__,yG=()=>{if(typeof process>"u"||typeof _4>"u")return;const t=_4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mG(t[1]);return e&&JSON.parse(e)},lv=()=>{try{return vG()||yG()||EG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BG=t=>{var e,r;return(r=(e=lv())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},CG=t=>{const e=BG(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},LI=()=>{var t;return(t=lv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fg(JSON.stringify(r)),Fg(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SG(){var t;const e=(t=lv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FG(){return!SG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PI(){try{return typeof indexedDB=="object"}catch{return!1}}function jI(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function NG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="FirebaseError";class ml extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=RG,Object.setPrototypeOf(this,ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sx.prototype.create)}}class sx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?DG(s,n):"Error",f=`${this.serviceName}: ${l} (${a}).`;return new ml(a,f,n)}}function DG(t,e){return t.replace(OG,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const OG=/\{\$([^}]+)}/g;function Ng(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],l=e[a];if(T4(s)&&T4(l)){if(!Ng(s,l))return!1}else if(s!==l)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function T4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=1e3,UG=2,MG=14400*1e3,QG=.5;function S4(t,e=kG,r=UG){const n=e*Math.pow(r,t),a=Math.round(QG*n*(Math.random()-.5)*2);return Math.min(MG,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bG;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jG(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(s);n===f&&l.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:PG(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PG(t){return t===Xl?void 0:t}function jG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new LG(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ur||(Ur={}));const VG={debug:Ur.DEBUG,verbose:Ur.VERBOSE,info:Ur.INFO,warn:Ur.WARN,error:Ur.ERROR,silent:Ur.SILENT},GG=Ur.INFO,KG={[Ur.DEBUG]:"log",[Ur.VERBOSE]:"log",[Ur.INFO]:"info",[Ur.WARN]:"warn",[Ur.ERROR]:"error"},zG=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=KG[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=GG,this._logHandler=zG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ur.DEBUG,...e),this._logHandler(this,Ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ur.VERBOSE,...e),this._logHandler(this,Ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ur.INFO,...e),this._logHandler(this,Ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ur.WARN,...e),this._logHandler(this,Ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ur.ERROR,...e),this._logHandler(this,Ur.ERROR,...e)}}const XG=(t,e)=>e.some(r=>t instanceof r);let I4,F4;function WG(){return I4||(I4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YG(){return F4||(F4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HI=new WeakMap,Y2=new WeakMap,VI=new WeakMap,Jm=new WeakMap,uv=new WeakMap;function qG(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{r(Al(t.result)),a()},l=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&HI.set(r,t)}).catch(()=>{}),uv.set(e,t),e}function ZG(t){if(Y2.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{r(),a()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Y2.set(t,e)}let q2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Y2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Al(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JG(t){q2=t(q2)}function $G(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call($m(this),e,...r);return VI.set(n,e.sort?e.sort():[e]),Al(n)}:YG().includes(t)?function(...e){return t.apply($m(this),e),Al(HI.get(this))}:function(...e){return Al(t.apply($m(this),e))}}function eK(t){return typeof t=="function"?$G(t):(t instanceof IDBTransaction&&ZG(t),XG(t,WG())?new Proxy(t,q2):t)}function Al(t){if(t instanceof IDBRequest)return qG(t);if(Jm.has(t))return Jm.get(t);const e=eK(t);return e!==t&&(Jm.set(t,e),uv.set(e,t)),e}const $m=t=>uv.get(t);function GI(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),f=Al(l);return n&&l.addEventListener("upgradeneeded",g=>{n(Al(l.result),g.oldVersion,g.newVersion,Al(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),f.then(g=>{s&&g.addEventListener("close",()=>s()),a&&g.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const tK=["get","getKey","getAll","getAllKeys","count"],rK=["put","add","delete","clear"],e2=new Map;function N4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(e2.get(e))return e2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=rK.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||tK.includes(r)))return;const s=async function(l,...f){const g=this.transaction(l,a?"readwrite":"readonly");let h=g.store;return n&&(h=h.index(f.shift())),(await Promise.all([h[r](...f),a&&g.done]))[0]};return e2.set(e,s),s}JG(t=>({...t,get:(e,r,n)=>N4(e,r)||t.get(e,r,n),has:(e,r)=>!!N4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(aK(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function aK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z2="@firebase/app",R4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new cv("@firebase/app"),iK="@firebase/app-compat",sK="@firebase/analytics-compat",AK="@firebase/analytics",oK="@firebase/app-check-compat",lK="@firebase/app-check",cK="@firebase/auth",uK="@firebase/auth-compat",fK="@firebase/database",hK="@firebase/data-connect",dK="@firebase/database-compat",gK="@firebase/functions",xK="@firebase/functions-compat",pK="@firebase/installations",mK="@firebase/installations-compat",wK="@firebase/messaging",vK="@firebase/messaging-compat",yK="@firebase/performance",EK="@firebase/performance-compat",BK="@firebase/remote-config",CK="@firebase/remote-config-compat",bK="@firebase/storage",_K="@firebase/storage-compat",TK="@firebase/firestore",SK="@firebase/vertexai-preview",IK="@firebase/firestore-compat",FK="firebase",NK="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="[DEFAULT]",RK={[Z2]:"fire-core",[iK]:"fire-core-compat",[AK]:"fire-analytics",[sK]:"fire-analytics-compat",[lK]:"fire-app-check",[oK]:"fire-app-check-compat",[cK]:"fire-auth",[uK]:"fire-auth-compat",[fK]:"fire-rtdb",[hK]:"fire-data-connect",[dK]:"fire-rtdb-compat",[gK]:"fire-fn",[xK]:"fire-fn-compat",[pK]:"fire-iid",[mK]:"fire-iid-compat",[wK]:"fire-fcm",[vK]:"fire-fcm-compat",[yK]:"fire-perf",[EK]:"fire-perf-compat",[BK]:"fire-rc",[CK]:"fire-rc-compat",[bK]:"fire-gcs",[_K]:"fire-gcs-compat",[TK]:"fire-fst",[IK]:"fire-fst-compat",[SK]:"fire-vertex","fire-js":"fire-js",[FK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map,DK=new Map,$2=new Map;function D4(t,e){try{t.container.addComponent(e)}catch(r){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function hl(t){const e=t.name;if($2.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;$2.set(e,t);for(const r of Rg.values())D4(r,t);for(const r of DK.values())D4(r,t);return!0}function sh(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ol=new sx("app","Firebase",OK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=NK;function KI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:J2,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw ol.create("bad-app-name",{appName:String(a)});if(r||(r=LI()),!r)throw ol.create("no-options");const s=Rg.get(a);if(s){if(Ng(r,s.options)&&Ng(n,s.config))return s;throw ol.create("duplicate-app",{appName:a})}const l=new HG(a);for(const g of $2.values())l.addComponent(g);const f=new kK(r,n,l);return Rg.set(a,f),f}function zI(t=J2){const e=Rg.get(t);if(!e&&t===J2&&LI())return KI();if(!e)throw ol.create("no-app",{appName:t});return e}function pA(t,e,r){var n;let a=(n=RK[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const f=[`Unable to register library "${a}" with version "${e}":`];s&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(f.join(" "));return}hl(new lo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK="firebase-heartbeat-database",QK=1,Vf="firebase-heartbeat-store";let t2=null;function XI(){return t2||(t2=GI(MK,QK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vf)}catch(r){console.warn(r)}}}}).catch(t=>{throw ol.create("idb-open",{originalErrorMessage:t.message})})),t2}async function LK(t){try{const r=(await XI()).transaction(Vf),n=await r.objectStore(Vf).get(WI(t));return await r.done,n}catch(e){if(e instanceof ml)co.warn(e.message);else{const r=ol.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});co.warn(r.message)}}}async function O4(t,e){try{const n=(await XI()).transaction(Vf,"readwrite");await n.objectStore(Vf).put(e,WI(t)),await n.done}catch(r){if(r instanceof ml)co.warn(r.message);else{const n=ol.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});co.warn(n.message)}}}function WI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=1024,jK=720*60*60*1e3;class HK{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new GK(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const f=new Date(l.date).valueOf();return Date.now()-f<=jK}),this._storage.overwrite(this._heartbeatsCache))}catch(n){co.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=k4(),{heartbeatsToSend:n,unsentEntries:a}=VK(this._heartbeatsCache.heartbeats),s=Fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return co.warn(r),""}}}function k4(){return new Date().toISOString().substring(0,10)}function VK(t,e=PK){const r=[];let n=t.slice();for(const a of t){const s=r.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),U4(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),U4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class GK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PI()?jI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await LK(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return O4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return O4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U4(t){return Fg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){hl(new lo("platform-logger",e=>new nK(e),"PRIVATE")),hl(new lo("heartbeat",e=>new HK(e),"PRIVATE")),pA(Z2,R4,t),pA(Z2,R4,"esm2017"),pA("fire-js","")}KK("");var zK="firebase",XK="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pA(zK,XK,"app");var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ac,YI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,M){function k(){}k.prototype=M.prototype,O.D=M.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(Z,Y,G){for(var K=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)K[Ie-2]=arguments[Ie];return M.prototype[Y].apply(Z,K)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,M,k){k||(k=0);var Z=Array(16);if(typeof M=="string")for(var Y=0;16>Y;++Y)Z[Y]=M.charCodeAt(k++)|M.charCodeAt(k++)<<8|M.charCodeAt(k++)<<16|M.charCodeAt(k++)<<24;else for(Y=0;16>Y;++Y)Z[Y]=M[k++]|M[k++]<<8|M[k++]<<16|M[k++]<<24;M=O.g[0],k=O.g[1],Y=O.g[2];var G=O.g[3],K=M+(G^k&(Y^G))+Z[0]+3614090360&4294967295;M=k+(K<<7&4294967295|K>>>25),K=G+(Y^M&(k^Y))+Z[1]+3905402710&4294967295,G=M+(K<<12&4294967295|K>>>20),K=Y+(k^G&(M^k))+Z[2]+606105819&4294967295,Y=G+(K<<17&4294967295|K>>>15),K=k+(M^Y&(G^M))+Z[3]+3250441966&4294967295,k=Y+(K<<22&4294967295|K>>>10),K=M+(G^k&(Y^G))+Z[4]+4118548399&4294967295,M=k+(K<<7&4294967295|K>>>25),K=G+(Y^M&(k^Y))+Z[5]+1200080426&4294967295,G=M+(K<<12&4294967295|K>>>20),K=Y+(k^G&(M^k))+Z[6]+2821735955&4294967295,Y=G+(K<<17&4294967295|K>>>15),K=k+(M^Y&(G^M))+Z[7]+4249261313&4294967295,k=Y+(K<<22&4294967295|K>>>10),K=M+(G^k&(Y^G))+Z[8]+1770035416&4294967295,M=k+(K<<7&4294967295|K>>>25),K=G+(Y^M&(k^Y))+Z[9]+2336552879&4294967295,G=M+(K<<12&4294967295|K>>>20),K=Y+(k^G&(M^k))+Z[10]+4294925233&4294967295,Y=G+(K<<17&4294967295|K>>>15),K=k+(M^Y&(G^M))+Z[11]+2304563134&4294967295,k=Y+(K<<22&4294967295|K>>>10),K=M+(G^k&(Y^G))+Z[12]+1804603682&4294967295,M=k+(K<<7&4294967295|K>>>25),K=G+(Y^M&(k^Y))+Z[13]+4254626195&4294967295,G=M+(K<<12&4294967295|K>>>20),K=Y+(k^G&(M^k))+Z[14]+2792965006&4294967295,Y=G+(K<<17&4294967295|K>>>15),K=k+(M^Y&(G^M))+Z[15]+1236535329&4294967295,k=Y+(K<<22&4294967295|K>>>10),K=M+(Y^G&(k^Y))+Z[1]+4129170786&4294967295,M=k+(K<<5&4294967295|K>>>27),K=G+(k^Y&(M^k))+Z[6]+3225465664&4294967295,G=M+(K<<9&4294967295|K>>>23),K=Y+(M^k&(G^M))+Z[11]+643717713&4294967295,Y=G+(K<<14&4294967295|K>>>18),K=k+(G^M&(Y^G))+Z[0]+3921069994&4294967295,k=Y+(K<<20&4294967295|K>>>12),K=M+(Y^G&(k^Y))+Z[5]+3593408605&4294967295,M=k+(K<<5&4294967295|K>>>27),K=G+(k^Y&(M^k))+Z[10]+38016083&4294967295,G=M+(K<<9&4294967295|K>>>23),K=Y+(M^k&(G^M))+Z[15]+3634488961&4294967295,Y=G+(K<<14&4294967295|K>>>18),K=k+(G^M&(Y^G))+Z[4]+3889429448&4294967295,k=Y+(K<<20&4294967295|K>>>12),K=M+(Y^G&(k^Y))+Z[9]+568446438&4294967295,M=k+(K<<5&4294967295|K>>>27),K=G+(k^Y&(M^k))+Z[14]+3275163606&4294967295,G=M+(K<<9&4294967295|K>>>23),K=Y+(M^k&(G^M))+Z[3]+4107603335&4294967295,Y=G+(K<<14&4294967295|K>>>18),K=k+(G^M&(Y^G))+Z[8]+1163531501&4294967295,k=Y+(K<<20&4294967295|K>>>12),K=M+(Y^G&(k^Y))+Z[13]+2850285829&4294967295,M=k+(K<<5&4294967295|K>>>27),K=G+(k^Y&(M^k))+Z[2]+4243563512&4294967295,G=M+(K<<9&4294967295|K>>>23),K=Y+(M^k&(G^M))+Z[7]+1735328473&4294967295,Y=G+(K<<14&4294967295|K>>>18),K=k+(G^M&(Y^G))+Z[12]+2368359562&4294967295,k=Y+(K<<20&4294967295|K>>>12),K=M+(k^Y^G)+Z[5]+4294588738&4294967295,M=k+(K<<4&4294967295|K>>>28),K=G+(M^k^Y)+Z[8]+2272392833&4294967295,G=M+(K<<11&4294967295|K>>>21),K=Y+(G^M^k)+Z[11]+1839030562&4294967295,Y=G+(K<<16&4294967295|K>>>16),K=k+(Y^G^M)+Z[14]+4259657740&4294967295,k=Y+(K<<23&4294967295|K>>>9),K=M+(k^Y^G)+Z[1]+2763975236&4294967295,M=k+(K<<4&4294967295|K>>>28),K=G+(M^k^Y)+Z[4]+1272893353&4294967295,G=M+(K<<11&4294967295|K>>>21),K=Y+(G^M^k)+Z[7]+4139469664&4294967295,Y=G+(K<<16&4294967295|K>>>16),K=k+(Y^G^M)+Z[10]+3200236656&4294967295,k=Y+(K<<23&4294967295|K>>>9),K=M+(k^Y^G)+Z[13]+681279174&4294967295,M=k+(K<<4&4294967295|K>>>28),K=G+(M^k^Y)+Z[0]+3936430074&4294967295,G=M+(K<<11&4294967295|K>>>21),K=Y+(G^M^k)+Z[3]+3572445317&4294967295,Y=G+(K<<16&4294967295|K>>>16),K=k+(Y^G^M)+Z[6]+76029189&4294967295,k=Y+(K<<23&4294967295|K>>>9),K=M+(k^Y^G)+Z[9]+3654602809&4294967295,M=k+(K<<4&4294967295|K>>>28),K=G+(M^k^Y)+Z[12]+3873151461&4294967295,G=M+(K<<11&4294967295|K>>>21),K=Y+(G^M^k)+Z[15]+530742520&4294967295,Y=G+(K<<16&4294967295|K>>>16),K=k+(Y^G^M)+Z[2]+3299628645&4294967295,k=Y+(K<<23&4294967295|K>>>9),K=M+(Y^(k|~G))+Z[0]+4096336452&4294967295,M=k+(K<<6&4294967295|K>>>26),K=G+(k^(M|~Y))+Z[7]+1126891415&4294967295,G=M+(K<<10&4294967295|K>>>22),K=Y+(M^(G|~k))+Z[14]+2878612391&4294967295,Y=G+(K<<15&4294967295|K>>>17),K=k+(G^(Y|~M))+Z[5]+4237533241&4294967295,k=Y+(K<<21&4294967295|K>>>11),K=M+(Y^(k|~G))+Z[12]+1700485571&4294967295,M=k+(K<<6&4294967295|K>>>26),K=G+(k^(M|~Y))+Z[3]+2399980690&4294967295,G=M+(K<<10&4294967295|K>>>22),K=Y+(M^(G|~k))+Z[10]+4293915773&4294967295,Y=G+(K<<15&4294967295|K>>>17),K=k+(G^(Y|~M))+Z[1]+2240044497&4294967295,k=Y+(K<<21&4294967295|K>>>11),K=M+(Y^(k|~G))+Z[8]+1873313359&4294967295,M=k+(K<<6&4294967295|K>>>26),K=G+(k^(M|~Y))+Z[15]+4264355552&4294967295,G=M+(K<<10&4294967295|K>>>22),K=Y+(M^(G|~k))+Z[6]+2734768916&4294967295,Y=G+(K<<15&4294967295|K>>>17),K=k+(G^(Y|~M))+Z[13]+1309151649&4294967295,k=Y+(K<<21&4294967295|K>>>11),K=M+(Y^(k|~G))+Z[4]+4149444226&4294967295,M=k+(K<<6&4294967295|K>>>26),K=G+(k^(M|~Y))+Z[11]+3174756917&4294967295,G=M+(K<<10&4294967295|K>>>22),K=Y+(M^(G|~k))+Z[2]+718787259&4294967295,Y=G+(K<<15&4294967295|K>>>17),K=k+(G^(Y|~M))+Z[9]+3951481745&4294967295,O.g[0]=O.g[0]+M&4294967295,O.g[1]=O.g[1]+(Y+(K<<21&4294967295|K>>>11))&4294967295,O.g[2]=O.g[2]+Y&4294967295,O.g[3]=O.g[3]+G&4294967295}n.prototype.u=function(O,M){M===void 0&&(M=O.length);for(var k=M-this.blockSize,Z=this.B,Y=this.h,G=0;G<M;){if(Y==0)for(;G<=k;)a(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<M;)if(Z[Y++]=O.charCodeAt(G++),Y==this.blockSize){a(this,Z),Y=0;break}}else for(;G<M;)if(Z[Y++]=O[G++],Y==this.blockSize){a(this,Z),Y=0;break}}this.h=Y,this.o+=M},n.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var M=1;M<O.length-8;++M)O[M]=0;var k=8*this.o;for(M=O.length-8;M<O.length;++M)O[M]=k&255,k/=256;for(this.u(O),O=Array(16),M=k=0;4>M;++M)for(var Z=0;32>Z;Z+=8)O[k++]=this.g[M]>>>Z&255;return O};function s(O,M){var k=f;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=M(O)}function l(O,M){this.h=M;for(var k=[],Z=!0,Y=O.length-1;0<=Y;Y--){var G=O[Y]|0;Z&&G==M||(k[Y]=G,Z=!1)}this.g=k}var f={};function g(O){return-128<=O&&128>O?s(O,function(M){return new l([M|0],0>M?-1:0)}):new l([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return D(h(-O));for(var M=[],k=1,Z=0;O>=k;Z++)M[Z]=O/k|0,k*=4294967296;return new l(M,0)}function p(O,M){if(O.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O.charAt(0)=="-")return D(p(O.substring(1),M));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(M,8)),Z=y,Y=0;Y<O.length;Y+=8){var G=Math.min(8,O.length-Y),K=parseInt(O.substring(Y,Y+G),M);8>G?(G=h(Math.pow(M,G)),Z=Z.j(G).add(h(K))):(Z=Z.j(k),Z=Z.add(h(K)))}return Z}var y=g(0),B=g(1),T=g(16777216);t=l.prototype,t.m=function(){if(F(this))return-D(this).m();for(var O=0,M=1,k=0;k<this.g.length;k++){var Z=this.i(k);O+=(0<=Z?Z:4294967296+Z)*M,M*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(S(this))return"0";if(F(this))return"-"+D(this).toString(O);for(var M=h(Math.pow(O,6)),k=this,Z="";;){var Y=re(k,M).g;k=P(k,Y.j(M));var G=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=Y,S(k))return G+Z;for(;6>G.length;)G="0"+G;Z=G+Z}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function S(O){if(O.h!=0)return!1;for(var M=0;M<O.g.length;M++)if(O.g[M]!=0)return!1;return!0}function F(O){return O.h==-1}t.l=function(O){return O=P(this,O),F(O)?-1:S(O)?0:1};function D(O){for(var M=O.g.length,k=[],Z=0;Z<M;Z++)k[Z]=~O.g[Z];return new l(k,~O.h).add(B)}t.abs=function(){return F(this)?D(this):this},t.add=function(O){for(var M=Math.max(this.g.length,O.g.length),k=[],Z=0,Y=0;Y<=M;Y++){var G=Z+(this.i(Y)&65535)+(O.i(Y)&65535),K=(G>>>16)+(this.i(Y)>>>16)+(O.i(Y)>>>16);Z=K>>>16,G&=65535,K&=65535,k[Y]=K<<16|G}return new l(k,k[k.length-1]&-2147483648?-1:0)};function P(O,M){return O.add(D(M))}t.j=function(O){if(S(this)||S(O))return y;if(F(this))return F(O)?D(this).j(D(O)):D(D(this).j(O));if(F(O))return D(this.j(D(O)));if(0>this.l(T)&&0>O.l(T))return h(this.m()*O.m());for(var M=this.g.length+O.g.length,k=[],Z=0;Z<2*M;Z++)k[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var Y=0;Y<O.g.length;Y++){var G=this.i(Z)>>>16,K=this.i(Z)&65535,Ie=O.i(Y)>>>16,xe=O.i(Y)&65535;k[2*Z+2*Y]+=K*xe,V(k,2*Z+2*Y),k[2*Z+2*Y+1]+=G*xe,V(k,2*Z+2*Y+1),k[2*Z+2*Y+1]+=K*Ie,V(k,2*Z+2*Y+1),k[2*Z+2*Y+2]+=G*Ie,V(k,2*Z+2*Y+2)}for(Z=0;Z<M;Z++)k[Z]=k[2*Z+1]<<16|k[2*Z];for(Z=M;Z<2*M;Z++)k[Z]=0;return new l(k,0)};function V(O,M){for(;(O[M]&65535)!=O[M];)O[M+1]+=O[M]>>>16,O[M]&=65535,M++}function j(O,M){this.g=O,this.h=M}function re(O,M){if(S(M))throw Error("division by zero");if(S(O))return new j(y,y);if(F(O))return M=re(D(O),M),new j(D(M.g),D(M.h));if(F(M))return M=re(O,D(M)),new j(D(M.g),M.h);if(30<O.g.length){if(F(O)||F(M))throw Error("slowDivide_ only works with positive integers.");for(var k=B,Z=M;0>=Z.l(O);)k=ge(k),Z=ge(Z);var Y=z(k,1),G=z(Z,1);for(Z=z(Z,2),k=z(k,2);!S(Z);){var K=G.add(Z);0>=K.l(O)&&(Y=Y.add(k),G=K),Z=z(Z,1),k=z(k,1)}return M=P(O,Y.j(M)),new j(Y,M)}for(Y=y;0<=O.l(M);){for(k=Math.max(1,Math.floor(O.m()/M.m())),Z=Math.ceil(Math.log(k)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),G=h(k),K=G.j(M);F(K)||0<K.l(O);)k-=Z,G=h(k),K=G.j(M);S(G)&&(G=B),Y=Y.add(G),O=P(O,K)}return new j(Y,O)}t.A=function(O){return re(this,O).h},t.and=function(O){for(var M=Math.max(this.g.length,O.g.length),k=[],Z=0;Z<M;Z++)k[Z]=this.i(Z)&O.i(Z);return new l(k,this.h&O.h)},t.or=function(O){for(var M=Math.max(this.g.length,O.g.length),k=[],Z=0;Z<M;Z++)k[Z]=this.i(Z)|O.i(Z);return new l(k,this.h|O.h)},t.xor=function(O){for(var M=Math.max(this.g.length,O.g.length),k=[],Z=0;Z<M;Z++)k[Z]=this.i(Z)^O.i(Z);return new l(k,this.h^O.h)};function ge(O){for(var M=O.g.length+1,k=[],Z=0;Z<M;Z++)k[Z]=O.i(Z)<<1|O.i(Z-1)>>>31;return new l(k,O.h)}function z(O,M){var k=M>>5;M%=32;for(var Z=O.g.length-k,Y=[],G=0;G<Z;G++)Y[G]=0<M?O.i(G+k)>>>M|O.i(G+k+1)<<32-M:O.i(G+k);return new l(Y,O.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,YI=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,ac=l}).apply(typeof M4<"u"?M4:typeof self<"u"?self:typeof window<"u"?window:{});var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qI,Af,ZI,tg,ew,JI,$I,e8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,U,H){return b==Array.prototype||b==Object.prototype||(b[U]=H.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof l1=="object"&&l1];for(var U=0;U<b.length;++U){var H=b[U];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function a(b,U){if(U)e:{var H=n;b=b.split(".");for(var le=0;le<b.length-1;le++){var ke=b[le];if(!(ke in H))break e;H=H[ke]}b=b[b.length-1],le=H[b],U=U(le),U!=le&&U!=null&&e(H,b,{configurable:!0,writable:!0,value:U})}}function s(b,U){b instanceof String&&(b+="");var H=0,le=!1,ke={next:function(){if(!le&&H<b.length){var We=H++;return{value:U(We,b[We]),done:!1}}return le=!0,{done:!0,value:void 0}}};return ke[Symbol.iterator]=function(){return ke},ke}a("Array.prototype.values",function(b){return b||function(){return s(this,function(U,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function g(b){var U=typeof b;return U=U!="object"?U:b?Array.isArray(b)?"array":U:"null",U=="array"||U=="object"&&typeof b.length=="number"}function h(b){var U=typeof b;return U=="object"&&b!=null||U=="function"}function p(b,U,H){return b.call.apply(b.bind,arguments)}function y(b,U,H){if(!b)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ke,le),b.apply(U,ke)}}return function(){return b.apply(U,arguments)}}function B(b,U,H){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,B.apply(null,arguments)}function T(b,U){var H=Array.prototype.slice.call(arguments,1);return function(){var le=H.slice();return le.push.apply(le,arguments),b.apply(this,le)}}function S(b,U){function H(){}H.prototype=U.prototype,b.aa=U.prototype,b.prototype=new H,b.prototype.constructor=b,b.Qb=function(le,ke,We){for(var wt=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)wt[Lr-2]=arguments[Lr];return U.prototype[ke].apply(le,wt)}}function F(b){const U=b.length;if(0<U){const H=Array(U);for(let le=0;le<U;le++)H[le]=b[le];return H}return[]}function D(b,U){for(let H=1;H<arguments.length;H++){const le=arguments[H];if(g(le)){const ke=b.length||0,We=le.length||0;b.length=ke+We;for(let wt=0;wt<We;wt++)b[ke+wt]=le[wt]}else b.push(le)}}class P{constructor(U,H){this.i=U,this.j=H,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function V(b){return/^[\s\xa0]*$/.test(b)}function j(){var b=f.navigator;return b&&(b=b.userAgent)?b:""}function re(b){return re[" "](b),b}re[" "]=function(){};var ge=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function z(b,U,H){for(const le in b)U.call(H,b[le],le,b)}function O(b,U){for(const H in b)U.call(void 0,b[H],H,b)}function M(b){const U={};for(const H in b)U[H]=b[H];return U}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(b,U){let H,le;for(let ke=1;ke<arguments.length;ke++){le=arguments[ke];for(H in le)b[H]=le[H];for(let We=0;We<k.length;We++)H=k[We],Object.prototype.hasOwnProperty.call(le,H)&&(b[H]=le[H])}}function Y(b){var U=1;b=b.split(":");const H=[];for(;0<U&&b.length;)H.push(b.shift()),U--;return b.length&&H.push(b.join(":")),H}function G(b){f.setTimeout(()=>{throw b},0)}function K(){var b=Ee;let U=null;return b.g&&(U=b.g,b.g=b.g.next,b.g||(b.h=null),U.next=null),U}class Ie{constructor(){this.h=this.g=null}add(U,H){const le=xe.get();le.set(U,H),this.h?this.h.next=le:this.g=le,this.h=le}}var xe=new P(()=>new ie,b=>b.reset());class ie{constructor(){this.next=this.g=this.h=null}set(U,H){this.h=U,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Ve=!1,Ee=new Ie,$e=()=>{const b=f.Promise.resolve(void 0);ue=()=>{b.then(Ae)}};var Ae=()=>{for(var b;b=K();){try{b.h.call(b.g)}catch(H){G(H)}var U=xe;U.j(b),100>U.h&&(U.h++,b.next=U.g,U.g=b)}Ve=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(b,U){this.type=b,this.g=this.target=U,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var se=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var b=!1,U=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const H=()=>{};f.addEventListener("test",H,U),f.removeEventListener("test",H,U)}catch{}return b})();function me(b,U){if(pe.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var H=this.type=b.type,le=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=U,U=b.relatedTarget){if(ge){e:{try{re(U.nodeName);var ke=!0;break e}catch{}ke=!1}ke||(U=null)}}else H=="mouseover"?U=b.fromElement:H=="mouseout"&&(U=b.toElement);this.relatedTarget=U,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:Ce[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&me.aa.h.call(this)}}S(me,pe);var Ce={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ae(b,U,H,le,ke){this.listener=b,this.proxy=null,this.src=U,this.type=H,this.capture=!!le,this.ha=ke,this.key=++ye,this.da=this.fa=!1}function _e(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Re(b){this.src=b,this.g={},this.h=0}Re.prototype.add=function(b,U,H,le,ke){var We=b.toString();b=this.g[We],b||(b=this.g[We]=[],this.h++);var wt=yt(b,U,le,ke);return-1<wt?(U=b[wt],H||(U.fa=!1)):(U=new ae(U,this.src,We,!!le,ke),U.fa=H,b.push(U)),U};function fe(b,U){var H=U.type;if(H in b.g){var le=b.g[H],ke=Array.prototype.indexOf.call(le,U,void 0),We;(We=0<=ke)&&Array.prototype.splice.call(le,ke,1),We&&(_e(U),b.g[H].length==0&&(delete b.g[H],b.h--))}}function yt(b,U,H,le){for(var ke=0;ke<b.length;++ke){var We=b[ke];if(!We.da&&We.listener==U&&We.capture==!!H&&We.ha==le)return ke}return-1}var _t="closure_lm_"+(1e6*Math.random()|0),et={};function gt(b,U,H,le,ke){if(Array.isArray(U)){for(var We=0;We<U.length;We++)gt(b,U[We],H,le,ke);return null}return H=Cn(H),b&&b[ze]?b.K(U,H,h(le)?!!le.capture:!1,ke):rt(b,U,H,!1,le,ke)}function rt(b,U,H,le,ke,We){if(!U)throw Error("Invalid event type");var wt=h(ke)?!!ke.capture:!!ke,Lr=Wn(b);if(Lr||(b[_t]=Lr=new Re(b)),H=Lr.add(U,H,le,wt,We),H.proxy)return H;if(le=Ct(),H.proxy=le,le.src=b,le.listener=H,b.addEventListener)se||(ke=wt),ke===void 0&&(ke=!1),b.addEventListener(U.toString(),le,ke);else if(b.attachEvent)b.attachEvent(vt(U.toString()),le);else if(b.addListener&&b.removeListener)b.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ct(){function b(H){return U.call(b.src,b.listener,H)}const U=Ca;return b}function kt(b,U,H,le,ke){if(Array.isArray(U))for(var We=0;We<U.length;We++)kt(b,U[We],H,le,ke);else le=h(le)?!!le.capture:!!le,H=Cn(H),b&&b[ze]?(b=b.i,U=String(U).toString(),U in b.g&&(We=b.g[U],H=yt(We,H,le,ke),-1<H&&(_e(We[H]),Array.prototype.splice.call(We,H,1),We.length==0&&(delete b.g[U],b.h--)))):b&&(b=Wn(b))&&(U=b.g[U.toString()],b=-1,U&&(b=yt(U,H,le,ke)),(H=-1<b?U[b]:null)&&mr(H))}function mr(b){if(typeof b!="number"&&b&&!b.da){var U=b.src;if(U&&U[ze])fe(U.i,b);else{var H=b.type,le=b.proxy;U.removeEventListener?U.removeEventListener(H,le,b.capture):U.detachEvent?U.detachEvent(vt(H),le):U.addListener&&U.removeListener&&U.removeListener(le),(H=Wn(U))?(fe(H,b),H.h==0&&(H.src=null,U[_t]=null)):_e(b)}}}function vt(b){return b in et?et[b]:et[b]="on"+b}function Ca(b,U){if(b.da)b=!0;else{U=new me(U,this);var H=b.listener,le=b.ha||b.src;b.fa&&mr(b),b=H.call(le,U)}return b}function Wn(b){return b=b[_t],b instanceof Re?b:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(b){return typeof b=="function"?b:(b[tr]||(b[tr]=function(U){return b.handleEvent(U)}),b[tr])}function Jt(){q.call(this),this.i=new Re(this),this.M=this,this.F=null}S(Jt,q),Jt.prototype[ze]=!0,Jt.prototype.removeEventListener=function(b,U,H,le){kt(this,b,U,H,le)};function Vr(b,U){var H,le=b.F;if(le)for(H=[];le;le=le.F)H.push(le);if(b=b.M,le=U.type||U,typeof U=="string")U=new pe(U,b);else if(U instanceof pe)U.target=U.target||b;else{var ke=U;U=new pe(le,b),Z(U,ke)}if(ke=!0,H)for(var We=H.length-1;0<=We;We--){var wt=U.g=H[We];ke=Ze(wt,le,!0,U)&&ke}if(wt=U.g=b,ke=Ze(wt,le,!0,U)&&ke,ke=Ze(wt,le,!1,U)&&ke,H)for(We=0;We<H.length;We++)wt=U.g=H[We],ke=Ze(wt,le,!1,U)&&ke}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var b=this.i,U;for(U in b.g){for(var H=b.g[U],le=0;le<H.length;le++)_e(H[le]);delete b.g[U],b.h--}}this.F=null},Jt.prototype.K=function(b,U,H,le){return this.i.add(String(b),U,!1,H,le)},Jt.prototype.L=function(b,U,H,le){return this.i.add(String(b),U,!0,H,le)};function Ze(b,U,H,le){if(U=b.i.g[String(U)],!U)return!0;U=U.concat();for(var ke=!0,We=0;We<U.length;++We){var wt=U[We];if(wt&&!wt.da&&wt.capture==H){var Lr=wt.listener,dn=wt.ha||wt.src;wt.fa&&fe(b.i,wt),ke=Lr.call(dn,le)!==!1&&ke}}return ke&&!le.defaultPrevented}function Nt(b,U,H){if(typeof b=="function")H&&(b=B(b,H));else if(b&&typeof b.handleEvent=="function")b=B(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:f.setTimeout(b,U||0)}function Tt(b){b.g=Nt(()=>{b.g=null,b.i&&(b.i=!1,Tt(b))},b.l);const U=b.h;b.h=null,b.m.apply(null,U)}class qt extends q{constructor(U,H){super(),this.m=U,this.l=H,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(b){q.call(this),this.h=b,this.g={}}S(Qr,q);var Mt=[];function At(b){z(b.g,function(U,H){this.g.hasOwnProperty(H)&&mr(U)},b),b.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),At(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=f.JSON.stringify,nt=f.JSON.parse,Et=class{stringify(b){return f.JSON.stringify(b,void 0)}parse(b){return f.JSON.parse(b,void 0)}};function Rt(){}Rt.prototype.h=null;function Bt(b){return b.h||(b.h=b.i())}function jt(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){pe.call(this,"d")}S(gr,pe);function Gr(){pe.call(this,"c")}S(Gr,pe);var Rn={},un=null;function Ti(){return un=un||new Jt}Rn.La="serverreachability";function fn(b){pe.call(this,Rn.La,b)}S(fn,pe);function aa(b){const U=Ti();Vr(U,new fn(U))}Rn.STAT_EVENT="statevent";function Da(b,U){pe.call(this,Rn.STAT_EVENT,b),this.stat=U}S(Da,pe);function Ir(b){const U=Ti();Vr(U,new Da(U,b))}Rn.Ma="timingevent";function Si(b,U){pe.call(this,Rn.Ma,b),this.size=U}S(Si,pe);function mn(b,U){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){b()},U)}function Oa(){this.g=!0}Oa.prototype.xa=function(){this.g=!1};function bn(b,U,H,le,ke,We){b.info(function(){if(b.g)if(We)for(var wt="",Lr=We.split("&"),dn=0;dn<Lr.length;dn++){var fr=Lr[dn].split("=");if(1<fr.length){var ln=fr[0];fr=fr[1];var kn=ln.split("_");wt=2<=kn.length&&kn[1]=="type"?wt+(ln+"="+fr+"&"):wt+(ln+"=redacted&")}}else wt=null;else wt=We;return"XMLHTTP REQ ("+le+") [attempt "+ke+"]: "+U+`
`+H+`
`+wt})}function ka(b,U,H,le,ke,We,wt){b.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+ke+"]: "+U+`
`+H+`
`+We+" "+wt})}function J(b,U,H,le){b.info(function(){return"XMLHTTP TEXT ("+U+"): "+oe(b,H)+(le?" "+le:"")})}function ne(b,U){b.info(function(){return"TIMEOUT: "+U})}Oa.prototype.info=function(){};function oe(b,U){if(!b.g)return U;if(!U)return null;try{var H=JSON.parse(U);if(H){for(b=0;b<H.length;b++)if(Array.isArray(H[b])){var le=H[b];if(!(2>le.length)){var ke=le[1];if(Array.isArray(ke)&&!(1>ke.length)){var We=ke[0];if(We!="noop"&&We!="stop"&&We!="close")for(var wt=1;wt<ke.length;wt++)ke[wt]=""}}}}return Le(H)}catch{return U}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function Me(){}S(Me,Rt),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},ve=new Me;function qe(b,U,H,le){this.j=b,this.i=U,this.l=H,this.R=le||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var je={},He={};function st(b,U,H){b.L=1,b.v=hn(Yt(U)),b.m=H,b.P=!0,ct(b,null)}function ct(b,U){b.F=Date.now(),pt(b),b.A=Yt(b.v);var H=b.A,le=b.R;Array.isArray(le)||(le=[String(le)]),tn(H.i,"t",le),b.C=0,H=b.j.J,b.h=new Oe,b.g=Tc(b.j,H?U:null,!b.m),0<b.O&&(b.M=new qt(B(b.Y,b,b.g),b.O)),U=b.U,H=b.g,le=b.ca;var ke="readystatechange";Array.isArray(ke)||(ke&&(Mt[0]=ke.toString()),ke=Mt);for(var We=0;We<ke.length;We++){var wt=gt(H,ke[We],le||U.handleEvent,!1,U.h||U);if(!wt)break;U.g[wt.key]=wt}U=b.H?M(b.H):{},b.m?(b.u||(b.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,U)):(b.u="GET",b.g.ea(b.A,b.u,null,U)),aa(),bn(b.i,b.u,b.A,b.l,b.R,b.m)}qe.prototype.ca=function(b){b=b.target;const U=this.M;U&&Ua(b)==3?U.j():this.Y(b)},qe.prototype.Y=function(b){try{if(b==this.g)e:{const kn=Ua(this.g);var U=this.g.Ba();const Zn=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||IA(this.g)))){this.J||kn!=4||U==7||(U==8||0>=Zn?aa(3):aa(2)),Je(this);var H=this.g.Z();this.X=H;t:if(ut(this)){var le=IA(this.g);b="";var ke=le.length,We=Ua(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),Fr(this);var wt="";break t}this.h.i=new f.TextDecoder}for(U=0;U<ke;U++)this.h.h=!0,b+=this.h.i.decode(le[U],{stream:!(We&&U==ke-1)});le.length=0,this.h.g+=b,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=H==200,ka(this.i,this.u,this.A,this.l,this.R,kn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,dn=this.g;if((Lr=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Lr)){var fr=Lr;break t}}fr=null}if(H=fr)J(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dn(this,H);else{this.o=!1,this.s=3,Ir(12),Ht(this),Fr(this);break e}}if(this.P){H=!0;let Qa;for(;!this.J&&this.C<wt.length;)if(Qa=ht(this,wt),Qa==He){kn==4&&(this.s=4,Ir(14),H=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(Qa==je){this.s=4,Ir(15),J(this.i,this.l,wt,"[Invalid Chunk]"),H=!1;break}else J(this.i,this.l,Qa,null),Dn(this,Qa);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||wt.length!=0||this.h.h||(this.s=1,Ir(16),H=!1),this.o=this.o&&H,!H)J(this.i,this.l,wt,"[Invalid Chunked Response]"),Ht(this),Fr(this);else if(0<wt.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),RA(ln),ln.M=!0,Ir(11))}}else J(this.i,this.l,wt,null),Dn(this,wt);kn==4&&Ht(this),this.o&&!this.J&&(kn==4?on(this.j,this):(this.o=!1,pt(this)))}else Or(this.g),H==400&&0<wt.indexOf("Unknown SID")?(this.s=3,Ir(12)):(this.s=0,Ir(13)),Ht(this),Fr(this)}}}catch{}finally{}};function ut(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function ht(b,U){var H=b.C,le=U.indexOf(`
`,H);return le==-1?He:(H=Number(U.substring(H,le)),isNaN(H)?je:(le+=1,le+H>U.length?He:(U=U.slice(le,le+H),b.C=le+H,U)))}qe.prototype.cancel=function(){this.J=!0,Ht(this)};function pt(b){b.S=Date.now()+b.I,St(b,b.I)}function St(b,U){if(b.B!=null)throw Error("WatchDog timer not null");b.B=mn(B(b.ba,b),U)}function Je(b){b.B&&(f.clearTimeout(b.B),b.B=null)}qe.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(ne(this.i,this.A),this.L!=2&&(aa(),Ir(17)),Ht(this),this.s=2,Fr(this)):St(this,this.S-b)};function Fr(b){b.j.G==0||b.J||on(b.j,b)}function Ht(b){Je(b);var U=b.M;U&&typeof U.ma=="function"&&U.ma(),b.M=null,At(b.U),b.g&&(U=b.g,b.g=null,U.abort(),U.ma())}function Dn(b,U){try{var H=b.j;if(H.G!=0&&(H.g==b||Mn(H.h,b))){if(!b.K&&Mn(H.h,b)&&H.G==3){try{var le=H.Da.g.parse(U)}catch{le=null}if(Array.isArray(le)&&le.length==3){var ke=le;if(ke[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<b.F)vs(H),oA(H);else break e;Cl(H),Ir(18)}}else H.za=ke[1],0<H.za-H.T&&37500>ke[2]&&H.F&&H.v==0&&!H.C&&(H.C=mn(B(H.Za,H),6e3));if(1>=ar(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Ma(H,11)}else if((b.K||H.g==b)&&vs(H),!V(U))for(ke=H.Da.g.parse(U),U=0;U<ke.length;U++){let fr=ke[U];if(H.T=fr[0],fr=fr[1],H.G==2)if(fr[0]=="c"){H.K=fr[1],H.ia=fr[2];const ln=fr[3];ln!=null&&(H.la=ln,H.j.info("VER="+H.la));const kn=fr[4];kn!=null&&(H.Aa=kn,H.j.info("SVER="+H.Aa));const Zn=fr[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(le=1.5*Zn,H.L=le,H.j.info("backChannelRequestTimeoutMs_="+le)),le=H;const Qa=b.g;if(Qa){const _a=Qa.g?Qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var We=le.h;We.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(ms(We,We.h),We.h=null))}if(le.D){const Ks=Qa.g?Qa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(le.ya=Ks,mt(le.I,le.D,Ks))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-b.F,H.j.info("Handshake RTT: "+H.R+"ms")),le=H;var wt=b;if(le.qa=Pt(le,le.J?le.ia:null,le.W),wt.K){$a(le.h,wt);var Lr=wt,dn=le.L;dn&&(Lr.I=dn),Lr.B&&(Je(Lr),pt(Lr)),le.g=wt}else _c(le);0<H.i.length&&$t(H)}else fr[0]!="stop"&&fr[0]!="close"||Ma(H,7);else H.G==3&&(fr[0]=="stop"||fr[0]=="close"?fr[0]=="stop"?Ma(H,7):Ui(H):fr[0]!="noop"&&H.l&&H.l.ta(fr),H.v=0)}}aa(4)}catch{}}var Hs=class{constructor(b,U){this.g=b,this.map=U}};function lr(b){this.l=b||10,f.PerformanceNavigationTiming?(b=f.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rr(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ar(b){return b.h?1:b.g?b.g.size:0}function Mn(b,U){return b.h?b.h==U:b.g?b.g.has(U):!1}function ms(b,U){b.g?b.g.add(U):b.h=U}function $a(b,U){b.h&&b.h==U?b.h=null:b.g&&b.g.has(U)&&b.g.delete(U)}lr.prototype.cancel=function(){if(this.i=br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function br(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let U=b.i;for(const H of b.g.values())U=U.concat(H.D);return U}return F(b.i)}function Ji(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(g(b)){for(var U=[],H=b.length,le=0;le<H;le++)U.push(b[le]);return U}U=[],H=0;for(le in b)U[H++]=b[le];return U}function Y0(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(g(b)||typeof b=="string"){var U=[];b=b.length;for(var H=0;H<b;H++)U.push(H);return U}U=[],H=0;for(const le in b)U[H++]=le;return U}}}function en(b,U){if(b.forEach&&typeof b.forEach=="function")b.forEach(U,void 0);else if(g(b)||typeof b=="string")Array.prototype.forEach.call(b,U,void 0);else for(var H=Y0(b),le=Ji(b),ke=le.length,We=0;We<ke;We++)U.call(void 0,le[We],H&&H[We],b)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(b,U){if(b){b=b.split("&");for(var H=0;H<b.length;H++){var le=b[H].indexOf("="),ke=null;if(0<=le){var We=b[H].substring(0,le);ke=b[H].substring(le+1)}else We=b[H];U(We,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function ei(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof ei){this.h=b.h,wn(this,b.j),this.o=b.o,this.g=b.g,Ue(this,b.s),this.l=b.l;var U=b.i,H=new Ni;H.i=U.i,U.g&&(H.g=new Map(U.g),H.h=U.h),de(this,H),this.m=b.m}else b&&(U=String(b).match(Ii))?(this.h=!1,wn(this,U[1]||"",!0),this.o=Yn(U[2]||""),this.g=Yn(U[3]||"",!0),Ue(this,U[4]),this.l=Yn(U[5]||"",!0),de(this,U[6]||"",!0),this.m=Yn(U[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}ei.prototype.toString=function(){var b=[],U=this.j;U&&b.push(Fi(U,ba,!0),":");var H=this.g;return(H||U=="file")&&(b.push("//"),(U=this.o)&&b.push(Fi(U,ba,!0),"@"),b.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&b.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&b.push("/"),b.push(Fi(H,H.charAt(0)=="/"?Yr:Lt,!0))),(H=this.i.toString())&&b.push("?",H),(H=this.m)&&b.push("#",Fi(H,q0)),b.join("")};function Yt(b){return new ei(b)}function wn(b,U,H){b.j=H?Yn(U,!0):U,b.j&&(b.j=b.j.replace(/:$/,""))}function Ue(b,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);b.s=U}else b.s=null}function de(b,U,H){U instanceof Ni?(b.i=U,$i(b.i,b.h)):(H||(U=Fi(U,Cc)),b.i=new Ni(U,b.h))}function mt(b,U,H){b.i.set(U,H)}function hn(b){return mt(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function Yn(b,U){return b?U?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Fi(b,U,H){return typeof b=="string"?(b=encodeURI(b).replace(U,vl),H&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function vl(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var ba=/[#\/\?@]/g,Lt=/[#\?:]/g,Yr=/[#\?]/g,Cc=/[#\?@]/g,q0=/#/g;function Ni(b,U){this.h=this.g=null,this.i=b||null,this.j=!!U}function On(b){b.g||(b.g=new Map,b.h=0,b.i&&go(b.i,function(U,H){b.add(decodeURIComponent(U.replace(/\+/g," ")),H)}))}t=Ni.prototype,t.add=function(b,U){On(this),this.i=null,b=xa(this,b);var H=this.g.get(b);return H||this.g.set(b,H=[]),H.push(U),this.h+=1,this};function sA(b,U){On(b),U=xa(b,U),b.g.has(U)&&(b.i=null,b.h-=b.g.get(U).length,b.g.delete(U))}function xo(b,U){return On(b),U=xa(b,U),b.g.has(U)}t.forEach=function(b,U){On(this),this.g.forEach(function(H,le){H.forEach(function(ke){b.call(U,ke,le,this)},this)},this)},t.na=function(){On(this);const b=Array.from(this.g.values()),U=Array.from(this.g.keys()),H=[];for(let le=0;le<U.length;le++){const ke=b[le];for(let We=0;We<ke.length;We++)H.push(U[le])}return H},t.V=function(b){On(this);let U=[];if(typeof b=="string")xo(this,b)&&(U=U.concat(this.g.get(xa(this,b))));else{b=Array.from(this.g.values());for(let H=0;H<b.length;H++)U=U.concat(b[H])}return U},t.set=function(b,U){return On(this),this.i=null,b=xa(this,b),xo(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[U]),this.h+=1,this},t.get=function(b,U){return b?(b=this.V(b),0<b.length?String(b[0]):U):U};function tn(b,U,H){sA(b,U),0<H.length&&(b.i=null,b.g.set(xa(b,U),F(H)),b.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],U=Array.from(this.g.keys());for(var H=0;H<U.length;H++){var le=U[H];const We=encodeURIComponent(String(le)),wt=this.V(le);for(le=0;le<wt.length;le++){var ke=We;wt[le]!==""&&(ke+="="+encodeURIComponent(String(wt[le]))),b.push(ke)}}return this.i=b.join("&")};function xa(b,U){return U=String(U),b.j&&(U=U.toLowerCase()),U}function $i(b,U){U&&!b.j&&(On(b),b.i=null,b.g.forEach(function(H,le){var ke=le.toLowerCase();le!=ke&&(sA(this,le),tn(this,ke,H))},b)),b.j=U}function Vt(b,U){const H=new Oa;if(f.Image){const le=new Image;le.onload=T(Gt,H,"TestLoadImage: loaded",!0,U,le),le.onerror=T(Gt,H,"TestLoadImage: error",!1,U,le),le.onabort=T(Gt,H,"TestLoadImage: abort",!1,U,le),le.ontimeout=T(Gt,H,"TestLoadImage: timeout",!1,U,le),f.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=b}else U(!1)}function bc(b,U){const H=new Oa,le=new AbortController,ke=setTimeout(()=>{le.abort(),Gt(H,"TestPingServer: timeout",!1,U)},1e4);fetch(b,{signal:le.signal}).then(We=>{clearTimeout(ke),We.ok?Gt(H,"TestPingServer: ok",!0,U):Gt(H,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(ke),Gt(H,"TestPingServer: error",!1,U)})}function Gt(b,U,H,le,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),le(H)}catch{}}function qr(){this.g=new Et}function yl(b,U,H){const le=H||"";try{en(b,function(ke,We){let wt=ke;h(ke)&&(wt=Le(ke)),U.push(le+We+"="+encodeURIComponent(wt))})}catch(ke){throw U.push(le+"type="+encodeURIComponent("_badmap")),ke}}function Ri(b){this.l=b.Ub||null,this.j=b.eb||!1}S(Ri,Rt),Ri.prototype.g=function(){return new ti(this.l,this.j)},Ri.prototype.i=(function(b){return function(){return b}})({});function ti(b,U){Jt.call(this),this.D=b,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ti,Jt),t=ti.prototype,t.open=function(b,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=U,this.readyState=1,Oi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(U.body=b),(this.D||f).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Di(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Di(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var U=b.value?b.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!b.done}))&&(this.response=this.responseText+=U)}b.done?ws(this):Oi(this),this.readyState==3&&Di(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,ws(this))},t.Qa=function(b){this.g&&(this.response=b,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Oi(b)}t.setRequestHeader=function(b,U){this.u.append(b,U)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],U=this.h.entries();for(var H=U.next();!H.done;)H=H.value,b.push(H[0]+": "+H[1]),H=U.next();return b.join(`\r
`)};function Oi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function es(b){let U="";return z(b,function(H,le){U+=le,U+=":",U+=H,U+=`\r
`}),U}function ki(b,U,H){e:{for(le in H){var le=!1;break e}le=!0}le||(H=es(H),typeof b=="string"?H!=null&&encodeURIComponent(String(H)):mt(b,U,H))}function rn(b){Jt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(rn,Jt);var Qn=/^https?$/i,gi=["POST","PUT"];t=rn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,U,H,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);U=U?U.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?Bt(this.o):Bt(ve),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(U,String(b),!0),this.B=!1}catch(We){Ln(this,We);return}if(b=H||"",H=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var ke in le)H.set(ke,le[ke]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const We of le.keys())H.set(We,le.get(We));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(H.keys()).find(We=>We.toLowerCase()=="content-type"),ke=f.FormData&&b instanceof f.FormData,!(0<=Array.prototype.indexOf.call(gi,U,void 0))||le||ke||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,wt]of H)this.g.setRequestHeader(We,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(b),this.u=!1}catch(We){Ln(this,We)}};function Ln(b,U){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=U,b.m=5,Vs(b),Gs(b)}function Vs(b){b.A||(b.A=!0,Vr(b,"complete"),Vr(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,Vr(this,"complete"),Vr(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),rn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},t.bb=function(){El(this)};function El(b){if(b.h&&typeof l<"u"&&(!b.v[1]||Ua(b)!=4||b.Z()!=2)){if(b.u&&Ua(b)==4)Nt(b.Ea,0,b);else if(Vr(b,"readystatechange"),Ua(b)==4){b.h=!1;try{const wt=b.Z();e:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var H;if(!(H=U)){var le;if(le=wt===0){var ke=String(b.D).match(Ii)[1]||null;!ke&&f.self&&f.self.location&&(ke=f.self.location.protocol.slice(0,-1)),le=!Qn.test(ke?ke.toLowerCase():"")}H=le}if(H)Vr(b,"complete"),Vr(b,"success");else{b.m=6;try{var We=2<Ua(b)?b.g.statusText:""}catch{We=""}b.l=We+" ["+b.Z()+"]",Vs(b)}}finally{Gs(b)}}}}function Gs(b,U){if(b.g){po(b);const H=b.g,le=b.v[0]?()=>{}:null;b.g=null,b.v=null,U||Vr(b,"ready");try{H.onreadystatechange=le}catch{}}}function po(b){b.I&&(f.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function Ua(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var U=this.g.responseText;return b&&U.indexOf(b)==0&&(U=U.substring(b.length)),nt(U)}};function IA(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(b){const U={};b=(b.g&&2<=Ua(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<b.length;le++){if(V(b[le]))continue;var H=Y(b[le]);const ke=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const We=U[ke]||[];U[ke]=We,We.push(H)}O(U,function(le){return le.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function AA(b,U,H){return H&&H.internalChannelParams&&H.internalChannelParams[b]||U}function FA(b){this.Aa=0,this.i=[],this.j=new Oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=AA("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=AA("baseRetryDelayMs",5e3,b),this.cb=AA("retryDelaySeedMs",1e4,b),this.Wa=AA("forwardChannelMaxRetries",2,b),this.wa=AA("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(b&&b.concurrentRequestLimit),this.Da=new qr,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=FA.prototype,t.la=8,t.G=1,t.connect=function(b,U,H,le){Ir(0),this.W=b,this.H=U||{},H&&le!==void 0&&(this.H.OSID=H,this.H.OAID=le),this.F=this.X,this.I=Pt(this,null,this.W),$t(this)};function Ui(b){if(Ke(b),b.G==3){var U=b.U++,H=Yt(b.I);if(mt(H,"SID",b.K),mt(H,"RID",U),mt(H,"TYPE","terminate"),lA(b,H),U=new qe(b,b.j,U),U.L=2,U.v=hn(Yt(H)),H=!1,f.navigator&&f.navigator.sendBeacon)try{H=f.navigator.sendBeacon(U.v.toString(),"")}catch{}!H&&f.Image&&(new Image().src=U.v,H=!0),H||(U.g=Tc(U.j,null),U.g.ea(U.v)),U.F=Date.now(),pt(U)}kr(b)}function oA(b){b.g&&(RA(b),b.g.cancel(),b.g=null)}function Ke(b){oA(b),b.u&&(f.clearTimeout(b.u),b.u=null),vs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&f.clearTimeout(b.s),b.s=null)}function $t(b){if(!rr(b.h)&&!b.s){b.s=!0;var U=b.Ga;ue||$e(),Ve||(ue(),Ve=!0),Ee.add(U,b),b.B=0}}function qn(b,U){return ar(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=U.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=mn(B(b.Ga,b,U),DA(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const ke=new qe(this,this.j,b);let We=this.o;if(this.S&&(We?(We=M(We),Z(We,this.S)):We=this.S),this.m!==null||this.O||(ke.H=We,We=null),this.P)e:{for(var U=0,H=0;H<this.i.length;H++){t:{var le=this.i[H];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(U+=le,4096<U){U=H;break e}if(U===4096||H===this.i.length-1){U=H+1;break e}}U=1e3}else U=1e3;U=Bl(this,ke,U),H=Yt(this.I),mt(H,"RID",b),mt(H,"CVER",22),this.D&&mt(H,"X-HTTP-Session-Id",this.D),lA(this,H),We&&(this.O?U="headers="+encodeURIComponent(String(es(We)))+"&"+U:this.m&&ki(H,this.m,We)),ms(this.h,ke),this.Ua&&mt(H,"TYPE","init"),this.P?(mt(H,"$req",U),mt(H,"SID","null"),ke.T=!0,st(ke,H,null)):st(ke,H,U),this.G=2}}else this.G==3&&(b?NA(this,b):this.i.length==0||rr(this.h)||NA(this))};function NA(b,U){var H;U?H=U.l:H=b.U++;const le=Yt(b.I);mt(le,"SID",b.K),mt(le,"RID",H),mt(le,"AID",b.T),lA(b,le),b.m&&b.o&&ki(le,b.m,b.o),H=new qe(b,b.j,H,b.B+1),b.m===null&&(H.H=b.o),U&&(b.i=U.D.concat(b.i)),U=Bl(b,H,1e3),H.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),ms(b.h,H),st(H,le,U)}function lA(b,U){b.H&&z(b.H,function(H,le){mt(U,le,H)}),b.l&&en({},function(H,le){mt(U,le,H)})}function Bl(b,U,H){H=Math.min(b.i.length,H);var le=b.l?B(b.l.Na,b.l,b):null;e:{var ke=b.i;let We=-1;for(;;){const wt=["count="+H];We==-1?0<H?(We=ke[0].g,wt.push("ofs="+We)):We=0:wt.push("ofs="+We);let Lr=!0;for(let dn=0;dn<H;dn++){let fr=ke[dn].g;const ln=ke[dn].map;if(fr-=We,0>fr)We=Math.max(0,ke[dn].g-100),Lr=!1;else try{yl(ln,wt,"req"+fr+"_")}catch{le&&le(ln)}}if(Lr){le=wt.join("&");break e}}}return b=b.i.splice(0,H),U.D=b,le}function _c(b){if(!b.g&&!b.u){b.Y=1;var U=b.Fa;ue||$e(),Ve||(ue(),Ve=!0),Ee.add(U,b),b.v=0}}function Cl(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=mn(B(b.Fa,b),DA(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,_n(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=mn(B(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ir(10),oA(this),_n(this))};function RA(b){b.A!=null&&(f.clearTimeout(b.A),b.A=null)}function _n(b){b.g=new qe(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var U=Yt(b.qa);mt(U,"RID","rpc"),mt(U,"SID",b.K),mt(U,"AID",b.T),mt(U,"CI",b.F?"0":"1"),!b.F&&b.ja&&mt(U,"TO",b.ja),mt(U,"TYPE","xmlhttp"),lA(b,U),b.m&&b.o&&ki(U,b.m,b.o),b.L&&(b.g.I=b.L);var H=b.g;b=b.ia,H.L=1,H.v=hn(Yt(U)),H.m=null,H.P=!0,ct(H,b)}t.Za=function(){this.C!=null&&(this.C=null,oA(this),Cl(this),Ir(19))};function vs(b){b.C!=null&&(f.clearTimeout(b.C),b.C=null)}function on(b,U){var H=null;if(b.g==U){vs(b),RA(b),b.g=null;var le=2}else if(Mn(b.h,U))H=U.D,$a(b.h,U),le=1;else return;if(b.G!=0){if(U.o)if(le==1){H=U.m?U.m.length:0,U=Date.now()-U.F;var ke=b.B;le=Ti(),Vr(le,new Si(le,H)),$t(b)}else _c(b);else if(ke=U.s,ke==3||ke==0&&0<U.X||!(le==1&&qn(b,U)||le==2&&Cl(b)))switch(H&&0<H.length&&(U=b.h,U.i=U.i.concat(H)),ke){case 1:Ma(b,5);break;case 4:Ma(b,10);break;case 3:Ma(b,6);break;default:Ma(b,2)}}}function DA(b,U){let H=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(H*=2),H*U}function Ma(b,U){if(b.j.info("Error code "+U),U==2){var H=B(b.fb,b),le=b.Xa;const ke=!le;le=new ei(le||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||wn(le,"https"),hn(le),ke?Vt(le.toString(),H):bc(le.toString(),H)}else Ir(2);b.G=0,b.l&&b.l.sa(U),kr(b),Ke(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))};function kr(b){if(b.G=0,b.ka=[],b.l){const U=br(b.h);(U.length!=0||b.i.length!=0)&&(D(b.ka,U),D(b.ka,b.i),b.h.i.length=0,F(b.i),b.i.length=0),b.l.ra()}}function Pt(b,U,H){var le=H instanceof ei?Yt(H):new ei(H);if(le.g!="")U&&(le.g=U+"."+le.g),Ue(le,le.s);else{var ke=f.location;le=ke.protocol,U=U?U+"."+ke.hostname:ke.hostname,ke=+ke.port;var We=new ei(null);le&&wn(We,le),U&&(We.g=U),ke&&Ue(We,ke),H&&(We.l=H),le=We}return H=b.D,U=b.ya,H&&U&&mt(le,H,U),mt(le,"VER",b.la),lA(b,le),le}function Tc(b,U,H){if(U&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=b.Ca&&!b.pa?new rn(new Ri({eb:H})):new rn(b.pa),U.Ha(b.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zr(){}t=zr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mi(){}Mi.prototype.g=function(b,U){return new Pn(b,U)};function Pn(b,U){Jt.call(this),this.g=new FA(U),this.l=b,this.h=U&&U.messageUrlParams||null,b=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(b?b["X-WebChannel-Content-Type"]=U.messageContentType:b={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(b?b["X-WebChannel-Client-Profile"]=U.va:b={"X-WebChannel-Client-Profile":U.va}),this.g.S=b,(b=U&&U.Sb)&&!V(b)&&(this.g.m=b),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!V(U)&&(this.g.D=U,b=this.h,b!==null&&U in b&&(b=this.h,U in b&&delete b[U])),this.j=new ys(this)}S(Pn,Jt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Ui(this.g)},Pn.prototype.o=function(b){var U=this.g;if(typeof b=="string"){var H={};H.__data__=b,b=H}else this.u&&(H={},H.__data__=Le(b),b=H);U.i.push(new Hs(U.Ya++,b)),U.G==3&&$t(U)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Ui(this.g),delete this.g,Pn.aa.N.call(this)};function Sc(b){gr.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var U=b.__sm__;if(U){e:{for(const H in U){b=H;break e}b=void 0}(this.i=b)&&(b=this.i,U=U!==null&&b in U?U[b]:void 0),this.data=U}else this.data=b}S(Sc,gr);function xi(){Gr.call(this),this.status=1}S(xi,Gr);function ys(b){this.g=b}S(ys,zr),ys.prototype.ua=function(){Vr(this.g,"a")},ys.prototype.ta=function(b){Vr(this.g,new Sc(b))},ys.prototype.sa=function(b){Vr(this.g,new xi)},ys.prototype.ra=function(){Vr(this.g,"b")},Mi.prototype.createWebChannel=Mi.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,e8=function(){return new Mi},$I=function(){return Ti()},JI=Rn,ew={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,tg=ce,he.COMPLETE="complete",ZI=he,jt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,Af=jt,rn.prototype.listenOnce=rn.prototype.L,rn.prototype.getLastError=rn.prototype.Ka,rn.prototype.getLastErrorCode=rn.prototype.Ba,rn.prototype.getStatus=rn.prototype.Z,rn.prototype.getResponseJson=rn.prototype.Oa,rn.prototype.getResponseText=rn.prototype.oa,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Ha,qI=rn}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});const Q4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new cv("@firebase/firestore");function Uu(){return lc.logLevel}function Ut(t,...e){if(lc.logLevel<=Ur.DEBUG){const r=e.map(fv);lc.debug(`Firestore (${K0}): ${t}`,...r)}}function uo(t,...e){if(lc.logLevel<=Ur.ERROR){const r=e.map(fv);lc.error(`Firestore (${K0}): ${t}`,...r)}}function O0(t,...e){if(lc.logLevel<=Ur.WARN){const r=e.map(fv);lc.warn(`Firestore (${K0}): ${t}`,...r)}}function fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t="Unexpected state"){const e=`FIRESTORE (${K0}) INTERNAL ASSERTION FAILED: `+t;throw uo(e),new Error(e)}function $r(t,e){t||er()}function or(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends ml{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(si.UNAUTHENTICATED)))}shutdown(){}}class YK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class qK{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){$r(this.o===void 0);let n=this.i;const a=g=>this.i!==n?(n=this.i,r(g)):Promise.resolve();let s=new ic;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ic,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const g=s;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},f=g=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ic)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($r(typeof n.accessToken=="string"),new t8(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $r(e===null||typeof e=="string"),new si(e)}}class ZK{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=si.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JK{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new ZK(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $K{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ez{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){$r(this.o===void 0);const n=s=>{s.error!=null&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,Ut("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const a=s=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?a(s):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?($r(typeof r.token=="string"),this.R=r.token,new $K(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=tz(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%e.length))}return n}}function Hr(t,e){return t<e?-1:t>e?1:0}function k0(t,e,r){return t.length===e.length&&t.every(((n,a)=>r(n,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ot(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ot(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ot(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ba.fromMillis(Date.now())}static fromDate(e){return Ba.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Ba(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hr(this.nanoseconds,e.nanoseconds):Hr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ar(e)}static min(){return new Ar(new Ba(0,0))}static max(){return new Ar(new Ba(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r,n){r===void 0?r=0:r>e.length&&er(),n===void 0?n=e.length-r:n>e.length-r&&er(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=e.get(a),l=r.get(a);if(s<l)return-1;if(s>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Bn extends Gf{construct(e,r,n){return new Bn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ot(ot.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((a=>a.length>0)))}return new Bn(r)}static emptyPath(){return new Bn([])}}const rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xa extends Gf{construct(e,r,n){return new Xa(e,r,n)}static isValidIdentifier(e){return rz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xa(["__name__"])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Ot(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ot(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ot(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=g,a+=2}else f==="`"?(l=!l,a++):f!=="."||l?(n+=f,a++):(s(),a++)}if(s(),l)throw new Ot(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xa(r)}static emptyPath(){return new Xa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.path=e}static fromPath(e){return new zt(Bn.fromString(e))}static fromName(e){return new zt(Bn.fromString(e).popFirst(5))}static empty(){return new zt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Bn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new Bn(e.slice()))}}function nz(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ar.fromTimestamp(n===1e9?new Ba(r+1,0):new Ba(r,n));return new dl(a,zt.empty(),e)}function az(t){return new dl(t.readTime,t.key,-1)}class dl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new dl(Ar.min(),zt.empty(),-1)}static max(){return new dl(Ar.max(),zt.empty(),-1)}}function iz(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=zt.comparator(t.documentKey,e.documentKey),r!==0?r:Hr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Az{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){if(t.code!==ot.FAILED_PRECONDITION||t.message!==sz)throw t;Ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&er(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ft(((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ft?r:ft.resolve(r)}catch(r){return ft.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ft.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ft.reject(r)}static resolve(e){return new ft(((r,n)=>{r(e)}))}static reject(e){return new ft(((r,n)=>{n(e)}))}static waitFor(e){return new ft(((r,n)=>{let a=0,s=0,l=!1;e.forEach((f=>{++a,f.next((()=>{++s,l&&s===a&&r()}),(g=>n(g)))})),l=!0,s===a&&r()}))}static or(e){let r=ft.resolve(!1);for(const n of e)r=r.next((a=>a?ft.resolve(a):n()));return r}static forEach(e,r){const n=[];return e.forEach(((a,s)=>{n.push(r.call(this,a,s))})),this.waitFor(n)}static mapArray(e,r){return new ft(((n,a)=>{const s=e.length,l=new Array(s);let f=0;for(let g=0;g<s;g++){const h=g;r(e[h]).next((p=>{l[h]=p,++f,f===s&&n(l)}),(p=>a(p)))}}))}static doWhile(e,r){return new ft(((n,a)=>{const s=()=>{e()===!0?r().next((()=>{s()}),a):n()};s()}))}}function oz(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function oh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hv.oe=-1;function Ax(t){return t==null}function Dg(t){return t===0&&1/t==-1/0}function lz(t){return typeof t=="number"&&Number.isInteger(t)&&!Dg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ec(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function n8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,r){this.comparator=e,this.root=r||Ka.EMPTY}insert(e,r){return new Un(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ka.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ka.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new c1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new c1(this.root,e,this.comparator,!1)}getReverseIterator(){return new c1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new c1(this.root,e,this.comparator,!0)}}class c1{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ka{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??Ka.RED,this.left=a??Ka.EMPTY,this.right=s??Ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new Ka(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Ka.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw er();const e=this.left.check();if(e!==this.right.check())throw er();return e+(this.isRed()?0:1)}}Ka.EMPTY=null,Ka.RED=!0,Ka.BLACK=!1;Ka.EMPTY=new class{constructor(){this.size=0}get key(){throw er()}get value(){throw er()}get color(){throw er()}get left(){throw er()}get right(){throw er()}copy(e,r,n,a,s){return this}insert(e,r,n){return new Ka(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new P4(this.data.getIterator())}getIteratorFrom(e){return new P4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Za(this.comparator);return r.data=e,r}}class P4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(Xa.comparator)}static empty(){return new ds([])}unionWith(e){let r=new Za(Xa.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ds(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return k0(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new a8("Invalid base64 string: "+s):s}})(e);return new Ja(r)}static fromUint8Array(e){const r=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new Ja(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ja.EMPTY_BYTE_STRING=new Ja("");const cz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(t){if($r(!!t),typeof t=="string"){let e=0;const r=cz.exec(t);if($r(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:na(t.seconds),nanos:na(t.nanos)}}function na(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?Ja.fromBase64String(t):Ja.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function gv(t){const e=t.mapValue.fields.__previous_value__;return dv(e)?gv(e):e}function Kf(t){const e=gl(t.mapValue.fields.__local_write_time__.timestampValue);return new Ba(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,r,n,a,s,l,f,g,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=h}}class zf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new zf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={mapValue:{}};function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:hz(t)?9007199254740991:fz(t)?10:11:er()}function BA(t,e){if(t===e)return!0;const r=uc(t);if(r!==uc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=gl(a.timestampValue),f=gl(s.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return cc(a.bytesValue).isEqual(cc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return na(a.geoPointValue.latitude)===na(s.geoPointValue.latitude)&&na(a.geoPointValue.longitude)===na(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return na(a.integerValue)===na(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=na(a.doubleValue),f=na(s.doubleValue);return l===f?Dg(l)===Dg(f):isNaN(l)&&isNaN(f)}return!1})(t,e);case 9:return k0(t.arrayValue.values||[],e.arrayValue.values||[],BA);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},f=s.mapValue.fields||{};if(L4(l)!==L4(f))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(f[g]===void 0||!BA(l[g],f[g])))return!1;return!0})(t,e);default:return er()}}function Xf(t,e){return(t.values||[]).find((r=>BA(r,e)))!==void 0}function U0(t,e){if(t===e)return 0;const r=uc(t),n=uc(e);if(r!==n)return Hr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Hr(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const f=na(s.integerValue||s.doubleValue),g=na(l.integerValue||l.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(t,e);case 3:return j4(t.timestampValue,e.timestampValue);case 4:return j4(Kf(t),Kf(e));case 5:return Hr(t.stringValue,e.stringValue);case 6:return(function(s,l){const f=cc(s),g=cc(l);return f.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const f=s.split("/"),g=l.split("/");for(let h=0;h<f.length&&h<g.length;h++){const p=Hr(f[h],g[h]);if(p!==0)return p}return Hr(f.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const f=Hr(na(s.latitude),na(l.latitude));return f!==0?f:Hr(na(s.longitude),na(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return H4(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var f,g,h,p;const y=s.fields||{},B=l.fields||{},T=(f=y.value)===null||f===void 0?void 0:f.arrayValue,S=(g=B.value)===null||g===void 0?void 0:g.arrayValue,F=Hr(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return F!==0?F:H4(T,S)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===u1.mapValue&&l===u1.mapValue)return 0;if(s===u1.mapValue)return 1;if(l===u1.mapValue)return-1;const f=s.fields||{},g=Object.keys(f),h=l.fields||{},p=Object.keys(h);g.sort(),p.sort();for(let y=0;y<g.length&&y<p.length;++y){const B=Hr(g[y],p[y]);if(B!==0)return B;const T=U0(f[g[y]],h[p[y]]);if(T!==0)return T}return Hr(g.length,p.length)})(t.mapValue,e.mapValue);default:throw er()}}function j4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Hr(t,e);const r=gl(t),n=gl(e),a=Hr(r.seconds,n.seconds);return a!==0?a:Hr(r.nanos,n.nanos)}function H4(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=U0(r[a],n[a]);if(s)return s}return Hr(r.length,n.length)}function M0(t){return tw(t)}function tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=gl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return cc(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return zt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=tw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const l of n)s?s=!1:a+=",",a+=`${l}:${tw(r.fields[l])}`;return a+"}"})(t.mapValue):er()}function V4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rw(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function G4(t){return!!t&&"nullValue"in t}function K4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function fz(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function bf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ec(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=bf(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function hz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!rg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(r)}setAll(e){let r=Xa.emptyPath(),n={},a=[];e.forEach(((l,f)=>{if(!r.isImmediateParentOf(f)){const g=this.getFieldsMap(r);this.applyChanges(g,n,a),n={},a=[],r=f.popLast()}l?n[f.lastSegment()]=bf(l):a.push(f.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());rg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return BA(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];rg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){Ec(r,((a,s)=>e[a]=s));for(const a of n)delete e[a]}clone(){return new Wi(bf(this.value))}}function i8(t){const e=[];return Ec(t.fields,((r,n)=>{const a=new Xa([r]);if(rg(n)){const s=i8(n.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,r,n,a,s,l,f){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=l,this.documentState=f}static newInvalidDocument(e){return new li(e,0,Ar.min(),Ar.min(),Ar.min(),Wi.empty(),0)}static newFoundDocument(e,r,n,a){return new li(e,1,r,Ar.min(),n,a,0)}static newNoDocument(e,r){return new li(e,2,r,Ar.min(),Ar.min(),Wi.empty(),0)}static newUnknownDocument(e,r){return new li(e,3,r,Ar.min(),Ar.min(),Wi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ar.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ar.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,r){this.position=e,this.inclusive=r}}function z4(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?n=zt.comparator(zt.fromName(l.referenceValue),r.key):n=U0(l,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function X4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!BA(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,r="asc"){this.field=e,this.dir=r}}function dz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{}class da extends s8{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new xz(e,r,n):r==="array-contains"?new wz(e,n):r==="in"?new vz(e,n):r==="not-in"?new yz(e,n):r==="array-contains-any"?new Ez(e,n):new da(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new pz(e,n):new mz(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(U0(r,this.value)):r!==null&&uc(this.value)===uc(r)&&this.matchesComparison(U0(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return er()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aA extends s8{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new aA(e,r)}matches(e){return A8(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function A8(t){return t.op==="and"}function o8(t){return gz(t)&&A8(t)}function gz(t){for(const e of t.filters)if(e instanceof aA)return!1;return!0}function nw(t){if(t instanceof da)return t.field.canonicalString()+t.op.toString()+M0(t.value);if(o8(t))return t.filters.map((e=>nw(e))).join(",");{const e=t.filters.map((r=>nw(r))).join(",");return`${t.op}(${e})`}}function l8(t,e){return t instanceof da?(function(n,a){return a instanceof da&&n.op===a.op&&n.field.isEqual(a.field)&&BA(n.value,a.value)})(t,e):t instanceof aA?(function(n,a){return a instanceof aA&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((s,l,f)=>s&&l8(l,a.filters[f])),!0):!1})(t,e):void er()}function c8(t){return t instanceof da?(function(r){return`${r.field.canonicalString()} ${r.op} ${M0(r.value)}`})(t):t instanceof aA?(function(r){return r.op.toString()+" {"+r.getFilters().map(c8).join(" ,")+"}"})(t):"Filter"}class xz extends da{constructor(e,r,n){super(e,r,n),this.key=zt.fromName(n.referenceValue)}matches(e){const r=zt.comparator(e.key,this.key);return this.matchesComparison(r)}}class pz extends da{constructor(e,r){super(e,"in",r),this.keys=u8("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class mz extends da{constructor(e,r){super(e,"not-in",r),this.keys=u8("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function u8(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>zt.fromName(n.referenceValue)))}class wz extends da{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xv(r)&&Xf(r.arrayValue,this.value)}}class vz extends da{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Xf(this.value.arrayValue,r)}}class yz extends da{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Xf(this.value.arrayValue,r)}}class Ez extends da{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xv(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Xf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,r=null,n=[],a=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=l,this.endAt=f,this.ue=null}}function W4(t,e=null,r=[],n=[],a=null,s=null,l=null){return new Bz(t,e,r,n,a,s,l)}function pv(t){const e=or(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>nw(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Ax(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>M0(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>M0(n))).join(",")),e.ue=r}return e.ue}function mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!dz(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!l8(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X4(t.startAt,e.startAt)&&X4(t.endAt,e.endAt)}function aw(t){return zt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,r=null,n=[],a=[],s=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Cz(t,e,r,n,a,s,l,f){return new lh(t,e,r,n,a,s,l,f)}function wv(t){return new lh(t)}function Y4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f8(t){return t.collectionGroup!==null}function _f(t){const e=or(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new Za(Xa.comparator);return l.filters.forEach((g=>{g.getFlattenedFilters().forEach((h=>{h.isInequality()&&(f=f.add(h.field))}))})),f})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new kg(s,n))})),r.has(Xa.keyField().canonicalString())||e.ce.push(new kg(Xa.keyField(),n))}return e.ce}function mA(t){const e=or(t);return e.le||(e.le=bz(e,_f(t))),e.le}function bz(t,e){if(t.limitType==="F")return W4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new kg(a.field,s)}));const r=t.endAt?new Og(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Og(t.startAt.position,t.startAt.inclusive):null;return W4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function iw(t,e){const r=t.filters.concat([e]);return new lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function sw(t,e,r){return new lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ox(t,e){return mv(mA(t),mA(e))&&t.limitType===e.limitType}function h8(t){return`${pv(mA(t))}|lt:${t.limitType}`}function g0(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((a=>c8(a))).join(", ")}]`),Ax(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((a=>M0(a))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((a=>M0(a))).join(",")),`Target(${n})`})(mA(t))}; limitType=${t.limitType})`}function lx(t,e){return e.isFoundDocument()&&(function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):zt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,a){for(const s of _f(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(n,a){return!(n.startAt&&!(function(l,f,g){const h=z4(l,f,g);return l.inclusive?h<=0:h<0})(n.startAt,_f(n),a)||n.endAt&&!(function(l,f,g){const h=z4(l,f,g);return l.inclusive?h>=0:h>0})(n.endAt,_f(n),a))})(t,e)}function _z(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d8(t){return(e,r)=>{let n=!1;for(const a of _f(t)){const s=Tz(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function Tz(t,e,r){const n=t.field.isKeyField()?zt.comparator(e.key,r.key):(function(s,l,f){const g=l.data.field(s),h=f.data.field(s);return g!==null&&h!==null?U0(g,h):er()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return er()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ec(this.inner,((r,n)=>{for(const[a,s]of n)e(a,s)}))}isEmpty(){return n8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new Un(zt.comparator);function fo(){return Sz}const g8=new Un(zt.comparator);function of(...t){let e=g8;for(const r of t)e=e.insert(r.key,r);return e}function x8(t){let e=g8;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Jl(){return Tf()}function p8(){return Tf()}function Tf(){return new z0((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Iz=new Un(zt.comparator),Fz=new Za(zt.comparator);function Cr(...t){let e=Fz;for(const r of t)e=e.add(r);return e}const Nz=new Za(Hr);function Rz(){return Nz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dg(e)?"-0":e}}function m8(t){return{integerValue:""+t}}function Dz(t,e){return lz(e)?m8(e):vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this._=void 0}}function Oz(t,e,r){return t instanceof Ug?(function(a,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&dv(s)&&(s=gv(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}})(r,e):t instanceof Wf?v8(t,e):t instanceof Yf?y8(t,e):(function(a,s){const l=w8(a,s),f=q4(l)+q4(a.Pe);return rw(l)&&rw(a.Pe)?m8(f):vv(a.serializer,f)})(t,e)}function kz(t,e,r){return t instanceof Wf?v8(t,e):t instanceof Yf?y8(t,e):r}function w8(t,e){return t instanceof Mg?(function(n){return rw(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class Ug extends cx{}class Wf extends cx{constructor(e){super(),this.elements=e}}function v8(t,e){const r=E8(e);for(const n of t.elements)r.some((a=>BA(a,n)))||r.push(n);return{arrayValue:{values:r}}}class Yf extends cx{constructor(e){super(),this.elements=e}}function y8(t,e){let r=E8(e);for(const n of t.elements)r=r.filter((a=>!BA(a,n)));return{arrayValue:{values:r}}}class Mg extends cx{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function q4(t){return na(t.integerValue||t.doubleValue)}function E8(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uz(t,e){return t.field.isEqual(e.field)&&(function(n,a){return n instanceof Wf&&a instanceof Wf||n instanceof Yf&&a instanceof Yf?k0(n.elements,a.elements,BA):n instanceof Mg&&a instanceof Mg?BA(n.Pe,a.Pe):n instanceof Ug&&a instanceof Ug})(t.transform,e.transform)}class Mz{constructor(e,r){this.version=e,this.transformResults=r}}class Yi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ux{}function B8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fx(t.key,Yi.none()):new ch(t.key,t.data,Yi.none());{const r=t.data,n=Wi.empty();let a=new Za(Xa.comparator);for(let s of e.fields)if(!a.has(s)){let l=r.field(s);l===null&&s.length>1&&(s=s.popLast(),l=r.field(s)),l===null?n.delete(s):n.set(s,l),a=a.add(s)}return new wl(t.key,n,new ds(a.toArray()),Yi.none())}}function Qz(t,e,r){t instanceof ch?(function(a,s,l){const f=a.value.clone(),g=J4(a.fieldTransforms,s,l.transformResults);f.setAll(g),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,r):t instanceof wl?(function(a,s,l){if(!ng(a.precondition,s))return void s.convertToUnknownDocument(l.version);const f=J4(a.fieldTransforms,s,l.transformResults),g=s.data;g.setAll(C8(a)),g.setAll(f),s.convertToFoundDocument(l.version,g).setHasCommittedMutations()})(t,e,r):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function Sf(t,e,r,n){return t instanceof ch?(function(s,l,f,g){if(!ng(s.precondition,l))return f;const h=s.value.clone(),p=$4(s.fieldTransforms,g,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof wl?(function(s,l,f,g){if(!ng(s.precondition,l))return f;const h=$4(s.fieldTransforms,g,l),p=l.data;return p.setAll(C8(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),f===null?null:f.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(t,e,r,n):(function(s,l,f){return ng(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f})(t,e,r)}function Lz(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=w8(n.transform,a||null);s!=null&&(r===null&&(r=Wi.empty()),r.set(n.field,s))}return r||null}function Z4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&k0(n,a,((s,l)=>Uz(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ch extends ux{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wl extends ux{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C8(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function J4(t,e,r){const n=new Map;$r(t.length===r.length);for(let a=0;a<r.length;a++){const s=t[a],l=s.transform,f=e.data.field(s.field);n.set(s.field,kz(l,f,r[a]))}return n}function $4(t,e,r){const n=new Map;for(const a of t){const s=a.transform,l=r.data.field(a.field);n.set(a.field,Oz(s,l,e))}return n}class fx extends ux{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pz extends ux{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Qz(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Sf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Sf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=p8();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let f=this.applyToLocalView(l,s.mutatedFields);f=r.has(a.key)?null:f;const g=B8(l,f);g!==null&&n.set(a.key,g),l.isValidDocument()||l.convertToNoDocument(Ar.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Cr())}isEqual(e){return this.batchId===e.batchId&&k0(this.mutations,e.mutations,((r,n)=>Z4(r,n)))&&k0(this.baseMutations,e.baseMutations,((r,n)=>Z4(r,n)))}}class yv{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){$r(e.mutations.length===n.length);let a=(function(){return Iz})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,n[l].version);return new yv(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca,Nr;function Gz(t){switch(t){default:return er();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function b8(t){if(t===void 0)return uo("GRPC error has no .code"),ot.UNKNOWN;switch(t){case ca.OK:return ot.OK;case ca.CANCELLED:return ot.CANCELLED;case ca.UNKNOWN:return ot.UNKNOWN;case ca.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case ca.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case ca.INTERNAL:return ot.INTERNAL;case ca.UNAVAILABLE:return ot.UNAVAILABLE;case ca.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case ca.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case ca.NOT_FOUND:return ot.NOT_FOUND;case ca.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case ca.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case ca.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case ca.ABORTED:return ot.ABORTED;case ca.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case ca.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case ca.DATA_LOSS:return ot.DATA_LOSS;default:return er()}}(Nr=ca||(ca={}))[Nr.OK=0]="OK",Nr[Nr.CANCELLED=1]="CANCELLED",Nr[Nr.UNKNOWN=2]="UNKNOWN",Nr[Nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nr[Nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nr[Nr.NOT_FOUND=5]="NOT_FOUND",Nr[Nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nr[Nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nr[Nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nr[Nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nr[Nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nr[Nr.ABORTED=10]="ABORTED",Nr[Nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nr[Nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nr[Nr.INTERNAL=13]="INTERNAL",Nr[Nr.UNAVAILABLE=14]="UNAVAILABLE",Nr[Nr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=new ac([4294967295,4294967295],0);function e_(t){const e=Kz().encode(t),r=new YI;return r.update(e),new Uint8Array(r.digest())}function t_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ac([r,n],0),new ac([a,s],0)]}class Ev{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new lf(`Invalid padding: ${r}`);if(n<0)throw new lf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new lf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new lf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ac.fromNumber(this.Ie)}Ee(e,r,n){let a=e.add(r.multiply(ac.fromNumber(n)));return a.compare(zz)===1&&(a=new ac([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=e_(e),[n,a]=t_(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,a,s);if(!this.de(l))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Ev(s,a,r);return n.forEach((f=>l.insert(f))),l}insert(e){if(this.Ie===0)return;const r=e_(e),[n,a]=t_(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,a,s);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new hx(Ar.min(),a,new Un(Hr),fo(),Cr())}}class uh{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new uh(n,r,Cr(),Cr(),Cr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,r,n,a){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=a}}class _8{constructor(e,r){this.targetId=e,this.me=r}}class T8{constructor(e,r,n=Ja.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class r_{constructor(){this.fe=0,this.ge=a_(),this.pe=Ja.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Cr(),r=Cr(),n=Cr();return this.ge.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:er()}})),new uh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=a_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$r(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xz{constructor(e){this.Le=e,this.Be=new Map,this.ke=fo(),this.qe=n_(),this.Qe=new Un(Hr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:er()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,a)=>{this.ze(a)&&r(a)}))}He(e){const r=e.targetId,n=e.me.count,a=this.Je(r);if(a){const s=a.target;if(aw(s))if(n===0){const l=new zt(s.path);this.Ue(r,l,li.newNoDocument(l,Ar.min()))}else $r(n===1);else{const l=this.Ye(r);if(l!==n){const f=this.Ze(e),g=f?this.Xe(f,e,l):1;if(g!==0){this.je(r);const h=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let l,f;try{l=cc(n).toUint8Array()}catch(g){if(g instanceof a8)return O0("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Ev(l,a,s)}catch(g){return O0(g instanceof lf?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ie===0?null:f}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let a=0;return n.forEach((s=>{const l=this.Le.tt(),f=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(f)||(this.Ue(r,s,null),a++)})),a}rt(e){const r=new Map;this.Be.forEach(((s,l)=>{const f=this.Je(l);if(f){if(s.current&&aw(f.target)){const g=new zt(f.target.path);this.ke.get(g)!==null||this.it(l,g)||this.Ue(l,g,li.newNoDocument(g,e))}s.be&&(r.set(l,s.ve()),s.Ce())}}));let n=Cr();this.qe.forEach(((s,l)=>{let f=!0;l.forEachWhile((g=>{const h=this.Je(g);return!h||h.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(n=n.add(s))})),this.ke.forEach(((s,l)=>l.setReadTime(e)));const a=new hx(e,r,this.Qe,this.ke,n);return this.ke=fo(),this.qe=n_(),this.Qe=new Un(Hr),a}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new r_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Za(Hr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ut("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new r_),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function n_(){return new Un(zt.comparator)}function a_(){return new Un(zt.comparator)}const Wz={asc:"ASCENDING",desc:"DESCENDING"},Yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qz={and:"AND",or:"OR"};class Zz{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Aw(t,e){return t.useProto3Json||Ax(e)?e:{value:e}}function Qg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jz(t,e){return Qg(t,e.toTimestamp())}function wA(t){return $r(!!t),Ar.fromTimestamp((function(r){const n=gl(r);return new Ba(n.seconds,n.nanos)})(t))}function Bv(t,e){return ow(t,e).canonicalString()}function ow(t,e){const r=(function(a){return new Bn(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?r:r.child(e)}function I8(t){const e=Bn.fromString(t);return $r(O8(e)),e}function lw(t,e){return Bv(t.databaseId,e.path)}function r2(t,e){const r=I8(e);if(r.get(1)!==t.databaseId.projectId)throw new Ot(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ot(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new zt(N8(r))}function F8(t,e){return Bv(t.databaseId,e)}function $z(t){const e=I8(t);return e.length===4?Bn.emptyPath():N8(e)}function cw(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N8(t){return $r(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i_(t,e,r){return{name:lw(t,e),fields:r.value.mapValue.fields}}function eX(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:er()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?($r(p===void 0||typeof p=="string"),Ja.fromBase64String(p||"")):($r(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ja.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&(function(h){const p=h.code===void 0?ot.UNKNOWN:b8(h.code);return new Ot(p,h.message||"")})(l);r=new T8(n,a,s,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=r2(t,n.document.name),s=wA(n.document.updateTime),l=n.document.createTime?wA(n.document.createTime):Ar.min(),f=new Wi({mapValue:{fields:n.document.fields}}),g=li.newFoundDocument(a,s,l,f),h=n.targetIds||[],p=n.removedTargetIds||[];r=new ag(h,p,g.key,g)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=r2(t,n.document),s=n.readTime?wA(n.readTime):Ar.min(),l=li.newNoDocument(a,s),f=n.removedTargetIds||[];r=new ag([],f,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=r2(t,n.document),s=n.removedTargetIds||[];r=new ag([],s,a,null)}else{if(!("filter"in e))return er();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,l=new Vz(a,s),f=n.targetId;r=new _8(f,l)}}return r}function tX(t,e){let r;if(e instanceof ch)r={update:i_(t,e.key,e.value)};else if(e instanceof fx)r={delete:lw(t,e.key)};else if(e instanceof wl)r={update:i_(t,e.key,e.data),updateMask:cX(e.fieldMask)};else{if(!(e instanceof Pz))return er();r={verify:lw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,l){const f=l.transform;if(f instanceof Ug)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Yf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mg)return{fieldPath:l.field.canonicalString(),increment:f.Pe};throw er()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:Jz(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:er()})(t,e.precondition)),r}function rX(t,e){return t&&t.length>0?($r(e!==void 0),t.map((r=>(function(a,s){let l=a.updateTime?wA(a.updateTime):wA(s);return l.isEqual(Ar.min())&&(l=wA(s)),new Mz(l,a.transformResults||[])})(r,e)))):[]}function nX(t,e){return{documents:[F8(t,e.path)]}}function aX(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=F8(t,a);const s=(function(h){if(h.length!==0)return D8(aA.create(h,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(B){return{field:x0(B.field),direction:AX(B.dir)}})(p)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const f=Aw(t,e.limit);return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:r,parent:a}}function iX(t){let e=$z(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){$r(n===1);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=(function(y){const B=R8(y);return B instanceof aA&&o8(B)?B.getFilters():[B]})(r.where));let l=[];r.orderBy&&(l=(function(y){return y.map((B=>(function(S){return new kg(p0(S.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(B)))})(r.orderBy));let f=null;r.limit&&(f=(function(y){let B;return B=typeof y=="object"?y.value:y,Ax(B)?null:B})(r.limit));let g=null;r.startAt&&(g=(function(y){const B=!!y.before,T=y.values||[];return new Og(T,B)})(r.startAt));let h=null;return r.endAt&&(h=(function(y){const B=!y.before,T=y.values||[];return new Og(T,B)})(r.endAt)),Cz(e,a,l,s,f,"F",g,h)}function sX(t,e){const r=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return er()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function R8(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=p0(r.unaryFilter.field);return da.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=p0(r.unaryFilter.field);return da.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=p0(r.unaryFilter.field);return da.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=p0(r.unaryFilter.field);return da.create(l,"!=",{nullValue:"NULL_VALUE"});default:return er()}})(t):t.fieldFilter!==void 0?(function(r){return da.create(p0(r.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return er()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return aA.create(r.compositeFilter.filters.map((n=>R8(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return er()}})(r.compositeFilter.op))})(t):er()}function AX(t){return Wz[t]}function oX(t){return Yz[t]}function lX(t){return qz[t]}function x0(t){return{fieldPath:t.canonicalString()}}function p0(t){return Xa.fromServerFormat(t.fieldPath)}function D8(t){return t instanceof da?(function(r){if(r.op==="=="){if(K4(r.value))return{unaryFilter:{field:x0(r.field),op:"IS_NAN"}};if(G4(r.value))return{unaryFilter:{field:x0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(K4(r.value))return{unaryFilter:{field:x0(r.field),op:"IS_NOT_NAN"}};if(G4(r.value))return{unaryFilter:{field:x0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:x0(r.field),op:oX(r.op),value:r.value}}})(t):t instanceof aA?(function(r){const n=r.getFilters().map((a=>D8(a)));return n.length===1?n[0]:{compositeFilter:{op:lX(r.op),filters:n}}})(t):er()}function cX(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function O8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,r,n,a,s=Ar.min(),l=Ar.min(),f=Ja.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e){this.ct=e}}function fX(t){const e=iX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.un=new dX}addToCollectionParentIndex(e,r){return this.un.add(r),ft.resolve()}getCollectionParents(e,r){return ft.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ft.resolve()}deleteFieldIndex(e,r){return ft.resolve()}deleteAllFieldIndexes(e){return ft.resolve()}createTargetIndexes(e,r){return ft.resolve()}getDocumentsMatchingTarget(e,r){return ft.resolve(null)}getIndexType(e,r){return ft.resolve(0)}getFieldIndexes(e,r){return ft.resolve([])}getNextCollectionGroupToUpdate(e){return ft.resolve(null)}getMinOffset(e,r){return ft.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,r){return ft.resolve(dl.min())}updateCollectionGroup(e,r,n){return ft.resolve()}updateIndexEntries(e,r){return ft.resolve()}}class dX{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Za(Bn.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Za(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Q0(0)}static kn(){return new Q0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.changes=new z0((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ft.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,r)))).next((a=>(n!==null&&Sf(n.mutation,a,ds.empty(),Ba.now()),a)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Cr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Cr()){const a=Jl();return this.populateOverlays(e,a,r).next((()=>this.computeViews(e,r,a,n).next((s=>{let l=of();return s.forEach(((f,g)=>{l=l.insert(f,g.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=Jl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Cr())))}populateOverlays(e,r,n){const a=[];return n.forEach((s=>{r.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,f)=>{r.set(l,f)}))}))}computeViews(e,r,n,a){let s=fo();const l=Tf(),f=(function(){return Tf()})();return r.forEach(((g,h)=>{const p=n.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof wl)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Sf(p.mutation,h,p.mutation.getFieldMask(),Ba.now())):l.set(h.key,ds.empty())})),this.recalculateAndSaveOverlays(e,s).next((g=>(g.forEach(((h,p)=>l.set(h,p))),r.forEach(((h,p)=>{var y;return f.set(h,new xX(p,(y=l.get(h))!==null&&y!==void 0?y:null))})),f)))}recalculateAndSaveOverlays(e,r){const n=Tf();let a=new Un(((l,f)=>l-f)),s=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const f of l)f.keys().forEach((g=>{const h=r.get(g);if(h===null)return;let p=n.get(g)||ds.empty();p=f.applyToLocalView(h,p),n.set(g,p);const y=(a.get(f.batchId)||Cr()).add(g);a=a.insert(f.batchId,y)}))})).next((()=>{const l=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),h=g.key,p=g.value,y=p8();p.forEach((B=>{if(!s.has(B)){const T=B8(r.get(B),n.get(B));T!==null&&y.set(B,T),s=s.add(B)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return ft.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,a){return(function(l){return zt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):f8(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):ft.resolve(Jl());let f=-1,g=s;return l.next((h=>ft.forEach(h,((p,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),s.get(p)?ft.resolve():this.remoteDocumentCache.getEntry(e,p).next((B=>{g=g.insert(p,B)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,g,h,Cr()))).next((p=>({batchId:f,changes:x8(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new zt(r)).next((n=>{let a=of();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let l=of();return this.indexManager.getCollectionParents(e,s).next((f=>ft.forEach(f,(g=>{const h=(function(y,B){return new lh(B,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(r,g.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,a).next((p=>{p.forEach(((y,B)=>{l=l.insert(y,B)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a)))).next((l=>{s.forEach(((g,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,li.newInvalidDocument(p)))}));let f=of();return l.forEach(((g,h)=>{const p=s.get(g);p!==void 0&&Sf(p.mutation,h,ds.empty(),Ba.now()),lx(r,h)&&(f=f.insert(g,h))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ft.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(a){return{id:a.id,version:a.version,createTime:wA(a.createTime)}})(r)),ft.resolve()}getNamedQuery(e,r){return ft.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(a){return{name:a.name,query:fX(a.bundledQuery),readTime:wA(a.readTime)}})(r)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this.overlays=new Un(zt.comparator),this.Ir=new Map}getOverlay(e,r){return ft.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Jl();return ft.forEach(r,(a=>this.getOverlay(e,a).next((s=>{s!==null&&n.set(a,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((a,s)=>{this.ht(e,r,s)})),ft.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),ft.resolve()}getOverlaysForCollection(e,r,n){const a=Jl(),s=r.length+1,l=new zt(r.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,h=g.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&g.largestBatchId>n&&a.set(g.getKey(),g)}return ft.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Un(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=s.get(h.largestBatchId);p===null&&(p=Jl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const f=Jl(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((h,p)=>f.set(h,p))),!(f.size()>=a)););return ft.resolve(f)}ht(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const l=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Hz(r,n));let s=this.Ir.get(r);s===void 0&&(s=Cr(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(){this.sessionToken=Ja.EMPTY_BYTE_STRING}getSessionToken(e){return ft.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Tr=new Za(Na.Er),this.dr=new Za(Na.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Na(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Na(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new zt(new Bn([])),n=new Na(r,e),a=new Na(r,e+1),s=[];return this.dr.forEachInRange([n,a],(l=>{this.Vr(l),s.push(l.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new zt(new Bn([])),n=new Na(r,e),a=new Na(r,e+1);let s=Cr();return this.dr.forEachInRange([n,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const r=new Na(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Na{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return zt.comparator(e.key,r.key)||Hr(e.wr,r.wr)}static Ar(e,r){return Hr(e.wr,r.wr)||zt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Za(Na.Er)}checkEmpty(e){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jz(s,r,n,a);this.mutationQueue.push(l);for(const f of a)this.br=this.br.add(new Na(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ft.resolve(l)}lookupMutationBatch(e,r){return ft.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.vr(n),s=a<0?0:a;return ft.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Na(r,0),a=new Na(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,a],(l=>{const f=this.Dr(l.wr);s.push(f)})),ft.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Za(Hr);return r.forEach((a=>{const s=new Na(a,0),l=new Na(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],(f=>{n=n.add(f.wr)}))})),ft.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;zt.isDocumentKey(s)||(s=s.child(""));const l=new Na(new zt(s),0);let f=new Za(Hr);return this.br.forEachWhile((g=>{const h=g.key.path;return!!n.isPrefixOf(h)&&(h.length===a&&(f=f.add(g.wr)),!0)}),l),ft.resolve(this.Cr(f))}Cr(e){const r=[];return e.forEach((n=>{const a=this.Dr(n);a!==null&&r.push(a)})),r}removeMutationBatch(e,r){$r(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ft.forEach(r.mutations,(a=>{const s=new Na(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Na(r,0),a=this.br.firstAfterOrEqual(n);return ft.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ft.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.Mr=e,this.docs=(function(){return new Un(zt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ft.resolve(n?n.document.mutableCopy():li.newInvalidDocument(r))}getEntries(e,r){let n=fo();return r.forEach((a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():li.newInvalidDocument(a))})),ft.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=fo();const l=r.path,f=new zt(l.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:h,value:{document:p}}=g.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||iz(az(p),n)<=0||(a.has(p.key)||lx(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ft.resolve(s)}getAllFromCollectionGroup(e,r,n,a){er()}Or(e,r){return ft.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new BX(this)}getSize(e){return ft.resolve(this.size)}}class BX extends gX{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)})),ft.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e){this.persistence=e,this.Nr=new z0((r=>pv(r)),mv),this.lastRemoteSnapshotVersion=Ar.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cv,this.targetCount=0,this.kr=Q0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,a)=>r(a))),ft.resolve()}getLastRemoteSnapshotVersion(e){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ft.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ft.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Q0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ft.resolve()}updateTargetData(e,r){return this.Kn(r),ft.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ft.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.Nr.forEach(((l,f)=>{f.sequenceNumber<=r&&n.get(f.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ft.waitFor(s).next((()=>a))}getTargetCount(e){return ft.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ft.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ft.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),ft.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ft.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ft.resolve(n)}containsKey(e,r){return ft.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,r){this.qr={},this.overlays={},this.Qr=new hv(0),this.Kr=!1,this.Kr=!0,this.$r=new vX,this.referenceDelegate=e(this),this.Ur=new CX(this),this.indexManager=new hX,this.remoteDocumentCache=(function(a){return new EX(a)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new uX(r),this.Gr=new mX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wX,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new yX(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ut("MemoryPersistence","Starting transaction:",e);const a=new _X(this.Qr.next());return this.referenceDelegate.zr(),n(a).next((s=>this.referenceDelegate.jr(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Hr(e,r){return ft.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class _X extends Az{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new Cv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw er()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ft.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ft.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ft.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((a=>this.Xr.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((a=>{a.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.Xr,(n=>{const a=zt.fromPath(n);return this.ei(e,a).next((s=>{s||r.removeEntry(a,Ar.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return ft.or([()=>ft.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(e,r){let n=Cr(),a=Cr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new _v(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return FG()?8:oz(TG())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.Yi(e,r).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.Zi(e,r,a,n).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new TX;return this.Xi(e,r,l).next((f=>{if(s.result=f,this.zi)return this.es(e,r,l,f.size)}))})).next((()=>s.result))}es(e,r,n,a){return n.documentReadCount<this.ji?(Uu()<=Ur.DEBUG&&Ut("QueryEngine","SDK will not create cache indexes for query:",g0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ft.resolve()):(Uu()<=Ur.DEBUG&&Ut("QueryEngine","Query:",g0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Uu()<=Ur.DEBUG&&Ut("QueryEngine","The SDK decides to create cache indexes for query:",g0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mA(r))):ft.resolve())}Yi(e,r){if(Y4(r))return ft.resolve(null);let n=mA(r);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(r.limit!==null&&a===1&&(r=sw(r,null,"F"),n=mA(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const l=Cr(...s);return this.Ji.getDocuments(e,l).next((f=>this.indexManager.getMinOffset(e,n).next((g=>{const h=this.ts(r,f);return this.ns(r,h,l,g.readTime)?this.Yi(e,sw(r,null,"F")):this.rs(e,h,r,g)}))))})))))}Zi(e,r,n,a){return Y4(r)||a.isEqual(Ar.min())?ft.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const l=this.ts(r,s);return this.ns(r,l,n,a)?ft.resolve(null):(Uu()<=Ur.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),g0(r)),this.rs(e,l,r,nz(a,-1)).next((f=>f)))}))}ts(e,r){let n=new Za(d8(e));return r.forEach(((a,s)=>{lx(e,s)&&(n=n.add(s))})),n}ns(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Xi(e,r,n){return Uu()<=Ur.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",g0(r)),this.Ji.getDocumentsMatchingQuery(e,r,dl.min(),n)}rs(e,r,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next((s=>(r.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e,r,n,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new Un(Hr),this._s=new z0((s=>pv(s)),mv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pX(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function FX(t,e,r,n){return new IX(t,e,r,n)}async function k8(t,e){const r=or(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next((s=>(a=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const l=[],f=[];let g=Cr();for(const h of a){l.push(h.batchId);for(const p of h.mutations)g=g.add(p.key)}for(const h of s){f.push(h.batchId);for(const p of h.mutations)g=g.add(p.key)}return r.localDocuments.getDocuments(n,g).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:f})))}))}))}function NX(t,e){const r=or(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(f,g,h,p){const y=h.batch,B=y.keys();let T=ft.resolve();return B.forEach((S=>{T=T.next((()=>p.getEntry(g,S))).next((F=>{const D=h.docVersions.get(S);$r(D!==null),F.version.compareTo(D)<0&&(y.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),p.addEntry(F)))}))})),T.next((()=>f.mutationQueue.removeMutationBatch(g,y)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(f){let g=Cr();for(let h=0;h<f.mutationResults.length;++h)f.mutationResults[h].transformResults.length>0&&(g=g.add(f.batch.mutations[h].key));return g})(e)))).next((()=>r.localDocuments.getDocuments(n,a)))}))}function U8(t){const e=or(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function RX(t,e){const r=or(t),n=e.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const f=[];e.targetChanges.forEach(((p,y)=>{const B=a.get(y);if(!B)return;f.push(r.Ur.removeMatchingKeys(s,p.removedDocuments,y).next((()=>r.Ur.addMatchingKeys(s,p.addedDocuments,y))));let T=B.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Ja.EMPTY_BYTE_STRING,Ar.min()).withLastLimboFreeSnapshotVersion(Ar.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,n)),a=a.insert(y,T),(function(F,D,P){return F.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(B,T,p)&&f.push(r.Ur.updateTargetData(s,T))}));let g=fo(),h=Cr();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))})),f.push(DX(s,l,e.documentUpdates).next((p=>{g=p.Ps,h=p.Is}))),!n.isEqual(Ar.min())){const p=r.Ur.getLastRemoteSnapshotVersion(s).next((y=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));f.push(p)}return ft.waitFor(f).next((()=>l.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,g,h))).next((()=>g))})).then((s=>(r.os=a,s)))}function DX(t,e,r){let n=Cr(),a=Cr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let l=fo();return r.forEach(((f,g)=>{const h=s.get(f);g.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(Ar.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!h.isValidDocument()||g.version.compareTo(h.version)>0||g.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):Ut("LocalStore","Ignoring outdated watch update for ",f,". Current version:",h.version," Watch version:",g.version)})),{Ps:l,Is:a}}))}function OX(t,e){const r=or(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function kX(t,e){const r=or(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return r.Ur.getTargetData(n,e).next((s=>s?(a=s,ft.resolve(a)):r.Ur.allocateTargetId(n).next((l=>(a=new tl(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function uw(t,e,r){const n=or(t),a=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(l=>n.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!oh(l))throw l;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function s_(t,e,r){const n=or(t);let a=Ar.min(),s=Cr();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(g,h,p){const y=or(g),B=y._s.get(p);return B!==void 0?ft.resolve(y.os.get(B)):y.Ur.getTargetData(h,p)})(n,l,mA(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,f.targetId).next((g=>{s=g}))})).next((()=>n.ss.getDocumentsMatchingQuery(l,e,r?a:Ar.min(),r?s:Cr()))).next((f=>(UX(n,_z(e),f),{documents:f,Ts:s})))))}function UX(t,e,r){let n=t.us.get(e)||Ar.min();r.forEach(((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}class A_{constructor(){this.activeTargetIds=Rz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MX{constructor(){this.so=new A_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new A_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1=null;function n2(){return f1===null?f1=(function(){return 268435456+Math.round(2147483648*Math.random())})():f1++,"0x"+f1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="WebChannelConnection";class jX extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${s}`}get Fo(){return!1}Mo(r,n,a,s,l){const f=n2(),g=this.xo(r,n.toUriEncodedString());Ut("RestConnection",`Sending RPC '${r}' ${f}:`,g,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,l),this.No(r,g,h,a).then((p=>(Ut("RestConnection",`Received RPC '${r}' ${f}: `,p),p)),(p=>{throw O0("RestConnection",`RPC '${r}' ${f} failed with error: `,p,"url: ",g,"request:",a),p}))}Lo(r,n,a,s,l,f){return this.Mo(r,n,a,s,l)}Oo(r,n,a){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+K0})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,l)=>r[l]=s)),a&&a.headers.forEach(((s,l)=>r[l]=s))}xo(r,n){const a=LX[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,a){const s=n2();return new Promise(((l,f)=>{const g=new qI;g.setWithCredentials(!0),g.listenOnce(ZI.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case tg.NO_ERROR:const p=g.getResponseJson();Ut(ai,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case tg.TIMEOUT:Ut(ai,`RPC '${e}' ${s} timed out`),f(new Ot(ot.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const y=g.getStatus();if(Ut(ai,`RPC '${e}' ${s} failed with status:`,y,"response text:",g.getResponseText()),y>0){let B=g.getResponseJson();Array.isArray(B)&&(B=B[0]);const T=B==null?void 0:B.error;if(T&&T.status&&T.message){const S=(function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(P)>=0?P:ot.UNKNOWN})(T.status);f(new Ot(S,T.message))}else f(new Ot(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Ot(ot.UNAVAILABLE,"Connection failed."));break;default:er()}}finally{Ut(ai,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(a);Ut(ai,`RPC '${e}' ${s} sending request:`,a),g.send(r,"POST",h,n,15)}))}Bo(e,r,n){const a=n2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=e8(),f=$I(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(g.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,r,n),g.encodeInitMessageHeaders=!0;const p=s.join("");Ut(ai,`Creating RPC '${e}' stream ${a}: ${p}`,g);const y=l.createWebChannel(p,g);let B=!1,T=!1;const S=new PX({Io:D=>{T?Ut(ai,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(B||(Ut(ai,`Opening RPC '${e}' stream ${a} transport.`),y.open(),B=!0),Ut(ai,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},To:()=>y.close()}),F=(D,P,V)=>{D.listen(P,(j=>{try{V(j)}catch(re){setTimeout((()=>{throw re}),0)}}))};return F(y,Af.EventType.OPEN,(()=>{T||(Ut(ai,`RPC '${e}' stream ${a} transport opened.`),S.yo())})),F(y,Af.EventType.CLOSE,(()=>{T||(T=!0,Ut(ai,`RPC '${e}' stream ${a} transport closed`),S.So())})),F(y,Af.EventType.ERROR,(D=>{T||(T=!0,O0(ai,`RPC '${e}' stream ${a} transport errored:`,D),S.So(new Ot(ot.UNAVAILABLE,"The operation could not be completed")))})),F(y,Af.EventType.MESSAGE,(D=>{var P;if(!T){const V=D.data[0];$r(!!V);const j=V,re=j.error||((P=j[0])===null||P===void 0?void 0:P.error);if(re){Ut(ai,`RPC '${e}' stream ${a} received error:`,re);const ge=re.status;let z=(function(k){const Z=ca[k];if(Z!==void 0)return b8(Z)})(ge),O=re.message;z===void 0&&(z=ot.INTERNAL,O="Unknown error status: "+ge+" with message "+re.message),T=!0,S.So(new Ot(z,O)),y.close()}else Ut(ai,`RPC '${e}' stream ${a} received:`,V),S.bo(V)}})),F(f,JI.STAT_EVENT,(D=>{D.stat===ew.PROXY?Ut(ai,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===ew.NOPROXY&&Ut(ai,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{S.wo()}),0),S}}function a2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){return new Zz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,r,n=1e3,a=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=a,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,r,n,a,s,l,f,g){this.ui=e,this.Ho=n,this.Jo=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new M8(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ot.RESOURCE_EXHAUSTED?(uo(r.toString()),uo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.Yo===r&&this.P_(n,a)}),(n=>{e((()=>{const a=new Ot(ot.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{n((()=>this.I_(a)))})),this.stream.onMessage((a=>{n((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HX extends Q8{constructor(e,r,n,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,l),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=eX(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Ar.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ar.min():l.readTime?wA(l.readTime):Ar.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=cw(this.serializer),r.addTarget=(function(s,l){let f;const g=l.target;if(f=aw(g)?{documents:nX(s,g)}:{query:aX(s,g)._t},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=S8(s,l.resumeToken);const h=Aw(s,l.expectedCount);h!==null&&(f.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ar.min())>0){f.readTime=Qg(s,l.snapshotVersion.toTimestamp());const h=Aw(s,l.expectedCount);h!==null&&(f.expectedCount=h)}return f})(this.serializer,e);const n=sX(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=cw(this.serializer),r.removeTarget=e,this.a_(r)}}class VX extends Q8{constructor(e,r,n,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,l),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return $r(!!e.streamToken),this.lastStreamToken=e.streamToken,$r(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$r(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=rX(e.writeResults,e.commitTime),n=wA(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=cw(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>tX(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX extends class{}{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Ot(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Mo(e,ow(r,n),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(ot.UNKNOWN,s.toString())}))}Lo(e,r,n,a,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,f])=>this.connection.Lo(e,ow(r,n),a,l,f,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ot(ot.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class KX{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(uo(r),this.D_=!1):Ut("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((l=>{n.enqueueAndForget((async()=>{Bc(this)&&(Ut("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const h=or(g);h.L_.add(4),await fh(h),h.q_.set("Unknown"),h.L_.delete(4),await gx(h)})(this))}))})),this.q_=new KX(n,a)}}async function gx(t){if(Bc(t))for(const e of t.B_)await e(!0)}async function fh(t){for(const e of t.B_)await e(!1)}function L8(t,e){const r=or(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Fv(r)?Iv(r):X0(r).r_()&&Sv(r,e))}function Tv(t,e){const r=or(t),n=X0(r);r.N_.delete(e),n.r_()&&P8(r,e),r.N_.size===0&&(n.r_()?n.o_():Bc(r)&&r.q_.set("Unknown"))}function Sv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ar.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}X0(t).A_(e)}function P8(t,e){t.Q_.xe(e),X0(t).R_(e)}function Iv(t){t.Q_=new Xz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),X0(t).start(),t.q_.v_()}function Fv(t){return Bc(t)&&!X0(t).n_()&&t.N_.size>0}function Bc(t){return or(t).L_.size===0}function j8(t){t.Q_=void 0}async function XX(t){t.q_.set("Online")}async function WX(t){t.N_.forEach(((e,r)=>{Sv(t,e)}))}async function YX(t,e){j8(t),Fv(t)?(t.q_.M_(e),Iv(t)):t.q_.set("Unknown")}async function qX(t,e,r){if(t.q_.set("Online"),e instanceof T8&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const f of s.targetIds)a.N_.has(f)&&(await a.remoteSyncer.rejectListen(f,l),a.N_.delete(f),a.Q_.removeTarget(f))})(t,e)}catch(n){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Lg(t,n)}else if(e instanceof ag?t.Q_.Ke(e):e instanceof _8?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ar.min()))try{const n=await U8(t.localStore);r.compareTo(n)>=0&&await(function(s,l){const f=s.Q_.rt(l);return f.targetChanges.forEach(((g,h)=>{if(g.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(g.resumeToken,l))}})),f.targetMismatches.forEach(((g,h)=>{const p=s.N_.get(g);if(!p)return;s.N_.set(g,p.withResumeToken(Ja.EMPTY_BYTE_STRING,p.snapshotVersion)),P8(s,g);const y=new tl(p.target,g,h,p.sequenceNumber);Sv(s,y)})),s.remoteSyncer.applyRemoteEvent(f)})(t,r)}catch(n){Ut("RemoteStore","Failed to raise snapshot:",n),await Lg(t,n)}}async function Lg(t,e,r){if(!oh(e))throw e;t.L_.add(1),await fh(t),t.q_.set("Offline"),r||(r=()=>U8(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ut("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await gx(t)}))}function H8(t,e){return e().catch((r=>Lg(t,r,e)))}async function xx(t){const e=or(t),r=xl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZX(e);)try{const a=await OX(e.localStore,n);if(a===null){e.O_.length===0&&r.o_();break}n=a.batchId,JX(e,a)}catch(a){await Lg(e,a)}V8(e)&&G8(e)}function ZX(t){return Bc(t)&&t.O_.length<10}function JX(t,e){t.O_.push(e);const r=xl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function V8(t){return Bc(t)&&!xl(t).n_()&&t.O_.length>0}function G8(t){xl(t).start()}async function $X(t){xl(t).p_()}async function eW(t){const e=xl(t);for(const r of t.O_)e.m_(r.mutations)}async function tW(t,e,r){const n=t.O_.shift(),a=yv.from(n,e,r);await H8(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await xx(t)}async function rW(t,e){e&&xl(t).V_&&await(async function(n,a){if((function(l){return Gz(l)&&l!==ot.ABORTED})(a.code)){const s=n.O_.shift();xl(n).s_(),await H8(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a))),await xx(n)}})(t,e),V8(t)&&G8(t)}async function l_(t,e){const r=or(t);r.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const n=Bc(r);r.L_.add(3),await fh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await gx(r)}async function nW(t,e){const r=or(t);e?(r.L_.delete(2),await gx(r)):e||(r.L_.add(2),await fh(r),r.q_.set("Unknown"))}function X0(t){return t.K_||(t.K_=(function(r,n,a){const s=or(r);return s.w_(),new HX(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Eo:XX.bind(null,t),Ro:WX.bind(null,t),mo:YX.bind(null,t),d_:qX.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Fv(t)?Iv(t):t.q_.set("Unknown")):(await t.K_.stop(),j8(t))}))),t.K_}function xl(t){return t.U_||(t.U_=(function(r,n,a){const s=or(r);return s.w_(),new VX(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$X.bind(null,t),mo:rW.bind(null,t),f_:eW.bind(null,t),g_:tW.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await xx(t)):(await t.U_.stop(),t.O_.length>0&&(Ut("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const l=Date.now()+n,f=new Nv(e,r,l,a,s);return f.start(n),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rv(t,e){if(uo("AsyncQueue",`${e}: ${t}`),oh(t))return new Ot(ot.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.comparator=e?(r,n)=>e(r,n)||zt.comparator(r.key,n.key):(r,n)=>zt.comparator(r.key,n.key),this.keyedMap=of(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new T0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof T0)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new T0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.W_=new Un(zt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):er():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class L0{constructor(e,r,n,a,s,l,f,g,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,a,s){const l=[];return r.forEach((f=>{l.push({type:0,doc:f})})),new L0(e,r,T0.emptySet(r),l,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ox(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class iW{constructor(){this.queries=u_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const a=or(r),s=a.queries;a.queries=u_(),s.forEach(((l,f)=>{for(const g of f.j_)g.onError(n)}))})(this,new Ot(ot.ABORTED,"Firestore shutting down"))}}function u_(){return new z0((t=>h8(t)),ox)}async function sW(t,e){const r=or(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.H_()&&e.J_()&&(n=2):(s=new aW,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(a,!0);break;case 1:s.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(l){const f=Rv(l,`Initialization of query '${g0(e.query)}' failed`);return void e.onError(f)}r.queries.set(a,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Dv(r)}async function AW(t,e){const r=or(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?a=e.J_()?0:1:!s.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function oW(t,e){const r=or(t);let n=!1;for(const a of e){const s=a.query,l=r.queries.get(s);if(l){for(const f of l.j_)f.X_(a)&&(n=!0);l.z_=a}}n&&Dv(r)}function lW(t,e,r){const n=or(t),a=n.queries.get(e);if(a)for(const s of a.j_)s.onError(r);n.queries.delete(e)}function Dv(t){t.Y_.forEach((e=>{e.next()}))}var fw,f_;(f_=fw||(fw={})).ea="default",f_.Cache="cache";class cW{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new L0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=L0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.key=e}}class z8{constructor(e){this.key=e}}class uW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Cr(),this.mutatedKeys=Cr(),this.Aa=d8(e),this.Ra=new T0(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new c_,a=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,l=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,y)=>{const B=a.get(p),T=lx(this.query,y)?y:null,S=!!B&&this.mutatedKeys.has(B.key),F=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;B&&T?B.data.isEqual(T.data)?S!==F&&(n.track({type:3,doc:T}),D=!0):this.ga(B,T)||(n.track({type:2,doc:T}),D=!0,(g&&this.Aa(T,g)>0||h&&this.Aa(T,h)<0)&&(f=!0)):!B&&T?(n.track({type:0,doc:T}),D=!0):B&&!T&&(n.track({type:1,doc:B}),D=!0,(g||h)&&(f=!0)),D&&(T?(l=l.add(T),s=F?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:f,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((p,y)=>(function(T,S){const F=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return er()}};return F(T)-F(S)})(p.type,y.type)||this.Aa(p.doc,y.doc))),this.pa(n),a=a!=null&&a;const f=r&&!a?this.ya():[],g=this.da.size===0&&this.current&&!a?1:0,h=g!==this.Ea;return this.Ea=g,l.length!==0||h?{snapshot:new L0(this.query,e.Ra,s,l,e.mutatedKeys,g===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new c_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Cr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new z8(n))})),this.da.forEach((n=>{e.has(n)||r.push(new K8(n))})),r}ba(e){this.Ta=e.Ts,this.da=Cr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return L0.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class hW{constructor(e){this.key=e,this.va=!1}}class dW{constructor(e,r,n,a,s,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new z0((f=>h8(f)),ox),this.Ma=new Map,this.xa=new Set,this.Oa=new Un(zt.comparator),this.Na=new Map,this.La=new Cv,this.Ba={},this.ka=new Map,this.qa=Q0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gW(t,e,r=!0){const n=J8(t);let a;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Da()):a=await X8(n,e,r,!0),a}async function xW(t,e){const r=J8(t);await X8(r,e,!0,!1)}async function X8(t,e,r,n){const a=await kX(t.localStore,mA(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,r);let f;return n&&(f=await pW(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&r&&L8(t.remoteStore,a),f}async function pW(t,e,r,n,a){t.Ka=(y,B,T)=>(async function(F,D,P,V){let j=D.view.ma(P);j.ns&&(j=await s_(F.localStore,D.query,!1).then((({documents:O})=>D.view.ma(O,j))));const re=V&&V.targetChanges.get(D.targetId),ge=V&&V.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(j,F.isPrimaryClient,re,ge);return d_(F,D.targetId,z.wa),z.snapshot})(t,y,B,T);const s=await s_(t.localStore,e,!0),l=new uW(e,s.Ts),f=l.ma(s.documents),g=uh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),h=l.applyChanges(f,t.isPrimaryClient,g);d_(t,r,h.wa);const p=new fW(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function mW(t,e,r){const n=or(t),a=n.Fa.get(e),s=n.Ma.get(a.targetId);if(s.length>1)return n.Ma.set(a.targetId,s.filter((l=>!ox(l,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await uw(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Tv(n.remoteStore,a.targetId),hw(n,a.targetId)})).catch(Ah)):(hw(n,a.targetId),await uw(n.localStore,a.targetId,!0))}async function wW(t,e){const r=or(t),n=r.Fa.get(e),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Tv(r.remoteStore,n.targetId))}async function vW(t,e,r){const n=TW(t);try{const a=await(function(l,f){const g=or(l),h=Ba.now(),p=f.reduce(((T,S)=>T.add(S.key)),Cr());let y,B;return g.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=fo(),F=Cr();return g.cs.getEntries(T,p).next((D=>{S=D,S.forEach(((P,V)=>{V.isValidDocument()||(F=F.add(P))}))})).next((()=>g.localDocuments.getOverlayedDocuments(T,S))).next((D=>{y=D;const P=[];for(const V of f){const j=Lz(V,y.get(V.key).overlayedDocument);j!=null&&P.push(new wl(V.key,j,i8(j.value.mapValue),Yi.exists(!0)))}return g.mutationQueue.addMutationBatch(T,h,P,f)})).next((D=>{B=D;const P=D.applyToLocalDocumentSet(y,F);return g.documentOverlayCache.saveOverlays(T,D.batchId,P)}))})).then((()=>({batchId:B.batchId,changes:x8(y)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(l,f,g){let h=l.Ba[l.currentUser.toKey()];h||(h=new Un(Hr)),h=h.insert(f,g),l.Ba[l.currentUser.toKey()]=h})(n,a.batchId,r),await hh(n,a.changes),await xx(n.remoteStore)}catch(a){const s=Rv(a,"Failed to persist write");r.reject(s)}}async function W8(t,e){const r=or(t);try{const n=await RX(r.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=r.Na.get(s);l&&($r(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.va=!0:a.modifiedDocuments.size>0?$r(l.va):a.removedDocuments.size>0&&($r(l.va),l.va=!1))})),await hh(r,n,e)}catch(n){await Ah(n)}}function h_(t,e,r){const n=or(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Fa.forEach(((s,l)=>{const f=l.view.Z_(e);f.snapshot&&a.push(f.snapshot)})),(function(l,f){const g=or(l);g.onlineState=f;let h=!1;g.queries.forEach(((p,y)=>{for(const B of y.j_)B.Z_(f)&&(h=!0)})),h&&Dv(g)})(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function yW(t,e,r){const n=or(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Na.get(e),s=a&&a.key;if(s){let l=new Un(zt.comparator);l=l.insert(s,li.newNoDocument(s,Ar.min()));const f=Cr().add(s),g=new hx(Ar.min(),new Map,new Un(Hr),l,f);await W8(n,g),n.Oa=n.Oa.remove(s),n.Na.delete(e),Ov(n)}else await uw(n.localStore,e,!1).then((()=>hw(n,e,r))).catch(Ah)}async function EW(t,e){const r=or(t),n=e.batch.batchId;try{const a=await NX(r.localStore,e);q8(r,n,null),Y8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await hh(r,a)}catch(a){await Ah(a)}}async function BW(t,e,r){const n=or(t);try{const a=await(function(l,f){const g=or(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return g.mutationQueue.lookupMutationBatch(h,f).next((y=>($r(y!==null),p=y.keys(),g.mutationQueue.removeMutationBatch(h,y)))).next((()=>g.mutationQueue.performConsistencyCheck(h))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(h,p,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>g.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);q8(n,e,r),Y8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await hh(n,a)}catch(a){await Ah(a)}}function Y8(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function q8(t,e,r){const n=or(t);let a=n.Ba[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function hw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||Z8(t,n)}))}function Z8(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Tv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Ov(t))}function d_(t,e,r){for(const n of r)n instanceof K8?(t.La.addReference(n.key,e),CW(t,n)):n instanceof z8?(Ut("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||Z8(t,n.key)):er()}function CW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ut("SyncEngine","New document in limbo: "+r),t.xa.add(n),Ov(t))}function Ov(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new zt(Bn.fromString(e)),n=t.qa.next();t.Na.set(n,new hW(r)),t.Oa=t.Oa.insert(r,n),L8(t.remoteStore,new tl(mA(wv(r.path)),n,"TargetPurposeLimboResolution",hv.oe))}}async function hh(t,e,r){const n=or(t),a=[],s=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach(((f,g)=>{l.push(n.Ka(g,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const y=h?!h.fromCache:(p=r==null?void 0:r.targetChanges.get(g.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(h){a.push(h);const y=_v.Wi(g.targetId,h);s.push(y)}})))})),await Promise.all(l),n.Ca.d_(a),await(async function(g,h){const p=or(g);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ft.forEach(h,(B=>ft.forEach(B.$i,(T=>p.persistence.referenceDelegate.addReference(y,B.targetId,T))).next((()=>ft.forEach(B.Ui,(T=>p.persistence.referenceDelegate.removeReference(y,B.targetId,T)))))))))}catch(y){if(!oh(y))throw y;Ut("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const B=y.targetId;if(!y.fromCache){const T=p.os.get(B),S=T.snapshotVersion,F=T.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(B,F)}}})(n.localStore,s))}async function bW(t,e){const r=or(t);if(!r.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const n=await k8(r.localStore,e);r.currentUser=e,(function(s,l){s.ka.forEach((f=>{f.forEach((g=>{g.reject(new Ot(ot.CANCELLED,l))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hh(r,n.hs)}}function _W(t,e){const r=or(t),n=r.Na.get(e);if(n&&n.va)return Cr().add(n.key);{let a=Cr();const s=r.Ma.get(e);if(!s)return a;for(const l of s){const f=r.Fa.get(l);a=a.unionWith(f.view.Va)}return a}}function J8(t){const e=or(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yW.bind(null,e),e.Ca.d_=oW.bind(null,e.eventManager),e.Ca.$a=lW.bind(null,e.eventManager),e}function TW(t){const e=or(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BW.bind(null,e),e}class Pg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dx(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return FX(this.persistence,new SX,e.initialUser,this.serializer)}Ga(e){return new bX(bv.Zr,this.serializer)}Wa(e){return new MX}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pg.provider={build:()=>new Pg};class dw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>h_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bW.bind(null,this.syncEngine),await nW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iW})()}createDatastore(e){const r=dx(e.databaseInfo.databaseId),n=(function(s){return new jX(s)})(e.databaseInfo);return(function(s,l,f,g){return new GX(s,l,f,g)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,a,s,l,f){return new zX(n,a,s,l,f)})(this.localStore,this.datastore,e.asyncQueue,(r=>h_(this.syncEngine,r,0)),(function(){return o_.D()?new o_:new QX})())}createSyncEngine(e,r){return(function(a,s,l,f,g,h,p){const y=new dW(a,s,l,f,g,h);return p&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(a){const s=or(a);Ut("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await fh(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dw.provider={build:()=>new dw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):uo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=si.UNAUTHENTICATED,this.clientId=r8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async l=>{Ut("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Ut("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Rv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function i2(t,e){t.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async a=>{n.isEqual(a)||(await k8(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function g_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await FW(t);Ut("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>l_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,a)=>l_(e.remoteStore,a))),t._onlineComponents=e}async function FW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ut("FirestoreClient","Using user provided OfflineComponentProvider");try{await i2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ot.FAILED_PRECONDITION||a.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(r))throw r;O0("Error using user provided cache. Falling back to memory cache: "+r),await i2(t,new Pg)}}else Ut("FirestoreClient","Using default OfflineComponentProvider"),await i2(t,new Pg);return t._offlineComponents}async function $8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ut("FirestoreClient","Using user provided OnlineComponentProvider"),await g_(t,t._uninitializedComponentsProvider._online)):(Ut("FirestoreClient","Using default OnlineComponentProvider"),await g_(t,new dw))),t._onlineComponents}function NW(t){return $8(t).then((e=>e.syncEngine))}async function x_(t){const e=await $8(t),r=e.eventManager;return r.onListen=gW.bind(null,e.syncEngine),r.onUnlisten=mW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=xW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wW.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e,r){if(!r)throw new Ot(ot.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RW(t,e,r,n){if(e===!0&&n===!0)throw new Ot(ot.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function m_(t){if(!zt.isDocumentKey(t))throw new Ot(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(zt.isDocumentKey(t))throw new Ot(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function px(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":er()}function vA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=px(t);throw new Ot(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ot(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ot(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ot(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ot(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mx{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new WK;switch(n.type){case"firstParty":return new JK(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=p_.get(r);n&&(Ut("ComponentProvider","Removing Datastore"),p_.delete(r),n.terminate())})(this),Promise.resolve()}}function DW(t,e,r,n={}){var a;const s=(t=vA(t,mx))._getSettings(),l=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&O0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),n.mockUserToken){let f,g;if(typeof n.mockUserToken=="string")f=n.mockUserToken,g=si.MOCK_USER;else{f=_G(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ot(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new si(h)}t._authCredentials=new YK(new t8(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new W0(this.firestore,e,this._query)}}class bi{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}}class ll extends W0{constructor(e,r,n){super(e,r,wv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new zt(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function Vo(t,e,...r){if(t=Zi(t),tF("collection","path",e),t instanceof mx){const n=Bn.fromString(e,...r);return w_(n),new ll(t,null,n)}{if(!(t instanceof bi||t instanceof ll))throw new Ot(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Bn.fromString(e,...r));return w_(n),new ll(t.firestore,null,n)}}function gn(t,e,...r){if(t=Zi(t),arguments.length===1&&(e=r8.newId()),tF("doc","path",e),t instanceof mx){const n=Bn.fromString(e,...r);return m_(n),new bi(t,null,new zt(n))}{if(!(t instanceof bi||t instanceof ll))throw new Ot(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Bn.fromString(e,...r));return m_(n),new bi(t.firestore,t instanceof ll?t.converter:null,new zt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new M8(this,"async_queue_retry"),this.Vu=()=>{const n=a2();n&&Ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=a2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=a2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new ic;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!oh(e))throw e;Ut("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const a=(function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),f})(n);throw uo("INTERNAL UNHANDLED ERROR: ",a),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const a=Nv.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(a),a}fu(){this.Eu&&er()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function E_(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1})(t,["next","error","complete"])}class fc extends mx{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new y_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function OW(t,e){const r=typeof t=="object"?t:zI(),n=typeof t=="string"?t:"(default)",a=sh(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=CG("firestore");s&&DW(a,...s)}return a}function kv(t){if(t._terminated)throw new Ot(ot.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kW(t),t._firestoreClient}function kW(t){var e,r,n;const a=t._freezeSettings(),s=(function(f,g,h,p){return new uz(f,g,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eF(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new IW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new P0(Ja.fromBase64String(e))}catch(r){throw new Ot(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new P0(Ja.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ot(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ot(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ot(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hr(this._lat,e._lat)||Hr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=/^__.*__$/;class MW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new wl(e,this.data,this.fieldMask,r,this.fieldTransforms):new ch(e,this.data,r,this.fieldTransforms)}}class rF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new wl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function nF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw er()}}class Lv{constructor(e,r,n,a,s,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nF(this.Cu)&&UW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||dx(e)}Qu(e,r,n,a=!1){return new Lv({Cu:e,methodName:r,qu:n,path:Xa.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wx(t){const e=t._freezeSettings(),r=dx(t._databaseId);return new QW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function aF(t,e,r,n,a,s={}){const l=t.Qu(s.merge||s.mergeFields?2:0,e,r,a);Pv("Data must be an object, but it was:",l,n);const f=AF(n,l);let g,h;if(s.merge)g=new ds(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const B=gw(e,y,r);if(!l.contains(B))throw new Ot(ot.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);lF(p,B)||p.push(B)}g=new ds(p),h=l.fieldTransforms.filter((y=>g.covers(y.field)))}else g=null,h=l.fieldTransforms;return new MW(new Wi(f),g,h)}class vx extends Uv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vx}}function iF(t,e,r,n){const a=t.Qu(1,e,r);Pv("Data must be an object, but it was:",a,n);const s=[],l=Wi.empty();Ec(n,((g,h)=>{const p=jv(e,g,r);h=Zi(h);const y=a.Nu(p);if(h instanceof vx)s.push(p);else{const B=gh(h,y);B!=null&&(s.push(p),l.set(p,B))}}));const f=new ds(s);return new rF(l,f,a.fieldTransforms)}function sF(t,e,r,n,a,s){const l=t.Qu(1,e,r),f=[gw(e,n,r)],g=[a];if(s.length%2!=0)throw new Ot(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<s.length;B+=2)f.push(gw(e,s[B])),g.push(s[B+1]);const h=[],p=Wi.empty();for(let B=f.length-1;B>=0;--B)if(!lF(h,f[B])){const T=f[B];let S=g[B];S=Zi(S);const F=l.Nu(T);if(S instanceof vx)h.push(T);else{const D=gh(S,F);D!=null&&(h.push(T),p.set(T,D))}}const y=new ds(h);return new rF(p,y,l.fieldTransforms)}function LW(t,e,r,n=!1){return gh(r,t.Qu(n?4:3,e))}function gh(t,e){if(oF(t=Zi(t)))return Pv("Unsupported field value:",e,t),AF(t,e);if(t instanceof Uv)return(function(n,a){if(!nF(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,a){const s=[];let l=0;for(const f of n){let g=gh(f,a.Lu(l));g==null&&(g={nullValue:"NULL_VALUE"}),s.push(g),l++}return{arrayValue:{values:s}}})(t,e)}return(function(n,a){if((n=Zi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Dz(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ba.fromDate(n);return{timestampValue:Qg(a.serializer,s)}}if(n instanceof Ba){const s=new Ba(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qg(a.serializer,s)}}if(n instanceof Mv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof P0)return{bytesValue:S8(a.serializer,n._byteString)};if(n instanceof bi){const s=a.databaseId,l=n.firestore._databaseId;if(!l.isEqual(s))throw a.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bv(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Qv)return(function(l,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw f.Bu("VectorValues must only contain numeric values.");return vv(f.serializer,g)}))}}}}}})(n,a);throw a.Bu(`Unsupported field value: ${px(n)}`)})(t,e)}function AF(t,e){const r={};return n8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ec(t,((n,a)=>{const s=gh(a,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function oF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ba||t instanceof Mv||t instanceof P0||t instanceof bi||t instanceof Uv||t instanceof Qv)}function Pv(t,e,r){if(!oF(r)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(r)){const n=px(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function gw(t,e,r){if((e=Zi(e))instanceof dh)return e._internalPath;if(typeof e=="string")return jv(t,e);throw jg("Field path arguments must be of type string or ",t,!1,void 0,r)}const PW=new RegExp("[~\\*/\\[\\]]");function jv(t,e,r){if(e.search(PW)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new dh(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function jg(t,e,r,n,a){const s=n&&!n.isEmpty(),l=a!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(s||l)&&(g+=" (found",s&&(g+=` in field ${n}`),l&&(g+=` in document ${a}`),g+=")"),new Ot(ot.INVALID_ARGUMENT,f+t+g)}function lF(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(uF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class jW extends cF{data(){return super.data()}}function uF(t,e){return typeof e=="string"?jv(t,e):e instanceof dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class VW extends Hv{}function Go(t,e,...r){let n=[];e instanceof Hv&&n.push(e),n=n.concat(r),(function(s){const l=s.filter((g=>g instanceof Gv)).length,f=s.filter((g=>g instanceof Vv)).length;if(l>1||l>0&&f>0)throw new Ot(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)t=a._apply(t);return t}class Vv extends VW{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Vv(e,r,n)}_apply(e){const r=this._parse(e);return fF(e._query,r),new W0(e.firestore,e.converter,iw(e._query,r))}_parse(e){const r=wx(e.firestore);return(function(s,l,f,g,h,p,y){let B;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ot(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){C_(y,p);const T=[];for(const S of y)T.push(B_(g,s,S));B={arrayValue:{values:T}}}else B=B_(g,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||C_(y,p),B=LW(f,l,y,p==="in"||p==="not-in");return da.create(h,p,B)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Gv extends Hv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:aA.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(a,s){let l=a;const f=s.getFlattenedFilters();for(const g of f)fF(l,g),l=iw(l,g)})(e._query,r),new W0(e.firestore,e.converter,iw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B_(t,e,r){if(typeof(r=Zi(r))=="string"){if(r==="")throw new Ot(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f8(e)&&r.indexOf("/")!==-1)throw new Ot(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Bn.fromString(r));if(!zt.isDocumentKey(n))throw new Ot(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return V4(t,new zt(n))}if(r instanceof bi)return V4(t,r._key);throw new Ot(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${px(r)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new Ot(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fF(t,e){const r=(function(a,s){for(const l of a)for(const f of l.getFlattenedFilters())if(s.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Ot(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ot(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class GW{convertValue(e,r="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return na(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw er()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ec(e,((a,s)=>{n[a]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,a;const s=(a=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map((l=>na(l.doubleValue)));return new Qv(s)}convertGeoPoint(e){return new Mv(na(e.latitude),na(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=gv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const r=gl(e);return new Ba(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Bn.fromString(e);$r(O8(n));const a=new zf(n.get(1),n.get(3)),s=new zt(n.popFirst(5));return a.isEqual(r)||uo(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dF extends cF{constructor(e,r,n,a,s,l){super(e,r,n,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ig(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(uF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ig extends dF{data(e={}){return super.data(e)}}class KW{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new cf(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new ig(this._firestore,this._userDataWriter,n.key,n,new cf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ot(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((f=>{const g=new ig(a._firestore,a._userDataWriter,f.doc.key,f.doc,new cf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>s||f.type!==3)).map((f=>{const g=new ig(a._firestore,a._userDataWriter,f.doc.key,f.doc,new cf(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return f.type!==0&&(h=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(l=l.add(f.doc),p=l.indexOf(f.doc.key)),{type:zW(f.type),doc:g,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function zW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return er()}}class gF extends GW{constructor(e){super(),this.firestore=e}convertBytes(e){return new P0(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,r)}}function Rs(t,e,r){t=vA(t,bi);const n=vA(t.firestore,fc),a=hF(t.converter,e,r);return yx(n,[aF(wx(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Yi.none())])}function Hl(t,e,r,...n){t=vA(t,bi);const a=vA(t.firestore,fc),s=wx(a);let l;return l=typeof(e=Zi(e))=="string"||e instanceof dh?sF(s,"updateDoc",t._key,e,r,n):iF(s,"updateDoc",t._key,e),yx(a,[l.toMutation(t._key,Yi.exists(!0))])}function Mu(t){return yx(vA(t.firestore,fc),[new fx(t._key,Yi.none())])}function eo(t,...e){var r,n,a;t=Zi(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||E_(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(E_(e[l])){const y=e[l];e[l]=(r=y.next)===null||r===void 0?void 0:r.bind(y),e[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[l+2]=(a=y.complete)===null||a===void 0?void 0:a.bind(y)}let g,h,p;if(t instanceof bi)h=vA(t.firestore,fc),p=wv(t._key.path),g={next:y=>{e[l]&&e[l](XW(h,t,y))},error:e[l+1],complete:e[l+2]};else{const y=vA(t,W0);h=vA(y.firestore,fc),p=y._query;const B=new gF(h);g={next:T=>{e[l]&&e[l](new KW(h,B,y,T))},error:e[l+1],complete:e[l+2]},HW(t._query)}return(function(B,T,S,F){const D=new SW(F),P=new cW(T,D,S);return B.asyncQueue.enqueueAndForget((async()=>sW(await x_(B),P))),()=>{D.Za(),B.asyncQueue.enqueueAndForget((async()=>AW(await x_(B),P)))}})(kv(h),p,f,g)}function yx(t,e){return(function(n,a){const s=new ic;return n.asyncQueue.enqueueAndForget((async()=>vW(await NW(n),a,s))),s.promise})(kv(t),e)}function XW(t,e,r){const n=r.docs.get(e._key),a=new gF(t);return new dF(t,a,e._key,n,new cf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wx(e)}set(e,r,n){this._verifyNotCommitted();const a=s2(e,this._firestore),s=hF(a.converter,r,n),l=aF(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,n);return this._mutations.push(l.toMutation(a._key,Yi.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const s=s2(e,this._firestore);let l;return l=typeof(r=Zi(r))=="string"||r instanceof dh?sF(this._dataReader,"WriteBatch.update",s._key,r,n,a):iF(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(l.toMutation(s._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=s2(e,this._firestore);return this._mutations=this._mutations.concat(new fx(r._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s2(t,e){if((t=Zi(t)).firestore!==e)throw new Ot(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){return kv(t=vA(t,fc)),new WW(t,(e=>yx(t,e)))}(function(e,r=!0){(function(a){K0=a})(UK),hl(new lo("firestore",((n,{instanceIdentifier:a,options:s})=>{const l=n.getProvider("app").getImmediate(),f=new fc(new qK(n.getProvider("auth-internal")),new ez(n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ot(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zf(h.options.projectId,p)})(l,a),l);return s=Object.assign({useFetchStreams:r},s),f._setSettings(s),f}),"PUBLIC").setMultipleInstances(!0)),pA(Q4,"4.7.3",e),pA(Q4,"4.7.3","esm2017")})();const xF="@firebase/installations",Kv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e4,mF=`w:${Kv}`,wF="FIS_v2",qW="https://firebaseinstallations.googleapis.com/v1",ZW=3600*1e3,JW="installations",$W="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hc=new sx(JW,$W,eY);function vF(t){return t instanceof ml&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF({projectId:t}){return`${qW}/projects/${t}/installations`}function EF(t){return{token:t.token,requestStatus:2,expiresIn:rY(t.expiresIn),creationTime:Date.now()}}async function BF(t,e){const n=(await e.json()).error;return hc.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function CF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tY(t,{refreshToken:e}){const r=CF(t);return r.append("Authorization",nY(e)),r}async function bF(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rY(t){return Number(t.replace("s","000"))}function nY(t){return`${wF} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=yF(t),a=CF(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const l={fid:r,authVersion:wF,appId:t.appId,sdkVersion:mF},f={method:"POST",headers:a,body:JSON.stringify(l)},g=await bF(()=>fetch(n,f));if(g.ok){const h=await g.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:EF(h.authToken)}}else throw await BF("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=/^[cdef][\w-]{21}$/,xw="";function AY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=oY(t);return sY.test(r)?r:xw}catch{return xw}}function oY(t){return iY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=new Map;function SF(t,e){const r=Ex(t);IF(r,e),lY(r,e)}function IF(t,e){const r=TF.get(t);if(r)for(const n of r)n(e)}function lY(t,e){const r=cY();r&&r.postMessage({key:t,fid:e}),uY()}let $l=null;function cY(){return!$l&&"BroadcastChannel"in self&&($l=new BroadcastChannel("[Firebase] FID Change"),$l.onmessage=t=>{IF(t.data.key,t.data.fid)}),$l}function uY(){TF.size===0&&$l&&($l.close(),$l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="firebase-installations-database",hY=1,dc="firebase-installations-store";let A2=null;function zv(){return A2||(A2=GI(fY,hY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dc)}}})),A2}async function Hg(t,e){const r=Ex(t),a=(await zv()).transaction(dc,"readwrite"),s=a.objectStore(dc),l=await s.get(r);return await s.put(e,r),await a.done,(!l||l.fid!==e.fid)&&SF(t,e.fid),e}async function FF(t){const e=Ex(t),n=(await zv()).transaction(dc,"readwrite");await n.objectStore(dc).delete(e),await n.done}async function Bx(t,e){const r=Ex(t),a=(await zv()).transaction(dc,"readwrite"),s=a.objectStore(dc),l=await s.get(r),f=e(l);return f===void 0?await s.delete(r):await s.put(f,r),await a.done,f&&(!l||l.fid!==f.fid)&&SF(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(t){let e;const r=await Bx(t.appConfig,n=>{const a=dY(n),s=gY(t,a);return e=s.registrationPromise,s.installationEntry});return r.fid===xw?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function dY(t){const e=t||{fid:AY(),registrationStatus:0};return NF(e)}function gY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(hc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=xY(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pY(t)}:{installationEntry:e}}async function xY(t,e){try{const r=await aY(t,e);return Hg(t.appConfig,r)}catch(r){throw vF(r)&&r.customData.serverCode===409?await FF(t.appConfig):await Hg(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function pY(t){let e=await b_(t.appConfig);for(;e.registrationStatus===1;)await _F(100),e=await b_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Xv(t);return n||r}return e}function b_(t){return Bx(t,e=>{if(!e)throw hc.create("installation-not-found");return NF(e)})}function NF(t){return mY(t)?{fid:t.fid,registrationStatus:0}:t}function mY(t){return t.registrationStatus===1&&t.registrationTime+pF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wY({appConfig:t,heartbeatServiceProvider:e},r){const n=vY(t,r),a=tY(t,r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const l={installation:{sdkVersion:mF,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(l)},g=await bF(()=>fetch(n,f));if(g.ok){const h=await g.json();return EF(h)}else throw await BF("Generate Auth Token",g)}function vY(t,{fid:e}){return`${yF(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wv(t,e=!1){let r;const n=await Bx(t.appConfig,s=>{if(!RF(s))throw hc.create("not-registered");const l=s.authToken;if(!e&&BY(l))return s;if(l.requestStatus===1)return r=yY(t,e),s;{if(!navigator.onLine)throw hc.create("app-offline");const f=bY(s);return r=EY(t,f),f}});return r?await r:n.authToken}async function yY(t,e){let r=await __(t.appConfig);for(;r.authToken.requestStatus===1;)await _F(100),r=await __(t.appConfig);const n=r.authToken;return n.requestStatus===0?Wv(t,e):n}function __(t){return Bx(t,e=>{if(!RF(e))throw hc.create("not-registered");const r=e.authToken;return _Y(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function EY(t,e){try{const r=await wY(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Hg(t.appConfig,n),r}catch(r){if(vF(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await FF(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hg(t.appConfig,n)}throw r}}function RF(t){return t!==void 0&&t.registrationStatus===2}function BY(t){return t.requestStatus===2&&!CY(t)}function CY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZW}function bY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _Y(t){return t.requestStatus===1&&t.requestTime+pF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY(t){const e=t,{installationEntry:r,registrationPromise:n}=await Xv(e);return n?n.catch(console.error):Wv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e=!1){const r=t;return await IY(r),(await Wv(r,e)).token}async function IY(t){const{registrationPromise:e}=await Xv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){if(!t||!t.options)throw o2("App Configuration");if(!t.name)throw o2("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw o2(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function o2(t){return hc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="installations",NY="installations-internal",RY=t=>{const e=t.getProvider("app").getImmediate(),r=FY(e),n=sh(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},DY=t=>{const e=t.getProvider("app").getImmediate(),r=sh(e,DF).getImmediate();return{getId:()=>TY(r),getToken:a=>SY(r,a)}};function OY(){hl(new lo(DF,RY,"PUBLIC")),hl(new lo(NY,DY,"PRIVATE"))}OY();pA(xF,Kv);pA(xF,Kv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="analytics",kY="firebase_id",UY="origin",MY=60*1e3,QY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new cv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gs=new sx("analytics","Analytics",LY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(t){if(!t.startsWith(Yv)){const e=gs.create("invalid-gtag-resource",{gtagURL:t});return qi.warn(e.message),""}return t}function OF(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function jY(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function HY(t,e){const r=jY("firebase-js-sdk-policy",{createScriptURL:PY}),n=document.createElement("script"),a=`${Yv}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function VY(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function GY(t,e,r,n,a,s){const l=n[a];try{if(l)await e[l];else{const g=(await OF(r)).find(h=>h.measurementId===a);g&&await e[g.appId]}}catch(f){qi.error(f)}t("config",a,s)}async function KY(t,e,r,n,a){try{let s=[];if(a&&a.send_to){let l=a.send_to;Array.isArray(l)||(l=[l]);const f=await OF(r);for(const g of l){const h=f.find(y=>y.measurementId===g),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,a||{})}catch(s){qi.error(s)}}function zY(t,e,r,n){async function a(s,...l){try{if(s==="event"){const[f,g]=l;await KY(t,e,r,f,g)}else if(s==="config"){const[f,g]=l;await GY(t,e,r,n,f,g)}else if(s==="consent"){const[f,g]=l;t("consent",f,g)}else if(s==="get"){const[f,g,h]=l;t("get",f,g,h)}else if(s==="set"){const[f]=l;t("set",f)}else t(s,...l)}catch(f){qi.error(f)}}return a}function XY(t,e,r,n,a){let s=function(...l){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=zY(s,t,e,r),{gtagCore:s,wrappedGtag:window[a]}}function WY(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Yv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=30,qY=1e3;class ZY{constructor(e={},r=qY){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kF=new ZY;function JY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $Y(t){var e;const{appId:r,apiKey:n}=t,a={method:"GET",headers:JY(n)},s=QY.replace("{app-id}",r),l=await fetch(s,a);if(l.status!==200&&l.status!==304){let f="";try{const g=await l.json();!((e=g.error)===null||e===void 0)&&e.message&&(f=g.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:f})}return l.json()}async function eq(t,e=kF,r){const{appId:n,apiKey:a,measurementId:s}=t.options;if(!n)throw gs.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:n};throw gs.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new nq;return setTimeout(async()=>{f.abort()},MY),UF({appId:n,apiKey:a,measurementId:s},l,f,e)}async function UF(t,{throttleEndTimeMillis:e,backoffCount:r},n,a=kF){var s;const{appId:l,measurementId:f}=t;try{await tq(n,e)}catch(g){if(f)return qi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:f};throw g}try{const g=await $Y(t);return a.deleteThrottleMetadata(l),g}catch(g){const h=g;if(!rq(h)){if(a.deleteThrottleMetadata(l),f)return qi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:f};throw g}const p=Number((s=h==null?void 0:h.customData)===null||s===void 0?void 0:s.httpStatus)===503?S4(r,a.intervalMillis,YY):S4(r,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return a.setThrottleMetadata(l,y),qi.debug(`Calling attemptFetch again in ${p} millis`),UF(t,y,n,a)}}function tq(t,e){return new Promise((r,n)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(r,a);t.addEventListener(()=>{clearTimeout(s),n(gs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rq(t){if(!(t instanceof ml)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aq(t,e,r,n,a){if(a&&a.global){t("event",r,n);return}else{const s=await e,l=Object.assign(Object.assign({},n),{send_to:s});t("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(){if(PI())try{await jI()}catch(t){return qi.warn(gs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qi.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sq(t,e,r,n,a,s,l){var f;const g=eq(t);g.then(T=>{r[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&qi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>qi.error(T)),e.push(g);const h=iq().then(T=>{if(T)return n.getId()}),[p,y]=await Promise.all([g,h]);WY(s)||HY(s,p.measurementId),a("js",new Date);const B=(f=l==null?void 0:l.config)!==null&&f!==void 0?f:{};return B[UY]="firebase",B.update=!0,y!=null&&(B[kY]=y),a("config",p.measurementId,B),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.app=e}_delete(){return delete If[this.app.options.appId],Promise.resolve()}}let If={},T_=[];const S_={};let l2="dataLayer",oq="gtag",I_,MF,F_=!1;function lq(){const t=[];if(IG()&&t.push("This is a browser extension environment."),NG()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=gs.create("invalid-analytics-context",{errorInfo:e});qi.warn(r.message)}}function cq(t,e,r){lq();const n=t.options.appId;if(!n)throw gs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gs.create("no-api-key");if(If[n]!=null)throw gs.create("already-exists",{id:n});if(!F_){VY(l2);const{wrappedGtag:s,gtagCore:l}=XY(If,T_,S_,l2,oq);MF=s,I_=l,F_=!0}return If[n]=sq(t,T_,S_,e,I_,l2,r),new Aq(t)}function uq(t=zI()){t=Zi(t);const e=sh(t,Vg);return e.isInitialized()?e.getImmediate():fq(t)}function fq(t,e={}){const r=sh(t,Vg);if(r.isInitialized()){const a=r.getImmediate();if(Ng(e,r.getOptions()))return a;throw gs.create("already-initialized")}return r.initialize({options:e})}function hq(t,e,r,n){t=Zi(t),aq(MF,If[t.app.options.appId],e,r,n).catch(a=>qi.error(a))}const N_="@firebase/analytics",R_="0.10.8";function dq(){hl(new lo(Vg,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return cq(n,a,r)},"PUBLIC")),hl(new lo("analytics-internal",t,"PRIVATE")),pA(N_,R_),pA(N_,R_,"esm2017");function t(e){try{const r=e.getProvider(Vg).getImmediate();return{logEvent:(n,a,s)=>hq(r,n,a,s)}}catch(r){throw gs.create("interop-component-reg-failed",{reason:r})}}}dq();const gq={apiKey:"AIzaSyC8yzlyr_lSdPWWbmODXThX-vPNAgpAn-c",authDomain:"mama-2951e.firebaseapp.com",projectId:"mama-2951e",storageBucket:"mama-2951e.firebasestorage.app",messagingSenderId:"881003136686",appId:"1:881003136686:web:819d11969d25fe32c28f3f",measurementId:"G-HZDLYN3PK7"},QF=KI(gq),Tr=OW(QF);uq(QF);const c2={userName:" ",signatureName:"Thank you for your visit",businessName:"Droguerie Taliouine",businessLogo:null,receiptSize:"80mm",showBarcode:!0,stockThreshold:10,backupTime:"00:00",lastBackupDate:null,autoBackupEnabled:!0,loginPhone:"0671276651",loginPassword:"1234",staffList:[],specialOrderLabel:" "},xq=()=>{const[t,e]=Ne.useState("login"),[r,n]=Ne.useState([]),[a,s]=Ne.useState(""),[l,f]=Ne.useState(""),[g,h]=Ne.useState(!1),[p,y]=Ne.useState(null),[B,T]=Ne.useState(!1),[S,F]=Ne.useState(null),[D,P]=Ne.useState(c2),[V,j]=Ne.useState([]),[re,ge]=Ne.useState([]),[z,O]=Ne.useState([]),[M,k]=Ne.useState([]),[Z,Y]=Ne.useState([]),[G,K]=Ne.useState([]),[Ie,xe]=Ne.useState([]),[ie,ue]=Ne.useState([]),[Ve,Ee]=Ne.useState(!0);Ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]),Ne.useEffect(()=>{const Le=eo(gn(Tr,"settings","global"),nt=>{if(nt.exists()){const Et=nt.data();P({...c2,...Et})}else Rs(gn(Tr,"settings","global"),c2);Ee(!1)});return()=>Le()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"invoices")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>{const jt=Bt.data();return{...jt,items:jt.items||[],payments:jt.payments||[]}});Rt.sort((Bt,jt)=>jt.createdAt-Bt.createdAt),j(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"supplier_invoices")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());Rt.sort((Bt,jt)=>jt.createdAt-Bt.createdAt),ge(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"client_requests")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());Rt.sort((Bt,jt)=>jt.createdAt-Bt.createdAt),O(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"checks")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());Rt.sort((Bt,jt)=>jt.createdAt-Bt.createdAt),k(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"special_orders")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>{const jt=Bt.data();return!jt.items&&jt.productName&&(jt.items=[{id:"legacy-1",name:jt.productName,quantity:jt.quantity||1}]),jt});Rt.sort((Bt,jt)=>jt.createdAt-Bt.createdAt),Y(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"notifications")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());Rt.sort((Bt,jt)=>jt.timestamp-Bt.timestamp),K(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"general_payments")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());Rt.sort((Bt,jt)=>jt.timestamp-Bt.timestamp),xe(Rt)});return()=>nt()},[]),Ne.useEffect(()=>{const Le=Go(Vo(Tr,"products")),nt=eo(Le,Et=>{const Rt=Et.docs.map(Bt=>Bt.data());ue(Rt)});return()=>nt()},[]);const $e=async Le=>{let nt;typeof Le=="function"?nt=Le(D):nt=Le,P(nt);const Et=JSON.parse(JSON.stringify(nt));await Rs(gn(Tr,"settings","global"),Et)},Ae=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"products",Le.id),nt)},q=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"products",Le.id),nt)},pe=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"supplier_invoices",Le.id),nt)},se=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Hl(gn(Tr,"supplier_invoices",Le.id),nt)},me=async Le=>{await Mu(gn(Tr,"supplier_invoices",Le))},Ce=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"client_requests",Le.id),nt)},ze=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Hl(gn(Tr,"client_requests",Le.id),nt)},ye=async Le=>{await Mu(gn(Tr,"client_requests",Le))},ae=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"checks",Le.id),nt)},_e=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Hl(gn(Tr,"checks",Le.id),nt)},Re=async Le=>{await Mu(gn(Tr,"checks",Le))},fe=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"special_orders",Le.id),nt)},yt=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Hl(gn(Tr,"special_orders",Le.id),nt)},_t=async Le=>{await Mu(gn(Tr,"special_orders",Le))},et=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"general_payments",Le.id),nt)},gt=async Le=>{await Mu(gn(Tr,"general_payments",Le))};Ne.useEffect(()=>{rt()},[V]);const rt=Ne.useCallback(()=>{V.filter(Le=>Le.type!=="paid").forEach(Le=>{if(!G.find(Et=>Et.id===`debt-${Le.id}`)){const Et={id:`debt-${Le.id}`,type:"debt",title:" ",message:` ${Le.name}    ${Le.remainingAmount.toFixed(2)} .   ${Le.id}`,timestamp:Date.now(),isRead:!1};Rs(gn(Tr,"notifications",Et.id),Et)}})},[V,G]),Ct=Ne.useCallback(()=>{const nt=[[" "," ","","","","","",""]];V.forEach(gr=>{nt.push([gr.id,gr.name,gr.phone||"",gr.date,gr.amount.toFixed(2),gr.paidAmount.toFixed(2),gr.remainingAmount.toFixed(2),gr.type==="paid"?"":gr.type==="partial"?"":" "])});const Et="\uFEFF"+nt.map(gr=>gr.map(Gr=>`"${Gr.replace(/"/g,'""')}"`).join(",")).join(`
`),Rt=new Blob([Et],{type:"text/csv;charset=utf-8;"}),Bt=URL.createObjectURL(Rt),jt=document.createElement("a");jt.href=Bt,jt.download=`MAMA_Backup_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(jt),jt.click(),document.body.removeChild(jt),URL.revokeObjectURL(Bt);const Xt=new Date().toLocaleString("ar-MA");$e(gr=>({...gr,lastBackupDate:Xt})),T(!0),setTimeout(()=>T(!1),4e3)},[V]),kt=Le=>{F(Le),e("dashboard")},mr=()=>{e("login"),F(null),n([]),y(null),s(""),f("")},vt=(Le,nt=1)=>{n(Et=>Et.find(Bt=>Bt.id===Le.id)?nt===1?Et.filter(Bt=>Bt.id!==Le.id):Et.map(Bt=>Bt.id===Le.id?{...Bt,count:Bt.count+nt,total:(Bt.count+nt)*Bt.price}:Bt):[...Et,{id:Le.id,productName:Le.name,price:Le.price,count:nt,total:Le.price*nt}])},Ca=(Le,nt,Et)=>{const Rt=`manual-${Date.now()}`;n(Bt=>[...Bt,{id:Rt,productName:Le,price:nt,count:Et,total:nt*Et,isManual:!0}])},Wn=(Le,nt)=>{n(Et=>Et.map(Rt=>{if(Rt.id===Le){const Bt=Math.max(0,Rt.count+nt);return{...Rt,count:Bt,total:Bt*Rt.price}}return Rt}).filter(Rt=>Rt.count>0))},tr=(Le,nt)=>{n(Et=>Et.map(Rt=>{if(Rt.id===Le){const Bt={...Rt,...nt};return Bt.total=Bt.price*Bt.count,Bt}return Rt}))},Cn=()=>{n([]),y(null),s(""),f("")},Jt=Le=>{S!=null&&S.permissions.createInvoices&&(y(Le),n(Le.items),s(Le.name),f(Le.phone||""),e("create-invoice"))},Vr=(Le,nt)=>{S!=null&&S.permissions.createInvoices&&(y(null),n([]),s(Le),f(nt||""),e("create-invoice"))},Ze=async Le=>{const nt=JSON.parse(JSON.stringify(Le));await Rs(gn(Tr,"invoices",Le.id),nt);for(const Et of Le.items)if(!Et.isManual){const Rt=ie.find(Bt=>Bt.id===Et.id);if(Rt){let Bt=Et.count;if(p){const jt=p.items.find(Xt=>Xt.id===Et.id);jt&&(Bt=Et.count-jt.count)}if(Bt!==0){const jt=Math.max(0,Rt.stock-Bt);await Hl(gn(Tr,"products",Et.id),{stock:jt})}}}Cn(),e("dashboard")},Nt=()=>{G.forEach(Le=>{Le.isRead||Hl(gn(Tr,"notifications",Le.id),{isRead:!0})})},Tt=async()=>{const Le=YW(Tr);G.forEach(nt=>{const Et=gn(Tr,"notifications",nt.id);Le.delete(Et)}),await Le.commit()},qt=Le=>{Hl(gn(Tr,"notifications",Le),{isRead:!0})},Qr=async(Le,nt,Et)=>{const Rt=V.find(un=>un.id===Le);if(!Rt)return;const Bt=Rt.paidAmount+nt,jt=Math.max(0,Rt.amount-Bt),Xt=[...Rt.payments,{id:`pay-${Date.now()}`,amount:nt,timestamp:Date.now(),method:Et}];let gr="unpaid";jt<=0?gr="paid":Bt>0&&(gr="partial");const Gr={...Rt,paidAmount:Bt,remainingAmount:jt,type:gr,payments:Xt},Rn=JSON.parse(JSON.stringify(Gr));await Rs(gn(Tr,"invoices",Le),Rn)},Mt=Ne.useMemo(()=>S?S.role==="admin"||S.permissions.isManager||S.permissions.viewAllWork?V:V.filter(Le=>Le.creatorName===S.name):[],[V,S]),At=Ne.useMemo(()=>{if(!S)return[];if(S.role==="admin"||S.permissions.isManager||S.permissions.viewAllWork)return Ie;const Le=new Set(Mt.map(nt=>nt.name));return Ie.filter(nt=>Le.has(nt.customerName))},[Ie,Mt,S]);return Ve?x.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-white font-bold",children:"  ..."}):x.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-black font-['Tajawal'] relative overflow-x-hidden text-white",children:[B&&x.jsxs("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-[1000] bg-[#1a1a1a] border border-[#57b385] rounded-2xl px-6 py-4 shadow-2xl flex items-center gap-4 animate-in slide-in-from-top duration-500",children:[x.jsx("div",{className:"w-10 h-10 bg-[#57b385]/20 rounded-full flex items-center justify-center text-[#57b385]",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:x.jsx("path",{d:"M20 6L9 17l-5-5"})})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-white font-bold text-sm",children:"   (Excel)"}),x.jsx("span",{className:"text-gray-500 text-[10px]",children:"     "})]})]}),t==="login"&&x.jsx(PN,{onLoginSuccess:kt,settings:D}),t==="dashboard"&&S&&x.jsx(uU,{currentUser:S,onLogout:mr,invoices:Mt,settings:D,onNavigateToProducts:()=>{h(!1),e("products")},onNavigateToCreateInvoice:()=>{p||(y(null),n([]),s(""),f("")),e("create-invoice")},onNavigateToSettings:()=>e("settings"),onNavigateToCustomers:()=>e("customers"),onNavigateToNotifications:()=>e("notifications"),onNavigateToSuppliers:()=>e("suppliers"),onNavigateToClientRequests:()=>e("client-requests"),onNavigateToCheckbook:()=>e("checkbook"),onNavigateToSpecialOrders:()=>e("special-orders"),onEditInvoice:Jt,onNewInvoiceForCustomer:Vr,unreadNotificationsCount:G.filter(Le=>!Le.isRead).length}),t==="products"&&S&&x.jsx(GV,{currentUser:S,products:ie,onAddProduct:Ae,onUpdateProduct:q,onLogout:mr,onNavigateToHome:()=>e("dashboard"),onNavigateToCreateInvoice:()=>e("create-invoice"),onNavigateToCustomers:()=>e("customers"),onNavigateToSettings:()=>e("settings"),isSelectionMode:g,onSelectProduct:vt,selectedItems:r,settings:D}),t==="create-invoice"&&S&&x.jsx(YV,{currentUser:S,onNavigateToHome:()=>e("dashboard"),onNavigateToProductSelection:()=>{h(!0),e("products")},items:r,onUpdateQuantity:Wn,onClearInvoice:Cn,onAddManualItem:Ca,onSaveInvoice:Ze,initialInvoice:p,settings:D,onUpdateItem:tr,customerName:a,setCustomerName:s,customerPhone:l,setCustomerPhone:f}),t==="settings"&&S&&x.jsx(qV,{currentUser:S,onNavigateToHome:()=>e("dashboard"),settings:D,onUpdateSettings:$e,onTriggerManualBackup:Ct,invoices:V,onEditInvoice:Jt,onNavigateToProducts:()=>e("products"),onNavigateToCustomers:()=>e("customers"),onNavigateToCreateInvoice:()=>e("create-invoice"),onLogout:mr}),t==="customers"&&S&&x.jsx(tG,{currentUser:S,onNavigateToHome:()=>e("dashboard"),onNavigateToProducts:()=>e("products"),onNavigateToSettings:()=>e("settings"),onNavigateToCreateInvoice:()=>e("create-invoice"),invoices:Mt,generalPayments:At,onAddGeneralPayment:et,onDeleteGeneralPayment:gt,onProcessPayment:Qr,onEditInvoice:Jt,settings:D}),t==="notifications"&&S&&x.jsx(sG,{onNavigateToHome:()=>e("dashboard"),notifications:G,onMarkAllAsRead:Nt,onClearAll:Tt,onMarkAsRead:qt}),t==="suppliers"&&S&&x.jsx(uG,{onNavigateToHome:()=>e("dashboard"),onAddInvoice:pe,onUpdateInvoice:se,onDeleteInvoice:me,invoices:re}),t==="client-requests"&&S&&x.jsx(fG,{onNavigateToHome:()=>e("dashboard"),requests:z,onAddRequest:Ce,onUpdateRequest:ze,onDeleteRequest:ye,settings:D}),t==="checkbook"&&S&&x.jsx(hG,{onNavigateToHome:()=>e("dashboard"),checks:M,onAddCheck:ae,onUpdateCheck:_e,onDeleteCheck:Re,settings:D}),t==="special-orders"&&S&&x.jsx(dG,{onNavigateToHome:()=>e("dashboard"),orders:Z,onAddOrder:fe,onUpdateOrder:yt,onDeleteOrder:_t,settings:D})]})};var h1={},Qu={},d1={},D_;function ps(){if(D_)return d1;D_=1,Object.defineProperty(d1,"__esModule",{value:!0});function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function r(n,a){t(this,r),this.data=n,this.text=a.text||n,this.options=a};return d1.default=e,d1}var O_;function pq(){if(O_)return Qu;O_=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.CODE39=void 0;var t=(function(){function F(D,P){for(var V=0;V<P.length;V++){var j=P[V];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,P,V){return P&&F(D.prototype,P),V&&F(D,V),D}})(),e=ps(),r=n(e);function n(F){return F&&F.__esModule?F:{default:F}}function a(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function s(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function l(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var f=(function(F){l(D,F);function D(P,V){return a(this,D),P=P.toUpperCase(),V.mod43&&(P+=B(S(P))),s(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,P,V))}return t(D,[{key:"encode",value:function(){for(var V=p("*"),j=0;j<this.data.length;j++)V+=p(this.data[j])+"0";return V+=p("*"),{data:V,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),D})(r.default),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],h=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function p(F){return y(T(F))}function y(F){return h[F].toString(2)}function B(F){return g[F]}function T(F){return g.indexOf(F)}function S(F){for(var D=0,P=0;P<F.length;P++)D+=T(F[P]);return D=D%43,D}return Qu.CODE39=f,Qu}var Zs={},g1={},x1={},Gn={},k_;function xh(){if(k_)return Gn;k_=1,Object.defineProperty(Gn,"__esModule",{value:!0});var t;function e(g,h,p){return h in g?Object.defineProperty(g,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):g[h]=p,g}var r=Gn.SET_A=0,n=Gn.SET_B=1,a=Gn.SET_C=2;Gn.SHIFT=98;var s=Gn.START_A=103,l=Gn.START_B=104,f=Gn.START_C=105;return Gn.MODULO=103,Gn.STOP=106,Gn.FNC1=207,Gn.SET_BY_CODE=(t={},e(t,s,r),e(t,l,n),e(t,f,a),t),Gn.SWAP={101:r,100:n,99:a},Gn.A_START_CHAR="",Gn.B_START_CHAR="",Gn.C_START_CHAR="",Gn.A_CHARS="[\0-_-]",Gn.B_CHARS="[ --]",Gn.C_CHARS="(*[0-9]{2}*)",Gn.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Gn}var U_;function Cx(){if(U_)return x1;U_=1,Object.defineProperty(x1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=ps(),r=a(e),n=xh();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){s(this,p);var T=l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.substring(1),B));return T.bytes=y.split("").map(function(S){return S.charCodeAt(0)}),T}return t(p,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var B=this.bytes,T=B.shift()-105,S=n.SET_BY_CODE[T];if(S===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&B.unshift(n.FNC1);var F=p.next(B,1,S);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:p.getBar(T)+F.result+p.getBar((F.checksum+T)%n.MODULO)+p.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var B=this.options.ean128||!1;return typeof B=="string"&&(B=B.toLowerCase()==="true"),B}}],[{key:"getBar",value:function(B){return n.BARS[B]?n.BARS[B].toString():""}},{key:"correctIndex",value:function(B,T){if(T===n.SET_A){var S=B.shift();return S<32?S+64:S-32}else return T===n.SET_B?B.shift()-32:(B.shift()-48)*10+B.shift()-48}},{key:"next",value:function(B,T,S){if(!B.length)return{result:"",checksum:0};var F=void 0,D=void 0;if(B[0]>=200){D=B.shift()-105;var P=n.SWAP[D];P!==void 0?F=p.next(B,T+1,P):((S===n.SET_A||S===n.SET_B)&&D===n.SHIFT&&(B[0]=S===n.SET_A?B[0]>95?B[0]-96:B[0]:B[0]<32?B[0]+96:B[0]),F=p.next(B,T+1,S))}else D=p.correctIndex(B,S),F=p.next(B,T+1,S);var V=p.getBar(D),j=D*T;return{result:V+F.result,checksum:j+F.checksum}}}]),p})(r.default);return x1.default=g,x1}var p1={},M_;function mq(){if(M_)return p1;M_=1,Object.defineProperty(p1,"__esModule",{value:!0});var t=xh(),e=function(f){return f.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},r=function(f){return f.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},n=function(f){return f.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function a(l,f){var g=f?t.A_CHARS:t.B_CHARS,h=l.match(new RegExp("^("+g+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(h)return h[1]+""+s(l.substring(h[1].length));var p=l.match(new RegExp("^"+g+"+"))[0];return p.length===l.length?l:p+String.fromCharCode(f?205:206)+a(l.substring(p.length),!f)}function s(l){var f=n(l),g=f.length;if(g===l.length)return l;l=l.substring(g);var h=e(l)>=r(l);return f+String.fromCharCode(h?206:205)+a(l,h)}return p1.default=function(l){var f=void 0,g=n(l).length;if(g>=2)f=t.C_START_CHAR+s(l);else{var h=e(l)>r(l);f=(h?t.A_START_CHAR:t.B_START_CHAR)+a(l,h)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(p,y){return""+y})},p1}var Q_;function wq(){if(Q_)return g1;Q_=1,Object.defineProperty(g1,"__esModule",{value:!0});var t=Cx(),e=a(t),r=mq(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){if(s(this,p),/^[\x00-\x7F\xC8-\xD3]+$/.test(y))var T=l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,(0,n.default)(y),B));else var T=l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y,B));return l(T)}return p})(e.default);return g1.default=g,g1}var m1={},L_;function vq(){if(L_)return m1;L_=1,Object.defineProperty(m1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=Cx(),r=a(e),n=xh();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){return s(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,n.A_START_CHAR+y,B))}return t(p,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),p})(r.default);return m1.default=g,m1}var w1={},P_;function yq(){if(P_)return w1;P_=1,Object.defineProperty(w1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=Cx(),r=a(e),n=xh();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){return s(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,n.B_START_CHAR+y,B))}return t(p,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),p})(r.default);return w1.default=g,w1}var v1={},j_;function Eq(){if(j_)return v1;j_=1,Object.defineProperty(v1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=Cx(),r=a(e),n=xh();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){return s(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,n.C_START_CHAR+y,B))}return t(p,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),p})(r.default);return v1.default=g,v1}var H_;function Bq(){if(H_)return Zs;H_=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.CODE128C=Zs.CODE128B=Zs.CODE128A=Zs.CODE128=void 0;var t=wq(),e=g(t),r=vq(),n=g(r),a=yq(),s=g(a),l=Eq(),f=g(l);function g(h){return h&&h.__esModule?h:{default:h}}return Zs.CODE128=e.default,Zs.CODE128A=n.default,Zs.CODE128B=s.default,Zs.CODE128C=f.default,Zs}var wi={},y1={},to={},V_;function ph(){return V_||(V_=1,Object.defineProperty(to,"__esModule",{value:!0}),to.SIDE_BIN="101",to.MIDDLE_BIN="01010",to.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},to.EAN2_STRUCTURE=["LL","LG","GL","GG"],to.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],to.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),to}var E1={},B1={},G_;function mh(){if(G_)return B1;G_=1,Object.defineProperty(B1,"__esModule",{value:!0});var t=ph(),e=function(n,a,s){var l=n.split("").map(function(g,h){return t.BINARIES[a[h]]}).map(function(g,h){return g?g[n[h]]:""});if(s){var f=n.length-1;l=l.map(function(g,h){return h<f?g+s:g})}return l.join("")};return B1.default=e,B1}var K_;function LF(){if(K_)return E1;K_=1,Object.defineProperty(E1,"__esModule",{value:!0});var t=(function(){function y(B,T){for(var S=0;S<T.length;S++){var F=T[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,F.key,F)}}return function(B,T,S){return T&&y(B.prototype,T),S&&y(B,S),B}})(),e=ph(),r=mh(),n=l(r),a=ps(),s=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,B){if(!(y instanceof B))throw new TypeError("Cannot call a class as a function")}function g(y,B){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:y}function h(y,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);y.prototype=Object.create(B&&B.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(y,B):y.__proto__=B)}var p=(function(y){h(B,y);function B(T,S){f(this,B);var F=g(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,T,S));return F.fontSize=!S.flat&&S.fontSize>S.width*10?S.width*10:S.fontSize,F.guardHeight=S.height+F.fontSize/2+S.textMargin,F}return t(B,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(S,F){return this.text.substr(S,F)}},{key:"leftEncode",value:function(S,F){return(0,n.default)(S,F)}},{key:"rightText",value:function(S,F){return this.text.substr(S,F)}},{key:"rightEncode",value:function(S,F){return(0,n.default)(S,F)}},{key:"encodeGuarded",value:function(){var S={fontSize:this.fontSize},F={height:this.guardHeight};return[{data:e.SIDE_BIN,options:F},{data:this.leftEncode(),text:this.leftText(),options:S},{data:e.MIDDLE_BIN,options:F},{data:this.rightEncode(),text:this.rightText(),options:S},{data:e.SIDE_BIN,options:F}]}},{key:"encodeFlat",value:function(){var S=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:S.join(""),text:this.text}}}]),B})(s.default);return E1.default=p,E1}var z_;function Cq(){if(z_)return y1;z_=1,Object.defineProperty(y1,"__esModule",{value:!0});var t=(function(){function y(B,T){for(var S=0;S<T.length;S++){var F=T[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,F.key,F)}}return function(B,T,S){return T&&y(B.prototype,T),S&&y(B,S),B}})(),e=function y(B,T,S){B===null&&(B=Function.prototype);var F=Object.getOwnPropertyDescriptor(B,T);if(F===void 0){var D=Object.getPrototypeOf(B);return D===null?void 0:y(D,T,S)}else{if("value"in F)return F.value;var P=F.get;return P===void 0?void 0:P.call(S)}},r=ph(),n=LF(),a=s(n);function s(y){return y&&y.__esModule?y:{default:y}}function l(y,B){if(!(y instanceof B))throw new TypeError("Cannot call a class as a function")}function f(y,B){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:y}function g(y,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);y.prototype=Object.create(B&&B.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(y,B):y.__proto__=B)}var h=function(B){var T=B.substr(0,12).split("").map(function(S){return+S}).reduce(function(S,F,D){return D%2?S+F*3:S+F},0);return(10-T%10)%10},p=(function(y){g(B,y);function B(T,S){l(this,B),T.search(/^[0-9]{12}$/)!==-1&&(T+=h(T));var F=f(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,T,S));return F.lastChar=S.lastChar,F}return t(B,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===h(this.data)}},{key:"leftText",value:function(){return e(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var S=this.data.substr(1,6),F=r.EAN13_STRUCTURE[this.data[0]];return e(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"leftEncode",this).call(this,S,F)}},{key:"rightText",value:function(){return e(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var S=this.data.substr(7,6);return e(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"rightEncode",this).call(this,S,"RRRRRR")}},{key:"encodeGuarded",value:function(){var S=e(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(S.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(S.push({data:"00"}),S.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),S}}]),B})(a.default);return y1.default=p,y1}var C1={},X_;function bq(){if(X_)return C1;X_=1,Object.defineProperty(C1,"__esModule",{value:!0});var t=(function(){function p(y,B){for(var T=0;T<B.length;T++){var S=B[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,B,T){return B&&p(y.prototype,B),T&&p(y,T),y}})(),e=function p(y,B,T){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,B);if(S===void 0){var F=Object.getPrototypeOf(y);return F===null?void 0:p(F,B,T)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(T)}},r=LF(),n=a(r);function a(p){return p&&p.__esModule?p:{default:p}}function s(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function l(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function f(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var g=function(y){var B=y.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,S,F){return F%2?T+S:T+S*3},0);return(10-B%10)%10},h=(function(p){f(y,p);function y(B,T){return s(this,y),B.search(/^[0-9]{7}$/)!==-1&&(B+=g(B)),l(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,B,T))}return t(y,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===g(this.data)}},{key:"leftText",value:function(){return e(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return e(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return e(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return e(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),y})(n.default);return C1.default=h,C1}var b1={},W_;function _q(){if(W_)return b1;W_=1,Object.defineProperty(b1,"__esModule",{value:!0});var t=(function(){function B(T,S){for(var F=0;F<S.length;F++){var D=S[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,S,F){return S&&B(T.prototype,S),F&&B(T,F),T}})(),e=ph(),r=mh(),n=l(r),a=ps(),s=l(a);function l(B){return B&&B.__esModule?B:{default:B}}function f(B,T){if(!(B instanceof T))throw new TypeError("Cannot call a class as a function")}function g(B,T){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:B}function h(B,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);B.prototype=Object.create(T&&T.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(B,T):B.__proto__=T)}var p=function(T){var S=T.split("").map(function(F){return+F}).reduce(function(F,D,P){return P%2?F+D*9:F+D*3},0);return S%10},y=(function(B){h(T,B);function T(S,F){return f(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,S,F))}return t(T,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var F=e.EAN5_STRUCTURE[p(this.data)];return{data:"1011"+(0,n.default)(this.data,F,"01"),text:this.text}}}]),T})(s.default);return b1.default=y,b1}var _1={},Y_;function Tq(){if(Y_)return _1;Y_=1,Object.defineProperty(_1,"__esModule",{value:!0});var t=(function(){function y(B,T){for(var S=0;S<T.length;S++){var F=T[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,F.key,F)}}return function(B,T,S){return T&&y(B.prototype,T),S&&y(B,S),B}})(),e=ph(),r=mh(),n=l(r),a=ps(),s=l(a);function l(y){return y&&y.__esModule?y:{default:y}}function f(y,B){if(!(y instanceof B))throw new TypeError("Cannot call a class as a function")}function g(y,B){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:y}function h(y,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);y.prototype=Object.create(B&&B.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(y,B):y.__proto__=B)}var p=(function(y){h(B,y);function B(T,S){return f(this,B),g(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,T,S))}return t(B,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var S=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,S,"01"),text:this.text}}}]),B})(s.default);return _1.default=p,_1}var Lu={},q_;function PF(){if(q_)return Lu;q_=1,Object.defineProperty(Lu,"__esModule",{value:!0});var t=(function(){function y(B,T){for(var S=0;S<T.length;S++){var F=T[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(B,F.key,F)}}return function(B,T,S){return T&&y(B.prototype,T),S&&y(B,S),B}})();Lu.checksum=p;var e=mh(),r=s(e),n=ps(),a=s(n);function s(y){return y&&y.__esModule?y:{default:y}}function l(y,B){if(!(y instanceof B))throw new TypeError("Cannot call a class as a function")}function f(y,B){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:y}function g(y,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);y.prototype=Object.create(B&&B.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(y,B):y.__proto__=B)}var h=(function(y){g(B,y);function B(T,S){l(this,B),T.search(/^[0-9]{11}$/)!==-1&&(T+=p(T));var F=f(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,T,S));return F.displayValue=S.displayValue,S.fontSize>S.width*10?F.fontSize=S.width*10:F.fontSize=S.fontSize,F.guardHeight=S.height+F.fontSize/2+S.textMargin,F}return t(B,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==p(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var S="";return S+="101",S+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),S+="01010",S+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),S+="101",{data:S,text:this.text}}},{key:"guardedEncoding",value:function(){var S=[];return this.displayValue&&S.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),S.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),S.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),S.push({data:"01010",options:{height:this.guardHeight}}),S.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),S.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&S.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),S}}]),B})(a.default);function p(y){var B=0,T;for(T=1;T<11;T+=2)B+=parseInt(y[T]);for(T=0;T<11;T+=2)B+=parseInt(y[T])*3;return(10-B%10)%10}return Lu.default=h,Lu}var T1={},Z_;function Sq(){if(Z_)return T1;Z_=1,Object.defineProperty(T1,"__esModule",{value:!0});var t=(function(){function S(F,D){for(var P=0;P<D.length;P++){var V=D[P];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,D,P){return D&&S(F.prototype,D),P&&S(F,P),F}})(),e=mh(),r=l(e),n=ps(),a=l(n),s=PF();function l(S){return S&&S.__esModule?S:{default:S}}function f(S,F){if(!(S instanceof F))throw new TypeError("Cannot call a class as a function")}function g(S,F){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:S}function h(S,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);S.prototype=Object.create(F&&F.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(S,F):S.__proto__=F)}var p=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],y=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],B=(function(S){h(F,S);function F(D,P){f(this,F);var V=g(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,D,P));if(V.isValid=!1,D.search(/^[0-9]{6}$/)!==-1)V.middleDigits=D,V.upcA=T(D,"0"),V.text=P.text||""+V.upcA[0]+D+V.upcA[V.upcA.length-1],V.isValid=!0;else if(D.search(/^[01][0-9]{7}$/)!==-1)if(V.middleDigits=D.substring(1,D.length-1),V.upcA=T(V.middleDigits,D[0]),V.upcA[V.upcA.length-1]===D[D.length-1])V.isValid=!0;else return g(V);else return g(V);return V.displayValue=P.displayValue,P.fontSize>P.width*10?V.fontSize=P.width*10:V.fontSize=P.fontSize,V.guardHeight=P.height+V.fontSize/2+P.textMargin,V}return t(F,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var P="";return P+="101",P+=this.encodeMiddleDigits(),P+="010101",{data:P,text:this.text}}},{key:"guardedEncoding",value:function(){var P=[];return this.displayValue&&P.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),P.push({data:"101",options:{height:this.guardHeight}}),P.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),P.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&P.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),P}},{key:"encodeMiddleDigits",value:function(){var P=this.upcA[0],V=this.upcA[this.upcA.length-1],j=y[parseInt(V)][parseInt(P)];return(0,r.default)(this.middleDigits,j)}}]),F})(a.default);function T(S,F){for(var D=parseInt(S[S.length-1]),P=p[D],V="",j=0,re=0;re<P.length;re++){var ge=P[re];ge==="X"?V+=S[j++]:V+=ge}return V=""+F+V,""+V+(0,s.checksum)(V)}return T1.default=B,T1}var J_;function Iq(){if(J_)return wi;J_=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.UPCE=wi.UPC=wi.EAN2=wi.EAN5=wi.EAN8=wi.EAN13=void 0;var t=Cq(),e=B(t),r=bq(),n=B(r),a=_q(),s=B(a),l=Tq(),f=B(l),g=PF(),h=B(g),p=Sq(),y=B(p);function B(T){return T&&T.__esModule?T:{default:T}}return wi.EAN13=e.default,wi.EAN8=n.default,wi.EAN5=s.default,wi.EAN2=f.default,wi.UPC=h.default,wi.UPCE=y.default,wi}var Vl={},S1={},o0={},$_;function Fq(){return $_||($_=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.START_BIN="1010",o0.END_BIN="11101",o0.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),o0}var e3;function jF(){if(e3)return S1;e3=1,Object.defineProperty(S1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=Fq(),r=ps(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(){return s(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return t(p,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var B=this,T=this.data.match(/.{2}/g).map(function(S){return B.encodePair(S)}).join("");return{data:e.START_BIN+T+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(B){var T=e.BINARIES[B[1]];return e.BINARIES[B[0]].split("").map(function(S,F){return(S==="1"?"111":"1")+(T[F]==="1"?"000":"0")}).join("")}}]),p})(n.default);return S1.default=g,S1}var I1={},t3;function Nq(){if(t3)return I1;t3=1,Object.defineProperty(I1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=jF(),r=n(e);function n(h){return h&&h.__esModule?h:{default:h}}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function s(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function l(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(p){var y=p.substr(0,13).split("").map(function(B){return parseInt(B,10)}).reduce(function(B,T,S){return B+T*(3-S%2*2)},0);return Math.ceil(y/10)*10-y},g=(function(h){l(p,h);function p(y,B){return a(this,p),y.search(/^[0-9]{13}$/)!==-1&&(y+=f(y)),s(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y,B))}return t(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),p})(r.default);return I1.default=g,I1}var r3;function Rq(){if(r3)return Vl;r3=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ITF14=Vl.ITF=void 0;var t=jF(),e=a(t),r=Nq(),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}return Vl.ITF=e.default,Vl.ITF14=n.default,Vl}var os={},F1={},n3;function wh(){if(n3)return F1;n3=1,Object.defineProperty(F1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=ps(),r=n(e);function n(h){return h&&h.__esModule?h:{default:h}}function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function s(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function l(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=(function(h){l(p,h);function p(y,B){return a(this,p),s(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y,B))}return t(p,[{key:"encode",value:function(){for(var B="110",T=0;T<this.data.length;T++){var S=parseInt(this.data[T]),F=S.toString(2);F=g(F,4-F.length);for(var D=0;D<F.length;D++)B+=F[D]=="0"?"100":"110"}return B+="1001",{data:B,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),p})(r.default);function g(h,p){for(var y=0;y<p;y++)h="0"+h;return h}return F1.default=f,F1}var N1={},Pu={},a3;function bx(){if(a3)return Pu;a3=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.mod10=t,Pu.mod11=e;function t(r){for(var n=0,a=0;a<r.length;a++){var s=parseInt(r[a]);(a+r.length)%2===0?n+=s:n+=s*2%10+Math.floor(s*2/10)}return(10-n%10)%10}function e(r){for(var n=0,a=[2,3,4,5,6,7],s=0;s<r.length;s++){var l=parseInt(r[r.length-1-s]);n+=a[s%a.length]*l}return(11-n%11)%11}return Pu}var i3;function Dq(){if(i3)return N1;i3=1,Object.defineProperty(N1,"__esModule",{value:!0});var t=wh(),e=n(t),r=bx();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p+(0,r.mod10)(p),y))}return h})(e.default);return N1.default=f,N1}var R1={},s3;function Oq(){if(s3)return R1;s3=1,Object.defineProperty(R1,"__esModule",{value:!0});var t=wh(),e=n(t),r=bx();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p+(0,r.mod11)(p),y))}return h})(e.default);return R1.default=f,R1}var D1={},A3;function kq(){if(A3)return D1;A3=1,Object.defineProperty(D1,"__esModule",{value:!0});var t=wh(),e=n(t),r=bx();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),p+=(0,r.mod10)(p),p+=(0,r.mod10)(p),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p,y))}return h})(e.default);return D1.default=f,D1}var O1={},o3;function Uq(){if(o3)return O1;o3=1,Object.defineProperty(O1,"__esModule",{value:!0});var t=wh(),e=n(t),r=bx();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),p+=(0,r.mod11)(p),p+=(0,r.mod10)(p),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p,y))}return h})(e.default);return O1.default=f,O1}var l3;function Mq(){if(l3)return os;l3=1,Object.defineProperty(os,"__esModule",{value:!0}),os.MSI1110=os.MSI1010=os.MSI11=os.MSI10=os.MSI=void 0;var t=wh(),e=p(t),r=Dq(),n=p(r),a=Oq(),s=p(a),l=kq(),f=p(l),g=Uq(),h=p(g);function p(y){return y&&y.__esModule?y:{default:y}}return os.MSI=e.default,os.MSI10=n.default,os.MSI11=s.default,os.MSI1010=f.default,os.MSI1110=h.default,os}var ju={},c3;function Qq(){if(c3)return ju;c3=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.pharmacode=void 0;var t=(function(){function g(h,p){for(var y=0;y<p.length;y++){var B=p[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,B.key,B)}}return function(h,p,y){return p&&g(h.prototype,p),y&&g(h,y),h}})(),e=ps(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){a(this,h);var B=s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p,y));return B.number=parseInt(p,10),B}return t(h,[{key:"encode",value:function(){for(var y=this.number,B="";!isNaN(y)&&y!=0;)y%2===0?(B="11100"+B,y=(y-2)/2):(B="100"+B,y=(y-1)/2);return B=B.slice(0,-2),{data:B,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),h})(r.default);return ju.pharmacode=f,ju}var Hu={},u3;function Lq(){if(u3)return Hu;u3=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.codabar=void 0;var t=(function(){function g(h,p){for(var y=0;y<p.length;y++){var B=p[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,B.key,B)}}return function(h,p,y){return p&&g(h.prototype,p),y&&g(h,y),h}})(),e=ps(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){a(this,h),p.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(p="A"+p+"A");var B=s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p.toUpperCase(),y));return B.text=B.options.text||B.text.replace(/[A-D]/g,""),B}return t(h,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var y=[],B=this.getEncodings(),T=0;T<this.data.length;T++)y.push(B[this.data.charAt(T)]),T!==this.data.length-1&&y.push("0");return{text:this.text,data:y.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),h})(r.default);return Hu.codabar=f,Hu}var Gl={},k1={},l0={},f3;function Pq(){return f3||(f3=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],l0.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],l0.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),l0}var h3;function HF(){if(h3)return k1;h3=1,Object.defineProperty(k1,"__esModule",{value:!0});var t=(function(){function h(p,y){for(var B=0;B<y.length;B++){var T=y[B];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,y,B){return y&&h(p.prototype,y),B&&h(p,B),p}})(),e=Pq(),r=ps(),n=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var g=(function(h){f(p,h);function p(y,B){return s(this,p),l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y,B))}return t(p,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var B=this.data.split("").flatMap(function(D){return e.MULTI_SYMBOLS[D]||D}),T=B.map(function(D){return p.getEncoding(D)}).join(""),S=p.checksum(B,20),F=p.checksum(B.concat(S),15);return{text:this.text,data:p.getEncoding("")+T+p.getEncoding(S)+p.getEncoding(F)+p.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(B){return e.BINARIES[p.symbolValue(B)]}},{key:"getSymbol",value:function(B){return e.SYMBOLS[B]}},{key:"symbolValue",value:function(B){return e.SYMBOLS.indexOf(B)}},{key:"checksum",value:function(B,T){var S=B.slice().reverse().reduce(function(F,D,P){var V=P%T+1;return F+p.symbolValue(D)*V},0);return p.getSymbol(S%47)}}]),p})(n.default);return k1.default=g,k1}var U1={},d3;function jq(){if(d3)return U1;d3=1,Object.defineProperty(U1,"__esModule",{value:!0});var t=(function(){function g(h,p){for(var y=0;y<p.length;y++){var B=p[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,B.key,B)}}return function(h,p,y){return p&&g(h.prototype,p),y&&g(h,y),h}})(),e=HF(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p,y))}return t(h,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),h})(r.default);return U1.default=f,U1}var g3;function Hq(){if(g3)return Gl;g3=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.CODE93FullASCII=Gl.CODE93=void 0;var t=HF(),e=a(t),r=jq(),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}return Gl.CODE93=e.default,Gl.CODE93FullASCII=n.default,Gl}var Vu={},x3;function Vq(){if(x3)return Vu;x3=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.GenericBarcode=void 0;var t=(function(){function g(h,p){for(var y=0;y<p.length;y++){var B=p[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,B.key,B)}}return function(h,p,y){return p&&g(h.prototype,p),y&&g(h,y),h}})(),e=ps(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function s(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:g}function l(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}var f=(function(g){l(h,g);function h(p,y){return a(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,p,y))}return t(h,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),h})(r.default);return Vu.GenericBarcode=f,Vu}var p3;function Gq(){if(p3)return h1;p3=1,Object.defineProperty(h1,"__esModule",{value:!0});var t=pq(),e=Bq(),r=Iq(),n=Rq(),a=Mq(),s=Qq(),l=Lq(),f=Hq(),g=Vq();return h1.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:s.pharmacode,codabar:l.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:g.GenericBarcode},h1}var M1={},m3;function _x(){if(m3)return M1;m3=1,Object.defineProperty(M1,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return M1.default=function(e,r){return t({},e,r)},M1}var Q1={},w3;function Kq(){if(w3)return Q1;w3=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.default=t;function t(e){var r=[];function n(a){if(Array.isArray(a))for(var s=0;s<a.length;s++)n(a[s]);else a.text=a.text||"",a.data=a.data||"",r.push(a)}return n(e),r}return Q1}var L1={},v3;function zq(){if(v3)return L1;v3=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return L1}var P1={},j1={},H1={},y3;function VF(){if(y3)return H1;y3=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=t;function t(e){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return H1}var V1={},E3;function GF(){if(E3)return V1;E3=1,Object.defineProperty(V1,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return V1.default=t,V1}var B3;function Xq(){if(B3)return j1;B3=1,Object.defineProperty(j1,"__esModule",{value:!0});var t=VF(),e=a(t),r=GF(),n=a(r);function a(l){return l&&l.__esModule?l:{default:l}}function s(l){var f={};for(var g in n.default)n.default.hasOwnProperty(g)&&(l.hasAttribute("jsbarcode-"+g.toLowerCase())&&(f[g]=l.getAttribute("jsbarcode-"+g.toLowerCase())),l.hasAttribute("data-"+g.toLowerCase())&&(f[g]=l.getAttribute("data-"+g.toLowerCase())));return f.value=l.getAttribute("jsbarcode-value")||l.getAttribute("data-value"),f=(0,e.default)(f),f}return j1.default=s,j1}var G1={},K1={},ls={},C3;function KF(){if(C3)return ls;C3=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.getTotalWidthOfEncodings=ls.calculateEncodingAttributes=ls.getBarcodePadding=ls.getEncodingHeight=ls.getMaximumHeightOfEncodings=void 0;var t=_x(),e=r(t);function r(h){return h&&h.__esModule?h:{default:h}}function n(h,p){return p.height+(p.displayValue&&h.text.length>0?p.fontSize+p.textMargin:0)+p.marginTop+p.marginBottom}function a(h,p,y){if(y.displayValue&&p<h){if(y.textAlign=="center")return Math.floor((h-p)/2);if(y.textAlign=="left")return 0;if(y.textAlign=="right")return Math.floor(h-p)}return 0}function s(h,p,y){for(var B=0;B<h.length;B++){var T=h[B],S=(0,e.default)(p,T.options),F;S.displayValue?F=g(T.text,S,y):F=0;var D=T.data.length*S.width;T.width=Math.ceil(Math.max(F,D)),T.height=n(T,S),T.barcodePadding=a(F,D,S)}}function l(h){for(var p=0,y=0;y<h.length;y++)p+=h[y].width;return p}function f(h){for(var p=0,y=0;y<h.length;y++)h[y].height>p&&(p=h[y].height);return p}function g(h,p,y){var B;if(y)B=y;else if(typeof document<"u")B=document.createElement("canvas").getContext("2d");else return 0;B.font=p.fontOptions+" "+p.fontSize+"px "+p.font;var T=B.measureText(h);if(!T)return 0;var S=T.width;return S}return ls.getMaximumHeightOfEncodings=f,ls.getEncodingHeight=n,ls.getBarcodePadding=a,ls.calculateEncodingAttributes=s,ls.getTotalWidthOfEncodings=l,ls}var b3;function Wq(){if(b3)return K1;b3=1,Object.defineProperty(K1,"__esModule",{value:!0});var t=(function(){function f(g,h){for(var p=0;p<h.length;p++){var y=h[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,h,p){return h&&f(g.prototype,h),p&&f(g,p),g}})(),e=_x(),r=a(e),n=KF();function a(f){return f&&f.__esModule?f:{default:f}}function s(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}var l=(function(){function f(g,h,p){s(this,f),this.canvas=g,this.encodings=h,this.options=p}return t(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var h=0;h<this.encodings.length;h++){var p=(0,r.default)(this.options,this.encodings[h].options);this.drawCanvasBarcode(p,this.encodings[h]),this.drawCanvasText(p,this.encodings[h]),this.moveCanvasDrawing(this.encodings[h])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var h=this.canvas.getContext("2d");h.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,h);var p=(0,n.getTotalWidthOfEncodings)(this.encodings),y=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=p+this.options.marginLeft+this.options.marginRight,this.canvas.height=y,h.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(h.fillStyle=this.options.background,h.fillRect(0,0,this.canvas.width,this.canvas.height)),h.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(h,p){var y=this.canvas.getContext("2d"),B=p.data,T;h.textPosition=="top"?T=h.marginTop+h.fontSize+h.textMargin:T=h.marginTop,y.fillStyle=h.lineColor;for(var S=0;S<B.length;S++){var F=S*h.width+p.barcodePadding;B[S]==="1"?y.fillRect(F,T,h.width,h.height):B[S]&&y.fillRect(F,T,h.width,h.height*B[S])}}},{key:"drawCanvasText",value:function(h,p){var y=this.canvas.getContext("2d"),B=h.fontOptions+" "+h.fontSize+"px "+h.font;if(h.displayValue){var T,S;h.textPosition=="top"?S=h.marginTop+h.fontSize-h.textMargin:S=h.height+h.textMargin+h.marginTop+h.fontSize,y.font=B,h.textAlign=="left"||p.barcodePadding>0?(T=0,y.textAlign="left"):h.textAlign=="right"?(T=p.width-1,y.textAlign="right"):(T=p.width/2,y.textAlign="center"),y.fillText(p.text,T,S)}}},{key:"moveCanvasDrawing",value:function(h){var p=this.canvas.getContext("2d");p.translate(h.width,0)}},{key:"restoreCanvas",value:function(){var h=this.canvas.getContext("2d");h.restore()}}]),f})();return K1.default=l,K1}var z1={},_3;function Yq(){if(_3)return z1;_3=1,Object.defineProperty(z1,"__esModule",{value:!0});var t=(function(){function g(h,p){for(var y=0;y<p.length;y++){var B=p[y];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(h,B.key,B)}}return function(h,p,y){return p&&g(h.prototype,p),y&&g(h,y),h}})(),e=_x(),r=a(e),n=KF();function a(g){return g&&g.__esModule?g:{default:g}}function s(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}var l="http://www.w3.org/2000/svg",f=(function(){function g(h,p,y){s(this,g),this.svg=h,this.encodings=p,this.options=y,this.document=y.xmlDocument||document}return t(g,[{key:"render",value:function(){var p=this.options.marginLeft;this.prepareSVG();for(var y=0;y<this.encodings.length;y++){var B=this.encodings[y],T=(0,r.default)(this.options,B.options),S=this.createGroup(p,T.marginTop,this.svg);this.setGroupOptions(S,T),this.drawSvgBarcode(S,T,B),this.drawSVGText(S,T,B),p+=B.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var p=(0,n.getTotalWidthOfEncodings)(this.encodings),y=(0,n.getMaximumHeightOfEncodings)(this.encodings),B=p+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(B,y),this.options.background&&this.drawRect(0,0,B,y,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(p,y,B){var T=B.data,S;y.textPosition=="top"?S=y.fontSize+y.textMargin:S=0;for(var F=0,D=0,P=0;P<T.length;P++)D=P*y.width+B.barcodePadding,T[P]==="1"?F++:F>0&&(this.drawRect(D-y.width*F,S,y.width*F,y.height,p),F=0);F>0&&this.drawRect(D-y.width*(F-1),S,y.width*F,y.height,p)}},{key:"drawSVGText",value:function(p,y,B){var T=this.document.createElementNS(l,"text");if(y.displayValue){var S,F;T.setAttribute("font-family",y.font),T.setAttribute("font-size",y.fontSize),y.fontOptions.includes("bold")&&T.setAttribute("font-weight","bold"),y.fontOptions.includes("italic")&&T.setAttribute("font-style","italic"),y.textPosition=="top"?F=y.fontSize-y.textMargin:F=y.height+y.textMargin+y.fontSize,y.textAlign=="left"||B.barcodePadding>0?(S=0,T.setAttribute("text-anchor","start")):y.textAlign=="right"?(S=B.width-1,T.setAttribute("text-anchor","end")):(S=B.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",S),T.setAttribute("y",F),T.appendChild(this.document.createTextNode(B.text)),p.appendChild(T)}}},{key:"setSvgAttributes",value:function(p,y){var B=this.svg;B.setAttribute("width",p+"px"),B.setAttribute("height",y+"px"),B.setAttribute("x","0px"),B.setAttribute("y","0px"),B.setAttribute("viewBox","0 0 "+p+" "+y),B.setAttribute("xmlns",l),B.setAttribute("version","1.1")}},{key:"createGroup",value:function(p,y,B){var T=this.document.createElementNS(l,"g");return T.setAttribute("transform","translate("+p+", "+y+")"),B.appendChild(T),T}},{key:"setGroupOptions",value:function(p,y){p.setAttribute("fill",y.lineColor)}},{key:"drawRect",value:function(p,y,B,T,S){var F=this.document.createElementNS(l,"rect");return F.setAttribute("x",p),F.setAttribute("y",y),F.setAttribute("width",B),F.setAttribute("height",T),S.appendChild(F),F}}]),g})();return z1.default=f,z1}var X1={},T3;function qq(){if(T3)return X1;T3=1,Object.defineProperty(X1,"__esModule",{value:!0});var t=(function(){function n(a,s){for(var l=0;l<s.length;l++){var f=s[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,s,l){return s&&n(a.prototype,s),l&&n(a,l),a}})();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(a,s,l){e(this,n),this.object=a,this.encodings=s,this.options=l}return t(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n})();return X1.default=r,X1}var S3;function Zq(){if(S3)return G1;S3=1,Object.defineProperty(G1,"__esModule",{value:!0});var t=Wq(),e=l(t),r=Yq(),n=l(r),a=qq(),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}return G1.default={CanvasRenderer:e.default,SVGRenderer:n.default,ObjectRenderer:s.default},G1}var c0={},I3;function zF(){if(I3)return c0;I3=1,Object.defineProperty(c0,"__esModule",{value:!0});function t(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function e(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:l}function r(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(l,f):l.__proto__=f)}var n=(function(l){r(f,l);function f(g,h){t(this,f);var p=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return p.name="InvalidInputException",p.symbology=g,p.input=h,p.message='"'+p.input+'" is not a valid input for '+p.symbology,p}return f})(Error),a=(function(l){r(f,l);function f(){t(this,f);var g=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.name="InvalidElementException",g.message="Not supported type to render on",g}return f})(Error),s=(function(l){r(f,l);function f(){t(this,f);var g=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.name="NoElementException",g.message="No element to render on.",g}return f})(Error);return c0.InvalidInputException=n,c0.InvalidElementException=a,c0.NoElementException=s,c0}var F3;function Jq(){if(F3)return P1;F3=1,Object.defineProperty(P1,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e=Xq(),r=l(e),n=Zq(),a=l(n),s=zF();function l(p){return p&&p.__esModule?p:{default:p}}function f(p){if(typeof p=="string")return g(p);if(Array.isArray(p)){for(var y=[],B=0;B<p.length;B++)y.push(f(p[B]));return y}else{if(typeof HTMLCanvasElement<"u"&&p instanceof HTMLImageElement)return h(p);if(p&&p.nodeName&&p.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&p instanceof SVGElement)return{element:p,options:(0,r.default)(p),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement)return{element:p,options:(0,r.default)(p),renderer:a.default.CanvasRenderer};if(p&&p.getContext)return{element:p,renderer:a.default.CanvasRenderer};if(p&&(typeof p>"u"?"undefined":t(p))==="object"&&!p.nodeName)return{element:p,renderer:a.default.ObjectRenderer};throw new s.InvalidElementException}}function g(p){var y=document.querySelectorAll(p);if(y.length!==0){for(var B=[],T=0;T<y.length;T++)B.push(f(y[T]));return B}}function h(p){var y=document.createElement("canvas");return{element:y,options:(0,r.default)(p),renderer:a.default.CanvasRenderer,afterRender:function(){p.setAttribute("src",y.toDataURL())}}}return P1.default=f,P1}var W1={},N3;function $q(){if(N3)return W1;N3=1,Object.defineProperty(W1,"__esModule",{value:!0});var t=(function(){function n(a,s){for(var l=0;l<s.length;l++){var f=s[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,s,l){return s&&n(a.prototype,s),l&&n(a,l),a}})();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=(function(){function n(a){e(this,n),this.api=a}return t(n,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var l=s.apply(void 0,arguments);return this.api._options.valid(!0),l}catch(f){return this.handleCatch(f),this.api}}}]),n})();return W1.default=r,W1}var u2,R3;function eZ(){if(R3)return u2;R3=1;var t=Gq(),e=P(t),r=_x(),n=P(r),a=Kq(),s=P(a),l=zq(),f=P(l),g=Jq(),h=P(g),p=VF(),y=P(p),B=$q(),T=P(B),S=zF(),F=GF(),D=P(F);function P(k){return k&&k.__esModule?k:{default:k}}var V=function(){},j=function(Z,Y,G){var K=new V;if(typeof Z>"u")throw Error("No element to render on was provided.");return K._renderProperties=(0,h.default)(Z),K._encodings=[],K._options=D.default,K._errorHandler=new T.default(K),typeof Y<"u"&&(G=G||{},G.format||(G.format=O()),K.options(G)[G.format](Y,G).render()),K};j.getModule=function(k){return e.default[k]};for(var re in e.default)e.default.hasOwnProperty(re)&&ge(e.default,re);function ge(k,Z){V.prototype[Z]=V.prototype[Z.toUpperCase()]=V.prototype[Z.toLowerCase()]=function(Y,G){var K=this;return K._errorHandler.wrapBarcodeCall(function(){G.text=typeof G.text>"u"?void 0:""+G.text;var Ie=(0,n.default)(K._options,G);Ie=(0,y.default)(Ie);var xe=k[Z],ie=z(Y,xe,Ie);return K._encodings.push(ie),K})}}function z(k,Z,Y){k=""+k;var G=new Z(k,Y);if(!G.valid())throw new S.InvalidInputException(G.constructor.name,k);var K=G.encode();K=(0,s.default)(K);for(var Ie=0;Ie<K.length;Ie++)K[Ie].options=(0,n.default)(Y,K[Ie].options);return K}function O(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}V.prototype.options=function(k){return this._options=(0,n.default)(this._options,k),this},V.prototype.blank=function(k){var Z=new Array(k+1).join("0");return this._encodings.push({data:Z}),this},V.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var k;for(var Z in this._renderProperties){k=this._renderProperties[Z];var Y=(0,n.default)(this._options,k.options);Y.format=="auto"&&(Y.format=O()),this._errorHandler.wrapBarcodeCall(function(){var G=Y.value,K=e.default[Y.format.toUpperCase()],Ie=z(G,K,Y);M(k,Ie,Y)})}}},V.prototype.render=function(){if(!this._renderProperties)throw new S.NoElementException;if(Array.isArray(this._renderProperties))for(var k=0;k<this._renderProperties.length;k++)M(this._renderProperties[k],this._encodings,this._options);else M(this._renderProperties,this._encodings,this._options);return this},V.prototype._defaults=D.default;function M(k,Z,Y){Z=(0,s.default)(Z);for(var G=0;G<Z.length;G++)Z[G].options=(0,n.default)(Y,Z[G].options),(0,f.default)(Z[G].options);(0,f.default)(Y);var K=k.renderer,Ie=new K(k.element,Z,Y);Ie.render(),k.afterRender&&k.afterRender()}return typeof window<"u"&&(window.JsBarcode=j),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(k,Z){var Y=[];return jQuery(this).each(function(){Y.push(this)}),j(Y,k,Z)}),u2=j,u2}var tZ=eZ();const rZ=Kg(tZ);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function D3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(r),!0).forEach(function(n){sZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WF(t){var e=nZ(t,"string");return typeof e=="symbol"?e:e+""}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function aZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WF(n.key),n)}}function iZ(t,e,r){return e&&O3(t.prototype,e),r&&O3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sZ(t,e,r){return e=WF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YF(t){return AZ(t)||oZ(t)||lZ(t)||cZ()}function AZ(t){if(Array.isArray(t))return mw(t)}function oZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lZ(t,e){if(t){if(typeof t=="string")return mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(t,e)}}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tx=typeof window<"u"&&typeof window.document<"u",CA=Tx?window:{},qv=Tx&&CA.document.documentElement?"ontouchstart"in CA.document.documentElement:!1,Zv=Tx?"PointerEvent"in CA:!1,In="cropper",Jv="all",qF="crop",ZF="move",JF="zoom",Kl="e",zl="w",u0="s",Ko="n",Gu="ne",Ku="nw",zu="se",Xu="sw",ww="".concat(In,"-crop"),k3="".concat(In,"-disabled"),Xi="".concat(In,"-hidden"),U3="".concat(In,"-hide"),uZ="".concat(In,"-invisible"),Gg="".concat(In,"-modal"),vw="".concat(In,"-move"),qf="".concat(In,"Action"),Y1="".concat(In,"Preview"),$v="crop",$F="move",e6="none",yw="crop",Ew="cropend",Bw="cropmove",Cw="cropstart",M3="dblclick",fZ=qv?"touchstart":"mousedown",hZ=qv?"touchmove":"mousemove",dZ=qv?"touchend touchcancel":"mouseup",Q3=Zv?"pointerdown":fZ,L3=Zv?"pointermove":hZ,P3=Zv?"pointerup pointercancel":dZ,j3="ready",H3="resize",V3="wheel",bw="zoom",G3="image/jpeg",gZ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xZ=/^data:/,pZ=/^data:image\/jpeg;base64,/,mZ=/^img|canvas$/i,t6=200,r6=100,K3={viewMode:0,dragMode:$v,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:t6,minContainerHeight:r6,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},wZ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',vZ=Number.isNaN||CA.isNaN;function Br(t){return typeof t=="number"&&!vZ(t)}var z3=function(e){return e>0&&e<1/0};function f2(t){return typeof t>"u"}function gc(t){return pw(t)==="object"&&t!==null}var yZ=Object.prototype.hasOwnProperty;function y0(t){if(!gc(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&yZ.call(r,"isPrototypeOf")}catch{return!1}}function Gi(t){return typeof t=="function"}var EZ=Array.prototype.slice;function n6(t){return Array.from?Array.from(t):EZ.call(t)}function ga(t,e){return t&&Gi(e)&&(Array.isArray(t)||Br(t.length)?n6(t).forEach(function(r,n){e.call(t,r,n,t)}):gc(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}var Nn=Object.assign||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return gc(e)&&n.length>0&&n.forEach(function(s){gc(s)&&Object.keys(s).forEach(function(l){e[l]=s[l]})}),e},BZ=/\.\d*(?:0|9){12}\d*$/;function S0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return BZ.test(t)?Math.round(t*e)/e:t}var CZ=/^width|height|left|top|marginLeft|marginTop$/;function rl(t,e){var r=t.style;ga(e,function(n,a){CZ.test(a)&&Br(n)&&(n="".concat(n,"px")),r[a]=n})}function bZ(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Ia(t,e){if(e){if(Br(t.length)){ga(t,function(n){Ia(n,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function yA(t,e){if(e){if(Br(t.length)){ga(t,function(r){yA(r,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function E0(t,e,r){if(e){if(Br(t.length)){ga(t,function(n){E0(n,e,r)});return}r?Ia(t,e):yA(t,e)}}var _Z=/([a-z\d])([A-Z])/g;function ey(t){return t.replace(_Z,"$1-$2").toLowerCase()}function _w(t,e){return gc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(ey(e)))}function Zf(t,e,r){gc(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(ey(e)),r)}function TZ(t,e){if(gc(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(ey(e)))}var a6=/\s\s*/,i6=(function(){var t=!1;if(Tx){var e=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});CA.addEventListener("test",r,n),CA.removeEventListener("test",r,n)}return t})();function Js(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(a6).forEach(function(s){if(!i6){var l=t.listeners;l&&l[s]&&l[s][r]&&(a=l[s][r],delete l[s][r],Object.keys(l[s]).length===0&&delete l[s],Object.keys(l).length===0&&delete t.listeners)}t.removeEventListener(s,a,n)})}function Os(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(a6).forEach(function(s){if(n.once&&!i6){var l=t.listeners,f=l===void 0?{}:l;a=function(){delete f[s][r],t.removeEventListener(s,a,n);for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];r.apply(t,p)},f[s]||(f[s]={}),f[s][r]&&t.removeEventListener(s,f[s][r],n),f[s][r]=a,t.listeners=f}t.addEventListener(s,a,n)})}function I0(t,e,r){var n;return Gi(Event)&&Gi(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r)),t.dispatchEvent(n)}function s6(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var h2=CA.location,SZ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function X3(t){var e=t.match(SZ);return e!==null&&(e[1]!==h2.protocol||e[2]!==h2.hostname||e[3]!==h2.port)}function W3(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Ff(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,a=t.translateX,s=t.translateY,l=[];Br(a)&&a!==0&&l.push("translateX(".concat(a,"px)")),Br(s)&&s!==0&&l.push("translateY(".concat(s,"px)")),Br(e)&&e!==0&&l.push("rotate(".concat(e,"deg)")),Br(r)&&r!==1&&l.push("scaleX(".concat(r,")")),Br(n)&&n!==1&&l.push("scaleY(".concat(n,")"));var f=l.length?l.join(" "):"none";return{WebkitTransform:f,msTransform:f,transform:f}}function IZ(t){var e=XF({},t),r=0;return ga(t,function(n,a){delete e[a],ga(e,function(s){var l=Math.abs(n.startX-s.startX),f=Math.abs(n.startY-s.startY),g=Math.abs(n.endX-s.endX),h=Math.abs(n.endY-s.endY),p=Math.sqrt(l*l+f*f),y=Math.sqrt(g*g+h*h),B=(y-p)/p;Math.abs(B)>Math.abs(r)&&(r=B)})}),r}function q1(t,e){var r=t.pageX,n=t.pageY,a={endX:r,endY:n};return e?a:XF({startX:r,startY:n},a)}function FZ(t){var e=0,r=0,n=0;return ga(t,function(a){var s=a.startX,l=a.startY;e+=s,r+=l,n+=1}),e/=n,r/=n,{pageX:e,pageY:r}}function nl(t){var e=t.aspectRatio,r=t.height,n=t.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=z3(n),l=z3(r);if(s&&l){var f=r*e;a==="contain"&&f>n||a==="cover"&&f<n?r=n/e:n=r*e}else s?r=n/e:l&&(n=r*e);return{width:n,height:r}}function NZ(t){var e=t.width,r=t.height,n=t.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:e};var a=n%90*Math.PI/180,s=Math.sin(a),l=Math.cos(a),f=e*l+r*s,g=e*s+r*l;return n>90?{width:g,height:f}:{width:f,height:g}}function RZ(t,e,r,n){var a=e.aspectRatio,s=e.naturalWidth,l=e.naturalHeight,f=e.rotate,g=f===void 0?0:f,h=e.scaleX,p=h===void 0?1:h,y=e.scaleY,B=y===void 0?1:y,T=r.aspectRatio,S=r.naturalWidth,F=r.naturalHeight,D=n.fillColor,P=D===void 0?"transparent":D,V=n.imageSmoothingEnabled,j=V===void 0?!0:V,re=n.imageSmoothingQuality,ge=re===void 0?"low":re,z=n.maxWidth,O=z===void 0?1/0:z,M=n.maxHeight,k=M===void 0?1/0:M,Z=n.minWidth,Y=Z===void 0?0:Z,G=n.minHeight,K=G===void 0?0:G,Ie=document.createElement("canvas"),xe=Ie.getContext("2d"),ie=nl({aspectRatio:T,width:O,height:k}),ue=nl({aspectRatio:T,width:Y,height:K},"cover"),Ve=Math.min(ie.width,Math.max(ue.width,S)),Ee=Math.min(ie.height,Math.max(ue.height,F)),$e=nl({aspectRatio:a,width:O,height:k}),Ae=nl({aspectRatio:a,width:Y,height:K},"cover"),q=Math.min($e.width,Math.max(Ae.width,s)),pe=Math.min($e.height,Math.max(Ae.height,l)),se=[-q/2,-pe/2,q,pe];return Ie.width=S0(Ve),Ie.height=S0(Ee),xe.fillStyle=P,xe.fillRect(0,0,Ve,Ee),xe.save(),xe.translate(Ve/2,Ee/2),xe.rotate(g*Math.PI/180),xe.scale(p,B),xe.imageSmoothingEnabled=j,xe.imageSmoothingQuality=ge,xe.drawImage.apply(xe,[t].concat(YF(se.map(function(me){return Math.floor(S0(me))})))),xe.restore(),Ie}var A6=String.fromCharCode;function DZ(t,e,r){var n="";r+=e;for(var a=e;a<r;a+=1)n+=A6(t.getUint8(a));return n}var OZ=/^data:.*,/;function kZ(t){var e=t.replace(OZ,""),r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n);return ga(a,function(s,l){a[l]=r.charCodeAt(l)}),n}function UZ(t,e){for(var r=[],n=8192,a=new Uint8Array(t);a.length>0;)r.push(A6.apply(null,n6(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function MZ(t){var e=new DataView(t),r;try{var n,a,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var l=e.byteLength,f=2;f+1<l;){if(e.getUint8(f)===255&&e.getUint8(f+1)===225){a=f;break}f+=1}if(a){var g=a+4,h=a+10;if(DZ(e,g,4)==="Exif"){var p=e.getUint16(h);if(n=p===18761,(n||p===19789)&&e.getUint16(h+2,n)===42){var y=e.getUint32(h+4,n);y>=8&&(s=h+y)}}}if(s){var B=e.getUint16(s,n),T,S;for(S=0;S<B;S+=1)if(T=s+S*12+2,e.getUint16(T,n)===274){T+=8,r=e.getUint16(T,n),e.setUint16(T,1,n);break}}}catch{r=1}return r}function QZ(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var LZ={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,n=this.container,a=this.cropper,s=Number(r.minContainerWidth),l=Number(r.minContainerHeight);Ia(a,Xi),yA(e,Xi);var f={width:Math.max(n.offsetWidth,s>=0?s:t6),height:Math.max(n.offsetHeight,l>=0?l:r6)};this.containerData=f,rl(a,{width:f.width,height:f.height}),Ia(e,Xi),yA(a,Xi)},initCanvas:function(){var e=this.containerData,r=this.imageData,n=this.options.viewMode,a=Math.abs(r.rotate)%180===90,s=a?r.naturalHeight:r.naturalWidth,l=a?r.naturalWidth:r.naturalHeight,f=s/l,g=e.width,h=e.height;e.height*f>e.width?n===3?g=e.height*f:h=e.width/f:n===3?h=e.width/f:g=e.height*f;var p={aspectRatio:f,naturalWidth:s,naturalHeight:l,width:g,height:h};this.canvasData=p,this.limited=n===1||n===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(e.width-p.width)/2,p.top=(e.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=Nn({},p)},limitCanvas:function(e,r){var n=this.options,a=this.containerData,s=this.canvasData,l=this.cropBoxData,f=n.viewMode,g=s.aspectRatio,h=this.cropped&&l;if(e){var p=Number(n.minCanvasWidth)||0,y=Number(n.minCanvasHeight)||0;f>1?(p=Math.max(p,a.width),y=Math.max(y,a.height),f===3&&(y*g>p?p=y*g:y=p/g)):f>0&&(p?p=Math.max(p,h?l.width:0):y?y=Math.max(y,h?l.height:0):h&&(p=l.width,y=l.height,y*g>p?p=y*g:y=p/g));var B=nl({aspectRatio:g,width:p,height:y});p=B.width,y=B.height,s.minWidth=p,s.minHeight=y,s.maxWidth=1/0,s.maxHeight=1/0}if(r)if(f>(h?0:1)){var T=a.width-s.width,S=a.height-s.height;s.minLeft=Math.min(0,T),s.minTop=Math.min(0,S),s.maxLeft=Math.max(0,T),s.maxTop=Math.max(0,S),h&&this.limited&&(s.minLeft=Math.min(l.left,l.left+(l.width-s.width)),s.minTop=Math.min(l.top,l.top+(l.height-s.height)),s.maxLeft=l.left,s.maxTop=l.top,f===2&&(s.width>=a.width&&(s.minLeft=Math.min(0,T),s.maxLeft=Math.max(0,T)),s.height>=a.height&&(s.minTop=Math.min(0,S),s.maxTop=Math.max(0,S))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=a.width,s.maxTop=a.height},renderCanvas:function(e,r){var n=this.canvasData,a=this.imageData;if(r){var s=NZ({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),l=s.width,f=s.height,g=n.width*(l/n.naturalWidth),h=n.height*(f/n.naturalHeight);n.left-=(g-n.width)/2,n.top-=(h-n.height)/2,n.width=g,n.height=h,n.aspectRatio=l/f,n.naturalWidth=l,n.naturalHeight=f,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,rl(this.canvas,Nn({width:n.width,height:n.height},Ff({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,n=this.imageData,a=n.naturalWidth*(r.width/r.naturalWidth),s=n.naturalHeight*(r.height/r.naturalHeight);Nn(n,{width:a,height:s,left:(r.width-a)/2,top:(r.height-s)/2}),rl(this.image,Nn({width:n.width,height:n.height},Ff(Nn({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,a=Number(e.autoCropArea)||.8,s={width:r.width,height:r.height};n&&(r.height*n>r.width?s.height=s.width/n:s.width=s.height*n),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*a),s.height=Math.max(s.minHeight,s.height*a),s.left=r.left+(r.width-s.width)/2,s.top=r.top+(r.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Nn({},s)},limitCropBox:function(e,r){var n=this.options,a=this.containerData,s=this.canvasData,l=this.cropBoxData,f=this.limited,g=n.aspectRatio;if(e){var h=Number(n.minCropBoxWidth)||0,p=Number(n.minCropBoxHeight)||0,y=f?Math.min(a.width,s.width,s.width+s.left,a.width-s.left):a.width,B=f?Math.min(a.height,s.height,s.height+s.top,a.height-s.top):a.height;h=Math.min(h,a.width),p=Math.min(p,a.height),g&&(h&&p?p*g>h?p=h/g:h=p*g:h?p=h/g:p&&(h=p*g),B*g>y?B=y/g:y=B*g),l.minWidth=Math.min(h,y),l.minHeight=Math.min(p,B),l.maxWidth=y,l.maxHeight=B}r&&(f?(l.minLeft=Math.max(0,s.left),l.minTop=Math.max(0,s.top),l.maxLeft=Math.min(a.width,s.left+s.width)-l.width,l.maxTop=Math.min(a.height,s.top+s.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=a.width-l.width,l.maxTop=a.height-l.height))},renderCropBox:function(){var e=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Zf(this.face,qf,n.width>=r.width&&n.height>=r.height?ZF:Jv),rl(this.cropBox,Nn({width:n.width,height:n.height},Ff({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),I0(this.element,yw,this.getData())}},PZ={initPreview:function(){var e=this.element,r=this.crossOrigin,n=this.options.preview,a=r?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",l=document.createElement("img");if(r&&(l.crossOrigin=r),l.src=a,l.alt=s,this.viewBox.appendChild(l),this.viewBoxImage=l,!!n){var f=n;typeof n=="string"?f=e.ownerDocument.querySelectorAll(n):n.querySelector&&(f=[n]),this.previews=f,ga(f,function(g){var h=document.createElement("img");Zf(g,Y1,{width:g.offsetWidth,height:g.offsetHeight,html:g.innerHTML}),r&&(h.crossOrigin=r),h.src=a,h.alt=s,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',g.innerHTML="",g.appendChild(h)})}},resetPreview:function(){ga(this.previews,function(e){var r=_w(e,Y1);rl(e,{width:r.width,height:r.height}),e.innerHTML=r.html,TZ(e,Y1)})},preview:function(){var e=this.imageData,r=this.canvasData,n=this.cropBoxData,a=n.width,s=n.height,l=e.width,f=e.height,g=n.left-r.left-e.left,h=n.top-r.top-e.top;!this.cropped||this.disabled||(rl(this.viewBoxImage,Nn({width:l,height:f},Ff(Nn({translateX:-g,translateY:-h},e)))),ga(this.previews,function(p){var y=_w(p,Y1),B=y.width,T=y.height,S=B,F=T,D=1;a&&(D=B/a,F=s*D),s&&F>T&&(D=T/s,S=a*D,F=T),rl(p,{width:S,height:F}),rl(p.getElementsByTagName("img")[0],Nn({width:l*D,height:f*D},Ff(Nn({translateX:-g*D,translateY:-h*D},e))))}))}},jZ={bind:function(){var e=this.element,r=this.options,n=this.cropper;Gi(r.cropstart)&&Os(e,Cw,r.cropstart),Gi(r.cropmove)&&Os(e,Bw,r.cropmove),Gi(r.cropend)&&Os(e,Ew,r.cropend),Gi(r.crop)&&Os(e,yw,r.crop),Gi(r.zoom)&&Os(e,bw,r.zoom),Os(n,Q3,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&Os(n,V3,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Os(n,M3,this.onDblclick=this.dblclick.bind(this)),Os(e.ownerDocument,L3,this.onCropMove=this.cropMove.bind(this)),Os(e.ownerDocument,P3,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&Os(window,H3,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,n=this.cropper;Gi(r.cropstart)&&Js(e,Cw,r.cropstart),Gi(r.cropmove)&&Js(e,Bw,r.cropmove),Gi(r.cropend)&&Js(e,Ew,r.cropend),Gi(r.crop)&&Js(e,yw,r.crop),Gi(r.zoom)&&Js(e,bw,r.zoom),Js(n,Q3,this.onCropStart),r.zoomable&&r.zoomOnWheel&&Js(n,V3,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Js(n,M3,this.onDblclick),Js(e.ownerDocument,L3,this.onCropMove),Js(e.ownerDocument,P3,this.onCropEnd),r.responsive&&Js(window,H3,this.onResize)}},HZ={resize:function(){if(!this.disabled){var e=this.options,r=this.container,n=this.containerData,a=r.offsetWidth/n.width,s=r.offsetHeight/n.height,l=Math.abs(a-1)>Math.abs(s-1)?a:s;if(l!==1){var f,g;e.restore&&(f=this.getCanvasData(),g=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ga(f,function(h,p){f[p]=h*l})),this.setCropBoxData(ga(g,function(h,p){g[p]=h*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===e6||this.setDragMode(bZ(this.dragBox,ww)?$F:$v)},wheel:function(e){var r=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?a=e.deltaY>0?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=e.detail>0?1:-1),this.zoom(-a*n,e)))},cropStart:function(e){var r=e.buttons,n=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Br(r)&&r!==1||Br(n)&&n!==0||e.ctrlKey))){var a=this.options,s=this.pointers,l;e.changedTouches?ga(e.changedTouches,function(f){s[f.identifier]=q1(f)}):s[e.pointerId||0]=q1(e),Object.keys(s).length>1&&a.zoomable&&a.zoomOnTouch?l=JF:l=_w(e.target,qf),gZ.test(l)&&I0(this.element,Cw,{originalEvent:e,action:l})!==!1&&(e.preventDefault(),this.action=l,this.cropping=!1,l===qF&&(this.cropping=!0,Ia(this.dragBox,Gg)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;e.preventDefault(),I0(this.element,Bw,{originalEvent:e,action:r})!==!1&&(e.changedTouches?ga(e.changedTouches,function(a){Nn(n[a.identifier]||{},q1(a,!0))}):Nn(n[e.pointerId||0]||{},q1(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,n=this.pointers;e.changedTouches?ga(e.changedTouches,function(a){delete n[a.identifier]}):delete n[e.pointerId||0],r&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,E0(this.dragBox,Gg,this.cropped&&this.options.modal)),I0(this.element,Ew,{originalEvent:e,action:r}))}}},VZ={change:function(e){var r=this.options,n=this.canvasData,a=this.containerData,s=this.cropBoxData,l=this.pointers,f=this.action,g=r.aspectRatio,h=s.left,p=s.top,y=s.width,B=s.height,T=h+y,S=p+B,F=0,D=0,P=a.width,V=a.height,j=!0,re;!g&&e.shiftKey&&(g=y&&B?y/B:1),this.limited&&(F=s.minLeft,D=s.minTop,P=F+Math.min(a.width,n.width,n.left+n.width),V=D+Math.min(a.height,n.height,n.top+n.height));var ge=l[Object.keys(l)[0]],z={x:ge.endX-ge.startX,y:ge.endY-ge.startY},O=function(k){switch(k){case Kl:T+z.x>P&&(z.x=P-T);break;case zl:h+z.x<F&&(z.x=F-h);break;case Ko:p+z.y<D&&(z.y=D-p);break;case u0:S+z.y>V&&(z.y=V-S);break}};switch(f){case Jv:h+=z.x,p+=z.y;break;case Kl:if(z.x>=0&&(T>=P||g&&(p<=D||S>=V))){j=!1;break}O(Kl),y+=z.x,y<0&&(f=zl,y=-y,h-=y),g&&(B=y/g,p+=(s.height-B)/2);break;case Ko:if(z.y<=0&&(p<=D||g&&(h<=F||T>=P))){j=!1;break}O(Ko),B-=z.y,p+=z.y,B<0&&(f=u0,B=-B,p-=B),g&&(y=B*g,h+=(s.width-y)/2);break;case zl:if(z.x<=0&&(h<=F||g&&(p<=D||S>=V))){j=!1;break}O(zl),y-=z.x,h+=z.x,y<0&&(f=Kl,y=-y,h-=y),g&&(B=y/g,p+=(s.height-B)/2);break;case u0:if(z.y>=0&&(S>=V||g&&(h<=F||T>=P))){j=!1;break}O(u0),B+=z.y,B<0&&(f=Ko,B=-B,p-=B),g&&(y=B*g,h+=(s.width-y)/2);break;case Gu:if(g){if(z.y<=0&&(p<=D||T>=P)){j=!1;break}O(Ko),B-=z.y,p+=z.y,y=B*g}else O(Ko),O(Kl),z.x>=0?T<P?y+=z.x:z.y<=0&&p<=D&&(j=!1):y+=z.x,z.y<=0?p>D&&(B-=z.y,p+=z.y):(B-=z.y,p+=z.y);y<0&&B<0?(f=Xu,B=-B,y=-y,p-=B,h-=y):y<0?(f=Ku,y=-y,h-=y):B<0&&(f=zu,B=-B,p-=B);break;case Ku:if(g){if(z.y<=0&&(p<=D||h<=F)){j=!1;break}O(Ko),B-=z.y,p+=z.y,y=B*g,h+=s.width-y}else O(Ko),O(zl),z.x<=0?h>F?(y-=z.x,h+=z.x):z.y<=0&&p<=D&&(j=!1):(y-=z.x,h+=z.x),z.y<=0?p>D&&(B-=z.y,p+=z.y):(B-=z.y,p+=z.y);y<0&&B<0?(f=zu,B=-B,y=-y,p-=B,h-=y):y<0?(f=Gu,y=-y,h-=y):B<0&&(f=Xu,B=-B,p-=B);break;case Xu:if(g){if(z.x<=0&&(h<=F||S>=V)){j=!1;break}O(zl),y-=z.x,h+=z.x,B=y/g}else O(u0),O(zl),z.x<=0?h>F?(y-=z.x,h+=z.x):z.y>=0&&S>=V&&(j=!1):(y-=z.x,h+=z.x),z.y>=0?S<V&&(B+=z.y):B+=z.y;y<0&&B<0?(f=Gu,B=-B,y=-y,p-=B,h-=y):y<0?(f=zu,y=-y,h-=y):B<0&&(f=Ku,B=-B,p-=B);break;case zu:if(g){if(z.x>=0&&(T>=P||S>=V)){j=!1;break}O(Kl),y+=z.x,B=y/g}else O(u0),O(Kl),z.x>=0?T<P?y+=z.x:z.y>=0&&S>=V&&(j=!1):y+=z.x,z.y>=0?S<V&&(B+=z.y):B+=z.y;y<0&&B<0?(f=Ku,B=-B,y=-y,p-=B,h-=y):y<0?(f=Xu,y=-y,h-=y):B<0&&(f=Gu,B=-B,p-=B);break;case ZF:this.move(z.x,z.y),j=!1;break;case JF:this.zoom(IZ(l),e),j=!1;break;case qF:if(!z.x||!z.y){j=!1;break}re=s6(this.cropper),h=ge.startX-re.left,p=ge.startY-re.top,y=s.minWidth,B=s.minHeight,z.x>0?f=z.y>0?zu:Gu:z.x<0&&(h-=y,f=z.y>0?Xu:Ku),z.y<0&&(p-=B),this.cropped||(yA(this.cropBox,Xi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}j&&(s.width=y,s.height=B,s.left=h,s.top=p,this.action=f,this.renderCropBox()),ga(l,function(M){M.startX=M.endX,M.startY=M.endY})}},GZ={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ia(this.dragBox,Gg),yA(this.cropBox,Xi),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Nn({},this.initialImageData),this.canvasData=Nn({},this.initialCanvasData),this.cropBoxData=Nn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Nn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),yA(this.dragBox,Gg),Ia(this.cropBox,Xi)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ga(this.previews,function(n){n.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,yA(this.cropper,k3)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ia(this.cropper,k3)),this},destroy:function(){var e=this.element;return e[In]?(e[In]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=n.left,s=n.top;return this.moveTo(f2(e)?e:a+Number(e),f2(r)?r:s+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(Br(e)&&(n.left=e,a=!0),Br(r)&&(n.top=r,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(e,r){var n=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(n.width*e/n.naturalWidth,null,r)},zoomTo:function(e,r,n){var a=this.options,s=this.canvasData,l=s.width,f=s.height,g=s.naturalWidth,h=s.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&a.zoomable){var p=g*e,y=h*e;if(I0(this.element,bw,{ratio:e,oldRatio:l/g,originalEvent:n})===!1)return this;if(n){var B=this.pointers,T=s6(this.cropper),S=B&&Object.keys(B).length?FZ(B):{pageX:n.pageX,pageY:n.pageY};s.left-=(p-l)*((S.pageX-T.left-s.left)/l),s.top-=(y-f)*((S.pageY-T.top-s.top)/f)}else y0(r)&&Br(r.x)&&Br(r.y)?(s.left-=(p-l)*((r.x-s.left)/l),s.top-=(y-f)*((r.y-s.top)/f)):(s.left-=(p-l)/2,s.top-=(y-f)/2);s.width=p,s.height=y,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Br(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,Br(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(Br(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(Br(e)&&(n.scaleX=e,a=!0),Br(r)&&(n.scaleY=r,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,a=this.canvasData,s=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:s.left-a.left,y:s.top-a.top,width:s.width,height:s.height};var f=n.width/n.naturalWidth;if(ga(l,function(p,y){l[y]=p/f}),e){var g=Math.round(l.y+l.height),h=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=h-l.x,l.height=g-l.y}}else l={x:0,y:0,width:0,height:0};return r.rotatable&&(l.rotate=n.rotate||0),r.scalable&&(l.scaleX=n.scaleX||1,l.scaleY=n.scaleY||1),l},setData:function(e){var r=this.options,n=this.imageData,a=this.canvasData,s={};if(this.ready&&!this.disabled&&y0(e)){var l=!1;r.rotatable&&Br(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,l=!0),r.scalable&&(Br(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,l=!0),Br(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var f=n.width/n.naturalWidth;Br(e.x)&&(s.left=e.x*f+a.left),Br(e.y)&&(s.top=e.y*f+a.top),Br(e.width)&&(s.width=e.width*f),Br(e.height)&&(s.height=e.height*f),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Nn({},this.containerData):{}},getImageData:function(){return this.sized?Nn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&ga(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=e[n]}),r},setCanvasData:function(e){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&y0(e)&&(Br(e.left)&&(r.left=e.left),Br(e.top)&&(r.top=e.top),Br(e.width)?(r.width=e.width,r.height=e.width/n):Br(e.height)&&(r.height=e.height,r.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,n=this.options.aspectRatio,a,s;return this.ready&&this.cropped&&!this.disabled&&y0(e)&&(Br(e.left)&&(r.left=e.left),Br(e.top)&&(r.top=e.top),Br(e.width)&&e.width!==r.width&&(a=!0,r.width=e.width),Br(e.height)&&e.height!==r.height&&(s=!0,r.height=e.height),n&&(a?r.height=r.width/n:s&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=RZ(this.image,this.imageData,r,e);if(!this.cropped)return n;var a=this.getData(e.rounded),s=a.x,l=a.y,f=a.width,g=a.height,h=n.width/Math.floor(r.naturalWidth);h!==1&&(s*=h,l*=h,f*=h,g*=h);var p=f/g,y=nl({aspectRatio:p,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),B=nl({aspectRatio:p,width:e.minWidth||0,height:e.minHeight||0},"cover"),T=nl({aspectRatio:p,width:e.width||(h!==1?n.width:f),height:e.height||(h!==1?n.height:g)}),S=T.width,F=T.height;S=Math.min(y.width,Math.max(B.width,S)),F=Math.min(y.height,Math.max(B.height,F));var D=document.createElement("canvas"),P=D.getContext("2d");D.width=S0(S),D.height=S0(F),P.fillStyle=e.fillColor||"transparent",P.fillRect(0,0,S,F);var V=e.imageSmoothingEnabled,j=V===void 0?!0:V,re=e.imageSmoothingQuality;P.imageSmoothingEnabled=j,re&&(P.imageSmoothingQuality=re);var ge=n.width,z=n.height,O=s,M=l,k,Z,Y,G,K,Ie;O<=-f||O>ge?(O=0,k=0,Y=0,K=0):O<=0?(Y=-O,O=0,k=Math.min(ge,f+O),K=k):O<=ge&&(Y=0,k=Math.min(f,ge-O),K=k),k<=0||M<=-g||M>z?(M=0,Z=0,G=0,Ie=0):M<=0?(G=-M,M=0,Z=Math.min(z,g+M),Ie=Z):M<=z&&(G=0,Z=Math.min(g,z-M),Ie=Z);var xe=[O,M,k,Z];if(K>0&&Ie>0){var ie=S/f;xe.push(Y*ie,G*ie,K*ie,Ie*ie)}return P.drawImage.apply(P,[n].concat(YF(xe.map(function(ue){return Math.floor(S0(ue))})))),D},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!f2(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var s=e===$v,l=r.movable&&e===$F;e=s||l?e:e6,r.dragMode=e,Zf(n,qf,e),E0(n,ww,s),E0(n,vw,l),r.cropBoxMovable||(Zf(a,qf,e),E0(a,ww,s),E0(a,vw,l))}return this}},KZ=CA.Cropper,o6=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(aZ(this,t),!e||!mZ.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Nn({},K3,y0(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return iZ(t,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),a;if(!r[In]){if(r[In]=this,n==="img"){if(this.isImg=!0,a=r.getAttribute("src")||"",this.originalUrl=a,!a)return;a=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(a=r.toDataURL());this.load(a)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var a=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(xZ.test(r)){pZ.test(r)?this.read(kZ(r)):this.clone();return}var l=new XMLHttpRequest,f=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=f,l.onerror=f,l.ontimeout=f,l.onprogress=function(){l.getResponseHeader("content-type")!==G3&&l.abort()},l.onload=function(){n.read(l.response)},l.onloadend=function(){n.reloading=!1,n.xhr=null},s.checkCrossOrigin&&X3(r)&&a.crossOrigin&&(r=W3(r)),l.open("GET",r,!0),l.responseType="arraybuffer",l.withCredentials=a.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(r){var n=this.options,a=this.imageData,s=MZ(r),l=0,f=1,g=1;if(s>1){this.url=UZ(r,G3);var h=QZ(s);l=h.rotate,f=h.scaleX,g=h.scaleY}n.rotatable&&(a.rotate=l),n.scalable&&(a.scaleX=f,a.scaleY=g),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,a=r.crossOrigin,s=n;this.options.checkCrossOrigin&&X3(n)&&(a||(a="anonymous"),s=W3(n)),this.crossOrigin=a,this.crossOriginUrl=s;var l=document.createElement("img");a&&(l.crossOrigin=a),l.src=s||n,l.alt=r.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),Ia(l,U3),r.parentNode.insertBefore(l,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=CA.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(CA.navigator.userAgent),s=function(h,p){Nn(r.imageData,{naturalWidth:h,naturalHeight:p,aspectRatio:h/p}),r.initialImageData=Nn({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!a){s(n.naturalWidth,n.naturalHeight);return}var l=document.createElement("img"),f=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){s(l.width,l.height),a||f.removeChild(l)},l.src=n.src,a||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",f.appendChild(l))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,a=this.image,s=r.parentNode,l=document.createElement("div");l.innerHTML=wZ;var f=l.querySelector(".".concat(In,"-container")),g=f.querySelector(".".concat(In,"-canvas")),h=f.querySelector(".".concat(In,"-drag-box")),p=f.querySelector(".".concat(In,"-crop-box")),y=p.querySelector(".".concat(In,"-face"));this.container=s,this.cropper=f,this.canvas=g,this.dragBox=h,this.cropBox=p,this.viewBox=f.querySelector(".".concat(In,"-view-box")),this.face=y,g.appendChild(a),Ia(r,Xi),s.insertBefore(f,r.nextSibling),yA(a,U3),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,Ia(p,Xi),n.guides||Ia(p.getElementsByClassName("".concat(In,"-dashed")),Xi),n.center||Ia(p.getElementsByClassName("".concat(In,"-center")),Xi),n.background&&Ia(f,"".concat(In,"-bg")),n.highlight||Ia(y,uZ),n.cropBoxMovable&&(Ia(y,vw),Zf(y,qf,Jv)),n.cropBoxResizable||(Ia(p.getElementsByClassName("".concat(In,"-line")),Xi),Ia(p.getElementsByClassName("".concat(In,"-point")),Xi)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),Gi(n.ready)&&Os(r,j3,n.ready,{once:!0}),I0(r,j3)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),yA(this.element,Xi)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=KZ,t}},{key:"setDefaults",value:function(r){Nn(K3,y0(r)&&r)}}])})();Nn(o6.prototype,LZ,PZ,jZ,HZ,VZ,GZ);window.JsBarcode=rZ;window.Cropper=o6;const l6=document.getElementById("root");if(!l6)throw new Error("Could not find root element to mount to");const zZ=LN.createRoot(l6);zZ.render(x.jsx(NN.StrictMode,{children:x.jsx(xq,{})}));
